import{c as e,g as t,a as n}from"./parser.0f32b843.js";var r,i,o={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */r=o,i=o.exports,function(){var t,n="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",s=16,c=32,u=64,l=128,f=256,d=1/0,p=9007199254740991,h=NaN,g=4294967295,m=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",u],["rearg",f]],v="[object Arguments]",y="[object Array]",_="[object Boolean]",R="[object Date]",T="[object Error]",E="[object Function]",b="[object GeneratorFunction]",O="[object Map]",k="[object Number]",P="[object Object]",C="[object Promise]",S="[object RegExp]",N="[object Set]",x="[object String]",w="[object Symbol]",A="[object WeakMap]",I="[object ArrayBuffer]",D="[object DataView]",L="[object Float32Array]",M="[object Float64Array]",q="[object Int8Array]",F="[object Int16Array]",j="[object Int32Array]",W="[object Uint8Array]",U="[object Uint8ClampedArray]",z="[object Uint16Array]",B="[object Uint32Array]",H=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Y=RegExp(G.source),X=RegExp($.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),oe=/^\s+/,ae=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,Re=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Te=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oe="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['’]",xe="[\\ud800-\\udfff]",we="["+Se+"]",Ae="["+be+"]",Ie="\\d+",De="[\\u2700-\\u27bf]",Le="["+ke+"]",Me="[^\\ud800-\\udfff"+Se+Ie+Oe+ke+Pe+"]",qe="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Pe+"]",ze="(?:"+Le+"|"+Me+")",Be="(?:"+Ue+"|"+Me+")",He="(?:['’](?:d|ll|m|re|s|t|ve))?",Ke="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Ae+"|"+qe+")?",Ge="[\\ufe0e\\ufe0f]?",$e=Ge+Ve+"(?:\\u200d(?:"+[Fe,je,We].join("|")+")"+Ge+Ve+")*",Ye="(?:"+[De,je,We].join("|")+")"+$e,Xe="(?:"+[Fe+Ae+"?",Ae,je,We,xe].join("|")+")",Je=RegExp(Ne,"g"),Ze=RegExp(Ae,"g"),Qe=RegExp(qe+"(?="+qe+")|"+Xe+$e,"g"),et=RegExp([Ue+"?"+Le+"+"+He+"(?="+[we,Ue,"$"].join("|")+")",Be+"+"+Ke+"(?="+[we,Ue+ze,"$"].join("|")+")",Ue+"?"+ze+"+"+He,Ue+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ye].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+be+Ce+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,ot={};ot[L]=ot[M]=ot[q]=ot[F]=ot[j]=ot[W]=ot[U]=ot[z]=ot[B]=!0,ot[v]=ot[y]=ot[I]=ot[_]=ot[D]=ot[R]=ot[T]=ot[E]=ot[O]=ot[k]=ot[P]=ot[S]=ot[N]=ot[x]=ot[A]=!1;var at={};at[v]=at[y]=at[I]=at[D]=at[_]=at[R]=at[L]=at[M]=at[q]=at[F]=at[j]=at[O]=at[k]=at[P]=at[S]=at[N]=at[x]=at[w]=at[W]=at[U]=at[z]=at[B]=!0,at[T]=at[E]=at[A]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,ut=parseInt,lt="object"==typeof e&&e&&e.Object===Object&&e,ft="object"==typeof self&&self&&self.Object===Object&&self,dt=lt||ft||Function("return this")(),pt=i&&!i.nodeType&&i,ht=pt&&r&&!r.nodeType&&r,gt=ht&&ht.exports===pt,mt=gt&&lt.process,vt=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),yt=vt&&vt.isArrayBuffer,_t=vt&&vt.isDate,Rt=vt&&vt.isMap,Tt=vt&&vt.isRegExp,Et=vt&&vt.isSet,bt=vt&&vt.isTypedArray;function Ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function xt(e,t){return!(null==e||!e.length)&&Wt(e,t,0)>-1}function wt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var qt=Ht("length");function Ft(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Wt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,zt,n)}function Ut(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function zt(e){return e!=e}function Bt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:h}function Ht(e){return function(n){return null==n?t:n[e]}}function Kt(e){return function(n){return null==e?t:e[n]}}function Vt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Gt(e,n){for(var r,i=-1,o=e.length;++i<o;){var a=n(e[i]);a!==t&&(r=r===t?a:r+a)}return r}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,pn(e)+1).replace(oe,""):e}function Xt(e){return function(t){return e(t)}}function Jt(e,t){return At(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var nn=Kt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rn=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function an(e){return tt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){return an(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):qt(e)}function dn(e){return an(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var hn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(r){var i,ae=(r=null==r?dt:gn.defaults(dt.Object(),r,gn.pick(dt,rt))).Array,be=r.Date,Oe=r.Error,ke=r.Function,Pe=r.Math,Ce=r.Object,Se=r.RegExp,Ne=r.String,xe=r.TypeError,we=ae.prototype,Ae=ke.prototype,Ie=Ce.prototype,De=r["__core-js_shared__"],Le=Ae.toString,Me=Ie.hasOwnProperty,qe=0,Fe=(i=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",je=Ie.toString,We=Le.call(Ce),Ue=dt._,ze=Se("^"+Le.call(Me).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=gt?r.Buffer:t,He=r.Symbol,Ke=r.Uint8Array,Ve=Be?Be.allocUnsafe:t,Ge=cn(Ce.getPrototypeOf,Ce),$e=Ce.create,Ye=Ie.propertyIsEnumerable,Xe=we.splice,Qe=He?He.isConcatSpreadable:t,tt=He?He.iterator:t,st=He?He.toStringTag:t,lt=function(){try{var e=po(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),ft=r.clearTimeout!==dt.clearTimeout&&r.clearTimeout,pt=be&&be.now!==dt.Date.now&&be.now,ht=r.setTimeout!==dt.setTimeout&&r.setTimeout,mt=Pe.ceil,vt=Pe.floor,qt=Ce.getOwnPropertySymbols,Kt=Be?Be.isBuffer:t,mn=r.isFinite,vn=we.join,yn=cn(Ce.keys,Ce),_n=Pe.max,Rn=Pe.min,Tn=be.now,En=r.parseInt,bn=Pe.random,On=we.reverse,kn=po(r,"DataView"),Pn=po(r,"Map"),Cn=po(r,"Promise"),Sn=po(r,"Set"),Nn=po(r,"WeakMap"),xn=po(Ce,"create"),wn=Nn&&new Nn,An={},In=Bo(kn),Dn=Bo(Pn),Ln=Bo(Cn),Mn=Bo(Sn),qn=Bo(Nn),Fn=He?He.prototype:t,jn=Fn?Fn.valueOf:t,Wn=Fn?Fn.toString:t;function Un(e){if(as(e)&&!Ya(e)&&!(e instanceof Kn)){if(e instanceof Hn)return e;if(Me.call(e,"__wrapped__"))return Ho(e)}return new Hn(e)}var zn=function(){function e(){}return function(n){if(!os(n))return{};if($e)return $e(n);e.prototype=n;var r=new e;return e.prototype=t,r}}();function Bn(){}function Hn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $n;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Jn(e,t){var n=Ya(e),r=!n&&$a(e),i=!n&&!r&&Qa(e),o=!n&&!r&&!i&&hs(e),a=n||r||i||o,s=a?$t(e.length,Ne):[],c=s.length;for(var u in e)!t&&!Me.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ro(u,c))||s.push(u);return s}function Zn(e){var n=e.length;return n?e[Yr(0,n-1)]:t}function Qn(e,t){return qo(xi(e),cr(t,0,e.length))}function er(e){return qo(xi(e))}function tr(e,n,r){(r!==t&&!Ka(e[n],r)||r===t&&!(n in e))&&ar(e,n,r)}function nr(e,n,r){var i=e[n];Me.call(e,n)&&Ka(i,r)&&(r!==t||n in e)||ar(e,n,r)}function rr(e,t){for(var n=e.length;n--;)if(Ka(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&wi(t,Ms(t),e)}function ar(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,n){for(var r=-1,i=n.length,o=ae(i),a=null==e;++r<i;)o[r]=a?t:ws(e,n[r]);return o}function cr(e,n,r){return e==e&&(r!==t&&(e=e<=r?e:r),n!==t&&(e=e>=n?e:n)),e}function ur(e,n,r,i,o,a){var s,c=1&n,u=2&n,l=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),s!==t)return s;if(!os(e))return e;var f=Ya(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return xi(e,s)}else{var d=mo(e),p=d==E||d==b;if(Qa(e))return Oi(e,c);if(d==P||d==v||p&&!o){if(s=u||p?{}:yo(e),!c)return u?function(e,t){return wi(e,go(e),t)}(e,function(e,t){return e&&wi(t,qs(t),e)}(s,e)):function(e,t){return wi(e,ho(e),t)}(e,or(s,e))}else{if(!at[d])return o?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case I:return ki(e);case _:case R:return new i(+e);case D:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case M:case q:case F:case j:case W:case U:case z:case B:return Pi(e,n);case O:return new i;case k:case x:return new i(e);case S:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new i;case w:return r=e,jn?Ce(jn.call(r)):{}}}(e,d,c)}}a||(a=new Xn);var h=a.get(e);if(h)return h;a.set(e,s),fs(e)?e.forEach((function(t){s.add(ur(t,n,r,t,e,a))})):ss(e)&&e.forEach((function(t,i){s.set(i,ur(t,n,r,i,e,a))}));var g=f?t:(l?u?oo:io:u?qs:Ms)(e);return Pt(g||e,(function(t,i){g&&(t=e[i=t]),nr(s,i,ur(t,n,r,i,e,a))})),s}function lr(e,n,r){var i=r.length;if(null==e)return!i;for(e=Ce(e);i--;){var o=r[i],a=n[o],s=e[o];if(s===t&&!(o in e)||!a(s))return!1}return!0}function fr(e,r,i){if("function"!=typeof e)throw new xe(n);return Io((function(){e.apply(t,i)}),r)}function dr(e,t,n,r){var i=-1,o=xt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=At(t,Xt(n))),r?(o=wt,a=!1):t.length>=200&&(o=Zt,a=!1,t=new Yn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=u;d--;)if(t[d]===f)continue e;c.push(l)}else o(t,f,r)||c.push(l)}return c}Un.templateSettings={escape:J,evaluate:Z,interpolate:Q,variable:"",imports:{_:Un}},Un.prototype=Bn.prototype,Un.prototype.constructor=Un,Hn.prototype=zn(Bn.prototype),Hn.prototype.constructor=Hn,Kn.prototype=zn(Bn.prototype),Kn.prototype.constructor=Kn,Vn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var n=this.__data__;if(xn){var r=n[e];return r===o?t:r}return Me.call(n,e)?n[e]:t},Vn.prototype.has=function(e){var n=this.__data__;return xn?n[e]!==t:Me.call(n,e)},Vn.prototype.set=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=xn&&n===t?o:n,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0||(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,0))},Gn.prototype.get=function(e){var n=this.__data__,r=rr(n,e);return r<0?t:n[r][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Pn||Gn),string:new Vn}},$n.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},$n.prototype.get=function(e){return lo(this,e).get(e)},$n.prototype.has=function(e){return lo(this,e).has(e)},$n.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,o),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(e,t),this.size=n.size,this};var pr=Di(Tr),hr=Di(Er,!0);function gr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,n,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=n(a);if(null!=s&&(c===t?s==s&&!ps(s):r(s,c)))var c=s,u=a}return u}function vr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=_o),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):It(i,s):r||(i[i.length]=s)}return i}var _r=Li(),Rr=Li(!0);function Tr(e,t){return e&&_r(e,t,Ms)}function Er(e,t){return e&&Rr(e,t,Ms)}function br(e,t){return Nt(t,(function(t){return ns(e[t])}))}function Or(e,n){for(var r=0,i=(n=Ri(n,e)).length;null!=e&&r<i;)e=e[zo(n[r++])];return r&&r==i?e:t}function kr(e,t,n){var r=t(e);return Ya(e)?r:It(r,n(e))}function Pr(e){return null==e?e===t?"[object Undefined]":"[object Null]":st&&st in Ce(e)?function(e){var n=Me.call(e,st),r=e[st];try{e[st]=t;var i=!0}catch(a){}var o=je.call(e);return i&&(n?e[st]=r:delete e[st]),o}(e):function(e){return je.call(e)}(e)}function Cr(e,t){return e>t}function Sr(e,t){return null!=e&&Me.call(e,t)}function Nr(e,t){return null!=e&&t in Ce(e)}function xr(e,n,r){for(var i=r?wt:xt,o=e[0].length,a=e.length,s=a,c=ae(a),u=1/0,l=[];s--;){var f=e[s];s&&n&&(f=At(f,Xt(n))),u=Rn(f.length,u),c[s]=!r&&(n||o>=120&&f.length>=120)?new Yn(s&&f):t}f=e[0];var d=-1,p=c[0];e:for(;++d<o&&l.length<u;){var h=f[d],g=n?n(h):h;if(h=r||0!==h?h:0,!(p?Zt(p,g):i(l,g,r))){for(s=a;--s;){var m=c[s];if(!(m?Zt(m,g):i(e[s],g,r)))continue e}p&&p.push(g),l.push(h)}}return l}function wr(e,n,r){var i=null==(e=No(e,n=Ri(n,e)))?e:e[zo(ta(n))];return null==i?t:Ot(i,e,r)}function Ar(e){return as(e)&&Pr(e)==v}function Ir(e,n,r,i,o){return e===n||(null==e||null==n||!as(e)&&!as(n)?e!=e&&n!=n:function(e,n,r,i,o,a){var s=Ya(e),c=Ya(n),u=s?y:mo(e),l=c?y:mo(n),f=(u=u==v?P:u)==P,d=(l=l==v?P:l)==P,p=u==l;if(p&&Qa(e)){if(!Qa(n))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Xn),s||hs(e)?no(e,n,r,i,o,a):function(e,t,n,r,i,o,a){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new Ke(e),new Ke(t)));case _:case R:case k:return Ka(+e,+t);case T:return e.name==t.name&&e.message==t.message;case S:case x:return e==t+"";case O:var s=sn;case N:var c=1&r;if(s||(s=ln),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=no(s(e),s(t),r,i,o,a);return a.delete(e),l;case w:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,n,u,r,i,o,a);if(!(1&r)){var h=f&&Me.call(e,"__wrapped__"),g=d&&Me.call(n,"__wrapped__");if(h||g){var m=h?e.value():e,E=g?n.value():n;return a||(a=new Xn),o(m,E,r,i,a)}}return!!p&&(a||(a=new Xn),function(e,n,r,i,o,a){var s=1&r,c=io(e),u=c.length,l=io(n).length;if(u!=l&&!s)return!1;for(var f=u;f--;){var d=c[f];if(!(s?d in n:Me.call(n,d)))return!1}var p=a.get(e),h=a.get(n);if(p&&h)return p==n&&h==e;var g=!0;a.set(e,n),a.set(n,e);for(var m=s;++f<u;){var v=e[d=c[f]],y=n[d];if(i)var _=s?i(y,v,d,n,e,a):i(v,y,d,e,n,a);if(!(_===t?v===y||o(v,y,r,i,a):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var R=e.constructor,T=n.constructor;R==T||!("constructor"in e)||!("constructor"in n)||"function"==typeof R&&R instanceof R&&"function"==typeof T&&T instanceof T||(g=!1)}return a.delete(e),a.delete(n),g}(e,n,r,i,o,a))}(e,n,r,i,Ir,o))}function Dr(e,n,r,i){var o=r.length,a=o,s=!i;if(null==e)return!a;for(e=Ce(e);o--;){var c=r[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=r[o])[0],l=e[u],f=c[1];if(s&&c[2]){if(l===t&&!(u in e))return!1}else{var d=new Xn;if(i)var p=i(l,f,u,e,n,d);if(!(p===t?Ir(f,l,3,i,d):p))return!1}}return!0}function Lr(e){return!(!os(e)||(t=e,Fe&&Fe in t))&&(ns(e)?ze:ve).test(Bo(e));var t}function Mr(e){return"function"==typeof e?e:null==e?cc:"object"==typeof e?Ya(e)?zr(e[0],e[1]):Ur(e):vc(e)}function qr(e){if(!ko(e))return yn(e);var t=[];for(var n in Ce(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!os(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=ko(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Wr(e,t){var n=-1,r=Ja(e)?ae(e.length):[];return pr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Ur(e){var t=fo(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function zr(e,n){return Eo(e)&&Po(n)?Co(zo(e),n):function(r){var i=ws(r,e);return i===t&&i===n?As(r,e):Ir(n,i,3)}}function Br(e,n,r,i,o){e!==n&&_r(n,(function(a,s){if(o||(o=new Xn),os(a))!function(e,n,r,i,o,a,s){var c=wo(e,r),u=wo(n,r),l=s.get(u);if(l)tr(e,r,l);else{var f=a?a(c,u,r+"",e,n,s):t,d=f===t;if(d){var p=Ya(u),h=!p&&Qa(u),g=!p&&!h&&hs(u);f=u,p||h||g?Ya(c)?f=c:Za(c)?f=xi(c):h?(d=!1,f=Oi(u,!0)):g?(d=!1,f=Pi(u,!0)):f=[]:us(u)||$a(u)?(f=c,$a(c)?f=Es(c):os(c)&&!ns(c)||(f=yo(u))):d=!1}d&&(s.set(u,f),o(f,u,i,a,s),s.delete(u)),tr(e,r,f)}}(e,n,s,r,Br,i,o);else{var c=i?i(wo(e,s),a,s+"",e,n,o):t;c===t&&(c=a),tr(e,s,c)}}),qs)}function Hr(e,n){var r=e.length;if(r)return Ro(n+=n<0?r:0,r)?e[n]:t}function Kr(e,t,n){t=t.length?At(t,(function(e){return Ya(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[cc];var r=-1;return t=At(t,Xt(uo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Wr(e,(function(e,n,i){return{criteria:At(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=Ci(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Or(e,a);n(s,a)&&ei(o,Ri(a,e),s)}return o}function Gr(e,t,n,r){var i=r?Ut:Wt,o=-1,a=t.length,s=e;for(e===t&&(t=xi(t)),n&&(s=At(e,Xt(n)));++o<a;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(s,l,c,r))>-1;)s!==e&&Xe.call(s,c,1),Xe.call(e,c,1);return e}function $r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Ro(i)?Xe.call(e,i,1):di(e,i)}}return e}function Yr(e,t){return e+vt(bn()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Do(So(e,t,cc),e+"")}function Zr(e){return Zn(Ks(e))}function Qr(e,t){var n=Ks(e);return qo(n,cr(t,0,n.length))}function ei(e,n,r,i){if(!os(e))return e;for(var o=-1,a=(n=Ri(n,e)).length,s=a-1,c=e;null!=c&&++o<a;){var u=zo(n[o]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var f=c[u];(l=i?i(f,u,c):t)===t&&(l=os(f)?f:Ro(n[o+1])?[]:{})}nr(c,u,l),c=c[u]}return e}var ti=wn?function(e,t){return wn.set(e,t),e}:cc,ni=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:oc(t),writable:!0})}:cc;function ri(e){return qo(Ks(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=ae(i);++r<i;)o[r]=e[r+t];return o}function oi(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ps(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,cc,n)}function si(e,n,r,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(n=r(n))!=n,c=null===n,u=ps(n),l=n===t;o<a;){var f=vt((o+a)/2),d=r(e[f]),p=d!==t,h=null===d,g=d==d,m=ps(d);if(s)var v=i||g;else v=l?g&&(i||p):c?g&&p&&(i||!h):u?g&&p&&!h&&(i||!m):!h&&!m&&(i?d<=n:d<n);v?o=f+1:a=f}return Rn(a,4294967294)}function ci(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ka(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:ps(e)?h:+e}function li(e){if("string"==typeof e)return e;if(Ya(e))return At(e,li)+"";if(ps(e))return Wn?Wn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=xt,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=wt;else if(o>=200){var u=t?null:Xi(e);if(u)return ln(u);a=!1,i=Zt,c=new Yn}else c=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),s.push(l)}else i(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function di(e,t){return null==(e=No(e,t=Ri(t,e)))||delete e[zo(ta(t))]}function pi(e,t,n,r){return ei(e,t,n(Or(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Kn&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function mi(e,t,n){var r=e.length;if(r<2)return r?fi(e[0]):[];for(var i=-1,o=ae(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=dr(o[i]||a,e[s],t,n));return fi(yr(o,1),t,n)}function vi(e,n,r){for(var i=-1,o=e.length,a=n.length,s={};++i<o;){var c=i<a?n[i]:t;r(s,e[i],c)}return s}function yi(e){return Za(e)?e:[]}function _i(e){return"function"==typeof e?e:cc}function Ri(e,t){return Ya(e)?e:Eo(e,t)?[e]:Uo(bs(e))}var Ti=Jr;function Ei(e,n,r){var i=e.length;return r=r===t?i:r,!n&&r>=i?e:ii(e,n,r)}var bi=ft||function(e){return dt.clearTimeout(e)};function Oi(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Pi(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,n){if(e!==n){var r=e!==t,i=null===e,o=e==e,a=ps(e),s=n!==t,c=null===n,u=n==n,l=ps(n);if(!c&&!l&&!a&&e>n||a&&s&&u&&!c&&!l||i&&s&&u||!r&&u||!o)return 1;if(!i&&!a&&!l&&e<n||l&&r&&o&&!i&&!a||c&&r&&o||!s&&o||!u)return-1}return 0}function Si(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=_n(o-a,0),l=ae(c+u),f=!r;++s<c;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l}function Ni(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,l=_n(o-s,0),f=ae(l+u),d=!r;++i<l;)f[i]=e[i];for(var p=i;++c<u;)f[p+c]=t[c];for(;++a<s;)(d||i<o)&&(f[p+n[a]]=e[i++]);return f}function xi(e,t){var n=-1,r=e.length;for(t||(t=ae(r));++n<r;)t[n]=e[n];return t}function wi(e,n,r,i){var o=!r;r||(r={});for(var a=-1,s=n.length;++a<s;){var c=n[a],u=i?i(r[c],e[c],c,r,e):t;u===t&&(u=e[c]),o?ar(r,c,u):nr(r,c,u)}return r}function Ai(e,t){return function(n,r){var i=Ya(n)?kt:ir,o=t?t():{};return i(n,e,uo(r,2),o)}}function Ii(e){return Jr((function(n,r){var i=-1,o=r.length,a=o>1?r[o-1]:t,s=o>2?r[2]:t;for(a=e.length>3&&"function"==typeof a?(o--,a):t,s&&To(r[0],r[1],s)&&(a=o<3?t:a,o=1),n=Ce(n);++i<o;){var c=r[i];c&&e(n,c,i,a)}return n}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Ja(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ce(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Ce(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function Mi(e){return function(n){var r=an(n=bs(n))?dn(n):t,i=r?r[0]:n.charAt(0),o=r?Ei(r,1).join(""):n.slice(1);return i[e]()+o}}function qi(e){return function(t){return Dt(nc($s(t).replace(Je,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return os(r)?r:n}}function ji(e){return function(n,r,i){var o=Ce(n);if(!Ja(n)){var a=uo(r,3);n=Ms(n),r=function(e){return a(o[e],e,o)}}var s=e(n,r,i);return s>-1?o[a?n[s]:s]:t}}function Wi(e){return ro((function(r){var i=r.length,o=i,a=Hn.prototype.thru;for(e&&r.reverse();o--;){var s=r[o];if("function"!=typeof s)throw new xe(n);if(a&&!c&&"wrapper"==so(s))var c=new Hn([],!0)}for(o=c?o:i;++o<i;){var u=so(s=r[o]),l="wrapper"==u?ao(s):t;c=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[so(l[0])].apply(c,l[3]):1==s.length&&bo(s)?c[u]():c.thru(s)}return function(){var e=arguments,t=e[0];if(c&&1==e.length&&Ya(t))return c.plant(t).value();for(var n=0,o=i?r[n].apply(this,e):t;++n<i;)o=r[n].call(this,o);return o}}))}function Ui(e,n,r,i,o,a,s,c,u,f){var d=n&l,p=1&n,h=2&n,g=24&n,m=512&n,v=h?t:Fi(e);return function t(){for(var l=arguments.length,y=ae(l),_=l;_--;)y[_]=arguments[_];if(g)var R=co(t),T=tn(y,R);if(i&&(y=Si(y,i,o,g)),a&&(y=Ni(y,a,s,g)),l-=T,g&&l<f){var E=un(y,R);return $i(e,n,Ui,t.placeholder,r,y,E,c,u,f-l)}var b=p?r:this,O=h?b[e]:e;return l=y.length,c?y=xo(y,c):m&&l>1&&y.reverse(),d&&u<l&&(y.length=u),this&&this!==dt&&this instanceof t&&(O=v||Fi(O)),O.apply(b,y)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return Tr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Bi(e,n){return function(r,i){var o;if(r===t&&i===t)return n;if(r!==t&&(o=r),i!==t){if(o===t)return i;"string"==typeof r||"string"==typeof i?(r=li(r),i=li(i)):(r=ui(r),i=ui(i)),o=e(r,i)}return o}}function Hi(e){return ro((function(t){return t=At(t,Xt(uo())),Jr((function(n){var r=this;return e(t,(function(e){return Ot(e,r,n)}))}))}))}function Ki(e,n){var r=(n=n===t?" ":li(n)).length;if(r<2)return r?Xr(n,e):n;var i=Xr(n,mt(e/fn(n)));return an(n)?Ei(dn(i),0,e).join(""):i.slice(0,e)}function Vi(e){return function(n,r,i){return i&&"number"!=typeof i&&To(n,r,i)&&(r=i=t),n=ys(n),r===t?(r=n,n=0):r=ys(r),function(e,t,n,r){for(var i=-1,o=_n(mt((t-e)/(n||1)),0),a=ae(o);o--;)a[r?o:++i]=e,e+=n;return a}(n,r,i=i===t?n<r?1:-1:ys(i),e)}}function Gi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ts(t),n=Ts(n)),e(t,n)}}function $i(e,n,r,i,o,a,s,l,f,d){var p=8&n;n|=p?c:u,4&(n&=~(p?u:c))||(n&=-4);var h=[e,n,o,p?a:t,p?s:t,p?t:a,p?t:s,l,f,d],g=r.apply(t,h);return bo(e)&&Ao(g,h),g.placeholder=i,Lo(g,e,n)}function Yi(e){var t=Pe[e];return function(e,n){if(e=Ts(e),(n=null==n?0:Rn(_s(n),292))&&mn(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xi=Sn&&1/ln(new Sn([,-0]))[1]==d?function(e){return new Sn(e)}:pc;function Ji(e){return function(t){var n=mo(t);return n==O?sn(t):n==N?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return At(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,r,i,o,d,p,h,g){var m=2&r;if(!m&&"function"!=typeof e)throw new xe(n);var v=o?o.length:0;if(v||(r&=-97,o=d=t),h=h===t?h:_n(_s(h),0),g=g===t?g:_s(g),v-=d?d.length:0,r&u){var y=o,_=d;o=d=t}var R=m?t:ao(e),T=[e,r,i,o,d,y,_,p,h,g];if(R&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==l&&8==n||r==l&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Si(u,c,t[4]):c,e[4]=u?un(e[3],a):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ni(u,c,t[6]):c,e[6]=u?un(e[5],a):t[6]),(c=t[7])&&(e[7]=c),r&l&&(e[8]=null==e[8]?t[8]:Rn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(T,R),e=T[0],r=T[1],i=T[2],o=T[3],d=T[4],!(g=T[9]=T[9]===t?m?0:e.length:_n(T[9]-v,0))&&24&r&&(r&=-25),r&&1!=r)E=8==r||r==s?function(e,n,r){var i=Fi(e);return function o(){for(var a=arguments.length,s=ae(a),c=a,u=co(o);c--;)s[c]=arguments[c];var l=a<3&&s[0]!==u&&s[a-1]!==u?[]:un(s,u);return(a-=l.length)<r?$i(e,n,Ui,o.placeholder,t,s,l,t,t,r-a):Ot(this&&this!==dt&&this instanceof o?i:e,this,s)}}(e,r,g):r!=c&&33!=r||d.length?Ui.apply(t,T):function(e,t,n,r){var i=1&t,o=Fi(e);return function t(){for(var a=-1,s=arguments.length,c=-1,u=r.length,l=ae(u+s),f=this&&this!==dt&&this instanceof t?o:e;++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++a];return Ot(f,i?n:this,l)}}(e,r,i,o);else var E=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,r,i);return Lo((R?ti:Ao)(E,T),e,r)}function Qi(e,n,r,i){return e===t||Ka(e,Ie[r])&&!Me.call(i,r)?n:e}function eo(e,n,r,i,o,a){return os(e)&&os(n)&&(a.set(n,e),Br(e,n,t,eo,a),a.delete(n)),e}function to(e){return us(e)?t:e}function no(e,n,r,i,o,a){var s=1&r,c=e.length,u=n.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),f=a.get(n);if(l&&f)return l==n&&f==e;var d=-1,p=!0,h=2&r?new Yn:t;for(a.set(e,n),a.set(n,e);++d<c;){var g=e[d],m=n[d];if(i)var v=s?i(m,g,d,n,e,a):i(g,m,d,e,n,a);if(v!==t){if(v)continue;p=!1;break}if(h){if(!Mt(n,(function(e,t){if(!Zt(h,t)&&(g===e||o(g,e,r,i,a)))return h.push(t)}))){p=!1;break}}else if(g!==m&&!o(g,m,r,i,a)){p=!1;break}}return a.delete(e),a.delete(n),p}function ro(e){return Do(So(e,t,Xo),e+"")}function io(e){return kr(e,Ms,ho)}function oo(e){return kr(e,qs,go)}var ao=wn?function(e){return wn.get(e)}:pc;function so(e){for(var t=e.name+"",n=An[t],r=Me.call(An,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function co(e){return(Me.call(Un,"placeholder")?Un:e).placeholder}function uo(){var e=Un.iteratee||uc;return e=e===uc?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fo(e){for(var t=Ms(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Po(i)]}return t}function po(e,n){var r=function(e,n){return null==e?t:e[n]}(e,n);return Lr(r)?r:t}var ho=qt?function(e){return null==e?[]:(e=Ce(e),Nt(qt(e),(function(t){return Ye.call(e,t)})))}:Rc,go=qt?function(e){for(var t=[];e;)It(t,ho(e)),e=Ge(e);return t}:Rc,mo=Pr;function vo(e,t,n){for(var r=-1,i=(t=Ri(t,e)).length,o=!1;++r<i;){var a=zo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&is(i)&&Ro(a,i)&&(Ya(e)||$a(e))}function yo(e){return"function"!=typeof e.constructor||ko(e)?{}:zn(Ge(e))}function _o(e){return Ya(e)||$a(e)||!!(Qe&&e&&e[Qe])}function Ro(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function To(e,t,n){if(!os(n))return!1;var r=typeof t;return!!("number"==r?Ja(n)&&Ro(t,n.length):"string"==r&&t in n)&&Ka(n[t],e)}function Eo(e,t){if(Ya(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ps(e))||te.test(e)||!ee.test(e)||null!=t&&e in Ce(t)}function bo(e){var t=so(e),n=Un[t];if("function"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(kn&&mo(new kn(new ArrayBuffer(1)))!=D||Pn&&mo(new Pn)!=O||Cn&&mo(Cn.resolve())!=C||Sn&&mo(new Sn)!=N||Nn&&mo(new Nn)!=A)&&(mo=function(e){var n=Pr(e),r=n==P?e.constructor:t,i=r?Bo(r):"";if(i)switch(i){case In:return D;case Dn:return O;case Ln:return C;case Mn:return N;case qn:return A}return n});var Oo=De?ns:Tc;function ko(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function Po(e){return e==e&&!os(e)}function Co(e,n){return function(r){return null!=r&&r[e]===n&&(n!==t||e in Ce(r))}}function So(e,n,r){return n=_n(n===t?e.length-1:n,0),function(){for(var t=arguments,i=-1,o=_n(t.length-n,0),a=ae(o);++i<o;)a[i]=t[n+i];i=-1;for(var s=ae(n+1);++i<n;)s[i]=t[i];return s[n]=r(a),Ot(e,this,s)}}function No(e,t){return t.length<2?e:Or(e,ii(t,0,-1))}function xo(e,n){for(var r=e.length,i=Rn(n.length,r),o=xi(e);i--;){var a=n[i];e[i]=Ro(a,r)?o[a]:t}return e}function wo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ao=Mo(ti),Io=ht||function(e,t){return dt.setTimeout(e,t)},Do=Mo(ni);function Lo(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Pt(m,(function(n){var r="_."+n[0];t&n[1]&&!xt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Mo(e){var n=0,r=0;return function(){var i=Tn(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(t,arguments)}}function qo(e,n){var r=-1,i=e.length,o=i-1;for(n=n===t?i:n;++r<n;){var a=Yr(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=n,e}var Fo,jo,Wo,Uo=(Fo=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t},jo=ja(Fo,(function(e){return 500===Wo.size&&Wo.clear(),e})),Wo=jo.cache,jo);function zo(e){if("string"==typeof e||ps(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Le.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ho(e){if(e instanceof Kn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=xi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ko=Jr((function(e,t){return Za(e)?dr(e,yr(t,1,Za,!0)):[]})),Vo=Jr((function(e,n){var r=ta(n);return Za(r)&&(r=t),Za(e)?dr(e,yr(n,1,Za,!0),uo(r,2)):[]})),Go=Jr((function(e,n){var r=ta(n);return Za(r)&&(r=t),Za(e)?dr(e,yr(n,1,Za,!0),t,r):[]}));function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:_s(n);return i<0&&(i=_n(r+i,0)),jt(e,uo(t,3),i)}function Yo(e,n,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==t&&(o=_s(r),o=r<0?_n(i+o,0):Rn(o,i-1)),jt(e,uo(n,3),o,!0)}function Xo(e){return null!=e&&e.length?yr(e,1):[]}function Jo(e){return e&&e.length?e[0]:t}var Zo=Jr((function(e){var t=At(e,yi);return t.length&&t[0]===e[0]?xr(t):[]})),Qo=Jr((function(e){var n=ta(e),r=At(e,yi);return n===ta(r)?n=t:r.pop(),r.length&&r[0]===e[0]?xr(r,uo(n,2)):[]})),ea=Jr((function(e){var n=ta(e),r=At(e,yi);return(n="function"==typeof n?n:t)&&r.pop(),r.length&&r[0]===e[0]?xr(r,t,n):[]}));function ta(e){var n=null==e?0:e.length;return n?e[n-1]:t}var na=Jr(ra);function ra(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ia=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return $r(e,At(t,(function(e){return Ro(e,n)?+e:e})).sort(Ci)),r}));function oa(e){return null==e?e:On.call(e)}var aa=Jr((function(e){return fi(yr(e,1,Za,!0))})),sa=Jr((function(e){var n=ta(e);return Za(n)&&(n=t),fi(yr(e,1,Za,!0),uo(n,2))})),ca=Jr((function(e){var n=ta(e);return n="function"==typeof n?n:t,fi(yr(e,1,Za,!0),t,n)}));function ua(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Za(e))return t=_n(e.length,t),!0})),$t(t,(function(t){return At(e,Ht(t))}))}function la(e,n){if(!e||!e.length)return[];var r=ua(e);return null==n?r:At(r,(function(e){return Ot(n,t,e)}))}var fa=Jr((function(e,t){return Za(e)?dr(e,t):[]})),da=Jr((function(e){return mi(Nt(e,Za))})),pa=Jr((function(e){var n=ta(e);return Za(n)&&(n=t),mi(Nt(e,Za),uo(n,2))})),ha=Jr((function(e){var n=ta(e);return n="function"==typeof n?n:t,mi(Nt(e,Za),t,n)})),ga=Jr(ua),ma=Jr((function(e){var n=e.length,r=n>1?e[n-1]:t;return r="function"==typeof r?(e.pop(),r):t,la(e,r)}));function va(e){var t=Un(e);return t.__chain__=!0,t}function ya(e,t){return t(e)}var _a=ro((function(e){var n=e.length,r=n?e[0]:0,i=this.__wrapped__,o=function(t){return sr(t,e)};return!(n>1||this.__actions__.length)&&i instanceof Kn&&Ro(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:ya,args:[o],thisArg:t}),new Hn(i,this.__chain__).thru((function(e){return n&&!e.length&&e.push(t),e}))):this.thru(o)})),Ra=Ai((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)})),Ta=ji($o),Ea=ji(Yo);function ba(e,t){return(Ya(e)?Pt:pr)(e,uo(t,3))}function Oa(e,t){return(Ya(e)?Ct:hr)(e,uo(t,3))}var ka=Ai((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])})),Pa=Jr((function(e,t,n){var r=-1,i="function"==typeof t,o=Ja(e)?ae(e.length):[];return pr(e,(function(e){o[++r]=i?Ot(t,e,n):wr(e,t,n)})),o})),Ca=Ai((function(e,t,n){ar(e,n,t)}));function Sa(e,t){return(Ya(e)?At:Wr)(e,uo(t,3))}var Na=Ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),xa=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&To(e,t[0],t[1])?t=[]:n>2&&To(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,yr(t,1),[])})),wa=pt||function(){return dt.Date.now()};function Aa(e,n,r){return n=r?t:n,n=e&&null==n?e.length:n,Zi(e,l,t,t,t,t,n)}function Ia(e,r){var i;if("function"!=typeof r)throw new xe(n);return e=_s(e),function(){return--e>0&&(i=r.apply(this,arguments)),e<=1&&(r=t),i}}var Da=Jr((function(e,t,n){var r=1;if(n.length){var i=un(n,co(Da));r|=c}return Zi(e,r,t,n,i)})),La=Jr((function(e,t,n){var r=3;if(n.length){var i=un(n,co(La));r|=c}return Zi(t,r,e,n,i)}));function Ma(e,r,i){var o,a,s,c,u,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new xe(n);function g(n){var r=o,i=a;return o=a=t,f=n,c=e.apply(i,r)}function m(e){return f=e,u=Io(y,r),d?g(e):c}function v(e){var n=e-l;return l===t||n>=r||n<0||p&&e-f>=s}function y(){var e=wa();if(v(e))return _(e);u=Io(y,function(e){var t=r-(e-l);return p?Rn(t,s-(e-f)):t}(e))}function _(e){return u=t,h&&o?g(e):(o=a=t,c)}function R(){var e=wa(),n=v(e);if(o=arguments,a=this,l=e,n){if(u===t)return m(l);if(p)return bi(u),u=Io(y,r),g(l)}return u===t&&(u=Io(y,r)),c}return r=Ts(r)||0,os(i)&&(d=!!i.leading,s=(p="maxWait"in i)?_n(Ts(i.maxWait)||0,r):s,h="trailing"in i?!!i.trailing:h),R.cancel=function(){u!==t&&bi(u),f=0,o=l=a=u=t},R.flush=function(){return u===t?c:_(wa())},R}var qa=Jr((function(e,t){return fr(e,1,t)})),Fa=Jr((function(e,t,n){return fr(e,Ts(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(ja.Cache||$n),r}function Wa(e){if("function"!=typeof e)throw new xe(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=$n;var Ua=Ti((function(e,t){var n=(t=1==t.length&&Ya(t[0])?At(t[0],Xt(uo())):At(yr(t,1),Xt(uo()))).length;return Jr((function(r){for(var i=-1,o=Rn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ot(e,this,r)}))})),za=Jr((function(e,n){var r=un(n,co(za));return Zi(e,c,t,n,r)})),Ba=Jr((function(e,n){var r=un(n,co(Ba));return Zi(e,u,t,n,r)})),Ha=ro((function(e,n){return Zi(e,f,t,t,t,n)}));function Ka(e,t){return e===t||e!=e&&t!=t}var Va=Gi(Cr),Ga=Gi((function(e,t){return e>=t})),$a=Ar(function(){return arguments}())?Ar:function(e){return as(e)&&Me.call(e,"callee")&&!Ye.call(e,"callee")},Ya=ae.isArray,Xa=yt?Xt(yt):function(e){return as(e)&&Pr(e)==I};function Ja(e){return null!=e&&is(e.length)&&!ns(e)}function Za(e){return as(e)&&Ja(e)}var Qa=Kt||Tc,es=_t?Xt(_t):function(e){return as(e)&&Pr(e)==R};function ts(e){if(!as(e))return!1;var t=Pr(e);return t==T||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!us(e)}function ns(e){if(!os(e))return!1;var t=Pr(e);return t==E||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function rs(e){return"number"==typeof e&&e==_s(e)}function is(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function os(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function as(e){return null!=e&&"object"==typeof e}var ss=Rt?Xt(Rt):function(e){return as(e)&&mo(e)==O};function cs(e){return"number"==typeof e||as(e)&&Pr(e)==k}function us(e){if(!as(e)||Pr(e)!=P)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==We}var ls=Tt?Xt(Tt):function(e){return as(e)&&Pr(e)==S},fs=Et?Xt(Et):function(e){return as(e)&&mo(e)==N};function ds(e){return"string"==typeof e||!Ya(e)&&as(e)&&Pr(e)==x}function ps(e){return"symbol"==typeof e||as(e)&&Pr(e)==w}var hs=bt?Xt(bt):function(e){return as(e)&&is(e.length)&&!!ot[Pr(e)]},gs=Gi(jr),ms=Gi((function(e,t){return e<=t}));function vs(e){if(!e)return[];if(Ja(e))return ds(e)?dn(e):xi(e);if(tt&&e[tt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[tt]());var t=mo(e);return(t==O?sn:t==N?ln:Ks)(e)}function ys(e){return e?(e=Ts(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function _s(e){var t=ys(e),n=t%1;return t==t?n?t-n:t:0}function Rs(e){return e?cr(_s(e),0,g):0}function Ts(e){if("number"==typeof e)return e;if(ps(e))return h;if(os(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=me.test(e);return n||ye.test(e)?ut(e.slice(2),n?2:8):ge.test(e)?h:+e}function Es(e){return wi(e,qs(e))}function bs(e){return null==e?"":li(e)}var Os=Ii((function(e,t){if(ko(t)||Ja(t))wi(t,Ms(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),ks=Ii((function(e,t){wi(t,qs(t),e)})),Ps=Ii((function(e,t,n,r){wi(t,qs(t),e,r)})),Cs=Ii((function(e,t,n,r){wi(t,Ms(t),e,r)})),Ss=ro(sr),Ns=Jr((function(e,n){e=Ce(e);var r=-1,i=n.length,o=i>2?n[2]:t;for(o&&To(n[0],n[1],o)&&(i=1);++r<i;)for(var a=n[r],s=qs(a),c=-1,u=s.length;++c<u;){var l=s[c],f=e[l];(f===t||Ka(f,Ie[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),xs=Jr((function(e){return e.push(t,eo),Ot(js,t,e)}));function ws(e,n,r){var i=null==e?t:Or(e,n);return i===t?r:i}function As(e,t){return null!=e&&vo(e,t,Nr)}var Is=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),oc(cc)),Ds=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Ls=Jr(wr);function Ms(e){return Ja(e)?Jn(e):qr(e)}function qs(e){return Ja(e)?Jn(e,!0):Fr(e)}var Fs=Ii((function(e,t,n){Br(e,t,n)})),js=Ii((function(e,t,n,r){Br(e,t,n,r)})),Ws=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=At(t,(function(t){return t=Ri(t,e),r||(r=t.length>1),t})),wi(e,oo(e),n),r&&(n=ur(n,7,to));for(var i=t.length;i--;)di(n,t[i]);return n})),Us=ro((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function zs(e,t){if(null==e)return{};var n=At(oo(e),(function(e){return[e]}));return t=uo(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Ji(Ms),Hs=Ji(qs);function Ks(e){return null==e?[]:Jt(e,Ms(e))}var Vs=qi((function(e,t,n){return t=t.toLowerCase(),e+(n?Gs(t):t)}));function Gs(e){return tc(bs(e).toLowerCase())}function $s(e){return(e=bs(e))&&e.replace(Re,nn).replace(Ze,"")}var Ys=qi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xs=qi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Js=Mi("toLowerCase"),Zs=qi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Qs=qi((function(e,t,n){return e+(n?" ":"")+tc(t)})),ec=qi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),tc=Mi("toUpperCase");function nc(e,n,r){return e=bs(e),(n=r?t:n)===t?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(n)||[]}var rc=Jr((function(e,n){try{return Ot(e,t,n)}catch(r){return ts(r)?r:new Oe(r)}})),ic=ro((function(e,t){return Pt(t,(function(t){t=zo(t),ar(e,t,Da(e[t],e))})),e}));function oc(e){return function(){return e}}var ac=Wi(),sc=Wi(!0);function cc(e){return e}function uc(e){return Mr("function"==typeof e?e:ur(e,1))}var lc=Jr((function(e,t){return function(n){return wr(n,e,t)}})),fc=Jr((function(e,t){return function(n){return wr(e,n,t)}}));function dc(e,t,n){var r=Ms(t),i=br(t,r);null!=n||os(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,Ms(t)));var o=!(os(n)&&"chain"in n&&!n.chain),a=ns(e);return Pt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=xi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function pc(){}var hc=Hi(At),gc=Hi(St),mc=Hi(Mt);function vc(e){return Eo(e)?Ht(zo(e)):function(e){return function(t){return Or(t,e)}}(e)}var yc=Vi(),_c=Vi(!0);function Rc(){return[]}function Tc(){return!1}var Ec,bc=Bi((function(e,t){return e+t}),0),Oc=Yi("ceil"),kc=Bi((function(e,t){return e/t}),1),Pc=Yi("floor"),Cc=Bi((function(e,t){return e*t}),1),Sc=Yi("round"),Nc=Bi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new xe(n);return e=_s(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Aa,Un.assign=Os,Un.assignIn=ks,Un.assignInWith=Ps,Un.assignWith=Cs,Un.at=Ss,Un.before=Ia,Un.bind=Da,Un.bindAll=ic,Un.bindKey=La,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ya(e)?e:[e]},Un.chain=va,Un.chunk=function(e,n,r){n=(r?To(e,n,r):n===t)?1:_n(_s(n),0);var i=null==e?0:e.length;if(!i||n<1)return[];for(var o=0,a=0,s=ae(mt(i/n));o<i;)s[a++]=ii(e,o,o+=n);return s},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ae(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return It(Ya(n)?xi(n):[n],yr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,r=uo();return e=t?At(e,(function(e){if("function"!=typeof e[1])throw new xe(n);return[r(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ot(i[0],this,n))return Ot(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Ms(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Un.constant=oc,Un.countBy=Ra,Un.create=function(e,t){var n=zn(e);return null==t?n:or(n,t)},Un.curry=function e(n,r,i){var o=Zi(n,8,t,t,t,t,t,r=i?t:r);return o.placeholder=e.placeholder,o},Un.curryRight=function e(n,r,i){var o=Zi(n,s,t,t,t,t,t,r=i?t:r);return o.placeholder=e.placeholder,o},Un.debounce=Ma,Un.defaults=Ns,Un.defaultsDeep=xs,Un.defer=qa,Un.delay=Fa,Un.difference=Ko,Un.differenceBy=Vo,Un.differenceWith=Go,Un.drop=function(e,n,r){var i=null==e?0:e.length;return i?ii(e,(n=r||n===t?1:_s(n))<0?0:n,i):[]},Un.dropRight=function(e,n,r){var i=null==e?0:e.length;return i?ii(e,0,(n=i-(n=r||n===t?1:_s(n)))<0?0:n):[]},Un.dropRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0):[]},Un.fill=function(e,n,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&To(e,n,r)&&(r=0,i=o),function(e,n,r,i){var o=e.length;for((r=_s(r))<0&&(r=-r>o?0:o+r),(i=i===t||i>o?o:_s(i))<0&&(i+=o),i=r>i?0:Rs(i);r<i;)e[r++]=n;return e}(e,n,r,i)):[]},Un.filter=function(e,t){return(Ya(e)?Nt:vr)(e,uo(t,3))},Un.flatMap=function(e,t){return yr(Sa(e,t),1)},Un.flatMapDeep=function(e,t){return yr(Sa(e,t),d)},Un.flatMapDepth=function(e,n,r){return r=r===t?1:_s(r),yr(Sa(e,n),r)},Un.flatten=Xo,Un.flattenDeep=function(e){return null!=e&&e.length?yr(e,d):[]},Un.flattenDepth=function(e,n){return null!=e&&e.length?yr(e,n=n===t?1:_s(n)):[]},Un.flip=function(e){return Zi(e,512)},Un.flow=ac,Un.flowRight=sc,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:br(e,Ms(e))},Un.functionsIn=function(e){return null==e?[]:br(e,qs(e))},Un.groupBy=ka,Un.initial=function(e){return null!=e&&e.length?ii(e,0,-1):[]},Un.intersection=Zo,Un.intersectionBy=Qo,Un.intersectionWith=ea,Un.invert=Is,Un.invertBy=Ds,Un.invokeMap=Pa,Un.iteratee=uc,Un.keyBy=Ca,Un.keys=Ms,Un.keysIn=qs,Un.map=Sa,Un.mapKeys=function(e,t){var n={};return t=uo(t,3),Tr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=uo(t,3),Tr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(ur(e,1))},Un.matchesProperty=function(e,t){return zr(e,ur(t,1))},Un.memoize=ja,Un.merge=Fs,Un.mergeWith=js,Un.method=lc,Un.methodOf=fc,Un.mixin=dc,Un.negate=Wa,Un.nthArg=function(e){return e=_s(e),Jr((function(t){return Hr(t,e)}))},Un.omit=Ws,Un.omitBy=function(e,t){return zs(e,Wa(uo(t)))},Un.once=function(e){return Ia(2,e)},Un.orderBy=function(e,n,r,i){return null==e?[]:(Ya(n)||(n=null==n?[]:[n]),Ya(r=i?t:r)||(r=null==r?[]:[r]),Kr(e,n,r))},Un.over=hc,Un.overArgs=Ua,Un.overEvery=gc,Un.overSome=mc,Un.partial=za,Un.partialRight=Ba,Un.partition=Na,Un.pick=Us,Un.pickBy=zs,Un.property=vc,Un.propertyOf=function(e){return function(n){return null==e?t:Or(e,n)}},Un.pull=na,Un.pullAll=ra,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,uo(n,2)):e},Un.pullAllWith=function(e,n,r){return e&&e.length&&n&&n.length?Gr(e,n,t,r):e},Un.pullAt=ia,Un.range=yc,Un.rangeRight=_c,Un.rearg=Ha,Un.reject=function(e,t){return(Ya(e)?Nt:vr)(e,Wa(uo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return $r(e,i),n},Un.rest=function(e,r){if("function"!=typeof e)throw new xe(n);return Jr(e,r=r===t?r:_s(r))},Un.reverse=oa,Un.sampleSize=function(e,n,r){return n=(r?To(e,n,r):n===t)?1:_s(n),(Ya(e)?Qn:Qr)(e,n)},Un.set=function(e,t,n){return null==e?e:ei(e,t,n)},Un.setWith=function(e,n,r,i){return i="function"==typeof i?i:t,null==e?e:ei(e,n,r,i)},Un.shuffle=function(e){return(Ya(e)?er:ri)(e)},Un.slice=function(e,n,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&To(e,n,r)?(n=0,r=i):(n=null==n?0:_s(n),r=r===t?i:_s(r)),ii(e,n,r)):[]},Un.sortBy=xa,Un.sortedUniq=function(e){return e&&e.length?ci(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Un.split=function(e,n,r){return r&&"number"!=typeof r&&To(e,n,r)&&(n=r=t),(r=r===t?g:r>>>0)?(e=bs(e))&&("string"==typeof n||null!=n&&!ls(n))&&!(n=li(n))&&an(e)?Ei(dn(e),0,r):e.split(n,r):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new xe(n);return t=null==t?0:_n(_s(t),0),Jr((function(n){var r=n[t],i=Ei(n,0,t);return r&&It(i,r),Ot(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Un.take=function(e,n,r){return e&&e.length?ii(e,0,(n=r||n===t?1:_s(n))<0?0:n):[]},Un.takeRight=function(e,n,r){var i=null==e?0:e.length;return i?ii(e,(n=i-(n=r||n===t?1:_s(n)))<0?0:n,i):[]},Un.takeRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?hi(e,uo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new xe(n);return os(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Ma(e,t,{leading:i,maxWait:t,trailing:o})},Un.thru=ya,Un.toArray=vs,Un.toPairs=Bs,Un.toPairsIn=Hs,Un.toPath=function(e){return Ya(e)?At(e,zo):ps(e)?[e]:xi(Uo(bs(e)))},Un.toPlainObject=Es,Un.transform=function(e,t,n){var r=Ya(e),i=r||Qa(e)||hs(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:os(e)&&ns(o)?zn(Ge(e)):{}}return(i?Pt:Tr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Aa(e,1)},Un.union=aa,Un.unionBy=sa,Un.unionWith=ca,Un.uniq=function(e){return e&&e.length?fi(e):[]},Un.uniqBy=function(e,t){return e&&e.length?fi(e,uo(t,2)):[]},Un.uniqWith=function(e,n){return n="function"==typeof n?n:t,e&&e.length?fi(e,t,n):[]},Un.unset=function(e,t){return null==e||di(e,t)},Un.unzip=ua,Un.unzipWith=la,Un.update=function(e,t,n){return null==e?e:pi(e,t,_i(n))},Un.updateWith=function(e,n,r,i){return i="function"==typeof i?i:t,null==e?e:pi(e,n,_i(r),i)},Un.values=Ks,Un.valuesIn=function(e){return null==e?[]:Jt(e,qs(e))},Un.without=fa,Un.words=nc,Un.wrap=function(e,t){return za(_i(t),e)},Un.xor=da,Un.xorBy=pa,Un.xorWith=ha,Un.zip=ga,Un.zipObject=function(e,t){return vi(e||[],t||[],nr)},Un.zipObjectDeep=function(e,t){return vi(e||[],t||[],ei)},Un.zipWith=ma,Un.entries=Bs,Un.entriesIn=Hs,Un.extend=ks,Un.extendWith=Ps,dc(Un,Un),Un.add=bc,Un.attempt=rc,Un.camelCase=Vs,Un.capitalize=Gs,Un.ceil=Oc,Un.clamp=function(e,n,r){return r===t&&(r=n,n=t),r!==t&&(r=(r=Ts(r))==r?r:0),n!==t&&(n=(n=Ts(n))==n?n:0),cr(Ts(e),n,r)},Un.clone=function(e){return ur(e,4)},Un.cloneDeep=function(e){return ur(e,5)},Un.cloneDeepWith=function(e,n){return ur(e,5,n="function"==typeof n?n:t)},Un.cloneWith=function(e,n){return ur(e,4,n="function"==typeof n?n:t)},Un.conformsTo=function(e,t){return null==t||lr(e,t,Ms(t))},Un.deburr=$s,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=kc,Un.endsWith=function(e,n,r){e=bs(e),n=li(n);var i=e.length,o=r=r===t?i:cr(_s(r),0,i);return(r-=n.length)>=0&&e.slice(r,o)==n},Un.eq=Ka,Un.escape=function(e){return(e=bs(e))&&X.test(e)?e.replace($,rn):e},Un.escapeRegExp=function(e){return(e=bs(e))&&ie.test(e)?e.replace(re,"\\$&"):e},Un.every=function(e,n,r){var i=Ya(e)?St:gr;return r&&To(e,n,r)&&(n=t),i(e,uo(n,3))},Un.find=Ta,Un.findIndex=$o,Un.findKey=function(e,t){return Ft(e,uo(t,3),Tr)},Un.findLast=Ea,Un.findLastIndex=Yo,Un.findLastKey=function(e,t){return Ft(e,uo(t,3),Er)},Un.floor=Pc,Un.forEach=ba,Un.forEachRight=Oa,Un.forIn=function(e,t){return null==e?e:_r(e,uo(t,3),qs)},Un.forInRight=function(e,t){return null==e?e:Rr(e,uo(t,3),qs)},Un.forOwn=function(e,t){return e&&Tr(e,uo(t,3))},Un.forOwnRight=function(e,t){return e&&Er(e,uo(t,3))},Un.get=ws,Un.gt=Va,Un.gte=Ga,Un.has=function(e,t){return null!=e&&vo(e,t,Sr)},Un.hasIn=As,Un.head=Jo,Un.identity=cc,Un.includes=function(e,t,n,r){e=Ja(e)?e:Ks(e),n=n&&!r?_s(n):0;var i=e.length;return n<0&&(n=_n(i+n,0)),ds(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:_s(n);return i<0&&(i=_n(r+i,0)),Wt(e,t,i)},Un.inRange=function(e,n,r){return n=ys(n),r===t?(r=n,n=0):r=ys(r),function(e,t,n){return e>=Rn(t,n)&&e<_n(t,n)}(e=Ts(e),n,r)},Un.invoke=Ls,Un.isArguments=$a,Un.isArray=Ya,Un.isArrayBuffer=Xa,Un.isArrayLike=Ja,Un.isArrayLikeObject=Za,Un.isBoolean=function(e){return!0===e||!1===e||as(e)&&Pr(e)==_},Un.isBuffer=Qa,Un.isDate=es,Un.isElement=function(e){return as(e)&&1===e.nodeType&&!us(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Ja(e)&&(Ya(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||hs(e)||$a(e)))return!e.length;var t=mo(e);if(t==O||t==N)return!e.size;if(ko(e))return!qr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Ir(e,t)},Un.isEqualWith=function(e,n,r){var i=(r="function"==typeof r?r:t)?r(e,n):t;return i===t?Ir(e,n,t,r):!!i},Un.isError=ts,Un.isFinite=function(e){return"number"==typeof e&&mn(e)},Un.isFunction=ns,Un.isInteger=rs,Un.isLength=is,Un.isMap=ss,Un.isMatch=function(e,t){return e===t||Dr(e,t,fo(t))},Un.isMatchWith=function(e,n,r){return r="function"==typeof r?r:t,Dr(e,n,fo(n),r)},Un.isNaN=function(e){return cs(e)&&e!=+e},Un.isNative=function(e){if(Oo(e))throw new Oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=cs,Un.isObject=os,Un.isObjectLike=as,Un.isPlainObject=us,Un.isRegExp=ls,Un.isSafeInteger=function(e){return rs(e)&&e>=-9007199254740991&&e<=p},Un.isSet=fs,Un.isString=ds,Un.isSymbol=ps,Un.isTypedArray=hs,Un.isUndefined=function(e){return e===t},Un.isWeakMap=function(e){return as(e)&&mo(e)==A},Un.isWeakSet=function(e){return as(e)&&"[object WeakSet]"==Pr(e)},Un.join=function(e,t){return null==e?"":vn.call(e,t)},Un.kebabCase=Ys,Un.last=ta,Un.lastIndexOf=function(e,n,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==t&&(o=(o=_s(r))<0?_n(i+o,0):Rn(o,i-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,n,o):jt(e,zt,o,!0)},Un.lowerCase=Xs,Un.lowerFirst=Js,Un.lt=gs,Un.lte=ms,Un.max=function(e){return e&&e.length?mr(e,cc,Cr):t},Un.maxBy=function(e,n){return e&&e.length?mr(e,uo(n,2),Cr):t},Un.mean=function(e){return Bt(e,cc)},Un.meanBy=function(e,t){return Bt(e,uo(t,2))},Un.min=function(e){return e&&e.length?mr(e,cc,jr):t},Un.minBy=function(e,n){return e&&e.length?mr(e,uo(n,2),jr):t},Un.stubArray=Rc,Un.stubFalse=Tc,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Cc,Un.nth=function(e,n){return e&&e.length?Hr(e,_s(n)):t},Un.noConflict=function(){return dt._===this&&(dt._=Ue),this},Un.noop=pc,Un.now=wa,Un.pad=function(e,t,n){e=bs(e);var r=(t=_s(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(vt(i),n)+e+Ki(mt(i),n)},Un.padEnd=function(e,t,n){e=bs(e);var r=(t=_s(t))?fn(e):0;return t&&r<t?e+Ki(t-r,n):e},Un.padStart=function(e,t,n){e=bs(e);var r=(t=_s(t))?fn(e):0;return t&&r<t?Ki(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(bs(e).replace(oe,""),t||0)},Un.random=function(e,n,r){if(r&&"boolean"!=typeof r&&To(e,n,r)&&(n=r=t),r===t&&("boolean"==typeof n?(r=n,n=t):"boolean"==typeof e&&(r=e,e=t)),e===t&&n===t?(e=0,n=1):(e=ys(e),n===t?(n=e,e=0):n=ys(n)),e>n){var i=e;e=n,n=i}if(r||e%1||n%1){var o=bn();return Rn(e+o*(n-e+ct("1e-"+((o+"").length-1))),n)}return Yr(e,n)},Un.reduce=function(e,t,n){var r=Ya(e)?Dt:Vt,i=arguments.length<3;return r(e,uo(t,4),n,i,pr)},Un.reduceRight=function(e,t,n){var r=Ya(e)?Lt:Vt,i=arguments.length<3;return r(e,uo(t,4),n,i,hr)},Un.repeat=function(e,n,r){return n=(r?To(e,n,r):n===t)?1:_s(n),Xr(bs(e),n)},Un.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,n,r){var i=-1,o=(n=Ri(n,e)).length;for(o||(o=1,e=t);++i<o;){var a=null==e?t:e[zo(n[i])];a===t&&(i=o,a=r),e=ns(a)?a.call(e):a}return e},Un.round=Sc,Un.runInContext=e,Un.sample=function(e){return(Ya(e)?Zn:Zr)(e)},Un.size=function(e){if(null==e)return 0;if(Ja(e))return ds(e)?fn(e):e.length;var t=mo(e);return t==O||t==N?e.size:qr(e).length},Un.snakeCase=Zs,Un.some=function(e,n,r){var i=Ya(e)?Mt:oi;return r&&To(e,n,r)&&(n=t),i(e,uo(n,3))},Un.sortedIndex=function(e,t){return ai(e,t)},Un.sortedIndexBy=function(e,t,n){return si(e,t,uo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ka(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ai(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return si(e,t,uo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ai(e,t,!0)-1;if(Ka(e[n],t))return n}return-1},Un.startCase=Qs,Un.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:cr(_s(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Un.subtract=Nc,Un.sum=function(e){return e&&e.length?Gt(e,cc):0},Un.sumBy=function(e,t){return e&&e.length?Gt(e,uo(t,2)):0},Un.template=function(e,n,r){var i=Un.templateSettings;r&&To(e,n,r)&&(n=t),e=bs(e),n=Ps({},n,i,Qi);var o,a,s=Ps({},n.imports,i.imports,Qi),c=Ms(s),u=Jt(s,c),l=0,f=n.interpolate||Te,d="__p += '",p=Se((n.escape||Te).source+"|"+f.source+"|"+(f===Q?pe:Te).source+"|"+(n.evaluate||Te).source+"|$","g"),h="//# sourceURL="+(Me.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,r,i,s,c){return r||(r=i),d+=e.slice(l,c).replace(Ee,on),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var g=Me.call(n,"variable")&&n.variable;if(g){if(fe.test(g))throw new Oe("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(K,"$1").replace(V,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=rc((function(){return ke(c,h+"return "+d).apply(t,u)}));if(m.source=d,ts(m))throw m;return m},Un.times=function(e,t){if((e=_s(e))<1||e>p)return[];var n=g,r=Rn(e,g);t=uo(t),e-=g;for(var i=$t(r,t);++n<e;)t(n);return i},Un.toFinite=ys,Un.toInteger=_s,Un.toLength=Rs,Un.toLower=function(e){return bs(e).toLowerCase()},Un.toNumber=Ts,Un.toSafeInteger=function(e){return e?cr(_s(e),-9007199254740991,p):0===e?e:0},Un.toString=bs,Un.toUpper=function(e){return bs(e).toUpperCase()},Un.trim=function(e,n,r){if((e=bs(e))&&(r||n===t))return Yt(e);if(!e||!(n=li(n)))return e;var i=dn(e),o=dn(n);return Ei(i,Qt(i,o),en(i,o)+1).join("")},Un.trimEnd=function(e,n,r){if((e=bs(e))&&(r||n===t))return e.slice(0,pn(e)+1);if(!e||!(n=li(n)))return e;var i=dn(e);return Ei(i,0,en(i,dn(n))+1).join("")},Un.trimStart=function(e,n,r){if((e=bs(e))&&(r||n===t))return e.replace(oe,"");if(!e||!(n=li(n)))return e;var i=dn(e);return Ei(i,Qt(i,dn(n))).join("")},Un.truncate=function(e,n){var r=30,i="...";if(os(n)){var o="separator"in n?n.separator:o;r="length"in n?_s(n.length):r,i="omission"in n?li(n.omission):i}var a=(e=bs(e)).length;if(an(e)){var s=dn(e);a=s.length}if(r>=a)return e;var c=r-fn(i);if(c<1)return i;var u=s?Ei(s,0,c).join(""):e.slice(0,c);if(o===t)return u+i;if(s&&(c+=u.length-c),ls(o)){if(e.slice(c).search(o)){var l,f=u;for(o.global||(o=Se(o.source,bs(he.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;u=u.slice(0,d===t?c:d)}}else if(e.indexOf(li(o),c)!=c){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+i},Un.unescape=function(e){return(e=bs(e))&&Y.test(e)?e.replace(G,hn):e},Un.uniqueId=function(e){var t=++qe;return bs(e)+t},Un.upperCase=ec,Un.upperFirst=tc,Un.each=ba,Un.eachRight=Oa,Un.first=Jo,dc(Un,(Ec={},Tr(Un,(function(e,t){Me.call(Un.prototype,t)||(Ec[t]=e)})),Ec),{chain:!1}),Un.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Pt(["drop","take"],(function(e,n){Kn.prototype[e]=function(r){r=r===t?1:_n(_s(r),0);var i=this.__filtered__&&!n?new Kn(this):this.clone();return i.__filtered__?i.__takeCount__=Rn(r,i.__takeCount__):i.__views__.push({size:Rn(r,g),type:e+(i.__dir__<0?"Right":"")}),i},Kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Pt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(cc)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Kn(this):this.map((function(n){return wr(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(Wa(uo(e)))},Kn.prototype.slice=function(e,n){e=_s(e);var r=this;return r.__filtered__&&(e>0||n<0)?new Kn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==t&&(r=(n=_s(n))<0?r.dropRight(-n):r.take(n-e)),r)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(g)},Tr(Kn.prototype,(function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=Un[i?"take"+("last"==n?"Right":""):n],a=i||/^find/.test(n);o&&(Un.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,c=n instanceof Kn,u=s[0],l=c||Ya(n),f=function(e){var t=o.apply(Un,It([e],s));return i&&d?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,g=c&&!p;if(!a&&l){n=g?n:new Kn(this);var m=e.apply(n,s);return m.__actions__.push({func:ya,args:[f],thisArg:t}),new Hn(m,d)}return h&&g?e.apply(this,s):(m=this.thru(f),h?i?m.value()[0]:m.value():m)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=we[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ya(i)?i:[],e)}return this[n]((function(n){return t.apply(Ya(n)?n:[],e)}))}})),Tr(Kn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Me.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Ui(t,2).name]=[{name:"wrapper",func:t}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=xi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xi(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ya(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Rn(t,e+a);break;case"takeRight":e=_n(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,p=Rn(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return gi(e,this.__actions__);var h=[];e:for(;c--&&d<p;){for(var g=-1,m=e[u+=t];++g<f;){var v=l[g],y=v.iteratee,_=v.type,R=y(m);if(2==_)m=R;else if(!R){if(1==_)continue e;break e}}h[d++]=m}return h},Un.prototype.at=_a,Un.prototype.chain=function(){return va(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===t&&(this.__values__=vs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var n,r=this;r instanceof Bn;){var i=Ho(r);i.__index__=0,i.__values__=t,n?o.__wrapped__=i:n=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,n},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var n=e;return this.__actions__.length&&(n=new Kn(this)),(n=n.reverse()).__actions__.push({func:ya,args:[oa],thisArg:t}),new Hn(n,this.__chain__)}return this.thru(oa)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,tt&&(Un.prototype[tt]=function(){return this}),Un}();ht?((ht.exports=gn)._=gn,pt._=gn):dt._=gn}.call(e);var a={},s={},c={},u={};let l;function f(){if(void 0===l)throw new Error("No runtime abstraction layer installed");return l}Object.defineProperty(u,"__esModule",{value:!0}),(f||(f={})).install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");l=e},u.default=f;var d={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0,(e.Disposable||(e.Disposable={})).create=function(e){return{dispose:e}}}(d);var p={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;const t=u;!function(e){const t={dispose(){}};e.None=function(){return t}}(e.Event||(e.Event={}));class n{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,s=r.length;a<s;a++)try{n.push(r[a].apply(i[a],e))}catch(o){t.default().console.error(o)}return n}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,i)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const o={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),o.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}e.Emitter=r,r._noop=function(){}}(p);var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.AbstractMessageBuffer=void 0;h.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,a=this.toString(i,"ascii").split("\r\n");if(a.length<2)return o;for(let s=0;s<a.length-2;s++){const e=a[s],t=e.indexOf(":");if(-1===t)throw new Error("Message header must separate key and value using :");const n=e.substr(0,t),r=e.substr(t+1).trim();o.set(n,r)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}},Object.defineProperty(c,"__esModule",{value:!0});const g=u,m=d,v=p,y=h;class _ extends y.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return _.emptyBuffer}fromString(e,t){return(new TextEncoder).encode(e)}toString(e,t){return"ascii"===t?this.asciiDecoder.decode(e):new TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e:e.slice(0,t)}allocNative(e){return new Uint8Array(e)}}_.emptyBuffer=new Uint8Array(0);class R{constructor(e){this.socket=e,this._onData=new v.Emitter,this._messageListener=e=>{e.data.arrayBuffer().then((e=>{this._onData.fire(new Uint8Array(e))}))},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),m.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),m.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),m.Disposable.create((()=>this.socket.removeEventListener("end",e)))}onData(e){return this._onData.event(e)}}class T{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),m.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),m.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),m.Disposable.create((()=>this.socket.removeEventListener("end",e)))}write(e,t){if("string"==typeof e){if(void 0!==t&&"utf-8"!==t)throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${t}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const E=new TextEncoder,b=Object.freeze({messageBuffer:Object.freeze({create:e=>new _(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if("utf-8"!==t.charset)throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${t.charset}`);return Promise.resolve(E.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new R(e),asWritableStream:e=>new T(e)}),console:console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setTimeout(e,0,...t),clearImmediate(e){clearTimeout(e)}})});function O(){return b}(O||(O={})).install=function(){g.default.install(b)},c.default=O;var k={},P={},C={};function S(e){return"string"==typeof e||e instanceof String}function N(e){return Array.isArray(e)}Object.defineProperty(C,"__esModule",{value:!0}),C.stringArray=C.array=C.func=C.error=C.number=C.string=C.boolean=void 0,C.boolean=function(e){return!0===e||!1===e},C.string=S,C.number=function(e){return"number"==typeof e||e instanceof Number},C.error=function(e){return e instanceof Error},C.func=function(e){return"function"==typeof e},C.array=N,C.stringArray=function(e){return N(e)&&e.every((e=>S(e)))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isResponseMessage=e.isNotificationMessage=e.isRequestMessage=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;const t=C;var n,r;(r=n=e.ErrorCodes||(e.ErrorCodes={})).ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=r.jsonrpcReservedErrorRangeStart,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=r.jsonrpcReservedErrorRangeEnd;class i extends Error{constructor(e,r,o){super(r),this.code=t.number(e)?e:n.UnknownErrorCode,this.data=o,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}e.ResponseError=i;class o{constructor(e){this.kind=e}static is(e){return e===o.auto||e===o.byName||e===o.byPosition}toString(){return this.kind}}e.ParameterStructures=o,o.auto=new o("auto"),o.byPosition=new o("byPosition"),o.byName=new o("byName");class a{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return o.auto}}e.AbstractMessageSignature=a;e.RequestType0=class extends a{constructor(e){super(e,0)}};e.RequestType=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.RequestType1=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.RequestType2=class extends a{constructor(e){super(e,2)}};e.RequestType3=class extends a{constructor(e){super(e,3)}};e.RequestType4=class extends a{constructor(e){super(e,4)}};e.RequestType5=class extends a{constructor(e){super(e,5)}};e.RequestType6=class extends a{constructor(e){super(e,6)}};e.RequestType7=class extends a{constructor(e){super(e,7)}};e.RequestType8=class extends a{constructor(e){super(e,8)}};e.RequestType9=class extends a{constructor(e){super(e,9)}};e.NotificationType=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.NotificationType0=class extends a{constructor(e){super(e,0)}};e.NotificationType1=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.NotificationType2=class extends a{constructor(e){super(e,2)}};e.NotificationType3=class extends a{constructor(e){super(e,3)}};e.NotificationType4=class extends a{constructor(e){super(e,4)}};e.NotificationType5=class extends a{constructor(e){super(e,5)}};e.NotificationType6=class extends a{constructor(e){super(e,6)}};e.NotificationType7=class extends a{constructor(e){super(e,7)}};e.NotificationType8=class extends a{constructor(e){super(e,8)}};e.NotificationType9=class extends a{constructor(e){super(e,9)}},e.isRequestMessage=function(e){const n=e;return n&&t.string(n.method)&&(t.string(n.id)||t.number(n.id))},e.isNotificationMessage=function(e){const n=e;return n&&t.string(n.method)&&void 0===e.id},e.isResponseMessage=function(e){const n=e;return n&&(void 0!==n.result||!!n.error)&&(t.string(n.id)||t.number(n.id)||null===n.id)}}(P);var x={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const t=u,n=C,r=p;var i,o;(o=i=e.CancellationToken||(e.CancellationToken={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),o.is=function(e){const t=e;return t&&(t===o.None||t===o.Cancelled||n.boolean(t.isCancellationRequested)&&!!t.onCancellationRequested)};const a=Object.freeze((function(e,n){const r=t.default().timer.setTimeout(e.bind(n),0);return{dispose(){t.default().timer.clearTimeout(r)}}}));class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}e.CancellationTokenSource=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=i.None}}}(x);var w={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;const t=u,n=C,r=p;var i;(e.MessageReader||(e.MessageReader={})).is=function(e){let t=e;return t&&n.func(t.listen)&&n.func(t.dispose)&&n.func(t.onError)&&n.func(t.onClose)&&n.func(t.onPartialMessage)};class o{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${n.string(e.message)?e.message:"unknown"}`)}}e.AbstractMessageReader=o,(i||(i={})).fromOptions=function(e){var n;let r,i;const o=new Map;let a;const s=new Map;if(void 0===e||"string"==typeof e)r=null!=e?e:"utf-8";else{if(r=null!==(n=e.charset)&&void 0!==n?n:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,o.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(a=e.contentTypeDecoder,s.set(a.name,a)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===a&&(a=t.default().applicationJson.decoder,s.set(a.name,a)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:s}};e.ReadableStreamMessageReader=class extends o{constructor(e,n){super(),this.readable=e,this.options=i.fromOptions(n),this.buffer=t.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(t.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=t.default().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}}(w);var A={},I={};Object.defineProperty(I,"__esModule",{value:!0}),I.Semaphore=void 0;const D=u;I.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&D.default().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;const t=u,n=C,r=I,i=p;var o;(e.MessageWriter||(e.MessageWriter={})).is=function(e){let t=e;return t&&n.func(t.dispose)&&n.func(t.onClose)&&n.func(t.onError)&&n.func(t.write)};class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${n.string(e.message)?e.message:"unknown"}`)}}e.AbstractMessageWriter=a,(o||(o={})).fromOptions=function(e){var n,r;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:t.default().applicationJson.encoder}:{charset:null!==(n=e.charset)&&void 0!==n?n:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(r=e.contentTypeEncoder)&&void 0!==r?r:t.default().applicationJson.encoder}};e.WriteableStreamMessageWriter=class extends a{constructor(e,t){super(),this.writable=e,this.options=o.fromOptions(t),this.errorCount=0,this.writeSemaphore=new r.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}}(A);var L={},M={};!function(e){var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0,(n=t=e.Touch||(e.Touch={})).None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last;class r{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,n=t.None){const r=this._map.get(e);if(r)return n!==t.None&&this.touch(r,n),r.value}set(e,n,r=t.None){let i=this._map.get(e);if(i)i.value=n,r!==t.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case t.None:this.addItemLast(i);break;case t.First:this.addItemFirst(i);break;case t.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(n===t.First||n===t.Last)if(n===t.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===t.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}e.LinkedMap=r;e.LRUCache=class extends r{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=t.AsNew){return super.get(e,n)}peek(e){return super.get(e,t.None)}set(e,n){return super.set(e,n,t.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}}(M),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.Trace=e.NullLogger=e.ProgressType=void 0;const t=u,n=C,r=P,i=M,o=p,a=x;var s,c,l,f,d,h,g,m,v,y,_,R,T,E,b,O,k,S,N,w;(s||(s={})).type=new r.NotificationType("$/cancelRequest"),(c||(c={})).type=new r.NotificationType("$/progress");e.ProgressType=class{constructor(){}},(l||(l={})).is=function(e){return n.func(e)},e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),(d=f=e.Trace||(e.Trace={}))[d.Off=0]="Off",d[d.Messages=1]="Messages",d[d.Verbose=2]="Verbose",function(e){e.fromString=function(t){if(!n.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(f=e.Trace||(e.Trace={})),(g=e.TraceFormat||(e.TraceFormat={})).Text="text",g.JSON="json",function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=e.TraceFormat||(e.TraceFormat={})),(m=e.SetTraceNotification||(e.SetTraceNotification={})).type=new r.NotificationType("$/setTrace"),(v=e.LogTraceNotification||(e.LogTraceNotification={})).type=new r.NotificationType("$/logTrace"),(_=y=e.ConnectionErrors||(e.ConnectionErrors={}))[_.Closed=1]="Closed",_[_.Disposed=2]="Disposed",_[_.AlreadyListening=3]="AlreadyListening";class A extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,A.prototype)}}e.ConnectionError=A,(R=e.ConnectionStrategy||(e.ConnectionStrategy={})).is=function(e){const t=e;return t&&n.func(t.cancelUndispatched)},(E=T=e.CancellationReceiverStrategy||(e.CancellationReceiverStrategy={})).Message=Object.freeze({createCancellationTokenSource:e=>new a.CancellationTokenSource}),E.is=function(e){const t=e;return t&&n.func(t.createCancellationTokenSource)},(O=b=e.CancellationSenderStrategy||(e.CancellationSenderStrategy={})).Message=Object.freeze({sendCancellation(e,t){e.sendNotification(s.type,{id:t})},cleanup(e){}}),O.is=function(e){const t=e;return t&&n.func(t.sendCancellation)&&n.func(t.cleanup)},(S=k=e.CancellationStrategy||(e.CancellationStrategy={})).Message=Object.freeze({receiver:T.Message,sender:b.Message}),S.is=function(e){const t=e;return t&&T.is(t.receiver)&&b.is(t.sender)},(e.ConnectionOptions||(e.ConnectionOptions={})).is=function(e){const t=e;return t&&(k.is(t.cancellationStrategy)||R.is(t.connectionStrategy))},(w=N||(N={}))[w.New=1]="New",w[w.Listening=2]="Listening",w[w.Closed=3]="Closed",w[w.Disposed=4]="Disposed",e.createMessageConnection=function(u,d,p,g){const _=void 0!==p?p:e.NullLogger;let R=0,T=0,E=0;const b="2.0";let O;const P=Object.create(null);let C;const S=Object.create(null),x=new Map;let w,I,D=new i.LinkedMap,L=Object.create(null),M=Object.create(null),q=f.Off,F=h.Text,j=N.New;const W=new o.Emitter,U=new o.Emitter,z=new o.Emitter,B=new o.Emitter,H=new o.Emitter,K=g&&g.cancellationStrategy?g.cancellationStrategy:k.Message;function V(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function G(e,t){var n;r.isRequestMessage(t)?e.set(V(t.id),t):r.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++E).toString():"res-"+n.toString(),t):e.set("not-"+(++T).toString(),t)}function $(e){}function Y(){return j===N.Listening}function X(){return j===N.Closed}function J(){return j===N.Disposed}function Z(){j!==N.New&&j!==N.Listening||(j=N.Closed,U.fire(void 0))}function Q(){w||0===D.size||(w=t.default().timer.setImmediate((()=>{w=void 0,function(){if(0===D.size)return;const e=D.shift();try{r.isRequestMessage(e)?function(e){if(J())return;function t(t,n,i){const o={jsonrpc:b,id:e.id};t instanceof r.ResponseError?o.error=t.toJson():o.result=void 0===t?null:t,te(o,n,i),d.write(o)}function i(t,n,r){const i={jsonrpc:b,id:e.id,error:t.toJson()};te(i,n,r),d.write(i)}function o(t,n,r){void 0===t&&(t=null);const i={jsonrpc:b,id:e.id,result:t};te(i,n,r),d.write(i)}!function(e){if(q===f.Off||!I)return;if(F===h.Text){let t;q===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Received request '${e.method} - (${e.id})'.`,t)}else ne("receive-request",e)}(e);const a=P[e.method];let s,c;a&&(s=a.type,c=a.handler);const u=Date.now();if(c||O){const a=String(e.id),f=K.receiver.createCancellationTokenSource(a);M[a]=f;try{let l;if(c)if(void 0===e.params){if(void 0!==s&&0!==s.numberOfParams)return void i(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${e.method} defines ${s.numberOfParams} params but recevied none.`),e.method,u);l=c(f.token)}else if(Array.isArray(e.params)){if(void 0!==s&&s.parameterStructures===r.ParameterStructures.byName)return void i(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);l=c(...e.params,f.token)}else{if(void 0!==s&&s.parameterStructures===r.ParameterStructures.byPosition)return void i(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);l=c(e.params,f.token)}else O&&(l=O(e.method,e.params,f.token));const d=l;l?d.then?d.then((n=>{delete M[a],t(n,e.method,u)}),(t=>{delete M[a],t instanceof r.ResponseError?i(t,e.method,u):t&&n.string(t.message)?i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(delete M[a],t(l,e.method,u)):(delete M[a],o(l,e.method,u))}catch(l){delete M[a],l instanceof r.ResponseError?t(l,e.method,u):l&&n.string(l.message)?i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${l.message}`),e.method,u):i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else i(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):r.isNotificationMessage(e)?function(e){if(J())return;let t,n;if(e.method===s.type.method)n=e=>{const t=e.id,n=M[String(t)];n&&n.cancel()};else{const r=S[e.method];r&&(n=r.handler,t=r.type)}if(n||C)try{!function(e){if(q===f.Off||!I||e.method===v.type.method)return;if(F===h.Text){let t;q===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Received notification '${e.method}'.`,t)}else ne("receive-notification",e)}(e),n?void 0===e.params?(void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==r.ParameterStructures.byName&&_.error(`Notification ${e.method} defines ${t.numberOfParams} params but recevied none.`),n()):Array.isArray(e.params)?(void 0!==t&&(t.parameterStructures===r.ParameterStructures.byName&&_.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&_.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${e.params.length} argumennts`)),n(...e.params)):(void 0!==t&&t.parameterStructures===r.ParameterStructures.byPosition&&_.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params)):C&&C(e.method,e.params)}catch(i){i.message?_.error(`Notification handler '${e.method}' failed with message: ${i.message}`):_.error(`Notification handler '${e.method}' failed unexpectedly.`)}else z.fire(e)}(e):r.isResponseMessage(e)?function(e){if(J())return;if(null===e.id)e.error?_.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):_.error("Received response message without id. No further error information provided.");else{const n=String(e.id),i=L[n];if(function(e,t){if(q===f.Off||!I)return;if(F===h.Text){let n;if(q===f.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";I.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else I.log(`Received response ${e.id} without active response promise.`,n)}else ne("receive-response",e)}(e,i),i){delete L[n];try{if(e.error){const t=e.error;i.reject(new r.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");i.resolve(e.result)}}catch(t){t.message?_.error(`Response handler '${i.method}' failed with message: ${t.message}`):_.error(`Response handler '${i.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void _.error("Received empty message.");_.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(n.string(t.id)||n.number(t.id)){const e=String(t.id),n=L[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{Q()}}()})))}u.onClose(Z),u.onError((function(e){W.fire([e,void 0,void 0])})),d.onClose(Z),d.onError((function(e){W.fire(e)}));const ee=e=>{try{if(r.isNotificationMessage(e)&&e.method===s.type.method){const t=V(e.params.id),n=D.get(t);if(r.isRequestMessage(n)){const r=null==g?void 0:g.connectionStrategy,i=r&&r.cancelUndispatched?r.cancelUndispatched(n,$):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return D.delete(t),i.id=n.id,te(i,e.method,Date.now()),void d.write(i)}}G(D,e)}finally{Q()}};function te(e,t,n){if(q!==f.Off&&I)if(F===h.Text){let r;q===f.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),I.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else ne("send-response",e)}function ne(e,t){if(!I||q===f.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};I.log(n)}function re(){if(X())throw new A(y.Closed,"Connection is closed.");if(J())throw new A(y.Disposed,"Connection is disposed.")}function ie(e){return void 0===e?null:e}function oe(e){return null===e?void 0:e}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function se(e,t){switch(e){case r.ParameterStructures.auto:return ae(t)?oe(t):[ie(t)];case r.ParameterStructures.byName:if(!ae(t))throw new Error("Recevied parameters by name but param is not an object literal.");return oe(t);case r.ParameterStructures.byPosition:return[ie(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function ce(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=se(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ie(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const ue={sendNotification:(e,...t)=>{let i,o;if(re(),n.string(e)){i=e;const n=t[0];let a=0,s=r.ParameterStructures.auto;r.ParameterStructures.is(n)&&(a=1,s=n);let c=t.length;const u=c-a;switch(u){case 0:o=void 0;break;case 1:o=se(s,t[a]);break;default:if(s===r.ParameterStructures.byName)throw new Error(`Recevied ${u} parameters for 'by Name' notification parameter structure.`);o=t.slice(a,c).map((e=>ie(e)))}}else{const n=t;i=e.method,o=ce(e,n)}const a={jsonrpc:b,method:i,params:o};!function(e){if(q!==f.Off&&I)if(F===h.Text){let t;q===f.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Sending notification '${e.method}'.`,t)}else ne("send-notification",e)}(a),d.write(a)},onNotification:(e,t)=>{let r;return re(),n.func(e)?C=e:t&&(n.string(e)?(r=e,S[e]={type:void 0,handler:t}):(r=e.method,S[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==r?delete S[r]:C=void 0}}},onProgress:(e,t,n)=>{if(x.has(t))throw new Error(`Progress handler for token ${t} already registered`);return x.set(t,n),{dispose:()=>{x.delete(t)}}},sendProgress:(e,t,n)=>{ue.sendNotification(c.type,{token:t,value:n})},onUnhandledProgress:B.event,sendRequest:(e,...t)=>{let i,o,s;if(re(),function(){if(!Y())throw new Error("Call listen() first.")}(),n.string(e)){i=e;const n=t[0],c=t[t.length-1];let u=0,l=r.ParameterStructures.auto;r.ParameterStructures.is(n)&&(u=1,l=n);let f=t.length;a.CancellationToken.is(c)&&(f-=1,s=c);const d=f-u;switch(d){case 0:o=void 0;break;case 1:o=se(l,t[u]);break;default:if(l===r.ParameterStructures.byName)throw new Error(`Recevied ${d} parameters for 'by Name' request parameter structure.`);o=t.slice(u,f).map((e=>ie(e)))}}else{const n=t;i=e.method,o=ce(e,n);const r=e.numberOfParams;s=a.CancellationToken.is(n[r])?n[r]:void 0}const c=R++;let u;s&&(u=s.onCancellationRequested((()=>{K.sender.sendCancellation(ue,c)})));return new Promise(((e,t)=>{const n={jsonrpc:b,id:c,method:i,params:o};let a={method:i,timerStart:Date.now(),resolve:t=>{e(t),K.sender.cleanup(c),null==u||u.dispose()},reject:e=>{t(e),K.sender.cleanup(c),null==u||u.dispose()}};!function(e){if(q!==f.Off&&I)if(F===h.Text){let t;q===f.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ne("send-request",e)}(n);try{d.write(n)}catch(s){a.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,s.message?s.message:"Unknown reason")),a=null}a&&(L[String(c)]=a)}))},onRequest:(e,t)=>{re();let r=null;return l.is(e)?(r=void 0,O=e):n.string(e)?(r=null,void 0!==t&&(r=e,P[e]={handler:t,type:void 0})):void 0!==t&&(r=e.method,P[e.method]={type:e,handler:t}),{dispose:()=>{null!==r&&(void 0!==r?delete P[r]:O=void 0)}}},trace:(e,t,r)=>{let i=!1,o=h.Text;void 0!==r&&(n.boolean(r)?i=r:(i=r.sendNotification||!1,o=r.traceFormat||h.Text)),q=e,F=o,I=q===f.Off?void 0:t,!i||X()||J()||ue.sendNotification(m.type,{value:f.toString(e)})},onError:W.event,onClose:U.event,onUnhandledNotification:z.event,onDispose:H.event,end:()=>{d.end()},dispose:()=>{if(J())return;j=N.Disposed,H.fire(void 0);const e=new Error("Connection got disposed.");Object.keys(L).forEach((t=>{L[t].reject(e)})),L=Object.create(null),M=Object.create(null),D=new i.LinkedMap,n.func(d.dispose)&&d.dispose(),n.func(u.dispose)&&u.dispose()},listen:()=>{re(),function(){if(Y())throw new A(y.AlreadyListening,"Connection is already listening")}(),j=N.Listening,u.listen(ee)},inspect:()=>{t.default().console.log("inspect")}};return ue.onNotification(v.type,(e=>{q!==f.Off&&I&&I.log(e.message,q===f.Verbose?e.verbose:void 0)})),ue.onNotification(c.type,(e=>{const t=x.get(e.token);t?t(e.value):B.fire(e)})),ue}}(L),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.Trace=e.ProgressType=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.RAL=void 0,e.CancellationStrategy=void 0;const t=P;Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=d;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return n.Disposable}});const r=p;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return r.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return r.Emitter}});const i=x;Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return i.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return i.CancellationToken}});const o=w;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return o.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return o.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return o.ReadableStreamMessageReader}});const a=A;Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return a.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return a.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return a.WriteableStreamMessageWriter}});const s=L;Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return s.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return s.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return s.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return s.createMessageConnection}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return s.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return s.Trace}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return s.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return s.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return s.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return s.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return s.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return s.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return s.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return s.CancellationStrategy}});const c=u;e.RAL=c.default}(k),function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0;c.default.install();const i=k;r(k,t);class o extends i.AbstractMessageReader{constructor(e){super(),this._onData=new i.Emitter,this._messageListener=e=>{this._onData.fire(e.data)},e.addEventListener("error",(e=>this.fireError(e))),e.onmessage=this._messageListener}listen(e){return this._onData.event(e)}}t.BrowserMessageReader=o;class a extends i.AbstractMessageWriter{constructor(e){super(),this.context=e,this.errorCount=0,e.addEventListener("error",(e=>this.fireError(e)))}write(e){try{return this.context.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.BrowserMessageWriter=a,t.createMessageConnection=function(e,t,n,r){return void 0===n&&(n=i.NullLogger),i.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),i.createMessageConnection(e,t,n,r)}}(s);var q,F,j,W,U,z,B,H,K,V,G,$,Y,X,J,Z,Q,ee,te,ne,re,ie,oe,ae,se,ce,ue,le,fe,de,pe,he,ge,me,ve,ye,_e,Re,Te,Ee,be,Oe,ke,Pe,Ce,Se,Ne,xe,we,Ae=s,Ie={};(F=q||(q={})).MIN_VALUE=-2147483648,F.MAX_VALUE=2147483647,(W=j||(j={})).MIN_VALUE=0,W.MAX_VALUE=2147483647,(z=U||(U={})).create=function(e,t){return e===Number.MAX_VALUE&&(e=j.MAX_VALUE),t===Number.MAX_VALUE&&(t=j.MAX_VALUE),{line:e,character:t}},z.is=function(e){var t=e;return Dt.objectLiteral(t)&&Dt.uinteger(t.line)&&Dt.uinteger(t.character)},(H=B||(B={})).create=function(e,t,n,r){if(Dt.uinteger(e)&&Dt.uinteger(t)&&Dt.uinteger(n)&&Dt.uinteger(r))return{start:U.create(e,t),end:U.create(n,r)};if(U.is(e)&&U.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},H.is=function(e){var t=e;return Dt.objectLiteral(t)&&U.is(t.start)&&U.is(t.end)},(V=K||(K={})).create=function(e,t){return{uri:e,range:t}},V.is=function(e){var t=e;return Dt.defined(t)&&B.is(t.range)&&(Dt.string(t.uri)||Dt.undefined(t.uri))},($=G||(G={})).create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},$.is=function(e){var t=e;return Dt.defined(t)&&B.is(t.targetRange)&&Dt.string(t.targetUri)&&(B.is(t.targetSelectionRange)||Dt.undefined(t.targetSelectionRange))&&(B.is(t.originSelectionRange)||Dt.undefined(t.originSelectionRange))},(X=Y||(Y={})).create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},X.is=function(e){var t=e;return Dt.numberRange(t.red,0,1)&&Dt.numberRange(t.green,0,1)&&Dt.numberRange(t.blue,0,1)&&Dt.numberRange(t.alpha,0,1)},(Z=J||(J={})).create=function(e,t){return{range:e,color:t}},Z.is=function(e){var t=e;return B.is(t.range)&&Y.is(t.color)},(ee=Q||(Q={})).create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},ee.is=function(e){var t=e;return Dt.string(t.label)&&(Dt.undefined(t.textEdit)||me.is(t))&&(Dt.undefined(t.additionalTextEdits)||Dt.typedArray(t.additionalTextEdits,me.is))},(ne=te||(te={})).Comment="comment",ne.Imports="imports",ne.Region="region",(ie=re||(re={})).create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return Dt.defined(n)&&(o.startCharacter=n),Dt.defined(r)&&(o.endCharacter=r),Dt.defined(i)&&(o.kind=i),o},ie.is=function(e){var t=e;return Dt.uinteger(t.startLine)&&Dt.uinteger(t.startLine)&&(Dt.undefined(t.startCharacter)||Dt.uinteger(t.startCharacter))&&(Dt.undefined(t.endCharacter)||Dt.uinteger(t.endCharacter))&&(Dt.undefined(t.kind)||Dt.string(t.kind))},(ae=oe||(oe={})).create=function(e,t){return{location:e,message:t}},ae.is=function(e){var t=e;return Dt.defined(t)&&K.is(t.location)&&Dt.string(t.message)},(ce=se||(se={})).Error=1,ce.Warning=2,ce.Information=3,ce.Hint=4,(le=ue||(ue={})).Unnecessary=1,le.Deprecated=2,(fe||(fe={})).is=function(e){var t=e;return null!=t&&Dt.string(t.href)},(pe=de||(de={})).create=function(e,t,n,r,i,o){var a={range:e,message:t};return Dt.defined(n)&&(a.severity=n),Dt.defined(r)&&(a.code=r),Dt.defined(i)&&(a.source=i),Dt.defined(o)&&(a.relatedInformation=o),a},pe.is=function(e){var t,n=e;return Dt.defined(n)&&B.is(n.range)&&Dt.string(n.message)&&(Dt.number(n.severity)||Dt.undefined(n.severity))&&(Dt.integer(n.code)||Dt.string(n.code)||Dt.undefined(n.code))&&(Dt.undefined(n.codeDescription)||Dt.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Dt.string(n.source)||Dt.undefined(n.source))&&(Dt.undefined(n.relatedInformation)||Dt.typedArray(n.relatedInformation,oe.is))},(ge=he||(he={})).create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Dt.defined(n)&&n.length>0&&(i.arguments=n),i},ge.is=function(e){var t=e;return Dt.defined(t)&&Dt.string(t.title)&&Dt.string(t.command)},(ve=me||(me={})).replace=function(e,t){return{range:e,newText:t}},ve.insert=function(e,t){return{range:{start:e,end:e},newText:t}},ve.del=function(e){return{range:e,newText:""}},ve.is=function(e){var t=e;return Dt.objectLiteral(t)&&Dt.string(t.newText)&&B.is(t.range)},(_e=ye||(ye={})).create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},_e.is=function(e){var t=e;return void 0!==t&&Dt.objectLiteral(t)&&Dt.string(t.label)&&(Dt.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Dt.string(t.description)||void 0===t.description)},(Re||(Re={})).is=function(e){return"string"==typeof e},(Ee=Te||(Te={})).replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},Ee.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},Ee.del=function(e,t){return{range:e,newText:"",annotationId:t}},Ee.is=function(e){var t=e;return me.is(t)&&(ye.is(t.annotationId)||Re.is(t.annotationId))},(Oe=be||(be={})).create=function(e,t){return{textDocument:e,edits:t}},Oe.is=function(e){var t=e;return Dt.defined(t)&&Fe.is(t.textDocument)&&Array.isArray(t.edits)},(Pe=ke||(ke={})).create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},Pe.is=function(e){var t=e;return t&&"create"===t.kind&&Dt.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Dt.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Dt.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Re.is(t.annotationId))},(Se=Ce||(Ce={})).create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},Se.is=function(e){var t=e;return t&&"rename"===t.kind&&Dt.string(t.oldUri)&&Dt.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Dt.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Dt.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||Re.is(t.annotationId))},(xe=Ne||(Ne={})).create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},xe.is=function(e){var t=e;return t&&"delete"===t.kind&&Dt.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Dt.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Dt.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||Re.is(t.annotationId))},(we||(we={})).is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Dt.string(e.kind)?ke.is(e)||Ce.is(e)||Ne.is(e):be.is(e)})))};var De,Le,Me,qe,Fe,je,We,Ue,ze,Be,He,Ke,Ve,Ge,$e,Ye,Xe,Je,Ze,Qe,et,tt,nt,rt,it,ot,at,st,ct,ut,lt,ft,dt,pt,ht,gt,mt,vt,yt,_t,Rt,Tt,Et,bt,Ot,kt,Pt,Ct,St,Nt,xt=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=me.insert(e,t):Re.is(n)?(i=n,r=Te.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Te.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=me.replace(e,t):Re.is(n)?(i=n,r=Te.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Te.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=me.del(e):Re.is(t)?(r=t,n=Te.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=Te.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),wt=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(Re.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id "+n+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+n);return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),At=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new wt(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(be.is(e)){var n=new xt(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new xt(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(Fe.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new xt(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new xt(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new wt,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(ye.is(t)||Re.is(t)?r=t:n=t,void 0===r?i=ke.create(e,n):(o=Re.is(r)?r:this._changeAnnotations.manage(r),i=ke.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,a;if(ye.is(n)||Re.is(n)?i=n:r=n,void 0===i?o=Ce.create(e,t,r):(a=Re.is(i)?i:this._changeAnnotations.manage(i),o=Ce.create(e,t,r,a)),this._workspaceEdit.documentChanges.push(o),void 0!==a)return a},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(ye.is(t)||Re.is(t)?r=t:n=t,void 0===r?i=Ne.create(e,n):(o=Re.is(r)?r:this._changeAnnotations.manage(r),i=Ne.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();(Le=De||(De={})).create=function(e){return{uri:e}},Le.is=function(e){var t=e;return Dt.defined(t)&&Dt.string(t.uri)},(qe=Me||(Me={})).create=function(e,t){return{uri:e,version:t}},qe.is=function(e){var t=e;return Dt.defined(t)&&Dt.string(t.uri)&&Dt.integer(t.version)},(je=Fe||(Fe={})).create=function(e,t){return{uri:e,version:t}},je.is=function(e){var t=e;return Dt.defined(t)&&Dt.string(t.uri)&&(null===t.version||Dt.integer(t.version))},(Ue=We||(We={})).create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},Ue.is=function(e){var t=e;return Dt.defined(t)&&Dt.string(t.uri)&&Dt.string(t.languageId)&&Dt.integer(t.version)&&Dt.string(t.text)},(Be=ze||(ze={})).PlainText="plaintext",Be.Markdown="markdown",function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(ze||(ze={})),(He||(He={})).is=function(e){var t=e;return Dt.objectLiteral(e)&&ze.is(t.kind)&&Dt.string(t.value)},(Ve=Ke||(Ke={})).Text=1,Ve.Method=2,Ve.Function=3,Ve.Constructor=4,Ve.Field=5,Ve.Variable=6,Ve.Class=7,Ve.Interface=8,Ve.Module=9,Ve.Property=10,Ve.Unit=11,Ve.Value=12,Ve.Enum=13,Ve.Keyword=14,Ve.Snippet=15,Ve.Color=16,Ve.File=17,Ve.Reference=18,Ve.Folder=19,Ve.EnumMember=20,Ve.Constant=21,Ve.Struct=22,Ve.Event=23,Ve.Operator=24,Ve.TypeParameter=25,($e=Ge||(Ge={})).PlainText=1,$e.Snippet=2,(Ye||(Ye={})).Deprecated=1,(Je=Xe||(Xe={})).create=function(e,t,n){return{newText:e,insert:t,replace:n}},Je.is=function(e){var t=e;return t&&Dt.string(t.newText)&&B.is(t.insert)&&B.is(t.replace)},(Qe=Ze||(Ze={})).asIs=1,Qe.adjustIndentation=2,(et||(et={})).create=function(e){return{label:e}},(tt||(tt={})).create=function(e,t){return{items:e||[],isIncomplete:!!t}},(rt=nt||(nt={})).fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},rt.is=function(e){var t=e;return Dt.string(t)||Dt.objectLiteral(t)&&Dt.string(t.language)&&Dt.string(t.value)},(it||(it={})).is=function(e){var t=e;return!!t&&Dt.objectLiteral(t)&&(He.is(t.contents)||nt.is(t.contents)||Dt.typedArray(t.contents,nt.is))&&(void 0===e.range||B.is(e.range))},(ot||(ot={})).create=function(e,t){return t?{label:e,documentation:t}:{label:e}},(at||(at={})).create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Dt.defined(t)&&(i.documentation=t),Dt.defined(n)?i.parameters=n:i.parameters=[],i},(ct=st||(st={})).Text=1,ct.Read=2,ct.Write=3,(ut||(ut={})).create=function(e,t){var n={range:e};return Dt.number(t)&&(n.kind=t),n},(ft=lt||(lt={})).File=1,ft.Module=2,ft.Namespace=3,ft.Package=4,ft.Class=5,ft.Method=6,ft.Property=7,ft.Field=8,ft.Constructor=9,ft.Enum=10,ft.Interface=11,ft.Function=12,ft.Variable=13,ft.Constant=14,ft.String=15,ft.Number=16,ft.Boolean=17,ft.Array=18,ft.Object=19,ft.Key=20,ft.Null=21,ft.EnumMember=22,ft.Struct=23,ft.Event=24,ft.Operator=25,ft.TypeParameter=26,(dt||(dt={})).Deprecated=1,(pt||(pt={})).create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o},(gt=ht||(ht={})).create=function(e,t,n,r,i,o){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(a.children=o),a},gt.is=function(e){var t=e;return t&&Dt.string(t.name)&&Dt.number(t.kind)&&B.is(t.range)&&B.is(t.selectionRange)&&(void 0===t.detail||Dt.string(t.detail))&&(void 0===t.deprecated||Dt.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))},(vt=mt||(mt={})).Empty="",vt.QuickFix="quickfix",vt.Refactor="refactor",vt.RefactorExtract="refactor.extract",vt.RefactorInline="refactor.inline",vt.RefactorRewrite="refactor.rewrite",vt.Source="source",vt.SourceOrganizeImports="source.organizeImports",vt.SourceFixAll="source.fixAll",(_t=yt||(yt={})).create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},_t.is=function(e){var t=e;return Dt.defined(t)&&Dt.typedArray(t.diagnostics,de.is)&&(void 0===t.only||Dt.typedArray(t.only,Dt.string))},(Tt=Rt||(Rt={})).create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):he.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},Tt.is=function(e){var t=e;return t&&Dt.string(t.title)&&(void 0===t.diagnostics||Dt.typedArray(t.diagnostics,de.is))&&(void 0===t.kind||Dt.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||he.is(t.command))&&(void 0===t.isPreferred||Dt.boolean(t.isPreferred))&&(void 0===t.edit||we.is(t.edit))},(bt=Et||(Et={})).create=function(e,t){var n={range:e};return Dt.defined(t)&&(n.data=t),n},bt.is=function(e){var t=e;return Dt.defined(t)&&B.is(t.range)&&(Dt.undefined(t.command)||he.is(t.command))},(kt=Ot||(Ot={})).create=function(e,t){return{tabSize:e,insertSpaces:t}},kt.is=function(e){var t=e;return Dt.defined(t)&&Dt.uinteger(t.tabSize)&&Dt.boolean(t.insertSpaces)},(Ct=Pt||(Pt={})).create=function(e,t,n){return{range:e,target:t,data:n}},Ct.is=function(e){var t=e;return Dt.defined(t)&&B.is(t.range)&&(Dt.undefined(t.target)||Dt.string(t.target))},(Nt=St||(St={})).create=function(e,t){return{range:e,parent:t}},Nt.is=function(e){var t=e;return void 0!==t&&B.is(t.range)&&(void 0===t.parent||Nt.is(t.parent))};var It;!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var a=0,s=0,c=0;a<i.length&&s<o.length;){var u=n(i[a],o[s]);e[c++]=u<=0?i[a++]:o[s++]}for(;a<i.length;)e[c++]=i[a++];for(;s<o.length;)e[c++]=o[s++];return e}e.create=function(e,t,n,r){return new qt(e,t,n,r)},e.is=function(e){var t=e;return!!(Dt.defined(t)&&Dt.string(t.uri)&&(Dt.undefined(t.languageId)||Dt.string(t.languageId))&&Dt.uinteger(t.lineCount)&&Dt.func(t.getText)&&Dt.func(t.positionAt)&&Dt.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,a=i.length-1;a>=0;a--){var s=i[a],c=e.offsetAt(s.range.start),u=e.offsetAt(s.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+s.newText+r.substring(u,r.length),o=c}return r}}(It||(It={}));var Dt,Lt,Mt,qt=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return U.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return U.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();Lt=Dt||(Dt={}),Mt=Object.prototype.toString,Lt.defined=function(e){return void 0!==e},Lt.undefined=function(e){return void 0===e},Lt.boolean=function(e){return!0===e||!1===e},Lt.string=function(e){return"[object String]"===Mt.call(e)},Lt.number=function(e){return"[object Number]"===Mt.call(e)},Lt.numberRange=function(e,t,n){return"[object Number]"===Mt.call(e)&&t<=e&&e<=n},Lt.integer=function(e){return"[object Number]"===Mt.call(e)&&-2147483648<=e&&e<=2147483647},Lt.uinteger=function(e){return"[object Number]"===Mt.call(e)&&0<=e&&e<=2147483647},Lt.func=function(e){return"[object Function]"===Mt.call(e)},Lt.objectLiteral=function(e){return null!==e&&"object"==typeof e},Lt.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)};var Ft=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get integer(){return q},get uinteger(){return j},get Position(){return U},get Range(){return B},get Location(){return K},get LocationLink(){return G},get Color(){return Y},get ColorInformation(){return J},get ColorPresentation(){return Q},get FoldingRangeKind(){return te},get FoldingRange(){return re},get DiagnosticRelatedInformation(){return oe},get DiagnosticSeverity(){return se},get DiagnosticTag(){return ue},get CodeDescription(){return fe},get Diagnostic(){return de},get Command(){return he},get TextEdit(){return me},get ChangeAnnotation(){return ye},get ChangeAnnotationIdentifier(){return Re},get AnnotatedTextEdit(){return Te},get TextDocumentEdit(){return be},get CreateFile(){return ke},get RenameFile(){return Ce},get DeleteFile(){return Ne},get WorkspaceEdit(){return we},WorkspaceChange:At,get TextDocumentIdentifier(){return De},get VersionedTextDocumentIdentifier(){return Me},get OptionalVersionedTextDocumentIdentifier(){return Fe},get TextDocumentItem(){return We},get MarkupKind(){return ze},get MarkupContent(){return He},get CompletionItemKind(){return Ke},get InsertTextFormat(){return Ge},get CompletionItemTag(){return Ye},get InsertReplaceEdit(){return Xe},get InsertTextMode(){return Ze},get CompletionItem(){return et},get CompletionList(){return tt},get MarkedString(){return nt},get Hover(){return it},get ParameterInformation(){return ot},get SignatureInformation(){return at},get DocumentHighlightKind(){return st},get DocumentHighlight(){return ut},get SymbolKind(){return lt},get SymbolTag(){return dt},get SymbolInformation(){return pt},get DocumentSymbol(){return ht},get CodeActionKind(){return mt},get CodeActionContext(){return yt},get CodeAction(){return Rt},get CodeLens(){return Et},get FormattingOptions(){return Ot},get DocumentLink(){return Pt},get SelectionRange(){return St},EOL:["\n","\r\n","\r"],get TextDocument(){return It}})),jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.ProtocolNotificationType=jt.ProtocolNotificationType0=jt.ProtocolRequestType=jt.ProtocolRequestType0=jt.RegistrationType=void 0;const Wt=s;jt.RegistrationType=class{constructor(e){this.method=e}};jt.ProtocolRequestType0=class extends Wt.RequestType0{constructor(e){super(e)}};jt.ProtocolRequestType=class extends Wt.RequestType{constructor(e){super(e,Wt.ParameterStructures.byName)}};jt.ProtocolNotificationType0=class extends Wt.NotificationType0{constructor(e){super(e)}};jt.ProtocolNotificationType=class extends Wt.NotificationType{constructor(e){super(e,Wt.ParameterStructures.byName)}};var Ut={},zt={};function Bt(e){return"string"==typeof e||e instanceof String}Object.defineProperty(zt,"__esModule",{value:!0}),zt.objectLiteral=zt.typedArray=zt.stringArray=zt.array=zt.func=zt.error=zt.number=zt.string=zt.boolean=void 0,zt.boolean=function(e){return!0===e||!1===e};var Ht=zt.string=Bt;var Kt=zt.number=function(e){return"number"==typeof e||e instanceof Number};function Vt(e){return Array.isArray(e)}zt.error=function(e){return e instanceof Error},zt.func=function(e){return"function"==typeof e};var Gt=zt.array=Vt;var $t=zt.stringArray=function(e){return Vt(e)&&e.every((e=>Bt(e)))};zt.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},zt.objectLiteral=function(e){return null!==e&&"object"==typeof e};var Yt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;const t=jt;var n;(n=e.ImplementationRequest||(e.ImplementationRequest={})).method="textDocument/implementation",n.type=new t.ProtocolRequestType(n.method)}(Yt);var Xt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;const t=jt;var n;(n=e.TypeDefinitionRequest||(e.TypeDefinitionRequest={})).method="textDocument/typeDefinition",n.type=new t.ProtocolRequestType(n.method)}(Xt);var Jt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;const t=jt;(e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={})).type=new t.ProtocolRequestType0("workspace/workspaceFolders"),(e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={})).type=new t.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(Jt);var Zt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;const t=jt;(e.ConfigurationRequest||(e.ConfigurationRequest={})).type=new t.ProtocolRequestType("workspace/configuration")}(Zt);var Qt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;const t=jt;var n;(n=e.DocumentColorRequest||(e.DocumentColorRequest={})).method="textDocument/documentColor",n.type=new t.ProtocolRequestType(n.method),(e.ColorPresentationRequest||(e.ColorPresentationRequest={})).type=new t.ProtocolRequestType("textDocument/colorPresentation")}(Qt);var en={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRequest=e.FoldingRangeKind=void 0;const t=jt;var n;!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(e.FoldingRangeKind||(e.FoldingRangeKind={})),(n=e.FoldingRangeRequest||(e.FoldingRangeRequest={})).method="textDocument/foldingRange",n.type=new t.ProtocolRequestType(n.method)}(en);var tn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;const t=jt;var n;(n=e.DeclarationRequest||(e.DeclarationRequest={})).method="textDocument/declaration",n.type=new t.ProtocolRequestType(n.method)}(tn);var nn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;const t=jt;var n;(n=e.SelectionRangeRequest||(e.SelectionRangeRequest={})).method="textDocument/selectionRange",n.type=new t.ProtocolRequestType(n.method)}(nn);var rn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;const t=s,n=jt;var r;(r=e.WorkDoneProgress||(e.WorkDoneProgress={})).type=new t.ProgressType,r.is=function(e){return e===r.type},(e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={})).type=new n.ProtocolRequestType("window/workDoneProgress/create"),(e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={})).type=new n.ProtocolNotificationType("window/workDoneProgress/cancel")}(rn);var on={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;const t=jt;var n,r,i;(n=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",n.type=new t.ProtocolRequestType(n.method),(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",r.type=new t.ProtocolRequestType(r.method),(i=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",i.type=new t.ProtocolRequestType(i.method)}(on);var an={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=void 0;const t=jt;var n,r,i,o,a,s,c;(n=e.SemanticTokenTypes||(e.SemanticTokenTypes={})).namespace="namespace",n.type="type",n.class="class",n.enum="enum",n.interface="interface",n.struct="struct",n.typeParameter="typeParameter",n.parameter="parameter",n.variable="variable",n.property="property",n.enumMember="enumMember",n.event="event",n.function="function",n.method="method",n.macro="macro",n.keyword="keyword",n.modifier="modifier",n.comment="comment",n.string="string",n.number="number",n.regexp="regexp",n.operator="operator",(r=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={})).declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary",(e.SemanticTokens||(e.SemanticTokens={})).is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])},(e.TokenFormat||(e.TokenFormat={})).Relative="relative",(i=e.SemanticTokensRegistrationType||(e.SemanticTokensRegistrationType={})).method="textDocument/semanticTokens",i.type=new t.RegistrationType(i.method),(o=e.SemanticTokensRequest||(e.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",o.type=new t.ProtocolRequestType(o.method),(a=e.SemanticTokensDeltaRequest||(e.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",a.type=new t.ProtocolRequestType(a.method),(s=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",s.type=new t.ProtocolRequestType(s.method),(c=e.SemanticTokensRefreshRequest||(e.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",c.type=new t.ProtocolRequestType0(c.method)}(an);var sn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;const t=jt;var n;(n=e.ShowDocumentRequest||(e.ShowDocumentRequest={})).method="window/showDocument",n.type=new t.ProtocolRequestType(n.method)}(sn);var cn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;const t=jt;var n;(n=e.LinkedEditingRangeRequest||(e.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",n.type=new t.ProtocolRequestType(n.method)}(cn);var un={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;const t=jt;var n,r,i,o,a,s,c;(n=e.FileOperationPatternKind||(e.FileOperationPatternKind={})).file="file",n.folder="folder",(r=e.WillCreateFilesRequest||(e.WillCreateFilesRequest={})).method="workspace/willCreateFiles",r.type=new t.ProtocolRequestType(r.method),(i=e.DidCreateFilesNotification||(e.DidCreateFilesNotification={})).method="workspace/didCreateFiles",i.type=new t.ProtocolNotificationType(i.method),(o=e.WillRenameFilesRequest||(e.WillRenameFilesRequest={})).method="workspace/willRenameFiles",o.type=new t.ProtocolRequestType(o.method),(a=e.DidRenameFilesNotification||(e.DidRenameFilesNotification={})).method="workspace/didRenameFiles",a.type=new t.ProtocolNotificationType(a.method),(s=e.DidDeleteFilesNotification||(e.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",s.type=new t.ProtocolNotificationType(s.method),(c=e.WillDeleteFilesRequest||(e.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",c.type=new t.ProtocolRequestType(c.method)}(un);var ln={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;const t=jt;var n,r,i;(n=e.UniquenessLevel||(e.UniquenessLevel={})).document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global",(r=e.MonikerKind||(e.MonikerKind={})).import="import",r.export="export",r.local="local",(i=e.MonikerRequest||(e.MonikerRequest={})).method="textDocument/moniker",i.type=new t.ProtocolRequestType(i.method)}(ln),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeError=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.DocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=void 0;const t=zt,n=jt,r=Yt;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return r.ImplementationRequest}});const i=Xt;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return i.TypeDefinitionRequest}});const o=Jt;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return o.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return o.DidChangeWorkspaceFoldersNotification}});const a=Zt;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return a.ConfigurationRequest}});const s=Qt;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return s.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return s.ColorPresentationRequest}});const c=en;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return c.FoldingRangeRequest}});const u=tn;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return u.DeclarationRequest}});const l=nn;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return l.SelectionRangeRequest}});const f=rn;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const d=on;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return d.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return d.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return d.CallHierarchyPrepareRequest}});const p=an;Object.defineProperty(e,"SemanticTokenTypes",{enumerable:!0,get:function(){return p.SemanticTokenTypes}}),Object.defineProperty(e,"SemanticTokenModifiers",{enumerable:!0,get:function(){return p.SemanticTokenModifiers}}),Object.defineProperty(e,"SemanticTokens",{enumerable:!0,get:function(){return p.SemanticTokens}}),Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return p.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return p.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return p.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return p.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return p.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return p.SemanticTokensRegistrationType}});const h=sn;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return h.ShowDocumentRequest}});const g=cn;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return g.LinkedEditingRangeRequest}});const m=un;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return m.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return m.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return m.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return m.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return m.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return m.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return m.WillDeleteFilesRequest}});const v=ln;var y,_,R,T,E,b,O,k,P,C,S,N,x,w,A,I,D,L,M,q,F,j,W,U,z,B,H,K,V,G,$,Y,X,J,Z,Q,ee,te,ne,re;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return v.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return v.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return v.MonikerRequest}}),(y=e.DocumentFilter||(e.DocumentFilter={})).is=function(e){const n=e;return t.string(n.language)||t.string(n.scheme)||t.string(n.pattern)},(_=e.DocumentSelector||(e.DocumentSelector={})).is=function(e){if(!Array.isArray(e))return!1;for(let n of e)if(!t.string(n)&&!y.is(n))return!1;return!0},(e.RegistrationRequest||(e.RegistrationRequest={})).type=new n.ProtocolRequestType("client/registerCapability"),(e.UnregistrationRequest||(e.UnregistrationRequest={})).type=new n.ProtocolRequestType("client/unregisterCapability"),(R=e.ResourceOperationKind||(e.ResourceOperationKind={})).Create="create",R.Rename="rename",R.Delete="delete",(T=e.FailureHandlingKind||(e.FailureHandlingKind={})).Abort="abort",T.Transactional="transactional",T.TextOnlyTransactional="textOnlyTransactional",T.Undo="undo",(e.StaticRegistrationOptions||(e.StaticRegistrationOptions={})).hasId=function(e){const n=e;return n&&t.string(n.id)&&n.id.length>0},(e.TextDocumentRegistrationOptions||(e.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||_.is(t.documentSelector))},(E=e.WorkDoneProgressOptions||(e.WorkDoneProgressOptions={})).is=function(e){const n=e;return t.objectLiteral(n)&&(void 0===n.workDoneProgress||t.boolean(n.workDoneProgress))},E.hasWorkDoneProgress=function(e){const n=e;return n&&t.boolean(n.workDoneProgress)},(e.InitializeRequest||(e.InitializeRequest={})).type=new n.ProtocolRequestType("initialize"),(e.InitializeError||(e.InitializeError={})).unknownProtocolVersion=1,(e.InitializedNotification||(e.InitializedNotification={})).type=new n.ProtocolNotificationType("initialized"),(e.ShutdownRequest||(e.ShutdownRequest={})).type=new n.ProtocolRequestType0("shutdown"),(e.ExitNotification||(e.ExitNotification={})).type=new n.ProtocolNotificationType0("exit"),(e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={})).type=new n.ProtocolNotificationType("workspace/didChangeConfiguration"),(b=e.MessageType||(e.MessageType={})).Error=1,b.Warning=2,b.Info=3,b.Log=4,(e.ShowMessageNotification||(e.ShowMessageNotification={})).type=new n.ProtocolNotificationType("window/showMessage"),(e.ShowMessageRequest||(e.ShowMessageRequest={})).type=new n.ProtocolRequestType("window/showMessageRequest"),(e.LogMessageNotification||(e.LogMessageNotification={})).type=new n.ProtocolNotificationType("window/logMessage"),(e.TelemetryEventNotification||(e.TelemetryEventNotification={})).type=new n.ProtocolNotificationType("telemetry/event"),(O=e.TextDocumentSyncKind||(e.TextDocumentSyncKind={})).None=0,O.Full=1,O.Incremental=2,(k=e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",k.type=new n.ProtocolNotificationType(k.method),(P=e.TextDocumentContentChangeEvent||(e.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},P.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(C=e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={})).method="textDocument/didChange",C.type=new n.ProtocolNotificationType(C.method),(S=e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={})).method="textDocument/didClose",S.type=new n.ProtocolNotificationType(S.method),(N=e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={})).method="textDocument/didSave",N.type=new n.ProtocolNotificationType(N.method),(x=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={})).Manual=1,x.AfterDelay=2,x.FocusOut=3,(w=e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={})).method="textDocument/willSave",w.type=new n.ProtocolNotificationType(w.method),(A=e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",A.type=new n.ProtocolRequestType(A.method),(e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={})).type=new n.ProtocolNotificationType("workspace/didChangeWatchedFiles"),(I=e.FileChangeType||(e.FileChangeType={})).Created=1,I.Changed=2,I.Deleted=3,(D=e.WatchKind||(e.WatchKind={})).Create=1,D.Change=2,D.Delete=4,(e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={})).type=new n.ProtocolNotificationType("textDocument/publishDiagnostics"),(L=e.CompletionTriggerKind||(e.CompletionTriggerKind={})).Invoked=1,L.TriggerCharacter=2,L.TriggerForIncompleteCompletions=3,(M=e.CompletionRequest||(e.CompletionRequest={})).method="textDocument/completion",M.type=new n.ProtocolRequestType(M.method),(q=e.CompletionResolveRequest||(e.CompletionResolveRequest={})).method="completionItem/resolve",q.type=new n.ProtocolRequestType(q.method),(F=e.HoverRequest||(e.HoverRequest={})).method="textDocument/hover",F.type=new n.ProtocolRequestType(F.method),(j=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={})).Invoked=1,j.TriggerCharacter=2,j.ContentChange=3,(W=e.SignatureHelpRequest||(e.SignatureHelpRequest={})).method="textDocument/signatureHelp",W.type=new n.ProtocolRequestType(W.method),(U=e.DefinitionRequest||(e.DefinitionRequest={})).method="textDocument/definition",U.type=new n.ProtocolRequestType(U.method),(z=e.ReferencesRequest||(e.ReferencesRequest={})).method="textDocument/references",z.type=new n.ProtocolRequestType(z.method),(B=e.DocumentHighlightRequest||(e.DocumentHighlightRequest={})).method="textDocument/documentHighlight",B.type=new n.ProtocolRequestType(B.method),(H=e.DocumentSymbolRequest||(e.DocumentSymbolRequest={})).method="textDocument/documentSymbol",H.type=new n.ProtocolRequestType(H.method),(K=e.CodeActionRequest||(e.CodeActionRequest={})).method="textDocument/codeAction",K.type=new n.ProtocolRequestType(K.method),(V=e.CodeActionResolveRequest||(e.CodeActionResolveRequest={})).method="codeAction/resolve",V.type=new n.ProtocolRequestType(V.method),(G=e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={})).method="workspace/symbol",G.type=new n.ProtocolRequestType(G.method),($=e.CodeLensRequest||(e.CodeLensRequest={})).method="textDocument/codeLens",$.type=new n.ProtocolRequestType($.method),(Y=e.CodeLensResolveRequest||(e.CodeLensResolveRequest={})).method="codeLens/resolve",Y.type=new n.ProtocolRequestType(Y.method),(X=e.CodeLensRefreshRequest||(e.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",X.type=new n.ProtocolRequestType0(X.method),(J=e.DocumentLinkRequest||(e.DocumentLinkRequest={})).method="textDocument/documentLink",J.type=new n.ProtocolRequestType(J.method),(Z=e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={})).method="documentLink/resolve",Z.type=new n.ProtocolRequestType(Z.method),(Q=e.DocumentFormattingRequest||(e.DocumentFormattingRequest={})).method="textDocument/formatting",Q.type=new n.ProtocolRequestType(Q.method),(ee=e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",ee.type=new n.ProtocolRequestType(ee.method),(te=e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",te.type=new n.ProtocolRequestType(te.method),(e.PrepareSupportDefaultBehavior||(e.PrepareSupportDefaultBehavior={})).Identifier=1,(ne=e.RenameRequest||(e.RenameRequest={})).method="textDocument/rename",ne.type=new n.ProtocolRequestType(ne.method),(re=e.PrepareRenameRequest||(e.PrepareRenameRequest={})).method="textDocument/prepareRename",re.type=new n.ProtocolRequestType(re.method),(e.ExecuteCommandRequest||(e.ExecuteCommandRequest={})).type=new n.ProtocolRequestType("workspace/executeCommand"),(e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={})).type=new n.ProtocolRequestType("workspace/applyEdit")}(Ut);var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.createProtocolConnection=void 0;const dn=s;fn.createProtocolConnection=function(e,t,n,r){return dn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),dn.createMessageConnection(e,t,n,r)},function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,r(s,t),r(Ft,t),r(jt,t),r(Ut,t);var i,o=fn;Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}}),(i=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,i.ContentModified=-32801,i.RequestCancelled=-32800,i.lspReservedErrorRangeEnd=-32800}(Ie),function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const i=Ae;r(Ae,t),r(Ie,t),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}}(a);var pn,hn,gn=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},mn=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(t,n){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(e.isIncremental(o)){var a=_n(o.range),s=this.offsetAt(a.start),c=this.offsetAt(a.end);this._content=this._content.substring(0,s)+o.text+this._content.substring(c,this._content.length);var u=Math.max(a.start.line,0),l=Math.max(a.end.line,0),f=this._lineOffsets,d=yn(o.text,!1,s);if(l-u===d.length)for(var p=0,h=d.length;p<h;p++)f[p+u+1]=d[p];else d.length<1e4?f.splice.apply(f,gn([u+1,l-u],d,!1)):this._lineOffsets=f=f.slice(0,u+1).concat(d,f.slice(l+1));var g=o.text.length-(c-s);if(0!==g)for(p=u+1+d.length,h=f.length;p<h;p++)f[p]=f[p]+g}else{if(!e.isFull(o))throw new Error("Unknown change event received");this._content=o.text,this._lineOffsets=void 0}}this._version=n},e.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=yn(this._content,!0)),this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return{line:o,character:e-t[o]}},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e.isIncremental=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},e}();function vn(e,t){if(e.length<=1)return e;var n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);vn(r,t),vn(i,t);for(var o=0,a=0,s=0;o<r.length&&a<i.length;){var c=t(r[o],i[a]);e[s++]=c<=0?r[o++]:i[a++]}for(;o<r.length;)e[s++]=r[o++];for(;a<i.length;)e[s++]=i[a++];return e}function yn(e,t,n){void 0===n&&(n=0);for(var r=t?[n]:[],i=0;i<e.length;i++){var o=e.charCodeAt(i);13!==o&&10!==o||(13===o&&i+1<e.length&&10===e.charCodeAt(i+1)&&i++,r.push(n+i+1))}return r}function _n(e){var t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function Rn(e){var t=_n(e.range);return t!==e.range?{newText:e.newText,range:t}:e}(hn=pn||(pn={})).create=function(e,t,n,r){return new mn(e,t,n,r)},hn.update=function(e,t,n){if(e instanceof mn)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},hn.applyEdits=function(e,t){for(var n=e.getText(),r=0,i=[],o=0,a=vn(t.map(Rn),(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}));o<a.length;o++){var s=a[o],c=e.offsetAt(s.range.start);if(c<r)throw new Error("Overlapping edit");c>r&&i.push(n.substring(r,c)),s.newText.length&&i.push(s.newText),r=e.offsetAt(s.range.end)}return i.push(n.substr(r)),i.join("")};var Tn={},En={},bn={},On={},kn={},Pn={};let Cn;function Sn(){if(void 0===Cn)throw new Error("No runtime abstraction layer installed");return Cn}Object.defineProperty(Pn,"__esModule",{value:!0}),(Sn||(Sn={})).install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");Cn=e},Pn.default=Sn;var Nn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0,(e.Disposable||(e.Disposable={})).create=function(e){return{dispose:e}}}(Nn);var xn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;const t=Pn;!function(e){const t={dispose(){}};e.None=function(){return t}}(e.Event||(e.Event={}));class n{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,s=r.length;a<s;a++)try{n.push(r[a].apply(i[a],e))}catch(o){t.default().console.error(o)}return n}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,i)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const o={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),o.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}e.Emitter=r,r._noop=function(){}}(xn);var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.AbstractMessageBuffer=void 0;wn.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,a=this.toString(i,"ascii").split("\r\n");if(a.length<2)return o;for(let s=0;s<a.length-2;s++){const e=a[s],t=e.indexOf(":");if(-1===t)throw new Error("Message header must separate key and value using :");const n=e.substr(0,t),r=e.substr(t+1).trim();o.set(n,r)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}},Object.defineProperty(kn,"__esModule",{value:!0});const An=Pn,In=Nn,Dn=xn,Ln=wn;class Mn extends Ln.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return Mn.emptyBuffer}fromString(e,t){return(new TextEncoder).encode(e)}toString(e,t){return"ascii"===t?this.asciiDecoder.decode(e):new TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e:e.slice(0,t)}allocNative(e){return new Uint8Array(e)}}Mn.emptyBuffer=new Uint8Array(0);class qn{constructor(e){this.socket=e,this._onData=new Dn.Emitter,this._messageListener=e=>{e.data.arrayBuffer().then((e=>{this._onData.fire(new Uint8Array(e))}))},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),In.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),In.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),In.Disposable.create((()=>this.socket.removeEventListener("end",e)))}onData(e){return this._onData.event(e)}}class Fn{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),In.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),In.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),In.Disposable.create((()=>this.socket.removeEventListener("end",e)))}write(e,t){if("string"==typeof e){if(void 0!==t&&"utf-8"!==t)throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${t}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const jn=new TextEncoder,Wn=Object.freeze({messageBuffer:Object.freeze({create:e=>new Mn(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if("utf-8"!==t.charset)throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${t.charset}`);return Promise.resolve(jn.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new qn(e),asWritableStream:e=>new Fn(e)}),console:console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setTimeout(e,0,...t),clearImmediate(e){clearTimeout(e)}})});function Un(){return Wn}(Un||(Un={})).install=function(){An.default.install(Wn)},kn.default=Un;var zn={},Bn={},Hn={};function Kn(e){return"string"==typeof e||e instanceof String}function Vn(e){return Array.isArray(e)}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.stringArray=Hn.array=Hn.func=Hn.error=Hn.number=Hn.string=Hn.boolean=void 0,Hn.boolean=function(e){return!0===e||!1===e},Hn.string=Kn,Hn.number=function(e){return"number"==typeof e||e instanceof Number},Hn.error=function(e){return e instanceof Error},Hn.func=function(e){return"function"==typeof e},Hn.array=Vn,Hn.stringArray=function(e){return Vn(e)&&e.every((e=>Kn(e)))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isResponseMessage=e.isNotificationMessage=e.isRequestMessage=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;const t=Hn;var n,r;(r=n=e.ErrorCodes||(e.ErrorCodes={})).ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=r.jsonrpcReservedErrorRangeStart,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=r.jsonrpcReservedErrorRangeEnd;class i extends Error{constructor(e,r,o){super(r),this.code=t.number(e)?e:n.UnknownErrorCode,this.data=o,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}e.ResponseError=i;class o{constructor(e){this.kind=e}static is(e){return e===o.auto||e===o.byName||e===o.byPosition}toString(){return this.kind}}e.ParameterStructures=o,o.auto=new o("auto"),o.byPosition=new o("byPosition"),o.byName=new o("byName");class a{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return o.auto}}e.AbstractMessageSignature=a;e.RequestType0=class extends a{constructor(e){super(e,0)}};e.RequestType=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.RequestType1=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.RequestType2=class extends a{constructor(e){super(e,2)}};e.RequestType3=class extends a{constructor(e){super(e,3)}};e.RequestType4=class extends a{constructor(e){super(e,4)}};e.RequestType5=class extends a{constructor(e){super(e,5)}};e.RequestType6=class extends a{constructor(e){super(e,6)}};e.RequestType7=class extends a{constructor(e){super(e,7)}};e.RequestType8=class extends a{constructor(e){super(e,8)}};e.RequestType9=class extends a{constructor(e){super(e,9)}};e.NotificationType=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.NotificationType0=class extends a{constructor(e){super(e,0)}};e.NotificationType1=class extends a{constructor(e,t=o.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};e.NotificationType2=class extends a{constructor(e){super(e,2)}};e.NotificationType3=class extends a{constructor(e){super(e,3)}};e.NotificationType4=class extends a{constructor(e){super(e,4)}};e.NotificationType5=class extends a{constructor(e){super(e,5)}};e.NotificationType6=class extends a{constructor(e){super(e,6)}};e.NotificationType7=class extends a{constructor(e){super(e,7)}};e.NotificationType8=class extends a{constructor(e){super(e,8)}};e.NotificationType9=class extends a{constructor(e){super(e,9)}},e.isRequestMessage=function(e){const n=e;return n&&t.string(n.method)&&(t.string(n.id)||t.number(n.id))},e.isNotificationMessage=function(e){const n=e;return n&&t.string(n.method)&&void 0===e.id},e.isResponseMessage=function(e){const n=e;return n&&(void 0!==n.result||!!n.error)&&(t.string(n.id)||t.number(n.id)||null===n.id)}}(Bn);var Gn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const t=Pn,n=Hn,r=xn;var i,o;(o=i=e.CancellationToken||(e.CancellationToken={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),o.is=function(e){const t=e;return t&&(t===o.None||t===o.Cancelled||n.boolean(t.isCancellationRequested)&&!!t.onCancellationRequested)};const a=Object.freeze((function(e,n){const r=t.default().timer.setTimeout(e.bind(n),0);return{dispose(){t.default().timer.clearTimeout(r)}}}));class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}e.CancellationTokenSource=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=i.None}}}(Gn);var $n={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;const t=Pn,n=Hn,r=xn;var i;(e.MessageReader||(e.MessageReader={})).is=function(e){let t=e;return t&&n.func(t.listen)&&n.func(t.dispose)&&n.func(t.onError)&&n.func(t.onClose)&&n.func(t.onPartialMessage)};class o{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${n.string(e.message)?e.message:"unknown"}`)}}e.AbstractMessageReader=o,(i||(i={})).fromOptions=function(e){var n;let r,i;const o=new Map;let a;const s=new Map;if(void 0===e||"string"==typeof e)r=null!=e?e:"utf-8";else{if(r=null!==(n=e.charset)&&void 0!==n?n:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,o.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(a=e.contentTypeDecoder,s.set(a.name,a)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===a&&(a=t.default().applicationJson.decoder,s.set(a.name,a)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:s}};e.ReadableStreamMessageReader=class extends o{constructor(e,n){super(),this.readable=e,this.options=i.fromOptions(n),this.buffer=t.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(t.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=t.default().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}}($n);var Yn={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.Semaphore=void 0;const Jn=Pn;Xn.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&Jn.default().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;const t=Pn,n=Hn,r=Xn,i=xn;var o;(e.MessageWriter||(e.MessageWriter={})).is=function(e){let t=e;return t&&n.func(t.dispose)&&n.func(t.onClose)&&n.func(t.onError)&&n.func(t.write)};class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${n.string(e.message)?e.message:"unknown"}`)}}e.AbstractMessageWriter=a,(o||(o={})).fromOptions=function(e){var n,r;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:t.default().applicationJson.encoder}:{charset:null!==(n=e.charset)&&void 0!==n?n:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(r=e.contentTypeEncoder)&&void 0!==r?r:t.default().applicationJson.encoder}};e.WriteableStreamMessageWriter=class extends a{constructor(e,t){super(),this.writable=e,this.options=o.fromOptions(t),this.errorCount=0,this.writeSemaphore=new r.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}}(Yn);var Zn={},Qn={};!function(e){var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0,(n=t=e.Touch||(e.Touch={})).None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last;class r{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,n=t.None){const r=this._map.get(e);if(r)return n!==t.None&&this.touch(r,n),r.value}set(e,n,r=t.None){let i=this._map.get(e);if(i)i.value=n,r!==t.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case t.None:this.addItemLast(i);break;case t.First:this.addItemFirst(i);break;case t.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(n===t.First||n===t.Last)if(n===t.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===t.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}e.LinkedMap=r;e.LRUCache=class extends r{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=t.AsNew){return super.get(e,n)}peek(e){return super.get(e,t.None)}set(e,n){return super.set(e,n,t.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}}(Qn),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.Trace=e.NullLogger=e.ProgressType=void 0;const t=Pn,n=Hn,r=Bn,i=Qn,o=xn,a=Gn;var s,c,u,l,f,d,p,h,g,m,v,y,_,R,T,E,b,O,k,P;(s||(s={})).type=new r.NotificationType("$/cancelRequest"),(c||(c={})).type=new r.NotificationType("$/progress");e.ProgressType=class{constructor(){}},(u||(u={})).is=function(e){return n.func(e)},e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),(f=l=e.Trace||(e.Trace={}))[f.Off=0]="Off",f[f.Messages=1]="Messages",f[f.Verbose=2]="Verbose",function(e){e.fromString=function(t){if(!n.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(l=e.Trace||(e.Trace={})),(p=e.TraceFormat||(e.TraceFormat={})).Text="text",p.JSON="json",function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(d=e.TraceFormat||(e.TraceFormat={})),(h=e.SetTraceNotification||(e.SetTraceNotification={})).type=new r.NotificationType("$/setTrace"),(g=e.LogTraceNotification||(e.LogTraceNotification={})).type=new r.NotificationType("$/logTrace"),(v=m=e.ConnectionErrors||(e.ConnectionErrors={}))[v.Closed=1]="Closed",v[v.Disposed=2]="Disposed",v[v.AlreadyListening=3]="AlreadyListening";class C extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,C.prototype)}}e.ConnectionError=C,(y=e.ConnectionStrategy||(e.ConnectionStrategy={})).is=function(e){const t=e;return t&&n.func(t.cancelUndispatched)},(R=_=e.CancellationReceiverStrategy||(e.CancellationReceiverStrategy={})).Message=Object.freeze({createCancellationTokenSource:e=>new a.CancellationTokenSource}),R.is=function(e){const t=e;return t&&n.func(t.createCancellationTokenSource)},(E=T=e.CancellationSenderStrategy||(e.CancellationSenderStrategy={})).Message=Object.freeze({sendCancellation(e,t){e.sendNotification(s.type,{id:t})},cleanup(e){}}),E.is=function(e){const t=e;return t&&n.func(t.sendCancellation)&&n.func(t.cleanup)},(O=b=e.CancellationStrategy||(e.CancellationStrategy={})).Message=Object.freeze({receiver:_.Message,sender:T.Message}),O.is=function(e){const t=e;return t&&_.is(t.receiver)&&T.is(t.sender)},(e.ConnectionOptions||(e.ConnectionOptions={})).is=function(e){const t=e;return t&&(b.is(t.cancellationStrategy)||y.is(t.connectionStrategy))},(P=k||(k={}))[P.New=1]="New",P[P.Listening=2]="Listening",P[P.Closed=3]="Closed",P[P.Disposed=4]="Disposed",e.createMessageConnection=function(f,p,v,y){const _=void 0!==v?v:e.NullLogger;let R=0,T=0,E=0;const O="2.0";let P;const S=Object.create(null);let N;const x=Object.create(null),w=new Map;let A,I,D=new i.LinkedMap,L=Object.create(null),M=Object.create(null),q=l.Off,F=d.Text,j=k.New;const W=new o.Emitter,U=new o.Emitter,z=new o.Emitter,B=new o.Emitter,H=new o.Emitter,K=y&&y.cancellationStrategy?y.cancellationStrategy:b.Message;function V(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function G(e,t){var n;r.isRequestMessage(t)?e.set(V(t.id),t):r.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++E).toString():"res-"+n.toString(),t):e.set("not-"+(++T).toString(),t)}function $(e){}function Y(){return j===k.Listening}function X(){return j===k.Closed}function J(){return j===k.Disposed}function Z(){j!==k.New&&j!==k.Listening||(j=k.Closed,U.fire(void 0))}function Q(){A||0===D.size||(A=t.default().timer.setImmediate((()=>{A=void 0,function(){if(0===D.size)return;const e=D.shift();try{r.isRequestMessage(e)?function(e){if(J())return;function t(t,n,i){const o={jsonrpc:O,id:e.id};t instanceof r.ResponseError?o.error=t.toJson():o.result=void 0===t?null:t,te(o,n,i),p.write(o)}function i(t,n,r){const i={jsonrpc:O,id:e.id,error:t.toJson()};te(i,n,r),p.write(i)}function o(t,n,r){void 0===t&&(t=null);const i={jsonrpc:O,id:e.id,result:t};te(i,n,r),p.write(i)}!function(e){if(q===l.Off||!I)return;if(F===d.Text){let t;q===l.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Received request '${e.method} - (${e.id})'.`,t)}else ne("receive-request",e)}(e);const a=S[e.method];let s,c;a&&(s=a.type,c=a.handler);const u=Date.now();if(c||P){const a=String(e.id),l=K.receiver.createCancellationTokenSource(a);M[a]=l;try{let f;if(c)if(void 0===e.params){if(void 0!==s&&0!==s.numberOfParams)return void i(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${e.method} defines ${s.numberOfParams} params but recevied none.`),e.method,u);f=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==s&&s.parameterStructures===r.ParameterStructures.byName)return void i(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);f=c(...e.params,l.token)}else{if(void 0!==s&&s.parameterStructures===r.ParameterStructures.byPosition)return void i(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);f=c(e.params,l.token)}else P&&(f=P(e.method,e.params,l.token));const d=f;f?d.then?d.then((n=>{delete M[a],t(n,e.method,u)}),(t=>{delete M[a],t instanceof r.ResponseError?i(t,e.method,u):t&&n.string(t.message)?i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(delete M[a],t(f,e.method,u)):(delete M[a],o(f,e.method,u))}catch(f){delete M[a],f instanceof r.ResponseError?t(f,e.method,u):f&&n.string(f.message)?i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${f.message}`),e.method,u):i(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else i(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):r.isNotificationMessage(e)?function(e){if(J())return;let t,n;if(e.method===s.type.method)n=e=>{const t=e.id,n=M[String(t)];n&&n.cancel()};else{const r=x[e.method];r&&(n=r.handler,t=r.type)}if(n||N)try{!function(e){if(q===l.Off||!I||e.method===g.type.method)return;if(F===d.Text){let t;q===l.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Received notification '${e.method}'.`,t)}else ne("receive-notification",e)}(e),n?void 0===e.params?(void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==r.ParameterStructures.byName&&_.error(`Notification ${e.method} defines ${t.numberOfParams} params but recevied none.`),n()):Array.isArray(e.params)?(void 0!==t&&(t.parameterStructures===r.ParameterStructures.byName&&_.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&_.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${e.params.length} argumennts`)),n(...e.params)):(void 0!==t&&t.parameterStructures===r.ParameterStructures.byPosition&&_.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params)):N&&N(e.method,e.params)}catch(i){i.message?_.error(`Notification handler '${e.method}' failed with message: ${i.message}`):_.error(`Notification handler '${e.method}' failed unexpectedly.`)}else z.fire(e)}(e):r.isResponseMessage(e)?function(e){if(J())return;if(null===e.id)e.error?_.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):_.error("Received response message without id. No further error information provided.");else{const n=String(e.id),i=L[n];if(function(e,t){if(q===l.Off||!I)return;if(F===d.Text){let n;if(q===l.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";I.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else I.log(`Received response ${e.id} without active response promise.`,n)}else ne("receive-response",e)}(e,i),i){delete L[n];try{if(e.error){const t=e.error;i.reject(new r.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");i.resolve(e.result)}}catch(t){t.message?_.error(`Response handler '${i.method}' failed with message: ${t.message}`):_.error(`Response handler '${i.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void _.error("Received empty message.");_.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(n.string(t.id)||n.number(t.id)){const e=String(t.id),n=L[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{Q()}}()})))}f.onClose(Z),f.onError((function(e){W.fire([e,void 0,void 0])})),p.onClose(Z),p.onError((function(e){W.fire(e)}));const ee=e=>{try{if(r.isNotificationMessage(e)&&e.method===s.type.method){const t=V(e.params.id),n=D.get(t);if(r.isRequestMessage(n)){const r=null==y?void 0:y.connectionStrategy,i=r&&r.cancelUndispatched?r.cancelUndispatched(n,$):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return D.delete(t),i.id=n.id,te(i,e.method,Date.now()),void p.write(i)}}G(D,e)}finally{Q()}};function te(e,t,n){if(q!==l.Off&&I)if(F===d.Text){let r;q===l.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),I.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else ne("send-response",e)}function ne(e,t){if(!I||q===l.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};I.log(n)}function re(){if(X())throw new C(m.Closed,"Connection is closed.");if(J())throw new C(m.Disposed,"Connection is disposed.")}function ie(e){return void 0===e?null:e}function oe(e){return null===e?void 0:e}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function se(e,t){switch(e){case r.ParameterStructures.auto:return ae(t)?oe(t):[ie(t)];case r.ParameterStructures.byName:if(!ae(t))throw new Error("Recevied parameters by name but param is not an object literal.");return oe(t);case r.ParameterStructures.byPosition:return[ie(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function ce(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=se(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ie(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const ue={sendNotification:(e,...t)=>{let i,o;if(re(),n.string(e)){i=e;const n=t[0];let a=0,s=r.ParameterStructures.auto;r.ParameterStructures.is(n)&&(a=1,s=n);let c=t.length;const u=c-a;switch(u){case 0:o=void 0;break;case 1:o=se(s,t[a]);break;default:if(s===r.ParameterStructures.byName)throw new Error(`Recevied ${u} parameters for 'by Name' notification parameter structure.`);o=t.slice(a,c).map((e=>ie(e)))}}else{const n=t;i=e.method,o=ce(e,n)}const a={jsonrpc:O,method:i,params:o};!function(e){if(q!==l.Off&&I)if(F===d.Text){let t;q===l.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),I.log(`Sending notification '${e.method}'.`,t)}else ne("send-notification",e)}(a),p.write(a)},onNotification:(e,t)=>{let r;return re(),n.func(e)?N=e:t&&(n.string(e)?(r=e,x[e]={type:void 0,handler:t}):(r=e.method,x[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==r?delete x[r]:N=void 0}}},onProgress:(e,t,n)=>{if(w.has(t))throw new Error(`Progress handler for token ${t} already registered`);return w.set(t,n),{dispose:()=>{w.delete(t)}}},sendProgress:(e,t,n)=>{ue.sendNotification(c.type,{token:t,value:n})},onUnhandledProgress:B.event,sendRequest:(e,...t)=>{let i,o,s;if(re(),function(){if(!Y())throw new Error("Call listen() first.")}(),n.string(e)){i=e;const n=t[0],c=t[t.length-1];let u=0,l=r.ParameterStructures.auto;r.ParameterStructures.is(n)&&(u=1,l=n);let f=t.length;a.CancellationToken.is(c)&&(f-=1,s=c);const d=f-u;switch(d){case 0:o=void 0;break;case 1:o=se(l,t[u]);break;default:if(l===r.ParameterStructures.byName)throw new Error(`Recevied ${d} parameters for 'by Name' request parameter structure.`);o=t.slice(u,f).map((e=>ie(e)))}}else{const n=t;i=e.method,o=ce(e,n);const r=e.numberOfParams;s=a.CancellationToken.is(n[r])?n[r]:void 0}const c=R++;let u;s&&(u=s.onCancellationRequested((()=>{K.sender.sendCancellation(ue,c)})));return new Promise(((e,t)=>{const n={jsonrpc:O,id:c,method:i,params:o};let a={method:i,timerStart:Date.now(),resolve:t=>{e(t),K.sender.cleanup(c),null==u||u.dispose()},reject:e=>{t(e),K.sender.cleanup(c),null==u||u.dispose()}};!function(e){if(q!==l.Off&&I)if(F===d.Text){let t;q===l.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),I.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ne("send-request",e)}(n);try{p.write(n)}catch(s){a.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,s.message?s.message:"Unknown reason")),a=null}a&&(L[String(c)]=a)}))},onRequest:(e,t)=>{re();let r=null;return u.is(e)?(r=void 0,P=e):n.string(e)?(r=null,void 0!==t&&(r=e,S[e]={handler:t,type:void 0})):void 0!==t&&(r=e.method,S[e.method]={type:e,handler:t}),{dispose:()=>{null!==r&&(void 0!==r?delete S[r]:P=void 0)}}},trace:(e,t,r)=>{let i=!1,o=d.Text;void 0!==r&&(n.boolean(r)?i=r:(i=r.sendNotification||!1,o=r.traceFormat||d.Text)),q=e,F=o,I=q===l.Off?void 0:t,!i||X()||J()||ue.sendNotification(h.type,{value:l.toString(e)})},onError:W.event,onClose:U.event,onUnhandledNotification:z.event,onDispose:H.event,end:()=>{p.end()},dispose:()=>{if(J())return;j=k.Disposed,H.fire(void 0);const e=new Error("Connection got disposed.");Object.keys(L).forEach((t=>{L[t].reject(e)})),L=Object.create(null),M=Object.create(null),D=new i.LinkedMap,n.func(p.dispose)&&p.dispose(),n.func(f.dispose)&&f.dispose()},listen:()=>{re(),function(){if(Y())throw new C(m.AlreadyListening,"Connection is already listening")}(),j=k.Listening,f.listen(ee)},inspect:()=>{t.default().console.log("inspect")}};return ue.onNotification(g.type,(e=>{q!==l.Off&&I&&I.log(e.message,q===l.Verbose?e.verbose:void 0)})),ue.onNotification(c.type,(e=>{const t=w.get(e.token);t?t(e.value):B.fire(e)})),ue}}(Zn),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.Trace=e.ProgressType=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.RAL=void 0,e.CancellationStrategy=void 0;const t=Bn;Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=Nn;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return n.Disposable}});const r=xn;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return r.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return r.Emitter}});const i=Gn;Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return i.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return i.CancellationToken}});const o=$n;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return o.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return o.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return o.ReadableStreamMessageReader}});const a=Yn;Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return a.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return a.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return a.WriteableStreamMessageWriter}});const s=Zn;Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return s.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return s.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return s.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return s.createMessageConnection}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return s.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return s.Trace}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return s.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return s.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return s.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return s.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return s.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return s.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return s.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return s.CancellationStrategy}});const c=Pn;e.RAL=c.default}(zn),function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0;kn.default.install();const i=zn;r(zn,t);class o extends i.AbstractMessageReader{constructor(e){super(),this._onData=new i.Emitter,this._messageListener=e=>{this._onData.fire(e.data)},e.addEventListener("error",(e=>this.fireError(e))),e.onmessage=this._messageListener}listen(e){return this._onData.event(e)}}t.BrowserMessageReader=o;class a extends i.AbstractMessageWriter{constructor(e){super(),this.context=e,this.errorCount=0,e.addEventListener("error",(e=>this.fireError(e)))}write(e){try{return this.context.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.BrowserMessageWriter=a,t.createMessageConnection=function(e,t,n,r){return void 0===n&&(n=i.NullLogger),i.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),i.createMessageConnection(e,t,n,r)}}(On);var er,tr,nr,rr,ir,or,ar,sr,cr,ur,lr,fr,dr,pr,hr,gr,mr,vr,yr,_r,Rr,Tr,Er,br,Or,kr,Pr=On,Cr={};!function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(er||(er={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(tr||(tr={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=tr.MAX_VALUE),t===Number.MAX_VALUE&&(t=tr.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return ci.objectLiteral(t)&&ci.uinteger(t.line)&&ci.uinteger(t.character)}}(nr||(nr={})),function(e){e.create=function(e,t,n,r){if(ci.uinteger(e)&&ci.uinteger(t)&&ci.uinteger(n)&&ci.uinteger(r))return{start:nr.create(e,t),end:nr.create(n,r)};if(nr.is(e)&&nr.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return ci.objectLiteral(t)&&nr.is(t.start)&&nr.is(t.end)}}(rr||(rr={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return ci.defined(t)&&rr.is(t.range)&&(ci.string(t.uri)||ci.undefined(t.uri))}}(ir||(ir={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return ci.defined(t)&&rr.is(t.targetRange)&&ci.string(t.targetUri)&&(rr.is(t.targetSelectionRange)||ci.undefined(t.targetSelectionRange))&&(rr.is(t.originSelectionRange)||ci.undefined(t.originSelectionRange))}}(or||(or={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return ci.numberRange(t.red,0,1)&&ci.numberRange(t.green,0,1)&&ci.numberRange(t.blue,0,1)&&ci.numberRange(t.alpha,0,1)}}(ar||(ar={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return rr.is(t.range)&&ar.is(t.color)}}(sr||(sr={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return ci.string(t.label)&&(ci.undefined(t.textEdit)||vr.is(t))&&(ci.undefined(t.additionalTextEdits)||ci.typedArray(t.additionalTextEdits,vr.is))}}(cr||(cr={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(ur||(ur={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return ci.defined(n)&&(o.startCharacter=n),ci.defined(r)&&(o.endCharacter=r),ci.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return ci.uinteger(t.startLine)&&ci.uinteger(t.startLine)&&(ci.undefined(t.startCharacter)||ci.uinteger(t.startCharacter))&&(ci.undefined(t.endCharacter)||ci.uinteger(t.endCharacter))&&(ci.undefined(t.kind)||ci.string(t.kind))}}(lr||(lr={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return ci.defined(t)&&ir.is(t.location)&&ci.string(t.message)}}(fr||(fr={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(dr||(dr={})),function(e){e.Unnecessary=1,e.Deprecated=2}(pr||(pr={})),(hr||(hr={})).is=function(e){var t=e;return null!=t&&ci.string(t.href)},function(e){e.create=function(e,t,n,r,i,o){var a={range:e,message:t};return ci.defined(n)&&(a.severity=n),ci.defined(r)&&(a.code=r),ci.defined(i)&&(a.source=i),ci.defined(o)&&(a.relatedInformation=o),a},e.is=function(e){var t,n=e;return ci.defined(n)&&rr.is(n.range)&&ci.string(n.message)&&(ci.number(n.severity)||ci.undefined(n.severity))&&(ci.integer(n.code)||ci.string(n.code)||ci.undefined(n.code))&&(ci.undefined(n.codeDescription)||ci.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(ci.string(n.source)||ci.undefined(n.source))&&(ci.undefined(n.relatedInformation)||ci.typedArray(n.relatedInformation,fr.is))}}(gr||(gr={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return ci.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return ci.defined(t)&&ci.string(t.title)&&ci.string(t.command)}}(mr||(mr={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return ci.objectLiteral(t)&&ci.string(t.newText)&&rr.is(t.range)}}(vr||(vr={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return void 0!==t&&ci.objectLiteral(t)&&ci.string(t.label)&&(ci.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(ci.string(t.description)||void 0===t.description)}}(yr||(yr={})),(_r||(_r={})).is=function(e){return"string"==typeof e},function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return vr.is(t)&&(yr.is(t.annotationId)||_r.is(t.annotationId))}}(Rr||(Rr={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return ci.defined(t)&&xr.is(t.textDocument)&&Array.isArray(t.edits)}}(Tr||(Tr={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&ci.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||ci.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ci.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||_r.is(t.annotationId))}}(Er||(Er={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&ci.string(t.oldUri)&&ci.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||ci.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ci.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||_r.is(t.annotationId))}}(br||(br={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&ci.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||ci.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||ci.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||_r.is(t.annotationId))}}(Or||(Or={})),(kr||(kr={})).is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return ci.string(e.kind)?Er.is(e)||br.is(e)||Or.is(e):Tr.is(e)})))};var Sr,Nr,xr,wr,Ar,Ir,Dr,Lr,Mr,qr,Fr,jr,Wr,Ur,zr,Br,Hr,Kr,Vr,Gr,$r,Yr,Xr,Jr,Zr,Qr,ei,ti,ni,ri,ii=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=vr.insert(e,t):_r.is(n)?(i=n,r=Rr.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Rr.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=vr.replace(e,t):_r.is(n)?(i=n,r=Rr.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Rr.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=vr.del(e):_r.is(t)?(r=t,n=Rr.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=Rr.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),oi=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(_r.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id "+n+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+n);return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),ai=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new oi(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(Tr.is(e)){var n=new ii(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new ii(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(xr.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new ii(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new ii(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new oi,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(yr.is(t)||_r.is(t)?r=t:n=t,void 0===r?i=Er.create(e,n):(o=_r.is(r)?r:this._changeAnnotations.manage(r),i=Er.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,a;if(yr.is(n)||_r.is(n)?i=n:r=n,void 0===i?o=br.create(e,t,r):(a=_r.is(i)?i:this._changeAnnotations.manage(i),o=br.create(e,t,r,a)),this._workspaceEdit.documentChanges.push(o),void 0!==a)return a},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(yr.is(t)||_r.is(t)?r=t:n=t,void 0===r?i=Or.create(e,n):(o=_r.is(r)?r:this._changeAnnotations.manage(r),i=Or.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return ci.defined(t)&&ci.string(t.uri)}}(Sr||(Sr={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ci.defined(t)&&ci.string(t.uri)&&ci.integer(t.version)}}(Nr||(Nr={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ci.defined(t)&&ci.string(t.uri)&&(null===t.version||ci.integer(t.version))}}(xr||(xr={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return ci.defined(t)&&ci.string(t.uri)&&ci.string(t.languageId)&&ci.integer(t.version)&&ci.string(t.text)}}(wr||(wr={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(Ar||(Ar={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(Ar||(Ar={})),(Ir||(Ir={})).is=function(e){var t=e;return ci.objectLiteral(e)&&Ar.is(t.kind)&&ci.string(t.value)},function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(Dr||(Dr={})),function(e){e.PlainText=1,e.Snippet=2}(Lr||(Lr={})),(Mr||(Mr={})).Deprecated=1,function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&ci.string(t.newText)&&rr.is(t.insert)&&rr.is(t.replace)}}(qr||(qr={})),function(e){e.asIs=1,e.adjustIndentation=2}(Fr||(Fr={})),(jr||(jr={})).create=function(e){return{label:e}},(Wr||(Wr={})).create=function(e,t){return{items:e||[],isIncomplete:!!t}},function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return ci.string(t)||ci.objectLiteral(t)&&ci.string(t.language)&&ci.string(t.value)}}(Ur||(Ur={})),(zr||(zr={})).is=function(e){var t=e;return!!t&&ci.objectLiteral(t)&&(Ir.is(t.contents)||Ur.is(t.contents)||ci.typedArray(t.contents,Ur.is))&&(void 0===e.range||rr.is(e.range))},(Br||(Br={})).create=function(e,t){return t?{label:e,documentation:t}:{label:e}},(Hr||(Hr={})).create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return ci.defined(t)&&(i.documentation=t),ci.defined(n)?i.parameters=n:i.parameters=[],i},function(e){e.Text=1,e.Read=2,e.Write=3}(Kr||(Kr={})),(Vr||(Vr={})).create=function(e,t){var n={range:e};return ci.number(t)&&(n.kind=t),n},function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Gr||(Gr={})),($r||($r={})).Deprecated=1,(Yr||(Yr={})).create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o},function(e){e.create=function(e,t,n,r,i,o){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(a.children=o),a},e.is=function(e){var t=e;return t&&ci.string(t.name)&&ci.number(t.kind)&&rr.is(t.range)&&rr.is(t.selectionRange)&&(void 0===t.detail||ci.string(t.detail))&&(void 0===t.deprecated||ci.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(Xr||(Xr={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Jr||(Jr={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return ci.defined(t)&&ci.typedArray(t.diagnostics,gr.is)&&(void 0===t.only||ci.typedArray(t.only,ci.string))}}(Zr||(Zr={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):mr.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&ci.string(t.title)&&(void 0===t.diagnostics||ci.typedArray(t.diagnostics,gr.is))&&(void 0===t.kind||ci.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||mr.is(t.command))&&(void 0===t.isPreferred||ci.boolean(t.isPreferred))&&(void 0===t.edit||kr.is(t.edit))}}(Qr||(Qr={})),function(e){e.create=function(e,t){var n={range:e};return ci.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return ci.defined(t)&&rr.is(t.range)&&(ci.undefined(t.command)||mr.is(t.command))}}(ei||(ei={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return ci.defined(t)&&ci.uinteger(t.tabSize)&&ci.boolean(t.insertSpaces)}}(ti||(ti={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return ci.defined(t)&&rr.is(t.range)&&(ci.undefined(t.target)||ci.string(t.target))}}(ni||(ni={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&rr.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ri||(ri={}));var si;!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var a=0,s=0,c=0;a<i.length&&s<o.length;){var u=n(i[a],o[s]);e[c++]=u<=0?i[a++]:o[s++]}for(;a<i.length;)e[c++]=i[a++];for(;s<o.length;)e[c++]=o[s++];return e}e.create=function(e,t,n,r){return new ui(e,t,n,r)},e.is=function(e){var t=e;return!!(ci.defined(t)&&ci.string(t.uri)&&(ci.undefined(t.languageId)||ci.string(t.languageId))&&ci.uinteger(t.lineCount)&&ci.func(t.getText)&&ci.func(t.positionAt)&&ci.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,a=i.length-1;a>=0;a--){var s=i[a],c=e.offsetAt(s.range.start),u=e.offsetAt(s.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+s.newText+r.substring(u,r.length),o=c}return r}}(si||(si={}));var ci,ui=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return nr.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return nr.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(ci||(ci={}));var li=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get integer(){return er},get uinteger(){return tr},get Position(){return nr},get Range(){return rr},get Location(){return ir},get LocationLink(){return or},get Color(){return ar},get ColorInformation(){return sr},get ColorPresentation(){return cr},get FoldingRangeKind(){return ur},get FoldingRange(){return lr},get DiagnosticRelatedInformation(){return fr},get DiagnosticSeverity(){return dr},get DiagnosticTag(){return pr},get CodeDescription(){return hr},get Diagnostic(){return gr},get Command(){return mr},get TextEdit(){return vr},get ChangeAnnotation(){return yr},get ChangeAnnotationIdentifier(){return _r},get AnnotatedTextEdit(){return Rr},get TextDocumentEdit(){return Tr},get CreateFile(){return Er},get RenameFile(){return br},get DeleteFile(){return Or},get WorkspaceEdit(){return kr},WorkspaceChange:ai,get TextDocumentIdentifier(){return Sr},get VersionedTextDocumentIdentifier(){return Nr},get OptionalVersionedTextDocumentIdentifier(){return xr},get TextDocumentItem(){return wr},get MarkupKind(){return Ar},get MarkupContent(){return Ir},get CompletionItemKind(){return Dr},get InsertTextFormat(){return Lr},get CompletionItemTag(){return Mr},get InsertReplaceEdit(){return qr},get InsertTextMode(){return Fr},get CompletionItem(){return jr},get CompletionList(){return Wr},get MarkedString(){return Ur},get Hover(){return zr},get ParameterInformation(){return Br},get SignatureInformation(){return Hr},get DocumentHighlightKind(){return Kr},get DocumentHighlight(){return Vr},get SymbolKind(){return Gr},get SymbolTag(){return $r},get SymbolInformation(){return Yr},get DocumentSymbol(){return Xr},get CodeActionKind(){return Jr},get CodeActionContext(){return Zr},get CodeAction(){return Qr},get CodeLens(){return ei},get FormattingOptions(){return ti},get DocumentLink(){return ni},get SelectionRange(){return ri},EOL:["\n","\r\n","\r"],get TextDocument(){return si}})),fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.ProtocolNotificationType=fi.ProtocolNotificationType0=fi.ProtocolRequestType=fi.ProtocolRequestType0=fi.RegistrationType=void 0;const di=On;fi.RegistrationType=class{constructor(e){this.method=e}};fi.ProtocolRequestType0=class extends di.RequestType0{constructor(e){super(e)}};fi.ProtocolRequestType=class extends di.RequestType{constructor(e){super(e,di.ParameterStructures.byName)}};fi.ProtocolNotificationType0=class extends di.NotificationType0{constructor(e){super(e)}};fi.ProtocolNotificationType=class extends di.NotificationType{constructor(e){super(e,di.ParameterStructures.byName)}};var pi={},hi={};function gi(e){return"string"==typeof e||e instanceof String}function mi(e){return Array.isArray(e)}Object.defineProperty(hi,"__esModule",{value:!0}),hi.objectLiteral=hi.typedArray=hi.stringArray=hi.array=hi.func=hi.error=hi.number=hi.string=hi.boolean=void 0,hi.boolean=function(e){return!0===e||!1===e},hi.string=gi,hi.number=function(e){return"number"==typeof e||e instanceof Number},hi.error=function(e){return e instanceof Error},hi.func=function(e){return"function"==typeof e},hi.array=mi,hi.stringArray=function(e){return mi(e)&&e.every((e=>gi(e)))},hi.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},hi.objectLiteral=function(e){return null!==e&&"object"==typeof e};var vi={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;const t=fi;var n;(n=e.ImplementationRequest||(e.ImplementationRequest={})).method="textDocument/implementation",n.type=new t.ProtocolRequestType(n.method)}(vi);var yi={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;const t=fi;var n;(n=e.TypeDefinitionRequest||(e.TypeDefinitionRequest={})).method="textDocument/typeDefinition",n.type=new t.ProtocolRequestType(n.method)}(yi);var _i={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;const t=fi;(e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={})).type=new t.ProtocolRequestType0("workspace/workspaceFolders"),(e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={})).type=new t.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(_i);var Ri={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;const t=fi;(e.ConfigurationRequest||(e.ConfigurationRequest={})).type=new t.ProtocolRequestType("workspace/configuration")}(Ri);var Ti={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;const t=fi;var n;(n=e.DocumentColorRequest||(e.DocumentColorRequest={})).method="textDocument/documentColor",n.type=new t.ProtocolRequestType(n.method),(e.ColorPresentationRequest||(e.ColorPresentationRequest={})).type=new t.ProtocolRequestType("textDocument/colorPresentation")}(Ti);var Ei={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRequest=e.FoldingRangeKind=void 0;const t=fi;var n;!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(e.FoldingRangeKind||(e.FoldingRangeKind={})),(n=e.FoldingRangeRequest||(e.FoldingRangeRequest={})).method="textDocument/foldingRange",n.type=new t.ProtocolRequestType(n.method)}(Ei);var bi={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;const t=fi;var n;(n=e.DeclarationRequest||(e.DeclarationRequest={})).method="textDocument/declaration",n.type=new t.ProtocolRequestType(n.method)}(bi);var Oi={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;const t=fi;var n;(n=e.SelectionRangeRequest||(e.SelectionRangeRequest={})).method="textDocument/selectionRange",n.type=new t.ProtocolRequestType(n.method)}(Oi);var ki={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;const t=On,n=fi;var r;(r=e.WorkDoneProgress||(e.WorkDoneProgress={})).type=new t.ProgressType,r.is=function(e){return e===r.type},(e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={})).type=new n.ProtocolRequestType("window/workDoneProgress/create"),(e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={})).type=new n.ProtocolNotificationType("window/workDoneProgress/cancel")}(ki);var Pi={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;const t=fi;var n,r,i;(n=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",n.type=new t.ProtocolRequestType(n.method),(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",r.type=new t.ProtocolRequestType(r.method),(i=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",i.type=new t.ProtocolRequestType(i.method)}(Pi);var Ci={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=void 0;const t=fi;var n,r,i,o,a,s,c;(n=e.SemanticTokenTypes||(e.SemanticTokenTypes={})).namespace="namespace",n.type="type",n.class="class",n.enum="enum",n.interface="interface",n.struct="struct",n.typeParameter="typeParameter",n.parameter="parameter",n.variable="variable",n.property="property",n.enumMember="enumMember",n.event="event",n.function="function",n.method="method",n.macro="macro",n.keyword="keyword",n.modifier="modifier",n.comment="comment",n.string="string",n.number="number",n.regexp="regexp",n.operator="operator",(r=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={})).declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary",(e.SemanticTokens||(e.SemanticTokens={})).is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])},(e.TokenFormat||(e.TokenFormat={})).Relative="relative",(i=e.SemanticTokensRegistrationType||(e.SemanticTokensRegistrationType={})).method="textDocument/semanticTokens",i.type=new t.RegistrationType(i.method),(o=e.SemanticTokensRequest||(e.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",o.type=new t.ProtocolRequestType(o.method),(a=e.SemanticTokensDeltaRequest||(e.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",a.type=new t.ProtocolRequestType(a.method),(s=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",s.type=new t.ProtocolRequestType(s.method),(c=e.SemanticTokensRefreshRequest||(e.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",c.type=new t.ProtocolRequestType0(c.method)}(Ci);var Si={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;const t=fi;var n;(n=e.ShowDocumentRequest||(e.ShowDocumentRequest={})).method="window/showDocument",n.type=new t.ProtocolRequestType(n.method)}(Si);var Ni={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;const t=fi;var n;(n=e.LinkedEditingRangeRequest||(e.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",n.type=new t.ProtocolRequestType(n.method)}(Ni);var xi={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;const t=fi;var n,r,i,o,a,s,c;(n=e.FileOperationPatternKind||(e.FileOperationPatternKind={})).file="file",n.folder="folder",(r=e.WillCreateFilesRequest||(e.WillCreateFilesRequest={})).method="workspace/willCreateFiles",r.type=new t.ProtocolRequestType(r.method),(i=e.DidCreateFilesNotification||(e.DidCreateFilesNotification={})).method="workspace/didCreateFiles",i.type=new t.ProtocolNotificationType(i.method),(o=e.WillRenameFilesRequest||(e.WillRenameFilesRequest={})).method="workspace/willRenameFiles",o.type=new t.ProtocolRequestType(o.method),(a=e.DidRenameFilesNotification||(e.DidRenameFilesNotification={})).method="workspace/didRenameFiles",a.type=new t.ProtocolNotificationType(a.method),(s=e.DidDeleteFilesNotification||(e.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",s.type=new t.ProtocolNotificationType(s.method),(c=e.WillDeleteFilesRequest||(e.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",c.type=new t.ProtocolRequestType(c.method)}(xi);var wi={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;const t=fi;var n,r,i;(n=e.UniquenessLevel||(e.UniquenessLevel={})).document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global",(r=e.MonikerKind||(e.MonikerKind={})).import="import",r.export="export",r.local="local",(i=e.MonikerRequest||(e.MonikerRequest={})).method="textDocument/moniker",i.type=new t.ProtocolRequestType(i.method)}(wi),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeError=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.DocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=void 0;const t=hi,n=fi,r=vi;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return r.ImplementationRequest}});const i=yi;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return i.TypeDefinitionRequest}});const o=_i;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return o.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return o.DidChangeWorkspaceFoldersNotification}});const a=Ri;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return a.ConfigurationRequest}});const s=Ti;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return s.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return s.ColorPresentationRequest}});const c=Ei;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return c.FoldingRangeRequest}});const u=bi;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return u.DeclarationRequest}});const l=Oi;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return l.SelectionRangeRequest}});const f=ki;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const d=Pi;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return d.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return d.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return d.CallHierarchyPrepareRequest}});const p=Ci;Object.defineProperty(e,"SemanticTokenTypes",{enumerable:!0,get:function(){return p.SemanticTokenTypes}}),Object.defineProperty(e,"SemanticTokenModifiers",{enumerable:!0,get:function(){return p.SemanticTokenModifiers}}),Object.defineProperty(e,"SemanticTokens",{enumerable:!0,get:function(){return p.SemanticTokens}}),Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return p.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return p.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return p.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return p.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return p.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return p.SemanticTokensRegistrationType}});const h=Si;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return h.ShowDocumentRequest}});const g=Ni;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return g.LinkedEditingRangeRequest}});const m=xi;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return m.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return m.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return m.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return m.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return m.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return m.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return m.WillDeleteFilesRequest}});const v=wi;var y,_,R,T,E,b,O,k,P,C,S,N,x,w,A,I,D,L,M,q,F,j,W,U,z,B,H,K,V,G,$,Y,X,J,Z,Q,ee,te,ne,re;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return v.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return v.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return v.MonikerRequest}}),(y=e.DocumentFilter||(e.DocumentFilter={})).is=function(e){const n=e;return t.string(n.language)||t.string(n.scheme)||t.string(n.pattern)},(_=e.DocumentSelector||(e.DocumentSelector={})).is=function(e){if(!Array.isArray(e))return!1;for(let n of e)if(!t.string(n)&&!y.is(n))return!1;return!0},(e.RegistrationRequest||(e.RegistrationRequest={})).type=new n.ProtocolRequestType("client/registerCapability"),(e.UnregistrationRequest||(e.UnregistrationRequest={})).type=new n.ProtocolRequestType("client/unregisterCapability"),(R=e.ResourceOperationKind||(e.ResourceOperationKind={})).Create="create",R.Rename="rename",R.Delete="delete",(T=e.FailureHandlingKind||(e.FailureHandlingKind={})).Abort="abort",T.Transactional="transactional",T.TextOnlyTransactional="textOnlyTransactional",T.Undo="undo",(e.StaticRegistrationOptions||(e.StaticRegistrationOptions={})).hasId=function(e){const n=e;return n&&t.string(n.id)&&n.id.length>0},(e.TextDocumentRegistrationOptions||(e.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||_.is(t.documentSelector))},(E=e.WorkDoneProgressOptions||(e.WorkDoneProgressOptions={})).is=function(e){const n=e;return t.objectLiteral(n)&&(void 0===n.workDoneProgress||t.boolean(n.workDoneProgress))},E.hasWorkDoneProgress=function(e){const n=e;return n&&t.boolean(n.workDoneProgress)},(e.InitializeRequest||(e.InitializeRequest={})).type=new n.ProtocolRequestType("initialize"),(e.InitializeError||(e.InitializeError={})).unknownProtocolVersion=1,(e.InitializedNotification||(e.InitializedNotification={})).type=new n.ProtocolNotificationType("initialized"),(e.ShutdownRequest||(e.ShutdownRequest={})).type=new n.ProtocolRequestType0("shutdown"),(e.ExitNotification||(e.ExitNotification={})).type=new n.ProtocolNotificationType0("exit"),(e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={})).type=new n.ProtocolNotificationType("workspace/didChangeConfiguration"),(b=e.MessageType||(e.MessageType={})).Error=1,b.Warning=2,b.Info=3,b.Log=4,(e.ShowMessageNotification||(e.ShowMessageNotification={})).type=new n.ProtocolNotificationType("window/showMessage"),(e.ShowMessageRequest||(e.ShowMessageRequest={})).type=new n.ProtocolRequestType("window/showMessageRequest"),(e.LogMessageNotification||(e.LogMessageNotification={})).type=new n.ProtocolNotificationType("window/logMessage"),(e.TelemetryEventNotification||(e.TelemetryEventNotification={})).type=new n.ProtocolNotificationType("telemetry/event"),(O=e.TextDocumentSyncKind||(e.TextDocumentSyncKind={})).None=0,O.Full=1,O.Incremental=2,(k=e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",k.type=new n.ProtocolNotificationType(k.method),(P=e.TextDocumentContentChangeEvent||(e.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},P.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(C=e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={})).method="textDocument/didChange",C.type=new n.ProtocolNotificationType(C.method),(S=e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={})).method="textDocument/didClose",S.type=new n.ProtocolNotificationType(S.method),(N=e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={})).method="textDocument/didSave",N.type=new n.ProtocolNotificationType(N.method),(x=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={})).Manual=1,x.AfterDelay=2,x.FocusOut=3,(w=e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={})).method="textDocument/willSave",w.type=new n.ProtocolNotificationType(w.method),(A=e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",A.type=new n.ProtocolRequestType(A.method),(e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={})).type=new n.ProtocolNotificationType("workspace/didChangeWatchedFiles"),(I=e.FileChangeType||(e.FileChangeType={})).Created=1,I.Changed=2,I.Deleted=3,(D=e.WatchKind||(e.WatchKind={})).Create=1,D.Change=2,D.Delete=4,(e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={})).type=new n.ProtocolNotificationType("textDocument/publishDiagnostics"),(L=e.CompletionTriggerKind||(e.CompletionTriggerKind={})).Invoked=1,L.TriggerCharacter=2,L.TriggerForIncompleteCompletions=3,(M=e.CompletionRequest||(e.CompletionRequest={})).method="textDocument/completion",M.type=new n.ProtocolRequestType(M.method),(q=e.CompletionResolveRequest||(e.CompletionResolveRequest={})).method="completionItem/resolve",q.type=new n.ProtocolRequestType(q.method),(F=e.HoverRequest||(e.HoverRequest={})).method="textDocument/hover",F.type=new n.ProtocolRequestType(F.method),(j=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={})).Invoked=1,j.TriggerCharacter=2,j.ContentChange=3,(W=e.SignatureHelpRequest||(e.SignatureHelpRequest={})).method="textDocument/signatureHelp",W.type=new n.ProtocolRequestType(W.method),(U=e.DefinitionRequest||(e.DefinitionRequest={})).method="textDocument/definition",U.type=new n.ProtocolRequestType(U.method),(z=e.ReferencesRequest||(e.ReferencesRequest={})).method="textDocument/references",z.type=new n.ProtocolRequestType(z.method),(B=e.DocumentHighlightRequest||(e.DocumentHighlightRequest={})).method="textDocument/documentHighlight",B.type=new n.ProtocolRequestType(B.method),(H=e.DocumentSymbolRequest||(e.DocumentSymbolRequest={})).method="textDocument/documentSymbol",H.type=new n.ProtocolRequestType(H.method),(K=e.CodeActionRequest||(e.CodeActionRequest={})).method="textDocument/codeAction",K.type=new n.ProtocolRequestType(K.method),(V=e.CodeActionResolveRequest||(e.CodeActionResolveRequest={})).method="codeAction/resolve",V.type=new n.ProtocolRequestType(V.method),(G=e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={})).method="workspace/symbol",G.type=new n.ProtocolRequestType(G.method),($=e.CodeLensRequest||(e.CodeLensRequest={})).method="textDocument/codeLens",$.type=new n.ProtocolRequestType($.method),(Y=e.CodeLensResolveRequest||(e.CodeLensResolveRequest={})).method="codeLens/resolve",Y.type=new n.ProtocolRequestType(Y.method),(X=e.CodeLensRefreshRequest||(e.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",X.type=new n.ProtocolRequestType0(X.method),(J=e.DocumentLinkRequest||(e.DocumentLinkRequest={})).method="textDocument/documentLink",J.type=new n.ProtocolRequestType(J.method),(Z=e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={})).method="documentLink/resolve",Z.type=new n.ProtocolRequestType(Z.method),(Q=e.DocumentFormattingRequest||(e.DocumentFormattingRequest={})).method="textDocument/formatting",Q.type=new n.ProtocolRequestType(Q.method),(ee=e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",ee.type=new n.ProtocolRequestType(ee.method),(te=e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",te.type=new n.ProtocolRequestType(te.method),(e.PrepareSupportDefaultBehavior||(e.PrepareSupportDefaultBehavior={})).Identifier=1,(ne=e.RenameRequest||(e.RenameRequest={})).method="textDocument/rename",ne.type=new n.ProtocolRequestType(ne.method),(re=e.PrepareRenameRequest||(e.PrepareRenameRequest={})).method="textDocument/prepareRename",re.type=new n.ProtocolRequestType(re.method),(e.ExecuteCommandRequest||(e.ExecuteCommandRequest={})).type=new n.ProtocolRequestType("workspace/executeCommand"),(e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={})).type=new n.ProtocolRequestType("workspace/applyEdit")}(pi);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.createProtocolConnection=void 0;const Ii=On;Ai.createProtocolConnection=function(e,t,n,r){return Ii.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Ii.createMessageConnection(e,t,n,r)},function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,r(On,t),r(li,t),r(fi,t),r(pi,t);var i,o=Ai;Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}}),(i=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,i.ContentModified=-32801,i.RequestCancelled=-32800,i.lspReservedErrorRangeEnd=-32800}(Cr),function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const i=Pr;r(Pr,t),r(Cr,t),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}}(bn),Object.defineProperty(En,"__esModule",{value:!0}),En.SemanticTokensBuilder=En.SemanticTokensFeature=void 0;const Di=bn;En.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:e=>{const t=Di.SemanticTokensRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onDelta:e=>{const t=Di.SemanticTokensDeltaRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onRange:e=>{const t=Di.SemanticTokensRangeRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}};En.SemanticTokensBuilder=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,n,r,i){let o=e,a=t;this._dataLen>0&&(o-=this._prevLine,0===o&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const e=this._prevData.length,t=this._data.length;let n=0;for(;n<t&&n<e&&this._prevData[n]===this._data[n];)n++;if(n<t&&n<e){let r=0;for(;r<t&&r<e&&this._prevData[e-1-r]===this._data[t-1-r];)r++;const i=this._data.slice(n,t-r);return{resultId:this.id,edits:[{start:n,deleteCount:e-r-n,data:i}]}}return n<t?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<e?{resultId:this.id,edits:[{start:n,deleteCount:e-n}]}:{resultId:this.id,edits:[]}}return this.build()}};var Li={},Mi={};function qi(e){return"string"==typeof e||e instanceof String}function Fi(e){return"function"==typeof e}function ji(e){return Array.isArray(e)}Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.thenable=Mi.typedArray=Mi.stringArray=Mi.array=Mi.func=Mi.error=Mi.number=Mi.string=Mi.boolean=void 0,Mi.boolean=function(e){return!0===e||!1===e},Mi.string=qi,Mi.number=function(e){return"number"==typeof e||e instanceof Number},Mi.error=function(e){return e instanceof Error},Mi.func=Fi,Mi.array=ji,Mi.stringArray=function(e){return ji(e)&&e.every((e=>qi(e)))},Mi.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},Mi.thenable=function(e){return e&&Fi(e.then)};var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.generateUuid=Wi.parse=Wi.isUUID=Wi.v4=Wi.empty=void 0;class Ui{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class zi extends Ui{constructor(){super([zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),"-",zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),"-","4",zi._randomHex(),zi._randomHex(),zi._randomHex(),"-",zi._oneOf(zi._timeHighBits),zi._randomHex(),zi._randomHex(),zi._randomHex(),"-",zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex(),zi._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return zi._oneOf(zi._chars)}}function Bi(){return new zi}zi._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],zi._timeHighBits=["8","9","a","b"],Wi.empty=new Ui("00000000-0000-0000-0000-000000000000"),Wi.v4=Bi;const Hi=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ki(e){return Hi.test(e)}Wi.isUUID=Ki,Wi.parse=function(e){if(!Ki(e))throw new Error("invalid uuid");return new Ui(e)},Wi.generateUuid=function(){return Bi().asHex()};var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.attachPartialResult=Vi.ProgressFeature=Vi.attachWorkDone=void 0;const Gi=bn,$i=Wi;class Yi{constructor(e,t){this._connection=e,this._token=t,Yi.Instances.set(this._token,this)}begin(e,t,n,r){let i={kind:"begin",title:e,percentage:t,message:n,cancellable:r};this._connection.sendProgress(Gi.WorkDoneProgress.type,this._token,i)}report(e,t){let n={kind:"report"};"number"==typeof e?(n.percentage=e,void 0!==t&&(n.message=t)):n.message=e,this._connection.sendProgress(Gi.WorkDoneProgress.type,this._token,n)}done(){Yi.Instances.delete(this._token),this._connection.sendProgress(Gi.WorkDoneProgress.type,this._token,{kind:"end"})}}Yi.Instances=new Map;class Xi extends Yi{constructor(e,t){super(e,t),this._source=new Gi.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class Ji{constructor(){}begin(){}report(){}done(){}}class Zi extends Ji{constructor(){super(),this._source=new Gi.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}Vi.attachWorkDone=function(e,t){if(void 0===t||void 0===t.workDoneToken)return new Ji;const n=t.workDoneToken;return delete t.workDoneToken,new Yi(e,n)};var Qi;Vi.ProgressFeature=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(e){var t;!0===(null===(t=null==e?void 0:e.window)||void 0===t?void 0:t.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(Gi.WorkDoneProgressCancelNotification.type,(e=>{let t=Yi.Instances.get(e.token);(t instanceof Xi||t instanceof Zi)&&t.cancel()})))}attachWorkDoneProgress(e){return void 0===e?new Ji:new Yi(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=$i.generateUuid();return this.connection.sendRequest(Gi.WorkDoneProgressCreateRequest.type,{token:e}).then((()=>new Xi(this.connection,e)))}return Promise.resolve(new Zi)}},(Qi||(Qi={})).type=new Gi.ProgressType;class eo{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(Qi.type,this._token,e)}}Vi.attachPartialResult=function(e,t){if(void 0===t||void 0===t.partialResultToken)return;const n=t.partialResultToken;return delete t.partialResultToken,new eo(e,n)};var to={};Object.defineProperty(to,"__esModule",{value:!0}),to.ConfigurationFeature=void 0;const no=bn,ro=Mi;to.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?ro.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(no.ConfigurationRequest.type,t).then((t=>Array.isArray(e)?t:t[0]))}};var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.WorkspaceFoldersFeature=void 0;const oo=bn;io.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new oo.Emitter,this.connection.onNotification(oo.DidChangeWorkspaceFoldersNotification.type,(e=>{this._onDidChangeWorkspaceFolders.fire(e.event)})))}getWorkspaceFolders(){return this.connection.sendRequest(oo.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(oo.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};var ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.CallHierarchyFeature=void 0;const so=bn;ao.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(so.CallHierarchyPrepareRequest.type,((t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0)))},onIncomingCalls:e=>{const t=so.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))},onOutgoingCalls:e=>{const t=so.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}};var co={};Object.defineProperty(co,"__esModule",{value:!0}),co.ShowDocumentFeature=void 0;const uo=bn;co.ShowDocumentFeature=e=>class extends e{showDocument(e){return this.connection.sendRequest(uo.ShowDocumentRequest.type,e)}};var lo={};Object.defineProperty(lo,"__esModule",{value:!0}),lo.FileOperationsFeature=void 0;const fo=bn;lo.FileOperationsFeature=e=>class extends e{onDidCreateFiles(e){this.connection.onNotification(fo.DidCreateFilesNotification.type,(t=>{e(t)}))}onDidRenameFiles(e){this.connection.onNotification(fo.DidRenameFilesNotification.type,(t=>{e(t)}))}onDidDeleteFiles(e){this.connection.onNotification(fo.DidDeleteFilesNotification.type,(t=>{e(t)}))}onWillCreateFiles(e){return this.connection.onRequest(fo.WillCreateFilesRequest.type,((t,n)=>e(t,n)))}onWillRenameFiles(e){return this.connection.onRequest(fo.WillRenameFilesRequest.type,((t,n)=>e(t,n)))}onWillDeleteFiles(e){return this.connection.onRequest(fo.WillDeleteFilesRequest.type,((t,n)=>e(t,n)))}};var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.LinkedEditingRangeFeature=void 0;const ho=bn;po.LinkedEditingRangeFeature=e=>class extends e{onLinkedEditingRange(e){this.connection.onRequest(ho.LinkedEditingRangeRequest.type,((t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0)))}};var go={};Object.defineProperty(go,"__esModule",{value:!0}),go.MonikerFeature=void 0;const mo=bn;go.MonikerFeature=e=>class extends e{get moniker(){return{on:e=>{const t=mo.MonikerRequest.type;this.connection.onRequest(t,((n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n))))}}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=e.combineFeatures=e.combineLanguagesFeatures=e.combineWorkspaceFeatures=e.combineWindowFeatures=e.combineClientFeatures=e.combineTracerFeatures=e.combineTelemetryFeatures=e.combineConsoleFeatures=e._LanguagesImpl=e.BulkUnregistration=e.BulkRegistration=e.ErrorMessageTracker=e.TextDocuments=void 0;const t=bn,n=Mi,r=Wi,i=Vi,o=to,a=io,s=ao,c=En,u=co,l=lo,f=po,d=go;function p(e){if(null!==e)return e}e.TextDocuments=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new t.Emitter,this._onDidOpen=new t.Emitter,this._onDidClose=new t.Emitter,this._onDidSave=new t.Emitter,this._onWillSave=new t.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map((e=>this._documents[e]))}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=t.TextDocumentSyncKind.Full,e.onDidOpenTextDocument((e=>{let t=e.textDocument,n=this._configuration.create(t.uri,t.languageId,t.version,t.text);this._documents[t.uri]=n;let r=Object.freeze({document:n});this._onDidOpen.fire(r),this._onDidChangeContent.fire(r)})),e.onDidChangeTextDocument((e=>{let t=e.textDocument,n=e.contentChanges;if(0===n.length)return;let r=this._documents[t.uri];const{version:i}=t;if(null==i)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);r=this._configuration.update(r,n,i),this._documents[t.uri]=r,this._onDidChangeContent.fire(Object.freeze({document:r}))})),e.onDidCloseTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))})),e.onWillSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))})),e.onWillSaveTextDocumentWaitUntil(((e,t)=>{let n=this._documents[e.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:e.reason}),t):[]})),e.onDidSaveTextDocument((e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))}))}};e.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach((t=>{e.window.showErrorMessage(t)}))}};class h{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(t.MessageType.Error,e)}warn(e){this.send(t.MessageType.Warning,e)}info(e){this.send(t.MessageType.Info,e)}log(e){this.send(t.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(t.LogMessageNotification.type,{type:e,message:n})}}const g=u.ShowDocumentFeature(i.ProgressFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:t.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(t.ShowMessageRequest.type,r).then(p)}showWarningMessage(e,...n){let r={type:t.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(t.ShowMessageRequest.type,r).then(p)}showInformationMessage(e,...n){let r={type:t.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(t.ShowMessageRequest.type,r).then(p)}}));(e.BulkRegistration||(e.BulkRegistration={})).create=function(){return new m};class m{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const i=n.string(e)?e:e.method;if(this._registered.has(i))throw new Error(`${i} is already added to this registration`);const o=r.generateUuid();this._registrations.push({id:o,method:i,registerOptions:t||{}}),this._registered.add(i)}asRegistrationParams(){return{registrations:this._registrations}}}(e.BulkUnregistration||(e.BulkUnregistration={})).create=function(){return new v(void 0,[])};class v{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach((e=>{this._unregistrations.set(e.method,e)}))}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let n={unregisterations:e};this._connection.sendRequest(t.UnregistrationRequest.type,n).then(void 0,(e=>{this._connection.console.info("Bulk unregistration failed.")}))}disposeSingle(e){const r=n.string(e)?e:e.method,i=this._unregistrations.get(r);if(!i)return!1;let o={unregisterations:[i]};return this._connection.sendRequest(t.UnregistrationRequest.type,o).then((()=>{this._unregistrations.delete(r)}),(e=>{this._connection.console.info(`Un-registering request handler for ${i.id} failed.`)})),!0}}class y{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,n){return e instanceof m?this.registerMany(e):e instanceof v?this.registerSingle1(e,t,n):this.registerSingle2(e,t)}registerSingle1(e,i,o){const a=n.string(i)?i:i.method,s=r.generateUuid();let c={registrations:[{id:s,method:a,registerOptions:o||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(t.RegistrationRequest.type,c).then((t=>(e.add({id:s,method:a}),e)),(e=>(this.connection.console.info(`Registering request handler for ${a} failed.`),Promise.reject(e))))}registerSingle2(e,i){const o=n.string(e)?e:e.method,a=r.generateUuid();let s={registrations:[{id:a,method:o,registerOptions:i||{}}]};return this.connection.sendRequest(t.RegistrationRequest.type,s).then((e=>t.Disposable.create((()=>{this.unregisterSingle(a,o)}))),(e=>(this.connection.console.info(`Registering request handler for ${o} failed.`),Promise.reject(e))))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(t.UnregistrationRequest.type,r).then(void 0,(t=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)}))}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(t.RegistrationRequest.type,n).then((()=>new v(this._connection,n.registrations.map((e=>({id:e.id,method:e.method}))))),(e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e))))}}const _=l.FileOperationsFeature(a.WorkspaceFoldersFeature(o.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let n=(r=e)&&r.edit?e:{edit:e};var r;return this.connection.sendRequest(t.ApplyWorkspaceEditRequest.type,n)}})));class R{constructor(){this._trace=t.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==t.Trace.Off&&this.connection.sendNotification(t.LogTraceNotification.type,{message:e,verbose:this._trace===t.Trace.Verbose?n:void 0})}}class T{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(t.TelemetryEventNotification.type,e)}}class E{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return i.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return i.attachPartialResult(this.connection,t)}}e._LanguagesImpl=E;const b=d.MonikerFeature(f.LinkedEditingRangeFeature(c.SemanticTokensFeature(s.CallHierarchyFeature(E))));function O(e,t){return function(n){return t(e(n))}}function k(e,t){return function(n){return t(e(n))}}function P(e,t){return function(n){return t(e(n))}}function C(e,t){return function(n){return t(e(n))}}function S(e,t){return function(n){return t(e(n))}}function N(e,t){return function(n){return t(e(n))}}e.combineConsoleFeatures=O,e.combineTelemetryFeatures=k,e.combineTracerFeatures=P,e.combineClientFeatures=C,e.combineWindowFeatures=S,e.combineWorkspaceFeatures=N,e.combineLanguagesFeatures=function(e,t){return function(n){return t(e(n))}},e.combineFeatures=function(e,t){function n(e,t,n){return e&&t?n(e,t):e||t}return{__brand:"features",console:n(e.console,t.console,O),tracer:n(e.tracer,t.tracer,P),telemetry:n(e.telemetry,t.telemetry,k),client:n(e.client,t.client,C),window:n(e.window,t.window,S),workspace:n(e.workspace,t.workspace,N)}},e.createConnection=function(e,r,o){const a=o&&o.console?new(o.console(h)):new h,s=e(a);a.rawAttach(s);const c=o&&o.tracer?new(o.tracer(R)):new R,u=o&&o.telemetry?new(o.telemetry(T)):new T,l=o&&o.client?new(o.client(y)):new y,f=o&&o.window?new(o.window(g)):new g,d=o&&o.workspace?new(o.workspace(_)):new _,p=o&&o.languages?new(o.languages(b)):new b,m=[a,c,u,l,f,d,p];function v(e){return e instanceof Promise?e:n.thenable(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}let E,O,k,P={listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(n.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(e,t),sendNotification:(e,t)=>{const r=n.string(e)?e:e.method;1===arguments.length?s.sendNotification(r):s.sendNotification(r,t)},onNotification:(e,t)=>s.onNotification(e,t),onProgress:s.onProgress,sendProgress:s.sendProgress,onInitialize:e=>O=e,onInitialized:e=>s.onNotification(t.InitializedNotification.type,e),onShutdown:e=>E=e,onExit:e=>k=e,get console(){return a},get telemetry(){return u},get tracer(){return c},get client(){return l},get window(){return f},get workspace(){return d},get languages(){return p},onDidChangeConfiguration:e=>s.onNotification(t.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>s.onNotification(t.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>s.onNotification(t.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>s.onNotification(t.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>s.onNotification(t.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>s.onNotification(t.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>s.onRequest(t.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>s.onNotification(t.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>s.sendNotification(t.PublishDiagnosticsNotification.type,e),onHover:e=>s.onRequest(t.HoverRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),void 0))),onCompletion:e=>s.onRequest(t.CompletionRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onCompletionResolve:e=>s.onRequest(t.CompletionResolveRequest.type,e),onSignatureHelp:e=>s.onRequest(t.SignatureHelpRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),void 0))),onDeclaration:e=>s.onRequest(t.DeclarationRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onDefinition:e=>s.onRequest(t.DefinitionRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onTypeDefinition:e=>s.onRequest(t.TypeDefinitionRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onImplementation:e=>s.onRequest(t.ImplementationRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onReferences:e=>s.onRequest(t.ReferencesRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onDocumentHighlight:e=>s.onRequest(t.DocumentHighlightRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onDocumentSymbol:e=>s.onRequest(t.DocumentSymbolRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onWorkspaceSymbol:e=>s.onRequest(t.WorkspaceSymbolRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onCodeAction:e=>s.onRequest(t.CodeActionRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onCodeActionResolve:e=>s.onRequest(t.CodeActionResolveRequest.type,((t,n)=>e(t,n))),onCodeLens:e=>s.onRequest(t.CodeLensRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onCodeLensResolve:e=>s.onRequest(t.CodeLensResolveRequest.type,((t,n)=>e(t,n))),onDocumentFormatting:e=>s.onRequest(t.DocumentFormattingRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),void 0))),onDocumentRangeFormatting:e=>s.onRequest(t.DocumentRangeFormattingRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),void 0))),onDocumentOnTypeFormatting:e=>s.onRequest(t.DocumentOnTypeFormattingRequest.type,((t,n)=>e(t,n))),onRenameRequest:e=>s.onRequest(t.RenameRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),void 0))),onPrepareRename:e=>s.onRequest(t.PrepareRenameRequest.type,((t,n)=>e(t,n))),onDocumentLinks:e=>s.onRequest(t.DocumentLinkRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onDocumentLinkResolve:e=>s.onRequest(t.DocumentLinkResolveRequest.type,((t,n)=>e(t,n))),onDocumentColor:e=>s.onRequest(t.DocumentColorRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onColorPresentation:e=>s.onRequest(t.ColorPresentationRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onFoldingRanges:e=>s.onRequest(t.FoldingRangeRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onSelectionRanges:e=>s.onRequest(t.SelectionRangeRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),i.attachPartialResult(s,t)))),onExecuteCommand:e=>s.onRequest(t.ExecuteCommandRequest.type,((t,n)=>e(t,n,i.attachWorkDone(s,t),void 0))),dispose:()=>s.dispose()};for(let t of m)t.attach(P);return s.onRequest(t.InitializeRequest.type,(e=>{r.initialize(e),n.string(e.trace)&&(c.trace=t.Trace.fromString(e.trace));for(let t of m)t.initialize(e.capabilities);if(O){return v(O(e,(new t.CancellationTokenSource).token,i.attachWorkDone(s,e),void 0)).then((e=>{if(e instanceof t.ResponseError)return e;let r=e;r||(r={capabilities:{}});let i=r.capabilities;i||(i={},r.capabilities=i),void 0===i.textDocumentSync||null===i.textDocumentSync?i.textDocumentSync=n.number(P.__textDocumentSync)?P.__textDocumentSync:t.TextDocumentSyncKind.None:n.number(i.textDocumentSync)||n.number(i.textDocumentSync.change)||(i.textDocumentSync.change=n.number(P.__textDocumentSync)?P.__textDocumentSync:t.TextDocumentSyncKind.None);for(let t of m)t.fillServerCapabilities(i);return r}))}{let e={capabilities:{textDocumentSync:t.TextDocumentSyncKind.None}};for(let t of m)t.fillServerCapabilities(e.capabilities);return e}})),s.onRequest(t.ShutdownRequest.type,(()=>(r.shutdownReceived=!0,E?E((new t.CancellationTokenSource).token):void 0))),s.onNotification(t.ExitNotification.type,(()=>{try{k&&k()}finally{r.shutdownReceived?r.exit(0):r.exit(1)}})),s.onNotification(t.SetTraceNotification.type,(e=>{c.trace=t.Trace.fromString(e.value)})),P}}(Li),function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.SemanticTokensBuilder=void 0;const i=En;Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return i.SemanticTokensBuilder}}),r(bn,t),r(Li,t),(t.ProposedFeatures||(t.ProposedFeatures={})).all={__brand:"features"}}(Tn);var vo,yo,_o=bn;!function(t){var n=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=void 0;const i=Tn;r(_o,t),r(Tn,t);let o=!1;const a={initialize:e=>{},get shutdownReceived(){return o},set shutdownReceived(e){o=e},exit:e=>{}};t.createConnection=function(e,t,n,r){let o,s,c,u;return void 0!==e&&"features"===e.__brand&&(o=e,e=t,t=n,n=r),i.ConnectionStrategy.is(e)||i.ConnectionOptions.is(e)?u=e:(s=e,c=t,u=n),i.createConnection((e=>i.createProtocolConnection(s,c,e,u)),a,o)}}({}),Object.freeze({done:!0,value:void 0}),(yo=vo||(vo={}))[yo.Changed=0]="Changed",yo[yo.Parsed=1]="Parsed",yo[yo.Indexed=2]="Indexed",yo[yo.Processed=3]="Processed",yo[yo.Linked=4]="Linked",yo[yo.Validated=5]="Validated";var Ro={exports:{}};!function(t){var n,r;n="undefined"!=typeof self?self:e,r=function(){function e(){}e.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},e.prototype.restoreState=function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx},e.prototype.pattern=function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":s(n,"global");break;case"i":s(n,"ignoreCase");break;case"m":s(n,"multiLine");break;case"u":s(n,"unicode");break;case"y":s(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}},e.prototype.disjunction=function(){var e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}},e.prototype.alternative=function(){for(var e=[],t=this.idx;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}},e.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},e.prototype.assertion=function(){var e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}c(t);var n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}!function(){throw Error("Internal Error - Should never get here!")}()},e.prototype.quantifier=function(e){var t,n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":t=this.isDigit()?{atLeast:r,atMost:this.integerIncludingZero()}:{atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;c(t)}if(!0!==e||void 0!==t)return c(t),"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t},e.prototype.atom=function(){var e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),c(e),e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e},e.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},e.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},e.prototype.characterClassEscape=function(){var e,t=!1;switch(this.popChar()){case"d":e=u;break;case"D":e=u,t=!0;break;case"s":e=f;break;case"S":e=f,t=!0;break;case"w":e=l;break;case"W":e=l,t=!0}return c(e),{type:"Set",value:e,complement:t}},e.prototype.controlEscapeAtom=function(){var e;switch(this.popChar()){case"f":e=o("\f");break;case"n":e=o("\n");break;case"r":e=o("\r");break;case"t":e=o("\t");break;case"v":e=o("\v")}return c(e),{type:"Character",value:e}},e.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}},e.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},e.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},e.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},e.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},e.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},e.prototype.characterClass=function(){var e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if("Character"===r.type){if(r.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:r.value})}else a(n.value,e),e.push(o("-")),a(r.value,e)}else a(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}},e.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},e.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.group=function(){var e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++}var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n},e.prototype.positiveInteger=function(){var e=this.popChar();if(!1===i.test(e))throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.integerIncludingZero=function(){var e=this.popChar();if(!1===r.test(e))throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.patternCharacter=function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(e)}}},e.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},e.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},e.prototype.isDigit=function(){return r.test(this.peekChar(0))},e.prototype.isClassAtom=function(e){switch(void 0===e&&(e=0),this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},e.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},e.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},e.prototype.isQuantifier=function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}},e.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.parseHexDigits=function(e){for(var t="",r=0;r<e;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");t+=i}return{type:"Character",value:parseInt(t,16)}},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.input[this.idx+e]},e.prototype.popChar=function(){var e=this.peekChar(0);return this.consumeChar(),e},e.prototype.consumeChar=function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},e.prototype.loc=function(e){return{begin:e,end:this.idx}};var t,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(e){return e.charCodeAt(0)}function a(e,t){void 0!==e.length?e.forEach((function(e){t.push(e)})):t.push(e)}function s(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t]=!0}function c(e){if(void 0===e)throw Error("Internal Error - Should never get here!")}var u=[];for(t=o("0");t<=o("9");t++)u.push(t);var l=[o("_")].concat(u);for(t=o("a");t<=o("z");t++)l.push(t);for(t=o("A");t<=o("Z");t++)l.push(t);var f=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o("\u2028"),o("\u2029"),o(" "),o(" "),o("　"),o("\ufeff")];function d(){}return d.prototype.visitChildren=function(e){for(var t in e){var n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(e){this.visit(e)}),this))}},d.prototype.visit=function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)},d.prototype.visitPattern=function(e){},d.prototype.visitFlags=function(e){},d.prototype.visitDisjunction=function(e){},d.prototype.visitAlternative=function(e){},d.prototype.visitStartAnchor=function(e){},d.prototype.visitEndAnchor=function(e){},d.prototype.visitWordBoundary=function(e){},d.prototype.visitNonWordBoundary=function(e){},d.prototype.visitLookahead=function(e){},d.prototype.visitNegativeLookahead=function(e){},d.prototype.visitCharacter=function(e){},d.prototype.visitSet=function(e){},d.prototype.visitGroup=function(e){},d.prototype.visitGroupBackReference=function(e){},d.prototype.visitQuantifier=function(e){},{RegExpParser:e,BaseRegExpVisitor:d,VERSION:"0.5.0"}},t.exports?t.exports=r():n.regexpToAst=r()}(Ro),new Ro.exports.RegExpParser;class To extends Ro.exports.BaseRegExpVisitor{constructor(){super(...arguments),this.isStarting=!0,this.endRegexStack=[],this.multiline=!1}get endRegex(){return this.endRegexStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegex="",this.isStarting=!0,this.endRegexStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexStack=[])}visitCharacter(e){const t=String.fromCharCode(e.value);if(this.multiline||"\n"!==t||(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexStack=[];else{const e=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.endRegexStack.push(e),this.isStarting&&(this.startRegex+=e)}}visitSet(e){if(!this.multiline){const t=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(t);this.multiline=!!"\n".match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexStack=[];else{const t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexStack.push(t),this.isStarting&&(this.startRegex+=t)}}}new To;var Eo={},bo={};Object.defineProperty(bo,"__esModule",{value:!0}),bo.VERSION=void 0,bo.VERSION="9.1.0";var Oo={},ko={},Po=e&&e.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Co(e){return e&&0===e.length}function So(e){return null==e?[]:Object.keys(e)}function No(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function xo(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!jo(e))throw Error("non exhaustive match");var r=So(e);for(n=0;n<r.length;n++){var i=r[n],o=e[i];t.call(null,o,i)}}}function wo(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function Ao(e,t){return wo(e,(function(e){return!t(e)}))}function Io(e,t){return!!jo(e)&&e.hasOwnProperty(t)}function Do(e,t){return void 0!==qo(e,(function(e){return e===t}))}function Lo(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function Mo(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function qo(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function Fo(e,t,n){for(var r=Array.isArray(e),i=r?e:No(e),o=r?[]:So(e),a=n,s=0;s<i.length;s++)a=t.call(null,a,i[s],r?s:o[s]);return a}function jo(e){return e instanceof Object}function Wo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=So(i),a=0;a<o.length;a++){var s=o[a];Io(e,s)||(e[s]=i[s])}return e}Object.defineProperty(ko,"__esModule",{value:!0}),ko.toFastProperties=ko.timer=ko.peek=ko.isES2015MapSupported=ko.PRINT_WARNING=ko.PRINT_ERROR=ko.packArray=ko.IDENTITY=ko.NOOP=ko.merge=ko.groupBy=ko.defaults=ko.assignNoOverwrite=ko.assign=ko.zipObject=ko.sortBy=ko.indexOf=ko.some=ko.difference=ko.every=ko.isObject=ko.isRegExp=ko.isArray=ko.partial=ko.uniq=ko.compact=ko.reduce=ko.findAll=ko.find=ko.cloneObj=ko.cloneArr=ko.contains=ko.has=ko.pick=ko.reject=ko.filter=ko.dropRight=ko.drop=ko.isFunction=ko.isUndefined=ko.isString=ko.forEach=ko.last=ko.first=ko.flatten=ko.map=ko.mapValues=ko.values=ko.keys=ko.isEmpty=void 0,ko.upperFirst=void 0,ko.isEmpty=Co,ko.keys=So,ko.values=No,ko.mapValues=function(e,t){for(var n=[],r=So(e),i=0;i<r.length;i++){var o=r[i];n.push(t.call(null,e[o],o))}return n},ko.map=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n},ko.flatten=function e(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?n=n.concat(e(i)):n.push(i)}return n},ko.first=function(e){return Co(e)?void 0:e[0]},ko.last=function(e){var t=e&&e.length;return t?e[t-1]:void 0},ko.forEach=xo,ko.isString=function(e){return"string"==typeof e},ko.isUndefined=function(e){return void 0===e},ko.isFunction=function(e){return e instanceof Function},ko.drop=function(e,t){return void 0===t&&(t=1),e.slice(t,e.length)},ko.dropRight=function(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)},ko.filter=wo,ko.reject=Ao,ko.pick=function(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];t(a)&&(r[o]=a)}return r},ko.has=Io,ko.contains=Do,ko.cloneArr=Lo,ko.cloneObj=Mo,ko.find=qo,ko.findAll=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n},ko.reduce=Fo,ko.compact=function(e){return Ao(e,(function(e){return null==e}))},ko.uniq=function(e,t){void 0===t&&(t=function(e){return e});var n=[];return Fo(e,(function(e,r){var i=t(r);return Do(n,i)?e:(n.push(i),e.concat(r))}),[])},ko.partial=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[null],i=r.concat(t);return Function.bind.apply(e,i)},ko.isArray=function(e){return Array.isArray(e)},ko.isRegExp=function(e){return e instanceof RegExp},ko.isObject=jo,ko.every=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},ko.difference=function(e,t){return Ao(e,(function(e){return Do(t,e)}))},ko.some=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1},ko.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},ko.sortBy=function(e,t){var n=Lo(e);return n.sort((function(e,n){return t(e)-t(n)})),n},ko.zipObject=function(e,t){if(e.length!==t.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n},ko.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=So(i),a=0;a<o.length;a++){var s=o[a];e[s]=i[s]}return e},ko.assignNoOverwrite=Wo,ko.defaults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wo.apply(void 0,Po([{}],e,!1))},ko.groupBy=function(e,t){var n={};return xo(e,(function(e){var r=t(e),i=n[r];i?i.push(e):n[r]=[e]})),n},ko.merge=function(e,t){for(var n=Mo(e),r=So(t),i=0;i<r.length;i++){var o=r[i],a=t[o];n[o]=a}return n},ko.NOOP=function(){},ko.IDENTITY=function(e){return e},ko.packArray=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(void 0!==r?r:void 0)}return t},ko.PRINT_ERROR=function(e){console&&console.error&&console.error("Error: "+e)},ko.PRINT_WARNING=function(e){console&&console.warn&&console.warn("Warning: "+e)},ko.isES2015MapSupported=function(){return"function"==typeof Map},ko.peek=function(e){return e[e.length-1]},ko.timer=function(e){var t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}},ko.toFastProperties=function(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e},ko.upperFirst=function(e){if(!e)return e;var t=function(e,t){var n=e.substring(t,t+1);return Uo.test(n)?n:e[t]}(e,0);return t.toUpperCase()+e.substring(t.length)};var Uo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;var zo={},Bo={},Ho={},Ko={},Vo={},Go={},$o={},Yo={};Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.clearRegExpParserCache=Yo.getRegExpAst=void 0;var Xo=Ro.exports,Jo={},Zo=new Xo.RegExpParser;Yo.getRegExpAst=function(e){var t=e.toString();if(Jo.hasOwnProperty(t))return Jo[t];var n=Zo.pattern(t);return Jo[t]=n,n},Yo.clearRegExpParserCache=function(){Jo={}},function(t){var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.canMatchCharCode=t.firstCharOptimizedIndices=t.getOptimizedStartCodesIndices=t.failedOptimizationPrefixMsg=void 0;var i=Ro.exports,o=ko,a=Yo,s=Go,c="Complement Sets are not supported for first char optimization";function u(e,t,n){switch(e.type){case"Disjunction":for(var r=0;r<e.value.length;r++)u(e.value[r],t,n);break;case"Alternative":var i=e.value;for(r=0;r<i.length;r++){var a=i[r];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var f=a;switch(f.type){case"Character":l(f.value,t,n);break;case"Set":if(!0===f.complement)throw Error(c);(0,o.forEach)(f.value,(function(e){if("number"==typeof e)l(e,t,n);else{var r=e;if(!0===n)for(var i=r.from;i<=r.to;i++)l(i,t,n);else{for(i=r.from;i<=r.to&&i<s.minOptimizationVal;i++)l(i,t,n);if(r.to>=s.minOptimizationVal)for(var o=r.from>=s.minOptimizationVal?r.from:s.minOptimizationVal,a=r.to,c=(0,s.charCodeToOptimizedIndex)(o),u=(0,s.charCodeToOptimizedIndex)(a),f=c;f<=u;f++)t[f]=f}}}));break;case"Group":u(f.value,t,n);break;default:throw Error("Non Exhaustive Match")}var p=void 0!==f.quantifier&&0===f.quantifier.atLeast;if("Group"===f.type&&!1===d(f)||"Group"!==f.type&&!1===p)break}break;default:throw Error("non exhaustive match!")}return(0,o.values)(t)}function l(e,t,n){var r=(0,s.charCodeToOptimizedIndex)(e);t[r]=r,!0===n&&function(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){t[i=(0,s.charCodeToOptimizedIndex)(r.charCodeAt(0))]=i}else{var i,o=n.toLowerCase();if(o!==n)t[i=(0,s.charCodeToOptimizedIndex)(o.charCodeAt(0))]=i}}(e,t)}function f(e,t){return(0,o.find)(e.value,(function(e){if("number"==typeof e)return(0,o.contains)(t,e);var n=e;return void 0!==(0,o.find)(t,(function(e){return n.from<=e&&e<=n.to}))}))}function d(e){return!(!e.quantifier||0!==e.quantifier.atLeast)||!!e.value&&((0,o.isArray)(e.value)?(0,o.every)(e.value,d):d(e.value))}t.failedOptimizationPrefixMsg='Unable to use "first char" lexer optimizations:\n',t.getOptimizedStartCodesIndices=function(e,n){void 0===n&&(n=!1);try{var r=(0,a.getRegExpAst)(e);return u(r.value,{},r.flags.ignoreCase)}catch(l){if(l.message===c)n&&(0,o.PRINT_WARNING)(t.failedOptimizationPrefixMsg+"\tUnable to optimize: < "+e.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var s="";n&&(s="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),(0,o.PRINT_ERROR)(t.failedOptimizationPrefixMsg+"\n\tFailed parsing: < "+e.toString()+" >\n\tUsing the regexp-to-ast library version: "+i.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+s)}}return[]},t.firstCharOptimizedIndices=u;var p=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return r(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){(0,o.contains)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===f(e,this.targetCharCodes)&&(this.found=!0):void 0!==f(e,this.targetCharCodes)&&(this.found=!0)},t}(i.BaseRegExpVisitor);t.canMatchCharCode=function(e,t){if(t instanceof RegExp){var n=(0,a.getRegExpAst)(t),r=new p(e);return r.visit(n),r.found}return void 0!==(0,o.find)(t,(function(t){return(0,o.contains)(e,t.charCodeAt(0))}))}}($o),function(t){var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.charCodeToOptimizedIndex=t.minOptimizationVal=t.buildLineBreakIssueMessage=t.LineTerminatorOptimizedTester=t.isShortPattern=t.isCustomPattern=t.cloneEmptyGroups=t.performWarningRuntimeChecks=t.performRuntimeChecks=t.addStickyFlag=t.addStartOfInput=t.findUnreachablePatterns=t.findModesThatDoNotExist=t.findInvalidGroupType=t.findDuplicatePatterns=t.findUnsupportedFlags=t.findStartOfInputAnchor=t.findEmptyMatchRegExps=t.findEndOfInputAnchor=t.findInvalidPatterns=t.findMissingPatterns=t.validatePatterns=t.analyzeTokenTypes=t.enableSticky=t.disableSticky=t.SUPPORT_STICKY=t.MODES=t.DEFAULT_MODE=void 0;var i=Ro.exports,o=Vo,a=ko,s=$o,c=Yo,u="PATTERN";function l(e){var t=(0,a.filter)(e,(function(e){return!(0,a.has)(e,u)}));return{errors:(0,a.map)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:o.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[e]}})),valid:(0,a.difference)(e,t)}}function f(e){var t=(0,a.filter)(e,(function(e){var t=e.PATTERN;return!((0,a.isRegExp)(t)||(0,a.isFunction)(t)||(0,a.has)(t,"exec")||(0,a.isString)(t))}));return{errors:(0,a.map)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:o.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[e]}})),valid:(0,a.difference)(e,t)}}t.DEFAULT_MODE="defaultMode",t.MODES="modes",t.SUPPORT_STICKY="boolean"==typeof new RegExp("(?:)").sticky,t.disableSticky=function(){t.SUPPORT_STICKY=!1},t.enableSticky=function(){t.SUPPORT_STICKY=!0},t.analyzeTokenTypes=function(e,n){var r,i=(n=(0,a.defaults)(n,{useSticky:t.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}})).tracer;i("initCharCodeToOptimizedIndexMap",(function(){!function(){if((0,a.isEmpty)(x)){x=new Array(65536);for(var e=0;e<65536;e++)x[e]=e>255?255+~~(e/255):e}}()})),i("Reject Lexer.NA",(function(){r=(0,a.reject)(e,(function(e){return e.PATTERN===o.Lexer.NA}))}));var c,u,l,f,d,p,h,g,m,v,y,_=!1;i("Transform Patterns",(function(){_=!1,c=(0,a.map)(r,(function(e){var t=e.PATTERN;if((0,a.isRegExp)(t)){var r=t.source;return 1!==r.length||"^"===r||"$"===r||"."===r||t.ignoreCase?2!==r.length||"\\"!==r[0]||(0,a.contains)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?n.useSticky?b(t):E(t):r[1]:r}if((0,a.isFunction)(t))return _=!0,{exec:t};if((0,a.has)(t,"exec"))return _=!0,t;if("string"==typeof t){if(1===t.length)return t;var i=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=new RegExp(i);return n.useSticky?b(o):E(o)}throw Error("non exhaustive match")}))})),i("misc mapping",(function(){u=(0,a.map)(r,(function(e){return e.tokenTypeIdx})),l=(0,a.map)(r,(function(e){var t=e.GROUP;if(t!==o.Lexer.SKIPPED){if((0,a.isString)(t))return t;if((0,a.isUndefined)(t))return!1;throw Error("non exhaustive match")}})),f=(0,a.map)(r,(function(e){var t=e.LONGER_ALT;if(t)return(0,a.isArray)(t)?(0,a.map)(t,(function(e){return(0,a.indexOf)(r,e)})):[(0,a.indexOf)(r,t)]})),d=(0,a.map)(r,(function(e){return e.PUSH_MODE})),p=(0,a.map)(r,(function(e){return(0,a.has)(e,"POP_MODE")}))})),i("Line Terminator Handling",(function(){var e=S(n.lineTerminatorCharacters);h=(0,a.map)(r,(function(e){return!1})),"onlyOffset"!==n.positionTracking&&(h=(0,a.map)(r,(function(t){return(0,a.has)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===P(t,e)?(0,s.canMatchCharCode)(e,t.PATTERN):void 0})))})),i("Misc Mapping #2",(function(){g=(0,a.map)(r,O),m=(0,a.map)(c,k),v=(0,a.reduce)(r,(function(e,t){var n=t.GROUP;return(0,a.isString)(n)&&n!==o.Lexer.SKIPPED&&(e[n]=[]),e}),{}),y=(0,a.map)(c,(function(e,t){return{pattern:c[t],longerAlt:f[t],canLineTerminator:h[t],isCustom:g[t],short:m[t],group:l[t],push:d[t],pop:p[t],tokenTypeIdx:u[t],tokenType:r[t]}}))}));var R=!0,T=[];return n.safeMode||i("First Char Optimization",(function(){T=(0,a.reduce)(r,(function(e,t,r){if("string"==typeof t.PATTERN){var i=w(t.PATTERN.charCodeAt(0));N(e,i,y[r])}else if((0,a.isArray)(t.START_CHARS_HINT)){var o;(0,a.forEach)(t.START_CHARS_HINT,(function(t){var n=w("string"==typeof t?t.charCodeAt(0):t);o!==n&&(o=n,N(e,n,y[r]))}))}else if((0,a.isRegExp)(t.PATTERN))if(t.PATTERN.unicode)R=!1,n.ensureOptimizations&&(0,a.PRINT_ERROR)(s.failedOptimizationPrefixMsg+"\tUnable to analyze < "+t.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var c=(0,s.getOptimizedStartCodesIndices)(t.PATTERN,n.ensureOptimizations);(0,a.isEmpty)(c)&&(R=!1),(0,a.forEach)(c,(function(t){N(e,t,y[r])}))}else n.ensureOptimizations&&(0,a.PRINT_ERROR)(s.failedOptimizationPrefixMsg+"\tTokenType: <"+t.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),R=!1;return e}),[])})),i("ArrayPacking",(function(){T=(0,a.packArray)(T)})),{emptyGroups:v,patternIdxToConfig:y,charCodeToPatternIdxToConfig:T,hasCustom:_,canBeOptimized:R}},t.validatePatterns=function(e,t){var n=[],r=l(e);n=n.concat(r.errors);var i=f(r.valid),o=i.valid;return n=(n=(n=(n=(n=n.concat(i.errors)).concat(function(e){var t=[],n=(0,a.filter)(e,(function(e){return(0,a.isRegExp)(e.PATTERN)}));return t=(t=(t=(t=(t=t.concat(p(n))).concat(m(n))).concat(v(n))).concat(y(n))).concat(h(n))}(o))).concat(_(o))).concat(R(o,t))).concat(T(o))},t.findMissingPatterns=l,t.findInvalidPatterns=f;var d=/[^\\][\$]/;function p(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return r(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(i.BaseRegExpVisitor),n=(0,a.filter)(e,(function(e){var n=e.PATTERN;try{var r=(0,c.getRegExpAst)(n),i=new t;return i.visit(r),i.found}catch(o){return d.test(n.source)}}));return(0,a.map)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:o.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[e]}}))}function h(e){var t=(0,a.filter)(e,(function(e){return e.PATTERN.test("")}));return(0,a.map)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:o.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}))}t.findEndOfInputAnchor=p,t.findEmptyMatchRegExps=h;var g=/[^\\[][\^]|^\^/;function m(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return r(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(i.BaseRegExpVisitor),n=(0,a.filter)(e,(function(e){var n=e.PATTERN;try{var r=(0,c.getRegExpAst)(n),i=new t;return i.visit(r),i.found}catch(o){return g.test(n.source)}}));return(0,a.map)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:o.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[e]}}))}function v(e){var t=(0,a.filter)(e,(function(e){var t=e.PATTERN;return t instanceof RegExp&&(t.multiline||t.global)}));return(0,a.map)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:o.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}))}function y(e){var t=[],n=(0,a.map)(e,(function(n){return(0,a.reduce)(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||(0,a.contains)(t,r)||r.PATTERN===o.Lexer.NA||(t.push(r),e.push(r)),e}),[])}));n=(0,a.compact)(n);var r=(0,a.filter)(n,(function(e){return e.length>1}));return(0,a.map)(r,(function(e){var t=(0,a.map)(e,(function(e){return e.name}));return{message:"The same RegExp pattern ->"+(0,a.first)(e).PATTERN+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:o.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}))}function _(e){var t=(0,a.filter)(e,(function(e){if(!(0,a.has)(e,"GROUP"))return!1;var t=e.GROUP;return t!==o.Lexer.SKIPPED&&t!==o.Lexer.NA&&!(0,a.isString)(t)}));return(0,a.map)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:o.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}))}function R(e,t){var n=(0,a.filter)(e,(function(e){return void 0!==e.PUSH_MODE&&!(0,a.contains)(t,e.PUSH_MODE)}));return(0,a.map)(n,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist",type:o.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}))}function T(e){var t=[],n=(0,a.reduce)(e,(function(e,t,n){var r,i,s=t.PATTERN;return s===o.Lexer.NA||((0,a.isString)(s)?e.push({str:s,idx:n,tokenType:t}):(0,a.isRegExp)(s)&&(r=s,i=[".","\\","[","]","|","^","$","(",")","?","*","+","{"],void 0===(0,a.find)(i,(function(e){return-1!==r.source.indexOf(e)})))&&e.push({str:s.source,idx:n,tokenType:t})),e}),[]);return(0,a.forEach)(e,(function(e,r){(0,a.forEach)(n,(function(n){var i=n.str,s=n.idx,c=n.tokenType;if(r<s&&function(e,t){if((0,a.isRegExp)(t)){var n=t.exec(e);return null!==n&&0===n.index}if((0,a.isFunction)(t))return t(e,0,[],{});if((0,a.has)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(i,e.PATTERN)){var u="Token: ->"+c.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE";t.push({message:u,type:o.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[e,c]})}}))})),t}function E(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function b(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function O(e){var t=e.PATTERN;if((0,a.isRegExp)(t))return!1;if((0,a.isFunction)(t))return!0;if((0,a.has)(t,"exec"))return!0;if((0,a.isString)(t))return!1;throw Error("non exhaustive match")}function k(e){return!(!(0,a.isString)(e)||1!==e.length)&&e.charCodeAt(0)}function P(e,t){if((0,a.has)(e,"LINE_BREAKS"))return!1;if((0,a.isRegExp)(e.PATTERN)){try{(0,s.canMatchCharCode)(t,e.PATTERN)}catch(n){return{issue:o.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if((0,a.isString)(e.PATTERN))return!1;if(O(e))return{issue:o.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function C(e,t){if(t.issue===o.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+e.name+"> Token Type\n\t Root cause: "+t.errMsg+".\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===o.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+e.name+"> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function S(e){return(0,a.map)(e,(function(e){return(0,a.isString)(e)&&e.length>0?e.charCodeAt(0):e}))}function N(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}t.findStartOfInputAnchor=m,t.findUnsupportedFlags=v,t.findDuplicatePatterns=y,t.findInvalidGroupType=_,t.findModesThatDoNotExist=R,t.findUnreachablePatterns=T,t.addStartOfInput=E,t.addStickyFlag=b,t.performRuntimeChecks=function(e,n,r){var i=[];return(0,a.has)(e,t.DEFAULT_MODE)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+t.DEFAULT_MODE+"> property in its definition\n",type:o.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,a.has)(e,t.MODES)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+t.MODES+"> property in its definition\n",type:o.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,a.has)(e,t.MODES)&&(0,a.has)(e,t.DEFAULT_MODE)&&!(0,a.has)(e.modes,e.defaultMode)&&i.push({message:"A MultiMode Lexer cannot be initialized with a "+t.DEFAULT_MODE+": <"+e.defaultMode+">which does not exist\n",type:o.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,a.has)(e,t.MODES)&&(0,a.forEach)(e.modes,(function(e,t){(0,a.forEach)(e,(function(e,n){(0,a.isUndefined)(e)&&i.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+t+"> at index: <"+n+">\n",type:o.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),i},t.performWarningRuntimeChecks=function(e,t,n){var r=[],i=!1,c=(0,a.compact)((0,a.flatten)((0,a.mapValues)(e.modes,(function(e){return e})))),u=(0,a.reject)(c,(function(e){return e.PATTERN===o.Lexer.NA})),l=S(n);return t&&(0,a.forEach)(u,(function(e){var t=P(e,l);if(!1!==t){var n={message:C(e,t),type:t.issue,tokenType:e};r.push(n)}else(0,a.has)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):(0,s.canMatchCharCode)(l,e.PATTERN)&&(i=!0)})),t&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:o.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),r},t.cloneEmptyGroups=function(e){var t={},n=(0,a.keys)(e);return(0,a.forEach)(n,(function(n){var r=e[n];if(!(0,a.isArray)(r))throw Error("non exhaustive match");t[n]=[]})),t},t.isCustomPattern=O,t.isShortPattern=k,t.LineTerminatorOptimizedTester={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0},t.buildLineBreakIssueMessage=C,t.minOptimizationVal=256;var x=[];function w(e){return e<t.minOptimizationVal?e:x[e]}t.charCodeToOptimizedIndex=w}(Go);var Qo={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTokenType=e.hasExtendingTokensTypesMapProperty=e.hasExtendingTokensTypesProperty=e.hasCategoriesProperty=e.hasShortKeyProperty=e.singleAssignCategoriesToksMap=e.assignCategoriesMapProp=e.assignCategoriesTokensProp=e.assignTokenDefaultProps=e.expandCategories=e.augmentTokenTypes=e.tokenIdxToClass=e.tokenShortNameIdx=e.tokenStructuredMatcherNoCategories=e.tokenStructuredMatcher=void 0;var t=ko;function n(e){for(var n=(0,t.cloneArr)(e),r=e,i=!0;i;){r=(0,t.compact)((0,t.flatten)((0,t.map)(r,(function(e){return e.CATEGORIES}))));var o=(0,t.difference)(r,n);n=n.concat(o),(0,t.isEmpty)(o)?i=!1:r=o}return n}function r(n){(0,t.forEach)(n,(function(n){s(n)||(e.tokenIdxToClass[e.tokenShortNameIdx]=n,n.tokenTypeIdx=e.tokenShortNameIdx++),c(n)&&!(0,t.isArray)(n.CATEGORIES)&&(n.CATEGORIES=[n.CATEGORIES]),c(n)||(n.CATEGORIES=[]),u(n)||(n.categoryMatches=[]),l(n)||(n.categoryMatchesMap={})}))}function i(n){(0,t.forEach)(n,(function(n){n.categoryMatches=[],(0,t.forEach)(n.categoryMatchesMap,(function(t,r){n.categoryMatches.push(e.tokenIdxToClass[r].tokenTypeIdx)}))}))}function o(e){(0,t.forEach)(e,(function(e){a([],e)}))}function a(e,n){(0,t.forEach)(e,(function(e){n.categoryMatchesMap[e.tokenTypeIdx]=!0})),(0,t.forEach)(n.CATEGORIES,(function(r){var i=e.concat(n);(0,t.contains)(i,r)||a(i,r)}))}function s(e){return(0,t.has)(e,"tokenTypeIdx")}function c(e){return(0,t.has)(e,"CATEGORIES")}function u(e){return(0,t.has)(e,"categoryMatches")}function l(e){return(0,t.has)(e,"categoryMatchesMap")}e.tokenStructuredMatcher=function(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]},e.tokenStructuredMatcherNoCategories=function(e,t){return e.tokenTypeIdx===t.tokenTypeIdx},e.tokenShortNameIdx=1,e.tokenIdxToClass={},e.augmentTokenTypes=function(e){var a=n(e);r(a),o(a),i(a),(0,t.forEach)(a,(function(e){e.isParent=e.categoryMatches.length>0}))},e.expandCategories=n,e.assignTokenDefaultProps=r,e.assignCategoriesTokensProp=i,e.assignCategoriesMapProp=o,e.singleAssignCategoriesToksMap=a,e.hasShortKeyProperty=s,e.hasCategoriesProperty=c,e.hasExtendingTokensTypesProperty=u,e.hasExtendingTokensTypesMapProperty=l,e.isTokenType=function(e){return(0,t.has)(e,"tokenTypeIdx")}}(Qo);var ea={};Object.defineProperty(ea,"__esModule",{value:!0}),ea.defaultLexerErrorProvider=void 0,ea.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Lexer=e.LexerDefinitionErrorType=void 0;var t,n=Go,r=ko,i=Qo,o=ea,a=Yo;(t=e.LexerDefinitionErrorType||(e.LexerDefinitionErrorType={}))[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK";var s={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:o.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(s);var c=function(){function e(e,t){var o=this;if(void 0===t&&(t=s),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=(0,r.merge)(s,t);var c=this.config.traceInitPerf;!0===c?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof c&&(this.traceInitMaxIdent=c,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var c,u=!0;o.TRACE_INIT("Lexer Config handling",(function(){if(o.config.lineTerminatorsPattern===s.lineTerminatorsPattern)o.config.lineTerminatorsPattern=n.LineTerminatorOptimizedTester;else if(o.config.lineTerminatorCharacters===s.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');o.trackStartLines=/full|onlyStart/i.test(o.config.positionTracking),o.trackEndLines=/full/i.test(o.config.positionTracking),(0,r.isArray)(e)?((c={modes:{}}).modes[n.DEFAULT_MODE]=(0,r.cloneArr)(e),c[n.DEFAULT_MODE]=n.DEFAULT_MODE):(u=!1,c=(0,r.cloneObj)(e))})),!1===o.config.skipValidations&&(o.TRACE_INIT("performRuntimeChecks",(function(){o.lexerDefinitionErrors=o.lexerDefinitionErrors.concat((0,n.performRuntimeChecks)(c,o.trackStartLines,o.config.lineTerminatorCharacters))})),o.TRACE_INIT("performWarningRuntimeChecks",(function(){o.lexerDefinitionWarning=o.lexerDefinitionWarning.concat((0,n.performWarningRuntimeChecks)(c,o.trackStartLines,o.config.lineTerminatorCharacters))}))),c.modes=c.modes?c.modes:{},(0,r.forEach)(c.modes,(function(e,t){c.modes[t]=(0,r.reject)(e,(function(e){return(0,r.isUndefined)(e)}))}));var l=(0,r.keys)(c.modes);if((0,r.forEach)(c.modes,(function(e,a){o.TRACE_INIT("Mode: <"+a+"> processing",(function(){var s;(o.modes.push(a),!1===o.config.skipValidations&&o.TRACE_INIT("validatePatterns",(function(){o.lexerDefinitionErrors=o.lexerDefinitionErrors.concat((0,n.validatePatterns)(e,l))})),(0,r.isEmpty)(o.lexerDefinitionErrors))&&((0,i.augmentTokenTypes)(e),o.TRACE_INIT("analyzeTokenTypes",(function(){s=(0,n.analyzeTokenTypes)(e,{lineTerminatorCharacters:o.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:o.TRACE_INIT.bind(o)})})),o.patternIdxToConfig[a]=s.patternIdxToConfig,o.charCodeToPatternIdxToConfig[a]=s.charCodeToPatternIdxToConfig,o.emptyGroups=(0,r.merge)(o.emptyGroups,s.emptyGroups),o.hasCustom=s.hasCustom||o.hasCustom,o.canModeBeOptimized[a]=s.canBeOptimized)}))})),o.defaultMode=c.defaultMode,!(0,r.isEmpty)(o.lexerDefinitionErrors)&&!o.config.deferDefinitionErrorsHandling){var f=(0,r.map)(o.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+f)}(0,r.forEach)(o.lexerDefinitionWarning,(function(e){(0,r.PRINT_WARNING)(e.message)})),o.TRACE_INIT("Choosing sub-methods implementations",(function(){if(n.SUPPORT_STICKY?(o.chopInput=r.IDENTITY,o.match=o.matchWithTest):(o.updateLastIndex=r.NOOP,o.match=o.matchWithExec),u&&(o.handleModes=r.NOOP),!1===o.trackStartLines&&(o.computeNewColumn=r.IDENTITY),!1===o.trackEndLines&&(o.updateTokenEndLineColumnLocation=r.NOOP),/full/i.test(o.config.positionTracking))o.createTokenInstance=o.createFullToken;else if(/onlyStart/i.test(o.config.positionTracking))o.createTokenInstance=o.createStartOnlyToken;else{if(!/onlyOffset/i.test(o.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+o.config.positionTracking+'"');o.createTokenInstance=o.createOffsetOnlyToken}o.hasCustom?(o.addToken=o.addTokenUsingPush,o.handlePayload=o.handlePayloadWithCustom):(o.addToken=o.addTokenUsingMemberAccess,o.handlePayload=o.handlePayloadNoCustom)})),o.TRACE_INIT("Failed Optimization Warnings",(function(){var e=(0,r.reduce)(o.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(t.ensureOptimizations&&!(0,r.isEmpty)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),o.TRACE_INIT("clearRegExpParserCache",(function(){(0,a.clearRegExpParserCache)()})),o.TRACE_INIT("toFastProperties",(function(){(0,r.toFastProperties)(o)}))}))}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!(0,r.isEmpty)(this.lexerDefinitionErrors)){var n=(0,r.map)(this.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(e,t)},e.prototype.tokenizeInternal=function(e,t){var i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,_=this,R=e,T=R.length,E=0,b=0,O=this.hasCustom?0:Math.floor(e.length/10),k=new Array(O),P=[],C=this.trackStartLines?1:void 0,S=this.trackStartLines?1:void 0,N=(0,n.cloneEmptyGroups)(this.emptyGroups),x=this.trackStartLines,w=this.config.lineTerminatorsPattern,A=0,I=[],D=[],L=[],M=[];Object.freeze(M);var q=void 0;function F(){return I}function j(e){var t=(0,n.charCodeToOptimizedIndex)(e),r=D[t];return void 0===r?M:r}var W,U=function(e){if(1===L.length&&void 0===e.tokenType.PUSH_MODE){var t=_.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);P.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{L.pop();var n=(0,r.last)(L);I=_.patternIdxToConfig[n],D=_.charCodeToPatternIdxToConfig[n],A=I.length;var i=_.canModeBeOptimized[n]&&!1===_.config.safeMode;q=D&&i?j:F}};function z(e){L.push(e),D=this.charCodeToPatternIdxToConfig[e],I=this.patternIdxToConfig[e],A=I.length,A=I.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;q=D&&t?j:F}for(z.call(this,t);E<T;){u=null;var B=R.charCodeAt(E),H=q(B),K=H.length;for(i=0;i<K;i++){var V=(W=H[i]).pattern;if(l=null,!1!==(re=W.short)?B===re&&(u=V):!0===W.isCustom?null!==(y=V.exec(R,E,k,N))?(u=y[0],void 0!==y.payload&&(l=y.payload)):u=null:(this.updateLastIndex(V,E),u=this.match(V,e,E)),null!==u){if(void 0!==(c=W.longerAlt)){var G=c.length;for(a=0;a<G;a++){var $=I[c[a]],Y=$.pattern;if(f=null,!0===$.isCustom?null!==(y=Y.exec(R,E,k,N))?(s=y[0],void 0!==y.payload&&(f=y.payload)):s=null:(this.updateLastIndex(Y,E),s=this.match(Y,e,E)),s&&s.length>u.length){u=s,l=f,W=$;break}}}break}}if(null!==u){if(d=u.length,void 0!==(p=W.group)&&(h=W.tokenTypeIdx,g=this.createTokenInstance(u,E,h,W.tokenType,C,S,d),this.handlePayload(g,l),!1===p?b=this.addToken(k,b,g):N[p].push(g)),e=this.chopInput(e,d),E+=d,S=this.computeNewColumn(S,d),!0===x&&!0===W.canLineTerminator){var X=0,J=void 0,Z=void 0;w.lastIndex=0;do{!0===(J=w.test(u))&&(Z=w.lastIndex-1,X++)}while(!0===J);0!==X&&(C+=X,S=d-Z,this.updateTokenEndLineColumnLocation(g,p,Z,X,C,S,d))}this.handleModes(W,U,z,g)}else{for(var Q=E,ee=C,te=S,ne=!1;!ne&&E<T;)for(R.charCodeAt(E),e=this.chopInput(e,1),E++,o=0;o<A;o++){var re,ie=I[o];V=ie.pattern;if(!1!==(re=ie.short)?R.charCodeAt(E)===re&&(ne=!0):!0===ie.isCustom?ne=null!==V.exec(R,E,k,N):(this.updateLastIndex(V,E),ne=null!==V.exec(e)),!0===ne)break}m=E-Q,v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(R,Q,m,ee,te),P.push({offset:Q,line:ee,column:te,length:m,message:v})}}return this.hasCustom||(k.length=b),{tokens:k,groups:N,errors:P}},e.prototype.handleModes=function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,r,i,o,a){var s,c;void 0!==t&&(c=(s=n===a-1)?-1:0,1===r&&!0===s||(e.endLine=i+c,e.endColumn=o-1-c))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}},e.prototype.createStartOnlyToken=function(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},e.prototype.createFullToken=function(e,t,n,r,i,o,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:i,endLine:i,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:r}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,++t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var i=(0,r.timer)(t),o=i.time,a=i.value,s=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,a}return t()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();e.Lexer=c}(Vo),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tokenMatcher=e.createTokenInstance=e.EOF=e.createToken=e.hasTokenLabel=e.tokenName=e.tokenLabel=void 0;var t=ko,n=Vo,r=Qo;function i(e){return(0,t.isString)(e.LABEL)&&""!==e.LABEL}e.tokenLabel=function(e){return i(e)?e.LABEL:e.name},e.tokenName=function(e){return e.name},e.hasTokenLabel=i;var o="parent",a="categories",s="label",c="group",u="push_mode",l="pop_mode",f="longer_alt",d="line_breaks",p="start_chars_hint";function h(e){return function(e){var n=e.pattern,i={};i.name=e.name,(0,t.isUndefined)(n)||(i.PATTERN=n);if((0,t.has)(e,o))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";(0,t.has)(e,a)&&(i.CATEGORIES=e.categories);(0,r.augmentTokenTypes)([i]),(0,t.has)(e,s)&&(i.LABEL=e.label);(0,t.has)(e,c)&&(i.GROUP=e.group);(0,t.has)(e,l)&&(i.POP_MODE=e.pop_mode);(0,t.has)(e,u)&&(i.PUSH_MODE=e.push_mode);(0,t.has)(e,f)&&(i.LONGER_ALT=e.longer_alt);(0,t.has)(e,d)&&(i.LINE_BREAKS=e.line_breaks);(0,t.has)(e,p)&&(i.START_CHARS_HINT=e.start_chars_hint);return i}(e)}e.createToken=h,e.EOF=h({name:"EOF",pattern:n.Lexer.NA}),(0,r.augmentTokenTypes)([e.EOF]),e.createTokenInstance=function(e,t,n,r,i,o,a,s){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:a,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}},e.tokenMatcher=function(e,t){return(0,r.tokenStructuredMatcher)(e,t)}}(Ko);var ta,na=e&&e.__extends||(ta=function(e,t){return(ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ta(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.serializeProduction=Ho.serializeGrammar=Ho.Terminal=Ho.Alternation=Ho.RepetitionWithSeparator=Ho.Repetition=Ho.RepetitionMandatoryWithSeparator=Ho.RepetitionMandatory=Ho.Option=Ho.Alternative=Ho.Rule=Ho.NonTerminal=Ho.AbstractProduction=void 0;var ra=ko,ia=Ko,oa=function(){function e(e){this._definition=e}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),e.prototype.accept=function(e){e.visit(this),(0,ra.forEach)(this.definition,(function(t){t.accept(e)}))},e}();Ho.AbstractProduction=oa;var aa=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(oa);Ho.NonTerminal=aa;var sa=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),t}(oa);Ho.Rule=sa;var ca=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),t}(oa);Ho.Alternative=ca;var ua=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),t}(oa);Ho.Option=ua;var la=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),t}(oa);Ho.RepetitionMandatory=la;var fa=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),t}(oa);Ho.RepetitionMandatoryWithSeparator=fa;var da=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),t}(oa);Ho.Repetition=da;var pa=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),t}(oa);Ho.RepetitionWithSeparator=pa;var ha=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,ra.assign)(n,(0,ra.pick)(t,(function(e){return void 0!==e}))),n}return na(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),t}(oa);Ho.Alternation=ha;var ga=function(){function e(e){this.idx=1,(0,ra.assign)(this,(0,ra.pick)(e,(function(e){return void 0!==e})))}return e.prototype.accept=function(e){e.visit(this)},e}();function ma(e){function t(e){return(0,ra.map)(e,ma)}if(e instanceof aa){var n={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return(0,ra.isString)(e.label)&&(n.label=e.label),n}if(e instanceof ca)return{type:"Alternative",definition:t(e.definition)};if(e instanceof ua)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof la)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof fa)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:ma(new ga({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof pa)return{type:"RepetitionWithSeparator",idx:e.idx,separator:ma(new ga({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof da)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof ha)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof ga){var r={type:"Terminal",name:e.terminalType.name,label:(0,ia.tokenLabel)(e.terminalType),idx:e.idx};(0,ra.isString)(e.label)&&(r.terminalLabel=e.label);var i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=(0,ra.isRegExp)(i)?i.source:i),r}if(e instanceof sa)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}Ho.Terminal=ga,Ho.serializeGrammar=function(e){return(0,ra.map)(e,ma)},Ho.serializeProduction=ma,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.RestWalker=void 0;var va=ko,ya=Ho,_a=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),(0,va.forEach)(e.definition,(function(r,i){var o=(0,va.drop)(e.definition,i+1);if(r instanceof ya.NonTerminal)n.walkProdRef(r,o,t);else if(r instanceof ya.Terminal)n.walkTerminal(r,o,t);else if(r instanceof ya.Alternative)n.walkFlat(r,o,t);else if(r instanceof ya.Option)n.walkOption(r,o,t);else if(r instanceof ya.RepetitionMandatory)n.walkAtLeastOne(r,o,t);else if(r instanceof ya.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(r,o,t);else if(r instanceof ya.RepetitionWithSeparator)n.walkManySep(r,o,t);else if(r instanceof ya.Repetition)n.walkMany(r,o,t);else{if(!(r instanceof ya.Alternation))throw Error("non exhaustive match");n.walkOr(r,o,t)}}))},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkOption=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkAtLeastOne=function(e,t,n){var r=[new ya.Option({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkAtLeastOneSep=function(e,t,n){var r=Ra(e,t,n);this.walk(e,r)},e.prototype.walkMany=function(e,t,n){var r=[new ya.Option({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkManySep=function(e,t,n){var r=Ra(e,t,n);this.walk(e,r)},e.prototype.walkOr=function(e,t,n){var r=this,i=t.concat(n);(0,va.forEach)(e.definition,(function(e){var t=new ya.Alternative({definition:[e]});r.walk(t,i)}))},e}();function Ra(e,t,n){return[new ya.Option({definition:[new ya.Terminal({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}Bo.RestWalker=_a;var Ta={},Ea={},ba={};Object.defineProperty(ba,"__esModule",{value:!0}),ba.GAstVisitor=void 0;var Oa=Ho,ka=function(){function e(){}return e.prototype.visit=function(e){var t=e;switch(t.constructor){case Oa.NonTerminal:return this.visitNonTerminal(t);case Oa.Alternative:return this.visitAlternative(t);case Oa.Option:return this.visitOption(t);case Oa.RepetitionMandatory:return this.visitRepetitionMandatory(t);case Oa.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(t);case Oa.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(t);case Oa.Repetition:return this.visitRepetition(t);case Oa.Alternation:return this.visitAlternation(t);case Oa.Terminal:return this.visitTerminal(t);case Oa.Rule:return this.visitRule(t);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitAlternative=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}();ba.GAstVisitor=ka;var Pa=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.collectMethods=Ea.DslMethodsCollectorVisitor=Ea.getProductionDslName=Ea.isBranchingProd=Ea.isOptionalProd=Ea.isSequenceProd=void 0;var Ca=ko,Sa=Ho,Na=ba;Ea.isSequenceProd=function(e){return e instanceof Sa.Alternative||e instanceof Sa.Option||e instanceof Sa.Repetition||e instanceof Sa.RepetitionMandatory||e instanceof Sa.RepetitionMandatoryWithSeparator||e instanceof Sa.RepetitionWithSeparator||e instanceof Sa.Terminal||e instanceof Sa.Rule},Ea.isOptionalProd=function e(t,n){return void 0===n&&(n=[]),!!(t instanceof Sa.Option||t instanceof Sa.Repetition||t instanceof Sa.RepetitionWithSeparator)||(t instanceof Sa.Alternation?(0,Ca.some)(t.definition,(function(t){return e(t,n)})):!(t instanceof Sa.NonTerminal&&(0,Ca.contains)(n,t))&&(t instanceof Sa.AbstractProduction&&(t instanceof Sa.NonTerminal&&n.push(t),(0,Ca.every)(t.definition,(function(t){return e(t,n)})))))},Ea.isBranchingProd=function(e){return e instanceof Sa.Alternation},Ea.getProductionDslName=function(e){if(e instanceof Sa.NonTerminal)return"SUBRULE";if(e instanceof Sa.Option)return"OPTION";if(e instanceof Sa.Alternation)return"OR";if(e instanceof Sa.RepetitionMandatory)return"AT_LEAST_ONE";if(e instanceof Sa.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(e instanceof Sa.RepetitionWithSeparator)return"MANY_SEP";if(e instanceof Sa.Repetition)return"MANY";if(e instanceof Sa.Terminal)return"CONSUME";throw Error("non exhaustive match")};var xa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return Pa(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";(0,Ca.has)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";(0,Ca.has)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(Na.GAstVisitor);Ea.DslMethodsCollectorVisitor=xa;var wa=new xa;Ea.collectMethods=function(e){wa.reset(),e.accept(wa);var t=wa.dslMethods;return wa.reset(),t},Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.firstForTerminal=Ta.firstForBranching=Ta.firstForSequence=Ta.first=void 0;var Aa=ko,Ia=Ho,Da=Ea;function La(e){if(e instanceof Ia.NonTerminal)return La(e.referencedRule);if(e instanceof Ia.Terminal)return Fa(e);if((0,Da.isSequenceProd)(e))return Ma(e);if((0,Da.isBranchingProd)(e))return qa(e);throw Error("non exhaustive match")}function Ma(e){for(var t,n=[],r=e.definition,i=0,o=r.length>i,a=!0;o&&a;)t=r[i],a=(0,Da.isOptionalProd)(t),n=n.concat(La(t)),i+=1,o=r.length>i;return(0,Aa.uniq)(n)}function qa(e){var t=(0,Aa.map)(e.definition,(function(e){return La(e)}));return(0,Aa.uniq)((0,Aa.flatten)(t))}function Fa(e){return[e.terminalType]}Ta.first=La,Ta.firstForSequence=Ma,Ta.firstForBranching=qa,Ta.firstForTerminal=Fa;var ja={};Object.defineProperty(ja,"__esModule",{value:!0}),ja.IN=void 0,ja.IN="_~IN~_";var Wa=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(zo,"__esModule",{value:!0}),zo.buildInProdFollowPrefix=zo.buildBetweenProdsFollowPrefix=zo.computeAllProdsFollows=zo.ResyncFollowsWalker=void 0;var Ua=Ta,za=ko,Ba=ja,Ha=Ho,Ka=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return Wa(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var r=Va(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(n),o=new Ha.Alternative({definition:i}),a=(0,Ua.first)(o);this.follows[r]=a},t}(Bo.RestWalker);function Va(e,t){return e.name+t+Ba.IN}zo.ResyncFollowsWalker=Ka,zo.computeAllProdsFollows=function(e){var t={};return(0,za.forEach)(e,(function(e){var n=new Ka(e).startWalking();(0,za.assign)(t,n)})),t},zo.buildBetweenProdsFollowPrefix=Va,zo.buildInProdFollowPrefix=function(e){return e.terminalType.name+e.idx+Ba.IN};var Ga={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGrammarValidatorErrorProvider=e.defaultGrammarResolverErrorProvider=e.defaultParserErrorProvider=void 0;var t=Ko,n=ko,r=ko,i=Ho,o=Ea;e.defaultParserErrorProvider={buildMismatchTokenMessage:function(e){var n=e.expected,r=e.actual;return e.previous,e.ruleName,"Expecting "+((0,t.hasTokenLabel)(n)?"--\x3e "+(0,t.tokenLabel)(n)+" <--":"token of type --\x3e "+n.name+" <--")+" but found --\x3e '"+r.image+"' <--"},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;return e.ruleName,"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var n=e.expectedPathsPerAlt,i=e.actual;e.previous;var o=e.customUserDescription;e.ruleName;var a="Expecting: ",s="\nbut found: '"+(0,r.first)(i).image+"'";if(o)return a+o+s;var c=(0,r.reduce)(n,(function(e,t){return e.concat(t)}),[]),u=(0,r.map)(c,(function(e){return"["+(0,r.map)(e,(function(e){return(0,t.tokenLabel)(e)})).join(", ")+"]"}));return a+("one of these possible Token sequences:\n"+(0,r.map)(u,(function(e,t){return"  "+(t+1)+". "+e})).join("\n"))+s},buildEarlyExitMessage:function(e){var n=e.expectedIterationPaths,i=e.actual,o=e.customUserDescription;e.ruleName;var a="Expecting: ",s="\nbut found: '"+(0,r.first)(i).image+"'";return o?a+o+s:a+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+(0,r.map)(n,(function(e){return"["+(0,r.map)(e,(function(e){return(0,t.tokenLabel)(e)})).join(",")+"]"})).join(" ,")+">")+s}},Object.freeze(e.defaultParserErrorProvider),e.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"}},e.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(e,t){var n,a=e.name,s=(0,r.first)(t),c=s.idx,u=(0,o.getProductionDslName)(s),l=(n=s)instanceof i.Terminal?n.terminalType.name:n instanceof i.NonTerminal?n.nonTerminalName:"",f="->"+u+(c>0?c:"")+"<- "+(l?"with argument: ->"+l+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+a+"<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return f=(f=f.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(e){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(e){var n=(0,r.map)(e.prefixPath,(function(e){return(0,t.tokenLabel)(e)})).join(", "),i=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+i+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+n+"> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(e){var n=(0,r.map)(e.prefixPath,(function(e){return(0,t.tokenLabel)(e)})).join(", "),i=0===e.alternation.idx?"":e.alternation.idx,o="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+i+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+n+"> may appears as a prefix path in all these alternatives.\n";return o+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(e){var t=(0,o.getProductionDslName)(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){return"Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+"> in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(e){return"An Alternation cannot have more than 256 alternatives:\n<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has "+(e.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(e){var t=e.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(t+" --\x3e "+n.map(e.leftRecursionPath,(function(e){return e.name})).concat([t]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){return"Duplicate definition, rule: ->"+(e.topLevelRule instanceof i.Rule?e.topLevelRule.name:e.topLevelRule)+"<- is already defined in the grammar: ->"+e.grammarName+"<-"}}}(Ga);var $a={},Ya={},Xa=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.GastRefResolverVisitor=Ya.resolveGrammar=void 0;var Ja=Oo,Za=ko,Qa=ba;Ya.resolveGrammar=function(e,t){var n=new es(e,t);return n.resolveRefs(),n.errors};var es=function(e){function t(t,n){var r=e.call(this)||this;return r.nameToTopRule=t,r.errMsgProvider=n,r.errors=[],r}return Xa(t,e),t.prototype.resolveRefs=function(){var e=this;(0,Za.forEach)((0,Za.values)(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Ja.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(Qa.GAstVisitor);Ya.GastRefResolverVisitor=es;var ts={},ns={},rs={},is=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(rs,"__esModule",{value:!0}),rs.nextPossibleTokensAfter=rs.possiblePathsFrom=rs.NextTerminalAfterAtLeastOneSepWalker=rs.NextTerminalAfterAtLeastOneWalker=rs.NextTerminalAfterManySepWalker=rs.NextTerminalAfterManyWalker=rs.AbstractNextTerminalAfterProductionWalker=rs.NextAfterTokenWalker=rs.AbstractNextPossibleTokensWalker=void 0;var os=Bo,as=ko,ss=Ta,cs=Ho,us=function(e){function t(t,n){var r=e.call(this)||this;return r.topProd=t,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return is(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,as.cloneArr)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,as.cloneArr)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}},t.prototype.updateExpectedNext=function(){(0,as.isEmpty)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(os.RestWalker);rs.AbstractNextPossibleTokensWalker=us;var ls=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return is(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new cs.Alternative({definition:r});this.possibleTokTypes=(0,ss.first)(i),this.found=!0}},t}(us);rs.NextAfterTokenWalker=ls;var fs=function(e){function t(t,n){var r=e.call(this)||this;return r.topRule=t,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return is(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(os.RestWalker);rs.AbstractNextTerminalAfterProductionWalker=fs;var ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return is(t,e),t.prototype.walkMany=function(t,n,r){if(t.idx===this.occurrence){var i=(0,as.first)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof cs.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkMany.call(this,t,n,r)},t}(fs);rs.NextTerminalAfterManyWalker=ds;var ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return is(t,e),t.prototype.walkManySep=function(t,n,r){if(t.idx===this.occurrence){var i=(0,as.first)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof cs.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkManySep.call(this,t,n,r)},t}(fs);rs.NextTerminalAfterManySepWalker=ps;var hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return is(t,e),t.prototype.walkAtLeastOne=function(t,n,r){if(t.idx===this.occurrence){var i=(0,as.first)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof cs.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,r)},t}(fs);rs.NextTerminalAfterAtLeastOneWalker=hs;var gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return is(t,e),t.prototype.walkAtLeastOneSep=function(t,n,r){if(t.idx===this.occurrence){var i=(0,as.first)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof cs.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,r)},t}(fs);function ms(e,t,n,r){var i=(0,as.cloneArr)(n);i.push(e.name);var o=(0,as.cloneArr)(r);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}rs.NextTerminalAfterAtLeastOneSepWalker=gs,rs.possiblePathsFrom=function e(t,n,r){void 0===r&&(r=[]),r=(0,as.cloneArr)(r);var i=[],o=0;function a(a){var s=e(a.concat((0,as.drop)(t,o+1)),n,r);return i.concat(s)}for(;r.length<n&&o<t.length;){var s=t[o];if(s instanceof cs.Alternative)return a(s.definition);if(s instanceof cs.NonTerminal)return a(s.definition);if(s instanceof cs.Option)i=a(s.definition);else{if(s instanceof cs.RepetitionMandatory)return a(c=s.definition.concat([new cs.Repetition({definition:s.definition})]));if(s instanceof cs.RepetitionMandatoryWithSeparator)return a(c=[new cs.Alternative({definition:s.definition}),new cs.Repetition({definition:[new cs.Terminal({terminalType:s.separator})].concat(s.definition)})]);if(s instanceof cs.RepetitionWithSeparator){var c=s.definition.concat([new cs.Repetition({definition:[new cs.Terminal({terminalType:s.separator})].concat(s.definition)})]);i=a(c)}else if(s instanceof cs.Repetition){c=s.definition.concat([new cs.Repetition({definition:s.definition})]);i=a(c)}else{if(s instanceof cs.Alternation)return(0,as.forEach)(s.definition,(function(e){!1===(0,as.isEmpty)(e.definition)&&(i=a(e.definition))})),i;if(!(s instanceof cs.Terminal))throw Error("non exhaustive match");r.push(s.terminalType)}}o++}return i.push({partialPath:r,suffixDef:(0,as.drop)(t,o)}),i},rs.nextPossibleTokensAfter=function(e,t,n,r){var i="EXIT_NONE_TERMINAL",o=[i],a="EXIT_ALTERNATIVE",s=!1,c=t.length,u=c-r-1,l=[],f=[];for(f.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,as.isEmpty)(f);){var d=f.pop();if(d!==a){var p=d.def,h=d.idx,g=d.ruleStack,m=d.occurrenceStack;if(!(0,as.isEmpty)(p)){var v=p[0];if(v===i){var y={idx:h,def:(0,as.drop)(p),ruleStack:(0,as.dropRight)(g),occurrenceStack:(0,as.dropRight)(m)};f.push(y)}else if(v instanceof cs.Terminal)if(h<c-1){var _=h+1;if(n(t[_],v.terminalType)){y={idx:_,def:(0,as.drop)(p),ruleStack:g,occurrenceStack:m};f.push(y)}}else{if(h!==c-1)throw Error("non exhaustive match");l.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:g,occurrenceStack:m}),s=!0}else if(v instanceof cs.NonTerminal){var R=(0,as.cloneArr)(g);R.push(v.nonTerminalName);var T=(0,as.cloneArr)(m);T.push(v.idx);y={idx:h,def:v.definition.concat(o,(0,as.drop)(p)),ruleStack:R,occurrenceStack:T};f.push(y)}else if(v instanceof cs.Option){var E={idx:h,def:(0,as.drop)(p),ruleStack:g,occurrenceStack:m};f.push(E),f.push(a);var b={idx:h,def:v.definition.concat((0,as.drop)(p)),ruleStack:g,occurrenceStack:m};f.push(b)}else if(v instanceof cs.RepetitionMandatory){var O=new cs.Repetition({definition:v.definition,idx:v.idx});y={idx:h,def:v.definition.concat([O],(0,as.drop)(p)),ruleStack:g,occurrenceStack:m};f.push(y)}else if(v instanceof cs.RepetitionMandatoryWithSeparator){var k=new cs.Terminal({terminalType:v.separator});O=new cs.Repetition({definition:[k].concat(v.definition),idx:v.idx}),y={idx:h,def:v.definition.concat([O],(0,as.drop)(p)),ruleStack:g,occurrenceStack:m};f.push(y)}else if(v instanceof cs.RepetitionWithSeparator){E={idx:h,def:(0,as.drop)(p),ruleStack:g,occurrenceStack:m};f.push(E),f.push(a);k=new cs.Terminal({terminalType:v.separator});var P=new cs.Repetition({definition:[k].concat(v.definition),idx:v.idx});b={idx:h,def:v.definition.concat([P],(0,as.drop)(p)),ruleStack:g,occurrenceStack:m};f.push(b)}else if(v instanceof cs.Repetition){E={idx:h,def:(0,as.drop)(p),ruleStack:g,occurrenceStack:m};f.push(E),f.push(a);P=new cs.Repetition({definition:v.definition,idx:v.idx}),b={idx:h,def:v.definition.concat([P],(0,as.drop)(p)),ruleStack:g,occurrenceStack:m};f.push(b)}else if(v instanceof cs.Alternation)for(var C=v.definition.length-1;C>=0;C--){var S={idx:h,def:v.definition[C].definition.concat((0,as.drop)(p)),ruleStack:g,occurrenceStack:m};f.push(S),f.push(a)}else if(v instanceof cs.Alternative)f.push({idx:h,def:v.definition.concat((0,as.drop)(p)),ruleStack:g,occurrenceStack:m});else{if(!(v instanceof cs.Rule))throw Error("non exhaustive match");f.push(ms(v,h,g,m))}}}else s&&(0,as.last)(f).idx<=u&&f.pop()}return l},function(t){var n=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.areTokenCategoriesNotUsed=t.isStrictPrefixOfPath=t.containsPath=t.getLookaheadPathsForOptionalProd=t.getLookaheadPathsForOr=t.lookAheadSequenceFromAlternatives=t.buildSingleAlternativeLookaheadFunction=t.buildAlternativesLookAheadFunc=t.buildLookaheadFuncForOptionalProd=t.buildLookaheadFuncForOr=t.getProdType=t.PROD_TYPE=void 0;var r,i,o=ko,a=rs,s=Bo,c=Qo,u=Ho,l=ba;(i=r=t.PROD_TYPE||(t.PROD_TYPE={}))[i.OPTION=0]="OPTION",i[i.REPETITION=1]="REPETITION",i[i.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",i[i.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",i[i.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",i[i.ALTERNATION=5]="ALTERNATION",t.getProdType=function(e){if(e instanceof u.Option)return r.OPTION;if(e instanceof u.Repetition)return r.REPETITION;if(e instanceof u.RepetitionMandatory)return r.REPETITION_MANDATORY;if(e instanceof u.RepetitionMandatoryWithSeparator)return r.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof u.RepetitionWithSeparator)return r.REPETITION_WITH_SEPARATOR;if(e instanceof u.Alternation)return r.ALTERNATION;throw Error("non exhaustive match")},t.buildLookaheadFuncForOr=function(e,t,n,r,i,o){var a=v(e,t,n);return o(a,r,R(a)?c.tokenStructuredMatcherNoCategories:c.tokenStructuredMatcher,i)},t.buildLookaheadFuncForOptionalProd=function(e,t,n,r,i,o){var a=y(e,t,i,n),s=R(a)?c.tokenStructuredMatcherNoCategories:c.tokenStructuredMatcher;return o(a[0],s,r)},t.buildAlternativesLookAheadFunc=function(e,t,n,r){var i=e.length,a=(0,o.every)(e,(function(e){return(0,o.every)(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=(0,o.map)(t,(function(e){return e.GATE})),a=0;a<i;a++){var s=e[a],c=s.length,u=r[a];if(void 0===u||!1!==u.call(this))e:for(var l=0;l<c;l++){for(var f=s[l],d=f.length,p=0;p<d;p++){var h=this.LA(p+1);if(!1===n(h,f[p]))continue e}return a}}};if(a&&!r){var s=(0,o.map)(e,(function(e){return(0,o.flatten)(e)})),c=(0,o.reduce)(s,(function(e,t,n){return(0,o.forEach)(t,(function(t){(0,o.has)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),(0,o.forEach)(t.categoryMatches,(function(t){(0,o.has)(e,t)||(e[t]=n)}))})),e}),[]);return function(){var e=this.LA(1);return c[e.tokenTypeIdx]}}return function(){for(var t=0;t<i;t++){var r=e[t],o=r.length;e:for(var a=0;a<o;a++){for(var s=r[a],c=s.length,u=0;u<c;u++){var l=this.LA(u+1);if(!1===n(l,s[u]))continue e}return t}}}},t.buildSingleAlternativeLookaheadFunction=function(e,t,n){var r=(0,o.every)(e,(function(e){return 1===e.length})),i=e.length;if(r&&!n){var a=(0,o.flatten)(e);if(1===a.length&&(0,o.isEmpty)(a[0].categoryMatches)){var s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}var c=(0,o.reduce)(a,(function(e,t,n){return e[t.tokenTypeIdx]=!0,(0,o.forEach)(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===c[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<i;n++){for(var r=e[n],o=r.length,a=0;a<o;a++){var s=this.LA(a+1);if(!1===t(s,r[a]))continue e}return!0}return!1}};var f=function(e){function t(t,n,r){var i=e.call(this)||this;return i.topProd=t,i.targetOccurrence=n,i.targetProdType=r,i}return n(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)},t.prototype.walkOption=function(t,n,i){this.checkIsTarget(t,r.OPTION,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkAtLeastOne=function(t,n,i){this.checkIsTarget(t,r.REPETITION_MANDATORY,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkAtLeastOneSep=function(t,n,i){this.checkIsTarget(t,r.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkMany=function(t,n,i){this.checkIsTarget(t,r.REPETITION,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkManySep=function(t,n,i){this.checkIsTarget(t,r.REPETITION_WITH_SEPARATOR,n,i)||e.prototype.walkOption.call(this,t,n,i)},t}(s.RestWalker),d=function(e){function t(t,n,r){var i=e.call(this)||this;return i.targetOccurrence=t,i.targetProdType=n,i.targetRef=r,i.result=[],i}return n(t,e),t.prototype.checkIsTarget=function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,r.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,r.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,r.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,r.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,r.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,r.ALTERNATION)},t}(l.GAstVisitor);function p(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function h(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var a=t[o];i.push(a+"_"+r.tokenTypeIdx);for(var s=0;s<r.categoryMatches.length;s++){var c="_"+r.categoryMatches[s];i.push(a+c)}}t=i}return t}function g(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++){if(!0===i[t[o]])return!1}return!0}function m(e,t){for(var n=(0,o.map)(e,(function(e){return(0,a.possiblePathsFrom)([e],1)})),r=p(n.length),i=(0,o.map)(n,(function(e){var t={};return(0,o.forEach)(e,(function(e){var n=h(e.partialPath);(0,o.forEach)(n,(function(e){t[e]=!0}))})),t})),s=n,c=1;c<=t;c++){var u=s;s=p(u.length);for(var l=function(e){for(var n=u[e],l=0;l<n.length;l++){var f=n[l].partialPath,d=n[l].suffixDef,p=h(f);if(g(i,p,e)||(0,o.isEmpty)(d)||f.length===t){var m=r[e];if(!1===_(m,f)){m.push(f);for(var v=0;v<p.length;v++){var y=p[v];i[e][y]=!0}}}else{var R=(0,a.possiblePathsFrom)(d,c+1,f);s[e]=s[e].concat(R),(0,o.forEach)(R,(function(t){var n=h(t.partialPath);(0,o.forEach)(n,(function(t){i[e][t]=!0}))}))}}},f=0;f<u.length;f++)l(f)}return r}function v(e,t,n,i){var o=new d(e,r.ALTERNATION,i);return t.accept(o),m(o.result,n)}function y(e,t,n,r){var i=new d(e,n);t.accept(i);var o=i.result,a=new f(t,e,n).startWalking();return m([new u.Alternative({definition:o}),new u.Alternative({definition:a})],r)}function _(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],a=r[i];if(!1===(o===a||void 0!==a.categoryMatchesMap[o.tokenTypeIdx]))continue e}return!0}}return!1}function R(e){return(0,o.every)(e,(function(e){return(0,o.every)(e,(function(e){return(0,o.every)(e,(function(e){return(0,o.isEmpty)(e.categoryMatches)}))}))}))}t.lookAheadSequenceFromAlternatives=m,t.getLookaheadPathsForOr=v,t.getLookaheadPathsForOptionalProd=y,t.containsPath=_,t.isStrictPrefixOfPath=function(e,t){return e.length<t.length&&(0,o.every)(e,(function(e,n){var r=t[n];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]}))},t.areTokenCategoriesNotUsed=R}(ns);var vs=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ts,"__esModule",{value:!0}),ts.checkPrefixAlternativesAmbiguities=ts.validateSomeNonEmptyLookaheadPath=ts.validateTooManyAlts=ts.RepetionCollector=ts.validateAmbiguousAlternationAlternatives=ts.validateEmptyOrAlternative=ts.getFirstNoneTerminal=ts.validateNoLeftRecursion=ts.validateRuleIsOverridden=ts.validateRuleDoesNotAlreadyExist=ts.OccurrenceValidationCollector=ts.identifyProductionForDuplicates=ts.validateGrammar=void 0;var ys=ko,_s=ko,Rs=Oo,Ts=Ea,Es=ns,bs=rs,Os=Ho,ks=ba;function Ps(e){return(0,Ts.getProductionDslName)(e)+"_#_"+e.idx+"_#_"+Cs(e)}function Cs(e){return e instanceof Os.Terminal?e.terminalType.name:e instanceof Os.NonTerminal?e.nonTerminalName:""}ts.validateGrammar=function(e,t,n,r,i){var o=ys.map(e,(function(e){return function(e,t){var n=new Ss;e.accept(n);var r=n.allProductions,i=ys.groupBy(r,Ps),o=ys.pick(i,(function(e){return e.length>1}));return ys.map(ys.values(o),(function(n){var r=ys.first(n),i=t.buildDuplicateFoundError(e,n),o=(0,Ts.getProductionDslName)(r),a={message:i,type:Rs.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:o,occurrence:r.idx},s=Cs(r);return s&&(a.parameter=s),a}))}(e,r)})),a=ys.map(e,(function(e){return xs(e,e,r)})),s=[],c=[],u=[];(0,_s.every)(a,_s.isEmpty)&&(s=(0,_s.map)(e,(function(e){return Is(e,r)})),c=(0,_s.map)(e,(function(e){return Ds(e,t,r)})),u=qs(e,t,r));var l=function(e,t,n){var r=[],i=(0,_s.map)(t,(function(e){return e.name}));return(0,_s.forEach)(e,(function(e){var t=e.name;if((0,_s.contains)(i,t)){var o=n.buildNamespaceConflictError(e);r.push({message:o,type:Rs.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}(e,n,r),f=(0,_s.map)(e,(function(e){return Ms(e,r)})),d=(0,_s.map)(e,(function(t){return Ns(t,e,i,r)}));return ys.flatten(o.concat(u,a,s,c,l,f,d))},ts.identifyProductionForDuplicates=Ps;var Ss=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return vs(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(ks.GAstVisitor);function Ns(e,t,n,r){var i=[];if((0,_s.reduce)(t,(function(t,n){return n.name===e.name?t+1:t}),0)>1){var o=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:o,type:Rs.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function xs(e,t,n,r){void 0===r&&(r=[]);var i=[],o=ws(t.definition);if(ys.isEmpty(o))return[];var a=e.name;ys.contains(o,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Rs.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:a});var s=ys.difference(o,r.concat([e])),c=ys.map(s,(function(t){var i=ys.cloneArr(r);return i.push(t),xs(e,t,n,i)}));return i.concat(ys.flatten(c))}function ws(e){var t=[];if(ys.isEmpty(e))return t;var n=ys.first(e);if(n instanceof Os.NonTerminal)t.push(n.referencedRule);else if(n instanceof Os.Alternative||n instanceof Os.Option||n instanceof Os.RepetitionMandatory||n instanceof Os.RepetitionMandatoryWithSeparator||n instanceof Os.RepetitionWithSeparator||n instanceof Os.Repetition)t=t.concat(ws(n.definition));else if(n instanceof Os.Alternation)t=ys.flatten(ys.map(n.definition,(function(e){return ws(e.definition)})));else if(!(n instanceof Os.Terminal))throw Error("non exhaustive match");var r=(0,Ts.isOptionalProd)(n),i=e.length>1;if(r&&i){var o=ys.drop(e);return t.concat(ws(o))}return t}ts.OccurrenceValidationCollector=Ss,ts.validateRuleDoesNotAlreadyExist=Ns,ts.validateRuleIsOverridden=function(e,t,n){var r,i=[];return ys.contains(t,e)||(r="Invalid rule override, rule: ->"+e+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",i.push({message:r,type:Rs.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:e})),i},ts.validateNoLeftRecursion=xs,ts.getFirstNoneTerminal=ws;var As=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return vs(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(ks.GAstVisitor);function Is(e,t){var n=new As;e.accept(n);var r=n.alternations;return ys.reduce(r,(function(n,r){var i=ys.dropRight(r.definition),o=ys.map(i,(function(n,i){var o=(0,bs.nextPossibleTokensAfter)([n],[],null,1);return ys.isEmpty(o)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:i}),type:Rs.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:i+1}:null}));return n.concat(ys.compact(o))}),[])}function Ds(e,t,n){var r=new As;e.accept(r);var i=r.alternations;return i=(0,_s.reject)(i,(function(e){return!0===e.ignoreAmbiguities})),ys.reduce(i,(function(r,i){var o=i.idx,a=i.maxLookahead||t,s=(0,Es.getLookaheadPathsForOr)(o,e,a,i),c=function(e,t,n,r){var i=[],o=(0,_s.reduce)(e,(function(n,r,o){return!0===t.definition[o].ignoreAmbiguities||(0,_s.forEach)(r,(function(r){var a=[o];(0,_s.forEach)(e,(function(e,n){o!==n&&(0,Es.containsPath)(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)})),a.length>1&&!(0,Es.containsPath)(i,r)&&(i.push(r),n.push({alts:a,path:r}))})),n}),[]);return ys.map(o,(function(e){var i=(0,_s.map)(e.alts,(function(e){return e+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Rs.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[e.alts]}}))}(s,i,e,n),u=Fs(s,i,e,n);return r.concat(c,u)}),[])}ts.validateEmptyOrAlternative=Is,ts.validateAmbiguousAlternationAlternatives=Ds;var Ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return vs(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(ks.GAstVisitor);function Ms(e,t){var n=new As;e.accept(n);var r=n.alternations;return ys.reduce(r,(function(n,r){return r.definition.length>255&&n.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Rs.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}),n}),[])}function qs(e,t,n){var r=[];return(0,_s.forEach)(e,(function(e){var i=new Ls;e.accept(i);var o=i.allProductions;(0,_s.forEach)(o,(function(i){var o=(0,Es.getProdType)(i),a=i.maxLookahead||t,s=i.idx,c=(0,Es.getLookaheadPathsForOptionalProd)(s,e,o,a)[0];if((0,_s.isEmpty)((0,_s.flatten)(c))){var u=n.buildEmptyRepetitionError({topLevelRule:e,repetition:i});r.push({message:u,type:Rs.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}function Fs(e,t,n,r){var i=[],o=(0,_s.reduce)(e,(function(e,t,n){var r=(0,_s.map)(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]);return(0,_s.forEach)(o,(function(e){if(!0!==t.definition[e.idx].ignoreAmbiguities){var a=e.idx,s=e.path,c=(0,_s.findAll)(o,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<a&&(0,Es.isStrictPrefixOfPath)(e.path,s)})),u=(0,_s.map)(c,(function(e){var i=[e.idx+1,a+1],o=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Rs.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));i=i.concat(u)}})),i}ts.RepetionCollector=Ls,ts.validateTooManyAlts=Ms,ts.validateSomeNonEmptyLookaheadPath=qs,ts.checkPrefixAlternativesAmbiguities=Fs,Object.defineProperty($a,"__esModule",{value:!0}),$a.validateGrammar=$a.resolveGrammar=void 0;var js=ko,Ws=Ya,Us=ts,zs=Ga;$a.resolveGrammar=function(e){e=(0,js.defaults)(e,{errMsgProvider:zs.defaultGrammarResolverErrorProvider});var t={};return(0,js.forEach)(e.rules,(function(e){t[e.name]=e})),(0,Ws.resolveGrammar)(t,e.errMsgProvider)},$a.validateGrammar=function(e){return e=(0,js.defaults)(e,{errMsgProvider:zs.defaultGrammarValidatorErrorProvider}),(0,Us.validateGrammar)(e.rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)};var Bs={},Hs={},Ks=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.EarlyExitException=Hs.NotAllInputParsedException=Hs.NoViableAltException=Hs.MismatchedTokenException=Hs.isRecognitionException=void 0;var Vs=ko,Gs=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];Object.freeze(Gs),Hs.isRecognitionException=function(e){return(0,Vs.contains)(Gs,e.name)};var $s=function(e){function t(t,n){var r=this.constructor,i=e.call(this,t)||this;return i.token=n,i.resyncedTokens=[],Object.setPrototypeOf(i,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return Ks(t,e),t}(Error),Ys=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name="MismatchedTokenException",i}return Ks(t,e),t}($s);Hs.MismatchedTokenException=Ys;var Xs=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name="NoViableAltException",i}return Ks(t,e),t}($s);Hs.NoViableAltException=Xs;var Js=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name="NotAllInputParsedException",r}return Ks(t,e),t}($s);Hs.NotAllInputParsedException=Js;var Zs=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name="EarlyExitException",i}return Ks(t,e),t}($s);Hs.EarlyExitException=Zs,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.attemptInRepetitionRecovery=e.Recoverable=e.InRuleRecoveryException=e.IN_RULE_RECOVERY_EXCEPTION=e.EOF_FOLLOW_KEY=void 0;var t=Ko,n=ko,r=Hs,i=ja,o=Oo;function a(t){this.name=e.IN_RULE_RECOVERY_EXCEPTION,this.message=t}e.EOF_FOLLOW_KEY={},e.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException",e.InRuleRecoveryException=a,a.prototype=Error.prototype;var s=function(){function s(){}return s.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,n.has)(e,"recoveryEnabled")?e.recoveryEnabled:o.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=c)},s.prototype.getTokenToInsert=function(e){var n=(0,t.createTokenInstance)(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n},s.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},s.prototype.tryInRepetitionRecovery=function(e,t,i,o){for(var a=this,s=this.findReSyncTokenType(),c=this.exportLexerState(),u=[],l=!1,f=this.LA(1),d=this.LA(1),p=function(){var e=a.LA(0),t=a.errorMessageProvider.buildMismatchTokenMessage({expected:o,actual:f,previous:e,ruleName:a.getCurrRuleFullName()}),i=new r.MismatchedTokenException(t,f,a.LA(0));i.resyncedTokens=(0,n.dropRight)(u),a.SAVE_ERROR(i)};!l;){if(this.tokenMatcher(d,o))return void p();if(i.call(this))return p(),void e.apply(this,t);this.tokenMatcher(d,s)?l=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,u))}this.importLexerState(c)},s.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!1!==n&&(void 0!==e&&void 0!==t&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))))},s.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)},s.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new a("sad sad panda")},s.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},s.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var r=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if((0,n.isEmpty)(t))return!1;var i=this.LA(1);return void 0!==(0,n.find)(t,(function(e){return r.tokenMatcher(i,e)}))},s.prototype.canRecoverWithSingleTokenDeletion=function(e){return this.tokenMatcher(this.LA(2),e)},s.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return(0,n.contains)(r,e)},s.prototype.findReSyncTokenType=function(){for(var e=this.flattenFollowSet(),t=this.LA(1),r=2;;){var i=t.tokenType;if((0,n.contains)(e,i))return i;t=this.LA(r),r++}},s.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return e.EOF_FOLLOW_KEY;var t=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}},s.prototype.buildFullFollowKeyStack=function(){var t=this,r=this.RULE_STACK,i=this.RULE_OCCURRENCE_STACK;return(0,n.map)(r,(function(n,o){return 0===o?e.EOF_FOLLOW_KEY:{ruleName:t.shortRuleNameToFullName(n),idxInCallingRule:i[o],inRule:t.shortRuleNameToFullName(r[o-1])}}))},s.prototype.flattenFollowSet=function(){var e=this,t=(0,n.map)(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)}));return(0,n.flatten)(t)},s.prototype.getFollowSetFromFollowKey=function(n){if(n===e.EOF_FOLLOW_KEY)return[t.EOF];var r=n.ruleName+n.idxInCallingRule+i.IN+n.inRule;return this.resyncFollows[r]},s.prototype.addToResyncTokens=function(e,n){return this.tokenMatcher(e,t.EOF)||n.push(e),n},s.prototype.reSyncTo=function(e){for(var t=[],r=this.LA(1);!1===this.tokenMatcher(r,e);)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return(0,n.dropRight)(t)},s.prototype.attemptInRepetitionRecovery=function(e,t,n,r,i,o,a){},s.prototype.getCurrentGrammarPath=function(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,n.cloneArr)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}},s.prototype.getHumanReadableRuleStack=function(){var e=this;return(0,n.map)(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)}))},s}();function c(e,n,r,i,o,a,s){var c=this.getKeyForAutomaticLookahead(i,o),u=this.firstAfterRepMap[c];if(void 0===u){var l=this.getCurrRuleFullName();u=new a(this.getGAstProductions()[l],o).startWalking(),this.firstAfterRepMap[c]=u}var f=u.token,d=u.occurrence,p=u.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===f&&(f=t.EOF,d=1),this.shouldInRepetitionRecoveryBeTried(f,d,s)&&this.tryInRepetitionRecovery(e,n,r,f)}e.Recoverable=s,e.attemptInRepetitionRecovery=c}(Bs);var Qs={},ec={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyForAutomaticLookahead=e.AT_LEAST_ONE_SEP_IDX=e.MANY_SEP_IDX=e.AT_LEAST_ONE_IDX=e.MANY_IDX=e.OPTION_IDX=e.OR_IDX=e.BITS_FOR_ALT_IDX=e.BITS_FOR_RULE_IDX=e.BITS_FOR_OCCURRENCE_IDX=e.BITS_FOR_METHOD_TYPE=void 0,e.BITS_FOR_METHOD_TYPE=4,e.BITS_FOR_OCCURRENCE_IDX=8,e.BITS_FOR_RULE_IDX=12,e.BITS_FOR_ALT_IDX=8,e.OR_IDX=1<<e.BITS_FOR_OCCURRENCE_IDX,e.OPTION_IDX=2<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_IDX=3<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_IDX=4<<e.BITS_FOR_OCCURRENCE_IDX,e.MANY_SEP_IDX=5<<e.BITS_FOR_OCCURRENCE_IDX,e.AT_LEAST_ONE_SEP_IDX=6<<e.BITS_FOR_OCCURRENCE_IDX,e.getKeyForAutomaticLookahead=function(e,t,n){return n|t|e},e.BITS_FOR_ALT_IDX}(ec),Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.LooksAhead=void 0;var tc=ns,nc=ko,rc=Oo,ic=ec,oc=Ea,ac=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,nc.has)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:rc.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,nc.has)(e,"maxLookahead")?e.maxLookahead:rc.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=(0,nc.isES2015MapSupported)()?new Map:[],(0,nc.isES2015MapSupported)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;(0,nc.forEach)(e,(function(e){t.TRACE_INIT(e.name+" Rule Lookahead",(function(){var n=(0,oc.collectMethods)(e),r=n.alternation,i=n.repetition,o=n.option,a=n.repetitionMandatory,s=n.repetitionMandatoryWithSeparator,c=n.repetitionWithSeparator;(0,nc.forEach)(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+(0,oc.getProductionDslName)(n)+r,(function(){var r=(0,tc.buildLookaheadFuncForOr)(n.idx,e,n.maxLookahead||t.maxLookahead,n.hasPredicates,t.dynamicTokensEnabled,t.lookAheadBuilderForAlternatives),i=(0,ic.getKeyForAutomaticLookahead)(t.fullRuleNameToShort[e.name],ic.OR_IDX,n.idx);t.setLaFuncCache(i,r)}))})),(0,nc.forEach)(i,(function(n){t.computeLookaheadFunc(e,n.idx,ic.MANY_IDX,tc.PROD_TYPE.REPETITION,n.maxLookahead,(0,oc.getProductionDslName)(n))})),(0,nc.forEach)(o,(function(n){t.computeLookaheadFunc(e,n.idx,ic.OPTION_IDX,tc.PROD_TYPE.OPTION,n.maxLookahead,(0,oc.getProductionDslName)(n))})),(0,nc.forEach)(a,(function(n){t.computeLookaheadFunc(e,n.idx,ic.AT_LEAST_ONE_IDX,tc.PROD_TYPE.REPETITION_MANDATORY,n.maxLookahead,(0,oc.getProductionDslName)(n))})),(0,nc.forEach)(s,(function(n){t.computeLookaheadFunc(e,n.idx,ic.AT_LEAST_ONE_SEP_IDX,tc.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,(0,oc.getProductionDslName)(n))})),(0,nc.forEach)(c,(function(n){t.computeLookaheadFunc(e,n.idx,ic.MANY_SEP_IDX,tc.PROD_TYPE.REPETITION_WITH_SEPARATOR,n.maxLookahead,(0,oc.getProductionDslName)(n))}))}))}))},e.prototype.computeLookaheadFunc=function(e,t,n,r,i,o){var a=this;this.TRACE_INIT(""+o+(0===t?"":t),(function(){var o=(0,tc.buildLookaheadFuncForOptionalProd)(t,e,i||a.maxLookahead,a.dynamicTokensEnabled,r,a.lookAheadBuilderForOptional),s=(0,ic.getKeyForAutomaticLookahead)(a.fullRuleNameToShort[e.name],n,t);a.setLaFuncCache(s,o)}))},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return(0,tc.buildSingleAlternativeLookaheadFunction)(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return(0,tc.buildAlternativesLookAheadFunc)(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){var n=this.getLastExplicitRuleShortName();return(0,ic.getKeyForAutomaticLookahead)(n,e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}();Qs.LooksAhead=ac;var sc={},cc={};Object.defineProperty(cc,"__esModule",{value:!0}),cc.addNoneTerminalToCst=cc.addTerminalToCst=cc.setNodeLocationFull=cc.setNodeLocationOnlyOffset=void 0,cc.setNodeLocationOnlyOffset=function(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)},cc.setNodeLocationFull=function(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)},cc.addTerminalToCst=function(e,t,n){void 0===e.children[n]?e.children[n]=[t]:e.children[n].push(t)},cc.addNoneTerminalToCst=function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)};var uc={},lc={};Object.defineProperty(lc,"__esModule",{value:!0}),lc.defineNameProp=lc.functionName=lc.classNameFromInstance=void 0;var fc=ko;lc.classNameFromInstance=function(e){return dc(e.constructor)};function dc(e){var t=e.name;return t||"anonymous"}lc.functionName=dc,lc.defineNameProp=function(e,t){var n=Object.getOwnPropertyDescriptor(e,"name");return!(!(0,fc.isUndefined)(n)&&!n.configurable)&&(Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t}),!0)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateRedundantMethods=e.validateMissingCstMethods=e.validateVisitor=e.CstVisitorDefinitionError=e.createBaseVisitorConstructorWithDefaults=e.createBaseSemanticVisitorConstructor=e.defaultVisit=void 0;var t,n,r=ko,i=lc;function o(e,t){for(var n=(0,r.keys)(e),i=n.length,o=0;o<i;o++)for(var a=e[n[o]],s=a.length,c=0;c<s;c++){var u=a[c];void 0===u.tokenTypeIdx&&this[u.name](u.children,t)}}function a(e,t){var n=s(e,t),r=u(e,t);return n.concat(r)}function s(e,n){var o=(0,r.map)(n,(function(n){if(!(0,r.isFunction)(e[n]))return{msg:"Missing visitor method: <"+n+"> on "+(0,i.functionName)(e.constructor)+" CST Visitor.",type:t.MISSING_METHOD,methodName:n}}));return(0,r.compact)(o)}e.defaultVisit=o,e.createBaseSemanticVisitorConstructor=function(e,t){var n=function(){};return(0,i.defineNameProp)(n,e+"BaseSemantics"),(n.prototype={visit:function(e,t){if((0,r.isArray)(e)&&(e=e[0]),!(0,r.isUndefined)(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=a(this,t);if(!(0,r.isEmpty)(e)){var n=(0,r.map)(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <"+(0,i.functionName)(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=t,n},e.createBaseVisitorConstructorWithDefaults=function(e,t,n){var a=function(){};(0,i.defineNameProp)(a,e+"BaseSemanticsWithDefaults");var s=Object.create(n.prototype);return(0,r.forEach)(t,(function(e){s[e]=o})),(a.prototype=s).constructor=a,a},(n=t=e.CstVisitorDefinitionError||(e.CstVisitorDefinitionError={}))[n.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",n[n.MISSING_METHOD=1]="MISSING_METHOD",e.validateVisitor=a,e.validateMissingCstMethods=s;var c=["constructor","visit","validateVisitor"];function u(e,n){var o=[];for(var a in e)!(0,r.isFunction)(e[a])||(0,r.contains)(c,a)||(0,r.contains)(n,a)||o.push({msg:"Redundant visitor method: <"+a+"> on "+(0,i.functionName)(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\n",type:t.REDUNDANT_METHOD,methodName:a});return o}e.validateRedundantMethods=u}(uc),Object.defineProperty(sc,"__esModule",{value:!0}),sc.TreeBuilder=void 0;var pc=cc,hc=ko,gc=uc,mc=Oo,vc=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,hc.has)(e,"nodeLocationTracking")?e.nodeLocationTracking:mc.DEFAULT_PARSER_CONFIG.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=pc.setNodeLocationFull,this.setNodeLocationFromNode=pc.setNodeLocationFull,this.cstPostRule=hc.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=hc.NOOP,this.setNodeLocationFromNode=hc.NOOP,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=pc.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=pc.setNodeLocationOnlyOffset,this.cstPostRule=hc.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=hc.NOOP,this.setNodeLocationFromNode=hc.NOOP,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');this.setNodeLocationFromToken=hc.NOOP,this.setNodeLocationFromNode=hc.NOOP,this.cstPostRule=hc.NOOP,this.setInitialNodeLocation=hc.NOOP}else this.cstInvocationStateUpdate=hc.NOOP,this.cstFinallyStateUpdate=hc.NOOP,this.cstPostTerminal=hc.NOOP,this.cstPostNonTerminal=hc.NOOP,this.cstPostRule=hc.NOOP},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(e,t){var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];(0,pc.addTerminalToCst)(n,t,e),this.setNodeLocationFromToken(n.location,t)},e.prototype.cstPostNonTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];(0,pc.addNoneTerminalToCst)(n,t,e),this.setNodeLocationFromNode(n.location,e.location)},e.prototype.getBaseCstVisitorConstructor=function(){if((0,hc.isUndefined)(this.baseCstVisitorConstructor)){var e=(0,gc.createBaseSemanticVisitorConstructor)(this.className,(0,hc.keys)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,hc.isUndefined)(this.baseCstVisitorWithDefaultsConstructor)){var e=(0,gc.createBaseVisitorConstructorWithDefaults)(this.className,(0,hc.keys)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e}();sc.TreeBuilder=vc;var yc={};Object.defineProperty(yc,"__esModule",{value:!0}),yc.LexerAdapter=void 0;var _c=Oo,Rc=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):_c.END_OF_FILE},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?_c.END_OF_FILE:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}();yc.LexerAdapter=Rc;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.RecognizerApi=void 0;var Ec=ko,bc=Hs,Oc=Oo,kc=Ga,Pc=ts,Cc=Ho,Sc=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=Oc.DEFAULT_RULE_CONFIG),(0,Ec.contains)(this.definedRulesNames,e)){var r={message:kc.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Oc.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(r)}this.definedRulesNames.push(e);var i=this.defineRule(e,t,n);return this[e]=i,i},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=Oc.DEFAULT_RULE_CONFIG);var r=[];r=r.concat((0,Pc.validateRuleIsOverridden)(e,this.definedRulesNames,this.className)),this.definitionErrors=this.definitionErrors.concat(r);var i=this.defineRule(e,t,n);return this[e]=i,i},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if((0,bc.isRecognitionException)(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return(0,Cc.serializeGrammar)((0,Ec.values)(this.gastProductionsCache))},e}();Tc.RecognizerApi=Sc;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.RecognizerEngine=void 0;var xc=ko,wc=ec,Ac=Hs,Ic=ns,Dc=rs,Lc=Oo,Mc=Bs,qc=Ko,Fc=Qo,jc=lc,Wc=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=(0,jc.classNameFromInstance)(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Fc.tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,xc.has)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,xc.isArray)(e)){if((0,xc.isEmpty)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,xc.isArray)(e))this.tokensMap=(0,xc.reduce)(e,(function(e,t){return e[t.name]=t,e}),{});else if((0,xc.has)(e,"modes")&&(0,xc.every)((0,xc.flatten)((0,xc.values)(e.modes)),Fc.isTokenType)){var n=(0,xc.flatten)((0,xc.values)(e.modes)),r=(0,xc.uniq)(n);this.tokensMap=(0,xc.reduce)(r,(function(e,t){return e[t.name]=t,e}),{})}else{if(!(0,xc.isObject)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,xc.cloneObj)(e)}this.tokensMap.EOF=qc.EOF;var i=(0,xc.every)((0,xc.values)(e),(function(e){return(0,xc.isEmpty)(e.categoryMatches)}));this.tokenMatcher=i?Fc.tokenStructuredMatcherNoCategories:Fc.tokenStructuredMatcher,(0,Fc.augmentTokenTypes)((0,xc.values)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r=(0,xc.has)(n,"resyncEnabled")?n.resyncEnabled:Lc.DEFAULT_RULE_CONFIG.resyncEnabled,i=(0,xc.has)(n,"recoveryValueFunc")?n.recoveryValueFunc:Lc.DEFAULT_RULE_CONFIG.recoveryValueFunc,o=this.ruleShortNameIdx<<wc.BITS_FOR_METHOD_TYPE+wc.BITS_FOR_OCCURRENCE_IDX;function a(e){try{if(!0===this.outputCst){t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return t.apply(this,e)}catch(o){return this.invokeRuleCatch(o,r,i)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;var s=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(o,e,t),a.call(this,n)};return s.ruleName=e,s.originalGrammarAction=t,s},e.prototype.invokeRuleCatch=function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if((0,Ac.isRecognitionException)(e)){var o=e;if(i){var a,s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))return o.resyncedTokens=this.reSyncTo(s),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):n();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=a),o}if(r)return this.moveToTerminatedState(),n();throw o}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(wc.OPTION_IDX,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=e;if(!0===a.call(this))return r.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(wc.AT_LEAST_ONE_IDX,e);return this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=t;if(!0!==a.call(this))throw this.raiseEarlyExitException(e,Ic.PROD_TYPE.REPETITION_MANDATORY,t.ERR_MSG);for(var c=this.doSingleRepetition(r);!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],a,wc.AT_LEAST_ONE_IDX,e,Dc.NextTerminalAfterAtLeastOneWalker)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(wc.AT_LEAST_ONE_SEP_IDX,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,Ic.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,Dc.NextTerminalAfterAtLeastOneSepWalker],a,wc.AT_LEAST_ONE_SEP_IDX,e,Dc.NextTerminalAfterAtLeastOneSepWalker)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(wc.MANY_IDX,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=t;for(var c=!0;!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],a,wc.MANY_IDX,e,Dc.NextTerminalAfterManyWalker,c)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(wc.MANY_SEP_IDX,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,Dc.NextTerminalAfterManySepWalker],a,wc.MANY_SEP_IDX,e,Dc.NextTerminalAfterManySepWalker)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,wc.AT_LEAST_ONE_SEP_IDX,e,i)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(wc.OR_IDX,t),r=(0,xc.isArray)(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(void 0!==i)return r[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ac.NotAllInputParsedException(t,e))}},e.prototype.subruleInternal=function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=e.call(this,t,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(o){this.subruleInternalError(o,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw(0,Ac.isRecognitionException)(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(o){r=this.consumeInternalRecovery(e,t,o)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r},e.prototype.consumeInternalError=function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Ac.MismatchedTokenException(r,t,i))},e.prototype.consumeInternalRecovery=function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(i){throw i.name===Mc.IN_RULE_RECOVERY_EXCEPTION?n:i}},e.prototype.saveRecogState=function(){var e=this.errors,t=(0,xc.cloneArr)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),qc.EOF)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}();Nc.RecognizerEngine=Wc;var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.ErrorHandler=void 0;var zc=Hs,Bc=ko,Hc=ns,Kc=Oo,Vc=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=(0,Bc.has)(e,"errorMessageProvider")?e.errorMessageProvider:Kc.DEFAULT_PARSER_CONFIG.errorMessageProvider},e.prototype.SAVE_ERROR=function(e){if((0,zc.isRecognitionException)(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,Bc.cloneArr)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return(0,Bc.cloneArr)(this._errors)},set:function(e){this._errors=e},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],o=(0,Hc.getLookaheadPathsForOptionalProd)(e,i,t,this.maxLookahead)[0],a=[],s=1;s<=this.maxLookahead;s++)a.push(this.LA(s));var c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new zc.EarlyExitException(c,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=this.getGAstProductions()[n],i=(0,Hc.getLookaheadPathsForOr)(e,r,this.maxLookahead),o=[],a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));var s=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new zc.NoViableAltException(c,this.LA(1),s))},e}();Uc.ErrorHandler=Vc;var Gc={};Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.ContentAssist=void 0;var $c=rs,Yc=ko,Xc=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if((0,Yc.isUndefined)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return(0,$c.nextPossibleTokensAfter)([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=(0,Yc.first)(e.ruleStack),n=this.getGAstProductions()[t];return new $c.NextAfterTokenWalker(n,e).startWalking()},e}();Gc.ContentAssist=Xc;var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.GastRecorder=void 0;var Zc=ko,Qc=Ho,eu=Vo,tu=Qo,nu=Ko,ru=Oo,iu=ec,ou={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ou);var au=Math.pow(2,iu.BITS_FOR_OCCURRENCE_IDX)-1,su=(0,nu.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:eu.Lexer.NA});(0,tu.augmentTokenTypes)([su]);var cu=(0,nu.createTokenInstance)(su,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(cu);var uu={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},lu=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e.option=function(e,t){return this.optionInternalRecord(t,e)},e.or=function(e,t){return this.orInternalRecord(t,e)},e.many=function(e,t){this.manyInternalRecord(e,t)},e.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return ru.END_OF_FILE},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new Qc.Rule({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(i){throw r}throw r}},e.prototype.optionInternalRecord=function(e,t){return fu.call(this,Qc.Option,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){fu.call(this,Qc.RepetitionMandatory,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){fu.call(this,Qc.RepetitionMandatoryWithSeparator,t,e,true)},e.prototype.manyInternalRecord=function(e,t){fu.call(this,Qc.Repetition,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){fu.call(this,Qc.RepetitionWithSeparator,t,e,true)},e.prototype.orInternalRecord=function(e,t){return du.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if(hu(t),!e||!1===(0,Zc.has)(e,"ruleName")){var r=new Error("<SUBRULE"+pu(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var i=(0,Zc.peek)(this.recordingProdStack),o=e.ruleName,a=new Qc.NonTerminal({idx:t,nonTerminalName:o,label:null==n?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?uu:ou},e.prototype.consumeInternalRecord=function(e,t,n){if(hu(t),!(0,tu.hasShortKeyProperty)(e)){var r=new Error("<CONSUME"+pu(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var i=(0,Zc.peek)(this.recordingProdStack),o=new Qc.Terminal({idx:t,terminalType:e,label:null==n?void 0:n.LABEL});return i.definition.push(o),cu},e}();function fu(e,t,n,r){void 0===r&&(r=!1),hu(n);var i=(0,Zc.peek)(this.recordingProdStack),o=(0,Zc.isFunction)(t)?t:t.DEF,a=new e({definition:[],idx:n});return r&&(a.separator=t.SEP),(0,Zc.has)(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),o.call(this),i.definition.push(a),this.recordingProdStack.pop(),ou}function du(e,t){var n=this;hu(t);var r=(0,Zc.peek)(this.recordingProdStack),i=!1===(0,Zc.isArray)(e),o=!1===i?e:e.DEF,a=new Qc.Alternation({definition:[],idx:t,ignoreAmbiguities:i&&!0===e.IGNORE_AMBIGUITIES});(0,Zc.has)(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);var s=(0,Zc.some)(o,(function(e){return(0,Zc.isFunction)(e.GATE)}));return a.hasPredicates=s,r.definition.push(a),(0,Zc.forEach)(o,(function(e){var t=new Qc.Alternative({definition:[]});a.definition.push(t),(0,Zc.has)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,Zc.has)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),ou}function pu(e){return 0===e?"":""+e}function hu(e){if(e<0||e>au){var t=new Error("Invalid DSL Method idx value: <"+e+">\n\tIdx value must be a none negative value smaller than "+(au+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}Jc.GastRecorder=lu;var gu={};Object.defineProperty(gu,"__esModule",{value:!0}),gu.PerformanceTracer=void 0;var mu=ko,vu=Oo,yu=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if((0,mu.has)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=vu.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,mu.timer)(t),i=r.time,o=r.value,a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+i+"ms"),this.traceInitIndent--,o}return t()},e}();gu.PerformanceTracer=yu;var _u={};Object.defineProperty(_u,"__esModule",{value:!0}),_u.applyMixins=void 0,_u.applyMixins=function(e,t){t.forEach((function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(e.prototype,r,i):e.prototype[r]=t.prototype[r]}}))}))},function(t){var n=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.EmbeddedActionsParser=t.CstParser=t.Parser=t.EMPTY_ALT=t.ParserDefinitionErrorType=t.DEFAULT_RULE_CONFIG=t.DEFAULT_PARSER_CONFIG=t.END_OF_FILE=void 0;var r,i=ko,o=zo,a=Ko,s=Ga,c=$a,u=Bs,l=Qs,f=sc,d=yc,p=Tc,h=Nc,g=Uc,m=Gc,v=Jc,y=gu,_=_u;t.END_OF_FILE=(0,a.createTokenInstance)(a.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(t.END_OF_FILE),t.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:s.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),t.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),(r=t.ParserDefinitionErrorType||(t.ParserDefinitionErrorType={}))[r.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",r[r.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",r[r.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",r[r.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",r[r.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",r[r.LEFT_RECURSION=5]="LEFT_RECURSION",r[r.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",r[r.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",r[r.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",r[r.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",r[r.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",r[r.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",r[r.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t.EMPTY_ALT=function(e){return void 0===e&&(e=void 0),function(){return e}};var R=function(){function e(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;var r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),(0,i.has)(n,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,i.has)(n,"skipValidations")?n.skipValidations:t.DEFAULT_PARSER_CONFIG.skipValidations}return e.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){(0,i.toFastProperties)(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),(0,i.forEach)(t.definedRulesNames,(function(e){var n=t[e].originalGrammarAction,r=void 0;t.TRACE_INIT(e+" Rule",(function(){r=t.topLevelRuleRecord(e,n)})),t.gastProductionsCache[e]=r}))}finally{t.disableRecording()}}));var a=[];if(t.TRACE_INIT("Grammar Resolving",(function(){a=(0,c.resolveGrammar)({rules:(0,i.values)(t.gastProductionsCache)}),t.definitionErrors=t.definitionErrors.concat(a)})),t.TRACE_INIT("Grammar Validations",(function(){if((0,i.isEmpty)(a)&&!1===t.skipValidations){var e=(0,c.validateGrammar)({rules:(0,i.values)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:(0,i.values)(t.tokensMap),errMsgProvider:s.defaultGrammarValidatorErrorProvider,grammarName:r});t.definitionErrors=t.definitionErrors.concat(e)}})),(0,i.isEmpty)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e=(0,o.computeAllProdsFollows)((0,i.values)(t.gastProductionsCache));t.resyncFollows=e})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){t.preComputeLookaheadFunctions((0,i.values)(t.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,i.isEmpty)(t.definitionErrors))throw n=(0,i.map)(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();t.Parser=R,(0,_.applyMixins)(R,[u.Recoverable,l.LooksAhead,f.TreeBuilder,d.LexerAdapter,h.RecognizerEngine,p.RecognizerApi,g.ErrorHandler,m.ContentAssist,v.GastRecorder,y.PerformanceTracer]);var T=function(e){function r(n,r){void 0===r&&(r=t.DEFAULT_PARSER_CONFIG);var o=(0,i.cloneObj)(r);return o.outputCst=!0,e.call(this,n,o)||this}return n(r,e),r}(R);t.CstParser=T;var E=function(e){function r(n,r){void 0===r&&(r=t.DEFAULT_PARSER_CONFIG);var o=(0,i.cloneObj)(r);return o.outputCst=!1,e.call(this,n,o)||this}return n(r,e),r}(R);t.EmbeddedActionsParser=E}(Oo);var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.createSyntaxDiagramsCode=void 0;var Tu=bo;Ru.createSyntaxDiagramsCode=function(e,t){var n=void 0===t?{}:t,r=n.resourceBase,i=void 0===r?"https://unpkg.com/chevrotain@"+Tu.VERSION+"/diagrams/":r,o=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===o?"https://unpkg.com/chevrotain@"+Tu.VERSION+"/diagrams/diagrams.css":o)+"'>\n")+("\n<script src='"+i+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+i+"src/diagrams_builder.js'><\/script>\n<script src='"+i+"src/diagrams_behavior.js'><\/script>\n<script src='"+i+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(e,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.createSyntaxDiagramsCode=e.clearCache=e.GAstVisitor=e.serializeProduction=e.serializeGrammar=e.Terminal=e.Rule=e.RepetitionWithSeparator=e.RepetitionMandatoryWithSeparator=e.RepetitionMandatory=e.Repetition=e.Option=e.NonTerminal=e.Alternative=e.Alternation=e.defaultLexerErrorProvider=e.NoViableAltException=e.NotAllInputParsedException=e.MismatchedTokenException=e.isRecognitionException=e.EarlyExitException=e.defaultParserErrorProvider=e.tokenName=e.tokenMatcher=e.tokenLabel=e.EOF=e.createTokenInstance=e.createToken=e.LexerDefinitionErrorType=e.Lexer=e.EMPTY_ALT=e.ParserDefinitionErrorType=e.EmbeddedActionsParser=e.CstParser=e.VERSION=void 0;var t=bo;Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return t.VERSION}});var n=Oo;Object.defineProperty(e,"CstParser",{enumerable:!0,get:function(){return n.CstParser}}),Object.defineProperty(e,"EmbeddedActionsParser",{enumerable:!0,get:function(){return n.EmbeddedActionsParser}}),Object.defineProperty(e,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return n.ParserDefinitionErrorType}}),Object.defineProperty(e,"EMPTY_ALT",{enumerable:!0,get:function(){return n.EMPTY_ALT}});var r=Vo;Object.defineProperty(e,"Lexer",{enumerable:!0,get:function(){return r.Lexer}}),Object.defineProperty(e,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return r.LexerDefinitionErrorType}});var i=Ko;Object.defineProperty(e,"createToken",{enumerable:!0,get:function(){return i.createToken}}),Object.defineProperty(e,"createTokenInstance",{enumerable:!0,get:function(){return i.createTokenInstance}}),Object.defineProperty(e,"EOF",{enumerable:!0,get:function(){return i.EOF}}),Object.defineProperty(e,"tokenLabel",{enumerable:!0,get:function(){return i.tokenLabel}}),Object.defineProperty(e,"tokenMatcher",{enumerable:!0,get:function(){return i.tokenMatcher}}),Object.defineProperty(e,"tokenName",{enumerable:!0,get:function(){return i.tokenName}});var o=Ga;Object.defineProperty(e,"defaultParserErrorProvider",{enumerable:!0,get:function(){return o.defaultParserErrorProvider}});var a=Hs;Object.defineProperty(e,"EarlyExitException",{enumerable:!0,get:function(){return a.EarlyExitException}}),Object.defineProperty(e,"isRecognitionException",{enumerable:!0,get:function(){return a.isRecognitionException}}),Object.defineProperty(e,"MismatchedTokenException",{enumerable:!0,get:function(){return a.MismatchedTokenException}}),Object.defineProperty(e,"NotAllInputParsedException",{enumerable:!0,get:function(){return a.NotAllInputParsedException}}),Object.defineProperty(e,"NoViableAltException",{enumerable:!0,get:function(){return a.NoViableAltException}});var s=ea;Object.defineProperty(e,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return s.defaultLexerErrorProvider}});var c=Ho;Object.defineProperty(e,"Alternation",{enumerable:!0,get:function(){return c.Alternation}}),Object.defineProperty(e,"Alternative",{enumerable:!0,get:function(){return c.Alternative}}),Object.defineProperty(e,"NonTerminal",{enumerable:!0,get:function(){return c.NonTerminal}}),Object.defineProperty(e,"Option",{enumerable:!0,get:function(){return c.Option}}),Object.defineProperty(e,"Repetition",{enumerable:!0,get:function(){return c.Repetition}}),Object.defineProperty(e,"RepetitionMandatory",{enumerable:!0,get:function(){return c.RepetitionMandatory}}),Object.defineProperty(e,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return c.RepetitionMandatoryWithSeparator}}),Object.defineProperty(e,"RepetitionWithSeparator",{enumerable:!0,get:function(){return c.RepetitionWithSeparator}}),Object.defineProperty(e,"Rule",{enumerable:!0,get:function(){return c.Rule}}),Object.defineProperty(e,"Terminal",{enumerable:!0,get:function(){return c.Terminal}});var u=Ho;Object.defineProperty(e,"serializeGrammar",{enumerable:!0,get:function(){return u.serializeGrammar}}),Object.defineProperty(e,"serializeProduction",{enumerable:!0,get:function(){return u.serializeProduction}});var l=ba;Object.defineProperty(e,"GAstVisitor",{enumerable:!0,get:function(){return l.GAstVisitor}}),e.clearCache=function(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")};var f=Ru;Object.defineProperty(e,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return f.createSyntaxDiagramsCode}});var d=function(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0")};e.Parser=d}(Eo);var Eu,bu,Ou=n(Eo);Ou.Alternation,Ou.Alternative,Ou.CstParser,Ou.EMPTY_ALT,Ou.EOF,Ou.EarlyExitException,Ou.EmbeddedActionsParser,Ou.GAstVisitor,Ou.Lexer,Ou.LexerDefinitionErrorType,Ou.MismatchedTokenException,Ou.NoViableAltException,Ou.NonTerminal,Ou.NotAllInputParsedException,Ou.Option,Ou.Parser,Ou.ParserDefinitionErrorType,Ou.Repetition,Ou.RepetitionMandatory,Ou.RepetitionMandatoryWithSeparator,Ou.RepetitionWithSeparator,Ou.Rule,Ou.Terminal,Ou.VERSION,Ou.clearCache,Ou.createSyntaxDiagramsCode,Ou.createToken,Ou.createTokenInstance,Ou.defaultLexerErrorProvider,Ou.defaultParserErrorProvider,Ou.isRecognitionException,Ou.serializeGrammar,Ou.serializeProduction,Ou.tokenLabel,Ou.tokenMatcher,Ou.tokenName,(bu=Eu||(Eu={})).GrammarNameUppercase="grammar-name-uppercase",bu.RuleNameUppercase="rule-name-uppercase",bu.HiddenGrammarTokens="hidden-grammar-tokens",bu.UseRegexTokens="use-regex-tokens",bu.EntryRuleTokenSyntax="entry-rule-token-syntax",bu.CrossRefTokenSyntax="cross-ref-token-syntax";export{Ie as a,s as b,Gt as c,$t as d,d as e,w as f,A as g,P as h,a as m,Kt as n,Ht as s};
