import{l as e,m as t,n,s as r,c as o,d as i,b as a,e as s,f as u,g as c,h as l}from"./lsp.289540be.js";import{c as p,a as d}from"./parser.d5d33482.js";import{U as h,C as m,T as f,g,e as v,m as D}from"./editor.521421be.js";import{v as C,T as y}from"./vsc.14d9df5d.js";function I(e){return e?.type===_.Source}var _,E,A,x,F,S;function b(e,t){return function(n,r,o){const i={...r,type:e,kind:n};return w(i,o),Object.defineProperties(i,{kindName:{get(){return t[this.kind]},enumerable:!0}}),i}}function w(e,t){const n={_source:t,get sourceNode(){return"object"==typeof this._source?this._source:void 0}};return Object.setPrototypeOf(e,n),Object.defineProperties(e,{sourceString:{get(){return"object"==typeof this._source?this._source.sourceString:this._source},enumerable:!0,configurable:!0}}),e}(E=_||(_={})).Source="Source",E.Comment="Comment",E.Statment="statment",E.Expression="expression",E.Content="Content",E.Logic="logic",(x=A||(A={}))[x.Ignore=0]="Ignore",x[x.Content=1]="Content",(S=F||(F={}))[S.Single=0]="Single";const k=b(_.Comment,F);function T(e,t){return k(0,{value:e},t)}var B,P;(P=B||(B={}))[P.Comma=0]="Comma",P[P.Assign=1]="Assign",P[P.Binary=2]="Binary",P[P.VariableIdentifier=3]="VariableIdentifier",P[P.ArrayLiteral=4]="ArrayLiteral",P[P.PrecetLiteral=5]="PrecetLiteral",P[P.ArraySpreadLiteral=6]="ArraySpreadLiteral",P[P.Literal=7]="Literal",P[P.Comment=8]="Comment",P[P.CallFunction=9]="CallFunction",P[P.Template=10]="Template",P[P.CallMacro=11]="CallMacro";const R=b(_.Expression,B);var O,L,M,N,j,q,K,U,W,$,H,V,G,z,J,Q,Z,Y;function X(e,t,n,r){let o;return o in M?o=0:o in j?o=1:o in W?o=2:o in H?o=3:o in G?o=4:(o in J||o in Z)&&(o=5),R(B.Binary,{value:{kind:o,left:e,operator:t,right:n}},r)}function ee(e,t,n,r){const o="string"==typeof e?oe(null,e):e;return R(B.Binary,{value:n?{kind:5,left:o,operator:t,right:null}:{kind:5,left:null,operator:t,right:o}},r)}function te(e="<anonymous>",t,n){return R(B.CallMacro,{name:e,params:t?.params||{},flags:t?.flags||[]},n)}function ne(e="<anonymous>",t,n){return R(B.CallFunction,{argumentList:t||[],name:e},n)}function re(e,t){if(function(e){return e.kind===B.CallFunction}(e))return e;const{kind:n,params:r,flags:o,...i}=e;return R(B.CallFunction,{...i,argumentList:[o.reduce(((e,t)=>({...e,[t]:!0})),{...r})],meta:{params:r,flags:o}},t??e.sourceString)}function oe(e,t){return R(B.VariableIdentifier,{kindName:B[B.VariableIdentifier],prefix:e,text:t},e?e+t:t)}function ie(e,t){return R(B.Literal,{value:e},t)}(L=O||(O={}))[L.OrNull=0]="OrNull",L[L.Logic=1]="Logic",L[L.Realtion=2]="Realtion",L[L.Addition=3]="Addition",L[L.Multiplication=4]="Multiplication",L[L.Automic=5]="Automic",(N=M||(M={}))[N["??"]=0]="??",(q=j||(j={}))[q["||"]=0]="||",q[q["&&"]=1]="&&",(U=K||(K={}))[U["!="]=0]="!=",U[U["=="]=1]="==",($=W||(W={}))[$[">="]=0]=">=",$[$["<="]=1]="<=",$[$[">"]=2]=">",$[$["<"]=3]="<",(V=H||(H={}))[V["+"]=0]="+",V[V["-"]=1]="-",(z=G||(G={}))[z["%"]=0]="%",z[z["/"]=1]="/",z[z["*"]=2]="*",(Q=J||(J={}))[Q["^"]=0]="^",Q[Q["!"]=1]="!",(Y=Z||(Z={}))[Y["++"]=0]="++",Y[Y["--"]=1]="--";var ae=function(){const e={},t={exports:e};var n,r;return n=globalThis,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){const r={};for(let o=0;o<128;o++)r[o]=String.fromCharCode(o);r["'".charCodeAt(0)]="\\'",r['"'.charCodeAt(0)]='\\"',r["\\".charCodeAt(0)]="\\\\",r["\b".charCodeAt(0)]="\\b",r["\f".charCodeAt(0)]="\\f",r["\n".charCodeAt(0)]="\\n",r["\r".charCodeAt(0)]="\\r",r["\t".charCodeAt(0)]="\\t",r["\v".charCodeAt(0)]="\\v",t.abstract=function(e){const t=e||"";return function(){throw new Error("this method "+t+" is abstract! (it has no implementation in class "+this.constructor.name+")")}},t.assert=function(e,t){if(!e)throw new Error(t)},t.defineLazyProperty=function(e,t,n){let r;Object.defineProperty(e,t,{get(){return r||(r=n.call(this)),r}})},t.clone=function(e){return e?Object.assign({},e):e},t.repeatFn=function(e,t){const n=[];for(;t-- >0;)n.push(e());return n},t.repeatStr=function(e,t){return new Array(t+1).join(e)},t.repeat=function(e,n){return t.repeatFn((()=>e),n)},t.getDuplicates=function(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];e.lastIndexOf(r)!==n&&t.indexOf(r)<0&&t.push(r)}return t},t.copyWithoutDuplicates=function(e){const t=[];return e.forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t},t.isSyntactic=function(e){const t=e[0];return t===t.toUpperCase()},t.isLexical=function(e){return!t.isSyntactic(e)},t.padLeft=function(e,n,r){const o=r||" ";return e.length<n?t.repeatStr(o,n-e.length)+e:e},t.StringBuffer=function(){this.strings=[]},t.StringBuffer.prototype.append=function(e){this.strings.push(e)},t.StringBuffer.prototype.contents=function(){return this.strings.join("")},t.escapeChar=function(e,n){const o=e.charCodeAt(0);return'"'!==e&&"'"!==e||!n||e===n?o<128?r[o]:128<=o&&o<256?"\\x"+t.padLeft(o.toString(16),2,"0"):"\\u"+t.padLeft(o.toString(16),4,"0"):e},t.unescapeChar=function(e){if("\\"!==e.charAt(0))return e;switch(e.charAt(1)){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"x":return String.fromCharCode(parseInt(e.substring(2,4),16));case"u":return String.fromCharCode(parseInt(e.substring(2,6),16));default:return e.charAt(1)}},t.unexpectedObjToString=function(e){if(null==e)return String(e);const t=Object.prototype.toString.call(e);try{let n;return n=e.constructor&&e.constructor.name?e.constructor.name:0===t.indexOf("[object ")?t.slice(8,-1):typeof e,n+": "+JSON.stringify(String(e))}catch(n){return t}}},function(e,t,n){const r=n(16),o=n(0);class i{constructor(){if(this.constructor===i)throw new Error("PExpr cannot be instantiated -- it's abstract")}withSource(e){return e&&(this.source=e.trimmed()),this}}const a=Object.create(i.prototype),s=Object.create(i.prototype);class u extends i{constructor(e){super(),this.terms=e}}class c extends i{constructor(e){super(),this.expr=e}}class l extends c{}class p extends c{}class d extends c{}l.prototype.operator="*",p.prototype.operator="+",d.prototype.operator="?",l.prototype.minNumMatches=0,p.prototype.minNumMatches=1,d.prototype.minNumMatches=0,l.prototype.maxNumMatches=Number.POSITIVE_INFINITY,p.prototype.maxNumMatches=Number.POSITIVE_INFINITY,d.prototype.maxNumMatches=1,t.PExpr=i,t.any=a,t.end=s,t.Terminal=class extends i{constructor(e){super(),this.obj=e}},t.Range=class extends i{constructor(e,t){super(),this.from=e,this.to=t}},t.Param=class extends i{constructor(e){super(),this.index=e}},t.Alt=u,t.Extend=class extends u{constructor(e,t,n){super([n,e.rules[t].body]),this.superGrammar=e,this.name=t,this.body=n}},t.Splice=class extends u{constructor(e,t,n,r){const o=e.rules[t].body;super([...n,o,...r]),this.superGrammar=e,this.ruleName=t,this.expansionPos=n.length}},t.Seq=class extends i{constructor(e){super(),this.factors=e}},t.Iter=c,t.Star=l,t.Plus=p,t.Opt=d,t.Not=class extends i{constructor(e){super(),this.expr=e}},t.Lookahead=class extends i{constructor(e){super(),this.expr=e}},t.Lex=class extends i{constructor(e){super(),this.expr=e}},t.Apply=class extends i{constructor(e,t=[]){super(),this.ruleName=e,this.args=t}isSyntactic(){return o.isSyntactic(this.ruleName)}toMemoKey(){return this._memoKey||Object.defineProperty(this,"_memoKey",{value:this.toString()}),this._memoKey}},t.UnicodeChar=class extends i{constructor(e){super(),this.category=e,this.pattern=r[e]}},n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30)},function(e,t,n){const r=n(1),o=n(11);function i(e,t){let n;return t?(n=new Error(t.getLineAndColumnMessage()+e),n.shortMessage=e,n.interval=t):n=new Error(e),n}e.exports={applicationOfSyntacticRuleFromLexicalContext:function(e,t){return i("Cannot apply syntactic rule "+e+" from here (inside a lexical context)",t.source)},cannotExtendUndeclaredRule:function(e,t,n){return i("Cannot extend rule "+e+" because it is not declared in "+t,n)},cannotOverrideUndeclaredRule:function(e,t,n){return i("Cannot override rule "+e+" because it is not declared in "+t,n)},duplicateGrammarDeclaration:function(e,t){return i("Grammar "+e.name+" is already declared in this namespace")},duplicateParameterNames:function(e,t,n){return i("Duplicate parameter names in rule "+e+": "+t.join(", "),n)},duplicatePropertyNames:function(e){return i("Object pattern has duplicate property names: "+e.join(", "))},duplicateRuleDeclaration:function(e,t,n,r){let o="Duplicate declaration for rule '"+e+"' in grammar '"+t+"'";return t!==n&&(o+=" (originally declared in '"+n+"')"),i(o,r)},inconsistentArity:function(e,t,n,r){return i("Rule "+e+" involves an alternation which has inconsistent arity (expected "+t+", got "+n+")",r.source)},incorrectArgumentType:function(e,t){return i("Incorrect argument type: expected "+e,t.source)},intervalSourcesDontMatch:function(){return i("Interval sources don't match")},invalidConstructorCall:function(e,t,n){return i("Attempt to invoke constructor "+t+" with invalid or unexpected arguments")},invalidParameter:function(e,t){return i("Invalid parameter to rule "+e+": "+t+" has arity "+t.getArity()+", but parameter expressions must have arity 1",t.source)},grammarSyntaxError:function(e){const t=new Error;return Object.defineProperty(t,"message",{enumerable:!0,get:()=>e.message}),Object.defineProperty(t,"shortMessage",{enumerable:!0,get:()=>"Expected "+e.getExpectedText()}),t.interval=e.getInterval(),t},kleeneExprHasNullableOperand:function(e,t){const n=t.length>0?t[t.length-1].args:[];let o="Nullable expression "+e.expr.substituteParams(n)+" is not allowed inside '"+e.operator+"' (possible infinite loop)";return t.length>0&&(o+="\nApplication stack (most recent application last):\n"+t.map((e=>new r.Apply(e.ruleName,e.args))).join("\n")),i(o,e.expr.source)},missingSemanticAction:function(e,t,n,r){let o=r.slice(0,-1).map((e=>{const t="  "+e[0].name+" > "+e[1];return 3===e.length?t+" for '"+e[2]+"'":t})).join("\n");o+="\n  "+t+" > "+e;let a="";"_iter"===e&&(a=["\nNOTE: as of Ohm v16, there is no default action for iteration nodes — see ","  https://git.io/JRwtG for details."].join("\n"));const s=i([`Missing semantic action for '${e}' in ${n} '${t}'.${a}`,"Action stack (most recent call last):",o].join("\n"));return s.name="missingSemanticAction",s},multipleSuperSplices:function(e){return i("'...' can appear at most once in a rule body",e.source)},undeclaredGrammar:function(e,t,n){return i(t?"Grammar "+e+" is not declared in namespace "+o.toString(t):"Undeclared grammar "+e,n)},undeclaredRule:function(e,t,n){return i("Rule "+e+" is not declared in grammar "+t,n)},wrongNumberOfArguments:function(e,t,n,r){return i("Wrong number of arguments for rule "+e+" (expected "+t+", got "+n+")",r.source)},wrongNumberOfParameters:function(e,t,n,r){return i("Wrong number of parameters for rule "+e+" (expected "+t+", got "+n+")",r)},throwErrors(e){if(1===e.length)throw e[0];if(e.length>1)throw function(e){const t=e.map((e=>e.message));return i(["Errors:"].concat(t).join("\n- "),e[0].interval)}(e)}}},function(e,t,n){const r=n(0);function o(e,t,n){const r=e.length;return(e.slice(0,n)+t+e.slice(n+t.length)).substr(0,r)}function i(...e){const t=this,n=t.offset,i=r.repeatStr,a=new r.StringBuffer;a.append("Line "+t.lineNum+", col "+t.colNum+":\n");const s=function(e){let t=0;return e.map((e=>{const n=e.toString();return t=Math.max(t,n.length),n})).map((e=>r.padLeft(e,t)))}([null==t.prevLine?0:t.lineNum-1,t.lineNum,null==t.nextLine?0:t.lineNum+1]),u=(e,t,n)=>{a.append(n+s[e]+" | "+t+"\n")};null!=t.prevLine&&u(0,t.prevLine,"  "),u(1,t.line,"> ");const c=t.line.length;let l=i(" ",c+1);for(let d=0;d<e.length;++d){let a=e[d][0],s=e[d][1];r.assert(a>=0&&a<=s,"range start must be >= 0 and <= end");const u=n-t.colNum+1;a=Math.max(0,a-u),s=Math.min(s-u,c),l=o(l,i("~",s-a),a)}const p=2+s[1].length+3;return a.append(i(" ",p)),l=o(l,"^",t.colNum-1),a.append(l.replace(/ +$/,"")+"\n"),null!=t.nextLine&&u(2,t.nextLine,"  "),a.contents()}let a=[];t.awaitBuiltInRules=e=>{a.push(e)},t.announceBuiltInRules=e=>{a.forEach((t=>{t(e)})),a=null},t.getLineAndColumn=(e,t)=>{let n=1,r=1,o=0,a=0,s=null,u=null,c=-1;for(;o<t;){const t=e.charAt(o++);"\n"===t?(n++,r=1,c=a,a=o):"\r"!==t&&r++}let l=e.indexOf("\n",a);if(-1===l)l=e.length;else{const t=e.indexOf("\n",l+1);s=-1===t?e.slice(l):e.slice(l,t),s=s.replace(/^\r?\n/,"").replace(/\r$/,"")}return c>=0&&(u=e.slice(c,a).replace(/\r?\n$/,"")),{offset:t,lineNum:n,colNum:r,line:e.slice(a,l).replace(/\r$/,""),prevLine:u,nextLine:s,toString:i}},t.getLineAndColumnMessage=function(e,n,...r){return t.getLineAndColumn(e,n).toString(...r)},t.uniqueId=(()=>{let e=0;return t=>""+t+e++})()},function(e,t,n){const r=n(14),o=n(5),i=n(11),a=n(0),s=n(2),u=n(1),c=n(3),l=n(37);let p;const d=Object.create(u.PExpr.prototype);function h(e,t,n){const i=new r;let c,l,h,m=!1;return(n||p).createSemantics().addOperation("visit",{Grammars:e=>e.children.map((e=>e.visit())),Grammar(e,n,r,o,a){const u=e.visit();c=i.newGrammar(u,t),n.child(0)&&n.child(0).visit(),o.children.map((e=>e.visit()));const l=c.build();if(l.source=this.source.trimmed(),u in t)throw s.duplicateGrammarDeclaration(l,t);return t[u]=l,l},SuperGrammar(e,n){const r=n.visit();if("null"===r)c.withSuperGrammar(null);else{if(!t||!(r in t))throw s.undeclaredGrammar(r,t,n.source);c.withSuperGrammar(t[r])}},Rule_define(e,t,n,r,i){l=e.visit(),h=t.children.map((e=>e.visit()))[0]||[],c.defaultStartRule||c.ensureSuperGrammar()===o.ProtoBuiltInRules||c.withDefaultStartRule(l);const a=i.visit(),s=n.children.map((e=>e.visit()))[0],u=this.source.trimmed();return c.define(l,h,a,s,u)},Rule_override(e,t,n,r){l=e.visit(),h=t.children.map((e=>e.visit()))[0]||[];const o=this.source.trimmed();c.ensureSuperGrammarRuleForOverriding(l,o),m=!0;const i=r.visit();return m=!1,c.override(l,h,i,null,o)},Rule_extend(e,t,n,r){l=e.visit(),h=t.children.map((e=>e.visit()))[0]||[];const o=r.visit(),i=this.source.trimmed();return c.extend(l,h,o,null,i)},RuleBody(e,t){const n=t.visit();return i.alt.apply(i,n).withSource(this.source)},OverrideRuleBody(e,t){const n=t.visit(),r=n.indexOf(d);if(r>=0){const e=n.slice(0,r),t=n.slice(r+1);return t.forEach((e=>{if(e===d)throw s.multipleSuperSplices(e)})),new u.Splice(c.superGrammar,l,e,t).withSource(this.source)}return i.alt.apply(i,n).withSource(this.source)},Formals:(e,t,n)=>t.visit(),Params:(e,t,n)=>t.visit(),Alt(e){const t=e.visit();return i.alt.apply(i,t).withSource(this.source)},TopLevelTerm_inline(e,t){const n=l+"_"+t.visit(),r=e.visit(),o=this.source.trimmed(),a=!(c.superGrammar&&c.superGrammar.rules[n]);m&&!a?c.override(n,h,r,null,o):c.define(n,h,r,null,o);const s=h.map((e=>i.app(e)));return i.app(n,s).withSource(r.source)},OverrideTopLevelTerm_superSplice:e=>d,Seq(e){return i.seq.apply(i,e.children.map((e=>e.visit()))).withSource(this.source)},Iter_star(e,t){return i.star(e.visit()).withSource(this.source)},Iter_plus(e,t){return i.plus(e.visit()).withSource(this.source)},Iter_opt(e,t){return i.opt(e.visit()).withSource(this.source)},Pred_not(e,t){return i.not(t.visit()).withSource(this.source)},Pred_lookahead(e,t){return i.lookahead(t.visit()).withSource(this.source)},Lex_lex(e,t){return i.lex(t.visit()).withSource(this.source)},Base_application(e,t){const n=t.children.map((e=>e.visit()))[0]||[];return i.app(e.visit(),n).withSource(this.source)},Base_range(e,t,n){return i.range(e.visit(),n.visit()).withSource(this.source)},Base_terminal(e){return i.terminal(e.visit()).withSource(this.source)},Base_paren:(e,t,n)=>t.visit(),ruleDescr:(e,t,n)=>t.visit(),ruleDescrText(e){return this.sourceString.trim()},caseName:(e,t,n,r,o)=>n.visit(),name(e,t){return this.sourceString},nameFirst(e){},nameRest(e){},terminal:(e,t,n)=>t.children.map((e=>e.visit())).join(""),oneCharTerminal:(e,t,n)=>t.visit(),terminalChar(e){return a.unescapeChar(this.sourceString)},escapeChar(e){return this.sourceString},NonemptyListOf:(e,t,n)=>[e.visit()].concat(n.children.map((e=>e.visit()))),EmptyListOf:()=>[],_terminal(){return this.sourceString}})(e).visit()}function m(e,t){const n=i.extend(i.asNamespace(t));if("string"!=typeof e){if(!(r=e).constructor||"function"!=typeof r.constructor.isBuffer||!r.constructor.isBuffer(r))throw new TypeError("Expected string as first argument, got "+a.unexpectedObjToString(e));e=e.toString()}var r;return function(e,t){const n=p.match(e,"Grammars");if(n.failed())throw s.grammarSyntaxError(n);h(n,t)}(e,n),n}e.exports={createNamespace:i.createNamespace,grammar:function(e,t){const n=m(e,t),r=Object.keys(n);if(0===r.length)throw new Error("Missing grammar definition");if(r.length>1){const e=n[r[1]].source;throw new Error(c.getLineAndColumnMessage(e.sourceString,e.startIdx)+"Found more than one grammar definition -- use ohm.grammars() instead.")}return n[r[0]]},grammars:m,grammarFromScriptElement:function(e){throw new Error("grammarFromScriptElement was removed in Ohm v16.0. See https://git.io/J0gnK for more info.")},grammarsFromScriptElements:function(e){throw new Error("grammarsFromScriptElements was removed in Ohm v16.0. See https://git.io/J0gnK for more info.")},makeRecipe:function(e){return"function"==typeof e?e.call(new r):("string"==typeof e&&(e=JSON.parse(e)),(new r).fromRecipe(e))},ohmGrammar:null,pexprs:u,util:c,extras:n(38),version:l},e.exports._buildGrammar=h,o.BuiltInRules=n(40),c.announceBuiltInRules(o.BuiltInRules),e.exports.ohmGrammar=p=n(41),o.initApplicationParser(p,h)},function(e,t,n){const r=n(15),o=n(31),i=n(34),a=n(0),s=n(2),u=n(1),c=["_iter","_terminal","_nonterminal","_default"];function l(e){return Object.keys(e.rules).sort().map((t=>e.rules[t]))}function p(e,t,n,r){if(this.name=e,this.superGrammar=t,this.rules=n,r){if(!(r in n))throw new Error("Invalid start rule: '"+r+"' is not a rule in grammar '"+e+"'");this.defaultStartRule=r}}let d,h;p.initApplicationParser=function(e,t){d=e,h=t},p.prototype={matcher(){return new o(this)},isBuiltIn(){return this===p.ProtoBuiltInRules||this===p.BuiltInRules},equals(e){if(this===e)return!0;if(null==e||this.name!==e.name||this.defaultStartRule!==e.defaultStartRule||this.superGrammar!==e.superGrammar&&!this.superGrammar.equals(e.superGrammar))return!1;const t=l(this),n=l(e);return t.length===n.length&&t.every(((e,t)=>e.description===n[t].description&&e.formals.join(",")===n[t].formals.join(",")&&e.body.toString()===n[t].body.toString()))},match(e,t){const n=this.matcher();return n.replaceInputRange(0,0,e),n.match(t)},trace(e,t){const n=this.matcher();return n.replaceInputRange(0,0,e),n.trace(t)},createSemantics(){return i.createSemantics(this)},extendSemantics(e){return i.createSemantics(this,e._getSemantics())},_checkTopDownActionDict(e,t,n){const r=[];for(const o in n){const e=n[o];if(!c.includes(o)&&!(o in this.rules)){r.push(`'${o}' is not a valid semantic action for '${this.name}'`);continue}if("function"!=typeof e){r.push(`'${o}' must be a function in an action dictionary for '${this.name}'`);continue}const t=e.length,i=this._topDownActionArity(o);if(t!==i){let e;e="_iter"===o||"_nonterminal"===o?`it should use a rest parameter, e.g. \`${o}(...children) {}\`. NOTE: this is new in Ohm v16 — see https://git.io/Jz4CI for details.`:`expected ${i}, got ${t}`,r.push(`Semantic action '${o}' has the wrong arity: ${e}`)}}if(r.length>0){const n=r.map((e=>"- "+e)),o=new Error([`Found errors in the action dictionary of the '${t}' ${e}:`,...n].join("\n"));throw o.problems=r,o}},_topDownActionArity(e){return c.includes(e)?0:this.rules[e].body.getArity()},_inheritsFrom(e){let t=this.superGrammar;for(;t;){if(t.equals(e,!0))return!0;t=t.superGrammar}return!1},toRecipe(e){const t={};this.source&&(t.source=this.source.contents);let n=null;this.defaultStartRule&&(n=this.defaultStartRule);const r={};Object.keys(this.rules).forEach((e=>{const t=this.rules[e],n=t.body,o=!this.superGrammar||!this.superGrammar.rules[e];let i;i=o?"define":n instanceof u.Extend?"extend":"override";const a={};if(t.source&&this.source){const e=t.source.relativeTo(this.source);a.sourceInterval=[e.startIdx,e.endIdx]}const s=o?t.description:null,c=n.outputRecipe(t.formals,this.source);r[e]=[i,a,s,t.formals,c]}));let o="null";return e?o=e:this.superGrammar&&!this.superGrammar.isBuiltIn()&&(o=this.superGrammar.toRecipe()),`[${[...["grammar",t,this.name].map(JSON.stringify),o,...[n,r].map(JSON.stringify)].join(",")}]`.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},toOperationActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()},toAttributeActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()},_toOperationOrAttributeActionDictionaryTemplate(){const e=new a.StringBuffer;e.append("{");let t=!0;for(const n in this.rules){const r=this.rules[n].body;t?t=!1:e.append(","),e.append("\n"),e.append("  "),this.addSemanticActionTemplate(n,r,e)}return e.append("\n}"),e.contents()},addSemanticActionTemplate(e,t,n){n.append(e),n.append(": function(");const r=this._topDownActionArity(e);n.append(a.repeat("_",r).join(", ")),n.append(") {\n"),n.append("  }")},parseApplication(e){let t;if(-1===e.indexOf("<"))t=new u.Apply(e);else{const n=d.match(e,"Base_application");t=h(n,{})}if(!(t.ruleName in this.rules))throw s.undeclaredRule(t.ruleName,this.name);const n=this.rules[t.ruleName].formals;if(n.length!==t.args.length){const e=this.rules[t.ruleName].source;throw s.wrongNumberOfParameters(t.ruleName,n.length,t.args.length,e)}return t}},p.ProtoBuiltInRules=new p("ProtoBuiltInRules",void 0,{any:{body:u.any,formals:[],description:"any character",primitive:!0},end:{body:u.end,formals:[],description:"end of input",primitive:!0},caseInsensitive:{body:new r(new u.Param(0)),formals:["str"],primitive:!0},lower:{body:new u.UnicodeChar("Ll"),formals:[],description:"a lowercase letter",primitive:!0},upper:{body:new u.UnicodeChar("Lu"),formals:[],description:"an uppercase letter",primitive:!0},unicodeLtmo:{body:new u.UnicodeChar("Ltmo"),formals:[],description:"a Unicode character in Lt, Lm, or Lo",primitive:!0},spaces:{body:new u.Star(new u.Apply("space")),formals:[]},space:{body:new u.Range("\0"," "),formals:[],description:"a space"}}),e.exports=p},function(e,t,n){const r=n(0);let o=!1;class i{constructor(e,t,n){this.grammar=e,this.ctorName=t,this.matchLength=n}numChildren(){return this.children?this.children.length:0}childAt(e){if(this.children)return this.children[e]}indexOfChild(e){return this.children.indexOf(e)}hasChildren(){return this.numChildren()>0}hasNoChildren(){return!this.hasChildren()}onlyChild(){if(1!==this.numChildren())throw new Error("cannot get only child of a node of type "+this.ctorName+" (it has "+this.numChildren()+" children)");return this.firstChild()}firstChild(){if(this.hasNoChildren())throw new Error("cannot get first child of a "+this.ctorName+" node, which has no children");return this.childAt(0)}lastChild(){if(this.hasNoChildren())throw new Error("cannot get last child of a "+this.ctorName+" node, which has no children");return this.childAt(this.numChildren()-1)}childBefore(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childBefore() called w/ an argument that is not a child");if(0===t)throw new Error("cannot get child before first child");return this.childAt(t-1)}childAfter(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childAfter() called w/ an argument that is not a child");if(t===this.numChildren()-1)throw new Error("cannot get child after last child");return this.childAt(t+1)}isTerminal(){return!1}isNonterminal(){return!1}isIteration(){return!1}isOptional(){return!1}toJSON(){return{[this.ctorName]:this.children}}}e.exports={Node:i,TerminalNode:class extends i{constructor(e,t){super(e,"_terminal",t?t.length:0),this._value=t}isTerminal(){return!0}toJSON(){return{[this.ctorName]:this._value}}get primitiveValue(){return o||(console.warn("Warning: primitiveValue is deprecated and will be removed in a future version of Ohm. Use sourceString instead."),o=!0),this._value}},NonterminalNode:class extends i{constructor(e,t,n,r,o){super(e,t,o),this.children=n,this.childOffsets=r}isNonterminal(){return!0}isLexical(){return r.isLexical(this.ctorName)}isSyntactic(){return r.isSyntactic(this.ctorName)}},IterationNode:class extends i{constructor(e,t,n,r,o){super(e,"_iter",r),this.children=t,this.childOffsets=n,this.optional=o}isIteration(){return!0}isOptional(){return this.optional}}}},function(e,t,n){const r=n(0).assert,o=n(2),i=n(3);function a(e,t,n){this.sourceString=e,this.startIdx=t,this.endIdx=n}a.coverage=function(){const e=arguments[0].sourceString;let t=arguments[0].startIdx,n=arguments[0].endIdx;for(let r=1;r<arguments.length;r++){if(arguments[r].sourceString!==e)throw o.intervalSourcesDontMatch();t=Math.min(t,arguments[r].startIdx),n=Math.max(n,arguments[r].endIdx)}return new a(e,t,n)},a.prototype={coverageWith(){const e=Array.prototype.slice.call(arguments);return e.push(this),a.coverage.apply(void 0,e)},collapsedLeft(){return new a(this.sourceString,this.startIdx,this.startIdx)},collapsedRight(){return new a(this.sourceString,this.endIdx,this.endIdx)},getLineAndColumn(){return i.getLineAndColumn(this.sourceString,this.startIdx)},getLineAndColumnMessage(){const e=[this.startIdx,this.endIdx];return i.getLineAndColumnMessage(this.sourceString,this.startIdx,e)},minus(e){if(this.sourceString!==e.sourceString)throw o.intervalSourcesDontMatch();return this.startIdx===e.startIdx&&this.endIdx===e.endIdx?[]:this.startIdx<e.startIdx&&e.endIdx<this.endIdx?[new a(this.sourceString,this.startIdx,e.startIdx),new a(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.endIdx&&e.endIdx<this.endIdx?[new a(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.startIdx&&e.startIdx<this.endIdx?[new a(this.sourceString,this.startIdx,e.startIdx)]:[this]},relativeTo(e){if(this.sourceString!==e.sourceString)throw o.intervalSourcesDontMatch();return r(this.startIdx>=e.startIdx&&this.endIdx<=e.endIdx,"other interval does not cover this one"),new a(this.sourceString,this.startIdx-e.startIdx,this.endIdx-e.startIdx)},trimmed(){const e=this.contents,t=this.startIdx+e.match(/^\s*/)[0].length,n=this.endIdx-e.match(/\s*$/)[0].length;return new a(this.sourceString,t,n)},subInterval(e,t){const n=this.startIdx+e;return new a(this.sourceString,n,n+t)}},Object.defineProperties(a.prototype,{contents:{get(){return void 0===this._contents&&(this._contents=this.sourceString.slice(this.startIdx,this.endIdx)),this._contents},enumerable:!0},length:{get(){return this.endIdx-this.startIdx},enumerable:!0}}),e.exports=a},function(e,t,n){const r=n(7);function o(e){this.source=e,this.pos=0,this.examinedLength=0}o.prototype={atEnd(){const e=this.pos===this.source.length;return this.examinedLength=Math.max(this.examinedLength,this.pos+1),e},next(){const e=this.source[this.pos++];return this.examinedLength=Math.max(this.examinedLength,this.pos),e},matchString(e,t){let n;if(t){for(n=0;n<e.length;n++){const t=this.next(),r=e[n];if(null==t||t.toUpperCase()!==r.toUpperCase())return!1}return!0}for(n=0;n<e.length;n++)if(this.next()!==e[n])return!1;return!0},sourceSlice(e,t){return this.source.slice(e,t)},interval(e,t){return new r(this.source,e,t||this.pos)}},e.exports=o},function(e,t,n){const r=n(0),o=n(3),i=n(7);function a(e,t,n,i,a,s,u){this.matcher=e,this.input=t,this.startExpr=n,this._cst=i,this._cstOffset=a,this._rightmostFailurePosition=s,this._rightmostFailures=u,this.failed()&&(r.defineLazyProperty(this,"message",(function(){const e="Expected "+this.getExpectedText();return o.getLineAndColumnMessage(this.input,this.getRightmostFailurePosition())+e})),r.defineLazyProperty(this,"shortMessage",(function(){const e="expected "+this.getExpectedText(),t=o.getLineAndColumn(this.input,this.getRightmostFailurePosition());return"Line "+t.lineNum+", col "+t.colNum+": "+e})))}a.prototype.succeeded=function(){return!!this._cst},a.prototype.failed=function(){return!this.succeeded()},a.prototype.getRightmostFailurePosition=function(){return this._rightmostFailurePosition},a.prototype.getRightmostFailures=function(){if(!this._rightmostFailures){this.matcher.setInput(this.input);const e=this.matcher._match(this.startExpr,!1,this.getRightmostFailurePosition());this._rightmostFailures=e.getRightmostFailures()}return this._rightmostFailures},a.prototype.toString=function(){return this.succeeded()?"[match succeeded]":"[match failed at position "+this.getRightmostFailurePosition()+"]"},a.prototype.getExpectedText=function(){if(this.succeeded())throw new Error("cannot get expected text of a successful MatchResult");const e=new r.StringBuffer;let t=this.getRightmostFailures();t=t.filter((e=>!e.isFluffy()));for(let n=0;n<t.length;n++)n>0&&(n===t.length-1?e.append(t.length>2?", or ":" or "):e.append(", ")),e.append(t[n].toString());return e.contents()},a.prototype.getInterval=function(){const e=this.getRightmostFailurePosition();return new i(this.input,e,e)},e.exports=a},function(e,t,n){function r(e,t,n){if("description"!==(r=n)&&"string"!==r&&"code"!==r)throw new Error("invalid Failure type: "+n);var r;this.pexpr=e,this.text=t,this.type=n,this.fluffy=!1}r.prototype.getPExpr=function(){return this.pexpr},r.prototype.getText=function(){return this.text},r.prototype.getType=function(){return this.type},r.prototype.isDescription=function(){return"description"===this.type},r.prototype.isStringTerminal=function(){return"string"===this.type},r.prototype.isCode=function(){return"code"===this.type},r.prototype.isFluffy=function(){return this.fluffy},r.prototype.makeFluffy=function(){this.fluffy=!0},r.prototype.clearFluffy=function(){this.fluffy=!1},r.prototype.subsumes=function(e){return this.getText()===e.getText()&&this.type===e.type&&(!this.isFluffy()||this.isFluffy()&&e.isFluffy())},r.prototype.toString=function(){return"string"===this.type?JSON.stringify(this.getText()):this.getText()},r.prototype.clone=function(){const e=new r(this.pexpr,this.text,this.type);return this.isFluffy()&&e.makeFluffy(),e},r.prototype.toKey=function(){return this.toString()+"#"+this.type},e.exports=r},function(e,t,n){function r(){}r.prototype=Object.create(null),r.asNamespace=function(e){return e instanceof r?e:r.createNamespace(e)},r.createNamespace=function(e){return r.extend(r.prototype,e)},r.extend=function(e,t){if(e!==r.prototype&&!(e instanceof r))throw new TypeError("not a Namespace object: "+e);const n=Object.create(e,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}});return Object.assign(n,t)},r.toString=function(e){return Object.prototype.toString.call(e)},e.exports=r},function(e,t,n){const r=n(7),o=n(0),i={succeeded:1,isRootNode:2,isImplicitSpaces:4,isMemoized:8,isHeadOfLeftRecursion:16,terminatesLR:32};function a(e){return"string"==typeof e?e.replace(/ /g,"⋅").replace(/\t/g,"␉").replace(/\n/g,"␊").replace(/\r/g,"␍"):String(e)}function s(e,t,n,o,a,s,u){this.input=e,this.pos=this.pos1=t,this.pos2=n,this.source=new r(e,t,n),this.expr=o,this.bindings=s,this.children=u||[],this.terminatingLREntry=null,this._flags=a?i.succeeded:0}s.prototype.SKIP={},Object.defineProperty(s.prototype,"displayString",{get(){return this.expr.toDisplayString()}}),Object.keys(i).forEach((e=>{const t=i[e];Object.defineProperty(s.prototype,e,{get(){return 0!=(this._flags&t)},set(e){e?this._flags|=t:this._flags&=~t}})})),s.prototype.clone=function(){return this.cloneWithExpr(this.expr)},s.prototype.cloneWithExpr=function(e){const t=new s(this.input,this.pos,this.pos2,e,this.succeeded,this.bindings,this.children);return t.isHeadOfLeftRecursion=this.isHeadOfLeftRecursion,t.isImplicitSpaces=this.isImplicitSpaces,t.isMemoized=this.isMemoized,t.isRootNode=this.isRootNode,t.terminatesLR=this.terminatesLR,t.terminatingLREntry=this.terminatingLREntry,t},s.prototype.recordLRTermination=function(e,t){this.terminatingLREntry=new s(this.input,this.pos,this.pos2,this.expr,!1,[t],[e]),this.terminatingLREntry.terminatesLR=!0},s.prototype.walk=function(e,t){let n=e;function r(e,o,i){let a=!0;n.enter&&n.enter.call(t,e,o,i)===s.prototype.SKIP&&(a=!1),a&&(e.children.forEach((t=>{r(t,e,i+1)})),n.exit&&n.exit.call(t,e,o,i))}"function"==typeof n&&(n={enter:n}),this.isRootNode?this.children.forEach((e=>{r(e,null,0)})):r(this,null,0)},s.prototype.toString=function(){const e=new o.StringBuffer;return this.walk(((t,n,r)=>{if(!t)return this.SKIP;if("Alt"!==t.expr.constructor.name){var i;if(e.append(function(e,t,n){const r=a(e.slice(t,t+10));return r.length<10?r+o.repeat(" ",10-r.length).join(""):r}(t.input,t.pos)+(i=2*r+1,o.repeat(" ",i).join(""))),e.append((t.succeeded?"✓":"✗")+" "+t.displayString),t.isHeadOfLeftRecursion&&e.append(" (LR)"),t.succeeded){const n=a(t.source.contents);e.append(" ⇒  "),e.append("string"==typeof n?'"'+n+'"':n)}e.append("\n")}})),e.contents()},e.exports=s},function(e,t,n){const r=n(1),o=n(9),i=n(5),a={_terminal(){return this.sourceString},_nonterminal(...e){const t=this._node.ctorName,n=this.args.mapping;if(!n.hasOwnProperty(t)){if(this._node instanceof r.Alt||this._node instanceof r.Apply)return e[0].toAST(n);if(this.isLexical())return this.sourceString;const t=e.filter((e=>!e.isTerminal()));if(1===t.length)return t[0].toAST(n)}if("number"==typeof n[t])return e[n[t]].toAST(n);const o=n[t]||e,i={type:t};for(const r in o){const o=n[t]&&n[t][r];"number"==typeof o?i[r]=e[o].toAST(n):"string"==typeof o||"boolean"==typeof o||null===o?i[r]=o:"object"==typeof o&&o instanceof Number?i[r]=Number(o):"function"==typeof o?i[r]=o.call(this,e):void 0===o&&(e[r]&&!e[r].isTerminal()?i[r]=e[r].toAST(n):delete i[r])}return i},_iter(...e){return this._node.isOptional()?0===this.numChildren?null:e[0].toAST(this.args.mapping):e.map((function(e){return e.toAST(this.args.mapping)}),this)},NonemptyListOf(e,t,n){return[e.toAST(this.args.mapping)].concat(n.toAST(this.args.mapping))},EmptyListOf:()=>[]};e.exports={helper:function(e,t){if(!(e instanceof o)||e.failed())throw new Error("toAST() expects a succesfull MatchResult as first parameter");t=Object.assign({},t);const n=Object.assign({},a);for(const r in t)"function"==typeof t[r]&&(n[r]=t[r],delete t[r]);return e._cst.grammar.createSemantics().addOperation("toAST(mapping)",n)(e).toAST(t)},semantics:function(e){if(!(e instanceof i))throw new Error("semanticsToAST() expects a Grammar as parameter");return e.createSemantics().addOperation("toAST(mapping)",a)}}},function(e,t,n){const r=n(5),o=n(36),i=n(1);function a(){}a.prototype={currentDecl:null,currentRuleName:null,newGrammar:e=>new o(e),grammar(e,t,n,i,a){const s=new o(t);return n&&s.withSuperGrammar(n instanceof r?n:this.fromRecipe(n)),i&&s.withDefaultStartRule(i),e&&e.source&&s.withSource(e.source),this.currentDecl=s,Object.keys(a).forEach((e=>{this.currentRuleName=e;const t=a[e],n=t[0],r=t[1],o=t[2],i=t[3],u=this.fromRecipe(t[4]);let c;s.source&&r&&r.sourceInterval&&(c=s.source.subInterval(r.sourceInterval[0],r.sourceInterval[1]-r.sourceInterval[0])),s[n](e,i,u,o,c)})),this.currentRuleName=this.currentDecl=null,s.build()},terminal:e=>new i.Terminal(e),range:(e,t)=>new i.Range(e,t),param:e=>new i.Param(e),alt(){let e=[];for(let t=0;t<arguments.length;t++){let n=arguments[t];n instanceof i.PExpr||(n=this.fromRecipe(n)),n instanceof i.Alt?e=e.concat(n.terms):e.push(n)}return 1===e.length?e[0]:new i.Alt(e)},seq(){let e=[];for(let t=0;t<arguments.length;t++){let n=arguments[t];n instanceof i.PExpr||(n=this.fromRecipe(n)),n instanceof i.Seq?e=e.concat(n.factors):e.push(n)}return 1===e.length?e[0]:new i.Seq(e)},star(e){return e instanceof i.PExpr||(e=this.fromRecipe(e)),new i.Star(e)},plus(e){return e instanceof i.PExpr||(e=this.fromRecipe(e)),new i.Plus(e)},opt(e){return e instanceof i.PExpr||(e=this.fromRecipe(e)),new i.Opt(e)},not(e){return e instanceof i.PExpr||(e=this.fromRecipe(e)),new i.Not(e)},la(e){return this.lookahead(e)},lookahead(e){return e instanceof i.PExpr||(e=this.fromRecipe(e)),new i.Lookahead(e)},lex(e){return e instanceof i.PExpr||(e=this.fromRecipe(e)),new i.Lex(e)},app(e,t){return t&&t.length>0&&(t=t.map((function(e){return e instanceof i.PExpr?e:this.fromRecipe(e)}),this)),new i.Apply(e,t)},splice(e,t){return new i.Splice(this.currentDecl.superGrammar,this.currentRuleName,e.map((e=>this.fromRecipe(e))),t.map((e=>this.fromRecipe(e))))},fromRecipe(e){const t=this[e[0]].apply(this,"grammar"===e[0]?e.slice(1):e.slice(2)),n=e[1];return n&&n.sourceInterval&&this.currentDecl&&t.withSource(this.currentDecl.sourceInterval.apply(this.currentDecl,n.sourceInterval)),t}},e.exports=a},function(e,t,n){const r=n(10),o=n(6).TerminalNode,i=n(0).assert,{PExpr:a,Terminal:s}=n(1);class u extends a{constructor(e){super(),this.obj=e}_getString(e){const t=e.currentApplication().args[this.obj.index];return i(t instanceof s,"expected a Terminal expression"),t.obj}allowsSkippingPrecedingSpace(){return!0}eval(e){const t=e.inputStream,n=t.pos,r=this._getString(e);return t.matchString(r,!0)?(e.pushBinding(new o(e.grammar,r),n),!0):(e.processFailure(n,this),!1)}getArity(){return 1}substituteParams(e){return new u(this.obj.substituteParams(e))}toDisplayString(){return this.obj.toDisplayString()+" (case-insensitive)"}toFailure(e){return new r(this,this.obj.toFailure(e)+" (case-insensitive)","description")}_isNullable(e,t){return this.obj._isNullable(e,t)}}e.exports=u},function(e,t){e.exports={Lu:/[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]/,Ll:/[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43]/,Lt:/[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Lm:/[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5\u06E6\u07F4\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C\uA69D\uA717-\uA71F\uA770\uA788\uA7F8\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E\uFF9F]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0]/,Lo:/[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E45\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,Nl:/[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]|\uD800[\uDD40-\uDD74\uDF41\uDF4A\uDFD1-\uDFD5]|\uD809[\uDC00-\uDC6E]/,Nd:/[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD801[\uDCA0-\uDCA9]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|[\uD805\uD807][\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDD50-\uDD59]/,Mn:/[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDCA-\uDDCC\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]/,Mc:/[\u0903-\u0903]|[\u093E-\u0940]|[\u0949-\u094C]|[\u0982-\u0983]|[\u09BE-\u09C0]|[\u09C7-\u09C8]|[\u09CB-\u09CC]|[\u09D7-\u09D7]|[\u0A3E-\u0A40]|[\u0A83-\u0A83]|[\u0ABE-\u0AC0]|[\u0AC9-\u0AC9]|[\u0ACB-\u0ACC]|[\u0B02-\u0B03]|[\u0B3E-\u0B3E]|[\u0B40-\u0B40]|[\u0B47-\u0B48]|[\u0B4B-\u0B4C]|[\u0B57-\u0B57]|[\u0B83-\u0B83]|[\u0BBE-\u0BBF]|[\u0BC1-\u0BC2]|[\u0BC6-\u0BC8]|[\u0BCA-\u0BCC]|[\u0BD7-\u0BD7]|[\u0C01-\u0C03]|[\u0C41-\u0C44]|[\u0C82-\u0C83]|[\u0CBE-\u0CBE]|[\u0CC0-\u0CC4]|[\u0CC7-\u0CC8]|[\u0CCA-\u0CCB]|[\u0CD5-\u0CD6]|[\u0D02-\u0D03]|[\u0D3E-\u0D40]|[\u0D46-\u0D48]|[\u0D4A-\u0D4C]|[\u0D57-\u0D57]|[\u0F3E-\u0F3F]|[\u0F7F-\u0F7F]/,Pc:/[_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F]/,Zs:/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,L:/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,Ltmo:/[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]|[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5\u06E6\u07F4\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C\uA69D\uA717-\uA71F\uA770\uA788\uA7F8\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E\uFF9F]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0]|[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E45\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/}},function(e,t,n){const r=n(0),o=n(1);o.PExpr.prototype.allowsSkippingPrecedingSpace=r.abstract("allowsSkippingPrecedingSpace"),o.any.allowsSkippingPrecedingSpace=o.end.allowsSkippingPrecedingSpace=o.Apply.prototype.allowsSkippingPrecedingSpace=o.Terminal.prototype.allowsSkippingPrecedingSpace=o.Range.prototype.allowsSkippingPrecedingSpace=o.UnicodeChar.prototype.allowsSkippingPrecedingSpace=function(){return!0},o.Alt.prototype.allowsSkippingPrecedingSpace=o.Iter.prototype.allowsSkippingPrecedingSpace=o.Lex.prototype.allowsSkippingPrecedingSpace=o.Lookahead.prototype.allowsSkippingPrecedingSpace=o.Not.prototype.allowsSkippingPrecedingSpace=o.Param.prototype.allowsSkippingPrecedingSpace=o.Seq.prototype.allowsSkippingPrecedingSpace=function(){return!1}},function(e,t,n){const r=n(0),o=n(2),i=n(1);let a,s;n(3).awaitBuiltInRules((e=>{a=e})),i.PExpr.prototype.assertAllApplicationsAreValid=function(e,t){s=0,this._assertAllApplicationsAreValid(e,t)},i.PExpr.prototype._assertAllApplicationsAreValid=r.abstract("_assertAllApplicationsAreValid"),i.any._assertAllApplicationsAreValid=i.end._assertAllApplicationsAreValid=i.Terminal.prototype._assertAllApplicationsAreValid=i.Range.prototype._assertAllApplicationsAreValid=i.Param.prototype._assertAllApplicationsAreValid=i.UnicodeChar.prototype._assertAllApplicationsAreValid=function(e,t){},i.Lex.prototype._assertAllApplicationsAreValid=function(e,t){s++,this.expr._assertAllApplicationsAreValid(e,t),s--},i.Alt.prototype._assertAllApplicationsAreValid=function(e,t){for(let n=0;n<this.terms.length;n++)this.terms[n]._assertAllApplicationsAreValid(e,t)},i.Seq.prototype._assertAllApplicationsAreValid=function(e,t){for(let n=0;n<this.factors.length;n++)this.factors[n]._assertAllApplicationsAreValid(e,t)},i.Iter.prototype._assertAllApplicationsAreValid=i.Not.prototype._assertAllApplicationsAreValid=i.Lookahead.prototype._assertAllApplicationsAreValid=function(e,t){this.expr._assertAllApplicationsAreValid(e,t)},i.Apply.prototype._assertAllApplicationsAreValid=function(e,t){const n=t.rules[this.ruleName];if(!n)throw o.undeclaredRule(this.ruleName,t.name,this.source);if(r.isSyntactic(this.ruleName)&&(!r.isSyntactic(e)||s>0))throw o.applicationOfSyntacticRuleFromLexicalContext(this.ruleName,this);const u=this.args.length,c=n.formals.length;if(u!==c)throw o.wrongNumberOfArguments(this.ruleName,c,u,this.source);if(this.args.forEach((n=>{if(n._assertAllApplicationsAreValid(e,t),1!==n.getArity())throw o.invalidParameter(this.ruleName,n)})),a&&n===a.rules.caseInsensitive&&!(this.args[0]instanceof i.Terminal))throw o.incorrectArgumentType('a Terminal (e.g. "abc")',this.args[0])}},function(e,t,n){const r=n(0),o=n(2),i=n(1);i.PExpr.prototype.assertChoicesHaveUniformArity=r.abstract("assertChoicesHaveUniformArity"),i.any.assertChoicesHaveUniformArity=i.end.assertChoicesHaveUniformArity=i.Terminal.prototype.assertChoicesHaveUniformArity=i.Range.prototype.assertChoicesHaveUniformArity=i.Param.prototype.assertChoicesHaveUniformArity=i.Lex.prototype.assertChoicesHaveUniformArity=i.UnicodeChar.prototype.assertChoicesHaveUniformArity=function(e){},i.Alt.prototype.assertChoicesHaveUniformArity=function(e){if(0===this.terms.length)return;const t=this.terms[0].getArity();for(let n=0;n<this.terms.length;n++){const r=this.terms[n];r.assertChoicesHaveUniformArity();const i=r.getArity();if(t!==i)throw o.inconsistentArity(e,t,i,r)}},i.Extend.prototype.assertChoicesHaveUniformArity=function(e){const t=this.terms[0].getArity(),n=this.terms[1].getArity();if(t!==n)throw o.inconsistentArity(e,n,t,this.terms[0])},i.Seq.prototype.assertChoicesHaveUniformArity=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertChoicesHaveUniformArity(e)},i.Iter.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},i.Not.prototype.assertChoicesHaveUniformArity=function(e){},i.Lookahead.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},i.Apply.prototype.assertChoicesHaveUniformArity=function(e){}},function(e,t,n){const r=n(0),o=n(2),i=n(1);i.PExpr.prototype.assertIteratedExprsAreNotNullable=r.abstract("assertIteratedExprsAreNotNullable"),i.any.assertIteratedExprsAreNotNullable=i.end.assertIteratedExprsAreNotNullable=i.Terminal.prototype.assertIteratedExprsAreNotNullable=i.Range.prototype.assertIteratedExprsAreNotNullable=i.Param.prototype.assertIteratedExprsAreNotNullable=i.UnicodeChar.prototype.assertIteratedExprsAreNotNullable=function(e){},i.Alt.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.terms.length;t++)this.terms[t].assertIteratedExprsAreNotNullable(e)},i.Seq.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertIteratedExprsAreNotNullable(e)},i.Iter.prototype.assertIteratedExprsAreNotNullable=function(e){if(this.expr.assertIteratedExprsAreNotNullable(e),this.expr.isNullable(e))throw o.kleeneExprHasNullableOperand(this,[])},i.Opt.prototype.assertIteratedExprsAreNotNullable=i.Not.prototype.assertIteratedExprsAreNotNullable=i.Lookahead.prototype.assertIteratedExprsAreNotNullable=i.Lex.prototype.assertIteratedExprsAreNotNullable=function(e){this.expr.assertIteratedExprsAreNotNullable(e)},i.Apply.prototype.assertIteratedExprsAreNotNullable=function(e){this.args.forEach((t=>{t.assertIteratedExprsAreNotNullable(e)}))}},function(e,t,n){const r=n(12),o=n(0),i=n(2),a=n(6),s=n(1),u=a.TerminalNode,c=a.NonterminalNode,l=a.IterationNode;s.PExpr.prototype.eval=o.abstract("eval"),s.any.eval=function(e){const t=e.inputStream,n=t.pos,r=t.next();return r?(e.pushBinding(new u(e.grammar,r),n),!0):(e.processFailure(n,this),!1)},s.end.eval=function(e){const t=e.inputStream,n=t.pos;return t.atEnd()?(e.pushBinding(new u(e.grammar,void 0),n),!0):(e.processFailure(n,this),!1)},s.Terminal.prototype.eval=function(e){const t=e.inputStream,n=t.pos;return t.matchString(this.obj)?(e.pushBinding(new u(e.grammar,this.obj),n),!0):(e.processFailure(n,this),!1)},s.Range.prototype.eval=function(e){const t=e.inputStream,n=t.pos,r=t.next();return r&&this.from<=r&&r<=this.to?(e.pushBinding(new u(e.grammar,r),n),!0):(e.processFailure(n,this),!1)},s.Param.prototype.eval=function(e){return e.eval(e.currentApplication().args[this.index])},s.Lex.prototype.eval=function(e){e.enterLexifiedContext();const t=e.eval(this.expr);return e.exitLexifiedContext(),t},s.Alt.prototype.eval=function(e){for(let t=0;t<this.terms.length;t++)if(e.eval(this.terms[t]))return!0;return!1},s.Seq.prototype.eval=function(e){for(let t=0;t<this.factors.length;t++){const n=this.factors[t];if(!e.eval(n))return!1}return!0},s.Iter.prototype.eval=function(e){const t=e.inputStream,n=t.pos,r=this.getArity(),o=[],a=[];for(;o.length<r;)o.push([]),a.push([]);let u,c=0,p=n;for(;c<this.maxNumMatches&&e.eval(this.expr);){if(t.pos===p)throw i.kleeneExprHasNullableOperand(this,e._applicationStack);p=t.pos,c++;const n=e._bindings.splice(e._bindings.length-r,r),s=e._bindingOffsets.splice(e._bindingOffsets.length-r,r);for(u=0;u<n.length;u++)o[u].push(n[u]),a[u].push(s[u])}if(c<this.minNumMatches)return!1;let d=e.posToOffset(n),h=0;if(c>0){const e=o[r-1],t=a[r-1],n=t[t.length-1]+e[e.length-1].matchLength;d=a[0][0],h=n-d}const m=this instanceof s.Opt;for(u=0;u<o.length;u++)e._bindings.push(new l(e.grammar,o[u],a[u],h,m)),e._bindingOffsets.push(d);return!0},s.Not.prototype.eval=function(e){const t=e.inputStream,n=t.pos;e.pushFailuresInfo();const r=e.eval(this.expr);return e.popFailuresInfo(),r?(e.processFailure(n,this),!1):(t.pos=n,!0)},s.Lookahead.prototype.eval=function(e){const t=e.inputStream,n=t.pos;return!!e.eval(this.expr)&&(t.pos=n,!0)},s.Apply.prototype.eval=function(e){const t=e.currentApplication(),n=t?t.args:[],r=this.substituteParams(n),o=e.getCurrentPosInfo();if(o.isActive(r))return r.handleCycle(e);const i=r.toMemoKey(),a=o.memo[i];if(a&&o.shouldUseMemoizedResult(a)){if(e.hasNecessaryInfo(a))return e.useMemoizedResult(e.inputStream.pos,a);delete o.memo[i]}return r.reallyEval(e)},s.Apply.prototype.handleCycle=function(e){const t=e.getCurrentPosInfo(),n=t.currentLeftRecursion,r=this.toMemoKey();let o=t.memo[r];return n&&n.headApplication.toMemoKey()===r?o.updateInvolvedApplicationMemoKeys():o||(o=t.memoize(r,{matchLength:0,examinedLength:0,value:!1,rightmostFailureOffset:-1}),t.startLeftRecursion(this,o)),e.useMemoizedResult(e.inputStream.pos,o)},s.Apply.prototype.reallyEval=function(e){const t=e.inputStream,n=t.pos,r=e.getCurrentPosInfo(),i=e.grammar.rules[this.ruleName],a=i.body,s=i.description;e.enterApplication(r,this),s&&e.pushFailuresInfo();const u=t.examinedLength;t.examinedLength=0;let c=this.evalOnce(a,e);const l=r.currentLeftRecursion,p=this.toMemoKey(),d=l&&l.headApplication.toMemoKey()===p;let h;d?(c=this.growSeedResult(a,e,n,l,c),r.endLeftRecursion(),h=l,h.examinedLength=t.examinedLength-n,h.rightmostFailureOffset=e._getRightmostFailureOffset(),r.memoize(p,h)):l&&l.isInvolved(p)||(h=r.memoize(p,{matchLength:t.pos-n,examinedLength:t.examinedLength-n,value:c,failuresAtRightmostPosition:e.cloneRecordedFailures(),rightmostFailureOffset:e._getRightmostFailureOffset()}));const m=!!c;if(s&&(e.popFailuresInfo(),m||e.processFailure(n,this),h&&(h.failuresAtRightmostPosition=e.cloneRecordedFailures())),e.isTracing()&&h){const t=e.getTraceEntry(n,this,m,m?[c]:[]);d&&(o.assert(null!=t.terminatingLREntry||!m),t.isHeadOfLeftRecursion=!0),h.traceEntry=t}return t.examinedLength=Math.max(t.examinedLength,u),e.exitApplication(r,c),m},s.Apply.prototype.evalOnce=function(e,t){const n=t.inputStream,r=n.pos;if(t.eval(e)){const o=e.getArity(),i=t._bindings.splice(t._bindings.length-o,o),a=t._bindingOffsets.splice(t._bindingOffsets.length-o,o);return new c(t.grammar,this.ruleName,i,a,n.pos-r)}return!1},s.Apply.prototype.growSeedResult=function(e,t,n,o,i){if(!i)return!1;const a=t.inputStream;for(;;){if(o.matchLength=a.pos-n,o.value=i,o.failuresAtRightmostPosition=t.cloneRecordedFailures(),t.isTracing()){const e=t.trace[t.trace.length-1];o.traceEntry=new r(t.input,n,a.pos,this,!0,[i],[e.clone()])}if(a.pos=n,i=this.evalOnce(e,t),a.pos-n<=o.matchLength)break;t.isTracing()&&t.trace.splice(-2,1)}return t.isTracing()&&o.traceEntry.recordLRTermination(t.trace.pop(),i),a.pos=n+o.matchLength,o.value},s.UnicodeChar.prototype.eval=function(e){const t=e.inputStream,n=t.pos,r=t.next();return r&&this.pattern.test(r)?(e.pushBinding(new u(e.grammar,r),n),!0):(e.processFailure(n,this),!1)}},function(e,t,n){const r=n(0),o=n(1);o.PExpr.prototype.getArity=r.abstract("getArity"),o.any.getArity=o.end.getArity=o.Terminal.prototype.getArity=o.Range.prototype.getArity=o.Param.prototype.getArity=o.Apply.prototype.getArity=o.UnicodeChar.prototype.getArity=function(){return 1},o.Alt.prototype.getArity=function(){return 0===this.terms.length?0:this.terms[0].getArity()},o.Seq.prototype.getArity=function(){let e=0;for(let t=0;t<this.factors.length;t++)e+=this.factors[t].getArity();return e},o.Iter.prototype.getArity=function(){return this.expr.getArity()},o.Not.prototype.getArity=function(){return 0},o.Lookahead.prototype.getArity=o.Lex.prototype.getArity=function(){return this.expr.getArity()}},function(e,t,n){const r=n(0),o=n(1);function i(e,t){const n={};if(e.source&&t){const r=e.source.relativeTo(t);n.sourceInterval=[r.startIdx,r.endIdx]}return n}o.PExpr.prototype.outputRecipe=r.abstract("outputRecipe"),o.any.outputRecipe=function(e,t){return["any",i(this,t)]},o.end.outputRecipe=function(e,t){return["end",i(this,t)]},o.Terminal.prototype.outputRecipe=function(e,t){return["terminal",i(this,t),this.obj]},o.Range.prototype.outputRecipe=function(e,t){return["range",i(this,t),this.from,this.to]},o.Param.prototype.outputRecipe=function(e,t){return["param",i(this,t),this.index]},o.Alt.prototype.outputRecipe=function(e,t){return["alt",i(this,t)].concat(this.terms.map((n=>n.outputRecipe(e,t))))},o.Extend.prototype.outputRecipe=function(e,t){return this.terms[0].outputRecipe(e,t)},o.Splice.prototype.outputRecipe=function(e,t){const n=this.terms.slice(0,this.expansionPos),r=this.terms.slice(this.expansionPos+1);return["splice",i(this,t),n.map((n=>n.outputRecipe(e,t))),r.map((n=>n.outputRecipe(e,t)))]},o.Seq.prototype.outputRecipe=function(e,t){return["seq",i(this,t)].concat(this.factors.map((n=>n.outputRecipe(e,t))))},o.Star.prototype.outputRecipe=o.Plus.prototype.outputRecipe=o.Opt.prototype.outputRecipe=o.Not.prototype.outputRecipe=o.Lookahead.prototype.outputRecipe=o.Lex.prototype.outputRecipe=function(e,t){return[this.constructor.name.toLowerCase(),i(this,t),this.expr.outputRecipe(e,t)]},o.Apply.prototype.outputRecipe=function(e,t){return["app",i(this,t),this.ruleName,this.args.map((n=>n.outputRecipe(e,t)))]},o.UnicodeChar.prototype.outputRecipe=function(e,t){return["unicodeChar",i(this,t),this.category]}},function(e,t,n){const r=n(0),o=n(1);o.PExpr.prototype.introduceParams=r.abstract("introduceParams"),o.any.introduceParams=o.end.introduceParams=o.Terminal.prototype.introduceParams=o.Range.prototype.introduceParams=o.Param.prototype.introduceParams=o.UnicodeChar.prototype.introduceParams=function(e){return this},o.Alt.prototype.introduceParams=function(e){return this.terms.forEach(((t,n,r)=>{r[n]=t.introduceParams(e)})),this},o.Seq.prototype.introduceParams=function(e){return this.factors.forEach(((t,n,r)=>{r[n]=t.introduceParams(e)})),this},o.Iter.prototype.introduceParams=o.Not.prototype.introduceParams=o.Lookahead.prototype.introduceParams=o.Lex.prototype.introduceParams=function(e){return this.expr=this.expr.introduceParams(e),this},o.Apply.prototype.introduceParams=function(e){const t=e.indexOf(this.ruleName);if(t>=0){if(this.args.length>0)throw new Error("Parameterized rules cannot be passed as arguments to another rule.");return new o.Param(t).withSource(this.source)}return this.args.forEach(((t,n,r)=>{r[n]=t.introduceParams(e)})),this}},function(e,t,n){const r=n(0),o=n(1);o.PExpr.prototype.isNullable=function(e){return this._isNullable(e,Object.create(null))},o.PExpr.prototype._isNullable=r.abstract("_isNullable"),o.any._isNullable=o.Range.prototype._isNullable=o.Param.prototype._isNullable=o.Plus.prototype._isNullable=o.UnicodeChar.prototype._isNullable=function(e,t){return!1},o.end._isNullable=function(e,t){return!0},o.Terminal.prototype._isNullable=function(e,t){return"string"==typeof this.obj&&""===this.obj},o.Alt.prototype._isNullable=function(e,t){return 0===this.terms.length||this.terms.some((n=>n._isNullable(e,t)))},o.Seq.prototype._isNullable=function(e,t){return this.factors.every((n=>n._isNullable(e,t)))},o.Star.prototype._isNullable=o.Opt.prototype._isNullable=o.Not.prototype._isNullable=o.Lookahead.prototype._isNullable=function(e,t){return!0},o.Lex.prototype._isNullable=function(e,t){return this.expr._isNullable(e,t)},o.Apply.prototype._isNullable=function(e,t){const n=this.toMemoKey();if(!Object.prototype.hasOwnProperty.call(t,n)){const r=e.rules[this.ruleName].body.substituteParams(this.args);t[n]=!1,t[n]=r._isNullable(e,t)}return t[n]}},function(e,t,n){const r=n(0),o=n(1);o.PExpr.prototype.substituteParams=r.abstract("substituteParams"),o.any.substituteParams=o.end.substituteParams=o.Terminal.prototype.substituteParams=o.Range.prototype.substituteParams=o.UnicodeChar.prototype.substituteParams=function(e){return this},o.Param.prototype.substituteParams=function(e){return e[this.index]},o.Alt.prototype.substituteParams=function(e){return new o.Alt(this.terms.map((t=>t.substituteParams(e))))},o.Seq.prototype.substituteParams=function(e){return new o.Seq(this.factors.map((t=>t.substituteParams(e))))},o.Iter.prototype.substituteParams=o.Not.prototype.substituteParams=o.Lookahead.prototype.substituteParams=o.Lex.prototype.substituteParams=function(e){return new this.constructor(this.expr.substituteParams(e))},o.Apply.prototype.substituteParams=function(e){if(0===this.args.length)return this;{const t=this.args.map((t=>t.substituteParams(e)));return new o.Apply(this.ruleName,t)}}},function(e,t,n){const r=n(0),o=n(1),{copyWithoutDuplicates:i}=r;function a(e){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)}function s(e){const t=Object.create(null);e.forEach((e=>{t[e]=(t[e]||0)+1})),Object.keys(t).forEach((n=>{if(t[n]<=1)return;let r=1;e.forEach(((t,o)=>{t===n&&(e[o]=t+"_"+r++)}))}))}o.PExpr.prototype.toArgumentNameList=r.abstract("toArgumentNameList"),o.any.toArgumentNameList=function(e,t){return["any"]},o.end.toArgumentNameList=function(e,t){return["end"]},o.Terminal.prototype.toArgumentNameList=function(e,t){return"string"==typeof this.obj&&/^[_a-zA-Z0-9]+$/.test(this.obj)?["_"+this.obj]:["$"+e]},o.Range.prototype.toArgumentNameList=function(e,t){let n=this.from+"_to_"+this.to;return a(n)||(n="_"+n),a(n)||(n="$"+e),[n]},o.Alt.prototype.toArgumentNameList=function(e,t){const n=this.terms.map((t=>t.toArgumentNameList(e,!0))),r=[],o=n[0].length;for(let a=0;a<o;a++){const e=[];for(let r=0;r<this.terms.length;r++)e.push(n[r][a]);const t=i(e);r.push(t.join("_or_"))}return t||s(r),r},o.Seq.prototype.toArgumentNameList=function(e,t){let n=[];return this.factors.forEach((t=>{const r=t.toArgumentNameList(e,!0);n=n.concat(r),e+=r.length})),t||s(n),n},o.Iter.prototype.toArgumentNameList=function(e,t){const n=this.expr.toArgumentNameList(e,t).map((e=>"s"===e[e.length-1]?e+"es":e+"s"));return t||s(n),n},o.Opt.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t).map((e=>"opt"+e[0].toUpperCase()+e.slice(1)))},o.Not.prototype.toArgumentNameList=function(e,t){return[]},o.Lookahead.prototype.toArgumentNameList=o.Lex.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t)},o.Apply.prototype.toArgumentNameList=function(e,t){return[this.ruleName]},o.UnicodeChar.prototype.toArgumentNameList=function(e,t){return["$"+e]},o.Param.prototype.toArgumentNameList=function(e,t){return["param"+this.index]}},function(e,t,n){const r=n(0),o=n(1);o.PExpr.prototype.toDisplayString=r.abstract("toDisplayString"),o.Alt.prototype.toDisplayString=o.Seq.prototype.toDisplayString=function(){return this.source?this.source.trimmed().contents:"["+this.constructor.name+"]"},o.any.toDisplayString=o.end.toDisplayString=o.Iter.prototype.toDisplayString=o.Not.prototype.toDisplayString=o.Lookahead.prototype.toDisplayString=o.Lex.prototype.toDisplayString=o.Terminal.prototype.toDisplayString=o.Range.prototype.toDisplayString=o.Param.prototype.toDisplayString=function(){return this.toString()},o.Apply.prototype.toDisplayString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toDisplayString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},o.UnicodeChar.prototype.toDisplayString=function(){return"Unicode ["+this.category+"] character"}},function(e,t,n){const r=n(10),o=n(0),i=n(1);i.PExpr.prototype.toFailure=o.abstract("toFailure"),i.any.toFailure=function(e){return new r(this,"any object","description")},i.end.toFailure=function(e){return new r(this,"end of input","description")},i.Terminal.prototype.toFailure=function(e){return new r(this,this.obj,"string")},i.Range.prototype.toFailure=function(e){return new r(this,JSON.stringify(this.from)+".."+JSON.stringify(this.to),"code")},i.Not.prototype.toFailure=function(e){const t=this.expr===i.any?"nothing":"not "+this.expr.toFailure(e);return new r(this,t,"description")},i.Lookahead.prototype.toFailure=function(e){return this.expr.toFailure(e)},i.Apply.prototype.toFailure=function(e){let t=e.rules[this.ruleName].description;return t||(t=(/^[aeiouAEIOU]/.test(this.ruleName)?"an":"a")+" "+this.ruleName),new r(this,t,"description")},i.UnicodeChar.prototype.toFailure=function(e){return new r(this,"a Unicode ["+this.category+"] character","description")},i.Alt.prototype.toFailure=function(e){const t="("+this.terms.map((t=>t.toFailure(e))).join(" or ")+")";return new r(this,t,"description")},i.Seq.prototype.toFailure=function(e){const t="("+this.factors.map((t=>t.toFailure(e))).join(" ")+")";return new r(this,t,"description")},i.Iter.prototype.toFailure=function(e){const t="("+this.expr.toFailure(e)+this.operator+")";return new r(this,t,"description")}},function(e,t,n){const r=n(0),o=n(1);o.PExpr.prototype.toString=r.abstract("toString"),o.any.toString=function(){return"any"},o.end.toString=function(){return"end"},o.Terminal.prototype.toString=function(){return JSON.stringify(this.obj)},o.Range.prototype.toString=function(){return JSON.stringify(this.from)+".."+JSON.stringify(this.to)},o.Param.prototype.toString=function(){return"$"+this.index},o.Lex.prototype.toString=function(){return"#("+this.expr.toString()+")"},o.Alt.prototype.toString=function(){return 1===this.terms.length?this.terms[0].toString():"("+this.terms.map((e=>e.toString())).join(" | ")+")"},o.Seq.prototype.toString=function(){return 1===this.factors.length?this.factors[0].toString():"("+this.factors.map((e=>e.toString())).join(" ")+")"},o.Iter.prototype.toString=function(){return this.expr+this.operator},o.Not.prototype.toString=function(){return"~"+this.expr},o.Lookahead.prototype.toString=function(){return"&"+this.expr},o.Apply.prototype.toString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},o.UnicodeChar.prototype.toString=function(){return"\\p{"+this.category+"}"}},function(e,t,n){const r=n(32),o=n(1);function i(e){this.grammar=e,this.memoTable=[],this.input=""}i.prototype.getInput=function(){return this.input},i.prototype.setInput=function(e){return this.input!==e&&this.replaceInputRange(0,this.input.length,e),this},i.prototype.replaceInputRange=function(e,t,n){const r=this.input;if(e<0||e>r.length||t<0||t>r.length||e>t)throw new Error("Invalid indices: "+e+" and "+t);this.input=r.slice(0,e)+n+r.slice(t);const o=this.memoTable.slice(t);this.memoTable.length=e;for(let i=0;i<n.length;i++)this.memoTable.push(void 0);o.forEach((function(e){this.memoTable.push(e)}),this);for(let i=0;i<e;i++){const t=this.memoTable[i];t&&t.clearObsoleteEntries(i,e)}return this},i.prototype.match=function(e){return this._match(this._getStartExpr(e),!1)},i.prototype.trace=function(e){return this._match(this._getStartExpr(e),!0)},i.prototype._match=function(e,t,n){const o=new r(this,e,n);return t?o.getTrace():o.getMatchResult()},i.prototype._getStartExpr=function(e){const t=e||this.grammar.defaultStartRule;if(!t)throw new Error("Missing start rule argument -- the grammar has no default start rule.");const n=this.grammar.parseApplication(t);return new o.Seq([n,o.end])},e.exports=i},function(e,t,n){const r=n(8),o=n(9),i=n(33),a=n(12),s=n(1),u=new s.Apply("spaces");function c(e,t,n){this.matcher=e,this.startExpr=t,this.grammar=e.grammar,this.input=e.input,this.inputStream=new r(e.input),this.memoTable=e.memoTable,this._bindings=[],this._bindingOffsets=[],this._applicationStack=[],this._posStack=[0],this.inLexifiedContextStack=[!1],this.rightmostFailurePosition=-1,this._rightmostFailurePositionStack=[],this._recordedFailuresStack=[],void 0!==n&&(this.positionToRecordFailures=n,this.recordedFailures=Object.create(null))}c.prototype={posToOffset(e){return e-this._posStack[this._posStack.length-1]},enterApplication(e,t){this._posStack.push(this.inputStream.pos),this._applicationStack.push(t),this.inLexifiedContextStack.push(!1),e.enter(t),this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this.rightmostFailurePosition=-1},exitApplication(e,t){const n=this._posStack.pop();this._applicationStack.pop(),this.inLexifiedContextStack.pop(),e.exit(),this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,this._rightmostFailurePositionStack.pop()),t&&this.pushBinding(t,n)},enterLexifiedContext(){this.inLexifiedContextStack.push(!0)},exitLexifiedContext(){this.inLexifiedContextStack.pop()},currentApplication(){return this._applicationStack[this._applicationStack.length-1]},inSyntacticContext(){if("string"!=typeof this.inputStream.source)return!1;const e=this.currentApplication();return e?e.isSyntactic()&&!this.inLexifiedContext():this.startExpr.factors[0].isSyntactic()},inLexifiedContext(){return this.inLexifiedContextStack[this.inLexifiedContextStack.length-1]},skipSpaces(){return this.pushFailuresInfo(),this.eval(u),this.popBinding(),this.popFailuresInfo(),this.inputStream.pos},skipSpacesIfInSyntacticContext(){return this.inSyntacticContext()?this.skipSpaces():this.inputStream.pos},maybeSkipSpacesBefore(e){return e instanceof s.Apply&&e.isSyntactic()?this.skipSpaces():e.allowsSkippingPrecedingSpace()&&e!==u?this.skipSpacesIfInSyntacticContext():this.inputStream.pos},pushBinding(e,t){this._bindings.push(e),this._bindingOffsets.push(this.posToOffset(t))},popBinding(){this._bindings.pop(),this._bindingOffsets.pop()},numBindings(){return this._bindings.length},truncateBindings(e){for(;this._bindings.length>e;)this.popBinding()},getCurrentPosInfo(){return this.getPosInfo(this.inputStream.pos)},getPosInfo(e){let t=this.memoTable[e];return t||(t=this.memoTable[e]=new i),t},processFailure(e,t){if(this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,e),this.recordedFailures&&e===this.positionToRecordFailures){const e=this.currentApplication();e&&(t=t.substituteParams(e.args)),this.recordFailure(t.toFailure(this.grammar),!1)}},recordFailure(e,t){const n=e.toKey();this.recordedFailures[n]?this.recordedFailures[n].isFluffy()&&!e.isFluffy()&&this.recordedFailures[n].clearFluffy():this.recordedFailures[n]=t?e.clone():e},recordFailures(e,t){Object.keys(e).forEach((n=>{this.recordFailure(e[n],t)}))},cloneRecordedFailures(){if(!this.recordedFailures)return;const e=Object.create(null);return Object.keys(this.recordedFailures).forEach((t=>{e[t]=this.recordedFailures[t].clone()})),e},getRightmostFailurePosition(){return this.rightmostFailurePosition},_getRightmostFailureOffset(){return this.rightmostFailurePosition>=0?this.posToOffset(this.rightmostFailurePosition):-1},getMemoizedTraceEntry(e,t){const n=this.memoTable[e];if(n&&t.ruleName){const e=n.memo[t.toMemoKey()];if(e&&e.traceEntry){const n=e.traceEntry.cloneWithExpr(t);return n.isMemoized=!0,n}}return null},getTraceEntry(e,t,n,r){if(t instanceof s.Apply){const e=this.currentApplication(),n=e?e.args:[];t=t.substituteParams(n)}return this.getMemoizedTraceEntry(e,t)||new a(this.input,e,this.inputStream.pos,t,n,r,this.trace)},isTracing(){return!!this.trace},hasNecessaryInfo(e){return!(this.trace&&!e.traceEntry||this.recordedFailures&&this.inputStream.pos+e.rightmostFailureOffset===this.positionToRecordFailures&&!e.failuresAtRightmostPosition)},useMemoizedResult(e,t){this.trace&&this.trace.push(t.traceEntry);const n=this.inputStream.pos+t.rightmostFailureOffset;return this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,n),this.recordedFailures&&this.positionToRecordFailures===n&&t.failuresAtRightmostPosition&&this.recordFailures(t.failuresAtRightmostPosition,!0),this.inputStream.examinedLength=Math.max(this.inputStream.examinedLength,t.examinedLength+e),!!t.value&&(this.inputStream.pos+=t.matchLength,this.pushBinding(t.value,e),!0)},eval(e){const t=this.inputStream,n=this._bindings.length;let r;this.recordedFailures&&(r=this.recordedFailures,this.recordedFailures=Object.create(null));const o=t.pos,i=this.maybeSkipSpacesBefore(e);let a;this.trace&&(a=this.trace,this.trace=[]);const s=e.eval(this);if(this.trace){const t=this._bindings.slice(n),r=this.getTraceEntry(i,e,s,t);r.isImplicitSpaces=e===u,r.isRootNode=e===this.startExpr,a.push(r),this.trace=a}return s?this.recordedFailures&&t.pos===this.positionToRecordFailures&&Object.keys(this.recordedFailures).forEach((e=>{this.recordedFailures[e].makeFluffy()})):(t.pos=o,this.truncateBindings(n)),this.recordedFailures&&this.recordFailures(r,!1),s},getMatchResult(){let e;return this.eval(this.startExpr),this.recordedFailures&&(e=Object.keys(this.recordedFailures).map((e=>this.recordedFailures[e]))),new o(this.matcher,this.input,this.startExpr,this._bindings[0],this._bindingOffsets[0],this.rightmostFailurePosition,e)},getTrace(){this.trace=[];const e=this.getMatchResult(),t=this.trace[this.trace.length-1];return t.result=e,t},pushFailuresInfo(){this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this._recordedFailuresStack.push(this.recordedFailures)},popFailuresInfo(){this.rightmostFailurePosition=this._rightmostFailurePositionStack.pop(),this.recordedFailures=this._recordedFailuresStack.pop()}},e.exports=c},function(e,t,n){function r(){this.applicationMemoKeyStack=[],this.memo={},this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,this.currentLeftRecursion=void 0}r.prototype={isActive(e){return this.applicationMemoKeyStack.indexOf(e.toMemoKey())>=0},enter(e){this.applicationMemoKeyStack.push(e.toMemoKey())},exit(){this.applicationMemoKeyStack.pop()},startLeftRecursion(e,t){t.isLeftRecursion=!0,t.headApplication=e,t.nextLeftRecursion=this.currentLeftRecursion,this.currentLeftRecursion=t;const n=this.applicationMemoKeyStack,r=n.indexOf(e.toMemoKey())+1,o=n.slice(r);t.isInvolved=function(e){return o.indexOf(e)>=0},t.updateInvolvedApplicationMemoKeys=function(){for(let e=r;e<n.length;e++){const t=n[e];this.isInvolved(t)||o.push(t)}}},endLeftRecursion(){this.currentLeftRecursion=this.currentLeftRecursion.nextLeftRecursion},shouldUseMemoizedResult(e){if(!e.isLeftRecursion)return!0;const t=this.applicationMemoKeyStack;for(let n=0;n<t.length;n++){const r=t[n];if(e.isInvolved(r))return!1}return!0},memoize(e,t){return this.memo[e]=t,this.maxExaminedLength=Math.max(this.maxExaminedLength,t.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,t.rightmostFailureOffset),t},clearObsoleteEntries(e,t){if(e+this.maxExaminedLength<=t)return;const n=this.memo;this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,Object.keys(n).forEach((r=>{const o=n[r];e+o.examinedLength>t?delete n[r]:(this.maxExaminedLength=Math.max(this.maxExaminedLength,o.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,o.rightmostFailureOffset))}))}},e.exports=r},function(e,t,n){const r=n(8),o=n(6).IterationNode,i=n(9),a=n(0),s=n(2),u=n(3),c=[];let l,p;class d{constructor(e,t,n){this._node=e,this.source=t,this._baseInterval=n,e.isNonterminal()&&a.assert(t===n),this._childWrappers=[]}toString(){return"[semantics wrapper for "+this._node.grammar.name+"]"}toJSON(){return this.toString()}_forgetMemoizedResultFor(e){delete this._node[this._semantics.attributeKeys[e]],this.children.forEach((t=>{t._forgetMemoizedResultFor(e)}))}child(e){if(!(0<=e&&e<this._node.numChildren()))return;let t=this._childWrappers[e];if(!t){const n=this._node.childAt(e),r=this._node.childOffsets[e],o=this._baseInterval.subInterval(r,n.matchLength),i=n.isNonterminal()?o:this._baseInterval;t=this._childWrappers[e]=this._semantics.wrap(n,o,i)}return t}_children(){for(let e=0;e<this._node.numChildren();e++)this.child(e);return this._childWrappers}isIteration(){return this._node.isIteration()}isTerminal(){return this._node.isTerminal()}isNonterminal(){return this._node.isNonterminal()}isSyntactic(){return this.isNonterminal()&&this._node.isSyntactic()}isLexical(){return this.isNonterminal()&&this._node.isLexical()}isOptional(){return this._node.isOptional()}iteration(e){const t=e||[],n=t.map((e=>e._node)),r=new o(this._node.grammar,n,[],-1,!1),i=this._semantics.wrap(r,null,null);return i._childWrappers=t,i}get children(){return this._children()}get ctorName(){return this._node.ctorName}get interval(){throw new Error("The `interval` property is deprecated -- use `source` instead")}get numChildren(){return this._node.numChildren()}get primitiveValue(){if(this.isTerminal())return this._node.primitiveValue;throw new TypeError("tried to access the 'primitiveValue' attribute of a non-terminal CST node")}get sourceString(){return this.source.contents}}function h(e,t){const n=this;if(this.grammar=e,this.checkedActionDicts=!1,this.Wrapper=class extends(t?t.Wrapper:d){constructor(e,t,r){super(e,t,r),n.checkActionDictsIfHaventAlready(),this._semantics=n}},this.super=t,t){if(!e.equals(this.super.grammar)&&!e._inheritsFrom(this.super.grammar))throw new Error("Cannot extend a semantics for grammar '"+this.super.grammar.name+"' for use with grammar '"+e.name+"' (not a sub-grammar)");this.operations=Object.create(this.super.operations),this.attributes=Object.create(this.super.attributes),this.attributeKeys=Object.create(null);for(const e in this.attributes)Object.defineProperty(this.attributeKeys,e,{value:u.uniqueId(e)})}else this.operations=Object.create(null),this.attributes=Object.create(null),this.attributeKeys=Object.create(null)}function m(e,t){if(!l)return a.assert(-1===e.indexOf("(")),{name:e,formals:[]};const n=l.match(e,"operation"===t?"OperationSignature":"AttributeSignature");if(n.failed())throw new Error(n.message);return p(n).parse()}h.prototype.toString=function(){return"[semantics for "+this.grammar.name+"]"},h.prototype.checkActionDictsIfHaventAlready=function(){this.checkedActionDicts||(this.checkActionDicts(),this.checkedActionDicts=!0)},h.prototype.checkActionDicts=function(){let e;for(e in this.operations)this.operations[e].checkActionDict(this.grammar);for(e in this.attributes)this.attributes[e].checkActionDict(this.grammar)},h.prototype.toRecipe=function(e){function t(e){return e.super!==h.BuiltInSemantics._getSemantics()}let n="(function(g) {\n";if(t(this)){n+="  var semantics = "+this.super.toRecipe(!0)+"(g";const e=this.super.grammar;let t=this.grammar;for(;t!==e;)n+=".superGrammar",t=t.superGrammar;n+=");\n",n+="  return g.extendSemantics(semantics)"}else n+="  return g.createSemantics()";return["Operation","Attribute"].forEach((e=>{const r=this[e.toLowerCase()+"s"];Object.keys(r).forEach((o=>{const{actionDict:i,formals:a,builtInDefault:s}=r[o];let u,c=o;a.length>0&&(c+="("+a.join(", ")+")"),u=t(this)&&this.super[e.toLowerCase()+"s"][o]?"extend"+e:"add"+e,n+="\n    ."+u+"("+JSON.stringify(c)+", {";const l=[];Object.keys(i).forEach((e=>{if(i[e]!==s){let t=i[e].toString().trim();t=t.replace(/^.*\(/,"function("),l.push("\n      "+JSON.stringify(e)+": "+t)}})),n+=l.join(",")+"\n    })"}))})),n+=";\n  })",e||(n="(function() {\n  var grammar = this.fromRecipe("+this.grammar.toRecipe()+");\n  var semantics = "+n+"(grammar);\n  return semantics;\n});\n"),n},h.prototype.addOperationOrAttribute=function(e,t,n){const r=e+"s",o=m(t,e),i=o.name,a=o.formals;this.assertNewName(i,e);const l=(d=e,h=i,v=C,function(...e){const t=(this._semantics.operations[h]||this._semantics.attributes[h]).formals.map((e=>this.args[e]));if(this.isIteration()||1!==e.length)throw s.missingSemanticAction(this.ctorName,h,d,c);return v.apply(e[0],t)}),p={_default:l};var d,h,v;Object.keys(n).forEach((e=>{p[e]=n[e]}));const D="operation"===e?new f(i,a,p,l):new g(i,p,l);function C(){const t=this._semantics[r][i];if(arguments.length!==t.formals.length)throw new Error("Invalid number of arguments passed to "+i+" "+e+" (expected "+t.formals.length+", got "+arguments.length+")");const n=Object.create(null);for(let e=0;e<arguments.length;e++)n[t.formals[e]]=arguments[e];const o=this.args;this.args=n;const a=t.execute(this._semantics,this);return this.args=o,a}D.checkActionDict(this.grammar),this[r][i]=D,"operation"===e?(this.Wrapper.prototype[i]=C,this.Wrapper.prototype[i].toString=function(){return"["+i+" operation]"}):(Object.defineProperty(this.Wrapper.prototype,i,{get:C,configurable:!0}),Object.defineProperty(this.attributeKeys,i,{value:u.uniqueId(i)}))},h.prototype.extendOperationOrAttribute=function(e,t,n){const r=e+"s";if(m(t,"attribute"),!this.super||!(t in this.super[r]))throw new Error("Cannot extend "+e+" '"+t+"': did not inherit an "+e+" with that name");if(Object.prototype.hasOwnProperty.call(this[r],t))throw new Error("Cannot extend "+e+" '"+t+"' again");const o=this[r][t].formals,i=this[r][t].actionDict,a=Object.create(i);Object.keys(n).forEach((e=>{a[e]=n[e]})),this[r][t]="operation"===e?new f(t,o,a):new g(t,a),this[r][t].checkActionDict(this.grammar)},h.prototype.assertNewName=function(e,t){if(d.prototype.hasOwnProperty(e))throw new Error("Cannot add "+t+" '"+e+"': that's a reserved name");if(e in this.operations)throw new Error("Cannot add "+t+" '"+e+"': an operation with that name already exists");if(e in this.attributes)throw new Error("Cannot add "+t+" '"+e+"': an attribute with that name already exists")},h.prototype.wrap=function(e,t,n){const r=n||t;return e instanceof this.Wrapper?e:new this.Wrapper(e,t,r)},h.createSemantics=function(e,t){const n=new h(e,void 0!==t?t:h.BuiltInSemantics._getSemantics()),o=function(t){if(!(t instanceof i))throw new TypeError("Semantics expected a MatchResult, but got "+a.unexpectedObjToString(t));if(t.failed())throw new TypeError("cannot apply Semantics to "+t.toString());const o=t._cst;if(o.grammar!==e)throw new Error("Cannot use a MatchResult from grammar '"+o.grammar.name+"' with a semantics for '"+e.name+"'");const s=new r(t.input);return n.wrap(o,s.interval(t._cstOffset,t.input.length))};return o.addOperation=function(e,t){return n.addOperationOrAttribute("operation",e,t),o},o.extendOperation=function(e,t){return n.extendOperationOrAttribute("operation",e,t),o},o.addAttribute=function(e,t){return n.addOperationOrAttribute("attribute",e,t),o},o.extendAttribute=function(e,t){return n.extendOperationOrAttribute("attribute",e,t),o},o._getActionDict=function(t){const r=n.operations[t]||n.attributes[t];if(!r)throw new Error('"'+t+'" is not a valid operation or attribute name in this semantics for "'+e.name+'"');return r.actionDict},o._remove=function(e){let t;return e in n.operations?(t=n.operations[e],delete n.operations[e]):e in n.attributes&&(t=n.attributes[e],delete n.attributes[e]),delete n.Wrapper.prototype[e],t},o.getOperationNames=function(){return Object.keys(n.operations)},o.getAttributeNames=function(){return Object.keys(n.attributes)},o.getGrammar=function(){return n.grammar},o.toRecipe=function(e){return n.toRecipe(e)},o.toString=n.toString.bind(n),o._getSemantics=function(){return n},o};class f{constructor(e,t,n,r){this.name=e,this.formals=t,this.actionDict=n,this.builtInDefault=r}checkActionDict(e){e._checkTopDownActionDict(this.typeName,this.name,this.actionDict)}execute(e,t){try{const e=t._node.ctorName;let n=this.actionDict[e];return n?(c.push([this,e]),n.apply(t,t._children())):t.isNonterminal()&&(n=this.actionDict._nonterminal,n)?(c.push([this,"_nonterminal",e]),n.apply(t,t._children())):(c.push([this,"default action",e]),this.actionDict._default.apply(t,t._children()))}finally{c.pop()}}}f.prototype.typeName="operation";class g extends f{constructor(e,t,n){super(e,[],t,n)}execute(e,t){const n=t._node,r=e.attributeKeys[this.name];return n.hasOwnProperty(r)||(n[r]=f.prototype.execute.call(this,e,t)),n[r]}}g.prototype.typeName="attribute",u.awaitBuiltInRules((e=>{const t=n(35);var r;!function(e){const t={empty(){return this.iteration()},nonEmpty(e,t,n){return this.iteration([e].concat(n.children))}};h.BuiltInSemantics=h.createSemantics(e,null).addOperation("asIteration",{emptyListOf:t.empty,nonemptyListOf:t.nonEmpty,EmptyListOf:t.empty,NonemptyListOf:t.nonEmpty})}(e),p=(r=t).createSemantics().addOperation("parse",{AttributeSignature:e=>({name:e.parse(),formals:[]}),OperationSignature:(e,t)=>({name:e.parse(),formals:t.children.map((e=>e.parse()))[0]||[]}),Formals:(e,t,n)=>t.asIteration().children.map((e=>e.parse())),name(e,t){return this.sourceString}}),l=r})),e.exports=h},function(e,t,n){var r=n(4);e.exports=r.makeRecipe(["grammar",{source:'OperationsAndAttributes {\n\n  AttributeSignature =\n    name\n\n  OperationSignature =\n    name Formals?\n\n  Formals\n    = "(" ListOf<name, ","> ")"\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n}'},"OperationsAndAttributes",null,"AttributeSignature",{AttributeSignature:["define",{sourceInterval:[29,58]},null,[],["app",{sourceInterval:[54,58]},"name",[]]],OperationSignature:["define",{sourceInterval:[62,100]},null,[],["seq",{sourceInterval:[87,100]},["app",{sourceInterval:[87,91]},"name",[]],["opt",{sourceInterval:[92,100]},["app",{sourceInterval:[92,99]},"Formals",[]]]]],Formals:["define",{sourceInterval:[104,143]},null,[],["seq",{sourceInterval:[118,143]},["terminal",{sourceInterval:[118,121]},"("],["app",{sourceInterval:[122,139]},"ListOf",[["app",{sourceInterval:[129,133]},"name",[]],["terminal",{sourceInterval:[135,138]},","]]],["terminal",{sourceInterval:[140,143]},")"]]],name:["define",{sourceInterval:[147,187]},"a name",[],["seq",{sourceInterval:[168,187]},["app",{sourceInterval:[168,177]},"nameFirst",[]],["star",{sourceInterval:[178,187]},["app",{sourceInterval:[178,186]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[191,223]},null,[],["alt",{sourceInterval:[207,223]},["terminal",{sourceInterval:[207,210]},"_"],["app",{sourceInterval:[217,223]},"letter",[]]]],nameRest:["define",{sourceInterval:[227,257]},null,[],["alt",{sourceInterval:[242,257]},["terminal",{sourceInterval:[242,245]},"_"],["app",{sourceInterval:[252,257]},"alnum",[]]]]}])},function(e,t,n){const r=n(5),o=n(8),i=n(0),a=n(2),s=n(1);function u(e){this.name=e}u.prototype.sourceInterval=function(e,t){return this.source.subInterval(e,t-e)},u.prototype.ensureSuperGrammar=function(){return this.superGrammar||this.withSuperGrammar("BuiltInRules"===this.name?r.ProtoBuiltInRules:r.BuiltInRules),this.superGrammar},u.prototype.ensureSuperGrammarRuleForOverriding=function(e,t){const n=this.ensureSuperGrammar().rules[e];if(!n)throw a.cannotOverrideUndeclaredRule(e,this.superGrammar.name,t);return n},u.prototype.installOverriddenOrExtendedRule=function(e,t,n,r){const o=i.getDuplicates(t);if(o.length>0)throw a.duplicateParameterNames(e,o,r);const s=this.ensureSuperGrammar().rules[e],u=s.formals,c=u?u.length:0;if(t.length!==c)throw a.wrongNumberOfParameters(e,c,t.length,r);return this.install(e,t,n,s.description,r)},u.prototype.install=function(e,t,n,r,o){return this.rules[e]={body:n.introduceParams(t),formals:t,description:r,source:o},this},u.prototype.withSuperGrammar=function(e){if(this.superGrammar)throw new Error("the super grammar of a GrammarDecl cannot be set more than once");return this.superGrammar=e,this.rules=Object.create(e.rules),e.isBuiltIn()||(this.defaultStartRule=e.defaultStartRule),this},u.prototype.withDefaultStartRule=function(e){return this.defaultStartRule=e,this},u.prototype.withSource=function(e){return this.source=new o(e).interval(0,e.length),this},u.prototype.build=function(){const e=new r(this.name,this.ensureSuperGrammar(),this.rules,this.defaultStartRule),t=[];let n=!1;return Object.keys(e.rules).forEach((r=>{const o=e.rules[r].body;try{o.assertChoicesHaveUniformArity(r)}catch(i){t.push(i)}try{o.assertAllApplicationsAreValid(r,e)}catch(i){t.push(i),n=!0}})),n||Object.keys(e.rules).forEach((n=>{const r=e.rules[n].body;try{r.assertIteratedExprsAreNotNullable(e,[])}catch(o){t.push(o)}})),t.length>0&&a.throwErrors(t),this.source&&(e.source=this.source),e},u.prototype.define=function(e,t,n,r,o){if(this.ensureSuperGrammar(),this.superGrammar.rules[e])throw a.duplicateRuleDeclaration(e,this.name,this.superGrammar.name,o);if(this.rules[e])throw a.duplicateRuleDeclaration(e,this.name,this.name,o);const s=i.getDuplicates(t);if(s.length>0)throw a.duplicateParameterNames(e,s,o);return this.install(e,t,n,r,o)},u.prototype.override=function(e,t,n,r,o){return this.ensureSuperGrammarRuleForOverriding(e,o),this.installOverriddenOrExtendedRule(e,t,n,o),this},u.prototype.extend=function(e,t,n,r,o){if(!this.ensureSuperGrammar().rules[e])throw a.cannotExtendUndeclaredRule(e,this.superGrammar.name,o);const i=new s.Extend(this.superGrammar,e,n);return i.source=n.source,this.installOverriddenOrExtendedRule(e,t,i,o),this},e.exports=u},function(e,t,n){e.exports="16.0.0"},function(e,t,n){e.exports={VisitorFamily:n(39),semanticsForToAST:n(13).semantics,toAST:n(13).helper}},function(e,t,n){const r=n(0).assert;function o(e,t,n){return n(t[e])}function i(e,t,n){return t[e].map(n)}function a(e){const t=e.split(/ ?\[\]/);return 2===t.length?i.bind(null,t[0]):o.bind(null,e)}function s(e,t,n){return e.map((e=>e(t,n)))}function u(e){return/^[a-zA-Z_][0-9a-zA-Z_]*$/.test(e)}function c(e){return e.trim()}function l(e){this._shapes=e.shapes,this._getTag=e.getTag,this.Adapter=function(e,t){this._adaptee=e,this._family=t},this.Adapter.prototype.valueOf=function(){throw new Error("heeey!")},this.operations={},this._arities=Object.create(null),this._getChildren=Object.create(null),Object.keys(this._shapes).forEach((e=>{const t=this._shapes[e];var n;this._getChildren[e]="string"==typeof(n=t)?s.bind(null,[a(n)]):Array.isArray(n)?s.bind(null,n.map(a)):(r("function"==typeof n,"Expected a string, Array, or function"),r(2===n.length,"Expected a function of arity 2, got "+n.length),n),"function"!=typeof t&&(this._arities[e]=Array.isArray(t)?t.length:1)})),this._wrap=e=>new this.Adapter(e,this)}l.prototype.wrap=function(e){return this._wrap(e)},l.prototype._checkActionDict=function(e){Object.keys(e).forEach((t=>{r(t in this._getChildren,"Unrecognized action name '"+t+"'");const n=e[t];if(r("function"==typeof n,"Key '"+t+"': expected function, got "+n),t in this._arities){const n=this._arities[t],o=e[t].length;r(o===n,"Action '"+t+"' has the wrong arity: expected "+n+", got "+o)}}))},l.prototype.addOperation=function(e,t){const n=function(e){const t=e.split(/[()]/).map(c);if(3===t.length&&""===t[2]){const e=t[0];let n=[];if(t[1].length>0&&(n=t[1].split(",").map(c)),u(e)&&n.every(u))return{name:e,formals:n}}throw new Error("Invalid operation signature: "+e)}(e),o=n.name;this._checkActionDict(t),this.operations[o]={name:o,formals:n.formals,actions:t};const i=this;return this.Adapter.prototype[o]=function(){const e=i._getTag(this._adaptee);r(e in i._getChildren,"getTag returned unrecognized tag '"+e+"'"),r(e in t,"No action for '"+e+"' in operation '"+o+"'");const a=Object.create(null);for(let t=0;t<arguments.length;t++)a[n.formals[t]]=arguments[t];const s=this.args;this.args=a;const u=t[e].apply(this,i._getChildren[e](this._adaptee,i._wrap));return this.args=s,u},this},e.exports=l},function(e,t,n){var r=n(4);e.exports=r.makeRecipe(["grammar",{source:'BuiltInRules {\n\n  alnum  (an alpha-numeric character)\n    = letter\n    | digit\n\n  letter  (a letter)\n    = lower\n    | upper\n    | unicodeLtmo\n\n  digit  (a digit)\n    = "0".."9"\n\n  hexDigit  (a hexadecimal digit)\n    = digit\n    | "a".."f"\n    | "A".."F"\n\n  ListOf<elem, sep>\n    = NonemptyListOf<elem, sep>\n    | EmptyListOf<elem, sep>\n\n  NonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  EmptyListOf<elem, sep>\n    = /* nothing */\n\n  listOf<elem, sep>\n    = nonemptyListOf<elem, sep>\n    | emptyListOf<elem, sep>\n\n  nonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  emptyListOf<elem, sep>\n    = /* nothing */\n\n}'},"BuiltInRules",null,null,{alnum:["define",{sourceInterval:[18,78]},"an alpha-numeric character",[],["alt",{sourceInterval:[60,78]},["app",{sourceInterval:[60,66]},"letter",[]],["app",{sourceInterval:[73,78]},"digit",[]]]],letter:["define",{sourceInterval:[82,142]},"a letter",[],["alt",{sourceInterval:[107,142]},["app",{sourceInterval:[107,112]},"lower",[]],["app",{sourceInterval:[119,124]},"upper",[]],["app",{sourceInterval:[131,142]},"unicodeLtmo",[]]]],digit:["define",{sourceInterval:[146,177]},"a digit",[],["range",{sourceInterval:[169,177]},"0","9"]],hexDigit:["define",{sourceInterval:[181,254]},"a hexadecimal digit",[],["alt",{sourceInterval:[219,254]},["app",{sourceInterval:[219,224]},"digit",[]],["range",{sourceInterval:[231,239]},"a","f"],["range",{sourceInterval:[246,254]},"A","F"]]],ListOf:["define",{sourceInterval:[258,336]},null,["elem","sep"],["alt",{sourceInterval:[282,336]},["app",{sourceInterval:[282,307]},"NonemptyListOf",[["param",{sourceInterval:[297,301]},0],["param",{sourceInterval:[303,306]},1]]],["app",{sourceInterval:[314,336]},"EmptyListOf",[["param",{sourceInterval:[326,330]},0],["param",{sourceInterval:[332,335]},1]]]]],NonemptyListOf:["define",{sourceInterval:[340,388]},null,["elem","sep"],["seq",{sourceInterval:[372,388]},["param",{sourceInterval:[372,376]},0],["star",{sourceInterval:[377,388]},["seq",{sourceInterval:[378,386]},["param",{sourceInterval:[378,381]},1],["param",{sourceInterval:[382,386]},0]]]]],EmptyListOf:["define",{sourceInterval:[392,434]},null,["elem","sep"],["seq",{sourceInterval:[438,438]}]],listOf:["define",{sourceInterval:[438,516]},null,["elem","sep"],["alt",{sourceInterval:[462,516]},["app",{sourceInterval:[462,487]},"nonemptyListOf",[["param",{sourceInterval:[477,481]},0],["param",{sourceInterval:[483,486]},1]]],["app",{sourceInterval:[494,516]},"emptyListOf",[["param",{sourceInterval:[506,510]},0],["param",{sourceInterval:[512,515]},1]]]]],nonemptyListOf:["define",{sourceInterval:[520,568]},null,["elem","sep"],["seq",{sourceInterval:[552,568]},["param",{sourceInterval:[552,556]},0],["star",{sourceInterval:[557,568]},["seq",{sourceInterval:[558,566]},["param",{sourceInterval:[558,561]},1],["param",{sourceInterval:[562,566]},0]]]]],emptyListOf:["define",{sourceInterval:[572,614]},null,["elem","sep"],["seq",{sourceInterval:[616,616]}]]}])},function(e,t,n){var r=n(4);e.exports=r.makeRecipe(["grammar",{source:'Ohm {\n\n  Grammars\n    = Grammar*\n\n  Grammar\n    = ident SuperGrammar? "{" Rule* "}"\n\n  SuperGrammar\n    = "<:" ident\n\n  Rule\n    = ident Formals? ruleDescr? "="  RuleBody  -- define\n    | ident Formals?            ":=" OverrideRuleBody  -- override\n    | ident Formals?            "+=" RuleBody  -- extend\n\n  RuleBody\n    = "|"? NonemptyListOf<TopLevelTerm, "|">\n\n  TopLevelTerm\n    = Seq caseName  -- inline\n    | Seq\n\n  OverrideRuleBody\n    = "|"? NonemptyListOf<OverrideTopLevelTerm, "|">\n\n  OverrideTopLevelTerm\n    = "..."  -- superSplice\n    | TopLevelTerm\n\n  Formals\n    = "<" ListOf<ident, ","> ">"\n\n  Params\n    = "<" ListOf<Seq, ","> ">"\n\n  Alt\n    = NonemptyListOf<Seq, "|">\n\n  Seq\n    = Iter*\n\n  Iter\n    = Pred "*"  -- star\n    | Pred "+"  -- plus\n    | Pred "?"  -- opt\n    | Pred\n\n  Pred\n    = "~" Lex  -- not\n    | "&" Lex  -- lookahead\n    | Lex\n\n  Lex\n    = "#" Base  -- lex\n    | Base\n\n  Base\n    = ident Params? ~(ruleDescr? "=" | ":=" | "+=")  -- application\n    | oneCharTerminal ".." oneCharTerminal           -- range\n    | terminal                                       -- terminal\n    | "(" Alt ")"                                    -- paren\n\n  ruleDescr  (a rule description)\n    = "(" ruleDescrText ")"\n\n  ruleDescrText\n    = (~")" any)*\n\n  caseName\n    = "--" (~"\\n" space)* name (~"\\n" space)* ("\\n" | &"}")\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n  ident  (an identifier)\n    = name\n\n  terminal\n    = "\\"" terminalChar* "\\""\n\n  oneCharTerminal\n    = "\\"" terminalChar "\\""\n\n  terminalChar\n    = escapeChar\n    | ~"\\\\" ~"\\"" ~"\\n" any\n\n  escapeChar  (an escape sequence)\n    = "\\\\\\\\"                                     -- backslash\n    | "\\\\\\""                                     -- doubleQuote\n    | "\\\\\\\'"                                     -- singleQuote\n    | "\\\\b"                                      -- backspace\n    | "\\\\n"                                      -- lineFeed\n    | "\\\\r"                                      -- carriageReturn\n    | "\\\\t"                                      -- tab\n    | "\\\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape\n    | "\\\\x" hexDigit hexDigit                    -- hexEscape\n\n  space\n   += comment\n\n  comment\n    = "//" (~"\\n" any)* &("\\n" | end)  -- singleLine\n    | "/*" (~"*/" any)* "*/"  -- multiLine\n\n  tokens = token*\n\n  token = caseName | comment | ident | operator | punctuation | terminal | any\n\n  operator = "<:" | "=" | ":=" | "+=" | "*" | "+" | "?" | "~" | "&"\n\n  punctuation = "<" | ">" | "," | "--"\n}'},"Ohm",null,"Grammars",{Grammars:["define",{sourceInterval:[9,32]},null,[],["star",{sourceInterval:[24,32]},["app",{sourceInterval:[24,31]},"Grammar",[]]]],Grammar:["define",{sourceInterval:[36,83]},null,[],["seq",{sourceInterval:[50,83]},["app",{sourceInterval:[50,55]},"ident",[]],["opt",{sourceInterval:[56,69]},["app",{sourceInterval:[56,68]},"SuperGrammar",[]]],["terminal",{sourceInterval:[70,73]},"{"],["star",{sourceInterval:[74,79]},["app",{sourceInterval:[74,78]},"Rule",[]]],["terminal",{sourceInterval:[80,83]},"}"]]],SuperGrammar:["define",{sourceInterval:[87,116]},null,[],["seq",{sourceInterval:[106,116]},["terminal",{sourceInterval:[106,110]},"<:"],["app",{sourceInterval:[111,116]},"ident",[]]]],Rule_define:["define",{sourceInterval:[131,181]},null,[],["seq",{sourceInterval:[131,170]},["app",{sourceInterval:[131,136]},"ident",[]],["opt",{sourceInterval:[137,145]},["app",{sourceInterval:[137,144]},"Formals",[]]],["opt",{sourceInterval:[146,156]},["app",{sourceInterval:[146,155]},"ruleDescr",[]]],["terminal",{sourceInterval:[157,160]},"="],["app",{sourceInterval:[162,170]},"RuleBody",[]]]],Rule_override:["define",{sourceInterval:[188,248]},null,[],["seq",{sourceInterval:[188,235]},["app",{sourceInterval:[188,193]},"ident",[]],["opt",{sourceInterval:[194,202]},["app",{sourceInterval:[194,201]},"Formals",[]]],["terminal",{sourceInterval:[214,218]},":="],["app",{sourceInterval:[219,235]},"OverrideRuleBody",[]]]],Rule_extend:["define",{sourceInterval:[255,305]},null,[],["seq",{sourceInterval:[255,294]},["app",{sourceInterval:[255,260]},"ident",[]],["opt",{sourceInterval:[261,269]},["app",{sourceInterval:[261,268]},"Formals",[]]],["terminal",{sourceInterval:[281,285]},"+="],["app",{sourceInterval:[286,294]},"RuleBody",[]]]],Rule:["define",{sourceInterval:[120,305]},null,[],["alt",{sourceInterval:[131,305]},["app",{sourceInterval:[131,170]},"Rule_define",[]],["app",{sourceInterval:[188,235]},"Rule_override",[]],["app",{sourceInterval:[255,294]},"Rule_extend",[]]]],RuleBody:["define",{sourceInterval:[309,362]},null,[],["seq",{sourceInterval:[324,362]},["opt",{sourceInterval:[324,328]},["terminal",{sourceInterval:[324,327]},"|"]],["app",{sourceInterval:[329,362]},"NonemptyListOf",[["app",{sourceInterval:[344,356]},"TopLevelTerm",[]],["terminal",{sourceInterval:[358,361]},"|"]]]]],TopLevelTerm_inline:["define",{sourceInterval:[385,408]},null,[],["seq",{sourceInterval:[385,397]},["app",{sourceInterval:[385,388]},"Seq",[]],["app",{sourceInterval:[389,397]},"caseName",[]]]],TopLevelTerm:["define",{sourceInterval:[366,418]},null,[],["alt",{sourceInterval:[385,418]},["app",{sourceInterval:[385,397]},"TopLevelTerm_inline",[]],["app",{sourceInterval:[415,418]},"Seq",[]]]],OverrideRuleBody:["define",{sourceInterval:[422,491]},null,[],["seq",{sourceInterval:[445,491]},["opt",{sourceInterval:[445,449]},["terminal",{sourceInterval:[445,448]},"|"]],["app",{sourceInterval:[450,491]},"NonemptyListOf",[["app",{sourceInterval:[465,485]},"OverrideTopLevelTerm",[]],["terminal",{sourceInterval:[487,490]},"|"]]]]],OverrideTopLevelTerm_superSplice:["define",{sourceInterval:[522,543]},null,[],["terminal",{sourceInterval:[522,527]},"..."]],OverrideTopLevelTerm:["define",{sourceInterval:[495,562]},null,[],["alt",{sourceInterval:[522,562]},["app",{sourceInterval:[522,527]},"OverrideTopLevelTerm_superSplice",[]],["app",{sourceInterval:[550,562]},"TopLevelTerm",[]]]],Formals:["define",{sourceInterval:[566,606]},null,[],["seq",{sourceInterval:[580,606]},["terminal",{sourceInterval:[580,583]},"<"],["app",{sourceInterval:[584,602]},"ListOf",[["app",{sourceInterval:[591,596]},"ident",[]],["terminal",{sourceInterval:[598,601]},","]]],["terminal",{sourceInterval:[603,606]},">"]]],Params:["define",{sourceInterval:[610,647]},null,[],["seq",{sourceInterval:[623,647]},["terminal",{sourceInterval:[623,626]},"<"],["app",{sourceInterval:[627,643]},"ListOf",[["app",{sourceInterval:[634,637]},"Seq",[]],["terminal",{sourceInterval:[639,642]},","]]],["terminal",{sourceInterval:[644,647]},">"]]],Alt:["define",{sourceInterval:[651,685]},null,[],["app",{sourceInterval:[661,685]},"NonemptyListOf",[["app",{sourceInterval:[676,679]},"Seq",[]],["terminal",{sourceInterval:[681,684]},"|"]]]],Seq:["define",{sourceInterval:[689,704]},null,[],["star",{sourceInterval:[699,704]},["app",{sourceInterval:[699,703]},"Iter",[]]]],Iter_star:["define",{sourceInterval:[719,736]},null,[],["seq",{sourceInterval:[719,727]},["app",{sourceInterval:[719,723]},"Pred",[]],["terminal",{sourceInterval:[724,727]},"*"]]],Iter_plus:["define",{sourceInterval:[743,760]},null,[],["seq",{sourceInterval:[743,751]},["app",{sourceInterval:[743,747]},"Pred",[]],["terminal",{sourceInterval:[748,751]},"+"]]],Iter_opt:["define",{sourceInterval:[767,783]},null,[],["seq",{sourceInterval:[767,775]},["app",{sourceInterval:[767,771]},"Pred",[]],["terminal",{sourceInterval:[772,775]},"?"]]],Iter:["define",{sourceInterval:[708,794]},null,[],["alt",{sourceInterval:[719,794]},["app",{sourceInterval:[719,727]},"Iter_star",[]],["app",{sourceInterval:[743,751]},"Iter_plus",[]],["app",{sourceInterval:[767,775]},"Iter_opt",[]],["app",{sourceInterval:[790,794]},"Pred",[]]]],Pred_not:["define",{sourceInterval:[809,824]},null,[],["seq",{sourceInterval:[809,816]},["terminal",{sourceInterval:[809,812]},"~"],["app",{sourceInterval:[813,816]},"Lex",[]]]],Pred_lookahead:["define",{sourceInterval:[831,852]},null,[],["seq",{sourceInterval:[831,838]},["terminal",{sourceInterval:[831,834]},"&"],["app",{sourceInterval:[835,838]},"Lex",[]]]],Pred:["define",{sourceInterval:[798,862]},null,[],["alt",{sourceInterval:[809,862]},["app",{sourceInterval:[809,816]},"Pred_not",[]],["app",{sourceInterval:[831,838]},"Pred_lookahead",[]],["app",{sourceInterval:[859,862]},"Lex",[]]]],Lex_lex:["define",{sourceInterval:[876,892]},null,[],["seq",{sourceInterval:[876,884]},["terminal",{sourceInterval:[876,879]},"#"],["app",{sourceInterval:[880,884]},"Base",[]]]],Lex:["define",{sourceInterval:[866,903]},null,[],["alt",{sourceInterval:[876,903]},["app",{sourceInterval:[876,884]},"Lex_lex",[]],["app",{sourceInterval:[899,903]},"Base",[]]]],Base_application:["define",{sourceInterval:[918,979]},null,[],["seq",{sourceInterval:[918,963]},["app",{sourceInterval:[918,923]},"ident",[]],["opt",{sourceInterval:[924,931]},["app",{sourceInterval:[924,930]},"Params",[]]],["not",{sourceInterval:[932,963]},["alt",{sourceInterval:[934,962]},["seq",{sourceInterval:[934,948]},["opt",{sourceInterval:[934,944]},["app",{sourceInterval:[934,943]},"ruleDescr",[]]],["terminal",{sourceInterval:[945,948]},"="]],["terminal",{sourceInterval:[951,955]},":="],["terminal",{sourceInterval:[958,962]},"+="]]]]],Base_range:["define",{sourceInterval:[986,1041]},null,[],["seq",{sourceInterval:[986,1022]},["app",{sourceInterval:[986,1001]},"oneCharTerminal",[]],["terminal",{sourceInterval:[1002,1006]},".."],["app",{sourceInterval:[1007,1022]},"oneCharTerminal",[]]]],Base_terminal:["define",{sourceInterval:[1048,1106]},null,[],["app",{sourceInterval:[1048,1056]},"terminal",[]]],Base_paren:["define",{sourceInterval:[1113,1168]},null,[],["seq",{sourceInterval:[1113,1124]},["terminal",{sourceInterval:[1113,1116]},"("],["app",{sourceInterval:[1117,1120]},"Alt",[]],["terminal",{sourceInterval:[1121,1124]},")"]]],Base:["define",{sourceInterval:[907,1168]},null,[],["alt",{sourceInterval:[918,1168]},["app",{sourceInterval:[918,963]},"Base_application",[]],["app",{sourceInterval:[986,1022]},"Base_range",[]],["app",{sourceInterval:[1048,1056]},"Base_terminal",[]],["app",{sourceInterval:[1113,1124]},"Base_paren",[]]]],ruleDescr:["define",{sourceInterval:[1172,1231]},"a rule description",[],["seq",{sourceInterval:[1210,1231]},["terminal",{sourceInterval:[1210,1213]},"("],["app",{sourceInterval:[1214,1227]},"ruleDescrText",[]],["terminal",{sourceInterval:[1228,1231]},")"]]],ruleDescrText:["define",{sourceInterval:[1235,1266]},null,[],["star",{sourceInterval:[1255,1266]},["seq",{sourceInterval:[1256,1264]},["not",{sourceInterval:[1256,1260]},["terminal",{sourceInterval:[1257,1260]},")"]],["app",{sourceInterval:[1261,1264]},"any",[]]]]],caseName:["define",{sourceInterval:[1270,1338]},null,[],["seq",{sourceInterval:[1285,1338]},["terminal",{sourceInterval:[1285,1289]},"--"],["star",{sourceInterval:[1290,1304]},["seq",{sourceInterval:[1291,1302]},["not",{sourceInterval:[1291,1296]},["terminal",{sourceInterval:[1292,1296]},"\n"]],["app",{sourceInterval:[1297,1302]},"space",[]]]],["app",{sourceInterval:[1305,1309]},"name",[]],["star",{sourceInterval:[1310,1324]},["seq",{sourceInterval:[1311,1322]},["not",{sourceInterval:[1311,1316]},["terminal",{sourceInterval:[1312,1316]},"\n"]],["app",{sourceInterval:[1317,1322]},"space",[]]]],["alt",{sourceInterval:[1326,1337]},["terminal",{sourceInterval:[1326,1330]},"\n"],["lookahead",{sourceInterval:[1333,1337]},["terminal",{sourceInterval:[1334,1337]},"}"]]]]],name:["define",{sourceInterval:[1342,1382]},"a name",[],["seq",{sourceInterval:[1363,1382]},["app",{sourceInterval:[1363,1372]},"nameFirst",[]],["star",{sourceInterval:[1373,1382]},["app",{sourceInterval:[1373,1381]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[1386,1418]},null,[],["alt",{sourceInterval:[1402,1418]},["terminal",{sourceInterval:[1402,1405]},"_"],["app",{sourceInterval:[1412,1418]},"letter",[]]]],nameRest:["define",{sourceInterval:[1422,1452]},null,[],["alt",{sourceInterval:[1437,1452]},["terminal",{sourceInterval:[1437,1440]},"_"],["app",{sourceInterval:[1447,1452]},"alnum",[]]]],ident:["define",{sourceInterval:[1456,1489]},"an identifier",[],["app",{sourceInterval:[1485,1489]},"name",[]]],terminal:["define",{sourceInterval:[1493,1531]},null,[],["seq",{sourceInterval:[1508,1531]},["terminal",{sourceInterval:[1508,1512]},'"'],["star",{sourceInterval:[1513,1526]},["app",{sourceInterval:[1513,1525]},"terminalChar",[]]],["terminal",{sourceInterval:[1527,1531]},'"']]],oneCharTerminal:["define",{sourceInterval:[1535,1579]},null,[],["seq",{sourceInterval:[1557,1579]},["terminal",{sourceInterval:[1557,1561]},'"'],["app",{sourceInterval:[1562,1574]},"terminalChar",[]],["terminal",{sourceInterval:[1575,1579]},'"']]],terminalChar:["define",{sourceInterval:[1583,1640]},null,[],["alt",{sourceInterval:[1602,1640]},["app",{sourceInterval:[1602,1612]},"escapeChar",[]],["seq",{sourceInterval:[1619,1640]},["not",{sourceInterval:[1619,1624]},["terminal",{sourceInterval:[1620,1624]},"\\"]],["not",{sourceInterval:[1625,1630]},["terminal",{sourceInterval:[1626,1630]},'"']],["not",{sourceInterval:[1631,1636]},["terminal",{sourceInterval:[1632,1636]},"\n"]],["app",{sourceInterval:[1637,1640]},"any",[]]]]],escapeChar_backslash:["define",{sourceInterval:[1683,1738]},null,[],["terminal",{sourceInterval:[1683,1689]},"\\\\"]],escapeChar_doubleQuote:["define",{sourceInterval:[1745,1802]},null,[],["terminal",{sourceInterval:[1745,1751]},'\\"']],escapeChar_singleQuote:["define",{sourceInterval:[1809,1866]},null,[],["terminal",{sourceInterval:[1809,1815]},"\\'"]],escapeChar_backspace:["define",{sourceInterval:[1873,1928]},null,[],["terminal",{sourceInterval:[1873,1878]},"\\b"]],escapeChar_lineFeed:["define",{sourceInterval:[1935,1989]},null,[],["terminal",{sourceInterval:[1935,1940]},"\\n"]],escapeChar_carriageReturn:["define",{sourceInterval:[1996,2056]},null,[],["terminal",{sourceInterval:[1996,2001]},"\\r"]],escapeChar_tab:["define",{sourceInterval:[2063,2112]},null,[],["terminal",{sourceInterval:[2063,2068]},"\\t"]],escapeChar_unicodeEscape:["define",{sourceInterval:[2119,2178]},null,[],["seq",{sourceInterval:[2119,2160]},["terminal",{sourceInterval:[2119,2124]},"\\u"],["app",{sourceInterval:[2125,2133]},"hexDigit",[]],["app",{sourceInterval:[2134,2142]},"hexDigit",[]],["app",{sourceInterval:[2143,2151]},"hexDigit",[]],["app",{sourceInterval:[2152,2160]},"hexDigit",[]]]],escapeChar_hexEscape:["define",{sourceInterval:[2185,2240]},null,[],["seq",{sourceInterval:[2185,2208]},["terminal",{sourceInterval:[2185,2190]},"\\x"],["app",{sourceInterval:[2191,2199]},"hexDigit",[]],["app",{sourceInterval:[2200,2208]},"hexDigit",[]]]],escapeChar:["define",{sourceInterval:[1644,2240]},"an escape sequence",[],["alt",{sourceInterval:[1683,2240]},["app",{sourceInterval:[1683,1689]},"escapeChar_backslash",[]],["app",{sourceInterval:[1745,1751]},"escapeChar_doubleQuote",[]],["app",{sourceInterval:[1809,1815]},"escapeChar_singleQuote",[]],["app",{sourceInterval:[1873,1878]},"escapeChar_backspace",[]],["app",{sourceInterval:[1935,1940]},"escapeChar_lineFeed",[]],["app",{sourceInterval:[1996,2001]},"escapeChar_carriageReturn",[]],["app",{sourceInterval:[2063,2068]},"escapeChar_tab",[]],["app",{sourceInterval:[2119,2160]},"escapeChar_unicodeEscape",[]],["app",{sourceInterval:[2185,2208]},"escapeChar_hexEscape",[]]]],space:["extend",{sourceInterval:[2244,2263]},null,[],["app",{sourceInterval:[2256,2263]},"comment",[]]],comment_singleLine:["define",{sourceInterval:[2281,2327]},null,[],["seq",{sourceInterval:[2281,2312]},["terminal",{sourceInterval:[2281,2285]},"//"],["star",{sourceInterval:[2286,2298]},["seq",{sourceInterval:[2287,2296]},["not",{sourceInterval:[2287,2292]},["terminal",{sourceInterval:[2288,2292]},"\n"]],["app",{sourceInterval:[2293,2296]},"any",[]]]],["lookahead",{sourceInterval:[2299,2312]},["alt",{sourceInterval:[2301,2311]},["terminal",{sourceInterval:[2301,2305]},"\n"],["app",{sourceInterval:[2308,2311]},"end",[]]]]]],comment_multiLine:["define",{sourceInterval:[2334,2370]},null,[],["seq",{sourceInterval:[2334,2356]},["terminal",{sourceInterval:[2334,2338]},"/*"],["star",{sourceInterval:[2339,2351]},["seq",{sourceInterval:[2340,2349]},["not",{sourceInterval:[2340,2345]},["terminal",{sourceInterval:[2341,2345]},"*/"]],["app",{sourceInterval:[2346,2349]},"any",[]]]],["terminal",{sourceInterval:[2352,2356]},"*/"]]],comment:["define",{sourceInterval:[2267,2370]},null,[],["alt",{sourceInterval:[2281,2370]},["app",{sourceInterval:[2281,2312]},"comment_singleLine",[]],["app",{sourceInterval:[2334,2356]},"comment_multiLine",[]]]],tokens:["define",{sourceInterval:[2374,2389]},null,[],["star",{sourceInterval:[2383,2389]},["app",{sourceInterval:[2383,2388]},"token",[]]]],token:["define",{sourceInterval:[2393,2469]},null,[],["alt",{sourceInterval:[2401,2469]},["app",{sourceInterval:[2401,2409]},"caseName",[]],["app",{sourceInterval:[2412,2419]},"comment",[]],["app",{sourceInterval:[2422,2427]},"ident",[]],["app",{sourceInterval:[2430,2438]},"operator",[]],["app",{sourceInterval:[2441,2452]},"punctuation",[]],["app",{sourceInterval:[2455,2463]},"terminal",[]],["app",{sourceInterval:[2466,2469]},"any",[]]]],operator:["define",{sourceInterval:[2473,2538]},null,[],["alt",{sourceInterval:[2484,2538]},["terminal",{sourceInterval:[2484,2488]},"<:"],["terminal",{sourceInterval:[2491,2494]},"="],["terminal",{sourceInterval:[2497,2501]},":="],["terminal",{sourceInterval:[2504,2508]},"+="],["terminal",{sourceInterval:[2511,2514]},"*"],["terminal",{sourceInterval:[2517,2520]},"+"],["terminal",{sourceInterval:[2523,2526]},"?"],["terminal",{sourceInterval:[2529,2532]},"~"],["terminal",{sourceInterval:[2535,2538]},"&"]]],punctuation:["define",{sourceInterval:[2542,2578]},null,[],["alt",{sourceInterval:[2556,2578]},["terminal",{sourceInterval:[2556,2559]},"<"],["terminal",{sourceInterval:[2562,2565]},">"],["terminal",{sourceInterval:[2568,2571]},","],["terminal",{sourceInterval:[2574,2578]},"--"]]]}])}])},"object"==typeof e&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof e?e.ohm=r():n.ohm=r(),t.exports}();const se=ae.createNamespace();se.Super=ae.makeRecipe(["grammar",{source:'Super {\r\n  Main = literalOf<(null | boolean | number)>\r\n\r\n  optional<T> = T?\r\n  stringify<T> = T\r\n\r\n  End($END$) = end\r\n  exprEnd($Exp$) = (";" | space)+\r\n\r\n  join<P, C> = P C\r\n  startWith<P, C> = P C\r\n  endWith<C, S> = C S\r\n\r\n  null = "null"\r\n  \r\n  centerOf<L, C, R> = L C R\r\n\r\n\r\n  lineBreak = "\\n"\r\n  linePad = lineSpace*\r\n  lineSpace(space) = ~lineBreak space\r\n  lineEnd($LineEnd$) = linePad (lineBreak | end)\r\n\r\n  padWith<T> = centerOf<linePad, T, linePad>\r\n  multiplePadWith<T> = centerOf<space*, T, space*>\r\n  preSpaceWith<T> = startWith<lineSpace+, T>\r\n  leftPadWith<T> = startWith<linePad, T>\r\n  rightPadWith<T> = endWith<T, linePad>\r\n\r\n  bracketSyntax<L, C, R> = centerOf<L, multiplePadWith<C>, R>\r\n  bracketText<L, C, R> = centerOf<L, multiplePadWith<stringify<(~startWith<space*, R> C)+>>, R>\r\n\r\n  bracketSyntaxInline<L, C, R> = centerOf<L, padWith<C>, R>\r\n  bracketTextInline<L, C, R> = centerOf<L, padWith<stringify<(esc<char> | ~(lineBreak | startWith<linePad, R>) C)+>>, R>\r\n\r\n  simpleBracketSyntax<C, LR> = bracketSyntax<LR, C, LR>\r\n  simpleBracketText<C, LR> = bracketText<LR, C, LR>\r\n\r\n  simpleBracketSyntaxInline<C, LR> = bracketSyntaxInline<LR, C, LR>\r\n  simpleBracketTextInline<C, LR> = bracketTextInline<LR, C, LR>\r\n  \r\n  sourceOf<T> = T\r\n  \r\n  literalOf<T> = T\r\n\r\n  boolean($boolean$) = "true" | "false"\r\n\r\n  char = ~space any\r\n\r\n  number($number$)\r\n    = num* "." num+ -- fract\r\n    | num+ -- whole\r\n\r\n  sign<T>($number$)\r\n    = stringify<T> -- apply\r\n    | ("-" | "+") stringify<T> -- signed\r\n\r\n\r\n  num($num$) = digit\r\n\r\n  internalEscape = "\'" | "\\"" | "\\\\" | "b" | "f" | "n" | "r" | "t" | "v"\r\n\r\n  esc<T> = startWith<&"\\\\", oresc<T>>\r\n  noesc<T> = ~(&"\\\\") T\r\n  oresc<T> = "\\\\"? T\r\n  escWith<T> = strictEscWith<T, T>\r\n  strictEscWith<Escaped, NonEscaped> = esc<(internalEscape | "x" | "u" | Escaped)> | ~NonEscaped any\r\n\r\n  ignore<T> = T\r\n  \r\n  single<T> = endWith<T, &(~T any?)>\r\n  dobule<T> = join<noesc<T>, T>\r\n\r\n  tokenOf<T> = single<noesc<T>>\r\n  dobuleTokenOf<T> = join<noesc<T>, single<T>>\r\n\r\n  parenL = "("\r\n  parenR = ")"\r\n  bracketL = "["\r\n  bracketR = "]"\r\n  // tokenOf2<T> = noesc<single2<T>>\r\n}'},"Super",null,"Main",{Main:["define",{sourceInterval:[11,54]},null,[],["app",{sourceInterval:[18,54]},"literalOf",[["alt",{sourceInterval:[28,53]},["app",{sourceInterval:[29,33]},"null",[]],["app",{sourceInterval:[36,43]},"boolean",[]],["app",{sourceInterval:[46,52]},"number",[]]]]]],optional:["define",{sourceInterval:[60,76]},null,["T"],["opt",{sourceInterval:[74,76]},["param",{sourceInterval:[74,75]},0]]],stringify:["define",{sourceInterval:[80,96]},null,["T"],["param",{sourceInterval:[95,96]},0]],End:["define",{sourceInterval:[102,118]},"$END$",[],["app",{sourceInterval:[115,118]},"end",[]]],exprEnd:["define",{sourceInterval:[122,153]},"$Exp$",[],["plus",{sourceInterval:[139,153]},["alt",{sourceInterval:[140,151]},["terminal",{sourceInterval:[140,143]},";"],["app",{sourceInterval:[146,151]},"space",[]]]]],join:["define",{sourceInterval:[159,175]},null,["P","C"],["seq",{sourceInterval:[172,175]},["param",{sourceInterval:[172,173]},0],["param",{sourceInterval:[174,175]},1]]],startWith:["define",{sourceInterval:[179,200]},null,["P","C"],["seq",{sourceInterval:[197,200]},["param",{sourceInterval:[197,198]},0],["param",{sourceInterval:[199,200]},1]]],endWith:["define",{sourceInterval:[204,223]},null,["C","S"],["seq",{sourceInterval:[220,223]},["param",{sourceInterval:[220,221]},0],["param",{sourceInterval:[222,223]},1]]],null:["define",{sourceInterval:[229,242]},null,[],["terminal",{sourceInterval:[236,242]},"null"]],centerOf:["define",{sourceInterval:[250,275]},null,["L","C","R"],["seq",{sourceInterval:[270,275]},["param",{sourceInterval:[270,271]},0],["param",{sourceInterval:[272,273]},1],["param",{sourceInterval:[274,275]},2]]],lineBreak:["define",{sourceInterval:[283,299]},null,[],["terminal",{sourceInterval:[295,299]},"\n"]],linePad:["define",{sourceInterval:[303,323]},null,[],["star",{sourceInterval:[313,323]},["app",{sourceInterval:[313,322]},"lineSpace",[]]]],lineSpace:["define",{sourceInterval:[327,362]},"space",[],["seq",{sourceInterval:[346,362]},["not",{sourceInterval:[346,356]},["app",{sourceInterval:[347,356]},"lineBreak",[]]],["app",{sourceInterval:[357,362]},"space",[]]]],lineEnd:["define",{sourceInterval:[366,412]},"$LineEnd$",[],["seq",{sourceInterval:[387,412]},["app",{sourceInterval:[387,394]},"linePad",[]],["alt",{sourceInterval:[396,411]},["app",{sourceInterval:[396,405]},"lineBreak",[]],["app",{sourceInterval:[408,411]},"end",[]]]]],padWith:["define",{sourceInterval:[418,460]},null,["T"],["app",{sourceInterval:[431,460]},"centerOf",[["app",{sourceInterval:[440,447]},"linePad",[]],["param",{sourceInterval:[449,450]},0],["app",{sourceInterval:[452,459]},"linePad",[]]]]],multiplePadWith:["define",{sourceInterval:[464,512]},null,["T"],["app",{sourceInterval:[485,512]},"centerOf",[["star",{sourceInterval:[494,500]},["app",{sourceInterval:[494,499]},"space",[]]],["param",{sourceInterval:[502,503]},0],["star",{sourceInterval:[505,511]},["app",{sourceInterval:[505,510]},"space",[]]]]]],preSpaceWith:["define",{sourceInterval:[516,558]},null,["T"],["app",{sourceInterval:[534,558]},"startWith",[["plus",{sourceInterval:[544,554]},["app",{sourceInterval:[544,553]},"lineSpace",[]]],["param",{sourceInterval:[556,557]},0]]]],leftPadWith:["define",{sourceInterval:[562,600]},null,["T"],["app",{sourceInterval:[579,600]},"startWith",[["app",{sourceInterval:[589,596]},"linePad",[]],["param",{sourceInterval:[598,599]},0]]]],rightPadWith:["define",{sourceInterval:[604,641]},null,["T"],["app",{sourceInterval:[622,641]},"endWith",[["param",{sourceInterval:[630,631]},0],["app",{sourceInterval:[633,640]},"linePad",[]]]]],bracketSyntax:["define",{sourceInterval:[647,706]},null,["L","C","R"],["app",{sourceInterval:[672,706]},"centerOf",[["param",{sourceInterval:[681,682]},0],["app",{sourceInterval:[684,702]},"multiplePadWith",[["param",{sourceInterval:[700,701]},1]]],["param",{sourceInterval:[704,705]},2]]]],bracketText:["define",{sourceInterval:[710,803]},null,["L","C","R"],["app",{sourceInterval:[733,803]},"centerOf",[["param",{sourceInterval:[742,743]},0],["app",{sourceInterval:[745,799]},"multiplePadWith",[["app",{sourceInterval:[761,798]},"stringify",[["plus",{sourceInterval:[771,797]},["seq",{sourceInterval:[772,795]},["not",{sourceInterval:[772,793]},["app",{sourceInterval:[773,793]},"startWith",[["star",{sourceInterval:[783,789]},["app",{sourceInterval:[783,788]},"space",[]]],["param",{sourceInterval:[791,792]},2]]]],["param",{sourceInterval:[794,795]},1]]]]]]],["param",{sourceInterval:[801,802]},2]]]],bracketSyntaxInline:["define",{sourceInterval:[809,866]},null,["L","C","R"],["app",{sourceInterval:[840,866]},"centerOf",[["param",{sourceInterval:[849,850]},0],["app",{sourceInterval:[852,862]},"padWith",[["param",{sourceInterval:[860,861]},1]]],["param",{sourceInterval:[864,865]},2]]]],bracketTextInline:["define",{sourceInterval:[870,988]},null,["L","C","R"],["app",{sourceInterval:[899,988]},"centerOf",[["param",{sourceInterval:[908,909]},0],["app",{sourceInterval:[911,984]},"padWith",[["app",{sourceInterval:[919,983]},"stringify",[["plus",{sourceInterval:[929,982]},["alt",{sourceInterval:[930,980]},["app",{sourceInterval:[930,939]},"esc",[["app",{sourceInterval:[934,938]},"char",[]]]],["seq",{sourceInterval:[942,980]},["not",{sourceInterval:[942,978]},["alt",{sourceInterval:[944,977]},["app",{sourceInterval:[944,953]},"lineBreak",[]],["app",{sourceInterval:[956,977]},"startWith",[["app",{sourceInterval:[966,973]},"linePad",[]],["param",{sourceInterval:[975,976]},2]]]]],["param",{sourceInterval:[979,980]},1]]]]]]]],["param",{sourceInterval:[986,987]},2]]]],simpleBracketSyntax:["define",{sourceInterval:[994,1047]},null,["C","LR"],["app",{sourceInterval:[1023,1047]},"bracketSyntax",[["param",{sourceInterval:[1037,1039]},1],["param",{sourceInterval:[1041,1042]},0],["param",{sourceInterval:[1044,1046]},1]]]],simpleBracketText:["define",{sourceInterval:[1051,1100]},null,["C","LR"],["app",{sourceInterval:[1078,1100]},"bracketText",[["param",{sourceInterval:[1090,1092]},1],["param",{sourceInterval:[1094,1095]},0],["param",{sourceInterval:[1097,1099]},1]]]],simpleBracketSyntaxInline:["define",{sourceInterval:[1106,1171]},null,["C","LR"],["app",{sourceInterval:[1141,1171]},"bracketSyntaxInline",[["param",{sourceInterval:[1161,1163]},1],["param",{sourceInterval:[1165,1166]},0],["param",{sourceInterval:[1168,1170]},1]]]],simpleBracketTextInline:["define",{sourceInterval:[1175,1236]},null,["C","LR"],["app",{sourceInterval:[1208,1236]},"bracketTextInline",[["param",{sourceInterval:[1226,1228]},1],["param",{sourceInterval:[1230,1231]},0],["param",{sourceInterval:[1233,1235]},1]]]],sourceOf:["define",{sourceInterval:[1244,1259]},null,["T"],["param",{sourceInterval:[1258,1259]},0]],literalOf:["define",{sourceInterval:[1267,1283]},null,["T"],["param",{sourceInterval:[1282,1283]},0]],boolean:["define",{sourceInterval:[1289,1326]},"$boolean$",[],["alt",{sourceInterval:[1310,1326]},["terminal",{sourceInterval:[1310,1316]},"true"],["terminal",{sourceInterval:[1319,1326]},"false"]]],char:["define",{sourceInterval:[1332,1349]},null,[],["seq",{sourceInterval:[1339,1349]},["not",{sourceInterval:[1339,1345]},["app",{sourceInterval:[1340,1345]},"space",[]]],["app",{sourceInterval:[1346,1349]},"any",[]]]],number_fract:["define",{sourceInterval:[1379,1401]},null,[],["seq",{sourceInterval:[1379,1392]},["star",{sourceInterval:[1379,1383]},["app",{sourceInterval:[1379,1382]},"num",[]]],["terminal",{sourceInterval:[1384,1387]},"."],["plus",{sourceInterval:[1388,1392]},["app",{sourceInterval:[1388,1391]},"num",[]]]]],number_whole:["define",{sourceInterval:[1409,1422]},null,[],["plus",{sourceInterval:[1409,1413]},["app",{sourceInterval:[1409,1412]},"num",[]]]],number:["define",{sourceInterval:[1355,1422]},"$number$",[],["alt",{sourceInterval:[1379,1422]},["app",{sourceInterval:[1379,1392]},"number_fract",[]],["app",{sourceInterval:[1409,1413]},"number_whole",[]]]],sign_apply:["define",{sourceInterval:[1453,1474]},null,["T"],["app",{sourceInterval:[1453,1465]},"stringify",[["param",{sourceInterval:[1463,1464]},0]]]],sign_signed:["define",{sourceInterval:[1482,1516]},null,["T"],["seq",{sourceInterval:[1482,1506]},["alt",{sourceInterval:[1483,1492]},["terminal",{sourceInterval:[1483,1486]},"-"],["terminal",{sourceInterval:[1489,1492]},"+"]],["app",{sourceInterval:[1494,1506]},"stringify",[["param",{sourceInterval:[1504,1505]},0]]]]],sign:["define",{sourceInterval:[1428,1516]},"$number$",["T"],["alt",{sourceInterval:[1453,1516]},["app",{sourceInterval:[1453,1465]},"sign_apply",[["param",{},0]]],["app",{sourceInterval:[1482,1506]},"sign_signed",[["param",{},0]]]]],num:["define",{sourceInterval:[1524,1542]},"$num$",[],["app",{sourceInterval:[1537,1542]},"digit",[]]],internalEscape:["define",{sourceInterval:[1548,1618]},null,[],["alt",{sourceInterval:[1565,1618]},["terminal",{sourceInterval:[1565,1568]},"'"],["terminal",{sourceInterval:[1571,1575]},'"'],["terminal",{sourceInterval:[1578,1582]},"\\"],["terminal",{sourceInterval:[1585,1588]},"b"],["terminal",{sourceInterval:[1591,1594]},"f"],["terminal",{sourceInterval:[1597,1600]},"n"],["terminal",{sourceInterval:[1603,1606]},"r"],["terminal",{sourceInterval:[1609,1612]},"t"],["terminal",{sourceInterval:[1615,1618]},"v"]]],esc:["define",{sourceInterval:[1624,1659]},null,["T"],["app",{sourceInterval:[1633,1659]},"startWith",[["lookahead",{sourceInterval:[1643,1648]},["terminal",{sourceInterval:[1644,1648]},"\\"]],["app",{sourceInterval:[1650,1658]},"oresc",[["param",{sourceInterval:[1656,1657]},0]]]]]],noesc:["define",{sourceInterval:[1663,1684]},null,["T"],["seq",{sourceInterval:[1674,1684]},["not",{sourceInterval:[1674,1682]},["lookahead",{sourceInterval:[1676,1681]},["terminal",{sourceInterval:[1677,1681]},"\\"]]],["param",{sourceInterval:[1683,1684]},0]]],oresc:["define",{sourceInterval:[1688,1706]},null,["T"],["seq",{sourceInterval:[1699,1706]},["opt",{sourceInterval:[1699,1704]},["terminal",{sourceInterval:[1699,1703]},"\\"]],["param",{sourceInterval:[1705,1706]},0]]],escWith:["define",{sourceInterval:[1710,1742]},null,["T"],["app",{sourceInterval:[1723,1742]},"strictEscWith",[["param",{sourceInterval:[1737,1738]},0],["param",{sourceInterval:[1740,1741]},0]]]],strictEscWith:["define",{sourceInterval:[1746,1844]},null,["Escaped","NonEscaped"],["alt",{sourceInterval:[1783,1844]},["app",{sourceInterval:[1783,1826]},"esc",[["alt",{sourceInterval:[1787,1825]},["app",{sourceInterval:[1788,1802]},"internalEscape",[]],["terminal",{sourceInterval:[1805,1808]},"x"],["terminal",{sourceInterval:[1811,1814]},"u"],["param",{sourceInterval:[1817,1824]},0]]]],["seq",{sourceInterval:[1829,1844]},["not",{sourceInterval:[1829,1840]},["param",{sourceInterval:[1830,1840]},1]],["app",{sourceInterval:[1841,1844]},"any",[]]]]],ignore:["define",{sourceInterval:[1850,1863]},null,["T"],["param",{sourceInterval:[1862,1863]},0]],single:["define",{sourceInterval:[1871,1905]},null,["T"],["app",{sourceInterval:[1883,1905]},"endWith",[["param",{sourceInterval:[1891,1892]},0],["lookahead",{sourceInterval:[1894,1904]},["seq",{sourceInterval:[1896,1903]},["not",{sourceInterval:[1896,1898]},["param",{sourceInterval:[1897,1898]},0]],["opt",{sourceInterval:[1899,1903]},["app",{sourceInterval:[1899,1902]},"any",[]]]]]]]],dobule:["define",{sourceInterval:[1909,1938]},null,["T"],["app",{sourceInterval:[1921,1938]},"join",[["app",{sourceInterval:[1926,1934]},"noesc",[["param",{sourceInterval:[1932,1933]},0]]],["param",{sourceInterval:[1936,1937]},0]]]],tokenOf:["define",{sourceInterval:[1944,1973]},null,["T"],["app",{sourceInterval:[1957,1973]},"single",[["app",{sourceInterval:[1964,1972]},"noesc",[["param",{sourceInterval:[1970,1971]},0]]]]]],dobuleTokenOf:["define",{sourceInterval:[1977,2021]},null,["T"],["app",{sourceInterval:[1996,2021]},"join",[["app",{sourceInterval:[2001,2009]},"noesc",[["param",{sourceInterval:[2007,2008]},0]]],["app",{sourceInterval:[2011,2020]},"single",[["param",{sourceInterval:[2018,2019]},0]]]]]],parenL:["define",{sourceInterval:[2027,2039]},null,[],["terminal",{sourceInterval:[2036,2039]},"("]],parenR:["define",{sourceInterval:[2043,2055]},null,[],["terminal",{sourceInterval:[2052,2055]},")"]],bracketL:["define",{sourceInterval:[2059,2073]},null,[],["terminal",{sourceInterval:[2070,2073]},"["]],bracketR:["define",{sourceInterval:[2077,2091]},null,[],["terminal",{sourceInterval:[2088,2091]},"]"]]}]),se.Base=ae.makeRecipe(["grammar",{source:'Base <: Super {\r\n\r\n  literal($literal$) = percet | literalOf<(string | number | boolean | null)> \r\n\r\n  number += sign<hex>   -- sign\r\n    | sign<number_fract> -- double\r\n    | sign<number_whole> -- int\r\n\r\n  hex($hexNumber$) = "0x" ("a".."f" | "A".."F" | num)+\r\n\r\n  string\r\n    = simpleBracketSyntaxInline<stringify<strictEscWith<char, "\\"">*>, "\\""> -- doubleQuote\r\n    | simpleBracketSyntaxInline<stringify<strictEscWith<char, "\\\'">*>, "\\\'"> -- singleQuote\r\n  \r\n  // escapeCharacter = internalEscape | "x" | "u" | ~(alnum|space)any\r\n  \r\n  percet = (number_double | number_int) "%" ~(literal | variableName)\r\n\r\n  variableName($variableName$) = stringify<(variableNamePrefix?)> identifier\r\n  variableNamePrefix($variableNamePrefix$) = "$" | "%"\r\n\r\n  identifier = ~invalidIdentifier(validIdentifierPrefixChar ~invalidIdentifierChar (validIdentifierChar)*)\r\n  invalidIdentifier($invalidIdentifier$) = boolean | number | null\r\n\r\n  validIdentifierChar($validIdentifierChar$[:alnum: | "_" | "$"]) = alnum | "_" | "$"\r\n  invalidIdentifierChar($invalidIdentifierChar$["#" | "@" | ...$spicalChar$]) = "#" | "@"\r\n  validIdentifierPrefixChar($validIdentifierPrefixChar$) =  ~(variableNamePrefix)(letter | "_")\r\n\r\n  op = op_comma | op_logic | op_orNull | op_eq | op_rel | op_add | op_mul | op_pow | op_invert\r\n  op_comma = ","\r\n  op_logic = "&&" | "||"\r\n  op_orNull = "??"\r\n  op_eq = "==" | "!="\r\n  op_rel = "<=" | "<" | ">=" | ">"\r\n  op_add = "-" | "+"\r\n  op_mul = "%" | "/" | "*"\r\n  op_pow = "^"\r\n  op_invert = "!"\r\n\r\n}'},"Base",se.Super,"Main",{literal:["define",{sourceInterval:[21,96]},"$literal$",[],["alt",{sourceInterval:[42,96]},["app",{sourceInterval:[42,48]},"percet",[]],["app",{sourceInterval:[51,96]},"literalOf",[["alt",{sourceInterval:[61,95]},["app",{sourceInterval:[62,68]},"string",[]],["app",{sourceInterval:[71,77]},"number",[]],["app",{sourceInterval:[80,87]},"boolean",[]],["app",{sourceInterval:[90,94]},"null",[]]]]]]],number_sign:["define",{sourceInterval:[113,132]},null,[],["app",{sourceInterval:[113,122]},"sign",[["app",{sourceInterval:[118,121]},"hex",[]]]]],number_double:["define",{sourceInterval:[140,168]},null,[],["app",{sourceInterval:[140,158]},"sign",[["app",{sourceInterval:[145,157]},"number_fract",[]]]]],number_int:["define",{sourceInterval:[176,201]},null,[],["app",{sourceInterval:[176,194]},"sign",[["app",{sourceInterval:[181,193]},"number_whole",[]]]]],number:["extend",{sourceInterval:[103,201]},null,[],["alt",{sourceInterval:[113,201]},["app",{sourceInterval:[113,122]},"number_sign",[]],["app",{sourceInterval:[140,158]},"number_double",[]],["app",{sourceInterval:[176,194]},"number_int",[]]]],hex:["define",{sourceInterval:[207,259]},"$hexNumber$",[],["seq",{sourceInterval:[226,259]},["terminal",{sourceInterval:[226,230]},"0x"],["plus",{sourceInterval:[231,259]},["alt",{sourceInterval:[232,257]},["range",{sourceInterval:[232,240]},"a","f"],["range",{sourceInterval:[243,251]},"A","F"],["app",{sourceInterval:[254,257]},"num",[]]]]]],string_doubleQuote:["define",{sourceInterval:[279,364]},null,[],["app",{sourceInterval:[279,349]},"simpleBracketSyntaxInline",[["app",{sourceInterval:[305,342]},"stringify",[["star",{sourceInterval:[315,341]},["app",{sourceInterval:[315,340]},"strictEscWith",[["app",{sourceInterval:[329,333]},"char",[]],["terminal",{sourceInterval:[335,339]},'"']]]]]],["terminal",{sourceInterval:[344,348]},'"']]]],string_singleQuote:["define",{sourceInterval:[372,457]},null,[],["app",{sourceInterval:[372,442]},"simpleBracketSyntaxInline",[["app",{sourceInterval:[398,435]},"stringify",[["star",{sourceInterval:[408,434]},["app",{sourceInterval:[408,433]},"strictEscWith",[["app",{sourceInterval:[422,426]},"char",[]],["terminal",{sourceInterval:[428,432]},"'"]]]]]],["terminal",{sourceInterval:[437,441]},"'"]]]],string:["define",{sourceInterval:[265,457]},null,[],["alt",{sourceInterval:[279,457]},["app",{sourceInterval:[279,349]},"string_doubleQuote",[]],["app",{sourceInterval:[372,442]},"string_singleQuote",[]]]],percet:["define",{sourceInterval:[540,607]},null,[],["seq",{sourceInterval:[549,607]},["alt",{sourceInterval:[550,576]},["app",{sourceInterval:[550,563]},"number_double",[]],["app",{sourceInterval:[566,576]},"number_int",[]]],["terminal",{sourceInterval:[578,581]},"%"],["not",{sourceInterval:[582,607]},["alt",{sourceInterval:[584,606]},["app",{sourceInterval:[584,591]},"literal",[]],["app",{sourceInterval:[594,606]},"variableName",[]]]]]],variableName:["define",{sourceInterval:[613,687]},"$variableName$",[],["seq",{sourceInterval:[644,687]},["app",{sourceInterval:[644,676]},"stringify",[["opt",{sourceInterval:[654,675]},["app",{sourceInterval:[655,673]},"variableNamePrefix",[]]]]],["app",{sourceInterval:[677,687]},"identifier",[]]]],variableNamePrefix:["define",{sourceInterval:[691,743]},"$variableNamePrefix$",[],["alt",{sourceInterval:[734,743]},["terminal",{sourceInterval:[734,737]},"$"],["terminal",{sourceInterval:[740,743]},"%"]]],identifier:["define",{sourceInterval:[749,853]},null,[],["seq",{sourceInterval:[762,853]},["not",{sourceInterval:[762,780]},["app",{sourceInterval:[763,780]},"invalidIdentifier",[]]],["app",{sourceInterval:[781,806]},"validIdentifierPrefixChar",[]],["not",{sourceInterval:[807,829]},["app",{sourceInterval:[808,829]},"invalidIdentifierChar",[]]],["star",{sourceInterval:[830,852]},["app",{sourceInterval:[831,850]},"validIdentifierChar",[]]]]],invalidIdentifier:["define",{sourceInterval:[857,921]},"$invalidIdentifier$",[],["alt",{sourceInterval:[898,921]},["app",{sourceInterval:[898,905]},"boolean",[]],["app",{sourceInterval:[908,914]},"number",[]],["app",{sourceInterval:[917,921]},"null",[]]]],validIdentifierChar:["define",{sourceInterval:[927,1010]},'$validIdentifierChar$[:alnum: | "_" | "$"]',[],["alt",{sourceInterval:[993,1010]},["app",{sourceInterval:[993,998]},"alnum",[]],["terminal",{sourceInterval:[1001,1004]},"_"],["terminal",{sourceInterval:[1007,1010]},"$"]]],invalidIdentifierChar:["define",{sourceInterval:[1014,1101]},'$invalidIdentifierChar$["#" | "@" | ...$spicalChar$]',[],["alt",{sourceInterval:[1092,1101]},["terminal",{sourceInterval:[1092,1095]},"#"],["terminal",{sourceInterval:[1098,1101]},"@"]]],validIdentifierPrefixChar:["define",{sourceInterval:[1105,1198]},"$validIdentifierPrefixChar$",[],["seq",{sourceInterval:[1163,1198]},["not",{sourceInterval:[1163,1184]},["app",{sourceInterval:[1165,1183]},"variableNamePrefix",[]]],["alt",{sourceInterval:[1185,1197]},["app",{sourceInterval:[1185,1191]},"letter",[]],["terminal",{sourceInterval:[1194,1197]},"_"]]]],op:["define",{sourceInterval:[1204,1296]},null,[],["alt",{sourceInterval:[1209,1296]},["app",{sourceInterval:[1209,1217]},"op_comma",[]],["app",{sourceInterval:[1220,1228]},"op_logic",[]],["app",{sourceInterval:[1231,1240]},"op_orNull",[]],["app",{sourceInterval:[1243,1248]},"op_eq",[]],["app",{sourceInterval:[1251,1257]},"op_rel",[]],["app",{sourceInterval:[1260,1266]},"op_add",[]],["app",{sourceInterval:[1269,1275]},"op_mul",[]],["app",{sourceInterval:[1278,1284]},"op_pow",[]],["app",{sourceInterval:[1287,1296]},"op_invert",[]]]],op_comma:["define",{sourceInterval:[1300,1314]},null,[],["terminal",{sourceInterval:[1311,1314]},","]],op_logic:["define",{sourceInterval:[1318,1340]},null,[],["alt",{sourceInterval:[1329,1340]},["terminal",{sourceInterval:[1329,1333]},"&&"],["terminal",{sourceInterval:[1336,1340]},"||"]]],op_orNull:["define",{sourceInterval:[1344,1360]},null,[],["terminal",{sourceInterval:[1356,1360]},"??"]],op_eq:["define",{sourceInterval:[1364,1383]},null,[],["alt",{sourceInterval:[1372,1383]},["terminal",{sourceInterval:[1372,1376]},"=="],["terminal",{sourceInterval:[1379,1383]},"!="]]],op_rel:["define",{sourceInterval:[1387,1419]},null,[],["alt",{sourceInterval:[1396,1419]},["terminal",{sourceInterval:[1396,1400]},"<="],["terminal",{sourceInterval:[1403,1406]},"<"],["terminal",{sourceInterval:[1409,1413]},">="],["terminal",{sourceInterval:[1416,1419]},">"]]],op_add:["define",{sourceInterval:[1423,1441]},null,[],["alt",{sourceInterval:[1432,1441]},["terminal",{sourceInterval:[1432,1435]},"-"],["terminal",{sourceInterval:[1438,1441]},"+"]]],op_mul:["define",{sourceInterval:[1445,1469]},null,[],["alt",{sourceInterval:[1454,1469]},["terminal",{sourceInterval:[1454,1457]},"%"],["terminal",{sourceInterval:[1460,1463]},"/"],["terminal",{sourceInterval:[1466,1469]},"*"]]],op_pow:["define",{sourceInterval:[1473,1485]},null,[],["terminal",{sourceInterval:[1482,1485]},"^"]],op_invert:["define",{sourceInterval:[1489,1504]},null,[],["terminal",{sourceInterval:[1501,1504]},"!"]]}]),se.AdvScript=ae.makeRecipe(["grammar",{source:'AdvScript <: Base {\r\n  Main := Statement\r\n\r\n  Statement\r\n    = macroBegin Macro_Call optional<(Macro_Pipe | #pipeFlag)> (exprEnd | End) -- Macro\r\n    | Template End -- Inline\r\n    | Macro_Pipe (exprEnd | End) -- Pipe\r\n    | #pipeFlag (exprEnd | End) -- AnonymousPipe\r\n    | Exp (exprEnd | End) -- Exp\r\n    | End\r\n\r\n  macroBegin($macroBegin$) = "@"\r\n  tmplBegin($tmplBegin$) = "{{"\r\n  tmplEnd($tmplEnd$) = "}}"\r\n\r\n  Template = tmplBegin Exp optional<(Macro_Pipe | #pipeFlag)> tmplEnd\r\n\r\n  Macro_Call = (CallExpression | Macro_Call_Expr)\r\n  Macro_Pipe\r\n    = pipeFlag Macro_Call -- Call\r\n    | pipeFlag pipeExprBegin Exp -- Expr\r\n\r\n  pipeFlag($pipeFlag$) = token_split\r\n  pipeExprBegin($pipeExprBegin$) = "="\r\n\r\n  Macro_Call_Expr = #identifier optional<Params>\r\n\r\n  Params \r\n    = Param (#space | ",") Params -- multiple\r\n    | Param  ";"*                      -- single\r\n\r\n  Param = identifier "=" TopExp    -- setValue\r\n    | identifier                   -- setFlag\r\n\r\n  Array($Array$)= "[" ArrayElements "]"\r\n  ArraySpread($ArraySpread$) = SpreadExp_spread\r\n\r\n  ArrayElements($ArrayElements$) = ListOf<TopExp, ",">\r\n\r\n  CallExpression($CallExpression$) = #identifier "(" ListOf<TopExp, ","> ")"\r\n\r\n  Exp\r\n    = Exp op_comma Exp -- Comma\r\n    | TopExp\r\n\r\n  TopExp\r\n    = SpreadExp_spread -- ArraySpread\r\n    | #variableName "=" TopExp -- assign\r\n    | LogicExp\r\n\r\n  CatchOrNullExp($CatchOrNullExp$) = ~LogicExp_logic RelationExp\r\n  CatchOrNullExp2($CatchOrNullExp$) = ~OrNullExp_or LogicExp\r\n\r\n  LogicExp\r\n    = LogicExp op_logic CatchOrNullExp2  -- logic\r\n    | OrNullExp\r\n\r\n  OrNullExp\r\n    = OrNullExp op_orNull CatchOrNullExp  -- or\r\n    | EqualExp\r\n\r\n  EqualExp\r\n    = EqualExp op_eq EqualExp  -- eq\r\n    | RelationExp\r\n\r\n  RelationExp\r\n    = RelationExp op_rel RelationExp     -- rel\r\n    | SpreadExp\r\n\r\n  SpreadExp\r\n    = SpreadExp op_spread SpreadExp  -- spread\r\n    | AddExp\r\n\r\n  AddExp\r\n    = AddExp op_add MulExp  -- add\r\n    | MulExp\r\n\r\n  MulExp\r\n    = MulExp op_mul ExpExp  -- mul\r\n    | ExpExp\r\n\r\n  ExpExp\r\n    = PriExp op_pow ExpExp  -- pow\r\n    | IncrementExp\r\n    | op_invert PriExp -- invert\r\n    | ~number (op_add PriExp)   -- sign\r\n    | PriExp\r\n\r\n  IncrementExp($Exp$)\r\n    = #variableName op_increment -- after\r\n    | op_increment #variableName -- before\r\n\r\n  PriExp($Exp$) \r\n    = "(" Exp ")" -- paren // parenthesis\r\n    | CallExpression \r\n    | Array\r\n    | variableName\r\n    | literal\r\n  \r\n  op += op_increment | op_spread\r\n  op_increment = "--" | "++"\r\n  op_spread = "..."\r\n\r\n  token_split = "|"\r\n}'},"AdvScript",se.Base,"Main",{Main:["override",{sourceInterval:[23,40]},null,[],["app",{sourceInterval:[31,40]},"Statement",[]]],Statement_Macro:["define",{sourceInterval:[63,144]},null,[],["seq",{sourceInterval:[63,135]},["app",{sourceInterval:[63,73]},"macroBegin",[]],["app",{sourceInterval:[74,84]},"Macro_Call",[]],["app",{sourceInterval:[85,119]},"optional",[["alt",{sourceInterval:[94,118]},["app",{sourceInterval:[95,105]},"Macro_Pipe",[]],["lex",{sourceInterval:[108,117]},["app",{sourceInterval:[109,117]},"pipeFlag",[]]]]]],["alt",{sourceInterval:[121,134]},["app",{sourceInterval:[121,128]},"exprEnd",[]],["app",{sourceInterval:[131,134]},"End",[]]]]],Statement_Inline:["define",{sourceInterval:[152,174]},null,[],["seq",{sourceInterval:[152,164]},["app",{sourceInterval:[152,160]},"Template",[]],["app",{sourceInterval:[161,164]},"End",[]]]],Statement_Pipe:["define",{sourceInterval:[182,216]},null,[],["seq",{sourceInterval:[182,208]},["app",{sourceInterval:[182,192]},"Macro_Pipe",[]],["alt",{sourceInterval:[194,207]},["app",{sourceInterval:[194,201]},"exprEnd",[]],["app",{sourceInterval:[204,207]},"End",[]]]]],Statement_AnonymousPipe:["define",{sourceInterval:[224,266]},null,[],["seq",{sourceInterval:[224,249]},["lex",{sourceInterval:[224,233]},["app",{sourceInterval:[225,233]},"pipeFlag",[]]],["alt",{sourceInterval:[235,248]},["app",{sourceInterval:[235,242]},"exprEnd",[]],["app",{sourceInterval:[245,248]},"End",[]]]]],Statement_Exp:["define",{sourceInterval:[274,300]},null,[],["seq",{sourceInterval:[274,293]},["app",{sourceInterval:[274,277]},"Exp",[]],["alt",{sourceInterval:[279,292]},["app",{sourceInterval:[279,286]},"exprEnd",[]],["app",{sourceInterval:[289,292]},"End",[]]]]],Statement:["define",{sourceInterval:[46,311]},null,[],["alt",{sourceInterval:[63,311]},["app",{sourceInterval:[63,135]},"Statement_Macro",[]],["app",{sourceInterval:[152,164]},"Statement_Inline",[]],["app",{sourceInterval:[182,208]},"Statement_Pipe",[]],["app",{sourceInterval:[224,249]},"Statement_AnonymousPipe",[]],["app",{sourceInterval:[274,293]},"Statement_Exp",[]],["app",{sourceInterval:[308,311]},"End",[]]]],macroBegin:["define",{sourceInterval:[317,347]},"$macroBegin$",[],["terminal",{sourceInterval:[344,347]},"@"]],tmplBegin:["define",{sourceInterval:[351,380]},"$tmplBegin$",[],["terminal",{sourceInterval:[376,380]},"{{"]],tmplEnd:["define",{sourceInterval:[384,409]},"$tmplEnd$",[],["terminal",{sourceInterval:[405,409]},"}}"]],Template:["define",{sourceInterval:[415,482]},null,[],["seq",{sourceInterval:[426,482]},["app",{sourceInterval:[426,435]},"tmplBegin",[]],["app",{sourceInterval:[436,439]},"Exp",[]],["app",{sourceInterval:[440,474]},"optional",[["alt",{sourceInterval:[449,473]},["app",{sourceInterval:[450,460]},"Macro_Pipe",[]],["lex",{sourceInterval:[463,472]},["app",{sourceInterval:[464,472]},"pipeFlag",[]]]]]],["app",{sourceInterval:[475,482]},"tmplEnd",[]]]],Macro_Call:["define",{sourceInterval:[488,535]},null,[],["alt",{sourceInterval:[501,535]},["app",{sourceInterval:[502,516]},"CallExpression",[]],["app",{sourceInterval:[519,534]},"Macro_Call_Expr",[]]]],Macro_Pipe_Call:["define",{sourceInterval:[557,584]},null,[],["seq",{sourceInterval:[557,576]},["app",{sourceInterval:[557,565]},"pipeFlag",[]],["app",{sourceInterval:[566,576]},"Macro_Call",[]]]],Macro_Pipe_Expr:["define",{sourceInterval:[592,626]},null,[],["seq",{sourceInterval:[592,618]},["app",{sourceInterval:[592,600]},"pipeFlag",[]],["app",{sourceInterval:[601,614]},"pipeExprBegin",[]],["app",{sourceInterval:[615,618]},"Exp",[]]]],Macro_Pipe:["define",{sourceInterval:[539,626]},null,[],["alt",{sourceInterval:[557,626]},["app",{sourceInterval:[557,576]},"Macro_Pipe_Call",[]],["app",{sourceInterval:[592,618]},"Macro_Pipe_Expr",[]]]],pipeFlag:["define",{sourceInterval:[632,666]},"$pipeFlag$",[],["app",{sourceInterval:[655,666]},"token_split",[]]],pipeExprBegin:["define",{sourceInterval:[670,706]},"$pipeExprBegin$",[],["terminal",{sourceInterval:[703,706]},"="]],Macro_Call_Expr:["define",{sourceInterval:[712,758]},null,[],["seq",{sourceInterval:[730,758]},["lex",{sourceInterval:[730,741]},["app",{sourceInterval:[731,741]},"identifier",[]]],["app",{sourceInterval:[742,758]},"optional",[["app",{sourceInterval:[751,757]},"Params",[]]]]]],Params_multiple:["define",{sourceInterval:[779,818]},null,[],["seq",{sourceInterval:[779,806]},["app",{sourceInterval:[779,784]},"Param",[]],["alt",{sourceInterval:[786,798]},["lex",{sourceInterval:[786,792]},["app",{sourceInterval:[787,792]},"space",[]]],["terminal",{sourceInterval:[795,798]},","]],["app",{sourceInterval:[800,806]},"Params",[]]]],Params_single:["define",{sourceInterval:[826,868]},null,[],["seq",{sourceInterval:[826,837]},["app",{sourceInterval:[826,831]},"Param",[]],["star",{sourceInterval:[833,837]},["terminal",{sourceInterval:[833,836]},";"]]]],Params:["define",{sourceInterval:[764,868]},null,[],["alt",{sourceInterval:[779,868]},["app",{sourceInterval:[779,806]},"Params_multiple",[]],["app",{sourceInterval:[826,837]},"Params_single",[]]]],Param_setValue:["define",{sourceInterval:[882,918]},null,[],["seq",{sourceInterval:[882,903]},["app",{sourceInterval:[882,892]},"identifier",[]],["terminal",{sourceInterval:[893,896]},"="],["app",{sourceInterval:[897,903]},"TopExp",[]]]],Param_setFlag:["define",{sourceInterval:[926,965]},null,[],["app",{sourceInterval:[926,936]},"identifier",[]]],Param:["define",{sourceInterval:[874,965]},null,[],["alt",{sourceInterval:[882,965]},["app",{sourceInterval:[882,903]},"Param_setValue",[]],["app",{sourceInterval:[926,936]},"Param_setFlag",[]]]],Array:["define",{sourceInterval:[971,1008]},"$Array$",[],["seq",{sourceInterval:[987,1008]},["terminal",{sourceInterval:[987,990]},"["],["app",{sourceInterval:[991,1004]},"ArrayElements",[]],["terminal",{sourceInterval:[1005,1008]},"]"]]],ArraySpread:["define",{sourceInterval:[1012,1057]},"$ArraySpread$",[],["app",{sourceInterval:[1041,1057]},"SpreadExp_spread",[]]],ArrayElements:["define",{sourceInterval:[1063,1115]},"$ArrayElements$",[],["app",{sourceInterval:[1096,1115]},"ListOf",[["app",{sourceInterval:[1103,1109]},"TopExp",[]],["terminal",{sourceInterval:[1111,1114]},","]]]],CallExpression:["define",{sourceInterval:[1121,1195]},"$CallExpression$",[],["seq",{sourceInterval:[1156,1195]},["lex",{sourceInterval:[1156,1167]},["app",{sourceInterval:[1157,1167]},"identifier",[]]],["terminal",{sourceInterval:[1168,1171]},"("],["app",{sourceInterval:[1172,1191]},"ListOf",[["app",{sourceInterval:[1179,1185]},"TopExp",[]],["terminal",{sourceInterval:[1187,1190]},","]]],["terminal",{sourceInterval:[1192,1195]},")"]]],Exp_Comma:["define",{sourceInterval:[1212,1237]},null,[],["seq",{sourceInterval:[1212,1228]},["app",{sourceInterval:[1212,1215]},"Exp",[]],["app",{sourceInterval:[1216,1224]},"op_comma",[]],["app",{sourceInterval:[1225,1228]},"Exp",[]]]],Exp:["define",{sourceInterval:[1201,1251]},null,[],["alt",{sourceInterval:[1212,1251]},["app",{sourceInterval:[1212,1228]},"Exp_Comma",[]],["app",{sourceInterval:[1245,1251]},"TopExp",[]]]],TopExp_ArraySpread:["define",{sourceInterval:[1271,1302]},null,[],["app",{sourceInterval:[1271,1287]},"SpreadExp_spread",[]]],TopExp_assign:["define",{sourceInterval:[1310,1344]},null,[],["seq",{sourceInterval:[1310,1334]},["lex",{sourceInterval:[1310,1323]},["app",{sourceInterval:[1311,1323]},"variableName",[]]],["terminal",{sourceInterval:[1324,1327]},"="],["app",{sourceInterval:[1328,1334]},"TopExp",[]]]],TopExp:["define",{sourceInterval:[1257,1360]},null,[],["alt",{sourceInterval:[1271,1360]},["app",{sourceInterval:[1271,1287]},"TopExp_ArraySpread",[]],["app",{sourceInterval:[1310,1334]},"TopExp_assign",[]],["app",{sourceInterval:[1352,1360]},"LogicExp",[]]]],CatchOrNullExp:["define",{sourceInterval:[1366,1428]},"$CatchOrNullExp$",[],["seq",{sourceInterval:[1401,1428]},["not",{sourceInterval:[1401,1416]},["app",{sourceInterval:[1402,1416]},"LogicExp_logic",[]]],["app",{sourceInterval:[1417,1428]},"RelationExp",[]]]],CatchOrNullExp2:["define",{sourceInterval:[1432,1490]},"$CatchOrNullExp$",[],["seq",{sourceInterval:[1468,1490]},["not",{sourceInterval:[1468,1481]},["app",{sourceInterval:[1469,1481]},"OrNullExp_or",[]]],["app",{sourceInterval:[1482,1490]},"LogicExp",[]]]],LogicExp_logic:["define",{sourceInterval:[1512,1555]},null,[],["seq",{sourceInterval:[1512,1545]},["app",{sourceInterval:[1512,1520]},"LogicExp",[]],["app",{sourceInterval:[1521,1529]},"op_logic",[]],["app",{sourceInterval:[1530,1545]},"CatchOrNullExp2",[]]]],LogicExp:["define",{sourceInterval:[1496,1572]},null,[],["alt",{sourceInterval:[1512,1572]},["app",{sourceInterval:[1512,1545]},"LogicExp_logic",[]],["app",{sourceInterval:[1563,1572]},"OrNullExp",[]]]],OrNullExp_or:["define",{sourceInterval:[1595,1636]},null,[],["seq",{sourceInterval:[1595,1629]},["app",{sourceInterval:[1595,1604]},"OrNullExp",[]],["app",{sourceInterval:[1605,1614]},"op_orNull",[]],["app",{sourceInterval:[1615,1629]},"CatchOrNullExp",[]]]],OrNullExp:["define",{sourceInterval:[1578,1652]},null,[],["alt",{sourceInterval:[1595,1652]},["app",{sourceInterval:[1595,1629]},"OrNullExp_or",[]],["app",{sourceInterval:[1644,1652]},"EqualExp",[]]]],EqualExp_eq:["define",{sourceInterval:[1674,1704]},null,[],["seq",{sourceInterval:[1674,1697]},["app",{sourceInterval:[1674,1682]},"EqualExp",[]],["app",{sourceInterval:[1683,1688]},"op_eq",[]],["app",{sourceInterval:[1689,1697]},"EqualExp",[]]]],EqualExp:["define",{sourceInterval:[1658,1723]},null,[],["alt",{sourceInterval:[1674,1723]},["app",{sourceInterval:[1674,1697]},"EqualExp_eq",[]],["app",{sourceInterval:[1712,1723]},"RelationExp",[]]]],RelationExp_rel:["define",{sourceInterval:[1748,1789]},null,[],["seq",{sourceInterval:[1748,1778]},["app",{sourceInterval:[1748,1759]},"RelationExp",[]],["app",{sourceInterval:[1760,1766]},"op_rel",[]],["app",{sourceInterval:[1767,1778]},"RelationExp",[]]]],RelationExp:["define",{sourceInterval:[1729,1806]},null,[],["alt",{sourceInterval:[1748,1806]},["app",{sourceInterval:[1748,1778]},"RelationExp_rel",[]],["app",{sourceInterval:[1797,1806]},"SpreadExp",[]]]],SpreadExp_spread:["define",{sourceInterval:[1829,1869]},null,[],["seq",{sourceInterval:[1829,1858]},["app",{sourceInterval:[1829,1838]},"SpreadExp",[]],["app",{sourceInterval:[1839,1848]},"op_spread",[]],["app",{sourceInterval:[1849,1858]},"SpreadExp",[]]]],SpreadExp:["define",{sourceInterval:[1812,1883]},null,[],["alt",{sourceInterval:[1829,1883]},["app",{sourceInterval:[1829,1858]},"SpreadExp_spread",[]],["app",{sourceInterval:[1877,1883]},"AddExp",[]]]],AddExp_add:["define",{sourceInterval:[1903,1931]},null,[],["seq",{sourceInterval:[1903,1923]},["app",{sourceInterval:[1903,1909]},"AddExp",[]],["app",{sourceInterval:[1910,1916]},"op_add",[]],["app",{sourceInterval:[1917,1923]},"MulExp",[]]]],AddExp:["define",{sourceInterval:[1889,1945]},null,[],["alt",{sourceInterval:[1903,1945]},["app",{sourceInterval:[1903,1923]},"AddExp_add",[]],["app",{sourceInterval:[1939,1945]},"MulExp",[]]]],MulExp_mul:["define",{sourceInterval:[1965,1993]},null,[],["seq",{sourceInterval:[1965,1985]},["app",{sourceInterval:[1965,1971]},"MulExp",[]],["app",{sourceInterval:[1972,1978]},"op_mul",[]],["app",{sourceInterval:[1979,1985]},"ExpExp",[]]]],MulExp:["define",{sourceInterval:[1951,2007]},null,[],["alt",{sourceInterval:[1965,2007]},["app",{sourceInterval:[1965,1985]},"MulExp_mul",[]],["app",{sourceInterval:[2001,2007]},"ExpExp",[]]]],ExpExp_pow:["define",{sourceInterval:[2027,2055]},null,[],["seq",{sourceInterval:[2027,2047]},["app",{sourceInterval:[2027,2033]},"PriExp",[]],["app",{sourceInterval:[2034,2040]},"op_pow",[]],["app",{sourceInterval:[2041,2047]},"ExpExp",[]]]],ExpExp_invert:["define",{sourceInterval:[2083,2109]},null,[],["seq",{sourceInterval:[2083,2099]},["app",{sourceInterval:[2083,2092]},"op_invert",[]],["app",{sourceInterval:[2093,2099]},"PriExp",[]]]],ExpExp_sign:["define",{sourceInterval:[2117,2150]},null,[],["seq",{sourceInterval:[2117,2140]},["not",{sourceInterval:[2117,2124]},["app",{sourceInterval:[2118,2124]},"number",[]]],["app",{sourceInterval:[2126,2132]},"op_add",[]],["app",{sourceInterval:[2133,2139]},"PriExp",[]]]],ExpExp:["define",{sourceInterval:[2013,2164]},null,[],["alt",{sourceInterval:[2027,2164]},["app",{sourceInterval:[2027,2047]},"ExpExp_pow",[]],["app",{sourceInterval:[2063,2075]},"IncrementExp",[]],["app",{sourceInterval:[2083,2099]},"ExpExp_invert",[]],["app",{sourceInterval:[2117,2140]},"ExpExp_sign",[]],["app",{sourceInterval:[2158,2164]},"PriExp",[]]]],IncrementExp_after:["define",{sourceInterval:[2197,2232]},null,[],["seq",{sourceInterval:[2197,2223]},["lex",{sourceInterval:[2197,2210]},["app",{sourceInterval:[2198,2210]},"variableName",[]]],["app",{sourceInterval:[2211,2223]},"op_increment",[]]]],IncrementExp_before:["define",{sourceInterval:[2240,2276]},null,[],["seq",{sourceInterval:[2240,2266]},["app",{sourceInterval:[2240,2252]},"op_increment",[]],["lex",{sourceInterval:[2253,2266]},["app",{sourceInterval:[2254,2266]},"variableName",[]]]]],IncrementExp:["define",{sourceInterval:[2170,2276]},"$Exp$",[],["alt",{sourceInterval:[2197,2276]},["app",{sourceInterval:[2197,2223]},"IncrementExp_after",[]],["app",{sourceInterval:[2240,2266]},"IncrementExp_before",[]]]],PriExp_paren:["define",{sourceInterval:[2304,2339]},null,[],["seq",{sourceInterval:[2304,2315]},["terminal",{sourceInterval:[2304,2307]},"("],["app",{sourceInterval:[2308,2311]},"Exp",[]],["terminal",{sourceInterval:[2312,2315]},")"]]],PriExp:["define",{sourceInterval:[2282,2410]},"$Exp$",[],["alt",{sourceInterval:[2304,2410]},["app",{sourceInterval:[2304,2315]},"PriExp_paren",[]],["app",{sourceInterval:[2347,2361]},"CallExpression",[]],["app",{sourceInterval:[2370,2375]},"Array",[]],["app",{sourceInterval:[2383,2395]},"variableName",[]],["app",{sourceInterval:[2403,2410]},"literal",[]]]],op:["extend",{sourceInterval:[2418,2448]},null,[],["alt",{sourceInterval:[2424,2448]},["app",{sourceInterval:[2424,2436]},"op_increment",[]],["app",{sourceInterval:[2439,2448]},"op_spread",[]]]],op_increment:["define",{sourceInterval:[2452,2478]},null,[],["alt",{sourceInterval:[2467,2478]},["terminal",{sourceInterval:[2467,2471]},"--"],["terminal",{sourceInterval:[2474,2478]},"++"]]],op_spread:["define",{sourceInterval:[2482,2499]},null,[],["terminal",{sourceInterval:[2494,2499]},"..."]],token_split:["define",{sourceInterval:[2505,2522]},null,[],["terminal",{sourceInterval:[2519,2522]},"|"]]}]),se.AdvFountain=ae.makeRecipe(["grammar",{source:'AdvFountain <: AdvScript {\r\n  main = statment+ | end\r\n  statment = (content | errorBoundary)\r\n\r\n  parenWith<T> = bracketSyntaxInline<parenL, T, parenR> | bracketSyntaxInline<"（", T, "）">\r\n  parenStringWith<T> = bracketTextInline<parenL, T, parenR> | bracketTextInline<"（", T, "）">\r\n\r\n  bracketWith<T> = bracketSyntaxInline<bracketL, T, bracketR> | bracketSyntaxInline<"【", T, "】">\r\n  bracketStringWith<T> = bracketTextInline<bracketL, T, bracketR> | bracketTextInline<"【", T, "】">\r\n  \r\n\r\n  stringWith<Char> = stringify<Char+>\r\n\r\n  errorBoundary \r\n    = ignoreError\r\n    | logicError\r\n    | characterError\r\n    | commandError\r\n    | actionError\r\n    | otherError\r\n\r\n  characterError = statementOf<rawOf<startWith<sToken_character, (~lineBreak any)*>>>\r\n  actionError = linesOf<action_plain>\r\n  commandError = linesOf<command>\r\n  logicError = block_logic | logicStatment\r\n  ignoreError = linesOf<(comment | ignore<&emptyLine>)>\r\n  otherError = linesOf<~textSyntax_action rawOf<(~lineBreak any)+>> -- raw\r\n\r\n  comment\r\n    = comment_inline       -- notes\r\n    | bracketTextInline<"[[", any, ("]]" | &lineBreak)>  -- inline\r\n    | startWith<startWith<"//", linePad>, stringify<endWith<escWith<lineBreak>*, &lineEnd>>> -- single\r\n    | bracketText<join<"/", "*"+>, any, join<"*"+, "/">>       -- multi\r\n\r\n  block_comment($Comment$) = groupUntil<comment, &ignore<(logicStatment | block_command | block_textSyntax | errorBoundary)>>\r\n  groupUntil<T, UNTIL> = syntaxListOf<T, blockEndOf<UNTIL>>\r\n\r\n  content\r\n    = block_logic\r\n    | block_comment\r\n    | emptyLine -- empty\r\n    | block_command\r\n    | block_textSyntax\r\n\r\n  block_textSyntax = block_dialogue | block_action\r\n\r\n  inlineSyntax = ~command_pageBreak command | comment\r\n\r\n  contentBlockEnd = startWith<(lineOf<textSyntax_space> | lineEnd), (textSyntax_action | logicStatment)>\r\n\r\n  block_action($ActionBlock$) = contentBlockLinesOf<action_start, action_content, action_end>\r\n  action_start = ~(command_transition | command_pageBreak) action_plain\r\n  action_plain = textSyntax_action | textSyntax_space\r\n  action_content = inlineSyntax | textSyntax_action | textSyntax_space\r\n  action_end = blockEndOf<&contentBlockEnd>\r\n  \r\n  block_dialogue($CharacterBlock$) = contentBlockLinesOf<character_call, dialogue_content, dialogue_end>\r\n  character_call = padWith<character_name> (optional<character_call_macro> | optional<macro>)\r\n  character_call_macro = character_modifier optional<macro>\r\n  character_modifier = parenStringWith<any>\r\n  dialogue_action = padWith<character_call_macro>\r\n  dialogue_content = dialogue_action | inlineSyntax | leftPadWith<textSyntax_dialogue> | textSyntax_space\r\n  character_name\r\n    = join<upper, (upper|digit|"_")+> -- plain\r\n    | startWith<"@", stringify<(~(character_modifier | "\\n") any)+>> -- esc\r\n  dialogue_end = blockEndOf<&contentBlockEnd>\r\n  \r\n  block_command($CommandBlock$) = groupUntil<command, &(comment)>\r\n  command = command_transition | command_macro | command_pageBreak\r\n  command_transition($Command:Transition$) = ">" leftPadWith<stringify<escWith<("[" | lineBreak | "<")>+>> (~"<" optional<macro>)\r\n  command_macro($Command:CallMacro$) = macro\r\n  command_pageBreak($Command:PageBreak$) = "==="\r\n\r\n\r\n  sToken = \r\n    | sToken_character\r\n    | sToken_action\r\n    | sToken_lyrics\r\n  \r\n  sToken_character($sToken_character$) = "@"\r\n  sToken_action($sToken_action$) = "!"\r\n  sToken_lyrics = "~"\r\n\r\n  textSyntax = textSyntax_action | textSyntax_dialogue | textSyntax_space\r\n\r\n  textSyntax_action = startWith<~sToken_character &any, (sToken_action | sToken_lyrics)?> rightPadWith<textContent> optional<expr_pipe>\r\n\r\n  textSyntax_dialogue = sToken_lyrics? &(~sToken_action any) rightPadWith<textContent> optional<expr_pipe>\r\n  textSyntax_space = lineSpace+\r\n\r\n  emptyLine($EmptyLine$) = lineBreak+\r\n\r\n  blockEnd($blockEnd$) = linePad (lineBreak | end)\r\n  blockEndOf<T>($blockEnd$) = blockEnd | T | &logicStatment\r\n\r\n  lineOf<T> = endWith<T, lineEnd>\r\n  linesOf<T> = endWith<lineOf<T>+, emptyLine?>\r\n\r\n  syntaxListOf<Child, End> = syntaxBlockLinesOf<Child, syntaxOf<(Child | &ignore<lineSpace+>)>, End>\r\n  syntaxOf<T> = T | startWith<ignore<emptyLine+>, ~errorBoundary T>\r\n\r\n  contentLinesOf<Child, End> = contentBlockLinesOf<Child, Child, End>\r\n  // 块内语句之间可以使用\r\n  syntaxBlockLinesOf<Begin, Child, End> = syntaxBlockOf<lineOf<Begin>, lineOf<Child>, End>\r\n  contentBlockLinesOf<Begin, Child, End> = contentBlockOf<lineOf<Begin>, lineOf<Child>, End>\r\n\r\n  \r\n  syntaxBlockOf<Begin, Child, End> = Begin Child* End\r\n  contentBlockOf<Begin, Child, End> = Begin Child* End\r\n  nonemptyBlockOf<Begin, Child, End> = Begin Child+ End\r\n  nonemptyContentBlockOf<Begin, Child, End> = Begin Child+ End\r\n\r\n  statmentBreak($StatmentBreak$) = (block_comment | emptyLine)\r\n  startStatmentOf<T> = bracketSyntaxInline<&(statmentBreak*), T, statmentBreak+>\r\n  statementOf<T> = bracketSyntaxInline<&(statmentBreak*), startWith<linePad, T>, (statmentBreak+ | end)>\r\n\r\n  textContent = styled_centered<(centeredContent | escToken)+> -- centered\r\n    | withText<(textPiece | escToken)+> -- plain\r\n\r\n  // textSyntax_paren<Content> \r\n\r\n  styled_centered<T> = centeredL T centeredR\r\n  centeredL = rightPadWith<">">\r\n  centeredR = leftPadWith<"<">\r\n\r\n  centeredContent = styled<centeredContent> \r\n    | template\r\n    | plainTextUntil<(plainText_until | centeredR)>\r\n  \r\n  withText<T> = T\r\n  textPiece\r\n   = styled<textPiece> -- styled\r\n    | template\r\n    | plainText\r\n\r\n  escToken = oresc<~token_split char>\r\n\r\n  // fountain中的强调（Emphasis）语法\r\n  styled<T>($Emphasis$) =\r\n    | "**" withText<(~(styled_bold<T>) T)+> "**" -- bold\r\n    | "*" withText<(~(styled_italic<T>) T)+> "*" -- italic\r\n    | "_" withText<(~(styled_underline<T>) T)+> "_" -- underline\r\n\r\n  plainText_until = comment | template | macro | token_split | lineEnd | "_" | "*"\r\n  plainText($plainText$) = plainTextUntil<plainText_until>\r\n  plainTextUntil<Until> = rawOf<strictEscWith<char, (Until | lineBreak)>+> // app\r\n  rawOf<T> = stringify<T>\r\n\r\n  expr($Expr$)\r\n    = expr_template\r\n    | expr_logic\r\n    | expr_auto\r\n    | expr_pipe\r\n\r\n  expr_template = embbedExprUntil<"}}">\r\n  expr_logic = embbedExprUntil<lineBreak>\r\n  expr_auto = embbedExprUntil<")">\r\n  expr_pipe($PipeExp$) = token_split embbedExprUntil<token_split>?\r\n\r\n  template($TemplateExp$)\r\n    = bracketSyntaxInline<tokenOf<"[">, plainTextUntil<"](">, tokenOf<"]">> bracketSyntaxInline<"(", expr_auto, ")"> -- label\r\n    | bracketSyntaxInline<"{{", optional<expr_template>, "}}"> -- native \r\n    | comment_inline\r\n    | rawOf<bracketSyntaxInline<"[", embbedExprUntil<"]">, "]">> -- macro\r\n\r\n  macro = bracketSyntaxInline<tokenOf<"[">, embbedExprUntil<"]">, tokenOf<"]">>\r\n  \r\n  // awesomeExpr($awesomeExpr$) = embbedExprUntil<("[" | "]" | "(" | ")" | "}}" | "{{")>\r\n  embbedExprUntil<Exclude>($awesomeExpr$) = stringify<(sourceOf<string> | strictEscWith<char, (Exclude | lineBreak)>)+>\r\n\r\n\r\n  block_logic($LogicStatment$)\r\n    = statementOf<logicSyntax_let>\r\n    | logic_blockIf<content>\r\n    | logic_blockForeach<content>\r\n    | logic_blockWhile<content>\r\n    // | contentBlockLinesOf<logic_block_begin, storyLine, statementOf<logic_end>>\r\n  \r\n  logicSyntax($logicSyntax$)\r\n    = ctlKey<scriptToken_var> leftPadWith<expr_logic> -- let\r\n    | ctlKey<~scriptToken_var scriptToken>\r\n  logicStatment = statementOf<padWith<logicSyntax>>\r\n\r\n  logic_blockIf<T> = statementOf<logic_if> leftPadWith<T>* (statementOf<logic_elseIf> T*)* (statementOf<logic_else> T*)? statementOf<logic_end>\r\n  logic_if = ctlKey<scriptToken_if> padWith<expr_logic>\r\n  logic_elseIf = ctlKey<scriptToken_elseif> padWith<expr_logic>\r\n  logic_else = ctlKey<scriptToken_else>\r\n\r\n  scriptToken = scriptToken_var | scriptToken_if | scriptToken_elseif | scriptToken_else | scriptToken_end | scriptToken_for | scriptToken_while\r\n\r\n  scriptToken_var = "let"\r\n  scriptToken_if = "if"\r\n  scriptToken_elseif = "elseif"\r\n  scriptToken_else = "else"\r\n  scriptToken_end = "end"\r\n  scriptToken_for = "foreach"\r\n  scriptToken_in = "in"\r\n  scriptToken_while = "while"\r\n\r\n\r\n  logic_blockForeach<T> = syntaxBlockOf<lineOf<logic_foreach>, leftPadWith<T>, statementOf<logic_end>>\r\n  logic_foreach = ctlKey<scriptToken_for> preSpaceWith<variableName> preSpaceWith<scriptToken_in> preSpaceWith<expr_logic>\r\n\r\n  logic_blockWhile<T> = syntaxBlockOf<lineOf<logic_while>, leftPadWith<T>, statementOf<logic_end>>\r\n  logic_while = ctlKey<scriptToken_while> preSpaceWith<expr_logic>\r\n\r\n  ctlKey<key> = leftPadWith<join<token_split, key>> // control statment keyword\r\n\r\n  logic_end = ctlKey<scriptToken_end>\r\n\r\n  tokens\r\n    = token*\r\n    \r\n  token\r\n    = comment \r\n    // | kwSelectorPrefix | kwSelectorPart \r\n    | valueToken \r\n    | keyword \r\n    // | instVarAccess\r\n    // | javaStyleSelector \r\n    // | binSelector \r\n    | any\r\n  valueToken = sToken\r\n  // instVarAccess\r\n  //   = "." spaces varName ~(spaces "(")\r\n  // javaStyleSelector\r\n  //   = "." spaces varName &(spaces "(")\r\n  // kwSelectorPrefix\r\n  //   = varName &(space+ expStart)\r\n  // expStart\r\n  //   = valueToken | "(" | "{"\r\n\r\n  keyword = ctlKey<scriptToken>\r\n\r\n}'},"AdvFountain",se.AdvScript,"Main",{main:["define",{sourceInterval:[30,52]},null,[],["alt",{sourceInterval:[37,52]},["plus",{sourceInterval:[37,46]},["app",{sourceInterval:[37,45]},"statment",[]]],["app",{sourceInterval:[49,52]},"end",[]]]],statment:["define",{sourceInterval:[56,92]},null,[],["alt",{sourceInterval:[67,92]},["app",{sourceInterval:[68,75]},"content",[]],["app",{sourceInterval:[78,91]},"errorBoundary",[]]]],parenWith:["define",{sourceInterval:[98,186]},null,["T"],["alt",{sourceInterval:[113,186]},["app",{sourceInterval:[113,151]},"bracketSyntaxInline",[["app",{sourceInterval:[133,139]},"parenL",[]],["param",{sourceInterval:[141,142]},0],["app",{sourceInterval:[144,150]},"parenR",[]]]],["app",{sourceInterval:[154,186]},"bracketSyntaxInline",[["terminal",{sourceInterval:[174,177]},"（"],["param",{sourceInterval:[179,180]},0],["terminal",{sourceInterval:[182,185]},"）"]]]]],parenStringWith:["define",{sourceInterval:[190,280]},null,["T"],["alt",{sourceInterval:[211,280]},["app",{sourceInterval:[211,247]},"bracketTextInline",[["app",{sourceInterval:[229,235]},"parenL",[]],["param",{sourceInterval:[237,238]},0],["app",{sourceInterval:[240,246]},"parenR",[]]]],["app",{sourceInterval:[250,280]},"bracketTextInline",[["terminal",{sourceInterval:[268,271]},"（"],["param",{sourceInterval:[273,274]},0],["terminal",{sourceInterval:[276,279]},"）"]]]]],bracketWith:["define",{sourceInterval:[286,380]},null,["T"],["alt",{sourceInterval:[303,380]},["app",{sourceInterval:[303,345]},"bracketSyntaxInline",[["app",{sourceInterval:[323,331]},"bracketL",[]],["param",{sourceInterval:[333,334]},0],["app",{sourceInterval:[336,344]},"bracketR",[]]]],["app",{sourceInterval:[348,380]},"bracketSyntaxInline",[["terminal",{sourceInterval:[368,371]},"【"],["param",{sourceInterval:[373,374]},0],["terminal",{sourceInterval:[376,379]},"】"]]]]],bracketStringWith:["define",{sourceInterval:[384,480]},null,["T"],["alt",{sourceInterval:[407,480]},["app",{sourceInterval:[407,447]},"bracketTextInline",[["app",{sourceInterval:[425,433]},"bracketL",[]],["param",{sourceInterval:[435,436]},0],["app",{sourceInterval:[438,446]},"bracketR",[]]]],["app",{sourceInterval:[450,480]},"bracketTextInline",[["terminal",{sourceInterval:[468,471]},"【"],["param",{sourceInterval:[473,474]},0],["terminal",{sourceInterval:[476,479]},"】"]]]]],stringWith:["define",{sourceInterval:[490,525]},null,["Char"],["app",{sourceInterval:[509,525]},"stringify",[["plus",{sourceInterval:[519,524]},["param",{sourceInterval:[519,523]},0]]]]],errorBoundary:["define",{sourceInterval:[531,661]},null,[],["alt",{sourceInterval:[553,661]},["app",{sourceInterval:[553,564]},"ignoreError",[]],["app",{sourceInterval:[572,582]},"logicError",[]],["app",{sourceInterval:[590,604]},"characterError",[]],["app",{sourceInterval:[612,624]},"commandError",[]],["app",{sourceInterval:[632,643]},"actionError",[]],["app",{sourceInterval:[651,661]},"otherError",[]]]],characterError:["define",{sourceInterval:[667,750]},null,[],["app",{sourceInterval:[684,750]},"statementOf",[["app",{sourceInterval:[696,749]},"rawOf",[["app",{sourceInterval:[702,748]},"startWith",[["app",{sourceInterval:[712,728]},"sToken_character",[]],["star",{sourceInterval:[730,747]},["seq",{sourceInterval:[731,745]},["not",{sourceInterval:[731,741]},["app",{sourceInterval:[732,741]},"lineBreak",[]]],["app",{sourceInterval:[742,745]},"any",[]]]]]]]]]]],actionError:["define",{sourceInterval:[754,789]},null,[],["app",{sourceInterval:[768,789]},"linesOf",[["app",{sourceInterval:[776,788]},"action_plain",[]]]]],commandError:["define",{sourceInterval:[793,824]},null,[],["app",{sourceInterval:[808,824]},"linesOf",[["app",{sourceInterval:[816,823]},"command",[]]]]],logicError:["define",{sourceInterval:[828,868]},null,[],["alt",{sourceInterval:[841,868]},["app",{sourceInterval:[841,852]},"block_logic",[]],["app",{sourceInterval:[855,868]},"logicStatment",[]]]],ignoreError:["define",{sourceInterval:[872,925]},null,[],["app",{sourceInterval:[886,925]},"linesOf",[["alt",{sourceInterval:[894,924]},["app",{sourceInterval:[895,902]},"comment",[]],["app",{sourceInterval:[905,923]},"ignore",[["lookahead",{sourceInterval:[912,922]},["app",{sourceInterval:[913,922]},"emptyLine",[]]]]]]]]],otherError_raw:["define",{sourceInterval:[942,1001]},null,[],["app",{sourceInterval:[942,994]},"linesOf",[["seq",{sourceInterval:[950,993]},["not",{sourceInterval:[950,968]},["app",{sourceInterval:[951,968]},"textSyntax_action",[]]],["app",{sourceInterval:[969,993]},"rawOf",[["plus",{sourceInterval:[975,992]},["seq",{sourceInterval:[976,990]},["not",{sourceInterval:[976,986]},["app",{sourceInterval:[977,986]},"lineBreak",[]]],["app",{sourceInterval:[987,990]},"any",[]]]]]]]]]],otherError:["define",{sourceInterval:[929,1001]},null,[],["app",{sourceInterval:[942,1001]},"otherError_raw",[]]],comment_notes:["define",{sourceInterval:[1022,1051]},null,[],["app",{sourceInterval:[1022,1036]},"comment_inline",[]]],comment_inline:["define",{sourceInterval:[1059,1119]},null,[],["app",{sourceInterval:[1059,1108]},"bracketTextInline",[["terminal",{sourceInterval:[1077,1081]},"[["],["app",{sourceInterval:[1083,1086]},"any",[]],["alt",{sourceInterval:[1088,1107]},["terminal",{sourceInterval:[1089,1093]},"]]"],["lookahead",{sourceInterval:[1096,1106]},["app",{sourceInterval:[1097,1106]},"lineBreak",[]]]]]]],comment_single:["define",{sourceInterval:[1127,1223]},null,[],["app",{sourceInterval:[1127,1213]},"startWith",[["app",{sourceInterval:[1137,1161]},"startWith",[["terminal",{sourceInterval:[1147,1151]},"//"],["app",{sourceInterval:[1153,1160]},"linePad",[]]]],["app",{sourceInterval:[1163,1212]},"stringify",[["app",{sourceInterval:[1173,1211]},"endWith",[["star",{sourceInterval:[1181,1200]},["app",{sourceInterval:[1181,1199]},"escWith",[["app",{sourceInterval:[1189,1198]},"lineBreak",[]]]]],["lookahead",{sourceInterval:[1202,1210]},["app",{sourceInterval:[1203,1210]},"lineEnd",[]]]]]]]]]],comment_multi:["define",{sourceInterval:[1231,1296]},null,[],["app",{sourceInterval:[1231,1281]},"bracketText",[["app",{sourceInterval:[1243,1258]},"join",[["terminal",{sourceInterval:[1248,1251]},"/"],["plus",{sourceInterval:[1253,1257]},["terminal",{sourceInterval:[1253,1256]},"*"]]]],["app",{sourceInterval:[1260,1263]},"any",[]],["app",{sourceInterval:[1265,1280]},"join",[["plus",{sourceInterval:[1270,1274]},["terminal",{sourceInterval:[1270,1273]},"*"]],["terminal",{sourceInterval:[1276,1279]},"/"]]]]]],comment:["define",{sourceInterval:[1007,1296]},null,[],["alt",{sourceInterval:[1022,1296]},["app",{sourceInterval:[1022,1036]},"comment_notes",[]],["app",{sourceInterval:[1059,1108]},"comment_inline",[]],["app",{sourceInterval:[1127,1213]},"comment_single",[]],["app",{sourceInterval:[1231,1281]},"comment_multi",[]]]],block_comment:["define",{sourceInterval:[1302,1425]},"$Comment$",[],["app",{sourceInterval:[1329,1425]},"groupUntil",[["app",{sourceInterval:[1340,1347]},"comment",[]],["lookahead",{sourceInterval:[1349,1424]},["app",{sourceInterval:[1350,1424]},"ignore",[["alt",{sourceInterval:[1357,1423]},["app",{sourceInterval:[1358,1371]},"logicStatment",[]],["app",{sourceInterval:[1374,1387]},"block_command",[]],["app",{sourceInterval:[1390,1406]},"block_textSyntax",[]],["app",{sourceInterval:[1409,1422]},"errorBoundary",[]]]]]]]]],groupUntil:["define",{sourceInterval:[1429,1486]},null,["T","UNTIL"],["app",{sourceInterval:[1452,1486]},"syntaxListOf",[["param",{sourceInterval:[1465,1466]},0],["app",{sourceInterval:[1468,1485]},"blockEndOf",[["param",{sourceInterval:[1479,1484]},1]]]]]],content_empty:["define",{sourceInterval:[1547,1565]},null,[],["app",{sourceInterval:[1547,1556]},"emptyLine",[]]],content:["define",{sourceInterval:[1492,1610]},null,[],["alt",{sourceInterval:[1507,1610]},["app",{sourceInterval:[1507,1518]},"block_logic",[]],["app",{sourceInterval:[1526,1539]},"block_comment",[]],["app",{sourceInterval:[1547,1556]},"content_empty",[]],["app",{sourceInterval:[1573,1586]},"block_command",[]],["app",{sourceInterval:[1594,1610]},"block_textSyntax",[]]]],block_textSyntax:["define",{sourceInterval:[1616,1664]},null,[],["alt",{sourceInterval:[1635,1664]},["app",{sourceInterval:[1635,1649]},"block_dialogue",[]],["app",{sourceInterval:[1652,1664]},"block_action",[]]]],inlineSyntax:["define",{sourceInterval:[1670,1721]},null,[],["alt",{sourceInterval:[1685,1721]},["seq",{sourceInterval:[1685,1711]},["not",{sourceInterval:[1685,1703]},["app",{sourceInterval:[1686,1703]},"command_pageBreak",[]]],["app",{sourceInterval:[1704,1711]},"command",[]]],["app",{sourceInterval:[1714,1721]},"comment",[]]]],contentBlockEnd:["define",{sourceInterval:[1727,1829]},null,[],["app",{sourceInterval:[1745,1829]},"startWith",[["alt",{sourceInterval:[1755,1791]},["app",{sourceInterval:[1756,1780]},"lineOf",[["app",{sourceInterval:[1763,1779]},"textSyntax_space",[]]]],["app",{sourceInterval:[1783,1790]},"lineEnd",[]]],["alt",{sourceInterval:[1793,1828]},["app",{sourceInterval:[1794,1811]},"textSyntax_action",[]],["app",{sourceInterval:[1814,1827]},"logicStatment",[]]]]]],block_action:["define",{sourceInterval:[1835,1926]},"$ActionBlock$",[],["app",{sourceInterval:[1865,1926]},"contentBlockLinesOf",[["app",{sourceInterval:[1885,1897]},"action_start",[]],["app",{sourceInterval:[1899,1913]},"action_content",[]],["app",{sourceInterval:[1915,1925]},"action_end",[]]]]],action_start:["define",{sourceInterval:[1930,1999]},null,[],["seq",{sourceInterval:[1945,1999]},["not",{sourceInterval:[1945,1986]},["alt",{sourceInterval:[1947,1985]},["app",{sourceInterval:[1947,1965]},"command_transition",[]],["app",{sourceInterval:[1968,1985]},"command_pageBreak",[]]]],["app",{sourceInterval:[1987,1999]},"action_plain",[]]]],action_plain:["define",{sourceInterval:[2003,2054]},null,[],["alt",{sourceInterval:[2018,2054]},["app",{sourceInterval:[2018,2035]},"textSyntax_action",[]],["app",{sourceInterval:[2038,2054]},"textSyntax_space",[]]]],action_content:["define",{sourceInterval:[2058,2126]},null,[],["alt",{sourceInterval:[2075,2126]},["app",{sourceInterval:[2075,2087]},"inlineSyntax",[]],["app",{sourceInterval:[2090,2107]},"textSyntax_action",[]],["app",{sourceInterval:[2110,2126]},"textSyntax_space",[]]]],action_end:["define",{sourceInterval:[2130,2171]},null,[],["app",{sourceInterval:[2143,2171]},"blockEndOf",[["lookahead",{sourceInterval:[2154,2170]},["app",{sourceInterval:[2155,2170]},"contentBlockEnd",[]]]]]],block_dialogue:["define",{sourceInterval:[2179,2281]},"$CharacterBlock$",[],["app",{sourceInterval:[2214,2281]},"contentBlockLinesOf",[["app",{sourceInterval:[2234,2248]},"character_call",[]],["app",{sourceInterval:[2250,2266]},"dialogue_content",[]],["app",{sourceInterval:[2268,2280]},"dialogue_end",[]]]]],character_call:["define",{sourceInterval:[2285,2376]},null,[],["seq",{sourceInterval:[2302,2376]},["app",{sourceInterval:[2302,2325]},"padWith",[["app",{sourceInterval:[2310,2324]},"character_name",[]]]],["alt",{sourceInterval:[2327,2375]},["app",{sourceInterval:[2327,2357]},"optional",[["app",{sourceInterval:[2336,2356]},"character_call_macro",[]]]],["app",{sourceInterval:[2360,2375]},"optional",[["app",{sourceInterval:[2369,2374]},"macro",[]]]]]]],character_call_macro:["define",{sourceInterval:[2380,2437]},null,[],["seq",{sourceInterval:[2403,2437]},["app",{sourceInterval:[2403,2421]},"character_modifier",[]],["app",{sourceInterval:[2422,2437]},"optional",[["app",{sourceInterval:[2431,2436]},"macro",[]]]]]],character_modifier:["define",{sourceInterval:[2441,2482]},null,[],["app",{sourceInterval:[2462,2482]},"parenStringWith",[["app",{sourceInterval:[2478,2481]},"any",[]]]]],dialogue_action:["define",{sourceInterval:[2486,2533]},null,[],["app",{sourceInterval:[2504,2533]},"padWith",[["app",{sourceInterval:[2512,2532]},"character_call_macro",[]]]]],dialogue_content:["define",{sourceInterval:[2537,2640]},null,[],["alt",{sourceInterval:[2556,2640]},["app",{sourceInterval:[2556,2571]},"dialogue_action",[]],["app",{sourceInterval:[2574,2586]},"inlineSyntax",[]],["app",{sourceInterval:[2589,2621]},"leftPadWith",[["app",{sourceInterval:[2601,2620]},"textSyntax_dialogue",[]]]],["app",{sourceInterval:[2624,2640]},"textSyntax_space",[]]]],character_name_plain:["define",{sourceInterval:[2666,2706]},null,[],["app",{sourceInterval:[2666,2697]},"join",[["app",{sourceInterval:[2671,2676]},"upper",[]],["plus",{sourceInterval:[2678,2696]},["alt",{sourceInterval:[2679,2694]},["app",{sourceInterval:[2679,2684]},"upper",[]],["app",{sourceInterval:[2685,2690]},"digit",[]],["terminal",{sourceInterval:[2691,2694]},"_"]]]]]],character_name_esc:["define",{sourceInterval:[2714,2783]},null,[],["app",{sourceInterval:[2714,2776]},"startWith",[["terminal",{sourceInterval:[2724,2727]},"@"],["app",{sourceInterval:[2729,2775]},"stringify",[["plus",{sourceInterval:[2739,2774]},["seq",{sourceInterval:[2740,2772]},["not",{sourceInterval:[2740,2768]},["alt",{sourceInterval:[2742,2767]},["app",{sourceInterval:[2742,2760]},"character_modifier",[]],["terminal",{sourceInterval:[2763,2767]},"\n"]]],["app",{sourceInterval:[2769,2772]},"any",[]]]]]]]]],character_name:["define",{sourceInterval:[2644,2783]},null,[],["alt",{sourceInterval:[2666,2783]},["app",{sourceInterval:[2666,2697]},"character_name_plain",[]],["app",{sourceInterval:[2714,2776]},"character_name_esc",[]]]],dialogue_end:["define",{sourceInterval:[2787,2830]},null,[],["app",{sourceInterval:[2802,2830]},"blockEndOf",[["lookahead",{sourceInterval:[2813,2829]},["app",{sourceInterval:[2814,2829]},"contentBlockEnd",[]]]]]],block_command:["define",{sourceInterval:[2838,2901]},"$CommandBlock$",[],["app",{sourceInterval:[2870,2901]},"groupUntil",[["app",{sourceInterval:[2881,2888]},"command",[]],["lookahead",{sourceInterval:[2890,2900]},["app",{sourceInterval:[2892,2899]},"comment",[]]]]]],command:["define",{sourceInterval:[2905,2969]},null,[],["alt",{sourceInterval:[2915,2969]},["app",{sourceInterval:[2915,2933]},"command_transition",[]],["app",{sourceInterval:[2936,2949]},"command_macro",[]],["app",{sourceInterval:[2952,2969]},"command_pageBreak",[]]]],command_transition:["define",{sourceInterval:[2973,3100]},"$Command:Transition$",[],["seq",{sourceInterval:[3016,3100]},["terminal",{sourceInterval:[3016,3019]},">"],["app",{sourceInterval:[3020,3077]},"leftPadWith",[["app",{sourceInterval:[3032,3076]},"stringify",[["plus",{sourceInterval:[3042,3075]},["app",{sourceInterval:[3042,3074]},"escWith",[["alt",{sourceInterval:[3050,3073]},["terminal",{sourceInterval:[3051,3054]},"["],["app",{sourceInterval:[3057,3066]},"lineBreak",[]],["terminal",{sourceInterval:[3069,3072]},"<"]]]]]]]]],["not",{sourceInterval:[3079,3083]},["terminal",{sourceInterval:[3080,3083]},"<"]],["app",{sourceInterval:[3084,3099]},"optional",[["app",{sourceInterval:[3093,3098]},"macro",[]]]]]],command_macro:["define",{sourceInterval:[3104,3146]},"$Command:CallMacro$",[],["app",{sourceInterval:[3141,3146]},"macro",[]]],command_pageBreak:["define",{sourceInterval:[3150,3196]},"$Command:PageBreak$",[],["terminal",{sourceInterval:[3191,3196]},"==="]],sToken:["define",{sourceInterval:[3204,3279]},null,[],["alt",{sourceInterval:[3219,3279]},["app",{sourceInterval:[3221,3237]},"sToken_character",[]],["app",{sourceInterval:[3245,3258]},"sToken_action",[]],["app",{sourceInterval:[3266,3279]},"sToken_lyrics",[]]]],sToken_character:["define",{sourceInterval:[3287,3329]},"$sToken_character$",[],["terminal",{sourceInterval:[3326,3329]},"@"]],sToken_action:["define",{sourceInterval:[3333,3369]},"$sToken_action$",[],["terminal",{sourceInterval:[3366,3369]},"!"]],sToken_lyrics:["define",{sourceInterval:[3373,3392]},null,[],["terminal",{sourceInterval:[3389,3392]},"~"]],textSyntax:["define",{sourceInterval:[3398,3469]},null,[],["alt",{sourceInterval:[3411,3469]},["app",{sourceInterval:[3411,3428]},"textSyntax_action",[]],["app",{sourceInterval:[3431,3450]},"textSyntax_dialogue",[]],["app",{sourceInterval:[3453,3469]},"textSyntax_space",[]]]],textSyntax_action:["define",{sourceInterval:[3475,3608]},null,[],["seq",{sourceInterval:[3495,3608]},["app",{sourceInterval:[3495,3562]},"startWith",[["seq",{sourceInterval:[3505,3527]},["not",{sourceInterval:[3505,3522]},["app",{sourceInterval:[3506,3522]},"sToken_character",[]]],["lookahead",{sourceInterval:[3523,3527]},["app",{sourceInterval:[3524,3527]},"any",[]]]],["opt",{sourceInterval:[3529,3561]},["alt",{sourceInterval:[3530,3559]},["app",{sourceInterval:[3530,3543]},"sToken_action",[]],["app",{sourceInterval:[3546,3559]},"sToken_lyrics",[]]]]]],["app",{sourceInterval:[3563,3588]},"rightPadWith",[["app",{sourceInterval:[3576,3587]},"textContent",[]]]],["app",{sourceInterval:[3589,3608]},"optional",[["app",{sourceInterval:[3598,3607]},"expr_pipe",[]]]]]],textSyntax_dialogue:["define",{sourceInterval:[3614,3718]},null,[],["seq",{sourceInterval:[3636,3718]},["opt",{sourceInterval:[3636,3650]},["app",{sourceInterval:[3636,3649]},"sToken_lyrics",[]]],["lookahead",{sourceInterval:[3651,3672]},["seq",{sourceInterval:[3653,3671]},["not",{sourceInterval:[3653,3667]},["app",{sourceInterval:[3654,3667]},"sToken_action",[]]],["app",{sourceInterval:[3668,3671]},"any",[]]]],["app",{sourceInterval:[3673,3698]},"rightPadWith",[["app",{sourceInterval:[3686,3697]},"textContent",[]]]],["app",{sourceInterval:[3699,3718]},"optional",[["app",{sourceInterval:[3708,3717]},"expr_pipe",[]]]]]],textSyntax_space:["define",{sourceInterval:[3722,3751]},null,[],["plus",{sourceInterval:[3741,3751]},["app",{sourceInterval:[3741,3750]},"lineSpace",[]]]],emptyLine:["define",{sourceInterval:[3757,3792]},"$EmptyLine$",[],["plus",{sourceInterval:[3782,3792]},["app",{sourceInterval:[3782,3791]},"lineBreak",[]]]],blockEnd:["define",{sourceInterval:[3798,3846]},"$blockEnd$",[],["seq",{sourceInterval:[3821,3846]},["app",{sourceInterval:[3821,3828]},"linePad",[]],["alt",{sourceInterval:[3830,3845]},["app",{sourceInterval:[3830,3839]},"lineBreak",[]],["app",{sourceInterval:[3842,3845]},"end",[]]]]],blockEndOf:["define",{sourceInterval:[3850,3907]},"$blockEnd$",["T"],["alt",{sourceInterval:[3878,3907]},["app",{sourceInterval:[3878,3886]},"blockEnd",[]],["param",{sourceInterval:[3889,3890]},0],["lookahead",{sourceInterval:[3893,3907]},["app",{sourceInterval:[3894,3907]},"logicStatment",[]]]]],lineOf:["define",{sourceInterval:[3913,3944]},null,["T"],["app",{sourceInterval:[3925,3944]},"endWith",[["param",{sourceInterval:[3933,3934]},0],["app",{sourceInterval:[3936,3943]},"lineEnd",[]]]]],linesOf:["define",{sourceInterval:[3948,3992]},null,["T"],["app",{sourceInterval:[3961,3992]},"endWith",[["plus",{sourceInterval:[3969,3979]},["app",{sourceInterval:[3969,3978]},"lineOf",[["param",{sourceInterval:[3976,3977]},0]]]],["opt",{sourceInterval:[3981,3991]},["app",{sourceInterval:[3981,3990]},"emptyLine",[]]]]]],syntaxListOf:["define",{sourceInterval:[3998,4096]},null,["Child","End"],["app",{sourceInterval:[4025,4096]},"syntaxBlockLinesOf",[["param",{sourceInterval:[4044,4049]},0],["app",{sourceInterval:[4051,4090]},"syntaxOf",[["alt",{sourceInterval:[4060,4089]},["param",{sourceInterval:[4061,4066]},0],["lookahead",{sourceInterval:[4069,4088]},["app",{sourceInterval:[4070,4088]},"ignore",[["plus",{sourceInterval:[4077,4087]},["app",{sourceInterval:[4077,4086]},"lineSpace",[]]]]]]]]],["param",{sourceInterval:[4092,4095]},1]]]],syntaxOf:["define",{sourceInterval:[4100,4165]},null,["T"],["alt",{sourceInterval:[4114,4165]},["param",{sourceInterval:[4114,4115]},0],["app",{sourceInterval:[4118,4165]},"startWith",[["app",{sourceInterval:[4128,4146]},"ignore",[["plus",{sourceInterval:[4135,4145]},["app",{sourceInterval:[4135,4144]},"emptyLine",[]]]]],["seq",{sourceInterval:[4148,4164]},["not",{sourceInterval:[4148,4162]},["app",{sourceInterval:[4149,4162]},"errorBoundary",[]]],["param",{sourceInterval:[4163,4164]},0]]]]]],contentLinesOf:["define",{sourceInterval:[4171,4238]},null,["Child","End"],["app",{sourceInterval:[4200,4238]},"contentBlockLinesOf",[["param",{sourceInterval:[4220,4225]},0],["param",{sourceInterval:[4227,4232]},0],["param",{sourceInterval:[4234,4237]},1]]]],syntaxBlockLinesOf:["define",{sourceInterval:[4259,4347]},null,["Begin","Child","End"],["app",{sourceInterval:[4299,4347]},"syntaxBlockOf",[["app",{sourceInterval:[4313,4326]},"lineOf",[["param",{sourceInterval:[4320,4325]},0]]],["app",{sourceInterval:[4328,4341]},"lineOf",[["param",{sourceInterval:[4335,4340]},1]]],["param",{sourceInterval:[4343,4346]},2]]]],contentBlockLinesOf:["define",{sourceInterval:[4351,4441]},null,["Begin","Child","End"],["app",{sourceInterval:[4392,4441]},"contentBlockOf",[["app",{sourceInterval:[4407,4420]},"lineOf",[["param",{sourceInterval:[4414,4419]},0]]],["app",{sourceInterval:[4422,4435]},"lineOf",[["param",{sourceInterval:[4429,4434]},1]]],["param",{sourceInterval:[4437,4440]},2]]]],syntaxBlockOf:["define",{sourceInterval:[4451,4502]},null,["Begin","Child","End"],["seq",{sourceInterval:[4486,4502]},["param",{sourceInterval:[4486,4491]},0],["star",{sourceInterval:[4492,4498]},["param",{sourceInterval:[4492,4497]},1]],["param",{sourceInterval:[4499,4502]},2]]],contentBlockOf:["define",{sourceInterval:[4506,4558]},null,["Begin","Child","End"],["seq",{sourceInterval:[4542,4558]},["param",{sourceInterval:[4542,4547]},0],["star",{sourceInterval:[4548,4554]},["param",{sourceInterval:[4548,4553]},1]],["param",{sourceInterval:[4555,4558]},2]]],nonemptyBlockOf:["define",{sourceInterval:[4562,4615]},null,["Begin","Child","End"],["seq",{sourceInterval:[4599,4615]},["param",{sourceInterval:[4599,4604]},0],["plus",{sourceInterval:[4605,4611]},["param",{sourceInterval:[4605,4610]},1]],["param",{sourceInterval:[4612,4615]},2]]],nonemptyContentBlockOf:["define",{sourceInterval:[4619,4679]},null,["Begin","Child","End"],["seq",{sourceInterval:[4663,4679]},["param",{sourceInterval:[4663,4668]},0],["plus",{sourceInterval:[4669,4675]},["param",{sourceInterval:[4669,4674]},1]],["param",{sourceInterval:[4676,4679]},2]]],statmentBreak:["define",{sourceInterval:[4685,4745]},"$StatmentBreak$",[],["alt",{sourceInterval:[4718,4745]},["app",{sourceInterval:[4719,4732]},"block_comment",[]],["app",{sourceInterval:[4735,4744]},"emptyLine",[]]]],startStatmentOf:["define",{sourceInterval:[4749,4827]},null,["T"],["app",{sourceInterval:[4770,4827]},"bracketSyntaxInline",[["lookahead",{sourceInterval:[4790,4807]},["star",{sourceInterval:[4792,4806]},["app",{sourceInterval:[4792,4805]},"statmentBreak",[]]]],["param",{sourceInterval:[4809,4810]},0],["plus",{sourceInterval:[4812,4826]},["app",{sourceInterval:[4812,4825]},"statmentBreak",[]]]]]],statementOf:["define",{sourceInterval:[4831,4933]},null,["T"],["app",{sourceInterval:[4848,4933]},"bracketSyntaxInline",[["lookahead",{sourceInterval:[4868,4885]},["star",{sourceInterval:[4870,4884]},["app",{sourceInterval:[4870,4883]},"statmentBreak",[]]]],["app",{sourceInterval:[4887,4908]},"startWith",[["app",{sourceInterval:[4897,4904]},"linePad",[]],["param",{sourceInterval:[4906,4907]},0]]],["alt",{sourceInterval:[4910,4932]},["plus",{sourceInterval:[4911,4925]},["app",{sourceInterval:[4911,4924]},"statmentBreak",[]]],["app",{sourceInterval:[4928,4931]},"end",[]]]]]],textContent_centered:["define",{sourceInterval:[4953,5011]},null,[],["app",{sourceInterval:[4953,4999]},"styled_centered",[["plus",{sourceInterval:[4969,4998]},["alt",{sourceInterval:[4970,4996]},["app",{sourceInterval:[4970,4985]},"centeredContent",[]],["app",{sourceInterval:[4988,4996]},"escToken",[]]]]]]],textContent_plain:["define",{sourceInterval:[5019,5061]},null,[],["app",{sourceInterval:[5019,5052]},"withText",[["plus",{sourceInterval:[5028,5051]},["alt",{sourceInterval:[5029,5049]},["app",{sourceInterval:[5029,5038]},"textPiece",[]],["app",{sourceInterval:[5041,5049]},"escToken",[]]]]]]],textContent:["define",{sourceInterval:[4939,5061]},null,[],["alt",{sourceInterval:[4953,5061]},["app",{sourceInterval:[4953,4999]},"textContent_centered",[]],["app",{sourceInterval:[5019,5052]},"textContent_plain",[]]]],styled_centered:["define",{sourceInterval:[5102,5144]},null,["T"],["seq",{sourceInterval:[5123,5144]},["app",{sourceInterval:[5123,5132]},"centeredL",[]],["param",{sourceInterval:[5133,5134]},0],["app",{sourceInterval:[5135,5144]},"centeredR",[]]]],centeredL:["define",{sourceInterval:[5148,5177]},null,[],["app",{sourceInterval:[5160,5177]},"rightPadWith",[["terminal",{sourceInterval:[5173,5176]},">"]]]],centeredR:["define",{sourceInterval:[5181,5209]},null,[],["app",{sourceInterval:[5193,5209]},"leftPadWith",[["terminal",{sourceInterval:[5205,5208]},"<"]]]],centeredContent:["define",{sourceInterval:[5215,5326]},null,[],["alt",{sourceInterval:[5233,5326]},["app",{sourceInterval:[5233,5256]},"styled",[["app",{sourceInterval:[5240,5255]},"centeredContent",[]]]],["app",{sourceInterval:[5265,5273]},"template",[]],["app",{sourceInterval:[5281,5326]},"plainTextUntil",[["alt",{sourceInterval:[5296,5325]},["app",{sourceInterval:[5297,5312]},"plainText_until",[]],["app",{sourceInterval:[5315,5324]},"centeredR",[]]]]]]],withText:["define",{sourceInterval:[5334,5349]},null,["T"],["param",{sourceInterval:[5348,5349]},0]],textPiece_styled:["define",{sourceInterval:[5369,5396]},null,[],["app",{sourceInterval:[5369,5386]},"styled",[["app",{sourceInterval:[5376,5385]},"textPiece",[]]]]],textPiece:["define",{sourceInterval:[5353,5429]},null,[],["alt",{sourceInterval:[5369,5429]},["app",{sourceInterval:[5369,5386]},"textPiece_styled",[]],["app",{sourceInterval:[5404,5412]},"template",[]],["app",{sourceInterval:[5420,5429]},"plainText",[]]]],escToken:["define",{sourceInterval:[5435,5470]},null,[],["app",{sourceInterval:[5446,5470]},"oresc",[["seq",{sourceInterval:[5452,5469]},["not",{sourceInterval:[5452,5464]},["app",{sourceInterval:[5453,5464]},"token_split",[]]],["app",{sourceInterval:[5465,5469]},"char",[]]]]]],styled_bold:["define",{sourceInterval:[5538,5588]},null,["T"],["seq",{sourceInterval:[5538,5580]},["terminal",{sourceInterval:[5538,5542]},"**"],["app",{sourceInterval:[5543,5575]},"withText",[["plus",{sourceInterval:[5552,5574]},["seq",{sourceInterval:[5553,5572]},["not",{sourceInterval:[5553,5570]},["app",{sourceInterval:[5555,5569]},"styled_bold",[["param",{sourceInterval:[5567,5568]},0]]]],["param",{sourceInterval:[5571,5572]},0]]]]],["terminal",{sourceInterval:[5576,5580]},"**"]]],styled_italic:["define",{sourceInterval:[5596,5648]},null,["T"],["seq",{sourceInterval:[5596,5638]},["terminal",{sourceInterval:[5596,5599]},"*"],["app",{sourceInterval:[5600,5634]},"withText",[["plus",{sourceInterval:[5609,5633]},["seq",{sourceInterval:[5610,5631]},["not",{sourceInterval:[5610,5629]},["app",{sourceInterval:[5612,5628]},"styled_italic",[["param",{sourceInterval:[5626,5627]},0]]]],["param",{sourceInterval:[5630,5631]},0]]]]],["terminal",{sourceInterval:[5635,5638]},"*"]]],styled_underline:["define",{sourceInterval:[5656,5714]},null,["T"],["seq",{sourceInterval:[5656,5701]},["terminal",{sourceInterval:[5656,5659]},"_"],["app",{sourceInterval:[5660,5697]},"withText",[["plus",{sourceInterval:[5669,5696]},["seq",{sourceInterval:[5670,5694]},["not",{sourceInterval:[5670,5692]},["app",{sourceInterval:[5672,5691]},"styled_underline",[["param",{sourceInterval:[5689,5690]},0]]]],["param",{sourceInterval:[5693,5694]},0]]]]],["terminal",{sourceInterval:[5698,5701]},"_"]]],styled:["define",{sourceInterval:[5507,5714]},"$Emphasis$",["T"],["alt",{sourceInterval:[5536,5714]},["app",{sourceInterval:[5538,5580]},"styled_bold",[["param",{},0]]],["app",{sourceInterval:[5596,5638]},"styled_italic",[["param",{},0]]],["app",{sourceInterval:[5656,5701]},"styled_underline",[["param",{},0]]]]],plainText_until:["define",{sourceInterval:[5720,5800]},null,[],["alt",{sourceInterval:[5738,5800]},["app",{sourceInterval:[5738,5745]},"comment",[]],["app",{sourceInterval:[5748,5756]},"template",[]],["app",{sourceInterval:[5759,5764]},"macro",[]],["app",{sourceInterval:[5767,5778]},"token_split",[]],["app",{sourceInterval:[5781,5788]},"lineEnd",[]],["terminal",{sourceInterval:[5791,5794]},"_"],["terminal",{sourceInterval:[5797,5800]},"*"]]],plainText:["define",{sourceInterval:[5804,5860]},"$plainText$",[],["app",{sourceInterval:[5829,5860]},"plainTextUntil",[["app",{sourceInterval:[5844,5859]},"plainText_until",[]]]]],plainTextUntil:["define",{sourceInterval:[5864,5936]},null,["Until"],["app",{sourceInterval:[5888,5936]},"rawOf",[["plus",{sourceInterval:[5894,5935]},["app",{sourceInterval:[5894,5934]},"strictEscWith",[["app",{sourceInterval:[5908,5912]},"char",[]],["alt",{sourceInterval:[5914,5933]},["param",{sourceInterval:[5915,5920]},0],["app",{sourceInterval:[5923,5932]},"lineBreak",[]]]]]]]]],rawOf:["define",{sourceInterval:[5947,5970]},null,["T"],["app",{sourceInterval:[5958,5970]},"stringify",[["param",{sourceInterval:[5968,5969]},0]]]],expr:["define",{sourceInterval:[5976,6061]},"$Expr$",[],["alt",{sourceInterval:[5996,6061]},["app",{sourceInterval:[5996,6009]},"expr_template",[]],["app",{sourceInterval:[6017,6027]},"expr_logic",[]],["app",{sourceInterval:[6035,6044]},"expr_auto",[]],["app",{sourceInterval:[6052,6061]},"expr_pipe",[]]]],expr_template:["define",{sourceInterval:[6067,6104]},null,[],["app",{sourceInterval:[6083,6104]},"embbedExprUntil",[["terminal",{sourceInterval:[6099,6103]},"}}"]]]],expr_logic:["define",{sourceInterval:[6108,6147]},null,[],["app",{sourceInterval:[6121,6147]},"embbedExprUntil",[["app",{sourceInterval:[6137,6146]},"lineBreak",[]]]]],expr_auto:["define",{sourceInterval:[6151,6183]},null,[],["app",{sourceInterval:[6163,6183]},"embbedExprUntil",[["terminal",{sourceInterval:[6179,6182]},")"]]]],expr_pipe:["define",{sourceInterval:[6187,6251]},"$PipeExp$",[],["seq",{sourceInterval:[6210,6251]},["app",{sourceInterval:[6210,6221]},"token_split",[]],["opt",{sourceInterval:[6222,6251]},["app",{sourceInterval:[6222,6250]},"embbedExprUntil",[["app",{sourceInterval:[6238,6249]},"token_split",[]]]]]]],template_label:["define",{sourceInterval:[6288,6407]},null,[],["seq",{sourceInterval:[6288,6398]},["app",{sourceInterval:[6288,6357]},"bracketSyntaxInline",[["app",{sourceInterval:[6308,6320]},"tokenOf",[["terminal",{sourceInterval:[6316,6319]},"["]]],["app",{sourceInterval:[6322,6342]},"plainTextUntil",[["terminal",{sourceInterval:[6337,6341]},"]("]]],["app",{sourceInterval:[6344,6356]},"tokenOf",[["terminal",{sourceInterval:[6352,6355]},"]"]]]]],["app",{sourceInterval:[6358,6398]},"bracketSyntaxInline",[["terminal",{sourceInterval:[6378,6381]},"("],["app",{sourceInterval:[6383,6392]},"expr_auto",[]],["terminal",{sourceInterval:[6394,6397]},")"]]]]],template_native:["define",{sourceInterval:[6415,6481]},null,[],["app",{sourceInterval:[6415,6471]},"bracketSyntaxInline",[["terminal",{sourceInterval:[6435,6439]},"{{"],["app",{sourceInterval:[6441,6464]},"optional",[["app",{sourceInterval:[6450,6463]},"expr_template",[]]]],["terminal",{sourceInterval:[6466,6470]},"}}"]]]],template_macro:["define",{sourceInterval:[6512,6579]},null,[],["app",{sourceInterval:[6512,6570]},"rawOf",[["app",{sourceInterval:[6518,6569]},"bracketSyntaxInline",[["terminal",{sourceInterval:[6538,6541]},"["],["app",{sourceInterval:[6543,6563]},"embbedExprUntil",[["terminal",{sourceInterval:[6559,6562]},"]"]]],["terminal",{sourceInterval:[6565,6568]},"]"]]]]]],template:["define",{sourceInterval:[6257,6579]},"$TemplateExp$",[],["alt",{sourceInterval:[6288,6579]},["app",{sourceInterval:[6288,6398]},"template_label",[]],["app",{sourceInterval:[6415,6471]},"template_native",[]],["app",{sourceInterval:[6490,6504]},"comment_inline",[]],["app",{sourceInterval:[6512,6570]},"template_macro",[]]]],macro:["define",{sourceInterval:[6585,6662]},null,[],["app",{sourceInterval:[6593,6662]},"bracketSyntaxInline",[["app",{sourceInterval:[6613,6625]},"tokenOf",[["terminal",{sourceInterval:[6621,6624]},"["]]],["app",{sourceInterval:[6627,6647]},"embbedExprUntil",[["terminal",{sourceInterval:[6643,6646]},"]"]]],["app",{sourceInterval:[6649,6661]},"tokenOf",[["terminal",{sourceInterval:[6657,6660]},"]"]]]]]],embbedExprUntil:["define",{sourceInterval:[6760,6877]},"$awesomeExpr$",["Exclude"],["app",{sourceInterval:[6802,6877]},"stringify",[["plus",{sourceInterval:[6812,6876]},["alt",{sourceInterval:[6813,6874]},["app",{sourceInterval:[6813,6829]},"sourceOf",[["app",{sourceInterval:[6822,6828]},"string",[]]]],["app",{sourceInterval:[6832,6874]},"strictEscWith",[["app",{sourceInterval:[6846,6850]},"char",[]],["alt",{sourceInterval:[6852,6873]},["param",{sourceInterval:[6853,6860]},0],["app",{sourceInterval:[6863,6872]},"lineBreak",[]]]]]]]]]],block_logic:["define",{sourceInterval:[6885,7047]},"$LogicStatment$",[],["alt",{sourceInterval:[6921,7047]},["app",{sourceInterval:[6921,6949]},"statementOf",[["app",{sourceInterval:[6933,6948]},"logicSyntax_let",[]]]],["app",{sourceInterval:[6957,6979]},"logic_blockIf",[["app",{sourceInterval:[6971,6978]},"content",[]]]],["app",{sourceInterval:[6987,7014]},"logic_blockForeach",[["app",{sourceInterval:[7006,7013]},"content",[]]]],["app",{sourceInterval:[7022,7047]},"logic_blockWhile",[["app",{sourceInterval:[7039,7046]},"content",[]]]]]],logicSyntax_let:["define",{sourceInterval:[7173,7227]},null,[],["seq",{sourceInterval:[7173,7220]},["app",{sourceInterval:[7173,7196]},"ctlKey",[["app",{sourceInterval:[7180,7195]},"scriptToken_var",[]]]],["app",{sourceInterval:[7197,7220]},"leftPadWith",[["app",{sourceInterval:[7209,7219]},"expr_logic",[]]]]]],logicSyntax:["define",{sourceInterval:[7139,7271]},"$logicSyntax$",[],["alt",{sourceInterval:[7173,7271]},["app",{sourceInterval:[7173,7220]},"logicSyntax_let",[]],["app",{sourceInterval:[7235,7271]},"ctlKey",[["seq",{sourceInterval:[7242,7270]},["not",{sourceInterval:[7242,7258]},["app",{sourceInterval:[7243,7258]},"scriptToken_var",[]]],["app",{sourceInterval:[7259,7270]},"scriptToken",[]]]]]]],logicStatment:["define",{sourceInterval:[7275,7324]},null,[],["app",{sourceInterval:[7291,7324]},"statementOf",[["app",{sourceInterval:[7303,7323]},"padWith",[["app",{sourceInterval:[7311,7322]},"logicSyntax",[]]]]]]],logic_blockIf:["define",{sourceInterval:[7330,7471]},null,["T"],["seq",{sourceInterval:[7349,7471]},["app",{sourceInterval:[7349,7370]},"statementOf",[["app",{sourceInterval:[7361,7369]},"logic_if",[]]]],["star",{sourceInterval:[7371,7386]},["app",{sourceInterval:[7371,7385]},"leftPadWith",[["param",{sourceInterval:[7383,7384]},0]]]],["star",{sourceInterval:[7387,7418]},["seq",{sourceInterval:[7388,7416]},["app",{sourceInterval:[7388,7413]},"statementOf",[["app",{sourceInterval:[7400,7412]},"logic_elseIf",[]]]],["star",{sourceInterval:[7414,7416]},["param",{sourceInterval:[7414,7415]},0]]]],["opt",{sourceInterval:[7419,7448]},["seq",{sourceInterval:[7420,7446]},["app",{sourceInterval:[7420,7443]},"statementOf",[["app",{sourceInterval:[7432,7442]},"logic_else",[]]]],["star",{sourceInterval:[7444,7446]},["param",{sourceInterval:[7444,7445]},0]]]],["app",{sourceInterval:[7449,7471]},"statementOf",[["app",{sourceInterval:[7461,7470]},"logic_end",[]]]]]],logic_if:["define",{sourceInterval:[7475,7528]},null,[],["seq",{sourceInterval:[7486,7528]},["app",{sourceInterval:[7486,7508]},"ctlKey",[["app",{sourceInterval:[7493,7507]},"scriptToken_if",[]]]],["app",{sourceInterval:[7509,7528]},"padWith",[["app",{sourceInterval:[7517,7527]},"expr_logic",[]]]]]],logic_elseIf:["define",{sourceInterval:[7532,7593]},null,[],["seq",{sourceInterval:[7547,7593]},["app",{sourceInterval:[7547,7573]},"ctlKey",[["app",{sourceInterval:[7554,7572]},"scriptToken_elseif",[]]]],["app",{sourceInterval:[7574,7593]},"padWith",[["app",{sourceInterval:[7582,7592]},"expr_logic",[]]]]]],logic_else:["define",{sourceInterval:[7597,7634]},null,[],["app",{sourceInterval:[7610,7634]},"ctlKey",[["app",{sourceInterval:[7617,7633]},"scriptToken_else",[]]]]],scriptToken:["define",{sourceInterval:[7640,7782]},null,[],["alt",{sourceInterval:[7654,7782]},["app",{sourceInterval:[7654,7669]},"scriptToken_var",[]],["app",{sourceInterval:[7672,7686]},"scriptToken_if",[]],["app",{sourceInterval:[7689,7707]},"scriptToken_elseif",[]],["app",{sourceInterval:[7710,7726]},"scriptToken_else",[]],["app",{sourceInterval:[7729,7744]},"scriptToken_end",[]],["app",{sourceInterval:[7747,7762]},"scriptToken_for",[]],["app",{sourceInterval:[7765,7782]},"scriptToken_while",[]]]],scriptToken_var:["define",{sourceInterval:[7788,7811]},null,[],["terminal",{sourceInterval:[7806,7811]},"let"]],scriptToken_if:["define",{sourceInterval:[7815,7836]},null,[],["terminal",{sourceInterval:[7832,7836]},"if"]],scriptToken_elseif:["define",{sourceInterval:[7840,7869]},null,[],["terminal",{sourceInterval:[7861,7869]},"elseif"]],scriptToken_else:["define",{sourceInterval:[7873,7898]},null,[],["terminal",{sourceInterval:[7892,7898]},"else"]],scriptToken_end:["define",{sourceInterval:[7902,7925]},null,[],["terminal",{sourceInterval:[7920,7925]},"end"]],scriptToken_for:["define",{sourceInterval:[7929,7956]},null,[],["terminal",{sourceInterval:[7947,7956]},"foreach"]],scriptToken_in:["define",{sourceInterval:[7960,7981]},null,[],["terminal",{sourceInterval:[7977,7981]},"in"]],scriptToken_while:["define",{sourceInterval:[7985,8012]},null,[],["terminal",{sourceInterval:[8005,8012]},"while"]],logic_blockForeach:["define",{sourceInterval:[8020,8120]},null,["T"],["app",{sourceInterval:[8044,8120]},"syntaxBlockOf",[["app",{sourceInterval:[8058,8079]},"lineOf",[["app",{sourceInterval:[8065,8078]},"logic_foreach",[]]]],["app",{sourceInterval:[8081,8095]},"leftPadWith",[["param",{sourceInterval:[8093,8094]},0]]],["app",{sourceInterval:[8097,8119]},"statementOf",[["app",{sourceInterval:[8109,8118]},"logic_end",[]]]]]]],logic_foreach:["define",{sourceInterval:[8124,8244]},null,[],["seq",{sourceInterval:[8140,8244]},["app",{sourceInterval:[8140,8163]},"ctlKey",[["app",{sourceInterval:[8147,8162]},"scriptToken_for",[]]]],["app",{sourceInterval:[8164,8190]},"preSpaceWith",[["app",{sourceInterval:[8177,8189]},"variableName",[]]]],["app",{sourceInterval:[8191,8219]},"preSpaceWith",[["app",{sourceInterval:[8204,8218]},"scriptToken_in",[]]]],["app",{sourceInterval:[8220,8244]},"preSpaceWith",[["app",{sourceInterval:[8233,8243]},"expr_logic",[]]]]]],logic_blockWhile:["define",{sourceInterval:[8250,8346]},null,["T"],["app",{sourceInterval:[8272,8346]},"syntaxBlockOf",[["app",{sourceInterval:[8286,8305]},"lineOf",[["app",{sourceInterval:[8293,8304]},"logic_while",[]]]],["app",{sourceInterval:[8307,8321]},"leftPadWith",[["param",{sourceInterval:[8319,8320]},0]]],["app",{sourceInterval:[8323,8345]},"statementOf",[["app",{sourceInterval:[8335,8344]},"logic_end",[]]]]]]],logic_while:["define",{sourceInterval:[8350,8414]},null,[],["seq",{sourceInterval:[8364,8414]},["app",{sourceInterval:[8364,8389]},"ctlKey",[["app",{sourceInterval:[8371,8388]},"scriptToken_while",[]]]],["app",{sourceInterval:[8390,8414]},"preSpaceWith",[["app",{sourceInterval:[8403,8413]},"expr_logic",[]]]]]],ctlKey:["define",{sourceInterval:[8420,8469]},null,["key"],["app",{sourceInterval:[8434,8469]},"leftPadWith",[["app",{sourceInterval:[8446,8468]},"join",[["app",{sourceInterval:[8451,8462]},"token_split",[]],["param",{sourceInterval:[8464,8467]},0]]]]]],logic_end:["define",{sourceInterval:[8503,8538]},null,[],["app",{sourceInterval:[8515,8538]},"ctlKey",[["app",{sourceInterval:[8522,8537]},"scriptToken_end",[]]]]],tokens:["define",{sourceInterval:[8544,8564]},null,[],["star",{sourceInterval:[8558,8564]},["app",{sourceInterval:[8558,8563]},"token",[]]]],token:["define",{sourceInterval:[8574,8762]},null,[],["alt",{sourceInterval:[8587,8762]},["app",{sourceInterval:[8587,8594]},"comment",[]],["app",{sourceInterval:[8648,8658]},"valueToken",[]],["app",{sourceInterval:[8667,8674]},"keyword",[]],["app",{sourceInterval:[8759,8762]},"any",[]]]],valueToken:["define",{sourceInterval:[8766,8785]},null,[],["app",{sourceInterval:[8779,8785]},"sToken",[]]],keyword:["define",{sourceInterval:[9029,9058]},null,[],["app",{sourceInterval:[9039,9058]},"ctlKey",[["app",{sourceInterval:[9046,9057]},"scriptToken",[]]]]]}]);const ue=se.AdvFountain;var ce,le,pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},de={exports:{}};function he(e,t,n){const r=e.length;return(e.slice(0,n)+t+e.slice(n+t.length)).substr(0,r)}function me(e,t,n){return Ce(e=e.slice(t,n))}function fe(e,...t){const n=e.offset,r=e.line,o=(e,t)=>e.repeat(t);let i="Line "+e.lineNum+", col "+e.colNum+":\n";const a=function(e){let t=0;return e.map((e=>{const n=e.toString();return t=Math.max(t,n.length),n})).map((e=>de.exports.padStart(e,t)))}([null==e.prevLine?0:e.lineNum-1,e.lineNum,null==e.nextLine?0:e.lineNum+1]),s=(e,t,n)=>{i+=n+a[e]+" | "+t+"\n"};null!=e.prevLine&&s(0,e.prevLine,"  "),s(1,e.line,"> ");const u=Ce(e.line),c=e.colNum-1;let l=" ".repeat(u+1);for(let d=0;d<t.length;++d){let[e,i]=t[d];console.assert(e>=0&&e<=i,"range start must be >= 0 and <= end");const a=n-c;e=Math.max(0,e-a),i=Math.min(i-a,u),l=he(l,o("~",me(r,e,i)),me(r,0,e))}const p=2+a[1].length+3;return i+=o(" ",p),l=he(l,"^",me(r,0,c)),i+=l.replace(/ +$/,"")+"\n",null!=e.nextLine&&s(2,e.nextLine,"  "),i}function ge(e,t){return Error(function(e){const{source:t}=e;return fe(t.getLineAndColumn(),[t.startIdx,t.endIdx])}(t)+"\n"+e)}
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
ce=de,le=de.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",r="__lodash_placeholder__",o=16,i=32,a=64,s=128,u=256,c=1/0,l=9007199254740991,p=NaN,d=4294967295,h=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",i],["partialRight",a],["rearg",u]],m="[object Arguments]",f="[object Array]",g="[object Boolean]",v="[object Date]",D="[object Error]",C="[object Function]",y="[object GeneratorFunction]",I="[object Map]",_="[object Number]",E="[object Object]",A="[object Promise]",x="[object RegExp]",F="[object Set]",S="[object String]",b="[object Symbol]",w="[object WeakMap]",k="[object ArrayBuffer]",T="[object DataView]",B="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",M="[object Uint8Array]",N="[object Uint8ClampedArray]",j="[object Uint16Array]",q="[object Uint32Array]",K=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,V=RegExp($.source),G=RegExp(H.source),z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ne=/^\s+/,re=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,De=/^0o[0-7]+$/i,Ce=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="\\u2700-\\u27bf",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Fe="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",be="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",we="['’]",ke="[\\ud800-\\udfff]",Te="["+be+"]",Be="["+Ee+"]",Pe="\\d+",Re="[\\u2700-\\u27bf]",Oe="["+xe+"]",Le="[^\\ud800-\\udfff"+be+Pe+Ae+xe+Fe+"]",Me="\\ud83c[\\udffb-\\udfff]",Ne="[^\\ud800-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",qe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ke="["+Fe+"]",Ue="(?:"+Oe+"|"+Le+")",We="(?:"+Ke+"|"+Le+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Be+"|"+Me+")?",Ge="[\\ufe0e\\ufe0f]?",ze=Ge+Ve+"(?:\\u200d(?:"+[Ne,je,qe].join("|")+")"+Ge+Ve+")*",Je="(?:"+[Re,je,qe].join("|")+")"+ze,Qe="(?:"+[Ne+Be+"?",Be,je,qe,ke].join("|")+")",Ze=RegExp(we,"g"),Ye=RegExp(Be,"g"),Xe=RegExp(Me+"(?="+Me+")|"+Qe+ze,"g"),et=RegExp([Ke+"?"+Oe+"+"+$e+"(?="+[Te,Ke,"$"].join("|")+")",We+"+"+He+"(?="+[Te,Ke+Ue,"$"].join("|")+")",Ke+"?"+Ue+"+"+$e,Ke+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Je].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Se+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,it={};it[B]=it[P]=it[R]=it[O]=it[L]=it[M]=it[N]=it[j]=it[q]=!0,it[m]=it[f]=it[k]=it[g]=it[T]=it[v]=it[D]=it[C]=it[I]=it[_]=it[E]=it[x]=it[F]=it[S]=it[w]=!1;var at={};at[m]=at[f]=at[k]=at[T]=at[g]=at[v]=at[B]=at[P]=at[R]=at[O]=at[L]=at[I]=at[_]=at[E]=at[x]=at[F]=at[S]=at[b]=at[M]=at[N]=at[j]=at[q]=!0,at[D]=at[C]=at[w]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ct=parseInt,lt="object"==typeof pe&&pe&&pe.Object===Object&&pe,pt="object"==typeof self&&self&&self.Object===Object&&self,dt=lt||pt||Function("return this")(),ht=le&&!le.nodeType&&le,mt=ht&&ce&&!ce.nodeType&&ce,ft=mt&&mt.exports===ht,gt=ft&&lt.process,vt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(t){}}(),Dt=vt&&vt.isArrayBuffer,Ct=vt&&vt.isDate,yt=vt&&vt.isMap,It=vt&&vt.isRegExp,_t=vt&&vt.isSet,Et=vt&&vt.isTypedArray;function At(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function wt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function kt(e,t){return!(null==e||!e.length)&&qt(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Bt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Pt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Rt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ot(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=$t("length");function Nt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function jt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Ut,n)}function Kt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ut(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:p}function $t(t){return function(n){return null==n?e:n[t]}}function Ht(t){return function(n){return null==t?e:t[n]}}function Vt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Gt(t,n){for(var r,o=-1,i=t.length;++o<i;){var a=n(t[o]);a!==e&&(r=r===e?a:r+a)}return r}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,hn(e)+1).replace(ne,""):e}function Qt(e){return function(t){return e(t)}}function Zt(e,t){return Bt(t,(function(t){return e[t]}))}function Yt(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var nn=Ht({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rn=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function an(e){return tt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,o=e.length,i=0,a=[];++n<o;){var s=e[n];s!==t&&s!==r||(e[n]=r,a[i++]=n)}return a}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){return an(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Mt(e)}function dn(e){return an(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var mn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fn=function re(ce){var le,pe=(ce=null==ce?dt:fn.defaults(dt.Object(),ce,fn.pick(dt,rt))).Array,Ee=ce.Date,Ae=ce.Error,xe=ce.Function,Fe=ce.Math,Se=ce.Object,be=ce.RegExp,we=ce.String,ke=ce.TypeError,Te=pe.prototype,Be=xe.prototype,Pe=Se.prototype,Re=ce["__core-js_shared__"],Oe=Be.toString,Le=Pe.hasOwnProperty,Me=0,Ne=(le=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+le:"",je=Pe.toString,qe=Oe.call(Se),Ke=dt._,Ue=be("^"+Oe.call(Le).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=ft?ce.Buffer:e,$e=ce.Symbol,He=ce.Uint8Array,Ve=We?We.allocUnsafe:e,Ge=un(Se.getPrototypeOf,Se),ze=Se.create,Je=Pe.propertyIsEnumerable,Qe=Te.splice,Xe=$e?$e.isConcatSpreadable:e,tt=$e?$e.iterator:e,st=$e?$e.toStringTag:e,lt=function(){try{var e=hi(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),pt=ce.clearTimeout!==dt.clearTimeout&&ce.clearTimeout,ht=Ee&&Ee.now!==dt.Date.now&&Ee.now,mt=ce.setTimeout!==dt.setTimeout&&ce.setTimeout,gt=Fe.ceil,vt=Fe.floor,Mt=Se.getOwnPropertySymbols,Ht=We?We.isBuffer:e,gn=ce.isFinite,vn=Te.join,Dn=un(Se.keys,Se),Cn=Fe.max,yn=Fe.min,In=Ee.now,_n=ce.parseInt,En=Fe.random,An=Te.reverse,xn=hi(ce,"DataView"),Fn=hi(ce,"Map"),Sn=hi(ce,"Promise"),bn=hi(ce,"Set"),wn=hi(ce,"WeakMap"),kn=hi(Se,"create"),Tn=wn&&new wn,Bn={},Pn=Wi(xn),Rn=Wi(Fn),On=Wi(Sn),Ln=Wi(bn),Mn=Wi(wn),Nn=$e?$e.prototype:e,jn=Nn?Nn.valueOf:e,qn=Nn?Nn.toString:e;function Kn(e){if(as(e)&&!Ja(e)&&!(e instanceof Hn)){if(e instanceof $n)return e;if(Le.call(e,"__wrapped__"))return $i(e)}return new $n(e)}var Un=function(){function t(){}return function(n){if(!is(n))return{};if(ze)return ze(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function Wn(){}function $n(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Zn(e,t){var n=Ja(e),r=!n&&za(e),o=!n&&!r&&Xa(e),i=!n&&!r&&!o&&ms(e),a=n||r||o||i,s=a?zt(e.length,we):[],u=s.length;for(var c in e)!t&&!Le.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yi(c,u))||s.push(c);return s}function Yn(t){var n=t.length;return n?t[Jr(0,n-1)]:e}function Xn(e,t){return Mi(To(e),ur(t,0,e.length))}function er(e){return Mi(To(e))}function tr(t,n,r){(r!==e&&!Ha(t[n],r)||r===e&&!(n in t))&&ar(t,n,r)}function nr(t,n,r){var o=t[n];Le.call(t,n)&&Ha(o,r)&&(r!==e||n in t)||ar(t,n,r)}function rr(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Bo(t,Ls(t),e)}function ar(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(t,n){for(var r=-1,o=n.length,i=pe(o),a=null==t;++r<o;)i[r]=a?e:Ts(t,n[r]);return i}function ur(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function cr(t,n,r,o,i,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),s!==e)return s;if(!is(t))return t;var p=Ja(t);if(p){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return To(t,s)}else{var d=gi(t),h=d==C||d==y;if(Xa(t))return xo(t,u);if(d==E||d==m||h&&!i){if(s=c||h?{}:Di(t),!u)return c?function(e,t){return Bo(e,fi(e),t)}(t,function(e,t){return e&&Bo(t,Ms(t),e)}(s,t)):function(e,t){return Bo(e,mi(e),t)}(t,ir(s,t))}else{if(!at[d])return i?t:{};s=function(e,t,n){var r,o=e.constructor;switch(t){case k:return Fo(e);case g:case v:return new o(+e);case T:return function(e,t){var n=t?Fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case B:case P:case R:case O:case L:case M:case N:case j:case q:return So(e,n);case I:return new o;case _:case S:return new o(e);case x:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case F:return new o;case b:return r=e,jn?Se(jn.call(r)):{}}}(t,d,u)}}a||(a=new Qn);var f=a.get(t);if(f)return f;a.set(t,s),ps(t)?t.forEach((function(e){s.add(cr(e,n,r,e,t,a))})):ss(t)&&t.forEach((function(e,o){s.set(o,cr(e,n,r,o,t,a))}));var D=p?e:(l?c?ai:ii:c?Ms:Ls)(t);return Ft(D||t,(function(e,o){D&&(e=t[o=e]),nr(s,o,cr(e,n,r,o,t,a))})),s}function lr(t,n,r){var o=r.length;if(null==t)return!o;for(t=Se(t);o--;){var i=r[o],a=n[i],s=t[i];if(s===e&&!(i in t)||!a(s))return!1}return!0}function pr(n,r,o){if("function"!=typeof n)throw new ke(t);return Pi((function(){n.apply(e,o)}),r)}function dr(e,t,n,r){var o=-1,i=kt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Bt(t,Qt(n))),r?(i=Tt,a=!1):t.length>=200&&(i=Yt,a=!1,t=new Jn(t));e:for(;++o<s;){var l=e[o],p=null==n?l:n(l);if(l=r||0!==l?l:0,a&&p==p){for(var d=c;d--;)if(t[d]===p)continue e;u.push(l)}else i(t,p,r)||u.push(l)}return u}Kn.templateSettings={escape:z,evaluate:J,interpolate:Q,variable:"",imports:{_:Kn}},Kn.prototype=Wn.prototype,Kn.prototype.constructor=Kn,$n.prototype=Un(Wn.prototype),$n.prototype.constructor=$n,Hn.prototype=Un(Wn.prototype),Hn.prototype.constructor=Hn,Vn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(t){var r=this.__data__;if(kn){var o=r[t];return o===n?e:o}return Le.call(r,t)?r[t]:e},Vn.prototype.has=function(t){var n=this.__data__;return kn?n[t]!==e:Le.call(n,t)},Vn.prototype.set=function(t,r){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=kn&&r===e?n:r,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0||(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,0))},Gn.prototype.get=function(t){var n=this.__data__,r=rr(n,t);return r<0?e:n[r][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Fn||Gn),string:new Vn}},zn.prototype.delete=function(e){var t=pi(this,e).delete(e);return this.size-=t?1:0,t},zn.prototype.get=function(e){return pi(this,e).get(e)},zn.prototype.has=function(e){return pi(this,e).has(e)},zn.prototype.set=function(e,t){var n=pi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,n),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zn(r)}return n.set(e,t),this.size=n.size,this};var hr=Oo(Ir),mr=Oo(_r,!0);function fr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function gr(t,n,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n(a);if(null!=s&&(u===e?s==s&&!hs(s):r(s,u)))var u=s,c=a}return c}function vr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function Dr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Ci),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?Dr(s,t-1,n,r,o):Pt(o,s):r||(o[o.length]=s)}return o}var Cr=Lo(),yr=Lo(!0);function Ir(e,t){return e&&Cr(e,t,Ls)}function _r(e,t){return e&&yr(e,t,Ls)}function Er(e,t){return wt(t,(function(t){return ns(e[t])}))}function Ar(t,n){for(var r=0,o=(n=Io(n,t)).length;null!=t&&r<o;)t=t[Ui(n[r++])];return r&&r==o?t:e}function xr(e,t,n){var r=t(e);return Ja(e)?r:Pt(r,n(e))}function Fr(t){return null==t?t===e?"[object Undefined]":"[object Null]":st&&st in Se(t)?function(t){var n=Le.call(t,st),r=t[st];try{t[st]=e;var o=!0}catch(a){}var i=je.call(t);return o&&(n?t[st]=r:delete t[st]),i}(t):function(e){return je.call(e)}(t)}function Sr(e,t){return e>t}function br(e,t){return null!=e&&Le.call(e,t)}function wr(e,t){return null!=e&&t in Se(e)}function kr(t,n,r){for(var o=r?Tt:kt,i=t[0].length,a=t.length,s=a,u=pe(a),c=1/0,l=[];s--;){var p=t[s];s&&n&&(p=Bt(p,Qt(n))),c=yn(p.length,c),u[s]=!r&&(n||i>=120&&p.length>=120)?new Jn(s&&p):e}p=t[0];var d=-1,h=u[0];e:for(;++d<i&&l.length<c;){var m=p[d],f=n?n(m):m;if(m=r||0!==m?m:0,!(h?Yt(h,f):o(l,f,r))){for(s=a;--s;){var g=u[s];if(!(g?Yt(g,f):o(t[s],f,r)))continue e}h&&h.push(f),l.push(m)}}return l}function Tr(t,n,r){var o=null==(t=wi(t,n=Io(n,t)))?t:t[Ui(ta(n))];return null==o?e:At(o,t,r)}function Br(e){return as(e)&&Fr(e)==m}function Pr(t,n,r,o,i){return t===n||(null==t||null==n||!as(t)&&!as(n)?t!=t&&n!=n:function(t,n,r,o,i,a){var s=Ja(t),u=Ja(n),c=s?f:gi(t),l=u?f:gi(n),p=(c=c==m?E:c)==E,d=(l=l==m?E:l)==E,h=c==l;if(h&&Xa(t)){if(!Xa(n))return!1;s=!0,p=!1}if(h&&!p)return a||(a=new Qn),s||ms(t)?ri(t,n,r,o,i,a):function(e,t,n,r,o,i,a){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!i(new He(e),new He(t)));case g:case v:case _:return Ha(+e,+t);case D:return e.name==t.name&&e.message==t.message;case x:case S:return e==t+"";case I:var s=sn;case F:var u=1&r;if(s||(s=ln),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case b:if(jn)return jn.call(e)==jn.call(t)}return!1}(t,n,c,r,o,i,a);if(!(1&r)){var C=p&&Le.call(t,"__wrapped__"),y=d&&Le.call(n,"__wrapped__");if(C||y){var A=C?t.value():t,w=y?n.value():n;return a||(a=new Qn),i(A,w,r,o,a)}}return!!h&&(a||(a=new Qn),function(t,n,r,o,i,a){var s=1&r,u=ii(t),c=u.length,l=ii(n).length;if(c!=l&&!s)return!1;for(var p=c;p--;){var d=u[p];if(!(s?d in n:Le.call(n,d)))return!1}var h=a.get(t),m=a.get(n);if(h&&m)return h==n&&m==t;var f=!0;a.set(t,n),a.set(n,t);for(var g=s;++p<c;){var v=t[d=u[p]],D=n[d];if(o)var C=s?o(D,v,d,n,t,a):o(v,D,d,t,n,a);if(!(C===e?v===D||i(v,D,r,o,a):C)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var y=t.constructor,I=n.constructor;y==I||!("constructor"in t)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof I&&I instanceof I||(f=!1)}return a.delete(t),a.delete(n),f}(t,n,r,o,i,a))}(t,n,r,o,Pr,i))}function Rr(t,n,r,o){var i=r.length,a=i,s=!o;if(null==t)return!a;for(t=Se(t);i--;){var u=r[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var c=(u=r[i])[0],l=t[c],p=u[1];if(s&&u[2]){if(l===e&&!(c in t))return!1}else{var d=new Qn;if(o)var h=o(l,p,c,t,n,d);if(!(h===e?Pr(p,l,3,o,d):h))return!1}}return!0}function Or(e){return!(!is(e)||(t=e,Ne&&Ne in t))&&(ns(e)?Ue:ve).test(Wi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?uu:"object"==typeof e?Ja(e)?Ur(e[0],e[1]):Kr(e):vu(e)}function Mr(e){if(!xi(e))return Dn(e);var t=[];for(var n in Se(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e){if(!is(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=xi(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function qr(e,t){var n=-1,r=Za(e)?pe(e.length):[];return hr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function Kr(e){var t=di(e);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function Ur(t,n){return _i(t)&&Fi(n)?Si(Ui(t),n):function(r){var o=Ts(r,t);return o===e&&o===n?Bs(r,t):Pr(n,o,3)}}function Wr(t,n,r,o,i){t!==n&&Cr(n,(function(a,s){if(i||(i=new Qn),is(a))!function(t,n,r,o,i,a,s){var u=Ti(t,r),c=Ti(n,r),l=s.get(c);if(l)tr(t,r,l);else{var p=a?a(u,c,r+"",t,n,s):e,d=p===e;if(d){var h=Ja(c),m=!h&&Xa(c),f=!h&&!m&&ms(c);p=c,h||m||f?Ja(u)?p=u:Ya(u)?p=To(u):m?(d=!1,p=xo(c,!0)):f?(d=!1,p=So(c,!0)):p=[]:cs(c)||za(c)?(p=u,za(u)?p=_s(u):is(u)&&!ns(u)||(p=Di(c))):d=!1}d&&(s.set(c,p),i(p,c,o,a,s),s.delete(c)),tr(t,r,p)}}(t,n,s,r,Wr,o,i);else{var u=o?o(Ti(t,s),a,s+"",t,n,i):e;u===e&&(u=a),tr(t,s,u)}}),Ms)}function $r(t,n){var r=t.length;if(r)return yi(n+=n<0?r:0,r)?t[n]:e}function Hr(e,t,n){t=t.length?Bt(t,(function(e){return Ja(e)?function(t){return Ar(t,1===e.length?e[0]:e)}:e})):[uu];var r=-1;return t=Bt(t,Qt(li())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(qr(e,(function(e,n,o){return{criteria:Bt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=bo(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Vr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Ar(e,a);n(s,a)&&eo(i,Io(a,e),s)}return i}function Gr(e,t,n,r){var o=r?Kt:qt,i=-1,a=t.length,s=e;for(e===t&&(t=To(t)),n&&(s=Bt(e,Qt(n)));++i<a;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(s,l,u,r))>-1;)s!==e&&Qe.call(s,u,1),Qe.call(e,u,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;yi(o)?Qe.call(e,o,1):ho(e,o)}}return e}function Jr(e,t){return e+vt(En()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>l)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Ri(bi(e,t,uu),e+"")}function Yr(e){return Yn(Hs(e))}function Xr(e,t){var n=Hs(e);return Mi(n,ur(t,0,n.length))}function eo(t,n,r,o){if(!is(t))return t;for(var i=-1,a=(n=Io(n,t)).length,s=a-1,u=t;null!=u&&++i<a;){var c=Ui(n[i]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var p=u[c];(l=o?o(p,c,u):e)===e&&(l=is(p)?p:yi(n[i+1])?[]:{})}nr(u,c,l),u=u[c]}return t}var to=Tn?function(e,t){return Tn.set(e,t),e}:uu,no=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:iu(t),writable:!0})}:uu;function ro(e){return Mi(Hs(e))}function oo(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=pe(o);++r<o;)i[r]=e[r+t];return i}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!hs(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,uu,n)}function so(t,n,r,o){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(n=r(n))!=n,u=null===n,c=hs(n),l=n===e;i<a;){var p=vt((i+a)/2),d=r(t[p]),h=d!==e,m=null===d,f=d==d,g=hs(d);if(s)var v=o||f;else v=l?f&&(o||h):u?f&&h&&(o||!m):c?f&&h&&!m&&(o||!g):!m&&!g&&(o?d<=n:d<n);v?i=p+1:a=p}return yn(a,4294967294)}function uo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ha(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function co(e){return"number"==typeof e?e:hs(e)?p:+e}function lo(e){if("string"==typeof e)return e;if(Ja(e))return Bt(e,lo)+"";if(hs(e))return qn?qn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function po(e,t,n){var r=-1,o=kt,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=Tt;else if(i>=200){var c=t?null:Zo(e);if(c)return ln(c);a=!1,o=Yt,u=new Jn}else u=t?[]:s;e:for(;++r<i;){var l=e[r],p=t?t(l):l;if(l=n||0!==l?l:0,a&&p==p){for(var d=u.length;d--;)if(u[d]===p)continue e;t&&u.push(p),s.push(l)}else o(u,p,n)||(u!==s&&u.push(p),s.push(l))}return s}function ho(e,t){return null==(e=wi(e,t=Io(t,e)))||delete e[Ui(ta(t))]}function mo(e,t,n,r){return eo(e,t,n(Ar(e,t)),r)}function fo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function vo(e,t,n){var r=e.length;if(r<2)return r?po(e[0]):[];for(var o=-1,i=pe(r);++o<r;)for(var a=e[o],s=-1;++s<r;)s!=o&&(i[o]=dr(i[o]||a,e[s],t,n));return po(Dr(i,1),t,n)}function Do(t,n,r){for(var o=-1,i=t.length,a=n.length,s={};++o<i;){var u=o<a?n[o]:e;r(s,t[o],u)}return s}function Co(e){return Ya(e)?e:[]}function yo(e){return"function"==typeof e?e:uu}function Io(e,t){return Ja(e)?e:_i(e,t)?[e]:Ki(Es(e))}var _o=Zr;function Eo(t,n,r){var o=t.length;return r=r===e?o:r,!n&&r>=o?t:oo(t,n,r)}var Ao=pt||function(e){return dt.clearTimeout(e)};function xo(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Fo(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function So(e,t){var n=t?Fo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function bo(t,n){if(t!==n){var r=t!==e,o=null===t,i=t==t,a=hs(t),s=n!==e,u=null===n,c=n==n,l=hs(n);if(!u&&!l&&!a&&t>n||a&&s&&c&&!u&&!l||o&&s&&c||!r&&c||!i)return 1;if(!o&&!a&&!l&&t<n||l&&r&&i&&!o&&!a||u&&r&&i||!s&&i||!c)return-1}return 0}function wo(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,u=t.length,c=Cn(i-a,0),l=pe(u+c),p=!r;++s<u;)l[s]=t[s];for(;++o<a;)(p||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[s++]=e[o++];return l}function ko(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Cn(i-s,0),p=pe(l+c),d=!r;++o<l;)p[o]=e[o];for(var h=o;++u<c;)p[h+u]=t[u];for(;++a<s;)(d||o<i)&&(p[h+n[a]]=e[o++]);return p}function To(e,t){var n=-1,r=e.length;for(t||(t=pe(r));++n<r;)t[n]=e[n];return t}function Bo(t,n,r,o){var i=!r;r||(r={});for(var a=-1,s=n.length;++a<s;){var u=n[a],c=o?o(r[u],t[u],u,r,t):e;c===e&&(c=t[u]),i?ar(r,u,c):nr(r,u,c)}return r}function Po(e,t){return function(n,r){var o=Ja(n)?xt:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Ro(t){return Zr((function(n,r){var o=-1,i=r.length,a=i>1?r[i-1]:e,s=i>2?r[2]:e;for(a=t.length>3&&"function"==typeof a?(i--,a):e,s&&Ii(r[0],r[1],s)&&(a=i<3?e:a,i=1),n=Se(n);++o<i;){var u=r[o];u&&t(n,u,o,a)}return n}))}function Oo(e,t){return function(n,r){if(null==n)return n;if(!Za(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Se(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Se(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function Mo(t){return function(n){var r=an(n=Es(n))?dn(n):e,o=r?r[0]:n.charAt(0),i=r?Eo(r,1).join(""):n.slice(1);return o[t]()+i}}function No(e){return function(t){return Rt(nu(zs(t).replace(Ze,"")),e,"")}}function jo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return is(r)?r:n}}function qo(t){return function(n,r,o){var i=Se(n);if(!Za(n)){var a=li(r,3);n=Ls(n),r=function(e){return a(i[e],e,i)}}var s=t(n,r,o);return s>-1?i[a?n[s]:s]:e}}function Ko(n){return oi((function(r){var o=r.length,i=o,a=$n.prototype.thru;for(n&&r.reverse();i--;){var s=r[i];if("function"!=typeof s)throw new ke(t);if(a&&!u&&"wrapper"==ui(s))var u=new $n([],!0)}for(i=u?i:o;++i<o;){var c=ui(s=r[i]),l="wrapper"==c?si(s):e;u=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ui(l[0])].apply(u,l[3]):1==s.length&&Ei(s)?u[c]():u.thru(s)}return function(){var e=arguments,t=e[0];if(u&&1==e.length&&Ja(t))return u.plant(t).value();for(var n=0,i=o?r[n].apply(this,e):t;++n<o;)i=r[n].call(this,i);return i}}))}function Uo(t,n,r,o,i,a,u,c,l,p){var d=n&s,h=1&n,m=2&n,f=24&n,g=512&n,v=m?e:jo(t);return function e(){for(var s=arguments.length,D=pe(s),C=s;C--;)D[C]=arguments[C];if(f)var y=ci(e),I=tn(D,y);if(o&&(D=wo(D,o,i,f)),a&&(D=ko(D,a,u,f)),s-=I,f&&s<p){var _=cn(D,y);return Jo(t,n,Uo,e.placeholder,r,D,_,c,l,p-s)}var E=h?r:this,A=m?E[t]:t;return s=D.length,c?D=ki(D,c):g&&s>1&&D.reverse(),d&&l<s&&(D.length=l),this&&this!==dt&&this instanceof e&&(A=v||jo(A)),A.apply(E,D)}}function Wo(e,t){return function(n,r){return function(e,t,n,r){return Ir(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function $o(t,n){return function(r,o){var i;if(r===e&&o===e)return n;if(r!==e&&(i=r),o!==e){if(i===e)return o;"string"==typeof r||"string"==typeof o?(r=lo(r),o=lo(o)):(r=co(r),o=co(o)),i=t(r,o)}return i}}function Ho(e){return oi((function(t){return t=Bt(t,Qt(li())),Zr((function(n){var r=this;return e(t,(function(e){return At(e,r,n)}))}))}))}function Vo(t,n){var r=(n=n===e?" ":lo(n)).length;if(r<2)return r?Qr(n,t):n;var o=Qr(n,gt(t/pn(n)));return an(n)?Eo(dn(o),0,t).join(""):o.slice(0,t)}function Go(t){return function(n,r,o){return o&&"number"!=typeof o&&Ii(n,r,o)&&(r=o=e),n=Ds(n),r===e?(r=n,n=0):r=Ds(r),function(e,t,n,r){for(var o=-1,i=Cn(gt((t-e)/(n||1)),0),a=pe(i);i--;)a[r?i:++o]=e,e+=n;return a}(n,r,o=o===e?n<r?1:-1:Ds(o),t)}}function zo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Is(t),n=Is(n)),e(t,n)}}function Jo(t,n,r,o,s,u,c,l,p,d){var h=8&n;n|=h?i:a,4&(n&=~(h?a:i))||(n&=-4);var m=[t,n,s,h?u:e,h?c:e,h?e:u,h?e:c,l,p,d],f=r.apply(e,m);return Ei(t)&&Bi(f,m),f.placeholder=o,Oi(f,t,n)}function Qo(e){var t=Fe[e];return function(e,n){if(e=Is(e),(n=null==n?0:yn(Cs(n),292))&&gn(e)){var r=(Es(e)+"e").split("e");return+((r=(Es(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Zo=bn&&1/ln(new bn([,-0]))[1]==c?function(e){return new bn(e)}:hu;function Yo(e){return function(t){var n=gi(t);return n==I?sn(t):n==F?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Bt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xo(n,c,l,p,d,h,m,f){var g=2&c;if(!g&&"function"!=typeof n)throw new ke(t);var v=p?p.length:0;if(v||(c&=-97,p=d=e),m=m===e?m:Cn(Cs(m),0),f=f===e?f:Cs(f),v-=d?d.length:0,c&a){var D=p,C=d;p=d=e}var y=g?e:si(n),I=[n,c,l,p,d,D,C,h,m,f];if(y&&function(e,t){var n=e[1],o=t[1],i=n|o,a=i<131,c=o==s&&8==n||o==s&&n==u&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==n;if(!a&&!c)return e;1&o&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var p=e[3];e[3]=p?wo(p,l,t[4]):l,e[4]=p?cn(e[3],r):t[4]}(l=t[5])&&(p=e[5],e[5]=p?ko(p,l,t[6]):l,e[6]=p?cn(e[5],r):t[6]),(l=t[7])&&(e[7]=l),o&s&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(I,y),n=I[0],c=I[1],l=I[2],p=I[3],d=I[4],!(f=I[9]=I[9]===e?g?0:n.length:Cn(I[9]-v,0))&&24&c&&(c&=-25),c&&1!=c)_=8==c||c==o?function(t,n,r){var o=jo(t);return function i(){for(var a=arguments.length,s=pe(a),u=a,c=ci(i);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:cn(s,c);return(a-=l.length)<r?Jo(t,n,Uo,i.placeholder,e,s,l,e,e,r-a):At(this&&this!==dt&&this instanceof i?o:t,this,s)}}(n,c,f):c!=i&&33!=c||d.length?Uo.apply(e,I):function(e,t,n,r){var o=1&t,i=jo(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=pe(c+s),p=this&&this!==dt&&this instanceof t?i:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return At(p,o?n:this,l)}}(n,c,l,p);else var _=function(e,t,n){var r=1&t,o=jo(e);return function t(){return(this&&this!==dt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(n,c,l);return Oi((y?to:Bi)(_,I),n,c)}function ei(t,n,r,o){return t===e||Ha(t,Pe[r])&&!Le.call(o,r)?n:t}function ti(t,n,r,o,i,a){return is(t)&&is(n)&&(a.set(n,t),Wr(t,n,e,ti,a),a.delete(n)),t}function ni(t){return cs(t)?e:t}function ri(t,n,r,o,i,a){var s=1&r,u=t.length,c=n.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t),p=a.get(n);if(l&&p)return l==n&&p==t;var d=-1,h=!0,m=2&r?new Jn:e;for(a.set(t,n),a.set(n,t);++d<u;){var f=t[d],g=n[d];if(o)var v=s?o(g,f,d,n,t,a):o(f,g,d,t,n,a);if(v!==e){if(v)continue;h=!1;break}if(m){if(!Lt(n,(function(e,t){if(!Yt(m,t)&&(f===e||i(f,e,r,o,a)))return m.push(t)}))){h=!1;break}}else if(f!==g&&!i(f,g,r,o,a)){h=!1;break}}return a.delete(t),a.delete(n),h}function oi(t){return Ri(bi(t,e,Qi),t+"")}function ii(e){return xr(e,Ls,mi)}function ai(e){return xr(e,Ms,fi)}var si=Tn?function(e){return Tn.get(e)}:hu;function ui(e){for(var t=e.name+"",n=Bn[t],r=Le.call(Bn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Le.call(Kn,"placeholder")?Kn:e).placeholder}function li(){var e=Kn.iteratee||cu;return e=e===cu?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function pi(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function di(e){for(var t=Ls(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Fi(o)]}return t}function hi(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return Or(r)?r:e}var mi=Mt?function(e){return null==e?[]:(e=Se(e),wt(Mt(e),(function(t){return Je.call(e,t)})))}:yu,fi=Mt?function(e){for(var t=[];e;)Pt(t,mi(e)),e=Ge(e);return t}:yu,gi=Fr;function vi(e,t,n){for(var r=-1,o=(t=Io(t,e)).length,i=!1;++r<o;){var a=Ui(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&os(o)&&yi(a,o)&&(Ja(e)||za(e))}function Di(e){return"function"!=typeof e.constructor||xi(e)?{}:Un(Ge(e))}function Ci(e){return Ja(e)||za(e)||!!(Xe&&e&&e[Xe])}function yi(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&Ce.test(e))&&e>-1&&e%1==0&&e<t}function Ii(e,t,n){if(!is(n))return!1;var r=typeof t;return!!("number"==r?Za(n)&&yi(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function _i(e,t){if(Ja(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hs(e))||Y.test(e)||!Z.test(e)||null!=t&&e in Se(t)}function Ei(e){var t=ui(e),n=Kn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(xn&&gi(new xn(new ArrayBuffer(1)))!=T||Fn&&gi(new Fn)!=I||Sn&&gi(Sn.resolve())!=A||bn&&gi(new bn)!=F||wn&&gi(new wn)!=w)&&(gi=function(t){var n=Fr(t),r=n==E?t.constructor:e,o=r?Wi(r):"";if(o)switch(o){case Pn:return T;case Rn:return I;case On:return A;case Ln:return F;case Mn:return w}return n});var Ai=Re?ns:Iu;function xi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Fi(e){return e==e&&!is(e)}function Si(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in Se(r))}}function bi(t,n,r){return n=Cn(n===e?t.length-1:n,0),function(){for(var e=arguments,o=-1,i=Cn(e.length-n,0),a=pe(i);++o<i;)a[o]=e[n+o];o=-1;for(var s=pe(n+1);++o<n;)s[o]=e[o];return s[n]=r(a),At(t,this,s)}}function wi(e,t){return t.length<2?e:Ar(e,oo(t,0,-1))}function ki(t,n){for(var r=t.length,o=yn(n.length,r),i=To(t);o--;){var a=n[o];t[o]=yi(a,r)?i[a]:e}return t}function Ti(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Bi=Li(to),Pi=mt||function(e,t){return dt.setTimeout(e,t)},Ri=Li(no);function Oi(e,t,n){var r=t+"";return Ri(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ft(h,(function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ie);return t?t[1].split(ae):[]}(r),n)))}function Li(t){var n=0,r=0;return function(){var o=In(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Mi(t,n){var r=-1,o=t.length,i=o-1;for(n=n===e?o:n;++r<n;){var a=Jr(r,i),s=t[a];t[a]=t[r],t[r]=s}return t.length=n,t}var Ni,ji,qi,Ki=(Ni=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(X,(function(e,n,r,o){t.push(r?o.replace(de,"$1"):n||e)})),t},ji=ja(Ni,(function(e){return 500===qi.size&&qi.clear(),e})),qi=ji.cache,ji);function Ui(e){if("string"==typeof e||hs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wi(e){if(null!=e){try{return Oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function $i(e){if(e instanceof Hn)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=To(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Hi=Zr((function(e,t){return Ya(e)?dr(e,Dr(t,1,Ya,!0)):[]})),Vi=Zr((function(t,n){var r=ta(n);return Ya(r)&&(r=e),Ya(t)?dr(t,Dr(n,1,Ya,!0),li(r,2)):[]})),Gi=Zr((function(t,n){var r=ta(n);return Ya(r)&&(r=e),Ya(t)?dr(t,Dr(n,1,Ya,!0),e,r):[]}));function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Cs(n);return o<0&&(o=Cn(r+o,0)),jt(e,li(t,3),o)}function Ji(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return r!==e&&(i=Cs(r),i=r<0?Cn(o+i,0):yn(i,o-1)),jt(t,li(n,3),i,!0)}function Qi(e){return null!=e&&e.length?Dr(e,1):[]}function Zi(t){return t&&t.length?t[0]:e}var Yi=Zr((function(e){var t=Bt(e,Co);return t.length&&t[0]===e[0]?kr(t):[]})),Xi=Zr((function(t){var n=ta(t),r=Bt(t,Co);return n===ta(r)?n=e:r.pop(),r.length&&r[0]===t[0]?kr(r,li(n,2)):[]})),ea=Zr((function(t){var n=ta(t),r=Bt(t,Co);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?kr(r,e,n):[]}));function ta(t){var n=null==t?0:t.length;return n?t[n-1]:e}var na=Zr(ra);function ra(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var oa=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return zr(e,Bt(t,(function(e){return yi(e,n)?+e:e})).sort(bo)),r}));function ia(e){return null==e?e:An.call(e)}var aa=Zr((function(e){return po(Dr(e,1,Ya,!0))})),sa=Zr((function(t){var n=ta(t);return Ya(n)&&(n=e),po(Dr(t,1,Ya,!0),li(n,2))})),ua=Zr((function(t){var n=ta(t);return n="function"==typeof n?n:e,po(Dr(t,1,Ya,!0),e,n)}));function ca(e){if(!e||!e.length)return[];var t=0;return e=wt(e,(function(e){if(Ya(e))return t=Cn(e.length,t),!0})),zt(t,(function(t){return Bt(e,$t(t))}))}function la(t,n){if(!t||!t.length)return[];var r=ca(t);return null==n?r:Bt(r,(function(t){return At(n,e,t)}))}var pa=Zr((function(e,t){return Ya(e)?dr(e,t):[]})),da=Zr((function(e){return vo(wt(e,Ya))})),ha=Zr((function(t){var n=ta(t);return Ya(n)&&(n=e),vo(wt(t,Ya),li(n,2))})),ma=Zr((function(t){var n=ta(t);return n="function"==typeof n?n:e,vo(wt(t,Ya),e,n)})),fa=Zr(ca),ga=Zr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,la(t,r)}));function va(e){var t=Kn(e);return t.__chain__=!0,t}function Da(e,t){return t(e)}var Ca=oi((function(t){var n=t.length,r=n?t[0]:0,o=this.__wrapped__,i=function(e){return sr(e,t)};return!(n>1||this.__actions__.length)&&o instanceof Hn&&yi(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:Da,args:[i],thisArg:e}),new $n(o,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(i)})),ya=Po((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)})),Ia=qo(zi),_a=qo(Ji);function Ea(e,t){return(Ja(e)?Ft:hr)(e,li(t,3))}function Aa(e,t){return(Ja(e)?St:mr)(e,li(t,3))}var xa=Po((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])})),Fa=Zr((function(e,t,n){var r=-1,o="function"==typeof t,i=Za(e)?pe(e.length):[];return hr(e,(function(e){i[++r]=o?At(t,e,n):Tr(e,t,n)})),i})),Sa=Po((function(e,t,n){ar(e,n,t)}));function ba(e,t){return(Ja(e)?Bt:qr)(e,li(t,3))}var wa=Po((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ka=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ii(e,t[0],t[1])?t=[]:n>2&&Ii(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,Dr(t,1),[])})),Ta=ht||function(){return dt.Date.now()};function Ba(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Xo(t,s,e,e,e,e,n)}function Pa(n,r){var o;if("function"!=typeof r)throw new ke(t);return n=Cs(n),function(){return--n>0&&(o=r.apply(this,arguments)),n<=1&&(r=e),o}}var Ra=Zr((function(e,t,n){var r=1;if(n.length){var o=cn(n,ci(Ra));r|=i}return Xo(e,r,t,n,o)})),Oa=Zr((function(e,t,n){var r=3;if(n.length){var o=cn(n,ci(Oa));r|=i}return Xo(t,r,e,n,o)}));function La(n,r,o){var i,a,s,u,c,l,p=0,d=!1,h=!1,m=!0;if("function"!=typeof n)throw new ke(t);function f(t){var r=i,o=a;return i=a=e,p=t,u=n.apply(o,r)}function g(e){return p=e,c=Pi(D,r),d?f(e):u}function v(t){var n=t-l;return l===e||n>=r||n<0||h&&t-p>=s}function D(){var e=Ta();if(v(e))return C(e);c=Pi(D,function(e){var t=r-(e-l);return h?yn(t,s-(e-p)):t}(e))}function C(t){return c=e,m&&i?f(t):(i=a=e,u)}function y(){var t=Ta(),n=v(t);if(i=arguments,a=this,l=t,n){if(c===e)return g(l);if(h)return Ao(c),c=Pi(D,r),f(l)}return c===e&&(c=Pi(D,r)),u}return r=Is(r)||0,is(o)&&(d=!!o.leading,s=(h="maxWait"in o)?Cn(Is(o.maxWait)||0,r):s,m="trailing"in o?!!o.trailing:m),y.cancel=function(){c!==e&&Ao(c),p=0,i=l=a=c=e},y.flush=function(){return c===e?u:C(Ta())},y}var Ma=Zr((function(e,t){return pr(e,1,t)})),Na=Zr((function(e,t,n){return pr(e,Is(t)||0,n)}));function ja(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new ke(t);var r=function(){var t=arguments,o=n?n.apply(this,t):t[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,t);return r.cache=i.set(o,a)||i,a};return r.cache=new(ja.Cache||zn),r}function qa(e){if("function"!=typeof e)throw new ke(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=zn;var Ka=_o((function(e,t){var n=(t=1==t.length&&Ja(t[0])?Bt(t[0],Qt(li())):Bt(Dr(t,1),Qt(li()))).length;return Zr((function(r){for(var o=-1,i=yn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return At(e,this,r)}))})),Ua=Zr((function(t,n){var r=cn(n,ci(Ua));return Xo(t,i,e,n,r)})),Wa=Zr((function(t,n){var r=cn(n,ci(Wa));return Xo(t,a,e,n,r)})),$a=oi((function(t,n){return Xo(t,u,e,e,e,n)}));function Ha(e,t){return e===t||e!=e&&t!=t}var Va=zo(Sr),Ga=zo((function(e,t){return e>=t})),za=Br(function(){return arguments}())?Br:function(e){return as(e)&&Le.call(e,"callee")&&!Je.call(e,"callee")},Ja=pe.isArray,Qa=Dt?Qt(Dt):function(e){return as(e)&&Fr(e)==k};function Za(e){return null!=e&&os(e.length)&&!ns(e)}function Ya(e){return as(e)&&Za(e)}var Xa=Ht||Iu,es=Ct?Qt(Ct):function(e){return as(e)&&Fr(e)==v};function ts(e){if(!as(e))return!1;var t=Fr(e);return t==D||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!cs(e)}function ns(e){if(!is(e))return!1;var t=Fr(e);return t==C||t==y||"[object AsyncFunction]"==t||"[object Proxy]"==t}function rs(e){return"number"==typeof e&&e==Cs(e)}function os(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function is(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function as(e){return null!=e&&"object"==typeof e}var ss=yt?Qt(yt):function(e){return as(e)&&gi(e)==I};function us(e){return"number"==typeof e||as(e)&&Fr(e)==_}function cs(e){if(!as(e)||Fr(e)!=E)return!1;var t=Ge(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==qe}var ls=It?Qt(It):function(e){return as(e)&&Fr(e)==x},ps=_t?Qt(_t):function(e){return as(e)&&gi(e)==F};function ds(e){return"string"==typeof e||!Ja(e)&&as(e)&&Fr(e)==S}function hs(e){return"symbol"==typeof e||as(e)&&Fr(e)==b}var ms=Et?Qt(Et):function(e){return as(e)&&os(e.length)&&!!it[Fr(e)]},fs=zo(jr),gs=zo((function(e,t){return e<=t}));function vs(e){if(!e)return[];if(Za(e))return ds(e)?dn(e):To(e);if(tt&&e[tt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[tt]());var t=gi(e);return(t==I?sn:t==F?ln:Hs)(e)}function Ds(e){return e?(e=Is(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Cs(e){var t=Ds(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e?ur(Cs(e),0,d):0}function Is(e){if("number"==typeof e)return e;if(hs(e))return p;if(is(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=is(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ge.test(e);return n||De.test(e)?ct(e.slice(2),n?2:8):fe.test(e)?p:+e}function _s(e){return Bo(e,Ms(e))}function Es(e){return null==e?"":lo(e)}var As=Ro((function(e,t){if(xi(t)||Za(t))Bo(t,Ls(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),xs=Ro((function(e,t){Bo(t,Ms(t),e)})),Fs=Ro((function(e,t,n,r){Bo(t,Ms(t),e,r)})),Ss=Ro((function(e,t,n,r){Bo(t,Ls(t),e,r)})),bs=oi(sr),ws=Zr((function(t,n){t=Se(t);var r=-1,o=n.length,i=o>2?n[2]:e;for(i&&Ii(n[0],n[1],i)&&(o=1);++r<o;)for(var a=n[r],s=Ms(a),u=-1,c=s.length;++u<c;){var l=s[u],p=t[l];(p===e||Ha(p,Pe[l])&&!Le.call(t,l))&&(t[l]=a[l])}return t})),ks=Zr((function(t){return t.push(e,ti),At(js,e,t)}));function Ts(t,n,r){var o=null==t?e:Ar(t,n);return o===e?r:o}function Bs(e,t){return null!=e&&vi(e,t,wr)}var Ps=Wo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),iu(uu)),Rs=Wo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),li),Os=Zr(Tr);function Ls(e){return Za(e)?Zn(e):Mr(e)}function Ms(e){return Za(e)?Zn(e,!0):Nr(e)}var Ns=Ro((function(e,t,n){Wr(e,t,n)})),js=Ro((function(e,t,n,r){Wr(e,t,n,r)})),qs=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Bt(t,(function(t){return t=Io(t,e),r||(r=t.length>1),t})),Bo(e,ai(e),n),r&&(n=cr(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n})),Ks=oi((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Bs(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Bt(ai(e),(function(e){return[e]}));return t=li(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var Ws=Yo(Ls),$s=Yo(Ms);function Hs(e){return null==e?[]:Zt(e,Ls(e))}var Vs=No((function(e,t,n){return t=t.toLowerCase(),e+(n?Gs(t):t)}));function Gs(e){return tu(Es(e).toLowerCase())}function zs(e){return(e=Es(e))&&e.replace(ye,nn).replace(Ye,"")}var Js=No((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Qs=No((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Zs=Mo("toLowerCase"),Ys=No((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Xs=No((function(e,t,n){return e+(n?" ":"")+tu(t)})),eu=No((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),tu=Mo("toUpperCase");function nu(t,n,r){return t=Es(t),(n=r?e:n)===e?function(e){return nt.test(e)}(t)?function(e){return e.match(et)||[]}(t):function(e){return e.match(se)||[]}(t):t.match(n)||[]}var ru=Zr((function(t,n){try{return At(t,e,n)}catch(r){return ts(r)?r:new Ae(r)}})),ou=oi((function(e,t){return Ft(t,(function(t){t=Ui(t),ar(e,t,Ra(e[t],e))})),e}));function iu(e){return function(){return e}}var au=Ko(),su=Ko(!0);function uu(e){return e}function cu(e){return Lr("function"==typeof e?e:cr(e,1))}var lu=Zr((function(e,t){return function(n){return Tr(n,e,t)}})),pu=Zr((function(e,t){return function(n){return Tr(e,n,t)}}));function du(e,t,n){var r=Ls(t),o=Er(t,r);null!=n||is(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Ls(t)));var i=!(is(n)&&"chain"in n&&!n.chain),a=ns(e);return Ft(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=To(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Pt([this.value()],arguments))})})),e}function hu(){}var mu=Ho(Bt),fu=Ho(bt),gu=Ho(Lt);function vu(e){return _i(e)?$t(Ui(e)):function(e){return function(t){return Ar(t,e)}}(e)}var Du=Go(),Cu=Go(!0);function yu(){return[]}function Iu(){return!1}var _u,Eu=$o((function(e,t){return e+t}),0),Au=Qo("ceil"),xu=$o((function(e,t){return e/t}),1),Fu=Qo("floor"),Su=$o((function(e,t){return e*t}),1),bu=Qo("round"),wu=$o((function(e,t){return e-t}),0);return Kn.after=function(e,n){if("function"!=typeof n)throw new ke(t);return e=Cs(e),function(){if(--e<1)return n.apply(this,arguments)}},Kn.ary=Ba,Kn.assign=As,Kn.assignIn=xs,Kn.assignInWith=Fs,Kn.assignWith=Ss,Kn.at=bs,Kn.before=Pa,Kn.bind=Ra,Kn.bindAll=ou,Kn.bindKey=Oa,Kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ja(e)?e:[e]},Kn.chain=va,Kn.chunk=function(t,n,r){n=(r?Ii(t,n,r):n===e)?1:Cn(Cs(n),0);var o=null==t?0:t.length;if(!o||n<1)return[];for(var i=0,a=0,s=pe(gt(o/n));i<o;)s[a++]=oo(t,i,i+=n);return s},Kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=pe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Pt(Ja(n)?To(n):[n],Dr(t,1))},Kn.cond=function(e){var n=null==e?0:e.length,r=li();return e=n?Bt(e,(function(e){if("function"!=typeof e[1])throw new ke(t);return[r(e[0]),e[1]]})):[],Zr((function(t){for(var r=-1;++r<n;){var o=e[r];if(At(o[0],this,t))return At(o[1],this,t)}}))},Kn.conforms=function(e){return function(e){var t=Ls(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Kn.constant=iu,Kn.countBy=ya,Kn.create=function(e,t){var n=Un(e);return null==t?n:ir(n,t)},Kn.curry=function t(n,r,o){var i=Xo(n,8,e,e,e,e,e,r=o?e:r);return i.placeholder=t.placeholder,i},Kn.curryRight=function t(n,r,i){var a=Xo(n,o,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},Kn.debounce=La,Kn.defaults=ws,Kn.defaultsDeep=ks,Kn.defer=Ma,Kn.delay=Na,Kn.difference=Hi,Kn.differenceBy=Vi,Kn.differenceWith=Gi,Kn.drop=function(t,n,r){var o=null==t?0:t.length;return o?oo(t,(n=r||n===e?1:Cs(n))<0?0:n,o):[]},Kn.dropRight=function(t,n,r){var o=null==t?0:t.length;return o?oo(t,0,(n=o-(n=r||n===e?1:Cs(n)))<0?0:n):[]},Kn.dropRightWhile=function(e,t){return e&&e.length?fo(e,li(t,3),!0,!0):[]},Kn.dropWhile=function(e,t){return e&&e.length?fo(e,li(t,3),!0):[]},Kn.fill=function(t,n,r,o){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Ii(t,n,r)&&(r=0,o=i),function(t,n,r,o){var i=t.length;for((r=Cs(r))<0&&(r=-r>i?0:i+r),(o=o===e||o>i?i:Cs(o))<0&&(o+=i),o=r>o?0:ys(o);r<o;)t[r++]=n;return t}(t,n,r,o)):[]},Kn.filter=function(e,t){return(Ja(e)?wt:vr)(e,li(t,3))},Kn.flatMap=function(e,t){return Dr(ba(e,t),1)},Kn.flatMapDeep=function(e,t){return Dr(ba(e,t),c)},Kn.flatMapDepth=function(t,n,r){return r=r===e?1:Cs(r),Dr(ba(t,n),r)},Kn.flatten=Qi,Kn.flattenDeep=function(e){return null!=e&&e.length?Dr(e,c):[]},Kn.flattenDepth=function(t,n){return null!=t&&t.length?Dr(t,n=n===e?1:Cs(n)):[]},Kn.flip=function(e){return Xo(e,512)},Kn.flow=au,Kn.flowRight=su,Kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Kn.functions=function(e){return null==e?[]:Er(e,Ls(e))},Kn.functionsIn=function(e){return null==e?[]:Er(e,Ms(e))},Kn.groupBy=xa,Kn.initial=function(e){return null!=e&&e.length?oo(e,0,-1):[]},Kn.intersection=Yi,Kn.intersectionBy=Xi,Kn.intersectionWith=ea,Kn.invert=Ps,Kn.invertBy=Rs,Kn.invokeMap=Fa,Kn.iteratee=cu,Kn.keyBy=Sa,Kn.keys=Ls,Kn.keysIn=Ms,Kn.map=ba,Kn.mapKeys=function(e,t){var n={};return t=li(t,3),Ir(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},Kn.mapValues=function(e,t){var n={};return t=li(t,3),Ir(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},Kn.matches=function(e){return Kr(cr(e,1))},Kn.matchesProperty=function(e,t){return Ur(e,cr(t,1))},Kn.memoize=ja,Kn.merge=Ns,Kn.mergeWith=js,Kn.method=lu,Kn.methodOf=pu,Kn.mixin=du,Kn.negate=qa,Kn.nthArg=function(e){return e=Cs(e),Zr((function(t){return $r(t,e)}))},Kn.omit=qs,Kn.omitBy=function(e,t){return Us(e,qa(li(t)))},Kn.once=function(e){return Pa(2,e)},Kn.orderBy=function(t,n,r,o){return null==t?[]:(Ja(n)||(n=null==n?[]:[n]),Ja(r=o?e:r)||(r=null==r?[]:[r]),Hr(t,n,r))},Kn.over=mu,Kn.overArgs=Ka,Kn.overEvery=fu,Kn.overSome=gu,Kn.partial=Ua,Kn.partialRight=Wa,Kn.partition=wa,Kn.pick=Ks,Kn.pickBy=Us,Kn.property=vu,Kn.propertyOf=function(t){return function(n){return null==t?e:Ar(t,n)}},Kn.pull=na,Kn.pullAll=ra,Kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},Kn.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Gr(t,n,e,r):t},Kn.pullAt=oa,Kn.range=Du,Kn.rangeRight=Cu,Kn.rearg=$a,Kn.reject=function(e,t){return(Ja(e)?wt:vr)(e,qa(li(t,3)))},Kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return zr(e,o),n},Kn.rest=function(n,r){if("function"!=typeof n)throw new ke(t);return Zr(n,r=r===e?r:Cs(r))},Kn.reverse=ia,Kn.sampleSize=function(t,n,r){return n=(r?Ii(t,n,r):n===e)?1:Cs(n),(Ja(t)?Xn:Xr)(t,n)},Kn.set=function(e,t,n){return null==e?e:eo(e,t,n)},Kn.setWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:eo(t,n,r,o)},Kn.shuffle=function(e){return(Ja(e)?er:ro)(e)},Kn.slice=function(t,n,r){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&Ii(t,n,r)?(n=0,r=o):(n=null==n?0:Cs(n),r=r===e?o:Cs(r)),oo(t,n,r)):[]},Kn.sortBy=ka,Kn.sortedUniq=function(e){return e&&e.length?uo(e):[]},Kn.sortedUniqBy=function(e,t){return e&&e.length?uo(e,li(t,2)):[]},Kn.split=function(t,n,r){return r&&"number"!=typeof r&&Ii(t,n,r)&&(n=r=e),(r=r===e?d:r>>>0)?(t=Es(t))&&("string"==typeof n||null!=n&&!ls(n))&&!(n=lo(n))&&an(t)?Eo(dn(t),0,r):t.split(n,r):[]},Kn.spread=function(e,n){if("function"!=typeof e)throw new ke(t);return n=null==n?0:Cn(Cs(n),0),Zr((function(t){var r=t[n],o=Eo(t,0,n);return r&&Pt(o,r),At(e,this,o)}))},Kn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Kn.take=function(t,n,r){return t&&t.length?oo(t,0,(n=r||n===e?1:Cs(n))<0?0:n):[]},Kn.takeRight=function(t,n,r){var o=null==t?0:t.length;return o?oo(t,(n=o-(n=r||n===e?1:Cs(n)))<0?0:n,o):[]},Kn.takeRightWhile=function(e,t){return e&&e.length?fo(e,li(t,3),!1,!0):[]},Kn.takeWhile=function(e,t){return e&&e.length?fo(e,li(t,3)):[]},Kn.tap=function(e,t){return t(e),e},Kn.throttle=function(e,n,r){var o=!0,i=!0;if("function"!=typeof e)throw new ke(t);return is(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),La(e,n,{leading:o,maxWait:n,trailing:i})},Kn.thru=Da,Kn.toArray=vs,Kn.toPairs=Ws,Kn.toPairsIn=$s,Kn.toPath=function(e){return Ja(e)?Bt(e,Ui):hs(e)?[e]:To(Ki(Es(e)))},Kn.toPlainObject=_s,Kn.transform=function(e,t,n){var r=Ja(e),o=r||Xa(e)||ms(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:is(e)&&ns(i)?Un(Ge(e)):{}}return(o?Ft:Ir)(e,(function(e,r,o){return t(n,e,r,o)})),n},Kn.unary=function(e){return Ba(e,1)},Kn.union=aa,Kn.unionBy=sa,Kn.unionWith=ua,Kn.uniq=function(e){return e&&e.length?po(e):[]},Kn.uniqBy=function(e,t){return e&&e.length?po(e,li(t,2)):[]},Kn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?po(t,e,n):[]},Kn.unset=function(e,t){return null==e||ho(e,t)},Kn.unzip=ca,Kn.unzipWith=la,Kn.update=function(e,t,n){return null==e?e:mo(e,t,yo(n))},Kn.updateWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:mo(t,n,yo(r),o)},Kn.values=Hs,Kn.valuesIn=function(e){return null==e?[]:Zt(e,Ms(e))},Kn.without=pa,Kn.words=nu,Kn.wrap=function(e,t){return Ua(yo(t),e)},Kn.xor=da,Kn.xorBy=ha,Kn.xorWith=ma,Kn.zip=fa,Kn.zipObject=function(e,t){return Do(e||[],t||[],nr)},Kn.zipObjectDeep=function(e,t){return Do(e||[],t||[],eo)},Kn.zipWith=ga,Kn.entries=Ws,Kn.entriesIn=$s,Kn.extend=xs,Kn.extendWith=Fs,du(Kn,Kn),Kn.add=Eu,Kn.attempt=ru,Kn.camelCase=Vs,Kn.capitalize=Gs,Kn.ceil=Au,Kn.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=Is(r))==r?r:0),n!==e&&(n=(n=Is(n))==n?n:0),ur(Is(t),n,r)},Kn.clone=function(e){return cr(e,4)},Kn.cloneDeep=function(e){return cr(e,5)},Kn.cloneDeepWith=function(t,n){return cr(t,5,n="function"==typeof n?n:e)},Kn.cloneWith=function(t,n){return cr(t,4,n="function"==typeof n?n:e)},Kn.conformsTo=function(e,t){return null==t||lr(e,t,Ls(t))},Kn.deburr=zs,Kn.defaultTo=function(e,t){return null==e||e!=e?t:e},Kn.divide=xu,Kn.endsWith=function(t,n,r){t=Es(t),n=lo(n);var o=t.length,i=r=r===e?o:ur(Cs(r),0,o);return(r-=n.length)>=0&&t.slice(r,i)==n},Kn.eq=Ha,Kn.escape=function(e){return(e=Es(e))&&G.test(e)?e.replace(H,rn):e},Kn.escapeRegExp=function(e){return(e=Es(e))&&te.test(e)?e.replace(ee,"\\$&"):e},Kn.every=function(t,n,r){var o=Ja(t)?bt:fr;return r&&Ii(t,n,r)&&(n=e),o(t,li(n,3))},Kn.find=Ia,Kn.findIndex=zi,Kn.findKey=function(e,t){return Nt(e,li(t,3),Ir)},Kn.findLast=_a,Kn.findLastIndex=Ji,Kn.findLastKey=function(e,t){return Nt(e,li(t,3),_r)},Kn.floor=Fu,Kn.forEach=Ea,Kn.forEachRight=Aa,Kn.forIn=function(e,t){return null==e?e:Cr(e,li(t,3),Ms)},Kn.forInRight=function(e,t){return null==e?e:yr(e,li(t,3),Ms)},Kn.forOwn=function(e,t){return e&&Ir(e,li(t,3))},Kn.forOwnRight=function(e,t){return e&&_r(e,li(t,3))},Kn.get=Ts,Kn.gt=Va,Kn.gte=Ga,Kn.has=function(e,t){return null!=e&&vi(e,t,br)},Kn.hasIn=Bs,Kn.head=Zi,Kn.identity=uu,Kn.includes=function(e,t,n,r){e=Za(e)?e:Hs(e),n=n&&!r?Cs(n):0;var o=e.length;return n<0&&(n=Cn(o+n,0)),ds(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},Kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Cs(n);return o<0&&(o=Cn(r+o,0)),qt(e,t,o)},Kn.inRange=function(t,n,r){return n=Ds(n),r===e?(r=n,n=0):r=Ds(r),function(e,t,n){return e>=yn(t,n)&&e<Cn(t,n)}(t=Is(t),n,r)},Kn.invoke=Os,Kn.isArguments=za,Kn.isArray=Ja,Kn.isArrayBuffer=Qa,Kn.isArrayLike=Za,Kn.isArrayLikeObject=Ya,Kn.isBoolean=function(e){return!0===e||!1===e||as(e)&&Fr(e)==g},Kn.isBuffer=Xa,Kn.isDate=es,Kn.isElement=function(e){return as(e)&&1===e.nodeType&&!cs(e)},Kn.isEmpty=function(e){if(null==e)return!0;if(Za(e)&&(Ja(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||ms(e)||za(e)))return!e.length;var t=gi(e);if(t==I||t==F)return!e.size;if(xi(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Kn.isEqual=function(e,t){return Pr(e,t)},Kn.isEqualWith=function(t,n,r){var o=(r="function"==typeof r?r:e)?r(t,n):e;return o===e?Pr(t,n,e,r):!!o},Kn.isError=ts,Kn.isFinite=function(e){return"number"==typeof e&&gn(e)},Kn.isFunction=ns,Kn.isInteger=rs,Kn.isLength=os,Kn.isMap=ss,Kn.isMatch=function(e,t){return e===t||Rr(e,t,di(t))},Kn.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Rr(t,n,di(n),r)},Kn.isNaN=function(e){return us(e)&&e!=+e},Kn.isNative=function(e){if(Ai(e))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},Kn.isNil=function(e){return null==e},Kn.isNull=function(e){return null===e},Kn.isNumber=us,Kn.isObject=is,Kn.isObjectLike=as,Kn.isPlainObject=cs,Kn.isRegExp=ls,Kn.isSafeInteger=function(e){return rs(e)&&e>=-9007199254740991&&e<=l},Kn.isSet=ps,Kn.isString=ds,Kn.isSymbol=hs,Kn.isTypedArray=ms,Kn.isUndefined=function(t){return t===e},Kn.isWeakMap=function(e){return as(e)&&gi(e)==w},Kn.isWeakSet=function(e){return as(e)&&"[object WeakSet]"==Fr(e)},Kn.join=function(e,t){return null==e?"":vn.call(e,t)},Kn.kebabCase=Js,Kn.last=ta,Kn.lastIndexOf=function(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o;return r!==e&&(i=(i=Cs(r))<0?Cn(o+i,0):yn(i,o-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(t,n,i):jt(t,Ut,i,!0)},Kn.lowerCase=Qs,Kn.lowerFirst=Zs,Kn.lt=fs,Kn.lte=gs,Kn.max=function(t){return t&&t.length?gr(t,uu,Sr):e},Kn.maxBy=function(t,n){return t&&t.length?gr(t,li(n,2),Sr):e},Kn.mean=function(e){return Wt(e,uu)},Kn.meanBy=function(e,t){return Wt(e,li(t,2))},Kn.min=function(t){return t&&t.length?gr(t,uu,jr):e},Kn.minBy=function(t,n){return t&&t.length?gr(t,li(n,2),jr):e},Kn.stubArray=yu,Kn.stubFalse=Iu,Kn.stubObject=function(){return{}},Kn.stubString=function(){return""},Kn.stubTrue=function(){return!0},Kn.multiply=Su,Kn.nth=function(t,n){return t&&t.length?$r(t,Cs(n)):e},Kn.noConflict=function(){return dt._===this&&(dt._=Ke),this},Kn.noop=hu,Kn.now=Ta,Kn.pad=function(e,t,n){e=Es(e);var r=(t=Cs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Vo(vt(o),n)+e+Vo(gt(o),n)},Kn.padEnd=function(e,t,n){e=Es(e);var r=(t=Cs(t))?pn(e):0;return t&&r<t?e+Vo(t-r,n):e},Kn.padStart=function(e,t,n){e=Es(e);var r=(t=Cs(t))?pn(e):0;return t&&r<t?Vo(t-r,n)+e:e},Kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(Es(e).replace(ne,""),t||0)},Kn.random=function(t,n,r){if(r&&"boolean"!=typeof r&&Ii(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=Ds(t),n===e?(n=t,t=0):n=Ds(n)),t>n){var o=t;t=n,n=o}if(r||t%1||n%1){var i=En();return yn(t+i*(n-t+ut("1e-"+((i+"").length-1))),n)}return Jr(t,n)},Kn.reduce=function(e,t,n){var r=Ja(e)?Rt:Vt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Kn.reduceRight=function(e,t,n){var r=Ja(e)?Ot:Vt,o=arguments.length<3;return r(e,li(t,4),n,o,mr)},Kn.repeat=function(t,n,r){return n=(r?Ii(t,n,r):n===e)?1:Cs(n),Qr(Es(t),n)},Kn.replace=function(){var e=arguments,t=Es(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Kn.result=function(t,n,r){var o=-1,i=(n=Io(n,t)).length;for(i||(i=1,t=e);++o<i;){var a=null==t?e:t[Ui(n[o])];a===e&&(o=i,a=r),t=ns(a)?a.call(t):a}return t},Kn.round=bu,Kn.runInContext=re,Kn.sample=function(e){return(Ja(e)?Yn:Yr)(e)},Kn.size=function(e){if(null==e)return 0;if(Za(e))return ds(e)?pn(e):e.length;var t=gi(e);return t==I||t==F?e.size:Mr(e).length},Kn.snakeCase=Ys,Kn.some=function(t,n,r){var o=Ja(t)?Lt:io;return r&&Ii(t,n,r)&&(n=e),o(t,li(n,3))},Kn.sortedIndex=function(e,t){return ao(e,t)},Kn.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},Kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&Ha(e[r],t))return r}return-1},Kn.sortedLastIndex=function(e,t){return ao(e,t,!0)},Kn.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},Kn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ao(e,t,!0)-1;if(Ha(e[n],t))return n}return-1},Kn.startCase=Xs,Kn.startsWith=function(e,t,n){return e=Es(e),n=null==n?0:ur(Cs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Kn.subtract=wu,Kn.sum=function(e){return e&&e.length?Gt(e,uu):0},Kn.sumBy=function(e,t){return e&&e.length?Gt(e,li(t,2)):0},Kn.template=function(t,n,r){var o=Kn.templateSettings;r&&Ii(t,n,r)&&(n=e),t=Es(t),n=Fs({},n,o,ei);var i,a,s=Fs({},n.imports,o.imports,ei),u=Ls(s),c=Zt(s,u),l=0,p=n.interpolate||Ie,d="__p += '",h=be((n.escape||Ie).source+"|"+p.source+"|"+(p===Q?he:Ie).source+"|"+(n.evaluate||Ie).source+"|$","g"),m="//# sourceURL="+(Le.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";t.replace(h,(function(e,n,r,o,s,u){return r||(r=o),d+=t.slice(l,u).replace(_e,on),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),d+="';\n";var f=Le.call(n,"variable")&&n.variable;if(f){if(ue.test(f))throw new Ae("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(K,""):d).replace(U,"$1").replace(W,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=ru((function(){return xe(u,m+"return "+d).apply(e,c)}));if(g.source=d,ts(g))throw g;return g},Kn.times=function(e,t){if((e=Cs(e))<1||e>l)return[];var n=d,r=yn(e,d);t=li(t),e-=d;for(var o=zt(r,t);++n<e;)t(n);return o},Kn.toFinite=Ds,Kn.toInteger=Cs,Kn.toLength=ys,Kn.toLower=function(e){return Es(e).toLowerCase()},Kn.toNumber=Is,Kn.toSafeInteger=function(e){return e?ur(Cs(e),-9007199254740991,l):0===e?e:0},Kn.toString=Es,Kn.toUpper=function(e){return Es(e).toUpperCase()},Kn.trim=function(t,n,r){if((t=Es(t))&&(r||n===e))return Jt(t);if(!t||!(n=lo(n)))return t;var o=dn(t),i=dn(n);return Eo(o,Xt(o,i),en(o,i)+1).join("")},Kn.trimEnd=function(t,n,r){if((t=Es(t))&&(r||n===e))return t.slice(0,hn(t)+1);if(!t||!(n=lo(n)))return t;var o=dn(t);return Eo(o,0,en(o,dn(n))+1).join("")},Kn.trimStart=function(t,n,r){if((t=Es(t))&&(r||n===e))return t.replace(ne,"");if(!t||!(n=lo(n)))return t;var o=dn(t);return Eo(o,Xt(o,dn(n))).join("")},Kn.truncate=function(t,n){var r=30,o="...";if(is(n)){var i="separator"in n?n.separator:i;r="length"in n?Cs(n.length):r,o="omission"in n?lo(n.omission):o}var a=(t=Es(t)).length;if(an(t)){var s=dn(t);a=s.length}if(r>=a)return t;var u=r-pn(o);if(u<1)return o;var c=s?Eo(s,0,u).join(""):t.slice(0,u);if(i===e)return c+o;if(s&&(u+=c.length-u),ls(i)){if(t.slice(u).search(i)){var l,p=c;for(i.global||(i=be(i.source,Es(me.exec(i))+"g")),i.lastIndex=0;l=i.exec(p);)var d=l.index;c=c.slice(0,d===e?u:d)}}else if(t.indexOf(lo(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+o},Kn.unescape=function(e){return(e=Es(e))&&V.test(e)?e.replace($,mn):e},Kn.uniqueId=function(e){var t=++Me;return Es(e)+t},Kn.upperCase=eu,Kn.upperFirst=tu,Kn.each=Ea,Kn.eachRight=Aa,Kn.first=Zi,du(Kn,(_u={},Ir(Kn,(function(e,t){Le.call(Kn.prototype,t)||(_u[t]=e)})),_u),{chain:!1}),Kn.VERSION="4.17.21",Ft(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Kn[e].placeholder=Kn})),Ft(["drop","take"],(function(t,n){Hn.prototype[t]=function(r){r=r===e?1:Cn(Cs(r),0);var o=this.__filtered__&&!n?new Hn(this):this.clone();return o.__filtered__?o.__takeCount__=yn(r,o.__takeCount__):o.__views__.push({size:yn(r,d),type:t+(o.__dir__<0?"Right":"")}),o},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ft(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ft(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Ft(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(uu)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Tr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(qa(li(e)))},Hn.prototype.slice=function(t,n){t=Cs(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Hn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=Cs(n))<0?r.dropRight(-n):r.take(n-t)),r)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(d)},Ir(Hn.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),i=Kn[o?"take"+("last"==n?"Right":""):n],a=o||/^find/.test(n);i&&(Kn.prototype[n]=function(){var n=this.__wrapped__,s=o?[1]:arguments,u=n instanceof Hn,c=s[0],l=u||Ja(n),p=function(e){var t=i.apply(Kn,Pt([e],s));return o&&d?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,h=!!this.__actions__.length,m=a&&!d,f=u&&!h;if(!a&&l){n=f?n:new Hn(this);var g=t.apply(n,s);return g.__actions__.push({func:Da,args:[p],thisArg:e}),new $n(g,d)}return m&&f?t.apply(this,s):(g=this.thru(p),m?o?g.value()[0]:g.value():g)})})),Ft(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ja(o)?o:[],e)}return this[n]((function(n){return t.apply(Ja(n)?n:[],e)}))}})),Ir(Hn.prototype,(function(e,t){var n=Kn[t];if(n){var r=n.name+"";Le.call(Bn,r)||(Bn[r]=[]),Bn[r].push({name:t,func:n})}})),Bn[Uo(e,2).name]=[{name:"wrapper",func:e}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=To(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=To(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=To(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ja(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yn(t,e+a);break;case"takeRight":e=Cn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,p=l.length,d=0,h=yn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return go(e,this.__actions__);var m=[];e:for(;u--&&d<h;){for(var f=-1,g=e[c+=t];++f<p;){var v=l[f],D=v.iteratee,C=v.type,y=D(g);if(2==C)g=y;else if(!y){if(1==C)continue e;break e}}m[d++]=g}return m},Kn.prototype.at=Ca,Kn.prototype.chain=function(){return va(this)},Kn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Kn.prototype.next=function(){this.__values__===e&&(this.__values__=vs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Kn.prototype.plant=function(t){for(var n,r=this;r instanceof Wn;){var o=$i(r);o.__index__=0,o.__values__=e,n?i.__wrapped__=o:n=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,n},Kn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var n=t;return this.__actions__.length&&(n=new Hn(this)),(n=n.reverse()).__actions__.push({func:Da,args:[ia],thisArg:e}),new $n(n,this.__chain__)}return this.thru(ia)},Kn.prototype.toJSON=Kn.prototype.valueOf=Kn.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},Kn.prototype.first=Kn.prototype.head,tt&&(Kn.prototype[tt]=function(){return this}),Kn}();mt?((mt.exports=fn)._=fn,ht._=fn):dt._=fn}.call(pe);class ve{constructor(e){const t=e[0],n=e[e.length-1]||t,r={sourceString:t.source.sourceString,startIdx:t.source.startIdx,endIdx:n.source.endIdx};this.sourceFile=r,this._internalRange={start:t.source.getLineAndColumn(),end:n.source.collapsedRight().getLineAndColumn()},this.ctorName=e.map((e=>e.ctorName)).join(" + "),this.context=t.parserContext}get range(){const{start:e,end:t}=this._internalRange,{lineNum:n,colNum:r}=e,{lineNum:o,colNum:i}=t;return{line:n,col:r,lineEnd:o,colEnd:i}}get sourceString(){const{sourceString:e,startIdx:t,endIdx:n}=this.sourceFile;return e.slice(t,n)}get printError(){const{startIdx:e,endIdx:t}=this.sourceFile;return n=Error(fe(this._internalRange.start,[e,t])),void console.error("%c"+n.stack,"font-family: monospace; font-size: 13px;font-style: normal;");var n}}function De(...e){return new ve(e.filter(Boolean))}function Ce(e,t=0){let n=0;const r=e.length;let o=-1,i=!1;for(let a=0;a<r;a++)o=e.charCodeAt(a),o>=0&&o<=128?n+=1:(n+=2,i||(n+=t,i=!0));return n}function ye(e,t,n){if(!e)return t;const r=Object.getOwnPropertyDescriptors(e),o={};if(n)w(o,n);else{const t=Object.getPrototypeOf(e);Object.setPrototypeOf(o,t)}return Object.defineProperties(o,{...r,...Object.getOwnPropertyDescriptors(t)})}class Ie extends Error{constructor(e,t){super(),this.name="SyntaxError";const n="string"!=typeof e,r=n?e.message:e;if(this.message=t?this.transformMessage(r,t):r,n){const t=e.stack.split("\n").filter((e=>e.trimStart().startsWith("at"))).join("\n");this.stack=this.name+"\n"+this.message+"\n"+t}}transformKeyword(e,t){switch(e){case Se.End:return;default:return t[e]||e.replace(/(\$(.+?)\$)/g,((e,n,r)=>t[n]?this.transformKeyword(t[n],t):`${r}`)).replace(/^not (.+)/,`${t[Se.Not]??xe} - ($1)`).replaceAll("["," - (").replaceAll("]",")")}}transformMessage(e,t){const[n,r]=e.split(_e),o=r.split(/, +or +|,| +or +/g).map((e=>this.transformKeyword(e.trim(),t))).filter(Boolean),i=o.length>0?o.filter((e=>e!==t[Se.Exp]&&e!==Fe)).length>0?o.join(2===o.length?" 或 ":"、").replace(/^(.+)$/,t[Se.Expected]??_e+": $1"):t[Se.ExpectedExp]??Ae:t[Se.ExpectedEndOfInput]??Ee;return n+i+`\n${" ".repeat(Ce(i))}    ——鲁迅`}}const _e="Expected",Ee="Unexpected end of input",Ae="Unexpected expression syntax",xe="not",Fe="Exp",Se={Not:"$Not$",ExpectedEndOfInput:"$ExpectedEndOfInput$",Expected:"$Expected$",End:"$END$",Exp:"$Exp$",ExpectedExp:"$ExpectedExp$"};function be(e,t,n){return X(e.parse(),t.parse(),n.parse(),e.sourceString+t.sourceString+n.sourceString)}const we={identifier:(e,t)=>e.sourceString+t.sourceString,variableName(e,t){const n=t.sourceString;return oe(e.sourceString||null,n)},literalOf:e=>ie("null"===e.sourceString?null:e.parse(),De(e)),boolean:e=>"true"===e.parse().toLowerCase(),number(e){const t=e.parse();return"number"==typeof t?t:Number(t)},sign_apply:e=>+e.parse(),sign_signed(e,t){const n=t.parse();return"-"===e.sourceString?-n:+n},number_fract:(e,t,n)=>(e.sourceString??"")+"."+n.sourceString,hex:(e,t)=>"0x"+t.sourceString,percet(e,t){return n=e.parse(),R(B.PrecetLiteral,{value:n},r??n+"%");var n,r},ArrayElements:e=>({type:_.Expression,kind:B.ArrayLiteral,value:e.parse()}),Array:(e,t,n)=>t.parse(),AddExp_add:be,MulExp_mul:be,ExpExp_pow:be,LogicExp_logic:be,OrNullExp_or:be,RelationExp_rel:be,EqualExp_eq:be,SpreadExp_spread:be,IncrementExp_before:(e,t)=>ee(t.parse(),e.sourceString,!0,De(e,t)),IncrementExp_after:(e,t)=>ee(e.parse(),t.sourceString,!1,De(e,t)),ExpExp_invert(e,t){const n=t.parse();return X(null,e.parse(),n,e.sourceString+t.sourceString)},ExpExp_sign(e,t){const n=t.parse();if(console.log(t,t.source.getLineAndColumn(),n),n.kind===B.Literal)throw ge("Expected $number$ or $Exp$",t);return X(ie(0),e.parse(),n,e.sourceString+t.sourceString)},PriExp_paren:(e,t,n)=>t.parse()};function ke(e,t){return e.kind===B.Comma?e.value.map(t):[t(e)]}const Te={Template:(e,t,n,r)=>({type:_.Expression,kind:B.Template,value:t.parse(),pipe:n.parse()}),CallExpression:(e,t,n,r)=>ne(e.parse(),n.parse(),De(e,t,n,r)),TopExp_ArraySpread(e){const{value:t}=e.parse();return{type:_.Expression,kind:B.ArraySpreadLiteral,start:t.left,end:t.right}},Exp_Comma(e,t,n){const r=e.parse(),o=n.parse();return R(B.Comma,{value:o.kind===B.Comma?[r,...o.value]:[r,o]})},TopExp_assign:(e,t,n)=>R(B.Assign,{value:{left:e.parse(),right:n.parse()}})};function Be(e){let t=e.parse();return t instanceof Array&&1===(t=t.flat()).length&&I(t[0])?t[0].value??"":t??""}function Pe(e,t=0,n){const r=[];let o=!1;const i=[];let a,s=-1,u=-1;for(const p of e){let e=p&&(I(p)?p:p.parse())||p;if(i[++s]=e,I(e))!a&&(a=e.sourceType),e=e.value;else{if(e instanceof Array){const{result:n,hasObject:i}=Pe(e,t+1);if(n)for(let e=0;e<n.length;e++){const t=n[e];I(t)?(a=t.sourceType,r[++u]=t.value):r[++u]=t}!o&&(o=i);continue}!o&&(o="object"==typeof e),!a&&(a=(c=p)?.type===_.Source?c.sourceType:c.ctorName)}e&&(r[++u]=e)}var c;let l;if(o)l=r;else if(r.length>0){const e=1===r.length?r[0]:r.join(""),t=I(e)?e.value:e;l=[{type:_.Source,kind:A.Content,value:t,sourceType:(a||"")+""||void 0}]}return{hasObject:o,result:l}}const Re={NonemptyListOf(e,t,n){const r=n.parse();return r instanceof Array?[e.parse(),...r.flat(1)]:[e.parse()]},nonemptyListOf(e,t,n){const r=n.parse();return r instanceof Array?[e.parse(),...r.flat(1)]:[e.parse()]},EmptyListOf:()=>[],emptyListOf:()=>[],oresc(e,{sourceString:t}){if(e.parse())switch(t){case"n":return"\n";case"r":return"\r";case"t":return"\t";case"\\":return"\\"}return t},centerOf:(e,t,n)=>t.parse(),sourceOf:e=>e.sourceString,stringify:Be,join:(e,t)=>Be(e)+Be(t),startWith:(e,t)=>t.parse(),endWith:(e,t)=>e.parse(),ignore(e){return t=De(e),w({type:_.Source,kind:0},t);var t},optional:function(e){const t=e.parse();if(t instanceof Array&&t.length>1)throw Error();const n=t?.[0];return I(n)?n.value:n||void 0},_iter:(...e)=>Pe(e,0).result,_terminal(){return this.sourceString}},Oe={comment_single:e=>T(e.parse(),De(e)),comment_multi:e=>T(e.parse(),De(e)),comment_notes:e=>T(e.parse().value,De(e)),comment_inline(e){const t=e.parse();return{type:_.Expression,kind:B.Comment,kindName:B[B.Comment],sourceString:e.sourceString,value:t}}},Le={logic_blockForeach(e){const t=e.parse(),[n,...r]=t.value;return function(e,t,n,r){return Ve(2,{child:e,children:t?.kind===B.Comma?{...t,kind:B.ArrayLiteral}:t,block:n},r)}(n.child,n.children,r,De(...arguments))},logic_foreach:(e,t,n,r)=>({child:t.parse(),children:r.parse()}),logic_if:(e,t)=>t,logic_elseIf:(e,t)=>t,logic_end:e=>e,logic_else:e=>e,logic_blockIf(e,t,n,r,o,i,a){const s=e.parse(),u=[],c=o.children[0]?.parse(),l=a.parse(),p=[s.parse()];for(const m of n.children){const e=m.parse();u.push(e),p.push(e.parse())}const d=[],h=[];for(const m of t.children)h.push(m.parse());d.push(Ze(h,De(s,t,u[0]||c||l)));for(let m=0;m<r.children.length;m++){const e=r.children[m],t=[];for(const n of e.children)t.push(n.parse());d.push(Ze(t,De(u[m],e,u[m+1]||c||l)))}if(i.child(0)){const e=[];for(const t of i.child(0).children)e.push(t.parse());d.push(Ze(e,De(o,i.child(0),a.parse())))}return function(e,t,n){return Ve(0,{conditions:e,blocks:t},n)}(p,d,De(e,t,n,r,o,i,a.parse()))},logicSyntax_let(e,t){const n=e.parse().length>1;return function(e,t,n){return Ve(3,{explicit:t,statements:ke(e,(e=>{if(e.type===_.Expression)switch(e.kind){case B.Assign:{const{value:n,...r}=e;return{type:_.Logic,...r,kind:4,explicit:t,left:n.left,right:n.right}}case B.VariableIdentifier:return{type:_.Logic,kind:4,explicit:t,left:e,right:ie(null)}}}))},n)}(t.parse(),n,De(...arguments))}},Me={...{},...{expr_pipe(e,t){try{return We(`|${t.sourceString}`)}catch(n){return console.warn(n),We(`|=${t.sourceString}`)}},expr_logic:e=>We(`(${e.parse()})`),expr_template:e=>We(`{{${e.parse()}}}`),expr_auto(e){try{return We(`@${e.sourceString};`)}catch(t){return console.warn(t),ne("link",[e.sourceString],De(e))}}},...{errorBoundary:e=>"ignoreError"===e.ctorName?e.parse():{source:e.parse(),error:e.ctorName},nonemptyBlockOf(e,t,n){const r=e.parse(),o=t.parse()||[];return o?.length>0?Ze([r,...o,n.parse()],De(e,t,n)):r},emptyLine(e){return t=De(e),Je(7,{command:"empty"},t);var t},blockEnd:(e,t)=>Qe("end",[],null,De(t)),blockEndOf:e=>Qe("end",[],null,De(e)),linesOf:e=>Ze(e.parse(),De(e)),syntaxBlockOf:(e,t,n)=>Ze([e.parse(),...t.parse()||[]].filter(Boolean),De(e,t,n)),contentBlockOf:(e,t,n)=>Ze([e.parse(),...t.parse()||[],n.parse()].filter(Boolean),De(e,t,n)),character_call_macro:(e,t)=>ye(t.parse(),{text:e.parse(),source:De(e,t)}),macro:e=>re(We(`@${e.parse()};`),De(e)),rawOf(e){return t=e.parse(),n=De(e),Je(0,{value:t},n);var t,n},withText:e=>Ye(e.parse(),null,De(e)),styled_centered:(e,t,n)=>function(e,t,n){return Ye(e.parse(),"centered",De(t,e,n))}(t,e,n),styled_italic(e,t,n){const r=n.parse();return Ye(r?t.parse():[e.parse(),t.parse()],r?"italic":null,De(e,t,n))},styled_bold(e,t,n){const r=n.parse();return Ye(r?t.parse():[e.parse(),t.parse()],r?"bold":null,De(e,t,n))},styled_underline(e,t,n){const r=n.parse();return Ye(r?t.parse():[e.parse(),t.parse()],r?"underline":null,De(e,t,n))},template_macro:e=>function(e,t){t&&t.context.addInlayHint("=MACRO","pre",t,1);return Je(3,{pipe:e},t)}(e.parse(),De(e)),template_label:(e,t)=>(e.parserContext.addInlayHint("=END","post",De(e),1),function(e,t,n){n&&n.context.addInlayHint("=LABEL","pre",n,1);return Je(4,{value:e,pipe:t instanceof Object?ye(t,{text:e}):t},n)}(e.parse(),t.parse(),De(e,t))),template_native:e=>function(e,t){t&&t.context.addInlayHint("=EXPR","pre",t,2);return Je(2,{value:e},t)}(e.parse(),De(e))},...{textSyntax_dialogue:(e,t,n,r)=>Qe("text:dialogue",[n.parse()],r.parse(),De(e,n,r)),textSyntax_action:(e,t,n)=>Qe("text:action",[t.parse()],n.parse(),De(e,t,n)),command_macro(e){const t=e.parse(),{name:n,...r}=t;return Qe(n,r.argumentList,r.pipe,De(e))},command_transition:(e,t,n)=>Qe("transition",[t.parse()],n.parse(),De(e,t,n)),textSyntax_space:e=>Qe("text:space",[],null,De(e)),dialogue_end:e=>(e.parserContext.addInlayHint(":dialogue_end","pre",De(e)),e.parse()),action_end:e=>(e.parserContext.addInlayHint(":action_end","pre",De(e)),e.parse()),character_call:(e,t)=>(t.parserContext.addInlayHint(":dialogue_begin","post",De(t)),Qe("character",[e.parse()],t.parse(),De(e,t))),action_start:e=>(e.parserContext.addInlayHint(":action_begin","post",De(e)),"textSyntax_space"===e.child(0).ctorName&&e.parserContext.addInlayHint(":space x"+e.children.length,"post",De(e)),e.parse()),action_content:e=>("textSyntax_space"===e.ctorName&&e.parserContext.addInlayHint(":action_space x"+e.child(0).children.length,"post",De(e)),e.parse()),dialogue_content(e){const t=e.parse();return"textSyntax_space"===e.ctorName&&e.parserContext.addInlayHint(":space x"+e.child(0).children.length,"post",De(e)),t},dialogue_action:e=>(e.parserContext.addInlayHint(":@dialogue_action","post",De(e)),Qe("character-action",[e.parse()],null,De(e))),command_pageBreak:e=>Qe("pageBreak",[],null,De(e)),command:e=>(e.parserContext.addInlayHint(":@"+e.ctorName,"post",De(e)),e.parse())}};const Ne={...Re,...Me,...Oe,...Le,variableName:we.variableName},je={Params_multiple(e,t,n){const r={type:"Params",flags:[],params:{}},o=e.parse().value;1===o.length?r.flags.push(o[0]):r.params[o[0]]=o[1];const i=n.parse();return r.flags=r.flags.concat(i.flags),Object.assign(r.params,i.params),r},Params_single(e,t){const n={type:"Params",flags:[],params:{}},r=e.parse().value;return 1===r.length?n.flags.push(r[0]):n.params[r[0]]=r[1],n},Param_setValue:(e,t,n)=>({type:"NodeArray",value:[e.parse(),n.parse()]}),Param_setFlag:e=>({type:"NodeArray",value:[e.parse()]})},qe={...we,...Te,...je,...Re,Statement:e=>ye(e.parse(),{},De(e)),Statement_Exp:(e,t)=>e.parse(),Statement_Macro:(e,t,n,r)=>ye(t.parse(),{pipe:n.parse()}),Statement_Inline:(e,t)=>e.parse(),Statement_Pipe:(e,t)=>e.parse(),Statement_AnonymousPipe:(e,t)=>e.parse(),Macro_Pipe_Call:(e,t)=>t.parse()||e.parse(),Macro_Pipe_Expr:(e,t,n)=>ye(e.parse(),{argumentList:[n.parse()]}),pipeFlag:e=>ne(),Macro_Call:e=>e.parse(),End(e){},exprEnd(e){},Macro_Call_Expr(e,t){const n=t.parse()||{};return te(e.parse(),n,De(e,t))}},Ke=ue.createSemantics();function Ue(e){const t=ue.matcher().replaceInputRange(0,0,e);return console.log(t,e),t.match("Main")}function We(e,t){try{const t=ue.match(e,"Main");if(t.succeeded()){return Ke(t).parse()}throw Error(t.message)}catch(n){if(n instanceof Error&&!n.message.startsWith("Missing semantic action"))throw new Ie(n,t);throw n}}var $e,He;Ke.addOperation("parse",{...qe,...Ne}),Ke.addAttribute("parseExpression",{_nonterminal(...e){return Ue(this.sourceString)},_terminal(){return Ue(this.sourceString)},_iter(...e){return Ue(this.sourceString)}}),(He=$e||($e={}))[He.IF=0]="IF",He[He.WHILE=1]="WHILE",He[He.FOREACH=2]="FOREACH",He[He.LET=3]="LET",He[He.ASSIGN=4]="ASSIGN";const Ve=b(_.Logic,$e);var Ge,ze;(ze=Ge||(Ge={}))[ze.Raw=0]="Raw",ze[ze.Styled=1]="Styled",ze[ze.Expr=2]="Expr",ze[ze.InlineMacro=3]="InlineMacro",ze[ze.Label=4]="Label",ze[ze.Array=5]="Array",ze[ze.Line=6]="Line",ze[ze.Empty=7]="Empty";const Je=b(_.Content,Ge);function Qe(e,t,n,r){return Je(6,{command:e,argumentList:t,pipe:n},r)}function Ze(e,t){return Je(5,{value:e},t)}function Ye(e,t,n){if(!e)return null;const r=function(e){return e.type===_.Content&&1===e.kind}(e),o=r?e.value:e;return Je(1,{value:o,pipe:"string"==typeof t?te("styled",{flags:r&&e.pipe?[...e.pipe.flags,t]:[t]}):t},n)}var Xe,et;(et=Xe||(Xe={}))[et.character=0]="character",et[et.parenthetical=1]="parenthetical",et[et.dialogue=2]="dialogue",et[et.separator=3]="separator",et[et.dialogue_end=4]="dialogue_end",et[et.dual_dialogue_end=5]="dual_dialogue_end",et[et.action=6]="action",et[et.centered=7]="centered",et[et.transition=8]="transition",et[et.synopsis=9]="synopsis",et[et.section=10]="section",et[et.page_break=11]="page_break",et[et.dual_dialogue_begin=12]="dual_dialogue_begin",et[et.dialogue_begin=13]="dialogue_begin",et[et.lyric=14]="lyric",et[et.scene_heading=15]="scene_heading",et[et.title=16]="title",et[et.credit=17]="credit",et[et.source=18]="source",et[et.authors=19]="authors",et[et.author=20]="author",et[et.notes=21]="notes",et[et.draft_date=22]="draft_date",et[et.revision=23]="revision",et[et.date=24]="date",et[et.contact=25]="contact",et[et.contact_info=26]="contact_info",et[et.copyright=27]="copyright",et[et.boneyard_begin=28]="boneyard_begin",et[et.boneyard_end=29]="boneyard_end",et[et.note=30]="note";var tt={exports:{}};tt.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(1));let i=null,a=!1;class s{constructor(e){const t=e.length,n=s._utf8ByteLength(e),r=n!==t,o=r?new Uint32Array(t+1):null;r&&(o[t]=n);const i=r?new Uint32Array(n+1):null;r&&(i[n]=t);const a=new Uint8Array(n);let u=0;for(let s=0;s<t;s++){const n=e.charCodeAt(s);let c=n,l=!1;if(n>=55296&&n<=56319&&s+1<t){const t=e.charCodeAt(s+1);t>=56320&&t<=57343&&(c=65536+(n-55296<<10)|t-56320,l=!0)}r&&(o[s]=u,l&&(o[s+1]=u),c<=127?i[u+0]=s:c<=2047?(i[u+0]=s,i[u+1]=s):c<=65535?(i[u+0]=s,i[u+1]=s,i[u+2]=s):(i[u+0]=s,i[u+1]=s,i[u+2]=s,i[u+3]=s)),c<=127?a[u++]=c:c<=2047?(a[u++]=192|(1984&c)>>>6,a[u++]=128|(63&c)>>>0):c<=65535?(a[u++]=224|(61440&c)>>>12,a[u++]=128|(4032&c)>>>6,a[u++]=128|(63&c)>>>0):(a[u++]=240|(1835008&c)>>>18,a[u++]=128|(258048&c)>>>12,a[u++]=128|(4032&c)>>>6,a[u++]=128|(63&c)>>>0),l&&s++}this.utf16Length=t,this.utf8Length=n,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=i}static _utf8ByteLength(e){let t=0;for(let n=0,r=e.length;n<r;n++){const o=e.charCodeAt(n);let i=o,a=!1;if(o>=55296&&o<=56319&&n+1<r){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(i=65536+(o-55296<<10)|t-56320,a=!0)}t+=i<=127?1:i<=2047?2:i<=65535?3:4,a&&n++}return t}createString(e){const t=e._malloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}class u{constructor(e){if(this.id=++u.LAST_ID,!i)throw new Error("Must invoke loadWASM first.");this._onigBinding=i,this.content=e;const t=new s(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!u._sharedPtrInUse?(u._sharedPtr||(u._sharedPtr=i._malloc(1e4)),u._sharedPtrInUse=!0,i.HEAPU8.set(t.utf8Value,u._sharedPtr),this.ptr=u._sharedPtr):this.ptr=t.createString(i)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===u._sharedPtr?u._sharedPtrInUse=!1:this._onigBinding._free(this.ptr)}}t.OnigString=u,u.LAST_ID=0,u._sharedPtr=0,u._sharedPtrInUse=!1;class c{constructor(e){if(!i)throw new Error("Must invoke loadWASM first.");const t=[],n=[];for(let u=0,c=e.length;u<c;u++){const r=new s(e[u]);t[u]=r.createString(i),n[u]=r.utf8Length}const r=i._malloc(4*e.length);i.HEAPU32.set(t,r/4);const o=i._malloc(4*e.length);i.HEAPU32.set(n,o/4);const a=i._createOnigScanner(r,o,e.length);for(let s=0,u=e.length;s<u;s++)i._free(t[s]);i._free(o),i._free(r),0===a&&function(e){throw new Error(e.UTF8ToString(e._getLastOnigError()))}(i),this._onigBinding=i,this._ptr=a}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(e,t,n=a){if("string"==typeof e){e=new u(e);const r=this._findNextMatchSync(e,t,n);return e.dispose(),r}return this._findNextMatchSync(e,t,n)}_findNextMatchSync(e,t,n){const r=this._onigBinding;let o;if(o=n?r._findNextOnigScannerMatchDbg(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t)):r._findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t)),0===o)return null;const i=r.HEAPU32;let a=o/4;const s=i[a++],u=i[a++];let c=[];for(let l=0;l<u;l++){const t=e.convertUtf8OffsetToUtf16(i[a++]),n=e.convertUtf8OffsetToUtf16(i[a++]);c[l]={start:t,end:n,length:n-t}}return{index:s,captureIndices:c}}}t.OnigScanner=c;let l=!1;t.loadWASM=function(e){if(l)throw new Error("Cannot invoke loadWASM more than once.");let t,n,r,a;l=!0,e instanceof ArrayBuffer||e instanceof Response?t=e:(t=e.data,n=e.print);const s=new Promise(((e,t)=>{r=e,a=t}));let u;return u=t instanceof ArrayBuffer?(c=t,e=>WebAssembly.instantiate(c,e)):t instanceof Response&&"function"==typeof WebAssembly.instantiateStreaming?function(e){return t=>WebAssembly.instantiateStreaming(e,t)}(t):function(e){return async t=>{const n=await e.arrayBuffer();return WebAssembly.instantiate(n,t)}}(t),function(e,t,n,r){o.default({print:t,instantiateWasm:(t,n)=>{if("undefined"==typeof performance){const e=()=>Date.now();t.env.emscripten_get_now=e,t.wasi_snapshot_preview1.emscripten_get_now=e}return e(t).then((e=>n(e.instance)),r),{}}}).then((e=>{i=e,n()}))}(u,n,r,a),s;var c},t.createOnigString=function(e){return new u(e)},t.createOnigScanner=function(e){return new c(e)},t.setDefaultDebugCall=function(e){a=e}},function(e,t,n){var r=("undefined"!=typeof document&&document.currentScript&&document.currentScript.src,function(e){var t,n=void 0!==(e=e||{})?e:{},r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);var o,i=!1,a="";function s(e){return n.locateFile?n.locateFile(e,a):a+e}o=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(m("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs&&scriptArgs,"undefined"!=typeof onig_print&&("undefined"==typeof console&&(console={}),console.log=onig_print,console.warn=console.error="undefined"!=typeof printErr?printErr:onig_print);var u,c,l=n.print||console.log.bind(console),p=n.printErr||console.warn.bind(console);for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);r=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(u=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,"object"!=typeof WebAssembly&&p("no native wasm support detected");var d=new WebAssembly.Table({initial:51,maximum:51,element:"anyfunc"}),h=!1;function m(e,t){e||U("Assertion failed: "+t)}var f="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function g(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&f)return f.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function v(e,t){return e?g(C,e,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var D,C,y,I=65536;function _(e,t){return e%t>0&&(e+=t-e%t),e}function E(e){D=e,n.HEAP8=new Int8Array(e),n.HEAP16=new Int16Array(e),n.HEAP32=y=new Int32Array(e),n.HEAPU8=C=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}var A=5547200,x=304160,F=n.INITIAL_MEMORY||16777216;function S(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?n.dynCall_v(r):n.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t(n)}}(c=n.wasmMemory?n.wasmMemory:new WebAssembly.Memory({initial:F/I,maximum:2147483648/I}))&&(D=c.buffer),F=D.byteLength,E(D),y[x>>2]=A;var b=[],w=[],k=[],T=[];function B(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)L(n.preRun.shift());S(b)}function P(){S(w)}function R(){S(k)}function O(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)M(n.postRun.shift());S(T)}function L(e){b.unshift(e)}function M(e){T.unshift(e)}var N=0,j=null;function q(e){N++,n.monitorRunDependencies&&n.monitorRunDependencies(N)}function K(e){if(N--,n.monitorRunDependencies&&n.monitorRunDependencies(N),0==N&&j){var t=j;j=null,t()}}function U(e){throw n.onAbort&&n.onAbort(e),l(e+=""),p(e),h=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}n.preloadedImages={},n.preloadedAudios={};var W="data:application/octet-stream;base64,";function $(e){return String.prototype.startsWith?e.startsWith(W):0===e.indexOf(W)}var H,V="onig.wasm";function G(){try{if(u)return new Uint8Array(u);if(o)return o(V);throw"both async and sync fetching of the wasm failed"}catch(e){U(e)}}function z(){return u||!i||"function"!=typeof fetch?new Promise((function(e,t){e(G())})):fetch(V,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+V+"'";return e.arrayBuffer()})).catch((function(){return G()}))}function J(){var e={env:oe,wasi_snapshot_preview1:oe};function t(e,t){var r=e.exports;n.asm=r,K()}function r(e){t(e.instance)}function o(t){return z().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){p("failed to asynchronously prepare wasm: "+e),U(e)}))}if(q(),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(i){return p("Module.instantiateWasm callback failed with error: "+i),!1}return function(){if(u||"function"!=typeof WebAssembly.instantiateStreaming||$(V)||"function"!=typeof fetch)return o(r);fetch(V,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),o(r)}))}))}(),{}}function Q(){return 304160}function Z(e,t,n){C.copyWithin(e,t,t+n)}function Y(){return C.length}function X(e){try{return c.grow(e-D.byteLength+65535>>>16),E(c.buffer),1}catch(t){}}function ee(e){var t=Y();if(e>2147483648)return!1;for(var n=1;n<=4;n*=2){var r=t*(1+.2/n);if(r=Math.min(r,e+100663296),X(Math.min(2147483648,_(Math.max(16777216,e,r),65536))))return!0}return!1}$(V)||(V=s(V)),w.push({func:function(){se()}}),H="undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var te={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=te.buffers[e];0===t||10===t?((1===e?l:p)(g(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return te.varargs+=4,y[te.varargs-4>>2]},getStr:function(e){return v(e)},get64:function(e,t){return e}};function ne(e,t,n,r){for(var o=0,i=0;i<n;i++){for(var a=y[t+8*i>>2],s=y[t+(8*i+4)>>2],u=0;u<s;u++)te.printChar(e,C[a+u]);o+=s}return y[r>>2]=o,0}function re(e){}var oe={emscripten_get_now:H,emscripten_get_sbrk_ptr:Q,emscripten_memcpy_big:Z,emscripten_resize_heap:ee,fd_write:ne,memory:c,setTempRet0:re,table:d},ie=J();n.asm=ie;var ae,se=n.___wasm_call_ctors=function(){return(se=n.___wasm_call_ctors=n.asm.__wasm_call_ctors).apply(null,arguments)};function ue(e){function t(){ae||(ae=!0,n.calledRun=!0,h||(P(),R(),n.onRuntimeInitialized&&n.onRuntimeInitialized(),O()))}N>0||(B(),N>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t()))}if(n._malloc=function(){return(n._malloc=n.asm.malloc).apply(null,arguments)},n._free=function(){return(n._free=n.asm.free).apply(null,arguments)},n._getLastOnigError=function(){return(n._getLastOnigError=n.asm.getLastOnigError).apply(null,arguments)},n._createOnigScanner=function(){return(n._createOnigScanner=n.asm.createOnigScanner).apply(null,arguments)},n._freeOnigScanner=function(){return(n._freeOnigScanner=n.asm.freeOnigScanner).apply(null,arguments)},n._findNextOnigScannerMatch=function(){return(n._findNextOnigScannerMatch=n.asm.findNextOnigScannerMatch).apply(null,arguments)},n._findNextOnigScannerMatchDbg=function(){return(n._findNextOnigScannerMatchDbg=n.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},n.stackSave=function(){return(n.stackSave=n.asm.stackSave).apply(null,arguments)},n.stackAlloc=function(){return(n.stackAlloc=n.asm.stackAlloc).apply(null,arguments)},n.stackRestore=function(){return(n.stackRestore=n.asm.stackRestore).apply(null,arguments)},n.__growWasmMemory=function(){return(n.__growWasmMemory=n.asm.__growWasmMemory).apply(null,arguments)},n.dynCall_vi=function(){return(n.dynCall_vi=n.asm.dynCall_vi).apply(null,arguments)},n.dynCall_iiii=function(){return(n.dynCall_iiii=n.asm.dynCall_iiii).apply(null,arguments)},n.dynCall_iiiii=function(){return(n.dynCall_iiiii=n.asm.dynCall_iiiii).apply(null,arguments)},n.dynCall_iii=function(){return(n.dynCall_iii=n.asm.dynCall_iii).apply(null,arguments)},n.dynCall_iidiiii=function(){return(n.dynCall_iidiiii=n.asm.dynCall_iidiiii).apply(null,arguments)},n.dynCall_vii=function(){return(n.dynCall_vii=n.asm.dynCall_vii).apply(null,arguments)},n.dynCall_ii=function(){return(n.dynCall_ii=n.asm.dynCall_ii).apply(null,arguments)},n.dynCall_i=function(){return(n.dynCall_i=n.asm.dynCall_i).apply(null,arguments)},n.dynCall_jiji=function(){return(n.dynCall_jiji=n.asm.dynCall_jiji).apply(null,arguments)},n.asm=ie,n.UTF8ToString=v,n.then=function(e){if(ae)e(n);else{var t=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){t&&t(),e(n)}}return n},j=function e(){ae||ue(),ae||(j=e)},n.run=ue,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return ue(),e});e.exports=r}]);const nt=[{id:"advscript",aliases:["AdvScript","advscript"],extensions:[".adv",".avs"],configuration:h.parse("./assets/language-configuration.0bce86b7.json")},{id:"fountain-script",extensions:[".adv",".avs"],configuration:h.parse("./assets/language-configuration.0bce86b7.json")},{id:"typescript",extensions:[".ts",".tsx"],configuration:h.parse("./assets/language-configuration.0bce86b7.json")}],rt=[{scopeName:"html",path:"/textmate-syntaxes/html.plist"},{scopeName:"source.ts",path:"/textmate-syntaxes/typescript.plist",language:"typescript"},{scopeName:"css",path:"/textmate-syntaxes/css.plist"},{language:"fountain-script",scopeName:"text.source.fountain.script",path:"./assets/fountain.tmlanguage.324510d2.json",injections:["inline-expression.injection","todo-comment.injection"],embeddedLanguages:{"text.source.advscript":"text.source.advscript","source.ts":"typescript","text.html.basic":"text.html.basic"}},{language:"advscript",scopeName:"text.source.advscript",path:"./assets/advscript.tmLanguage.43b3c3bd.json",injections:["inline-expression.injection","todo-comment.injection"],embeddedLanguages:{"source.fountain":"text.source.fountain.script","source.ts":"typescript"}},{scopeName:"todo-comment.injection",path:"./assets/injection.797254ea.json",injectTo:["text.source.advscript","text.source.fountain.script"]},{scopeName:"inline-expression.injection",path:"./assets/injection-inline-expression.tmLanguage.81fa504f.json",injectTo:["text.source.advscript","text.source.fountain.script"],embeddedLanguages:{"source.ts":"typescript","source.advscript":"advscript"}}];var ot={exports:{}};!function(e){e.exports&&(e.exports=function(){var e={};function t(t,n){var r={exports:{}},o=function(t){return e[t]?e[t].exports:d(t)};n.call(this,o,r,r.exports),e[t]=r}return t("./utils",(function(e,t,n){function r(e){return o(e)}function o(e){return Array.isArray(e)?i(e):"object"==typeof e?a(e):e}function i(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=o(e[n]);return t}function a(e){var t={};for(var n in e)t[n]=o(e[n]);return t}function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)e[n]=t[n]})),e}function u(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t==e.length-1?u(e.substring(0,e.length-1)):e.substr(1+~t)}Object.defineProperty(n,"__esModule",{value:!0}),n.clone=r,n.mergeObjects=s,n.basename=u;var c=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,l=function(){function e(){}return e.hasCaptures=function(e){return null!==e&&c.test(e)},e.replaceCaptures=function(e,t,n){return e.replace(c,(function(e,r,o,i){var a=n[parseInt(r||o,10)];if(!a)return e;for(var s=t.substring(a.start,a.end);"."===s[0];)s=s.substring(1);switch(i){case"downcase":return s.toLowerCase();case"upcase":return s.toUpperCase();default:return s}}))},e}();n.RegexSource=l})),t("./theme",(function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,o,i){this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=r,this.foreground=o,this.background=i}return e}();function o(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function i(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];for(var t=e.settings,n=[],i=0,a=0,s=t.length;a<s;a++){var u=t[a];if(u.settings){var c=void 0;c="string"==typeof u.scope?u.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):Array.isArray(u.scope)?u.scope:[""];var l=-1;if("string"==typeof u.settings.fontStyle){l=0;for(var p=0,d=(f=u.settings.fontStyle.split(" ")).length;p<d;p++)switch(f[p]){case"italic":l|=1;break;case"bold":l|=2;break;case"underline":l|=4}}var h=null;"string"==typeof u.settings.foreground&&o(u.settings.foreground)&&(h=u.settings.foreground);var m=null;for("string"==typeof u.settings.background&&o(u.settings.background)&&(m=u.settings.background),p=0,d=c.length;p<d;p++){var f,g=(f=c[p].trim().split(" "))[f.length-1],v=null;f.length>1&&(v=f.slice(0,f.length-1)).reverse(),n[i++]=new r(g,v,a,l,h,m)}}}return n}function a(e,t){e.sort((function(e,t){var n=c(e.scope,t.scope);return 0!==n||0!==(n=l(e.parentScopes,t.parentScopes))?n:e.index-t.index}));for(var n=0,r="#000000",o="#ffffff";e.length>=1&&""===e[0].scope;){var i=e.shift();-1!==i.fontStyle&&(n=i.fontStyle),null!==i.foreground&&(r=i.foreground),null!==i.background&&(o=i.background)}for(var a=new s(t),h=new p(0,null,n,a.getId(r),a.getId(o)),m=new d(new p(0,null,-1,0,0),[]),f=0,g=e.length;f<g;f++){var v=e[f];m.insert(0,v.scope,v.parentScopes,v.fontStyle,a.getId(v.foreground),a.getId(v.background))}return new u(a,h,m)}n.ParsedThemeRule=r,n.parseTheme=i;var s=function(){function e(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(var t=0,n=e.length;t<n;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}return e.prototype.getId=function(e){if(null===e)return 0;e=e.toUpperCase();var t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error("Missing color in color map - "+e);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}();n.ColorMap=s;var u=function(){function e(e,t,n){this._colorMap=e,this._root=n,this._defaults=t,this._cache={}}return e.createFromRawTheme=function(e,t){return this.createFromParsedTheme(i(e),t)},e.createFromParsedTheme=function(e,t){return a(e,t)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype.getDefaults=function(){return this._defaults},e.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},e}();function c(e,t){return e<t?-1:e>t?1:0}function l(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;var n=e.length,r=t.length;if(n===r){for(var o=0;o<n;o++){var i=c(e[o],t[o]);if(0!==i)return i}return 0}return n-r}n.Theme=u,n.strcmp=c,n.strArrCmp=l;var p=function(){function e(e,t,n,r,o){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=n,this.foreground=r,this.background=o}return e.prototype.clone=function(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},e.cloneArr=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n].clone();return t},e.prototype.acceptOverwrite=function(e,t,n,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==n&&(this.foreground=n),0!==r&&(this.background=r)},e}();n.ThemeTrieElementRule=p;var d=function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this._mainRule=e,this._rulesWithParentScopes=t,this._children=n}return e._sortBySpecificity=function(e){return 1===e.length||e.sort(this._cmpBySpecificity),e},e._cmpBySpecificity=function(e,t){if(e.scopeDepth===t.scopeDepth){var n=e.parentScopes,r=t.parentScopes,o=null===n?0:n.length,i=null===r?0:r.length;if(o===i)for(var a=0;a<o;a++){var s=n[a].length,u=r[a].length;if(s!==u)return u-s}return i-o}return t.scopeDepth-e.scopeDepth},e.prototype.match=function(t){if(""===t)return e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var n,r,o=t.indexOf(".");return-1===o?(n=t,r=""):(n=t.substring(0,o),r=t.substring(o+1)),this._children.hasOwnProperty(n)?this._children[n].match(r):e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},e.prototype.insert=function(t,n,r,o,i,a){if(""!==n){var s,u,c,l=n.indexOf(".");-1===l?(s=n,u=""):(s=n.substring(0,l),u=n.substring(l+1)),this._children.hasOwnProperty(s)?c=this._children[s]:(c=new e(this._mainRule.clone(),p.cloneArr(this._rulesWithParentScopes)),this._children[s]=c),c.insert(t+1,u,r,o,i,a)}else this._doInsertHere(t,r,o,i,a)},e.prototype._doInsertHere=function(e,t,n,r,o){if(null!==t){for(var i=0,a=this._rulesWithParentScopes.length;i<a;i++){var s=this._rulesWithParentScopes[i];if(0===l(s.parentScopes,t))return void s.acceptOverwrite(e,n,r,o)}-1===n&&(n=this._mainRule.fontStyle),0===r&&(r=this._mainRule.foreground),0===o&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new p(e,t,n,r,o))}else this._mainRule.acceptOverwrite(e,n,r,o)},e}();n.ThemeTrieElement=d})),t("./matcher",(function(e,t,n){function r(e,t){for(var n=[],r=i(e),a=r.next();null!==a;){var s=0;if(2===a.length&&":"===a.charAt(1)){switch(a.charAt(0)){case"R":s=1;break;case"L":s=-1;break;default:console.log("Unknown priority "+a+" in scope selector")}a=r.next()}var u=l();if(n.push({matcher:u,priority:s}),","!==a)break;a=r.next()}return n;function c(){if("-"===a){a=r.next();var e=c();return function(t){return!!e&&!e(t)}}if("("===a){a=r.next();var n=p();return")"===a&&(a=r.next()),n}if(o(a)){var i=[];do{i.push(a),a=r.next()}while(o(a));return function(e){return t(i,e)}}return null}function l(){for(var e=[],t=c();t;)e.push(t),t=c();return function(t){return e.every((function(e){return e(t)}))}}function p(){for(var e=[],t=l();t&&(e.push(t),"|"===a||","===a);){do{a=r.next()}while("|"===a||","===a);t=l()}return function(t){return e.some((function(e){return e(t)}))}}}function o(e){return!!e&&!!e.match(/[\w\.:]+/)}function i(e){var t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=t.exec(e);return{next:function(){if(!n)return null;var r=n[0];return n=t.exec(e),r}}}Object.defineProperty(n,"__esModule",{value:!0}),n.createMatchers=r})),t("./debug",(function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DebugFlags={InDebugMode:"undefined"!=typeof process&&!!process.env.VSCODE_TEXTMATE_DEBUG}})),t("./json",(function(e,t,n){function r(e,t){throw new Error("Near offset "+e.pos+": "+t+" ~~~"+e.source.substr(e.pos,50)+"~~~")}function o(e,t,n){var o=new i(e),u=new a,c=0,l=null,p=[],d=[];function h(){p.push(c),d.push(l)}function m(){c=p.pop(),l=d.pop()}function f(e){r(o,e)}for(;s(o,u);){if(0===c){if(null!==l&&f("too many constructs in root"),3===u.type){l={},n&&(l.$vscodeTextmateLocation=u.toLocation(t)),h(),c=1;continue}if(2===u.type){l=[],h(),c=4;continue}f("unexpected token in root")}if(2===c){if(5===u.type){m();continue}if(7===u.type){c=3;continue}f("expected , or }")}if(1===c||3===c){if(1===c&&5===u.type){m();continue}if(1===u.type){var g=u.value;if(s(o,u)&&6===u.type||f("expected colon"),s(o,u)||f("expected value"),c=2,1===u.type){l[g]=u.value;continue}if(8===u.type){l[g]=null;continue}if(9===u.type){l[g]=!0;continue}if(10===u.type){l[g]=!1;continue}if(11===u.type){l[g]=parseFloat(u.value);continue}if(2===u.type){var v=[];l[g]=v,h(),c=4,l=v;continue}if(3===u.type){var D={};n&&(D.$vscodeTextmateLocation=u.toLocation(t)),l[g]=D,h(),c=1,l=D;continue}}f("unexpected token in dict")}if(5===c){if(4===u.type){m();continue}if(7===u.type){c=6;continue}f("expected , or ]")}if(4===c||6===c){if(4===c&&4===u.type){m();continue}if(c=5,1===u.type){l.push(u.value);continue}if(8===u.type){l.push(null);continue}if(9===u.type){l.push(!0);continue}if(10===u.type){l.push(!1);continue}if(11===u.type){l.push(parseFloat(u.value));continue}if(2===u.type){v=[],l.push(v),h(),c=4,l=v;continue}if(3===u.type){D={},n&&(D.$vscodeTextmateLocation=u.toLocation(t)),l.push(D),h(),c=1,l=D;continue}f("unexpected token in array")}f("unknown state")}return 0!==d.length&&f("unclosed constructs"),l}Object.defineProperty(n,"__esModule",{value:!0}),n.parse=o;var i=function(){function e(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}return e}(),a=function(){function e(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return e.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},e}();function s(e,t){t.value=null,t.type=0,t.offset=-1,t.len=-1,t.line=-1,t.char=-1;for(var n,o=e.source,i=e.pos,a=e.len,s=e.line,u=e.char;;){if(i>=a)return!1;if(32!==(n=o.charCodeAt(i))&&9!==n&&13!==n){if(10!==n)break;i++,s++,u=0}else i++,u++}if(t.offset=i,t.line=s,t.char=u,34===n){for(t.type=1,i++,u++;;){if(i>=a)return!1;if(n=o.charCodeAt(i),i++,u++,92!==n){if(34===n)break}else i++,u++}t.value=o.substring(t.offset+1,i-1).replace(/\\u([0-9A-Fa-f]{4})/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/\\(.)/g,(function(t,n){switch(n){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:r(e,"invalid escape sequence")}throw new Error("unreachable")}))}else if(91===n)t.type=2,i++,u++;else if(123===n)t.type=3,i++,u++;else if(93===n)t.type=4,i++,u++;else if(125===n)t.type=5,i++,u++;else if(58===n)t.type=6,i++,u++;else if(44===n)t.type=7,i++,u++;else if(110===n){if(t.type=8,i++,u++,117!==(n=o.charCodeAt(i)))return!1;if(i++,u++,108!==(n=o.charCodeAt(i)))return!1;if(i++,u++,108!==(n=o.charCodeAt(i)))return!1;i++,u++}else if(116===n){if(t.type=9,i++,u++,114!==(n=o.charCodeAt(i)))return!1;if(i++,u++,117!==(n=o.charCodeAt(i)))return!1;if(i++,u++,101!==(n=o.charCodeAt(i)))return!1;i++,u++}else if(102===n){if(t.type=10,i++,u++,97!==(n=o.charCodeAt(i)))return!1;if(i++,u++,108!==(n=o.charCodeAt(i)))return!1;if(i++,u++,115!==(n=o.charCodeAt(i)))return!1;if(i++,u++,101!==(n=o.charCodeAt(i)))return!1;i++,u++}else for(t.type=11;;){if(i>=a)return!1;if(!(46===(n=o.charCodeAt(i))||n>=48&&n<=57||101===n||69===n||45===n||43===n))break;i++,u++}return t.len=i-t.offset,null===t.value&&(t.value=o.substr(t.offset,t.len)),e.pos=i,e.line=s,e.char=u,!0}})),t("./plist",(function(e,t,n){function r(e,t,n){return i(e,t,n)}function o(e){return i(e,null,null)}function i(e,t,n){var r=e.length,o=0,i=1,a=0;function s(t){if(null===n)o+=t;else for(;t>0;)10===e.charCodeAt(o)?(o++,i++,a=0):(o++,a++),t--}function u(e){null===n?o=e:s(e-o)}function c(){for(;o<r;){var t=e.charCodeAt(o);if(32!==t&&9!==t&&13!==t&&10!==t)break;s(1)}}function l(t){return e.substr(o,t.length)===t&&(s(t.length),!0)}function p(t){var n=e.indexOf(t,o);u(-1!==n?n+t.length:r)}function d(t){var n=e.indexOf(t,o);if(-1!==n){var i=e.substring(o,n);return u(n+t.length),i}return i=e.substr(o),u(r),i}r>0&&65279===e.charCodeAt(0)&&(o=1);var h=0,m=null,f=[],g=[],v=null;function D(e,t){f.push(h),g.push(m),h=e,m=t}function C(){if(0===f.length)return y("illegal state stack");h=f.pop(),m=g.pop()}function y(t){throw new Error("Near offset "+o+": "+t+" ~~~"+e.substr(o,50)+"~~~")}var I={enterDict:function(){if(null===v)return y("missing <key>");var e={};null!==n&&(e[n]={filename:t,line:i,char:a}),m[v]=e,v=null,D(1,e)},enterArray:function(){if(null===v)return y("missing <key>");var e=[];m[v]=e,v=null,D(2,e)}},_={enterDict:function(){var e={};null!==n&&(e[n]={filename:t,line:i,char:a}),m.push(e),D(1,e)},enterArray:function(){var e=[];m.push(e),D(2,e)}};function E(){1===h?I.enterDict():2===h?_.enterDict():(m={},null!==n&&(m[n]={filename:t,line:i,char:a}),D(1,m))}function A(){if(1!==h)return y("unexpected </dict>");C()}function x(){1===h?I.enterArray():2===h?_.enterArray():D(2,m=[])}function F(){return 1===h||2!==h?y("unexpected </array>"):void C()}function S(e){return 1!==h?y("unexpected <key>"):null!==v?y("too many <key>"):void(v=e)}function b(e){if(1===h){if(null===v)return y("missing <key>");m[v]=e,v=null}else 2===h?m.push(e):m=e}function w(e){if(isNaN(e))return y("cannot parse float");if(1===h){if(null===v)return y("missing <key>");m[v]=e,v=null}else 2===h?m.push(e):m=e}function k(e){if(isNaN(e))return y("cannot parse integer");if(1===h){if(null===v)return y("missing <key>");m[v]=e,v=null}else 2===h?m.push(e):m=e}function T(e){if(1===h){if(null===v)return y("missing <key>");m[v]=e,v=null}else 2===h?m.push(e):m=e}function B(e){if(1===h){if(null===v)return y("missing <key>");m[v]=e,v=null}else 2===h?m.push(e):m=e}function P(e){if(1===h){if(null===v)return y("missing <key>");m[v]=e,v=null}else 2===h?m.push(e):m=e}function R(e){return e.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,10))})).replace(/&#x([0-9a-f]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,(function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e}))}function O(){var e=d(">"),t=!1;return 47===e.charCodeAt(e.length-1)&&(t=!0,e=e.substring(0,e.length-1)),{name:e.trim(),isClosed:t}}function L(e){if(e.isClosed)return"";var t=d("</");return p(">"),R(t)}for(;o<r&&(c(),!(o>=r));){var M=e.charCodeAt(o);if(s(1),60!==M)return y("expected <");if(o>=r)return y("unexpected end of input");var N=e.charCodeAt(o);if(63!==N)if(33!==N){if(47===N){if(s(1),c(),l("plist")){p(">");continue}if(l("dict")){p(">"),A();continue}if(l("array")){p(">"),F();continue}return y("unexpected closed tag")}var j=O();switch(j.name){case"dict":E(),j.isClosed&&A();continue;case"array":x(),j.isClosed&&F();continue;case"key":S(L(j));continue;case"string":b(L(j));continue;case"real":w(parseFloat(L(j)));continue;case"integer":k(parseInt(L(j),10));continue;case"date":T(new Date(L(j)));continue;case"data":B(L(j));continue;case"true":L(j),P(!0);continue;case"false":L(j),P(!1);continue}if(!/^plist/.test(j.name))return y("unexpected opened tag "+j.name)}else{if(s(1),l("--")){p("--\x3e");continue}p(">")}else s(1),p("?>")}return m}Object.defineProperty(n,"__esModule",{value:!0}),n.parseWithLocation=r,n.parse=o})),t("./grammarReader",(function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./plist"),o=e("./debug"),i=e("./json");function a(e,t){return void 0===t&&(t=null),null!==t&&/\.json$/.test(t)?s(e,t):u(e,t)}function s(e,t){return o.DebugFlags.InDebugMode?i.parse(e,t,!0):JSON.parse(e)}function u(e,t){return o.DebugFlags.InDebugMode?r.parseWithLocation(e,t,"$vscodeTextmateLocation"):r.parse(e)}n.parseRawGrammar=a})),t("./rule",(function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("./utils"),a=/\\(\d+)/,s=/\\(\d+)/g,u=function(){function e(e,t,n){this.debugRegExps=t,this.rules=n,this.scanner=e.createOnigScanner(t)}return e.prototype.dispose=function(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()},e}();n.CompiledRule=u;var c=function(){function e(e,t,n,r){this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=i.RegexSource.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=i.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(e.prototype,"debugName",{get:function(){var e=this.$location?i.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+e},enumerable:!0,configurable:!0}),e.prototype.getName=function(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?i.RegexSource.replaceCaptures(this._name,e,t):this._name},e.prototype.getContentName=function(e,t){return this._contentNameIsCapturing&&null!==this._contentName?i.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName},e}();n.Rule=c;var l=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.retokenizeCapturedWithRuleId=i,a}return o(t,e),t.prototype.dispose=function(){},t.prototype.collectPatternsRecursive=function(e,t,n){throw new Error("Not supported!")},t.prototype.compile=function(e,t,n,r){throw new Error("Not supported!")},t}(c);n.CaptureRule=l;var p=function(){function e(e,t,n){if(void 0===n&&(n=!0),n)if(e){for(var r=e.length,o=0,i=[],s=!1,u=0;u<r;u++)if("\\"===e.charAt(u)&&u+1<r){var c=e.charAt(u+1);"z"===c?(i.push(e.substring(o,u)),i.push("$(?!\\n)(?<!\\n)"),o=u+2):"A"!==c&&"G"!==c||(s=!0),u++}this.hasAnchor=s,0===o?this.source=e:(i.push(e.substring(o,r)),this.source=i.join(""))}else this.hasAnchor=!1,this.source=e;else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,this.hasBackReferences=a.test(this.source)}return e.prototype.clone=function(){return new e(this.source,this.ruleId,!0)},e.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},e.prototype.resolveBackReferences=function(e,t){var n=t.map((function(t){return e.substring(t.start,t.end)}));return s.lastIndex=0,this.source.replace(s,(function(e,t){return f(n[parseInt(t,10)]||"")}))},e.prototype._buildAnchorCache=function(){var e,t,n,r,o=[],i=[],a=[],s=[];for(e=0,t=this.source.length;e<t;e++)n=this.source.charAt(e),o[e]=n,i[e]=n,a[e]=n,s[e]=n,"\\"===n&&e+1<t&&("A"===(r=this.source.charAt(e+1))?(o[e+1]="￿",i[e+1]="￿",a[e+1]="A",s[e+1]="A"):"G"===r?(o[e+1]="￿",i[e+1]="G",a[e+1]="￿",s[e+1]="G"):(o[e+1]=r,i[e+1]=r,a[e+1]=r,s[e+1]=r),e++);return{A0_G0:o.join(""),A0_G1:i.join(""),A1_G0:a.join(""),A1_G1:s.join("")}},e.prototype.resolveAnchors=function(e,t){return this.hasAnchor&&this._anchorCache?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},e}();n.RegExpSource=p;var d=function(){function e(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return e.prototype.dispose=function(){this._disposeCaches()},e.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},e.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.length=function(){return this._items.length},e.prototype.setSource=function(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))},e.prototype.compile=function(e,t,n){if(this._hasAnchors)return t?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G0);if(!this._cached){var r=this._items.map((function(e){return e.source}));this._cached=new u(e,r,this._items.map((function(e){return e.ruleId})))}return this._cached},e.prototype._resolveAnchors=function(e,t,n){var r=this._items.map((function(e){return e.resolveAnchors(t,n)}));return new u(e,r,this._items.map((function(e){return e.ruleId})))},e}();n.RegExpSourceList=d;var h=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,null)||this;return a._match=new p(o,a.id),a.captures=i,a._cachedCompiledPatterns=null,a}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(t.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),t.prototype.collectPatternsRecursive=function(e,t,n){t.push(this._match)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new d,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t}(c);n.MatchRule=h;var m=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.patterns=i.patterns,a.hasMissingPatterns=i.hasMissingPatterns,a._cachedCompiledPatterns=null,a}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},t.prototype.collectPatternsRecursive=function(e,t,n){var r,o;for(r=0,o=this.patterns.length;r<o;r++)e.getRule(this.patterns[r]).collectPatternsRecursive(e,t,!1)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new d,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t}(c);function f(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}n.IncludeOnlyRule=m;var g=function(e){function t(t,n,r,o,i,a,s,u,c,l){var d=e.call(this,t,n,r,o)||this;return d._begin=new p(i,d.id),d.beginCaptures=a,d._end=new p(s||"￿",-1),d.endHasBackReferences=d._end.hasBackReferences,d.endCaptures=u,d.applyEndPatternLast=c||!1,d.patterns=l.patterns,d.hasMissingPatterns=l.hasMissingPatterns,d._cachedCompiledPatterns=null,d}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),t.prototype.getEndWithResolvedBackReferences=function(e,t){return this._end.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,n){if(n){var r=void 0,o=void 0;for(r=0,o=this.patterns.length;r<o;r++)e.getRule(this.patterns[r]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new d,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns.compile(e,n,r)},t}(c);n.BeginEndRule=g;var v=function(e){function t(t,n,r,o,i,a,s,u,c){var l=e.call(this,t,n,r,o)||this;return l._begin=new p(i,l.id),l.beginCaptures=a,l.whileCaptures=u,l._while=new p(s,-2),l.whileHasBackReferences=l._while.hasBackReferences,l.patterns=c.patterns,l.hasMissingPatterns=c.hasMissingPatterns,l._cachedCompiledPatterns=null,l._cachedCompiledWhilePatterns=null,l}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),t.prototype.getWhileWithResolvedBackReferences=function(e,t){return this._while.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,n){if(n){var r=void 0,o=void 0;for(r=0,o=this.patterns.length;r<o;r++)e.getRule(this.patterns[r]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new d,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t.prototype.compileWhile=function(e,t,n,r){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new d,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||"￿"),this._cachedCompiledWhilePatterns.compile(e,n,r)},t}(c);n.BeginWhileRule=v;var D=function(){function e(){}return e.createCaptureRule=function(e,t,n,r,o){return e.registerRule((function(e){return new l(t,e,n,r,o)}))},e.getCompiledRuleId=function(t,n,r){return t.id||n.registerRule((function(o){if(t.id=o,t.match)return new h(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,n,r));if(void 0===t.begin){t.repository&&(r=i.mergeObjects({},r,t.repository));var a=t.patterns;return void 0===a&&t.include&&(a=[{include:t.include}]),new m(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(a,n,r))}return t.while?new v(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.while,e._compileCaptures(t.whileCaptures||t.captures,n,r),e._compilePatterns(t.patterns,n,r)):new g(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.end,e._compileCaptures(t.endCaptures||t.captures,n,r),t.applyEndPatternLast,e._compilePatterns(t.patterns,n,r))})),t.id},e._compileCaptures=function(t,n,r){var o=[];if(t){var i=0;for(var a in t)"$vscodeTextmateLocation"!==a&&(u=parseInt(a,10))>i&&(i=u);for(var s=0;s<=i;s++)o[s]=null;for(var a in t)if("$vscodeTextmateLocation"!==a){var u=parseInt(a,10),c=0;t[a].patterns&&(c=e.getCompiledRuleId(t[a],n,r)),o[u]=e.createCaptureRule(n,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,c)}}return o},e._compilePatterns=function(t,n,r){var o=[];if(t)for(var i=0,a=t.length;i<a;i++){var s=t[i],u=-1;if(s.include)if("#"===s.include.charAt(0)){var c=r[s.include.substr(1)];c&&(u=e.getCompiledRuleId(c,n,r))}else if("$base"===s.include||"$self"===s.include)u=e.getCompiledRuleId(r[s.include],n,r);else{var l=null,p=null,d=s.include.indexOf("#");d>=0?(l=s.include.substring(0,d),p=s.include.substring(d+1)):l=s.include;var h=n.getExternalGrammar(l,r);if(h)if(p){var f=h.repository[p];f&&(u=e.getCompiledRuleId(f,n,h.repository))}else u=e.getCompiledRuleId(h.repository.$self,n,h.repository)}else u=e.getCompiledRuleId(s,n,r);if(-1!==u){var D=n.getRule(u),C=!1;if((D instanceof m||D instanceof g||D instanceof v)&&D.hasMissingPatterns&&0===D.patterns.length&&(C=!0),C)continue;o.push(u)}}return{patterns:o,hasMissingPatterns:(t?t.length:0)!==o.length}},e}();n.RuleFactory=D})),t("./grammar",(function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./utils"),o=e("./rule"),i=e("./matcher"),a=e("./debug"),s="undefined"==typeof performance?function(){return Date.now()}:function(){return performance.now()};function u(e,t,n,r,o,i){return new y(e,t,n,r,o,i)}n.createGrammar=u;var c=function(){function e(e){this.scopeName=e}return e}();n.FullScopeDependency=c;var l=function(){function e(e,t){this.scopeName=e,this.include=t}return e.prototype.toKey=function(){return this.scopeName+"#"+this.include},e}();n.PartialScopeDependency=l;var p=function(){function e(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return e.prototype.add=function(e){e instanceof c?this._seenFull.has(e.scopeName)||(this._seenFull.add(e.scopeName),this.full.push(e)):this._seenPartial.has(e.toKey())||(this._seenPartial.add(e.toKey()),this.partial.push(e))},e}();function d(e,t,n,o,i){for(var a=0,s=o;a<s.length;a++){var u=s[a];if(!e.visitedRule.has(u)){e.visitedRule.add(u);var p=u.repository?r.mergeObjects({},i,u.repository):i;Array.isArray(u.patterns)&&d(e,t,n,u.patterns,p);var f=u.include;if(f)if("$base"===f||f===t.scopeName)m(e,t,t);else if("$self"===f||f===n.scopeName)m(e,t,n);else if("#"===f.charAt(0))h(e,t,n,f.substring(1),p);else{var g=f.indexOf("#");if(g>=0){var v=f.substring(0,g),D=f.substring(g+1);v===t.scopeName?h(e,t,t,D,p):v===n.scopeName?h(e,t,n,D,p):e.add(new l(v,f.substring(g+1)))}else e.add(new c(f))}}}}function h(e,t,n,r,o){void 0===o&&(o=n.repository),o&&o[r]&&d(e,t,n,[o[r]],o)}function m(e,t,n){if(n.patterns&&Array.isArray(n.patterns)&&d(e,t,n,n.patterns,n.repository),n.injections){var r=[];for(var o in n.injections)r.push(n.injections[o]);d(e,t,n,r,n.repository)}}function f(e,t){if(!e)return!1;if(e===t)return!0;var n=t.length;return e.length>n&&e.substr(0,n)===t&&"."===e[n]}function g(e,t){if(t.length<e.length)return!1;var n=0;return e.every((function(e){for(var r=n;r<t.length;r++)if(f(t[r],e))return n=r+1,!0;return!1}))}function v(e,t,n,r,a){for(var s=i.createMatchers(t,g),u=o.RuleFactory.getCompiledRuleId(n,r,a.repository),c=0,l=s;c<l.length;c++){var p=l[c];e.push({matcher:p.matcher,ruleId:u,grammar:a,priority:p.priority})}}n.ScopeDependencyCollector=p,n.collectSpecificDependencies=h,n.collectDependencies=m;var D=function(){function e(e,t,n,r){this.scopeName=e,this.languageId=t,this.tokenType=n,this.themeData=r}return e}();n.ScopeMetadata=D;var C=function(){function e(t,n,r){if(this._initialLanguage=t,this._themeProvider=n,this._cache=new Map,this._defaultMetaData=new D("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),r)for(var o=Object.keys(r),i=0,a=o.length;i<a;i++){var s=o[i],u=r[s];"number"==typeof u&&0!==u?this._embeddedLanguages[s]=u:console.warn("Invalid embedded language found at scope "+s+": <<"+u+">>")}var c=Object.keys(this._embeddedLanguages).map((function(t){return e._escapeRegExpCharacters(t)}));0===c.length?this._embeddedLanguagesRegex=null:(c.sort(),c.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+c.join(")|(")+"))($|\\.)",""))}return e.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new D("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},e.prototype.getDefaultMetadata=function(){return this._defaultMetaData},e._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},e.prototype.getMetadataForScope=function(t){if(null===t)return e._NULL_SCOPE_METADATA;var n=this._cache.get(t);return n||(n=this._doGetMetadataForScope(t),this._cache.set(t,n),n)},e.prototype._doGetMetadataForScope=function(e){var t=this._scopeToLanguage(e),n=this._toStandardTokenType(e),r=this._themeProvider.themeMatch(e);return new D(e,t,n,r)},e.prototype._scopeToLanguage=function(e){if(!e)return 0;if(!this._embeddedLanguagesRegex)return 0;var t=e.match(this._embeddedLanguagesRegex);if(!t)return 0;var n=this._embeddedLanguages[t[1]]||0;return n||0},e.prototype._toStandardTokenType=function(t){var n=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 0;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},e._NULL_SCOPE_METADATA=new D("",0,0,null),e.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,e}(),y=function(){function e(e,t,n,r,o,a){if(this._scopeMetadataProvider=new C(t,o,n),this._onigLib=a,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=_(e,null),this._injections=null,this._tokenTypeMatchers=[],r)for(var s=0,u=Object.keys(r);s<u.length;s++)for(var c=u[s],l=0,p=i.createMatchers(c,g);l<p.length;l++){var d=p[l];this._tokenTypeMatchers.push({matcher:d.matcher,type:r[c]})}}return e.prototype.dispose=function(){for(var e=0,t=this._ruleId2desc;e<t.length;e++){var n=t[e];n&&n.dispose()}},e.prototype.createOnigScanner=function(e){return this._onigLib.createOnigScanner(e)},e.prototype.createOnigString=function(e){return this._onigLib.createOnigString(e)},e.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},e.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},e.prototype.getInjections=function(){var e=this;if(null===this._injections){this._injections=[];var t=this._grammar.injections;if(t)for(var n in t)v(this._injections,n,t[n],this,this._grammar);if(this._grammarRepository){var r=this._grammarRepository.injections(this._grammar.scopeName);r&&r.forEach((function(t){var n=e.getExternalGrammar(t);if(n){var r=n.injectionSelector;r&&v(e._injections,r,n,e,n)}}))}this._injections.sort((function(e,t){return e.priority-t.priority}))}return this._injections},e.prototype.registerRule=function(e){var t=++this._lastRuleId,n=e(t);return this._ruleId2desc[t]=n,n},e.prototype.getRule=function(e){return this._ruleId2desc[e]},e.prototype.getExternalGrammar=function(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=_(n,t&&t.$base),this._includedGrammars[e]}return null},e.prototype.tokenizeLine=function(e,t){var n=this._tokenize(e,t,!1);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack}},e.prototype.tokenizeLine2=function(e,t){var n=this._tokenize(e,t,!0);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack}},e.prototype._tokenize=function(e,t,n){var r;if(-1===this._rootId&&(this._rootId=o.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),t&&t!==B.NULL)r=!1,t.reset();else{r=!0;var i=this._scopeMetadataProvider.getDefaultMetadata(),a=i.themeData[0],s=k.set(0,i.languageId,i.tokenType,a.fontStyle,a.foreground,a.background),u=this.getRule(this._rootId).getName(null,null),c=this._scopeMetadataProvider.getMetadataForScope(u),l=T.mergeMetadata(s,null,c),p=new T(null,null===u?"unknown":u,l);t=new B(null,this._rootId,-1,-1,!1,null,p,p)}e+="\n";var d=this.createOnigString(e),h=d.content.length,m=new R(n,e,this._tokenTypeMatchers),f=w(this,d,r,0,t,m,!0);return I(d),{lineLength:h,lineTokens:m,ruleStack:f}},e}();function I(e){"function"==typeof e.dispose&&e.dispose()}function _(e,t){return(e=r.clone(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}function E(e,t,n,r,o,i,a){if(0!==i.length){for(var s=t.content,u=Math.min(i.length,a.length),c=[],l=a[0].end,p=0;p<u;p++){var d=i[p];if(null!==d){var h=a[p];if(0!==h.length){if(h.start>l)break;for(;c.length>0&&c[c.length-1].endPos<=h.start;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?o.produceFromScopes(c[c.length-1].scopes,h.start):o.produce(r,h.start),d.retokenizeCapturedWithRuleId){var m=d.getName(s,a),f=r.contentNameScopesList.push(e,m),g=d.getContentName(s,a),v=f.push(e,g),D=r.push(d.retokenizeCapturedWithRuleId,h.start,-1,!1,null,f,v),C=e.createOnigString(s.substring(0,h.end));w(e,C,n&&0===h.start,h.start,D,o,!1),I(C)}else{var y=d.getName(s,a);if(null!==y){var _=(c.length>0?c[c.length-1].scopes:r.contentNameScopesList).push(e,y);c.push(new P(_,h.end))}}}}}for(;c.length>0;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}}function A(e){for(var t=[],n=0,r=e.rules.length;n<r;n++)t.push("   - "+e.rules[n]+": "+e.debugRegExps[n]);return t.join("\n")}function x(e,t,n,r,o,i,s){for(var u,c=Number.MAX_VALUE,l=null,p=0,d=i.contentNameScopesList.generateScopes(),h=0,m=e.length;h<m;h++){var f=e[h];if(f.matcher(d)){var g=t.getRule(f.ruleId).compile(t,null,r,o===s),v=g.scanner.findNextMatchSync(n,o);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(A(g))),v){var D=v.captureIndices[0].start;if(!(D>=c)&&(c=D,l=v.captureIndices,u=g.rules[v.index],p=f.priority,c===o))break}}}return l?{priorityMatch:-1===p,captureIndices:l,matchedRuleId:u}:null}function F(e,t,n,r,o,i){var u=o.getRule(e),c=u.compile(e,o.endRule,n,r===i),l=0;a.DebugFlags.InDebugMode&&(l=s());var p=c.scanner.findNextMatchSync(t,r);if(a.DebugFlags.InDebugMode){var d=s()-l;d>5&&console.warn("Rule "+u.debugName+" ("+u.id+") matching took "+d+" against '"+t+"'"),p&&console.log("matched rule id: "+c.rules[p.index]+" from "+p.captureIndices[0].start+" to "+p.captureIndices[0].end)}return p?{captureIndices:p.captureIndices,matchedRuleId:c.rules[p.index]}:null}function S(e,t,n,r,o,i){var a=F(e,t,n,r,o,i),s=e.getInjections();if(0===s.length)return a;var u=x(s,e,t,n,r,o,i);if(!u)return a;if(!a)return u;var c=a.captureIndices[0].start,l=u.captureIndices[0].start;return l<c||u.priorityMatch&&l===c?u:a}function b(e,t,n,r,i,s){for(var u=i.beginRuleCapturedEOL?0:-1,c=[],l=i;l;l=l.pop()){var p=l.getRule(e);p instanceof o.BeginWhileRule&&c.push({rule:p,stack:l})}for(var d=c.pop();d;d=c.pop()){var h=d.rule.compileWhile(e,d.stack.endRule,n,u===r),m=h.scanner.findNextMatchSync(t,r);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(A(h))),!m){a.DebugFlags.InDebugMode&&console.log("  popping "+d.rule.debugName+" - "+d.rule.debugWhileRegExp),i=d.stack.pop();break}if(-2!==h.rules[m.index]){i=d.stack.pop();break}m.captureIndices&&m.captureIndices.length&&(s.produce(d.stack,m.captureIndices[0].start),E(e,t,n,d.stack,s,d.rule.whileCaptures,m.captureIndices),s.produce(d.stack,m.captureIndices[0].end),u=m.captureIndices[0].end,m.captureIndices[0].end>r&&(r=m.captureIndices[0].end,n=!1))}return{stack:i,linePos:r,anchorPosition:u,isFirstLine:n}}function w(e,t,n,r,i,s,u){var c=t.content.length,l=!1,p=-1;if(u){var d=b(e,t,n,r,i,s);i=d.stack,r=d.linePos,n=d.isFirstLine,p=d.anchorPosition}for(;!l;)h();function h(){a.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+r+": |"+t.content.substr(r).replace(/\n$/,"\\n")+"|"));var u=S(e,t,n,r,i,p);if(!u)return a.DebugFlags.InDebugMode&&console.log("  no more matches."),s.produce(i,c),void(l=!0);var d=u.captureIndices,h=u.matchedRuleId,m=!!(d&&d.length>0)&&d[0].end>r;if(-1===h){var f=i.getRule(e);a.DebugFlags.InDebugMode&&console.log("  popping "+f.debugName+" - "+f.debugEndRegExp),s.produce(i,d[0].start),i=i.setContentNameScopesList(i.nameScopesList),E(e,t,n,i,s,f.endCaptures,d),s.produce(i,d[0].end);var g=i;if(i=i.pop(),p=g.getAnchorPos(),!m&&g.getEnterPos()===r)return a.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),i=g,s.produce(i,c),void(l=!0)}else{var v=e.getRule(h);s.produce(i,d[0].start);var D=i,C=v.getName(t.content,d),y=i.contentNameScopesList.push(e,C);if(i=i.push(h,r,p,d[0].end===c,null,y,y),v instanceof o.BeginEndRule){var I=v;a.DebugFlags.InDebugMode&&console.log("  pushing "+I.debugName+" - "+I.debugBeginRegExp),E(e,t,n,i,s,I.beginCaptures,d),s.produce(i,d[0].end),p=d[0].end;var _=I.getContentName(t.content,d),A=y.push(e,_);if(i=i.setContentNameScopesList(A),I.endHasBackReferences&&(i=i.setEndRule(I.getEndWithResolvedBackReferences(t.content,d))),!m&&D.hasSameRuleAs(i))return a.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),s.produce(i,c),void(l=!0)}else if(v instanceof o.BeginWhileRule){if(I=v,a.DebugFlags.InDebugMode&&console.log("  pushing "+I.debugName),E(e,t,n,i,s,I.beginCaptures,d),s.produce(i,d[0].end),p=d[0].end,_=I.getContentName(t.content,d),A=y.push(e,_),i=i.setContentNameScopesList(A),I.whileHasBackReferences&&(i=i.setEndRule(I.getWhileWithResolvedBackReferences(t.content,d))),!m&&D.hasSameRuleAs(i))return a.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),i=i.pop(),s.produce(i,c),void(l=!0)}else{var x=v;if(a.DebugFlags.InDebugMode&&console.log("  matched "+x.debugName+" - "+x.debugMatchRegExp),E(e,t,n,i,s,x.captures,d),s.produce(i,d[0].end),i=i.pop(),!m)return a.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),i=i.safePop(),s.produce(i,c),void(l=!0)}}d[0].end>r&&(r=d[0].end,n=!1)}return i}n.Grammar=y;var k=function(){function e(){}return e.toBinaryStr=function(e){for(var t=e.toString(2);t.length<32;)t="0"+t;return t},e.printMetadata=function(t){var n=e.getLanguageId(t),r=e.getTokenType(t),o=e.getFontStyle(t),i=e.getForeground(t),a=e.getBackground(t);console.log({languageId:n,tokenType:r,fontStyle:o,foreground:i,background:a})},e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.set=function(t,n,r,o,i,a){var s=e.getLanguageId(t),u=e.getTokenType(t),c=e.getFontStyle(t),l=e.getForeground(t),p=e.getBackground(t);return 0!==n&&(s=n),0!==r&&(u=8===r?0:r),-1!==o&&(c=o),0!==i&&(l=i),0!==a&&(p=a),(s<<0|u<<8|c<<11|l<<14|p<<23)>>>0},e}();n.StackElementMetadata=k;var T=function(){function e(e,t,n){this.parent=e,this.scope=t,this.metadata=n}return e._equals=function(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.scope!==t.scope||e.metadata!==t.metadata)return!1;e=e.parent,t=t.parent}},e.prototype.equals=function(t){return e._equals(this,t)},e._matchesScope=function(e,t,n){return t===e||e.substring(0,n.length)===n},e._matches=function(e,t){if(null===t)return!0;for(var n=t.length,r=0,o=t[r],i=o+".";e;){if(this._matchesScope(e.scope,o,i)){if(++r===n)return!0;i=(o=t[r])+"."}e=e.parent}return!1},e.mergeMetadata=function(e,t,n){if(null===n)return e;var r=-1,o=0,i=0;if(null!==n.themeData)for(var a=0,s=n.themeData.length;a<s;a++){var u=n.themeData[a];if(this._matches(t,u.parentScopes)){r=u.fontStyle,o=u.foreground,i=u.background;break}}return k.set(e,n.languageId,n.tokenType,r,o,i)},e._push=function(t,n,r){for(var o=0,i=r.length;o<i;o++){var a=r[o],s=n.getMetadataForScope(a),u=e.mergeMetadata(t.metadata,t,s);t=new e(t,a,u)}return t},e.prototype.push=function(t,n){return null===n?this:n.indexOf(" ")>=0?e._push(this,t,n.split(/ /g)):e._push(this,t,[n])},e._generateScopes=function(e){for(var t=[],n=0;e;)t[n++]=e.scope,e=e.parent;return t.reverse(),t},e.prototype.generateScopes=function(){return e._generateScopes(this)},e}();n.ScopeListElement=T;var B=function(){function e(e,t,n,r,o,i,a,s){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=t,this._enterPos=n,this._anchorPos=r,this.beginRuleCapturedEOL=o,this.endRule=i,this.nameScopesList=a,this.contentNameScopesList=s}return e._structuralEquals=function(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}},e._equals=function(e,t){return e===t||!!this._structuralEquals(e,t)&&e.contentNameScopesList.equals(t.contentNameScopesList)},e.prototype.clone=function(){return this},e.prototype.equals=function(t){return null!==t&&e._equals(this,t)},e._reset=function(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent},e.prototype.reset=function(){e._reset(this)},e.prototype.pop=function(){return this.parent},e.prototype.safePop=function(){return this.parent?this.parent:this},e.prototype.push=function(t,n,r,o,i,a,s){return new e(this,t,n,r,o,i,a,s)},e.prototype.getEnterPos=function(){return this._enterPos},e.prototype.getAnchorPos=function(){return this._anchorPos},e.prototype.getRule=function(e){return e.getRule(this.ruleId)},e.prototype._writeString=function(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",t},e.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},e.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)},e.prototype.setEndRule=function(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)},e.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},e.NULL=new e(null,0,0,0,!1,null,null,null),e}();n.StackElement=B;var P=function(){function e(e,t){this.scopes=e,this.endPos=t}return e}();n.LocalStackElement=P;var R=function(){function e(e,t,n){this._emitBinaryTokens=e,this._tokenTypeOverrides=n,a.DebugFlags.InDebugMode?this._lineText=t:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return e.prototype.produce=function(e,t){this.produceFromScopes(e.contentNameScopesList,t)},e.prototype.produceFromScopes=function(e,t){if(!(this._lastTokenEndIndex>=t)){if(this._emitBinaryTokens){for(var n=e.metadata,r=0,o=this._tokenTypeOverrides;r<o.length;r++){var i=o[r];i.matcher(e.generateScopes())&&(n=k.set(n,0,O(i.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n)),void(this._lastTokenEndIndex=t)}var s=e.generateScopes();if(a.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(var u=0;u<s.length;u++)console.log("      * "+s[u])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:s}),this._lastTokenEndIndex=t}},e.prototype.getResult=function(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},e.prototype.getBinaryResult=function(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);for(var n=new Uint32Array(this._binaryTokens.length),r=0,o=this._binaryTokens.length;r<o;r++)n[r]=this._binaryTokens[r];return n},e}();function O(e){switch(e){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}})),t("./registry",(function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./grammar"),a=function(){function e(e,t){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=t}return e.prototype.dispose=function(){for(var e in this._grammars)this._grammars.hasOwnProperty(e)&&this._grammars[e].dispose()},e.prototype.setTheme=function(e){var t=this;this._theme=e,Object.keys(this._grammars).forEach((function(e){t._grammars[e].onDidChangeTheme()}))},e.prototype.getColorMap=function(){return this._theme.getColorMap()},e.prototype.addGrammar=function(e,t){this._rawGrammars[e.scopeName]=e,t&&(this._injectionGrammars[e.scopeName]=t)},e.prototype.lookup=function(e){return this._rawGrammars[e]},e.prototype.injections=function(e){return this._injectionGrammars[e]},e.prototype.getDefaults=function(){return this._theme.getDefaults()},e.prototype.themeMatch=function(e){return this._theme.match(e)},e.prototype.grammarForScopeName=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,s,u,c,l;return o(this,(function(o){switch(o.label){case 0:return this._grammars[e]?[3,2]:(r=this._rawGrammars[e])?(s=this._grammars,u=e,c=i.createGrammar,l=[r,t,n,a,this],[4,this._onigLibPromise]):[2,null];case 1:s[u]=c.apply(void 0,l.concat([o.sent()])),o.label=2;case 2:return[2,this._grammars[e]]}}))}))},e}();n.SyncRegistry=a})),t("./main",(function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./registry"),a=e("./grammarReader"),s=e("./theme"),u=e("./grammar"),c=function(){function e(e){this._options=e,this._syncRegistry=new i.SyncRegistry(s.Theme.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}return e.prototype.dispose=function(){this._syncRegistry.dispose()},e.prototype.setTheme=function(e,t){this._syncRegistry.setTheme(s.Theme.createFromRawTheme(e,t))},e.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},e.prototype.loadGrammarWithEmbeddedLanguages=function(e,t,n){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:n})},e.prototype.loadGrammarWithConfiguration=function(e,t,n){return this._loadGrammar(e,t,n.embeddedLanguages,n.tokenTypes)},e.prototype.loadGrammar=function(e){return this._loadGrammar(e,0,null,null)},e.prototype._doLoadSingleGrammar=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,this._options.loadGrammar(e)];case 1:return(t=r.sent())&&(n="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0,this._syncRegistry.addGrammar(t,n)),[2]}}))}))},e.prototype._loadSingleGrammar=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this._ensureGrammarCache.has(e)||this._ensureGrammarCache.set(e,this._doLoadSingleGrammar(e)),[2,this._ensureGrammarCache.get(e)]}))}))},e.prototype._collectDependenciesForDep=function(e,t,n){var r=this._syncRegistry.lookup(n.scopeName);if(r){n instanceof u.FullScopeDependency?u.collectDependencies(t,this._syncRegistry.lookup(e),r):u.collectSpecificDependencies(t,this._syncRegistry.lookup(e),r,n.include);var o=this._syncRegistry.injections(n.scopeName);if(o)for(var i=0,a=o;i<a.length;i++){var s=a[i];t.add(new u.FullScopeDependency(s))}}else if(n.scopeName===e)throw new Error("No grammar provided for <"+e+">")},e.prototype._loadGrammar=function(e,t,n,i){return r(this,void 0,void 0,(function(){var r,a,s,c,l,p,d,h,m,f,g,v,D=this;return o(this,(function(o){switch(o.label){case 0:r=new Set,a=new Set,r.add(e),s=[new u.FullScopeDependency(e)],o.label=1;case 1:return s.length>0?(c=s,s=[],[4,Promise.all(c.map((function(e){return D._loadSingleGrammar(e.scopeName)})))]):[3,3];case 2:for(o.sent(),l=new u.ScopeDependencyCollector,p=0,d=c;p<d.length;p++)v=d[p],this._collectDependenciesForDep(e,l,v);for(h=0,m=l.full;h<m.length;h++)v=m[h],r.has(v.scopeName)||(r.add(v.scopeName),s.push(v));for(f=0,g=l.partial;f<g.length;f++)v=g[f],r.has(v.scopeName)||a.has(v.toKey())||(a.add(v.toKey()),s.push(v));return[3,1];case 3:return[2,this.grammarForScopeName(e,t,n,i)]}}))}))},e.prototype.addGrammar=function(e,t,n,i){return void 0===t&&(t=[]),void 0===n&&(n=0),void 0===i&&(i=null),r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return this._syncRegistry.addGrammar(e,t),[4,this.grammarForScopeName(e.scopeName,n,i)];case 1:return[2,r.sent()]}}))}))},e.prototype.grammarForScopeName=function(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=null),this._syncRegistry.grammarForScopeName(e,t,n,r)},e}();n.Registry=c,n.INITIAL=u.StackElement.NULL,n.parseRawGrammar=a.parseRawGrammar})),e["./main"].exports}())}(ot);let it=!1;const at=window.MonacoEnvironment.getWorkerUrl,st=window.MonacoEnvironment.getWorker;window.MonacoEnvironment={getWorkerUrl:function(e,t){it=!0;const n=at(e,t)??("string"==typeof ut[t]?ut[t]:ut[t]());return console.debug("getWorkerUrl",e,t,"=>",n),n},getWorker(e,t){const n=window.MonacoEnvironment.getWorkerUrl(e,t);return"string"==typeof n?st(e,t):n}};const ut={};function ct(e,t){ut[e]=t}class lt{constructor(e){this.config=e,this.debug=!1;const{grammars:t,fetchGrammar:n,theme:r,onigLib:o,monaco:i}=e;this.monaco=i,this.registry=new ot.exports.Registry({onigLib:o,async loadGrammar(e){this.debug&&console.debug(`Load Grammar: ${e}`),"text.html.basic"===e&&(e="html"),"source.css"===e&&(e="css"),"source.js"===e&&(e="source.ts");if(null==t[e])return this.debug&&console.debug(`Unknown scope name: ${e}`),null;const{type:r,grammar:o}=await n(e);return ot.exports.parseRawGrammar(o,`${e}.${r}`)},getInjections(e){const n=t[e];return this.debug&&console.debug("getInjections",e,n?.injections||[]),n?n.injections:[]},theme:r}),this.tokensProviderCache=new pt(this.registry)}injectCSS(){const e=this.registry.getColorMap();this.debug&&console.debug(e);const t=e.map(m.Format.CSS.parseHex);f.setColorMap(t);const n=g(t);(function(){const e=document.createElement("style"),t=document.getElementsByClassName("monaco-colors")[0];if(t)t.parentElement?.insertBefore(e,t.nextSibling);else{let{head:t}=document;null==t&&(t=document.getElementsByTagName("head")[0]),t?.appendChild(e)}return e}()).innerHTML=n}async fetchLanguageInfo(e,t){await new Promise((e=>{const t=()=>{it?setTimeout((()=>{e()}),10):setTimeout((()=>{t()}),10)};t()})),t instanceof Function&&(t=await t());const[n,r]=await Promise.all([this.getTokensProviderForLanguage(e),this.config.fetchConfiguration(e)]);return{tokensProvider:n,configuration:r,...t}}getTokensProviderForLanguage(e){const t=this.getScopeNameForLanguage(e);if(null==t)return Promise.resolve(null);const n=this.monaco.languages.getEncodedLanguageId(e);return this.tokensProviderCache.createEncodedTokensProvider(t,n)}getScopeNameForLanguage(e){for(const[t,n]of Object.entries(this.config.grammars))if(n.language===e)return t;return null}}class pt{constructor(e){this.registry=e,this.scopeNameToGrammar=new Map}async createEncodedTokensProvider(e,t){const n=await this.getGrammar(e,t);return{getInitialState:()=>ot.exports.INITIAL,tokenizeEncoded(e,t){const r=n.tokenizeLine2(e,t),{tokens:o,ruleStack:i}=r;return{tokens:o,endState:i}}}}getGrammar(e,t){const n=this.scopeNameToGrammar.get(e);if(null!=n)return n;console.debug("loadGrammarWithConfiguration",e);const r=this.registry.loadGrammarWithConfiguration(e,t,{}).then((t=>{if(t)return t;throw Error(`failed to load grammar for ${e}`)})).catch((e=>{throw console.error("failed to load grammar",e),e}));return this.scopeNameToGrammar.set(e,r),r}}var dt={author:"akamud",name:"OneDark",colors:{"activityBarBadge.foreground":"#D7DAE0","button.background":"#4D78CC","button.foreground":"#FFFFFF","button.hoverBackground":"#6087CF","diffEditor.insertedTextBackground":"#00809B33","dropdown.background":"#353b45","dropdown.border":"#181A1F","editorIndentGuide.activeBackground":"#626772","editor.background":"#282C34","editor.foreground":"#ABB2BF","editor.lineHighlightBackground":"#99BBFF0A","editor.selectionBackground":"#3E4451","editorCursor.foreground":"#528BFF","editor.findMatchHighlightBackground":"#528BFF3D","editorGroup.background":"#21252B","editorGroup.border":"#181A1F","editorGroupHeader.tabsBackground":"#21252B","editorIndentGuide.background":"#ABB2BF26","editorLineNumber.foreground":"#636D83","editorLineNumber.activeForeground":"#ABB2BF","editorWhitespace.foreground":"#ABB2BF26","editorRuler.foreground":"#ABB2BF26","editorHoverWidget.background":"#21252B","editorHoverWidget.border":"#181A1F","editorSuggestWidget.background":"#21252B","editorSuggestWidget.border":"#181A1F","editorSuggestWidget.selectedBackground":"#2C313A","editorWidget.background":"#21252B","editorWidget.border":"#3A3F4B","input.background":"#1B1D23","input.border":"#181A1F",focusBorder:"#528BFF","list.activeSelectionBackground":"#2C313A","list.activeSelectionForeground":"#D7DAE0","list.focusBackground":"#2C313A","list.hoverBackground":"#2C313A66","list.highlightForeground":"#D7DAE0","list.inactiveSelectionBackground":"#2C313A","list.inactiveSelectionForeground":"#D7DAE0","notification.background":"#21252B","pickerGroup.border":"#528BFF","scrollbarSlider.background":"#4E566680","scrollbarSlider.activeBackground":"#747D9180","scrollbarSlider.hoverBackground":"#5A637580","sideBar.background":"#21252B","sideBarSectionHeader.background":"#333842","statusBar.background":"#21252B","statusBar.foreground":"#9DA5B4","statusBarItem.hoverBackground":"#2C313A","statusBar.noFolderBackground":"#21252B","tab.activeBackground":"#282C34","tab.activeForeground":"#D7DAE0","tab.border":"#181A1F","tab.inactiveBackground":"#21252B","titleBar.activeBackground":"#21252B","titleBar.activeForeground":"#9DA5B4","titleBar.inactiveBackground":"#21252B","titleBar.inactiveForeground":"#9DA5B4","statusBar.debuggingForeground":"#FFFFFF","extensionButton.prominentBackground":"#2BA143","extensionButton.prominentHoverBackground":"#37AF4E","badge.background":"#528BFF","badge.foreground":"#D7DAE0","peekView.border":"#528BFF","peekViewResult.background":"#21252B","peekViewResult.selectionBackground":"#2C313A","peekViewTitle.background":"#1B1D23","peekViewEditor.background":"#1B1D23"},tokenColors:[{settings:{foreground:"#D4D4D4",background:"#1E1E1E"}},{name:"Comment",scope:["comment"],settings:{foreground:"#5C6370",fontStyle:"italic"}},{name:"Comment Markup Link",scope:["comment markup.link"],settings:{foreground:"#5C6370"}},{name:"Entity Name Type",scope:["entity.name.type"],settings:{foreground:"#E5C07B"}},{name:"Entity Other Inherited Class",scope:["entity.other.inherited-class"],settings:{foreground:"#E5C07B"}},{name:"Keyword",scope:["keyword"],settings:{foreground:"#C678DD"}},{name:"Keyword Control",scope:["keyword.control"],settings:{foreground:"#C678DD"}},{name:"Keyword Operator",scope:["keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Keyword Other Special Method",scope:["keyword.other.special-method"],settings:{foreground:"#61AFEF"}},{name:"Keyword Other Unit",scope:["keyword.other.unit"],settings:{foreground:"#D19A66"}},{name:"Storage",scope:["storage"],settings:{foreground:"#C678DD"}},{name:"Storage Type Annotation,storage Type Primitive",scope:["storage.type.annotation","storage.type.primitive"],settings:{foreground:"#C678DD"}},{name:"Storage Modifier Package,storage Modifier Import",scope:["storage.modifier.package","storage.modifier.import"],settings:{foreground:"#ABB2BF"}},{name:"Constant",scope:["constant"],settings:{foreground:"#D19A66"}},{name:"Constant Variable",scope:["constant.variable"],settings:{foreground:"#D19A66"}},{name:"Constant Character Escape",scope:["constant.character.escape"],settings:{foreground:"#56B6C2"}},{name:"Constant Numeric",scope:["constant.numeric"],settings:{foreground:"#D19A66"}},{name:"Constant Other Color",scope:["constant.other.color"],settings:{foreground:"#56B6C2"}},{name:"Constant Other Symbol",scope:["constant.other.symbol"],settings:{foreground:"#56B6C2"}},{name:"Variable",scope:["variable"],settings:{foreground:"#E06C75"}},{name:"Variable Interpolation",scope:["variable.interpolation"],settings:{foreground:"#BE5046"}},{name:"Variable Parameter",scope:["variable.parameter"],settings:{foreground:"#ABB2BF"}},{name:"String",scope:["string"],settings:{foreground:"#98C379"}},{name:"String > Source,string Embedded",scope:["string > source","string embedded"],settings:{foreground:"#ABB2BF"}},{name:"String Regexp",scope:["string.regexp"],settings:{foreground:"#56B6C2"}},{name:"String Regexp Source Ruby Embedded",scope:["string.regexp source.ruby.embedded"],settings:{foreground:"#E5C07B"}},{name:"String Other Link",scope:["string.other.link"],settings:{foreground:"#E06C75"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment"],settings:{foreground:"#5C6370"}},{name:"Punctuation Definition Method Parameters,punctuation Definition Function Parameters,punctuation Definition Parameters,punctuation Definition Separator,punctuation Definition Seperator,punctuation Definition Array",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters","punctuation.definition.separator","punctuation.definition.seperator","punctuation.definition.array"],settings:{foreground:"#ABB2BF"}},{name:"Punctuation Definition Heading,punctuation Definition Identity",scope:["punctuation.definition.heading","punctuation.definition.identity"],settings:{foreground:"#61AFEF"}},{name:"Punctuation Definition Bold",scope:["punctuation.definition.bold"],settings:{foreground:"#E5C07B",fontStyle:"bold"}},{name:"Punctuation Definition Italic",scope:["punctuation.definition.italic"],settings:{foreground:"#C678DD",fontStyle:"italic"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded"],settings:{foreground:"#BE5046"}},{name:"Punctuation Section Method,punctuation Section Class,punctuation Section Inner Class",scope:["punctuation.section.method","punctuation.section.class","punctuation.section.inner-class"],settings:{foreground:"#ABB2BF"}},{name:"Support Class",scope:["support.class"],settings:{foreground:"#E5C07B"}},{name:"Support Type",scope:["support.type"],settings:{foreground:"#56B6C2"}},{name:"Support Function",scope:["support.function"],settings:{foreground:"#56B6C2"}},{name:"Support Function Any Method",scope:["support.function.any-method"],settings:{foreground:"#61AFEF"}},{name:"Entity Name Function",scope:["entity.name.function"],settings:{foreground:"#61AFEF"}},{name:"Entity Name Class,entity Name Type Class",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#E5C07B"}},{name:"Entity Name Section",scope:["entity.name.section"],settings:{foreground:"#61AFEF"}},{name:"Entity Name Tag",scope:["entity.name.tag"],settings:{foreground:"#E06C75"}},{name:"Entity Other Attribute Name",scope:["entity.other.attribute-name"],settings:{foreground:"#D19A66"}},{name:"Entity Other Attribute Name Id",scope:["entity.other.attribute-name.id"],settings:{foreground:"#61AFEF"}},{name:"Meta Class",scope:["meta.class"],settings:{foreground:"#E5C07B"}},{name:"Meta Class Body",scope:["meta.class.body"],settings:{foreground:"#ABB2BF"}},{name:"Meta Method Call,meta Method",scope:["meta.method-call","meta.method"],settings:{foreground:"#ABB2BF"}},{name:"Meta Definition Variable",scope:["meta.definition.variable"],settings:{foreground:"#E06C75"}},{name:"Meta Link",scope:["meta.link"],settings:{foreground:"#D19A66"}},{name:"Meta Require",scope:["meta.require"],settings:{foreground:"#61AFEF"}},{name:"Meta Selector",scope:["meta.selector"],settings:{foreground:"#C678DD"}},{name:"Meta Separator",scope:["meta.separator"],settings:{foreground:"#ABB2BF"}},{name:"Meta Tag",scope:["meta.tag"],settings:{foreground:"#ABB2BF"}},{name:"Underline",scope:["underline"],settings:{"text-decoration":"underline"}},{name:"None",scope:["none"],settings:{foreground:"#ABB2BF"}},{name:"Invalid Deprecated",scope:["invalid.deprecated"],settings:{foreground:"#523D14",background:"#E0C285"}},{name:"Invalid Illegal",scope:["invalid.illegal"],settings:{foreground:"#FFFFFF",background:"#E05252"}},{name:"Markup Bold",scope:["markup.bold"],settings:{foreground:"#D19A66",fontStyle:"bold"}},{name:"Markup Changed",scope:["markup.changed"],settings:{foreground:"#C678DD"}},{name:"Markup Deleted",scope:["markup.deleted"],settings:{foreground:"#E06C75"}},{name:"Markup Italic",scope:["markup.italic"],settings:{foreground:"#C678DD",fontStyle:"italic"}},{name:"Markup Heading",scope:["markup.heading"],settings:{foreground:"#E06C75"}},{name:"Markup Heading Punctuation Definition Heading",scope:["markup.heading punctuation.definition.heading"],settings:{foreground:"#61AFEF"}},{name:"Markup Link",scope:["markup.link"],settings:{foreground:"#56B6C2"}},{name:"Markup Inserted",scope:["markup.inserted"],settings:{foreground:"#98C379"}},{name:"Markup Quote",scope:["markup.quote"],settings:{foreground:"#D19A66"}},{name:"Markup Raw",scope:["markup.raw"],settings:{foreground:"#98C379"}},{name:"Source C Keyword Operator",scope:["source.c keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Source Cpp Keyword Operator",scope:["source.cpp keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Source Cs Keyword Operator",scope:["source.cs keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Source Css Property Name,source Css Property Value",scope:["source.css property-name","source.css property-value"],settings:{foreground:"#828997"}},{name:"Source Css Property Name Support,source Css Property Value Support",scope:["source.css property-name.support","source.css property-value.support"],settings:{foreground:"#ABB2BF"}},{name:"Source Elixir Source Embedded Source",scope:["source.elixir source.embedded.source"],settings:{foreground:"#ABB2BF"}},{name:"Source Elixir Constant Language,source Elixir Constant Numeric,source Elixir Constant Definition",scope:["source.elixir constant.language","source.elixir constant.numeric","source.elixir constant.definition"],settings:{foreground:"#61AFEF"}},{name:"Source Elixir Variable Definition,source Elixir Variable Anonymous",scope:["source.elixir variable.definition","source.elixir variable.anonymous"],settings:{foreground:"#C678DD"}},{name:"Source Elixir Parameter Variable Function",scope:["source.elixir parameter.variable.function"],settings:{foreground:"#D19A66",fontStyle:"italic"}},{name:"Source Elixir Quoted",scope:["source.elixir quoted"],settings:{foreground:"#98C379"}},{name:"Source Elixir Keyword Special Method,source Elixir Embedded Section,source Elixir Embedded Source Empty",scope:["source.elixir keyword.special-method","source.elixir embedded.section","source.elixir embedded.source.empty"],settings:{foreground:"#E06C75"}},{name:"Source Elixir Readwrite Module Punctuation",scope:["source.elixir readwrite.module punctuation"],settings:{foreground:"#E06C75"}},{name:"Source Elixir Regexp Section,source Elixir Regexp String",scope:["source.elixir regexp.section","source.elixir regexp.string"],settings:{foreground:"#BE5046"}},{name:"Source Elixir Separator,source Elixir Keyword Operator",scope:["source.elixir separator","source.elixir keyword.operator"],settings:{foreground:"#D19A66"}},{name:"Source Elixir Variable Constant",scope:["source.elixir variable.constant"],settings:{foreground:"#E5C07B"}},{name:"Source Elixir Array,source Elixir Scope,source Elixir Section",scope:["source.elixir array","source.elixir scope","source.elixir section"],settings:{foreground:"#828997"}},{name:"Source Gfm Markup",scope:["source.gfm markup"],settings:{"-webkit-font-smoothing":"auto"}},{name:"Source Gfm Link Entity",scope:["source.gfm link entity"],settings:{foreground:"#61AFEF"}},{name:"Source Go Storage Type String",scope:["source.go storage.type.string"],settings:{foreground:"#C678DD"}},{name:"Source Ini Keyword Other Definition Ini",scope:["source.ini keyword.other.definition.ini"],settings:{foreground:"#E06C75"}},{name:"Source Java Storage Modifier Import",scope:["source.java storage.modifier.import"],settings:{foreground:"#E5C07B"}},{name:"Source Java Storage Type",scope:["source.java storage.type"],settings:{foreground:"#E5C07B"}},{name:"Source Java Keyword Operator Instanceof",scope:["source.java keyword.operator.instanceof"],settings:{foreground:"#C678DD"}},{name:"Source Java Properties Meta Key Pair",scope:["source.java-properties meta.key-pair"],settings:{foreground:"#E06C75"}},{name:"Source Java Properties Meta Key Pair > Punctuation",scope:["source.java-properties meta.key-pair > punctuation"],settings:{foreground:"#ABB2BF"}},{name:"Source Js Keyword Operator",scope:["source.js keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"Source Js Keyword Operator Delete,source Js Keyword Operator In,source Js Keyword Operator Of,source Js Keyword Operator Instanceof,source Js Keyword Operator New,source Js Keyword Operator Typeof,source Js Keyword Operator Void",scope:["source.js keyword.operator.delete","source.js keyword.operator.in","source.js keyword.operator.of","source.js keyword.operator.instanceof","source.js keyword.operator.new","source.js keyword.operator.typeof","source.js keyword.operator.void"],settings:{foreground:"#C678DD"}},{name:"Source Ts Keyword Operator",scope:["source.ts keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"Source Flow Keyword Operator",scope:["source.flow keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"Source Json Meta Structure Dictionary Json > String Quoted Json",scope:["source.json meta.structure.dictionary.json > string.quoted.json"],settings:{foreground:"#E06C75"}},{name:"Source Json Meta Structure Dictionary Json > String Quoted Json > Punctuation String",scope:["source.json meta.structure.dictionary.json > string.quoted.json > punctuation.string"],settings:{foreground:"#E06C75"}},{name:"Source Json Meta Structure Dictionary Json > Value Json > String Quoted Json,source Json Meta Structure Array Json > Value Json > String Quoted Json,source Json Meta Structure Dictionary Json > Value Json > String Quoted Json > Punctuation,source Json Meta Structure Array Json > Value Json > String Quoted Json > Punctuation",scope:["source.json meta.structure.dictionary.json > value.json > string.quoted.json","source.json meta.structure.array.json > value.json > string.quoted.json","source.json meta.structure.dictionary.json > value.json > string.quoted.json > punctuation","source.json meta.structure.array.json > value.json > string.quoted.json > punctuation"],settings:{foreground:"#98C379"}},{name:"Source Json Meta Structure Dictionary Json > Constant Language Json,source Json Meta Structure Array Json > Constant Language Json",scope:["source.json meta.structure.dictionary.json > constant.language.json","source.json meta.structure.array.json > constant.language.json"],settings:{foreground:"#56B6C2"}},{name:"Ng Interpolation",scope:["ng.interpolation"],settings:{foreground:"#E06C75"}},{name:"Ng Interpolation Begin,ng Interpolation End",scope:["ng.interpolation.begin","ng.interpolation.end"],settings:{foreground:"#61AFEF"}},{name:"Ng Interpolation Function",scope:["ng.interpolation function"],settings:{foreground:"#E06C75"}},{name:"Ng Interpolation Function Begin,ng Interpolation Function End",scope:["ng.interpolation function.begin","ng.interpolation function.end"],settings:{foreground:"#61AFEF"}},{name:"Ng Interpolation Bool",scope:["ng.interpolation bool"],settings:{foreground:"#D19A66"}},{name:"Ng Interpolation Bracket",scope:["ng.interpolation bracket"],settings:{foreground:"#ABB2BF"}},{name:"Ng Pipe,ng Operator",scope:["ng.pipe","ng.operator"],settings:{foreground:"#ABB2BF"}},{name:"Ng Tag",scope:["ng.tag"],settings:{foreground:"#56B6C2"}},{name:"Ng Attribute With Value Attribute Name",scope:["ng.attribute-with-value attribute-name"],settings:{foreground:"#E5C07B"}},{name:"Ng Attribute With Value String",scope:["ng.attribute-with-value string"],settings:{foreground:"#C678DD"}},{name:"Ng Attribute With Value String Begin,ng Attribute With Value String End",scope:["ng.attribute-with-value string.begin","ng.attribute-with-value string.end"],settings:{foreground:"#ABB2BF"}},{name:"Source Php Class Bracket",scope:["source.php class.bracket"],settings:{foreground:"#ABB2BF"}},{name:"Source Python Keyword Operator Logical Python",scope:["source.python keyword.operator.logical.python"],settings:{foreground:"#C678DD"}},{name:"Source Python Variable Parameter",scope:["source.python variable.parameter"],settings:{foreground:"#D19A66"}},{name:"customrule",scope:"customrule",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Support Type Property Name",scope:"support.type.property-name",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Punctuation for Quoted String",scope:"string.quoted.double punctuation",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] Support Constant",scope:"support.constant",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JSON Property Name",scope:"support.type.property-name.json",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JSON Punctuation for Property Name",scope:"support.type.property-name.json punctuation",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation for key-value",scope:["punctuation.separator.key-value.ts","punctuation.separator.key-value.js","punctuation.separator.key-value.tsx"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Embedded Operator",scope:["source.js.embedded.html keyword.operator","source.ts.embedded.html keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Other Readwrite",scope:["variable.other.readwrite.js","variable.other.readwrite.ts","variable.other.readwrite.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variable Dom",scope:["support.variable.dom.js","support.variable.dom.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variable Property Dom",scope:["support.variable.property.dom.js","support.variable.property.dom.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Interpolation String Punctuation",scope:["meta.template.expression.js punctuation.definition","meta.template.expression.ts punctuation.definition"],settings:{foreground:"#BE5046"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Type Parameters",scope:["source.ts punctuation.definition.typeparameters","source.js punctuation.definition.typeparameters","source.tsx punctuation.definition.typeparameters"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Definition Block",scope:["source.ts punctuation.definition.block","source.js punctuation.definition.block","source.tsx punctuation.definition.block"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Separator Comma",scope:["source.ts punctuation.separator.comma","source.js punctuation.separator.comma","source.tsx punctuation.separator.comma"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Property",scope:["support.variable.property.js","support.variable.property.ts","support.variable.property.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Default Keyword",scope:["keyword.control.default.js","keyword.control.default.ts","keyword.control.default.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Instanceof Keyword",scope:["keyword.operator.expression.instanceof.js","keyword.operator.expression.instanceof.ts","keyword.operator.expression.instanceof.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] JS/TS Of Keyword",scope:["keyword.operator.expression.of.js","keyword.operator.expression.of.ts","keyword.operator.expression.of.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] JS/TS Braces/Brackets",scope:["meta.brace.round.js","meta.array-binding-pattern-variable.js","meta.brace.square.js","meta.brace.round.ts","meta.array-binding-pattern-variable.ts","meta.brace.square.ts","meta.brace.round.tsx","meta.array-binding-pattern-variable.tsx","meta.brace.square.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Accessor",scope:["source.js punctuation.accessor","source.ts punctuation.accessor","source.tsx punctuation.accessor"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Terminator Statement",scope:["punctuation.terminator.statement.js","punctuation.terminator.statement.ts","punctuation.terminator.statement.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Array variables",scope:["meta.array-binding-pattern-variable.js variable.other.readwrite.js","meta.array-binding-pattern-variable.ts variable.other.readwrite.ts","meta.array-binding-pattern-variable.tsx variable.other.readwrite.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variables",scope:["source.js support.variable","source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variables",scope:["variable.other.constant.property.js","variable.other.constant.property.ts","variable.other.constant.property.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Keyword New",scope:["keyword.operator.new.ts","keyword.operator.new.j","keyword.operator.new.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] TS Keyword Operator",scope:["source.ts keyword.operator","source.tsx keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Parameter Separator",scope:["punctuation.separator.parameter.js","punctuation.separator.parameter.ts","punctuation.separator.parameter.tsx "],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Import",scope:["constant.language.import-export-all.js","constant.language.import-export-all.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JSX/TSX Import",scope:["constant.language.import-export-all.jsx","constant.language.import-export-all.tsx"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Keyword Control As",scope:["keyword.control.as.js","keyword.control.as.ts","keyword.control.as.jsx","keyword.control.as.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Alias",scope:["variable.other.readwrite.alias.js","variable.other.readwrite.alias.ts","variable.other.readwrite.alias.jsx","variable.other.readwrite.alias.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Constants",scope:["variable.other.constant.js","variable.other.constant.ts","variable.other.constant.jsx","variable.other.constant.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Export Variable",scope:["meta.export.default.js variable.other.readwrite.js","meta.export.default.ts variable.other.readwrite.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Template Strings Punctuation Accessor",scope:["source.js meta.template.expression.js punctuation.accessor","source.ts meta.template.expression.ts punctuation.accessor","source.tsx meta.template.expression.tsx punctuation.accessor"],settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS Import equals",scope:["source.js meta.import-equals.external.js keyword.operator","source.jsx meta.import-equals.external.jsx keyword.operator","source.ts meta.import-equals.external.ts keyword.operator","source.tsx meta.import-equals.external.tsx keyword.operator"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Type Module",scope:"entity.name.type.module.js,entity.name.type.module.ts,entity.name.type.module.jsx,entity.name.type.module.tsx",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Class",scope:"meta.class.js,meta.class.ts,meta.class.jsx,meta.class.tsx",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Property Definition Variable",scope:["meta.definition.property.js variable","meta.definition.property.ts variable","meta.definition.property.jsx variable","meta.definition.property.tsx variable"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Type Parameters Type",scope:["meta.type.parameters.js support.type","meta.type.parameters.jsx support.type","meta.type.parameters.ts support.type","meta.type.parameters.tsx support.type"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Tag Keyword Operator",scope:["source.js meta.tag.js keyword.operator","source.jsx meta.tag.jsx keyword.operator","source.ts meta.tag.ts keyword.operator","source.tsx meta.tag.tsx keyword.operator"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Tag Punctuation",scope:["meta.tag.js punctuation.section.embedded","meta.tag.jsx punctuation.section.embedded","meta.tag.ts punctuation.section.embedded","meta.tag.tsx punctuation.section.embedded"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Array Literal Variable",scope:["meta.array.literal.js variable","meta.array.literal.jsx variable","meta.array.literal.ts variable","meta.array.literal.tsx variable"],settings:{foreground:"#E5C07B"}},{name:"[VSCODE-CUSTOM] JS/TS Module Exports",scope:["support.type.object.module.js","support.type.object.module.jsx","support.type.object.module.ts","support.type.object.module.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JSON Constants",scope:["constant.language.json"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Object Constants",scope:["variable.other.constant.object.js","variable.other.constant.object.jsx","variable.other.constant.object.ts","variable.other.constant.object.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Properties Keyword",scope:["storage.type.property.js","storage.type.property.jsx","storage.type.property.ts","storage.type.property.tsx"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Single Quote Inside Templated String",scope:["meta.template.expression.js string.quoted punctuation.definition","meta.template.expression.jsx string.quoted punctuation.definition","meta.template.expression.ts string.quoted punctuation.definition","meta.template.expression.tsx string.quoted punctuation.definition"],settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS Backtick inside Templated String",scope:["meta.template.expression.js string.template punctuation.definition.string.template","meta.template.expression.jsx string.template punctuation.definition.string.template","meta.template.expression.ts string.template punctuation.definition.string.template","meta.template.expression.tsx string.template punctuation.definition.string.template"],settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS In Keyword for Loops",scope:["keyword.operator.expression.in.js","keyword.operator.expression.in.jsx","keyword.operator.expression.in.ts","keyword.operator.expression.in.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Other Object",scope:["variable.other.object.js","variable.other.object.ts"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Object Literal Key",scope:["meta.object-literal.key.js","meta.object-literal.key.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Python Constants Other",scope:"source.python constant.other",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Python Constants",scope:"source.python constant",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Python Placeholder Character",scope:"constant.character.format.placeholder.other.python storage",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Python Magic",scope:"support.variable.magic.python",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Python Meta Function Parameters",scope:"meta.function.parameters.python",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Python Function Separator Annotation",scope:"punctuation.separator.annotation.python",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Python Function Separator Punctuation",scope:"punctuation.separator.parameters.python",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Fields",scope:"entity.name.variable.field.cs",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] CSharp Keyword Operators",scope:"source.cs keyword.operator",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Variables",scope:"variable.other.readwrite.cs",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Variables Other",scope:"variable.other.object.cs",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Property Other",scope:"variable.other.object.property.cs",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Property",scope:"entity.name.variable.property.cs",settings:{foreground:"#61AFEF"}},{name:"[VSCODE-CUSTOM] CSharp Storage Type",scope:"storage.type.cs",settings:{foreground:"#E5C07B"}},{name:"[VSCODE-CUSTOM] Rust Unsafe Keyword",scope:"keyword.other.unsafe.rust",settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] Rust Entity Name Type",scope:"entity.name.type.rust",settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] Rust Storage Modifier Lifetime",scope:"storage.modifier.lifetime.rust",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Rust Entity Name Lifetime",scope:"entity.name.lifetime.rust",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Rust Storage Type Core",scope:"storage.type.core.rust",settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] Rust Meta Attribute",scope:"meta.attribute.rust",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Rust Storage Class Std",scope:"storage.class.std.rust",settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] Markdown Raw Block",scope:"markup.raw.block.markdown",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Shell Variables Punctuation Definition",scope:"punctuation.definition.variable.shell",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Css Support Constant Value",scope:"support.constant.property-value.css",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Css Punctuation Definition Constant",scope:"punctuation.definition.constant.css",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Sass Punctuation for key-value",scope:"punctuation.separator.key-value.scss",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Sass Punctuation for constants",scope:"punctuation.definition.constant.scss",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Sass Punctuation for key-value",scope:"meta.property-list.scss punctuation.separator.key-value.scss",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Java Storage Type Primitive Array",scope:"storage.type.primitive.array.java",settings:{foreground:"#E5C07B"}},{name:"[VSCODE-CUSTOM] Markdown headings",scope:"entity.name.section.markdown",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Markdown heading Punctuation Definition",scope:"punctuation.definition.heading.markdown",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Markdown heading setext",scope:"markup.heading.setext",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Markdown Punctuation Definition Bold",scope:"punctuation.definition.bold.markdown",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Markdown Inline Raw",scope:"markup.inline.raw.markdown",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] Markdown List Punctuation Definition",scope:"beginning.punctuation.definition.list.markdown",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Markdown Quote",scope:"markup.quote.markdown",settings:{foreground:"#5C6370",fontStyle:"italic"}},{name:"[VSCODE-CUSTOM] Markdown Punctuation Definition String",scope:["punctuation.definition.string.begin.markdown","punctuation.definition.string.end.markdown","punctuation.definition.metadata.markdown"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Markdown Punctuation Definition Link",scope:"punctuation.definition.metadata.markdown",settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] Markdown Underline Link/Image",scope:["markup.underline.link.markdown","markup.underline.link.image.markdown"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] Markdown Link Title/Description",scope:["string.other.link.title.markdown","string.other.link.description.markdown"],settings:{foreground:"#61AFEF"}},{name:"[VSCODE-CUSTOM] Ruby Punctuation Separator Variable",scope:"punctuation.separator.variable.ruby",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Ruby Other Constant Variable",scope:"variable.other.constant.ruby",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Ruby Keyword Operator Other",scope:"keyword.operator.other.ruby",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] PHP Punctuation Variable Definition",scope:"punctuation.definition.variable.php",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] PHP Meta Class",scope:"meta.class.php",settings:{foreground:"#ABB2BF"}}],uuid:"32bd64fa-d60a-4858-a5fc-5164cc49a2b8"};const ht=["indentationRules.decreaseIndentPattern","indentationRules.increaseIndentPattern","indentationRules.indentNextLinePattern","indentationRules.unIndentedLinePattern","folding.markers.start","folding.markers.end","wordPattern"];function mt(e,t){return t.split(".").reduce(((e,t)=>null!=e?e[t]:null),e)}function ft(e,t,n){const r=t.split("."),o=r.length-1;r.reduce(((e,t,r)=>null==e?e:r===o?(e[t]=n,null):e[t]),e)}var gt,vt,Dt,Ct,yt,It,_t,Et,At,xt,Ft,St,bt,wt,kt="./assets/onig.a1763766.wasm";async function Tt(t,n,r){t.editor.defineTheme("OneDark",{base:"vs-dark",inherit:!0,colors:dt.colors||{},rules:dt.tokenColors.map((t=>e.exports.castArray(t.scope).map((e=>({token:e,...t.settings}))))).flat()});const o=rt.reduce(((e,t)=>({...e,[t.scopeName]:{...t,path:t.path.replace(/^\./,"/node_modules/vscode-advscript")}})),{});console.debug(o);await async function(){const e=await fetch(kt);if("application/wasm"===e.headers.get("content-type"))return e;return await e.arrayBuffer()}().then(tt.exports.loadWASM);const i=Promise.resolve({createOnigScanner:tt.exports.createOnigScanner,createOnigString:tt.exports.createOnigString}),a=new lt({grammars:o,fetchGrammar:async e=>{const{path:t}=o[e],n=t,r=await fetch(n),i=await r.text();return{type:t.endsWith(".json")?"json":"plist",grammar:i}},configurations:nt.map((e=>e.id)),fetchConfiguration:async e=>{const t=nt.find((t=>t.id===e));if(!t.configuration)return Promise.resolve(null);const n=t.configuration.path,r=await fetch(n);return function(e){const t=JSON.parse(e);for(const n of ht){const e=mt(t,n);"string"==typeof e&&ft(t,n,new RegExp(e))}return t}(await r.text())},theme:{name:dt.name,settings:dt.tokenColors},onigLib:i,monaco:t});return function(e,t,n){for(const r of e){const{id:e}=r;n.languages.getLanguages().find((t=>t.id===e))||(n.languages.register(r),console.log("Register language:",e,r)),n.languages.onLanguage(e,(async()=>{console.log("load",e);const{tokensProvider:r,configuration:o,foldingRangeProvider:i,formatProvider:a,formatRangeProvider:s,highlightProvider:u,declarationProvider:c,inlineCompletionProvider:l,completionItemProvider:p,documentSymbolProvider:d,inlayHintsProvider:h}=await t(e);null!=r&&n.languages.setTokensProvider(e,r),h&&n.languages.registerInlayHintsProvider(e,h),a&&n.languages.registerDocumentFormattingEditProvider(e,a),s&&n.languages.registerDocumentRangeFormattingEditProvider(e,s),d&&n.languages.registerDocumentSymbolProvider(e,d),p&&n.languages.registerCompletionItemProvider(e,p),l&&n.languages.registerInlineCompletionsProvider(e,l),c&&n.languages.registerDeclarationProvider(e,c),i&&n.languages.registerFoldingRangeProvider(e,i),u&&n.languages.registerDocumentHighlightProvider(e,u),null!=o&&n.languages.setLanguageConfiguration(e,o)}))}}(nt,(e=>a.fetchLanguageInfo(e,r)),t),{async injectCSS(){a.injectCSS()}}}(gt||(gt={})).is=function(e){return!!e&&"data"in e},(vt||(vt={})).is=function(e){return!!e&&"data"in e},(Dt||(Dt={})).is=function(e){return!!e&&"data"in e},(Ct||(Ct={})).is=function(e){return!!e&&"data"in e};class Bt{constructor(e){this._monaco=e}asPosition(e,t){return{line:null==e?void 0:e-1,character:null==t?void 0:t-1}}asRange(e){if(void 0!==e){if(null===e)return null;if(void 0!==e.insert)return this.asRange(e.insert);return{start:this.asPosition(e.startLineNumber,e.startColumn),end:this.asPosition(e.endLineNumber,e.endColumn)}}}asTextDocumentIdentifier(e){return{uri:e.uri.toString()}}asTextDocumentPositionParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column)}}asCompletionParams(e,t,n){return Object.assign(this.asTextDocumentPositionParams(e,t),{context:this.asCompletionContext(n)})}asCompletionContext(e){return{triggerKind:this.asCompletionTriggerKind(e.triggerKind),triggerCharacter:e.triggerCharacter}}asSignatureHelpContext(e){return{triggerKind:this.asSignatureHelpTriggerKind(e.triggerKind),triggerCharacter:e.triggerCharacter,isRetrigger:e.isRetrigger,activeSignatureHelp:this.asSignatureHelp(e.activeSignatureHelp)}}asSignatureHelp(e){if(void 0!==e)return{signatures:e.signatures.map((e=>this.asSignatureInformation(e))),activeParameter:e.activeParameter,activeSignature:e.activeSignature}}asSignatureInformation(e){return{documentation:this.asMarkupContent(e.documentation),label:e.label,parameters:e.parameters.map((e=>this.asParameterInformation(e))),activeParameter:e.activeParameter}}asParameterInformation(e){return{documentation:this.asMarkupContent(e.documentation),label:e.label}}asMarkupContent(e){if(void 0!==e)return"string"==typeof e?e:{kind:t.MarkupKind.Markdown,value:e.value}}asSignatureHelpTriggerKind(e){switch(e){case this._monaco.languages.SignatureHelpTriggerKind.ContentChange:return t.SignatureHelpTriggerKind.ContentChange;case this._monaco.languages.SignatureHelpTriggerKind.TriggerCharacter:return t.SignatureHelpTriggerKind.TriggerCharacter;default:return t.SignatureHelpTriggerKind.Invoked}}asCompletionTriggerKind(e){switch(e){case this._monaco.languages.CompletionTriggerKind.TriggerCharacter:return t.CompletionTriggerKind.TriggerCharacter;case this._monaco.languages.CompletionTriggerKind.TriggerForIncompleteCompletions:return t.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return t.CompletionTriggerKind.Invoked}}asCompletionItem(e){const r={label:e.label},o=Dt.is(e)?e:void 0;return e.detail&&(r.detail=e.detail),e.documentation&&("string"==typeof e.documentation?r.documentation=e.documentation:r.documentation=this.asDocumentation(o?.documentationFormat??t.MarkupKind.Markdown,e.documentation)),e.filterText&&(r.filterText=e.filterText),this.fillPrimaryInsertText(r,e),n(e.kind)&&(r.kind=this.asCompletionItemKind(e.kind,o?.originalItemKind)),e.sortText&&(r.sortText=e.sortText),e.additionalTextEdits&&(r.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),e.command&&(r.command=this.asCommand(e.command)),e.commitCharacters&&(r.commitCharacters=e.commitCharacters.slice()),e.command&&(r.command=this.asCommand(e.command)),o&&(void 0!==o.data&&(r.data=o.data),!0!==o.deprecated&&!1!==o.deprecated||(r.deprecated=o.deprecated)),r}asCompletionItemKind(e,n){if(void 0!==n)return n;switch(e){case this._monaco.languages.CompletionItemKind.Method:return t.CompletionItemKind.Method;case this._monaco.languages.CompletionItemKind.Function:return t.CompletionItemKind.Function;case this._monaco.languages.CompletionItemKind.Constructor:return t.CompletionItemKind.Constructor;case this._monaco.languages.CompletionItemKind.Field:return t.CompletionItemKind.Field;case this._monaco.languages.CompletionItemKind.Variable:return t.CompletionItemKind.Variable;case this._monaco.languages.CompletionItemKind.Class:return t.CompletionItemKind.Class;case this._monaco.languages.CompletionItemKind.Struct:return t.CompletionItemKind.Struct;case this._monaco.languages.CompletionItemKind.Interface:return t.CompletionItemKind.Interface;case this._monaco.languages.CompletionItemKind.Module:return t.CompletionItemKind.Module;case this._monaco.languages.CompletionItemKind.Property:return t.CompletionItemKind.Property;case this._monaco.languages.CompletionItemKind.Event:return t.CompletionItemKind.Event;case this._monaco.languages.CompletionItemKind.Operator:return t.CompletionItemKind.Operator;case this._monaco.languages.CompletionItemKind.Unit:return t.CompletionItemKind.Unit;case this._monaco.languages.CompletionItemKind.Value:return t.CompletionItemKind.Value;case this._monaco.languages.CompletionItemKind.Constant:return t.CompletionItemKind.Constant;case this._monaco.languages.CompletionItemKind.Enum:return t.CompletionItemKind.Enum;case this._monaco.languages.CompletionItemKind.EnumMember:return t.CompletionItemKind.EnumMember;case this._monaco.languages.CompletionItemKind.Keyword:return t.CompletionItemKind.Keyword;case this._monaco.languages.CompletionItemKind.Text:return t.CompletionItemKind.Text;case this._monaco.languages.CompletionItemKind.Color:return t.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.File:return t.CompletionItemKind.File;case this._monaco.languages.CompletionItemKind.Reference:return t.CompletionItemKind.Reference;case this._monaco.languages.CompletionItemKind.Customcolor:return t.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.Folder:return t.CompletionItemKind.Folder;case this._monaco.languages.CompletionItemKind.TypeParameter:return t.CompletionItemKind.TypeParameter;case this._monaco.languages.CompletionItemKind.Snippet:return t.CompletionItemKind.Snippet;default:return e+1}}asDocumentation(e,n){switch(e){case t.MarkupKind.PlainText:return{kind:e,value:n};case t.MarkupKind.Markdown:return{kind:e,value:n.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}fillPrimaryInsertText(e,n){let r,o,i=t.InsertTextFormat.PlainText;void 0!==n.insertTextRules&&0==(n.insertTextRules&this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet)&&(i=t.InsertTextFormat.Snippet,r=n.insertText),e.insertTextFormat=i,r=n.insertText,n.range&&(o=this.asRange(n.range)),e.insertTextFormat=i,n.fromEdit&&r&&o?e.textEdit={newText:r,range:o}:e.insertText=r,e.insertTextMode=n.insertTextMode}asTextEdit(e){return{range:this.asRange(e.range),newText:e.text||""}}asTextEdits(e){if(e)return e.map((e=>this.asTextEdit(e)))}asReferenceParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),context:{includeDeclaration:n.includeDeclaration}}}asDocumentSymbolParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asCodeLensParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDiagnosticSeverity(e){switch(e){case this._monaco.MarkerSeverity.Error:return t.DiagnosticSeverity.Error;case this._monaco.MarkerSeverity.Warning:return t.DiagnosticSeverity.Warning;case this._monaco.MarkerSeverity.Info:return t.DiagnosticSeverity.Information;case this._monaco.MarkerSeverity.Hint:return t.DiagnosticSeverity.Hint}}asDiagnostic(e){const n=this.asRange(new this._monaco.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)),r=this.asDiagnosticSeverity(e.severity);return t.Diagnostic.create(n,e.message,r,e.code,e.source)}asDiagnostics(e){if(e)return e.map((e=>this.asDiagnostic(e)))}asCodeActionContext(e){if(!e)return;const n=this.asDiagnostics(e.markers);return t.CodeActionContext.create(n,r(e.only)?[e.only]:void 0)}asCodeActionParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),context:this.asCodeActionContext(n)}}asCommand(e){if(e){const n=e.arguments||[];return t.Command.create(e.title,e.id,...n)}}asCodeLens(e){const n=t.CodeLens.create(this.asRange(e.range));return e.command&&(n.command=this.asCommand(e.command)),vt.is(e)&&e.data&&(n.data=e.data),n}asFormattingOptions(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}asDocumentFormattingParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),options:this.asFormattingOptions(t)}}asDocumentRangeFormattingParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),options:this.asFormattingOptions(n)}}asDocumentOnTypeFormattingParams(e,t,n,r){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),ch:n,options:this.asFormattingOptions(r)}}asRenameParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),newName:n}}asDocumentLinkParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDocumentLink(e){const n=t.DocumentLink.create(this.asRange(e.range));return e.url&&(n.target="string"==typeof e.url?e.url:e.url.toString()),gt.is(e)&&e.data&&(n.data=e.data),e.tooltip&&(n.tooltip=e.tooltip),n}asCodeAction(e){const t={title:e.title},r=Ct.is(e)?e:void 0;if(n(e.kind)&&(t.kind=e.kind),e.diagnostics&&(t.diagnostics=this.asDiagnostics(e.diagnostics)),e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return e.command&&(t.command=this.asCommand(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),e.disabled&&(t.disabled={reason:e.disabled}),r&&void 0!==r.data&&(t.data=r.data),t}}class Pt{constructor(e){this._monaco=e}asResourceEdits(e,n,r,o){return n.map((n=>({resource:e,edit:this.asTextEdit(n),modelVersionId:o,metadata:t.AnnotatedTextEdit.is(n)?r(n.annotationId):void 0})))}asWorkspaceEditMetadata(e){return{needsConfirmation:!0===e.needsConfirmation,label:e.label,description:e.description}}asWorkspaceEdit(e){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations)for(const t of Object.keys(e.changeAnnotations)){const r=this.asWorkspaceEditMetadata(e.changeAnnotations[t]);n.set(t,r)}const r=e=>void 0===e?void 0:n.get(e),o=[];if(e.documentChanges)e.documentChanges.forEach((e=>{if(t.CreateFile.is(e))o.push({newUri:this._monaco.Uri.parse(e.uri),options:e.options,metadata:r(e.annotationId)});else if(t.RenameFile.is(e))o.push({oldUri:this._monaco.Uri.parse(e.oldUri),newUri:this._monaco.Uri.parse(e.newUri),options:e.options,metadata:r(e.annotationId)});else if(t.DeleteFile.is(e))o.push({oldUri:this._monaco.Uri.parse(e.uri),options:e.options,metadata:r(e.annotationId)});else if(t.TextDocumentEdit.is(e)){const t=this._monaco.Uri.parse(e.textDocument.uri),n="number"==typeof e.textDocument.version?e.textDocument.version:void 0;o.push(...this.asResourceEdits(t,e.edits,r,n))}else console.error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`)}));else if(e.changes)for(const t of Object.keys(e.changes)){const n=this._monaco.Uri.parse(t);o.push(...this.asResourceEdits(n,e.changes[t],r))}return{edits:o}}asTextEdit(e){if(!e)return;return{range:this.asRange(e.range),text:e.newText}}asTextEdits(e){if(e)return e.map((e=>this.asTextEdit(e)))}asCodeLens(e){if(!e)return;const t={range:this.asRange(e.range)};return e.command&&(t.command=this.asCommand(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}asCodeLensList(e){if(e)return{lenses:e.map((e=>this.asCodeLens(e))),dispose:()=>{}}}asCodeActionList(e){return{actions:e.map((e=>this.asCodeAction(e))),dispose:()=>{}}}asCodeAction(e){return t.CodeAction.is(e)?{title:e.title,command:this.asCommand(e.command),edit:this.asWorkspaceEdit(e.edit),diagnostics:this.asDiagnostics(e.diagnostics),kind:e.kind,disabled:e.disabled?e.disabled.reason:void 0,isPreferred:e.isPreferred,data:e.data}:{command:{id:e.command,title:e.title,arguments:e.arguments},title:e.title}}asCommand(e){if(e)return{id:e.command,title:e.title,arguments:e.arguments}}asDocumentSymbol(e){const t=e.children&&e.children.map((e=>this.asDocumentSymbol(e)));return{name:e.name,detail:e.detail||"",kind:this.asSymbolKind(e.kind),tags:e.tags||[],range:this.asRange(e.range),selectionRange:this.asRange(e.selectionRange),children:t}}asDocumentSymbols(e){return t.DocumentSymbol.is(e[0])?e.map((e=>this.asDocumentSymbol(e))):this.asSymbolInformations(e)}asSymbolInformations(e,t){if(e)return e.map((e=>this.asSymbolInformation(e,t)))}asSymbolInformation(e,t){const n=this.asLocation(t?{...e.location,uri:t.toString()}:e.location);return{name:e.name,detail:"",containerName:e.containerName,kind:this.asSymbolKind(e.kind),tags:e.tags||[],range:n.range,selectionRange:n.range}}asSymbolKind(e){return e<=t.SymbolKind.TypeParameter?e-1:this._monaco.languages.SymbolKind.Property}asDocumentHighlights(e){if(e)return e.map((e=>this.asDocumentHighlight(e)))}asDocumentHighlight(e){return{range:this.asRange(e.range),kind:n(e.kind)?this.asDocumentHighlightKind(e.kind):void 0}}asDocumentHighlightKind(e){switch(e){case t.DocumentHighlightKind.Text:return this._monaco.languages.DocumentHighlightKind.Text;case t.DocumentHighlightKind.Read:return this._monaco.languages.DocumentHighlightKind.Read;case t.DocumentHighlightKind.Write:return this._monaco.languages.DocumentHighlightKind.Write}return this._monaco.languages.DocumentHighlightKind.Text}asReferences(e){if(e)return e.map((e=>this.asLocation(e)))}asDefinitionResult(e){if(e){if(o(e)){if(0==e.length)return;if(t.LocationLink.is(e[0])){return e.map((e=>this.asLocationLink(e)))}return e.map((e=>this.asLocation(e)))}return this.asLocation(e)}}asLocation(e){if(!e)return;return{uri:this._monaco.Uri.parse(e.uri),range:this.asRange(e.range)}}asLocationLink(e){if(!e)return;const t={uri:this._monaco.Uri.parse(e.targetUri),range:this.asRange(e.targetSelectionRange),originSelectionRange:this.asRange(e.originSelectionRange),targetSelectionRange:this.asRange(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}asSignatureHelpResult(e){if(!e)return;const t={};return n(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,n(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures?t.signatures=this.asSignatureInformations(e.signatures):t.signatures=[],{value:t,dispose:()=>{}}}asSignatureInformations(e){return e.map((e=>this.asSignatureInformation(e)))}asSignatureInformation(e){const t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),e.parameters?t.parameters=this.asParameterInformations(e.parameters):t.parameters=[],e.activeParameter&&(t.activeParameter=e.activeParameter),t}asParameterInformations(e){return e.map((e=>this.asParameterInformation(e)))}asParameterInformation(e){const t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),t}asHover(e){if(e)return{contents:this.asHoverContent(e.contents),range:this.asRange(e.range)}}asHoverContent(e){return Array.isArray(e)?e.map((e=>this.asMarkdownString(e))):[this.asMarkdownString(e)]}asDocumentation(e){return r(e)?e:e.kind===t.MarkupKind.PlainText?e.value:this.asMarkdownString(e)}asMarkdownString(e){if(t.MarkupContent.is(e))return{value:e.value};if(r(e))return{value:e};const{language:n,value:o}=e;return{value:"```"+n+"\n"+o+"\n```"}}asSeverity(e){return 1===e?this._monaco.MarkerSeverity.Error:2===e?this._monaco.MarkerSeverity.Warning:3===e?this._monaco.MarkerSeverity.Info:this._monaco.MarkerSeverity.Hint}asDiagnostics(e){if(e)return e.map((e=>this.asDiagnostic(e)))}asDiagnostic(e){return{code:"number"==typeof e.code?e.code.toString():e.code,severity:this.asSeverity(e.severity),message:e.message,source:e.source,startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,relatedInformation:this.asRelatedInformations(e.relatedInformation)}}asRelatedInformations(e){if(e)return e.map((e=>this.asRelatedInformation(e)))}asRelatedInformation(e){return{resource:this._monaco.Uri.parse(e.location.uri),startLineNumber:e.location.range.start.line+1,startColumn:e.location.range.start.character+1,endLineNumber:e.location.range.end.line+1,endColumn:e.location.range.end.character+1,message:e.message}}asCompletionResult(e,t){if(!e)return{incomplete:!1,suggestions:[]};if(Array.isArray(e)){return{incomplete:!1,suggestions:e.map((e=>this.asCompletionItem(e,t)))}}return{incomplete:e.isIncomplete,suggestions:e.items.map((e=>this.asCompletionItem(e,t)))}}asCompletionItem(e,t){const o={label:e.label};e.detail&&(o.detail=e.detail),e.documentation&&(o.documentation=this.asDocumentation(e.documentation),o.documentationFormat=r(e.documentation)?void 0:e.documentation.kind),e.filterText&&(o.filterText=e.filterText);const a=this.asCompletionInsertText(e,t);if(o.insertText=a.insertText,o.range=a.range,o.fromEdit=a.fromEdit,a.isSnippet&&(o.insertTextRules=this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet),n(e.kind)){const[t,n]=this.asCompletionItemKind(e.kind);o.kind=t,n&&(o.originalItemKind=n)}return e.sortText&&(o.sortText=e.sortText),e.additionalTextEdits&&(o.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),i(e.commitCharacters)&&(o.commitCharacters=e.commitCharacters.slice()),e.command&&(o.command=this.asCommand(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(o.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(o.preselect=e.preselect),void 0!==e.data&&(o.data=e.data),!0!==e.deprecated&&!1!==e.deprecated||(o.deprecated=e.deprecated),o.insertTextMode=e.insertTextMode,o}asCompletionItemKind(e){if(t.CompletionItemKind.Text<=e&&e<=t.CompletionItemKind.TypeParameter)switch(e){case t.CompletionItemKind.Text:return[this._monaco.languages.CompletionItemKind.Text,void 0];case t.CompletionItemKind.Method:return[this._monaco.languages.CompletionItemKind.Method,void 0];case t.CompletionItemKind.Function:return[this._monaco.languages.CompletionItemKind.Function,void 0];case t.CompletionItemKind.Constructor:return[this._monaco.languages.CompletionItemKind.Constructor,void 0];case t.CompletionItemKind.Field:return[this._monaco.languages.CompletionItemKind.Field,void 0];case t.CompletionItemKind.Variable:return[this._monaco.languages.CompletionItemKind.Variable,void 0];case t.CompletionItemKind.Class:return[this._monaco.languages.CompletionItemKind.Class,void 0];case t.CompletionItemKind.Interface:return[this._monaco.languages.CompletionItemKind.Interface,void 0];case t.CompletionItemKind.Module:return[this._monaco.languages.CompletionItemKind.Module,void 0];case t.CompletionItemKind.Property:return[this._monaco.languages.CompletionItemKind.Property,void 0];case t.CompletionItemKind.Unit:return[this._monaco.languages.CompletionItemKind.Unit,void 0];case t.CompletionItemKind.Value:return[this._monaco.languages.CompletionItemKind.Value,void 0];case t.CompletionItemKind.Enum:return[this._monaco.languages.CompletionItemKind.Enum,void 0];case t.CompletionItemKind.Keyword:return[this._monaco.languages.CompletionItemKind.Keyword,void 0];case t.CompletionItemKind.Snippet:return[this._monaco.languages.CompletionItemKind.Snippet,void 0];case t.CompletionItemKind.Color:return[this._monaco.languages.CompletionItemKind.Color,void 0];case t.CompletionItemKind.File:return[this._monaco.languages.CompletionItemKind.File,void 0];case t.CompletionItemKind.Reference:return[this._monaco.languages.CompletionItemKind.Reference,void 0];case t.CompletionItemKind.Folder:return[this._monaco.languages.CompletionItemKind.Folder,void 0];case t.CompletionItemKind.EnumMember:return[this._monaco.languages.CompletionItemKind.EnumMember,void 0];case t.CompletionItemKind.Constant:return[this._monaco.languages.CompletionItemKind.Constant,void 0];case t.CompletionItemKind.Struct:return[this._monaco.languages.CompletionItemKind.Struct,void 0];case t.CompletionItemKind.Event:return[this._monaco.languages.CompletionItemKind.Event,void 0];case t.CompletionItemKind.Operator:return[this._monaco.languages.CompletionItemKind.Operator,void 0];case t.CompletionItemKind.TypeParameter:return[this._monaco.languages.CompletionItemKind.TypeParameter,void 0];default:return[e-1,void 0]}return[t.CompletionItemKind.Text,e]}asCompletionInsertText(e,n){const r=e.insertTextFormat===t.InsertTextFormat.Snippet;if(e.textEdit){if(t.TextEdit.is(e.textEdit)){const t=this.asRange(e.textEdit.range);return{isSnippet:r,insertText:e.textEdit.newText,range:t,fromEdit:!0}}{const t={insert:this.asRange(e.textEdit.insert),replace:this.asRange(e.textEdit.replace)};return{isSnippet:r,insertText:e.textEdit.newText,range:t,fromEdit:!0}}}return e.insertText?{isSnippet:r,insertText:e.insertText,fromEdit:!1,range:n}:{insertText:e.label,range:n,fromEdit:!1,isSnippet:!1}}asDocumentLinks(e){return{links:e.map((e=>this.asDocumentLink(e)))}}asDocumentLink(e){return{range:this.asRange(e.range),url:e.target,data:e.data,tooltip:e.tooltip}}asRange(e){if(void 0===e)return;if(null===e)return null;const t=this.asPosition(e.start),n=this.asPosition(e.end);if(t instanceof this._monaco.Position&&n instanceof this._monaco.Position)return new this._monaco.Range(t.lineNumber,t.column,n.lineNumber,n.column);return{startLineNumber:t&&void 0!==t.lineNumber?t.lineNumber:void 0,startColumn:t&&void 0!==t.column?t.column:void 0,endLineNumber:n&&void 0!==n.lineNumber?n.lineNumber:void 0,endColumn:n&&void 0!==n.column?n.column:void 0}}asPosition(e){if(void 0===e)return;if(null===e)return null;const{line:t,character:n}=e,r=void 0===t?void 0:t+1,o=void 0===n?void 0:n+1;return void 0!==r&&void 0!==o?new this._monaco.Position(r,o):{lineNumber:r,column:o}}asColorInformations(e){return e.map((e=>this.asColorInformation(e)))}asColorInformation(e){return{range:this.asRange(e.range),color:e.color}}asColorPresentations(e){return e.map((e=>this.asColorPresentation(e)))}asColorPresentation(e){return{label:e.label,textEdit:this.asTextEdit(e.textEdit),additionalTextEdits:this.asTextEdits(e.additionalTextEdits)}}asFoldingRanges(e){if(e)return e.map((e=>this.asFoldingRange(e)))}asFoldingRange(e){return{start:e.startLine+1,end:e.endLine+1,kind:this.asFoldingRangeKind(e.kind)}}asFoldingRangeKind(e){if(e)switch(e){case t.FoldingRangeKind.Comment:return this._monaco.languages.FoldingRangeKind.Comment;case t.FoldingRangeKind.Imports:return this._monaco.languages.FoldingRangeKind.Imports;case t.FoldingRangeKind.Region:return this._monaco.languages.FoldingRangeKind.Region}}asSemanticTokens(e){return{resultId:e.resultId,data:Uint32Array.from(e.data)}}}!function(e){const t=globalThis,n=Symbol.for("Services");e.get=()=>{const e=t[n];if(!e)throw new Error("Language Client services has not been installed");return e},e.install=function(e){return t[n]&&console.warn("Language Client services have been overridden"),t[n]=e,a.Disposable.create((()=>t[n]=void 0))}}(yt||(yt={})),(_t=It||(It={}))[_t.Invoke=1]="Invoke",_t[_t.TriggerCharacter=2]="TriggerCharacter",_t[_t.ContentChange=3]="ContentChange",(At=Et||(Et={}))[At.Error=0]="Error",At[At.Warning=1]="Warning",At[At.Information=2]="Information",At[At.Hint=3]="Hint",(xt||(xt={})).is=function(e){return!!e&&"uri"in e&&"languageId"in e},(St=Ft||(Ft={}))[St.Global=1]="Global",St[St.Workspace=2]="Workspace",St[St.WorkspaceFolder=3]="WorkspaceFolder";class Rt{constructor(){this.disposables=[]}dispose(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()}push(e){const t=this.disposables;return t.push(e),{dispose(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}}class Ot{constructor(e,t,n){this._monaco=e,this.name=t,this.p2m=n,this.diagnostics=new Map,this.toDispose=new Rt}dispose(){this.toDispose.dispose()}get(e){const t=this.diagnostics.get(e);return t?t.diagnostics:[]}set(e,t){const n=this.diagnostics.get(e);if(n)n.diagnostics=t;else{const n=new Lt(this._monaco,e,t,this.name,this.p2m);this.diagnostics.set(e,n),this.toDispose.push(a.Disposable.create((()=>{this.diagnostics.delete(e),n.dispose()})))}}}class Lt{constructor(e,t,n,r,o){this._monaco=e,this.owner=r,this.p2m=o,this._markers=[],this._diagnostics=[],this.toDispose=new Rt,this.uri=this._monaco.Uri.parse(t),this.diagnostics=n,this.toDispose.push(this._monaco.editor.onDidCreateModel((e=>this.doUpdateModelMarkers(e))))}set diagnostics(e){this._diagnostics=e,this._markers=this.p2m.asDiagnostics(e),this.updateModelMarkers()}get diagnostics(){return this._diagnostics}get markers(){return this._markers}dispose(){this._markers=[],this.updateModelMarkers(),this.toDispose.dispose()}updateModelMarkers(){const e=this._monaco.editor.getModel(this.uri);this.doUpdateModelMarkers(e||void 0)}doUpdateModelMarkers(e){e&&this.uri.toString()===e.uri.toString()&&this._monaco.editor.setModelMarkers(e,this.owner,this._markers)}}(wt=bt||(bt={})).fromDocument=function(e,t){return{uri:e.Uri.parse(t.uri),languageId:t.languageId}},wt.fromModel=function(e){return{uri:e.uri,languageId:e.getLanguageId()}};class Mt{constructor(e,t,n){this._monaco=e,this.p2m=t,this.m2p=n}match(e,t){return this.matchModel(e,bt.fromDocument(this._monaco,t))}createDiagnosticCollection(e){return new Ot(this._monaco,e||"default",this.p2m)}registerCompletionItemProvider(e,t,...n){const r=this.createCompletionProvider(e,t,...n),o=new Rt;for(const i of this.matchLanguage(e))o.push(this._monaco.languages.registerCompletionItemProvider(i,r));return o}createCompletionProvider(e,t,...n){return{triggerCharacters:n,provideCompletionItems:async(n,r,o,i)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const a=n.getWordUntilPosition(r),s=new this._monaco.Range(r.lineNumber,a.startColumn,r.lineNumber,a.endColumn),u=this.m2p.asCompletionParams(n,r,o),c=await t.provideCompletionItems(u,i);return c&&this.p2m.asCompletionResult(c,s)},resolveCompletionItem:t.resolveCompletionItem?async(e,n)=>{const r=this.m2p.asCompletionItem(e),o=await t.resolveCompletionItem(r,n);if(o){const t=this.p2m.asCompletionItem(o,e.range);Object.assign(e,t)}return e}:void 0}}registerHoverProvider(e,t){const n=this.createHoverProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerHoverProvider(o,n));return r}createHoverProvider(e,t){return{provideHover:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentPositionParams(n,r),a=await t.provideHover(i,o);return a&&this.p2m.asHover(a)}}}registerSignatureHelpProvider(e,t,...n){const r=this.createSignatureHelpProvider(e,t,...n),o=new Rt;for(const i of this.matchLanguage(e))o.push(this._monaco.languages.registerSignatureHelpProvider(i,r));return o}createSignatureHelpProvider(e,t,...n){return{signatureHelpTriggerCharacters:[...t.triggerCharacters||n||[]],signatureHelpRetriggerCharacters:t.retriggerCharacters,provideSignatureHelp:async(n,r,o,i)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const a=this.m2p.asTextDocumentPositionParams(n,r),s=await t.provideSignatureHelp(a,o,this.m2p.asSignatureHelpContext(i));return s&&this.p2m.asSignatureHelpResult(s)}}}registerDefinitionProvider(e,t){const n=this.createDefinitionProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerDefinitionProvider(o,n));return r}createDefinitionProvider(e,t){return{provideDefinition:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentPositionParams(n,r),a=await t.provideDefinition(i,o);return a&&this.p2m.asDefinitionResult(a)}}}registerReferenceProvider(e,t){const n=this.createReferenceProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerReferenceProvider(o,n));return r}createReferenceProvider(e,t){return{provideReferences:async(n,r,o,i)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const a=this.m2p.asReferenceParams(n,r,o),s=await t.provideReferences(a,i);return s&&this.p2m.asReferences(s)}}}registerDocumentHighlightProvider(e,t){const n=this.createDocumentHighlightProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerDocumentHighlightProvider(o,n));return r}createDocumentHighlightProvider(e,t){return{provideDocumentHighlights:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentPositionParams(n,r),a=await t.provideDocumentHighlights(i,o);return a&&this.p2m.asDocumentHighlights(a)}}}registerDocumentSymbolProvider(e,t){const n=this.createDocumentSymbolProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerDocumentSymbolProvider(o,n));return r}createDocumentSymbolProvider(e,t){return{provideDocumentSymbols:async(n,r)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const o=this.m2p.asDocumentSymbolParams(n),i=await t.provideDocumentSymbols(o,r);return i&&this.p2m.asDocumentSymbols(i)}}}registerCodeActionsProvider(e,t){const n=this.createCodeActionProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerCodeActionProvider(o,n));return r}createCodeActionProvider(e,t){return{provideCodeActions:async(n,r,o,i)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const a=this.m2p.asCodeActionParams(n,r,o),s=await t.provideCodeActions(a,i);return s&&this.p2m.asCodeActionList(s)||void 0}}}registerCodeLensProvider(e,t){const n=this.createCodeLensProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerCodeLensProvider(o,n));return r}createCodeLensProvider(e,t){return{provideCodeLenses:async(n,r)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const o=this.m2p.asCodeLensParams(n),i=await t.provideCodeLenses(o,r);return i&&this.p2m.asCodeLensList(i)},resolveCodeLens:t.resolveCodeLens?async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return r;const i=this.m2p.asCodeLens(r),a=await t.resolveCodeLens(i,o);if(a){const e=this.p2m.asCodeLens(a);Object.assign(r,e)}return r}:(e,t)=>t}}registerDocumentFormattingEditProvider(e,t){const n=this.createDocumentFormattingEditProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerDocumentFormattingEditProvider(o,n));return r}createDocumentFormattingEditProvider(e,t){return{provideDocumentFormattingEdits:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asDocumentFormattingParams(n,r),a=await t.provideDocumentFormattingEdits(i,o);return a&&this.p2m.asTextEdits(a)}}}registerDocumentRangeFormattingEditProvider(e,t){const n=this.createDocumentRangeFormattingEditProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerDocumentRangeFormattingEditProvider(o,n));return r}createDocumentRangeFormattingEditProvider(e,t){return{provideDocumentRangeFormattingEdits:async(n,r,o,i)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const a=this.m2p.asDocumentRangeFormattingParams(n,r,o),s=await t.provideDocumentRangeFormattingEdits(a,i);return s&&this.p2m.asTextEdits(s)}}}registerOnTypeFormattingEditProvider(e,t,n,...r){const o=this.createOnTypeFormattingEditProvider(e,t,n,...r),i=new Rt;for(const a of this.matchLanguage(e))i.push(this._monaco.languages.registerOnTypeFormattingEditProvider(a,o));return i}createOnTypeFormattingEditProvider(e,t,n,...r){return{autoFormatTriggerCharacters:[n].concat(r),provideOnTypeFormattingEdits:async(n,r,o,i,a)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const s=this.m2p.asDocumentOnTypeFormattingParams(n,r,o,i),u=await t.provideOnTypeFormattingEdits(s,a);return u&&this.p2m.asTextEdits(u)}}}registerRenameProvider(e,t){const n=this.createRenameProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerRenameProvider(o,n));return r}createRenameProvider(e,t){return{provideRenameEdits:async(n,r,o,i)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const a=this.m2p.asRenameParams(n,r,o),s=await t.provideRenameEdits(a,i);return s&&this.p2m.asWorkspaceEdit(s)}}}registerDocumentLinkProvider(e,t){const n=this.createDocumentLinkProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerLinkProvider(o,n));return r}createDocumentLinkProvider(e,t){return{provideLinks:async(n,r)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const o=this.m2p.asDocumentLinkParams(n),i=await t.provideDocumentLinks(o,r);return i&&this.p2m.asDocumentLinks(i)},resolveLink:async(e,n)=>{if(t.resolveDocumentLink&&(null===e.url||void 0===e.url)){const r=this.m2p.asDocumentLink(e),o=await t.resolveDocumentLink(r,n);if(o){const t=this.p2m.asDocumentLink(o);Object.assign(e,t)}}return e}}}registerImplementationProvider(e,t){const n=this.createImplementationProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerImplementationProvider(o,n));return r}createImplementationProvider(e,t){return{provideImplementation:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentPositionParams(n,r),a=await t.provideImplementation(i,o);return a&&this.p2m.asDefinitionResult(a)}}}registerTypeDefinitionProvider(e,t){const n=this.createTypeDefinitionProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerTypeDefinitionProvider(o,n));return r}createTypeDefinitionProvider(e,t){return{provideTypeDefinition:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentPositionParams(n,r),a=await t.provideTypeDefinition(i,o);return a&&this.p2m.asDefinitionResult(a)}}}registerColorProvider(e,t){const n=this.createDocumentColorProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerColorProvider(o,n));return r}createDocumentColorProvider(e,t){return{provideDocumentColors:async(n,r)=>{if(!this.matchModel(e,bt.fromModel(n)))return;console.log(n,r);const o=this.m2p.asTextDocumentIdentifier(n),i=await t.provideDocumentColors({textDocument:o},r);return i&&this.p2m.asColorInformations(i)},provideColorPresentations:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentIdentifier(n),a=this.m2p.asRange(r.range),s=await t.provideColorPresentations({textDocument:i,color:r.color,range:a},o);return s&&this.p2m.asColorPresentations(s)}}}registerFoldingRangeProvider(e,t){const n=this.createFoldingRangeProvider(e,t),r=new Rt;for(const o of this.matchLanguage(e))r.push(this._monaco.languages.registerFoldingRangeProvider(o,n));return r}createFoldingRangeProvider(e,t){return{provideFoldingRanges:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentIdentifier(n),a=await t.provideFoldingRanges({textDocument:i},o);return a&&this.p2m.asFoldingRanges(a)}}}registerDocumentSemanticTokensProvider(e,t,n){const r=this.createSemanticTokensProvider(e,t,n),o=new Rt;for(const i of this.matchLanguage(e))o.push(this._monaco.languages.registerDocumentSemanticTokensProvider(i,r));return o}createSemanticTokensProvider(e,t,n){return{getLegend:()=>n,provideDocumentSemanticTokens:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentIdentifier(n),a=await t.provideDocumentSemanticTokens({textDocument:i},o);return a&&this.p2m.asSemanticTokens(a)},releaseDocumentSemanticTokens:e=>{}}}registerDocumentRangeSemanticTokensProvider(e,t,n){const r=this.createRangeSemanticTokensProvider(e,t,n),o=new Rt;for(const i of this.matchLanguage(e))o.push(this._monaco.languages.registerDocumentRangeSemanticTokensProvider(i,r));return o}createRangeSemanticTokensProvider(e,t,n){return{getLegend:()=>n,provideDocumentRangeSemanticTokens:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=this.m2p.asTextDocumentIdentifier(n),a=await t.provideDocumentRangeSemanticTokens({textDocument:i,range:this.m2p.asRange(r)},o);return a&&this.p2m.asSemanticTokens(a)}}}matchModel(e,n){return Array.isArray(e)?e.some((e=>this.matchModel(e,n))):t.DocumentFilter.is(e)?(!e.language||e.language===n.languageId)&&((!e.scheme||e.scheme===n.uri.scheme)&&(!e.pattern||(e.pattern,n.uri.path,!1))):e===n.languageId}matchLanguage(e){const t=new Set;if(Array.isArray(e))for(const n of e)t.add(this.matchLanguageByFilter(n));else t.add(this.matchLanguageByFilter(e));return t}matchLanguageByFilter(e){return t.DocumentFilter.is(e)?e.language?e.language:"*":e}}class Nt extends Mt{createRenameProvider(e,t){return{...super.createRenameProvider(e,t),resolveRenameLocation:async(n,r,o)=>{if(!this.matchModel(e,bt.fromModel(n)))return;const i=n.getWordUntilPosition(r),a=await t.resolveRenameLocation({textDocument:this.m2p.asTextDocumentIdentifier(n),position:this.m2p.asPosition(r.lineNumber,i.startColumn)},o);return a?(console.log("resolveRenameLocation",a,this.p2m.asRange(a.range)),{range:this.p2m.asRange(a.range),text:a.text}):{rejectReason:"此元素无法重命名"}}}}}var jt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCollection=e.Disposable=void 0;const t=s;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return t.Disposable}});e.DisposableCollection=class{constructor(){this.disposables=[]}dispose(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()}push(e){const t=this.disposables;return t.push(e),{dispose(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}}}(jt);var qt={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.WebSocketMessageReader=void 0;const Wt=u;class $t extends Wt.AbstractMessageReader{constructor(e){super(),this.socket=e,this.state="initial",this.events=[],this.socket.onMessage((e=>this.readMessage(e))),this.socket.onError((e=>this.fireError(e))),this.socket.onClose(((e,t)=>{if(1e3!==e){const n={name:""+e,message:`Error during socket reconnect: code = ${e}, reason = ${t}`};this.fireError(n)}this.fireClose()}))}listen(e){if("initial"===this.state)for(this.state="listening",this.callback=e;0!==this.events.length;){const e=this.events.pop();e.message?this.readMessage(e.message):e.error?this.fireError(e.error):this.fireClose()}return{dispose:()=>{this.callback===e&&(this.callback=void 0)}}}readMessage(e){if("initial"===this.state)this.events.splice(0,0,{message:e});else if("listening"===this.state){const t=JSON.parse(e);this.callback(t)}}fireError(e){"initial"===this.state?this.events.splice(0,0,{error:e}):"listening"===this.state&&super.fireError(e)}fireClose(){"initial"===this.state?this.events.splice(0,0,{}):"listening"===this.state&&super.fireClose(),this.state="closed"}}Ut.WebSocketMessageReader=$t;var Ht={},Vt=p&&p.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.WebSocketMessageWriter=void 0;const Gt=c;class zt extends Gt.AbstractMessageWriter{constructor(e){super(),this.socket=e,this.errorCount=0}end(){}write(e){return Vt(this,void 0,void 0,(function*(){try{const t=JSON.stringify(e);this.socket.send(t)}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}))}}Ht.WebSocketMessageWriter=zt;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.createWebSocketConnection=void 0;const Qt=a,Zt=Ut,Yt=Ht;Jt.createWebSocketConnection=function(e,t){const n=new Zt.WebSocketMessageReader(e),r=new Yt.WebSocketMessageWriter(e),o=Qt.createMessageConnection(n,r,t);return o.onClose((()=>o.dispose())),o},function(e){var t=p&&p.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=p&&p.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Kt,e),n(Ut,e),n(Ht,e),n(Jt,e)}(qt);var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.ConsoleLogger=void 0;Xt.ConsoleLogger=class{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}debug(e){console.debug(e)}};var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.toSocket=en.listen=void 0;const tn=qt,nn=Xt;function rn(e){return{send:t=>e.send(t),onMessage:t=>e.onmessage=e=>t(e.data),onError:t=>e.onerror=e=>{"message"in e&&t(e.message)},onClose:t=>e.onclose=e=>t(e.code,e.reason),dispose:()=>e.close()}}en.listen=function(e){const{webSocket:t,onConnection:n}=e,r=e.logger||new nn.ConsoleLogger;t.onopen=()=>{const e=rn(t),o=tn.createWebSocketConnection(e,r);n(o)}},en.toSocket=rn,function(e){var t=p&&p.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=p&&p.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(a,e),n(l,e),n(jt,e),n(qt,e),n(Xt,e),n(en,e)}({});var on={},an={};Object.defineProperty(an,"__esModule",{value:!0}),an.toJSONObject=cn=an.ConfigurationFeature=void 0;const sn=C,un=t;var cn=an.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(un.ConfigurationRequest.type,((t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},o=e.clientOptions.middleware.workspace;return o&&o.configuration?o.configuration(t,n,r):r(t)}))}getConfiguration(e,t){let n=null;if(t){let r=t.lastIndexOf(".");if(-1===r)n=ln(sn.workspace.getConfiguration(void 0,e).get(t));else{let o=sn.workspace.getConfiguration(t.substr(0,r),e);o&&(n=ln(o.get(t.substr(r+1))))}}else{let t=sn.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=ln(t.get(e)))}return void 0===n&&(n=null),n}dispose(){}};function ln(e){if(e){if(Array.isArray(e))return e.map(ln);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=ln(e[n]));return t}}return e}an.toJSONObject=ln;var pn={},dn={};function hn(e){return"string"==typeof e||e instanceof String}function mn(e){return"function"==typeof e}function fn(e){return Array.isArray(e)}function gn(e){return e&&mn(e.then)}Object.defineProperty(dn,"__esModule",{value:!0}),dn.asPromise=dn.thenable=dn.typedArray=dn.stringArray=dn.array=dn.func=dn.error=dn.number=dn.string=dn.boolean=void 0,dn.boolean=function(e){return!0===e||!1===e},dn.string=hn,dn.number=function(e){return"number"==typeof e||e instanceof Number},dn.error=function(e){return e instanceof Error},dn.func=mn,dn.array=fn,dn.stringArray=function(e){return fn(e)&&e.every((e=>hn(e)))},dn.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},dn.thenable=gn,dn.asPromise=function(e){return e instanceof Promise?e:gn(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)};var vn={};Object.defineProperty(vn,"__esModule",{value:!0});const Dn=C;class Cn extends Dn.CompletionItem{constructor(e){super(e)}}vn.default=Cn;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const In=C;class _n extends In.CodeLens{constructor(e){super(e)}}yn.default=_n;var En={};Object.defineProperty(En,"__esModule",{value:!0});const An=C;class xn extends An.DocumentLink{constructor(e,t){super(e,t)}}En.default=xn;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});const Sn=C;class bn extends Sn.CodeAction{constructor(e,t){super(e),this.data=t}}Fn.default=bn;var wn={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolDiagnostic=e.DiagnosticCode=void 0;const t=C,n=dn;(e.DiagnosticCode||(e.DiagnosticCode={})).is=function(e){const t=e;return null!=t&&(n.number(t.value)||n.string(t.value))&&n.string(t.target)};class r extends t.Diagnostic{constructor(e,t,n,r){super(e,t,n),this.data=r,this.hasDiagnosticCode=!1}}e.ProtocolDiagnostic=r}(wn);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const Tn=C;class Bn extends Tn.CallHierarchyItem{constructor(e,t,n,r,o,i,a){super(e,t,n,r,o,i),void 0!==a&&(this.data=a)}}kn.default=Bn,Object.defineProperty(pn,"__esModule",{value:!0}),pn.createConverter=void 0;const Pn=C,Rn=t,On=dn,Ln=vn,Mn=yn,Nn=En,jn=Fn,qn=wn,Kn=kn,Un=t;var Wn;(Wn||(Wn={})).is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing},pn.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function r(e){return{uri:t(e.uri)}}function o(e){switch(e){case Pn.TextDocumentSaveReason.Manual:return Rn.TextDocumentSaveReason.Manual;case Pn.TextDocumentSaveReason.AfterDelay:return Rn.TextDocumentSaveReason.AfterDelay;case Pn.TextDocumentSaveReason.FocusOut:return Rn.TextDocumentSaveReason.FocusOut}return Rn.TextDocumentSaveReason.Manual}function i(e){switch(e){case Pn.CompletionTriggerKind.TriggerCharacter:return Rn.CompletionTriggerKind.TriggerCharacter;case Pn.CompletionTriggerKind.TriggerForIncompleteCompletions:return Rn.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Rn.CompletionTriggerKind.Invoked}}function a(e){switch(e){case Pn.SignatureHelpTriggerKind.Invoke:return Rn.SignatureHelpTriggerKind.Invoked;case Pn.SignatureHelpTriggerKind.TriggerCharacter:return Rn.SignatureHelpTriggerKind.TriggerCharacter;case Pn.SignatureHelpTriggerKind.ContentChange:return Rn.SignatureHelpTriggerKind.ContentChange}}function s(e){return{label:e.label}}function u(e){return{label:e.label,parameters:(t=e.parameters,t.map(s))};var t}function c(e){return{line:e.line,character:e.character}}function l(e){return null==e?e:{line:e.line,character:e.character}}function p(e){return null==e?e:{start:l(e.start),end:l(e.end)}}function d(e){return null==e?e:Rn.Location.create(n(e.uri),p(e.range))}function h(e){switch(e){case Pn.DiagnosticSeverity.Error:return Rn.DiagnosticSeverity.Error;case Pn.DiagnosticSeverity.Warning:return Rn.DiagnosticSeverity.Warning;case Pn.DiagnosticSeverity.Information:return Rn.DiagnosticSeverity.Information;case Pn.DiagnosticSeverity.Hint:return Rn.DiagnosticSeverity.Hint}}function m(e){switch(e){case Pn.DiagnosticTag.Unnecessary:return Rn.DiagnosticTag.Unnecessary;case Pn.DiagnosticTag.Deprecated:return Rn.DiagnosticTag.Deprecated;default:return}}function f(e){return{message:e.message,location:d(e.location)}}function g(e){const t=Rn.Diagnostic.create(p(e.range),e.message),r=e instanceof qn.ProtocolDiagnostic?e:void 0;void 0!==r&&void 0!==r.data&&(t.data=r.data);const o=function(e){if(null!=e)return On.number(e)||On.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return qn.DiagnosticCode.is(o)?void 0!==r&&r.hasDiagnosticCode?t.code=o:(t.code=o.value,t.codeDescription={href:o.target}):t.code=o,On.number(e.severity)&&(t.severity=h(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=m(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(f)),e.source&&(t.source=e.source),t}function v(e){return null==e?e:e.map(g)}function D(e){switch(e){case Pn.CompletionItemTag.Deprecated:return Rn.CompletionItemTag.Deprecated}}function C(e){return{range:p(e.range),newText:e.newText}}function y(e){return e<=Pn.SymbolKind.TypeParameter?e+1:Rn.SymbolKind.Property}function I(e){return e}function _(e){return e.map(I)}function E(e){let t=Rn.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:n,asTextDocumentIdentifier:r,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e)){return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]}}if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:r(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:r(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:r(e.document),reason:o(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:r(e),position:c(t)}},asCompletionParams:function(e,t,n){return{textDocument:r(e),position:c(t),context:{triggerKind:i(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:r(e),position:c(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:a(n.triggerKind),activeSignatureHelp:(o=n.activeSignatureHelp,void 0===o?o:{signatures:(i=o.signatures,i.map(u)),activeSignature:o.activeSignature,activeParameter:o.activeParameter})}};var o,i},asWorkerPosition:c,asRange:p,asPosition:l,asPositions:function(e){let t=[];for(let n of e)t.push(l(n));return t},asLocation:d,asDiagnosticSeverity:h,asDiagnosticTag:m,asDiagnostic:g,asDiagnostics:v,asCompletionItem:function(e){let t={label:e.label},n=e instanceof Ln.default?e:void 0;var r,o;e.detail&&(t.detail=e.detail),e.documentation&&(n&&"$string"!==n.documentationFormat?t.documentation=function(e,t){switch(e){case"$string":return t;case Rn.MarkupKind.PlainText:return{kind:e,value:t};case Rn.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(n.documentationFormat,e.documentation):t.documentation=e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let n,r,o=Rn.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,r=t.textEdit.range):t.insertText instanceof Pn.SnippetString?(o=Rn.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText;t.range&&(r=t.range);e.insertTextFormat=o,t.fromEdit&&void 0!==n&&void 0!==r?e.textEdit=function(e,t){return Wn.is(t)?Rn.InsertReplaceEdit.create(e,p(t.inserting),p(t.replacing)):{newText:e,range:p(t)}}(n,r):e.insertText=n}(t,e),On.number(e.kind)&&(t.kind=(r=e.kind,void 0!==(o=n&&n.originalItemKind)?o:r+1)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=function(e){if(null==e)return e;return e.map(C)}(e.additionalTextEdits)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=E(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect);const i=function(e){if(void 0===e)return e;const t=[];for(let n of e){const e=D(n);void 0!==e&&t.push(e)}return t}(e.tags);if(n){if(void 0!==n.data&&(t.data=n.data),!0===n.deprecated||!1===n.deprecated){if(!0===n.deprecated&&void 0!==i&&i.length>0){const e=i.indexOf(Pn.CompletionItemTag.Deprecated);-1!==e&&i.splice(e,1)}t.deprecated=n.deprecated}void 0!==n.insertTextMode&&(t.insertTextMode=n.insertTextMode)}return void 0!==i&&i.length>0&&(t.tags=i),void 0===t.insertTextMode&&!0===e.keepWhitespace&&(t.insertTextMode=Un.InsertTextMode.adjustIndentation),t},asTextEdit:C,asSymbolKind:y,asSymbolTag:I,asSymbolTags:_,asReferenceParams:function(e,t,n){return{textDocument:r(e),position:c(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:function(e){let t=Rn.CodeAction.create(e.title);if(e instanceof jn.default&&void 0!==e.data&&(t.data=e.data),void 0!==e.kind&&(t.kind=function(e){if(null==e)return;return e.value}(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=v(e.diagnostics)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(t.command=E(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionContext:function(e){if(null==e)return e;let t;return e.only&&On.string(e.only.value)&&(t=[e.only.value]),Rn.CodeActionContext.create(v(e.diagnostics),t)},asCommand:E,asCodeLens:function(e){let t=Rn.CodeLens.create(p(e.range));return e.command&&(t.command=E(e.command)),e instanceof Mn.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:r(e)}},asCodeLensParams:function(e){return{textDocument:r(e)}},asDocumentLink:function(e){let t=Rn.DocumentLink.create(p(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let r=e instanceof Nn.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:r(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:y(e.kind),uri:n(e.uri),range:p(e.range),selectionRange:p(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=_(e.tags)),e instanceof Kn.default&&void 0!==e.data&&(t.data=e.data),t}}};var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.createConverter=void 0;const Hn=C,Vn=t,Gn=dn,zn=vn,Jn=yn,Qn=En,Zn=Fn,Yn=wn,Xn=kn,er=t;var tr;(tr||(tr={})).is=function(e){let t=e;return t&&Gn.string(t.language)&&Gn.string(t.value)},$n.createConverter=function(e,t){const n=e||(e=>Hn.Uri.parse(e));function r(e){return n(e)}function o(e){return e.map(i)}function i(e){let t=new Yn.ProtocolDiagnostic(c(e.range),e.message,p(e.severity),e.data);return void 0!==e.code&&(Vn.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:r(e.codeDescription.href)}:Yn.DiagnosticCode.is(e.code)?(t.hasDiagnosticCode=!0,t.code={value:e.code.value,target:r(e.code.target)}):t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(a)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=s(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function a(e){return new Hn.DiagnosticRelatedInformation(E(e.location),e.message)}function s(e){switch(e){case Vn.DiagnosticTag.Unnecessary:return Hn.DiagnosticTag.Unnecessary;case Vn.DiagnosticTag.Deprecated:return Hn.DiagnosticTag.Deprecated;default:return}}function u(e){if(e)return new Hn.Position(e.line,e.character)}function c(e){if(e)return new Hn.Range(u(e.start),u(e.end))}function l(e){return e.map((e=>c(e)))}function p(e){if(null==e)return Hn.DiagnosticSeverity.Error;switch(e){case Vn.DiagnosticSeverity.Error:return Hn.DiagnosticSeverity.Error;case Vn.DiagnosticSeverity.Warning:return Hn.DiagnosticSeverity.Warning;case Vn.DiagnosticSeverity.Information:return Hn.DiagnosticSeverity.Information;case Vn.DiagnosticSeverity.Hint:return Hn.DiagnosticSeverity.Hint}return Hn.DiagnosticSeverity.Error}function d(e){if(Gn.string(e))return e;switch(e.kind){case Vn.MarkupKind.Markdown:return h(e.value);case Vn.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function h(e){const n=new Hn.MarkdownString(e);return!0===t&&(n.isTrusted=t),n}function m(e){switch(e){case Vn.CompletionItemTag.Deprecated:return Hn.CompletionItemTag.Deprecated}}function f(e){let t=function(e){if(null==e)return[];const t=[];for(let n of e){const e=m(n);void 0!==e&&t.push(e)}return t}(e.tags),n=new zn.default(e.label);e.detail&&(n.detail=e.detail),e.documentation&&(n.documentation=d(e.documentation),n.documentationFormat=Gn.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(n.filterText=e.filterText);let r=function(e){return e.textEdit?e.insertTextFormat===Vn.InsertTextFormat.Snippet?{text:new Hn.SnippetString(e.textEdit.newText),range:g(e.textEdit),fromEdit:!0}:{text:e.textEdit.newText,range:g(e.textEdit),fromEdit:!0}:e.insertText?e.insertTextFormat===Vn.InsertTextFormat.Snippet?{text:new Hn.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(r&&(n.insertText=r.text,n.range=r.range,n.fromEdit=r.fromEdit),Gn.number(e.kind)){let[t,r]=(o=e.kind,Vn.CompletionItemKind.Text<=o&&o<=Vn.CompletionItemKind.TypeParameter?[o-1,void 0]:[Hn.CompletionItemKind.Text,o]);n.kind=t,r&&(n.originalItemKind=r)}var o;return e.sortText&&(n.sortText=e.sortText),e.additionalTextEdits&&(n.additionalTextEdits=D(e.additionalTextEdits)),Gn.stringArray(e.commitCharacters)&&(n.commitCharacters=e.commitCharacters.slice()),e.command&&(n.command=R(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(n.deprecated=e.deprecated,!0===e.deprecated&&t.push(Hn.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(n.preselect=e.preselect),void 0!==e.data&&(n.data=e.data),t.length>0&&(n.tags=t),void 0!==e.insertTextMode&&(n.insertTextMode=e.insertTextMode,e.insertTextMode===er.InsertTextMode.asIs&&(n.keepWhitespace=!0)),n}function g(e){return Vn.InsertReplaceEdit.is(e)?{inserting:c(e.insert),replacing:c(e.replace)}:c(e.range)}function v(e){if(e)return new Hn.TextEdit(c(e.range),e.newText)}function D(e){if(e)return e.map(v)}function C(e){return e.map(y)}function y(e){let t=new Hn.SignatureInformation(e.label);return void 0!==e.documentation&&(t.documentation=d(e.documentation)),void 0!==e.parameters&&(t.parameters=I(e.parameters)),void 0!==e.activeParameter&&(t.activeParameter=e.activeParameter),t}function I(e){return e.map(_)}function _(e){let t=new Hn.ParameterInformation(e.label);return e.documentation&&(t.documentation=d(e.documentation)),t}function E(e){if(e)return new Hn.Location(n(e.uri),c(e.range))}function A(e){if(!e)return;let t={targetUri:n(e.targetUri),targetRange:c(e.targetRange),originSelectionRange:c(e.originSelectionRange),targetSelectionRange:c(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}function x(e){if(e){if(Gn.array(e)){if(0===e.length)return[];if(Vn.LocationLink.is(e[0])){return e.map((e=>A(e)))}return e.map((e=>E(e)))}return Vn.LocationLink.is(e)?[A(e)]:E(e)}}function F(e){let t=new Hn.DocumentHighlight(c(e.range));return Gn.number(e.kind)&&(t.kind=S(e.kind)),t}function S(e){switch(e){case Vn.DocumentHighlightKind.Text:return Hn.DocumentHighlightKind.Text;case Vn.DocumentHighlightKind.Read:return Hn.DocumentHighlightKind.Read;case Vn.DocumentHighlightKind.Write:return Hn.DocumentHighlightKind.Write}return Hn.DocumentHighlightKind.Text}function b(e){return e<=Vn.SymbolKind.TypeParameter?e-1:Hn.SymbolKind.Property}function w(e){switch(e){case Vn.SymbolTag.Deprecated:return Hn.SymbolTag.Deprecated;default:return}}function k(e){if(null==e)return;const t=[];for(const n of e){const e=w(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function T(e,t){let r=new Hn.SymbolInformation(e.name,b(e.kind),c(e.location.range),e.location.uri?n(e.location.uri):t);return P(r,e),e.containerName&&(r.containerName=e.containerName),r}function B(e){let t=new Hn.DocumentSymbol(e.name,e.detail||"",b(e.kind),c(e.range),c(e.selectionRange));if(P(t,e),void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(B(t));t.children=n}return t}function P(e,t){e.tags=k(t.tags),t.deprecated&&(e.tags?e.tags.includes(Hn.SymbolTag.Deprecated)||(e.tags=e.tags.concat(Hn.SymbolTag.Deprecated)):e.tags=[Hn.SymbolTag.Deprecated])}function R(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const O=new Map;function L(e){if(null==e)return;let t=O.get(e);if(t)return t;let n=e.split(".");t=Hn.CodeActionKind.Empty;for(let r of n)t=t.append(r);return t}function M(e){if(!e)return;let t=new Jn.default(c(e.range));return e.command&&(t.command=R(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}function N(e){if(!e)return;const t=new Map;if(void 0!==e.changeAnnotations)for(const n of Object.keys(e.changeAnnotations)){const r=j(e.changeAnnotations[n]);t.set(n,r)}const r=e=>void 0===e?void 0:t.get(e),o=new Hn.WorkspaceEdit;if(e.documentChanges)for(const i of e.documentChanges)if(Vn.CreateFile.is(i))o.createFile(n(i.uri),i.options,r(i.annotationId));else if(Vn.RenameFile.is(i))o.renameFile(n(i.oldUri),n(i.newUri),i.options,r(i.annotationId));else if(Vn.DeleteFile.is(i))o.deleteFile(n(i.uri),i.options,r(i.annotationId));else{if(!Vn.TextDocumentEdit.is(i))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(i,void 0,4)}`);{const e=n(i.textDocument.uri);for(const t of i.edits)er.AnnotatedTextEdit.is(t)?o.replace(e,c(t.range),t.newText,r(t.annotationId)):o.replace(e,c(t.range),t.newText)}}else e.changes&&Object.keys(e.changes).forEach((t=>{o.set(n(t),D(e.changes[t]))}));return o}function j(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}function q(e){let t=c(e.range),n=e.target?r(e.target):void 0,o=new Qn.default(t,n);return void 0!==e.tooltip&&(o.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(o.data=e.data),o}function K(e){return new Hn.Color(e.red,e.green,e.blue,e.alpha)}function U(e){return new Hn.ColorInformation(c(e.range),K(e.color))}function W(e){let t=new Hn.ColorPresentation(e.label);return t.additionalTextEdits=D(e.additionalTextEdits),e.textEdit&&(t.textEdit=v(e.textEdit)),t}function $(e){if(e)switch(e){case Vn.FoldingRangeKind.Comment:return Hn.FoldingRangeKind.Comment;case Vn.FoldingRangeKind.Imports:return Hn.FoldingRangeKind.Imports;case Vn.FoldingRangeKind.Region:return Hn.FoldingRangeKind.Region}}function H(e){return new Hn.FoldingRange(e.startLine,e.endLine,$(e.kind))}function V(e){return new Hn.SelectionRange(c(e.range),e.parent?V(e.parent):void 0)}function G(e){if(null===e)return;let t=new Xn.default(b(e.kind),e.name,e.detail||"",r(e.uri),c(e.range),c(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=k(e.tags)),t}function z(e){return new Hn.CallHierarchyIncomingCall(G(e.from),l(e.fromRanges))}function J(e){return new Hn.CallHierarchyOutgoingCall(G(e.to),l(e.fromRanges))}function Q(e){return new Hn.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}return O.set(Vn.CodeActionKind.Empty,Hn.CodeActionKind.Empty),O.set(Vn.CodeActionKind.QuickFix,Hn.CodeActionKind.QuickFix),O.set(Vn.CodeActionKind.Refactor,Hn.CodeActionKind.Refactor),O.set(Vn.CodeActionKind.RefactorExtract,Hn.CodeActionKind.RefactorExtract),O.set(Vn.CodeActionKind.RefactorInline,Hn.CodeActionKind.RefactorInline),O.set(Vn.CodeActionKind.RefactorRewrite,Hn.CodeActionKind.RefactorRewrite),O.set(Vn.CodeActionKind.Source,Hn.CodeActionKind.Source),O.set(Vn.CodeActionKind.SourceOrganizeImports,Hn.CodeActionKind.SourceOrganizeImports),{asUri:r,asDiagnostics:o,asDiagnostic:i,asRange:c,asRanges:l,asPosition:u,asDiagnosticSeverity:p,asDiagnosticTag:s,asHover:function(e){if(e)return new Hn.Hover(function(e){if(Gn.string(e))return h(e);if(tr.is(e))return h().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=h();tr.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}{let t;switch(e.kind){case Vn.MarkupKind.Markdown:return h(e.value);case Vn.MarkupKind.PlainText:return t=h(),t.appendText(e.value),t;default:return t=h(),t.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`),t}}}(e.contents),c(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e)){return e.map(f)}let t=e;return new Hn.CompletionList(t.items.map(f),t.isIncomplete)},asCompletionItem:f,asTextEdit:v,asTextEdits:D,asSignatureHelp:function(e){if(!e)return;let t=new Hn.SignatureHelp;return Gn.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,Gn.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures&&(t.signatures=C(e.signatures)),t},asSignatureInformations:C,asSignatureInformation:y,asParameterInformations:I,asParameterInformation:_,asDeclarationResult:function(e){if(e)return x(e)},asDefinitionResult:function(e){if(e)return x(e)},asLocation:E,asReferences:function(e){if(e)return e.map((e=>E(e)))},asDocumentHighlights:function(e){if(e)return e.map(F)},asDocumentHighlight:F,asDocumentHighlightKind:S,asSymbolKind:b,asSymbolTag:w,asSymbolTags:k,asSymbolInformations:function(e,t){if(e)return e.map((e=>T(e,t)))},asSymbolInformation:T,asDocumentSymbols:function(e){if(null!=e)return e.map(B)},asDocumentSymbol:B,asCommand:R,asCommands:function(e){if(e)return e.map(R)},asCodeAction:function(e){if(null==e)return;let t=new Zn.default(e.title,e.data);return void 0!==e.kind&&(t.kind=L(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=o(e.diagnostics)),void 0!==e.edit&&(t.edit=N(e.edit)),void 0!==e.command&&(t.command=R(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionKind:L,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>L(e)))},asCodeLens:M,asCodeLenses:function(e){if(e)return e.map((e=>M(e)))},asWorkspaceEdit:N,asDocumentLink:q,asDocumentLinks:function(e){if(e)return e.map(q)},asFoldingRangeKind:$,asFoldingRange:H,asFoldingRanges:function(e){if(Array.isArray(e))return e.map(H)},asColor:K,asColorInformation:U,asColorInformations:function(e){if(Array.isArray(e))return e.map(U)},asColorPresentation:W,asColorPresentations:function(e){if(Array.isArray(e))return e.map(W)},asSelectionRange:V,asSelectionRanges:function(e){if(!Array.isArray(e))return[];let t=[];for(let n of e)t.push(V(n));return t},asSemanticTokensLegend:function(e){return e},asSemanticTokens:function(e){if(null!=e)return new Hn.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:Q,asSemanticTokensEdits:function(e){if(null!=e)return new Hn.SemanticTokensEdits(e.edits.map(Q),e.resultId)},asCallHierarchyItem:G,asCallHierarchyItems:function(e){if(null!==e)return e.map((e=>G(e)))},asCallHierarchyIncomingCall:z,asCallHierarchyIncomingCalls:function(e){if(null!==e)return e.map((e=>z(e)))},asCallHierarchyOutgoingCall:J,asCallHierarchyOutgoingCalls:function(e){if(null!==e)return e.map((e=>J(e)))},asLinkedEditingRanges:function(e){if(null!=e)return new Hn.LinkedEditingRanges(l(e.ranges),function(e){if(null==e)return;return new RegExp(e)}(e.wordPattern))}}};var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.Delayer=void 0;const rr=t;nr.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=rr.RAL().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(rr.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.generateUuid=or.parse=or.isUUID=or.v4=or.empty=void 0;class ir{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class ar extends ir{constructor(){super([ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),"-",ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),"-","4",ar._randomHex(),ar._randomHex(),ar._randomHex(),"-",ar._oneOf(ar._timeHighBits),ar._randomHex(),ar._randomHex(),ar._randomHex(),"-",ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex(),ar._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return ar._oneOf(ar._chars)}}function sr(){return new ar}ar._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],ar._timeHighBits=["8","9","a","b"],or.empty=new ir("00000000-0000-0000-0000-000000000000"),or.v4=sr;const ur=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function cr(e){return ur.test(e)}or.isUUID=cr,or.parse=function(e){if(!cr(e))throw new Error("invalid uuid");return new ir(e)},or.generateUuid=function(){return sr().asHex()};var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.ProgressPart=void 0;const pr=C,dr=t,hr=dn;lr.ProgressPart=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._disposable=this._client.onProgress(dr.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){pr.window.withProgress({location:pr.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>(this._progress=t,this._infinite=void 0===e.percentage,this._cancellationToken=n,this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(dr.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t})))))}report(e){if(this._infinite&&hr.string(e.message))this._progress.report({message:e.message});else if(hr.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._progress.report({message:e.message,increment:n}),this._reported+=n}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLanguageClient=e.MessageTransports=e.TextDocumentFeature=e.State=e.RevealOutputChannelOn=e.CloseAction=e.ErrorAction=void 0;const n=C,r=t,o=an,i=pn,a=$n,s=dn,u=nr,c=or,l=lr;class p{error(e){r.RAL().console.error(e)}warn(e){r.RAL().console.warn(e)}info(e){r.RAL().console.info(e)}log(e){r.RAL().console.log(e)}}var d,h,m,f,g,v,D,y,I,_;(h=d=e.ErrorAction||(e.ErrorAction={}))[h.Continue=1]="Continue",h[h.Shutdown=2]="Shutdown",(f=m=e.CloseAction||(e.CloseAction={}))[f.DoNotRestart=1]="DoNotRestart",f[f.Restart=2]="Restart";class E{constructor(e,t){this.name=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?d.Continue:d.Shutdown}closed(){if(this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount)return m.Restart;return this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(n.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),m.DoNotRestart):(this.restarts.shift(),m.Restart)}}(v=g=e.RevealOutputChannelOn||(e.RevealOutputChannelOn={}))[v.Info=1]="Info",v[v.Warn=2]="Warn",v[v.Error=3]="Error",v[v.Never=4]="Never",(y=D=e.State||(e.State={}))[y.Stopped=1]="Stopped",y[y.Starting=3]="Starting",y[y.Running=2]="Running",(_=I||(I={}))[_.Initial=0]="Initial",_[_.Starting=1]="Starting",_[_.StartFailed=2]="StartFailed",_[_.Running=3]="Running",_[_.Stopping=4]="Stopping",_[_.Stopped=5]="Stopped";const A=[r.SymbolKind.File,r.SymbolKind.Module,r.SymbolKind.Namespace,r.SymbolKind.Package,r.SymbolKind.Class,r.SymbolKind.Method,r.SymbolKind.Property,r.SymbolKind.Field,r.SymbolKind.Constructor,r.SymbolKind.Enum,r.SymbolKind.Interface,r.SymbolKind.Function,r.SymbolKind.Variable,r.SymbolKind.Constant,r.SymbolKind.String,r.SymbolKind.Number,r.SymbolKind.Boolean,r.SymbolKind.Array,r.SymbolKind.Object,r.SymbolKind.Key,r.SymbolKind.Null,r.SymbolKind.EnumMember,r.SymbolKind.Struct,r.SymbolKind.Event,r.SymbolKind.Operator,r.SymbolKind.TypeParameter],x=[r.CompletionItemKind.Text,r.CompletionItemKind.Method,r.CompletionItemKind.Function,r.CompletionItemKind.Constructor,r.CompletionItemKind.Field,r.CompletionItemKind.Variable,r.CompletionItemKind.Class,r.CompletionItemKind.Interface,r.CompletionItemKind.Module,r.CompletionItemKind.Property,r.CompletionItemKind.Unit,r.CompletionItemKind.Value,r.CompletionItemKind.Enum,r.CompletionItemKind.Keyword,r.CompletionItemKind.Snippet,r.CompletionItemKind.Color,r.CompletionItemKind.File,r.CompletionItemKind.Reference,r.CompletionItemKind.Folder,r.CompletionItemKind.EnumMember,r.CompletionItemKind.Constant,r.CompletionItemKind.Struct,r.CompletionItemKind.Event,r.CompletionItemKind.Operator,r.CompletionItemKind.TypeParameter],F=[r.SymbolTag.Deprecated];function S(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var b,w;(b||(b={})).fromConfiguration=function(e){const t=n.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}},(w||(w={})).is=function(e){let t=e;return t&&s.func(t.register)&&s.func(t.unregister)&&s.func(t.dispose)&&void 0!==t.registrationType};class k{constructor(e,t,n,r,o,i){this._client=e,this._event=t,this._type=n,this._middleware=r,this._createParams=o,this._selectorFilter=i,this._selectors=new Map}static textDocumentFilter(e,t){for(const r of e)if(n.languages.match(r,t))return!0;return!1}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,(e=>this._client.sendNotification(this._type,this._createParams(e)))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(n.languages.match(t,e))return{send:e=>{this.callback(e)}}}}class T extends k{constructor(e,t){super(e,n.workspace.onDidOpenTextDocument,r.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),k.textDocumentFilter),this._syncedDocuments=t}fillClientCapabilities(e){S(S(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:c.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return r.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=e.registerOptions.documentSelector;n.workspace.textDocuments.forEach((e=>{let r=e.uri.toString();if(!this._syncedDocuments.has(r)&&n.languages.match(t,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};t.didOpen?t.didOpen(e,n):n(e),this._syncedDocuments.set(r,e)}}))}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class B extends k{constructor(e,t){super(e,n.workspace.onDidCloseTextDocument,r.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),k.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return r.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){S(S(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:c.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach((e=>{if(n.languages.match(t,e)&&!this._selectorFilter(r,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,n):n(e)}}))}}class P{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return r.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){S(S(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==r.TextDocumentSyncKind.None&&this.register({id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=n.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(n.languages.match(t.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(t.syncKind===r.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,(()=>this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t))):this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===r.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(r.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new u.Delayer(200)},this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(r.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}),-1))};n.didChange?n.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(n.languages.match(t.documentSelector,e))return{send:e=>{this.callback(e)}}}}class R extends k{constructor(e){super(e,n.workspace.onWillSaveTextDocument,r.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),((e,t)=>k.textDocumentFilter(e,t.document)))}get registrationType(){return r.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){S(S(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:c.generateUuid(),registerOptions:{documentSelector:t}})}}class O{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return r.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){S(S(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:c.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=n.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(k.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,n=e=>this._client.sendRequest(r.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class L extends k{constructor(e){super(e,n.workspace.onDidSaveTextDocument,r.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),k.textDocumentFilter),this._includeText=!1}get registrationType(){return r.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){S(S(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:c.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}class M{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get registrationType(){return r.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){S(S(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let o of e.registerOptions.watchers){if(!s.string(o.globPattern))continue;let e=!0,i=!0,a=!0;void 0!==o.kind&&null!==o.kind&&(e=0!=(o.kind&r.WatchKind.Create),i=0!=(o.kind&r.WatchKind.Change),a=0!=(o.kind&r.WatchKind.Delete));let u=n.workspace.createFileSystemWatcher(o.globPattern,!e,!i,!a);this.hookListeners(u,e,i,a),t.push(u)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let r of t)this.hookListeners(r,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,o,i){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Created})),null,i),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Changed})),null,i),o&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Deleted})),null,i)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}class N{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(r.TextDocumentRegistrationOptions.is(t)){const n=r.StaticRegistrationOptions.hasId(t)?t.id:c.generateUuid(),o=t.documentSelector||e;if(o)return[n,Object.assign({},t,{documentSelector:o})]}else if(s.boolean(t)&&!0===t||r.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=s.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[c.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return s.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let r=t.data.registerOptions.documentSelector;if(null!==r&&n.languages.match(r,e))return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}e.TextDocumentFeature=N;class j extends N{constructor(e){super(e,r.CompletionRequest.type)}fillClientCapabilities(e){let t=S(S(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[r.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[r.InsertTextMode.asIs,r.InsertTextMode.adjustIndentation]}},t.completionItemKind={valueSet:x}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.triggerCharacters||[],o={provideCompletionItems:(e,t,n,o)=>{const i=this._client,a=this._client.clientOptions.middleware,s=(e,t,n,o)=>i.sendRequest(r.CompletionRequest.type,i.code2ProtocolConverter.asCompletionParams(e,t,n),o).then(i.protocol2CodeConverter.asCompletionResult,(e=>i.handleFailedRequest(r.CompletionRequest.type,e,null)));return a.provideCompletionItem?a.provideCompletionItem(e,t,o,n,s):s(e,t,o,n)},resolveCompletionItem:e.resolveProvider?(e,t)=>{const n=this._client,o=this._client.clientOptions.middleware,i=(e,t)=>n.sendRequest(r.CompletionResolveRequest.type,n.code2ProtocolConverter.asCompletionItem(e),t).then(n.protocol2CodeConverter.asCompletionItem,(t=>n.handleFailedRequest(r.CompletionResolveRequest.type,t,e)));return o.resolveCompletionItem?o.resolveCompletionItem(e,t,i):i(e,t)}:void 0};return[n.languages.registerCompletionItemProvider(e.documentSelector,o,...t),o]}}class q extends N{constructor(e){super(e,r.HoverRequest.type)}fillClientCapabilities(e){const t=S(S(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[r.MarkupKind.Markdown,r.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideHover:(e,t,n)=>{const o=this._client,i=(e,t,n)=>o.sendRequest(r.HoverRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then(o.protocol2CodeConverter.asHover,(e=>o.handleFailedRequest(r.HoverRequest.type,e,null))),a=o.clientOptions.middleware;return a.provideHover?a.provideHover(e,t,n,i):i(e,t,n)}};return[n.languages.registerHoverProvider(e.documentSelector,t),t]}}class K extends N{constructor(e){super(e,r.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=S(S(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,o)=>{const i=this._client,a=(e,t,n,o)=>i.sendRequest(r.SignatureHelpRequest.type,i.code2ProtocolConverter.asSignatureHelpParams(e,t,n),o).then(i.protocol2CodeConverter.asSignatureHelp,(e=>i.handleFailedRequest(r.SignatureHelpRequest.type,e,null))),s=i.clientOptions.middleware;return s.provideSignatureHelp?s.provideSignatureHelp(e,t,o,n,a):a(e,t,o,n)}};let o;if(void 0===e.retriggerCharacters){const r=e.triggerCharacters||[];o=n.languages.registerSignatureHelpProvider(e.documentSelector,t,...r)}else{const r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};o=n.languages.registerSignatureHelpProvider(e.documentSelector,t,r)}return[o,t]}}class U extends N{constructor(e){super(e,r.DefinitionRequest.type)}fillClientCapabilities(e){let t=S(S(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideDefinition:(e,t,n)=>{const o=this._client,i=(e,t,n)=>o.sendRequest(r.DefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then(o.protocol2CodeConverter.asDefinitionResult,(e=>o.handleFailedRequest(r.DefinitionRequest.type,e,null))),a=o.clientOptions.middleware;return a.provideDefinition?a.provideDefinition(e,t,n,i):i(e,t,n)}};return[n.languages.registerDefinitionProvider(e.documentSelector,t),t]}}class W extends N{constructor(e){super(e,r.ReferencesRequest.type)}fillClientCapabilities(e){S(S(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideReferences:(e,t,n,o)=>{const i=this._client,a=(e,t,n,o)=>i.sendRequest(r.ReferencesRequest.type,i.code2ProtocolConverter.asReferenceParams(e,t,n),o).then(i.protocol2CodeConverter.asReferences,(e=>i.handleFailedRequest(r.ReferencesRequest.type,e,null))),s=i.clientOptions.middleware;return s.provideReferences?s.provideReferences(e,t,n,o,a):a(e,t,n,o)}};return[n.languages.registerReferenceProvider(e.documentSelector,t),t]}}class $ extends N{constructor(e){super(e,r.DocumentHighlightRequest.type)}fillClientCapabilities(e){S(S(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideDocumentHighlights:(e,t,n)=>{const o=this._client,i=(e,t,n)=>o.sendRequest(r.DocumentHighlightRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then(o.protocol2CodeConverter.asDocumentHighlights,(e=>o.handleFailedRequest(r.DocumentHighlightRequest.type,e,null))),a=o.clientOptions.middleware;return a.provideDocumentHighlights?a.provideDocumentHighlights(e,t,n,i):i(e,t,n)}};return[n.languages.registerDocumentHighlightProvider(e.documentSelector,t),t]}}class H extends N{constructor(e){super(e,r.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=S(S(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:A},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:F},t.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideDocumentSymbols:(e,t)=>{const n=this._client,o=(e,t)=>n.sendRequest(r.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t).then((e=>{if(null!==e){if(0===e.length)return[];{let t=e[0];return r.DocumentSymbol.is(t)?n.protocol2CodeConverter.asDocumentSymbols(e):n.protocol2CodeConverter.asSymbolInformations(e)}}}),(e=>n.handleFailedRequest(r.DocumentSymbolRequest.type,e,null))),i=n.clientOptions.middleware;return i.provideDocumentSymbols?i.provideDocumentSymbols(e,t,o):o(e,t)}},o=void 0!==e.label?{label:e.label}:void 0;return[n.languages.registerDocumentSymbolProvider(e.documentSelector,t,o),t]}}class V extends class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}{constructor(e){super(e,r.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=S(S(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:A},t.tagSupport={valueSet:F}}initialize(e){e.workspaceSymbolProvider&&this.register({id:c.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,o=(e,t)=>n.sendRequest(r.WorkspaceSymbolRequest.type,{query:e},t).then(n.protocol2CodeConverter.asSymbolInformations,(e=>n.handleFailedRequest(r.WorkspaceSymbolRequest.type,e,null))),i=n.clientOptions.middleware;return i.provideWorkspaceSymbols?i.provideWorkspaceSymbols(e,t,o):o(e,t)}};return[n.languages.registerWorkspaceSymbolProvider(t),t]}}class G extends N{constructor(e){super(e,r.CodeActionRequest.type)}fillClientCapabilities(e){const t=S(S(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[r.CodeActionKind.Empty,r.CodeActionKind.QuickFix,r.CodeActionKind.Refactor,r.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorRewrite,r.CodeActionKind.Source,r.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideCodeActions:(e,t,n,o)=>{const i=this._client,a=(e,t,n,o)=>{const a={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),context:i.code2ProtocolConverter.asCodeActionContext(n)};return i.sendRequest(r.CodeActionRequest.type,a,o).then((e=>{if(null===e)return;const t=[];for(let n of e)r.Command.is(n)?t.push(i.protocol2CodeConverter.asCommand(n)):t.push(i.protocol2CodeConverter.asCodeAction(n));return t}),(e=>i.handleFailedRequest(r.CodeActionRequest.type,e,null)))},s=i.clientOptions.middleware;return s.provideCodeActions?s.provideCodeActions(e,t,n,o,a):a(e,t,n,o)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,o=this._client.clientOptions.middleware,i=(e,t)=>n.sendRequest(r.CodeActionResolveRequest.type,n.code2ProtocolConverter.asCodeAction(e),t).then(n.protocol2CodeConverter.asCodeAction,(t=>n.handleFailedRequest(r.CodeActionResolveRequest.type,t,e)));return o.resolveCodeAction?o.resolveCodeAction(e,t,i):i(e,t)}:void 0};return[n.languages.registerCodeActionsProvider(e.documentSelector,t,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),t]}}class z extends N{constructor(e){super(e,r.CodeLensRequest.type)}fillClientCapabilities(e){S(S(e,"textDocument"),"codeLens").dynamicRegistration=!0,S(S(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=new n.EventEmitter,o={onDidChangeCodeLenses:t.event,provideCodeLenses:(e,t)=>{const n=this._client,o=(e,t)=>n.sendRequest(r.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then(n.protocol2CodeConverter.asCodeLenses,(e=>n.handleFailedRequest(r.CodeLensRequest.type,e,null))),i=n.clientOptions.middleware;return i.provideCodeLenses?i.provideCodeLenses(e,t,o):o(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,o=(e,t)=>n.sendRequest(r.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then(n.protocol2CodeConverter.asCodeLens,(t=>n.handleFailedRequest(r.CodeLensResolveRequest.type,t,e))),i=n.clientOptions.middleware;return i.resolveCodeLens?i.resolveCodeLens(e,t,o):o(e,t)}:void 0};return[n.languages.registerCodeLensProvider(e.documentSelector,o),{provider:o,onDidChangeCodeLensEmitter:t}]}}class J extends N{constructor(e){super(e,r.DocumentFormattingRequest.type)}fillClientCapabilities(e){S(S(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideDocumentFormattingEdits:(e,t,n)=>{const o=this._client,i=(e,t,n)=>{const i={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),options:o.code2ProtocolConverter.asFormattingOptions(t,b.fromConfiguration(e))};return o.sendRequest(r.DocumentFormattingRequest.type,i,n).then(o.protocol2CodeConverter.asTextEdits,(e=>o.handleFailedRequest(r.DocumentFormattingRequest.type,e,null)))},a=o.clientOptions.middleware;return a.provideDocumentFormattingEdits?a.provideDocumentFormattingEdits(e,t,n,i):i(e,t,n)}};return[n.languages.registerDocumentFormattingEditProvider(e.documentSelector,t),t]}}class Q extends N{constructor(e){super(e,r.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){S(S(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideDocumentRangeFormattingEdits:(e,t,n,o)=>{const i=this._client,a=(e,t,n,o)=>{const a={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),options:i.code2ProtocolConverter.asFormattingOptions(n,b.fromConfiguration(e))};return i.sendRequest(r.DocumentRangeFormattingRequest.type,a,o).then(i.protocol2CodeConverter.asTextEdits,(e=>i.handleFailedRequest(r.DocumentRangeFormattingRequest.type,e,null)))},s=i.clientOptions.middleware;return s.provideDocumentRangeFormattingEdits?s.provideDocumentRangeFormattingEdits(e,t,n,o,a):a(e,t,n,o)}};return[n.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,t),t]}}class Z extends N{constructor(e){super(e,r.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){S(S(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideOnTypeFormattingEdits:(e,t,n,o,i)=>{const a=this._client,s=(e,t,n,o,i)=>{let s={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(e),position:a.code2ProtocolConverter.asPosition(t),ch:n,options:a.code2ProtocolConverter.asFormattingOptions(o,b.fromConfiguration(e))};return a.sendRequest(r.DocumentOnTypeFormattingRequest.type,s,i).then(a.protocol2CodeConverter.asTextEdits,(e=>a.handleFailedRequest(r.DocumentOnTypeFormattingRequest.type,e,null)))},u=a.clientOptions.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,n,o,i,s):s(e,t,n,o,i)}},o=e.moreTriggerCharacter||[];return[n.languages.registerOnTypeFormattingEditProvider(e.documentSelector,t,e.firstTriggerCharacter,...o),t]}}class Y extends N{constructor(e){super(e,r.RenameRequest.type)}fillClientCapabilities(e){let t=S(S(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=r.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(s.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:c.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t={provideRenameEdits:(e,t,n,o)=>{const i=this._client,a=(e,t,n,o)=>{let a={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),position:i.code2ProtocolConverter.asPosition(t),newName:n};return i.sendRequest(r.RenameRequest.type,a,o).then(i.protocol2CodeConverter.asWorkspaceEdit,(e=>i.handleFailedRequest(r.RenameRequest.type,e,null)))},s=i.clientOptions.middleware;return s.provideRenameEdits?s.provideRenameEdits(e,t,n,o,a):a(e,t,n,o)},prepareRename:e.prepareProvider?(e,t,n)=>{const o=this._client,i=(e,t,n)=>{let i={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t)};return o.sendRequest(r.PrepareRenameRequest.type,i,n).then((e=>r.Range.is(e)?o.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&r.Range.is(e.range)?{range:o.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>o.handleFailedRequest(r.PrepareRenameRequest.type,e,void 0)))},a=o.clientOptions.middleware;return a.prepareRename?a.prepareRename(e,t,n,i):i(e,t,n)}:void 0};return[n.languages.registerRenameProvider(e.documentSelector,t),t]}isDefaultBehavior(e){const t=e;return t&&s.boolean(t.defaultBehavior)}}class X extends N{constructor(e){super(e,r.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=S(S(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:c.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideDocumentLinks:(e,t)=>{const n=this._client,o=(e,t)=>n.sendRequest(r.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then(n.protocol2CodeConverter.asDocumentLinks,(e=>n.handleFailedRequest(r.DocumentLinkRequest.type,e,null))),i=n.clientOptions.middleware;return i.provideDocumentLinks?i.provideDocumentLinks(e,t,o):o(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client;let o=(e,t)=>n.sendRequest(r.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then(n.protocol2CodeConverter.asDocumentLink,(t=>n.handleFailedRequest(r.DocumentLinkResolveRequest.type,t,e)));const i=n.clientOptions.middleware;return i.resolveDocumentLink?i.resolveDocumentLink(e,t,o):o(e,t)}:void 0};return[n.languages.registerDocumentLinkProvider(e.documentSelector,t),t]}}class ee{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return r.DidChangeConfigurationNotification.type}fillClientCapabilities(e){S(S(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register({id:c.generateUuid(),registerOptions:{section:e}})}register(e){let t=n.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=s.string(e)?[e]:e,void 0!==n&&void 0!==t){if(!n.some((e=>t.affectsConfiguration(e))))return}let o=e=>{void 0!==e?this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}):this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:null})},i=this.getMiddleware();i?i(n,o):o(n)}extractSettingsInformation(e){function t(e,t){let n=e;for(let r=0;r<t.length-1;r++){let e=n[t[r]];e||(e=Object.create(null),n[t[r]]=e),n=e}return n}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let a=0;a<e.length;a++){let s=e[a],u=s.indexOf("."),c=null;if(c=u>=0?n.workspace.getConfiguration(s.substr(0,u),r).get(s.substr(u+1)):n.workspace.getConfiguration(void 0,r).get(s),c){let n=e[a].split(".");t(i,n)[n[n.length-1]]=o.toJSONObject(c)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class te{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return r.ExecuteCommandRequest.type}fillClientCapabilities(e){S(S(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:c.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,o=t.clientOptions.middleware,i=(e,n)=>{let o={command:e,arguments:n};return t.sendRequest(r.ExecuteCommandRequest.type,o).then(void 0,(e=>t.handleFailedRequest(r.ExecuteCommandRequest.type,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const r of e.registerOptions.commands)t.push(n.commands.registerCommand(r,((...e)=>o.executeCommand?o.executeCommand(r,e,i):i(r,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}(e.MessageTransports||(e.MessageTransports={})).is=function(e){return e&&r.MessageReader.is(e.reader)&&r.MessageWriter.is(e.writer)};class ne{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}class re{constructor(e,t,n){var o;this._traceFormat=r.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=t;const c={isTrusted:!1};void 0!==(n=n||{}).markdown&&!0===n.markdown.isTrusted&&(c.isTrusted=!0),this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||g.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler||this.createDefaultErrorHandler(null===(o=n.connectionOptions)||void 0===o?void 0:o.maxRestartCount),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:c},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=I.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new u.Delayer(250),this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new ne(e,t)})),this._onStop=void 0,this._telemetryEmitter=new r.Emitter,this._stateChangeEmitter=new r.Emitter,this._trace=r.Trace.Off,this._tracer={log:(e,t)=>{s.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=i.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=a.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){return this.state===I.Running?D.Running:this.state===I.Starting?D.Starting:D.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${s.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,t)}catch(n){throw this.error(`Registering request handler ${s.string(e)?e:e.method} failed.`,n),n}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${s.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,t)}catch(n){throw this.error(`Registering notification handler ${s.string(e)?e:e.method} failed.`,n),n}}onProgress(e,t,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(r.WorkDoneProgress.is(e)){const r=this._clientOptions.middleware.handleWorkDoneProgress;if(void 0!==r)return this._resolvedConnection.onProgress(e,t,(e=>{r(t,e,(()=>n(e)))}))}return this._resolvedConnection.onProgress(e,t,n)}catch(o){throw this.error(`Registering progress handler for token ${t} failed.`,o),o}}sendProgress(e,t,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,t,n)}catch(r){throw this.error(`Sending progress for token ${t} failed.`,r),r}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=n.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new E(this._name,null!=e?e:4)}set trace(e){this._trace=e,this.onReady().then((()=>{this.resolveConnection().then((e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}))}),(()=>{}))}data2String(e){if(e instanceof r.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?s.string(e.stack)?e.stack:e.message:s.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=g.Info&&this.showNotificationMessage()}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=g.Warn&&this.showNotificationMessage()}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=g.Error&&this.showNotificationMessage()}showNotificationMessage(){n.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then((()=>{this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===I.Initial||this.state===I.Stopping||this.state===I.Stopped}needsStop(){return this.state===I.Starting||this.state===I.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===I.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new ne(e,t)}))),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?n.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):n.languages.createDiagnosticCollection()),this.state=I.Starting,this.resolveConnection().then((e=>(e.onLogMessage((e=>{switch(e.type){case r.MessageType.Error:this.error(e.message,void 0,!1);break;case r.MessageType.Warning:this.warn(e.message,void 0,!1);break;case r.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onShowMessage((e=>{switch(e.type){case r.MessageType.Error:n.window.showErrorMessage(e.message);break;case r.MessageType.Warning:n.window.showWarningMessage(e.message);break;case r.MessageType.Info:n.window.showInformationMessage(e.message);break;default:n.window.showInformationMessage(e.message)}})),e.onRequest(r.ShowMessageRequest.type,(e=>{let t;switch(e.type){case r.MessageType.Error:t=n.window.showErrorMessage;break;case r.MessageType.Warning:t=n.window.showWarningMessage;break;case r.MessageType.Info:t=n.window.showInformationMessage;break;default:t=n.window.showInformationMessage}let o=e.actions||[];return t(e.message,...o)})),e.onTelemetry((e=>{this._telemetryEmitter.fire(e)})),e.onRequest(r.ShowDocumentRequest.type,(async e=>{var t;const r=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external){return{success:await n.env.openExternal(t)}}{const r={};return void 0!==e.selection&&(r.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?r.preserveFocus=!0:!0===e.takeFocus&&(r.preserveFocus=!1),await n.window.showTextDocument(t,r),{success:!0}}}catch(r){return{success:!0}}},o=null===(t=this._clientOptions.middleware.window)||void 0===t?void 0:t.showDocument;return void 0!==o?o(e,r):r(e)})),e.listen(),this.initialize(e)))).then(void 0,(e=>{this.state=I.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),n.window.showErrorMessage(`Couldn't start client ${this._name}`)})),new n.Disposable((()=>{this.needsStop()&&this.stop()}))}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,o=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:n.env.appName,version:n.version},locale:this.getLocale(),rootPath:o||null,rootUri:o?this._c2p.asUri(n.Uri.file(o)):null,capabilities:this.computeClientCapabilities(),initializationOptions:s.func(t)?t():t,trace:r.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){const t=c.generateUuid(),n=new l.ProgressPart(e,t);return i.workDoneToken=t,this.doInitialize(e,i).then((e=>(n.done(),e)),(e=>{throw n.cancel(),e}))}return this.doInitialize(e,i)}doInitialize(e,t){return e.initialize(t).then((t=>{let n;return this._resolvedConnection=e,this._initializeResult=t,this.state=I.Running,s.number(t.capabilities.textDocumentSync)?n=t.capabilities.textDocumentSync===r.TextDocumentSyncKind.None?{openClose:!1,change:r.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==t.capabilities.textDocumentSync&&null!==t.capabilities.textDocumentSync&&(n=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:n}),e.onDiagnostics((e=>this.handleDiagnostics(e))),e.onRequest(r.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(r.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(r.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e))),e.sendNotification(r.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t})).then(void 0,(t=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof r.ResponseError&&t.data&&t.data.retry?n.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((n=>{n&&"retry"===n.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))})):(t&&t.message&&n.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t)),t}))}_clientGetRootPath(){let e=n.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===I.Stopping&&this._onStop?this._onStop:(this.state=I.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then((e=>e.shutdown().then((()=>{e.exit(),e.end(),e.dispose(),this.state=I.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))))):(this.state=I.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach((e=>e.dispose())),this._listeners=void 0),this._providers&&(this._providers.forEach((e=>e.dispose())),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(const n of this._features.values())n.dispose();e&&this.cleanUpChannel(),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var t;const n=this;function r(e){n._fileEvents.push(e),n._fileEventDelayer.trigger((()=>{n.onReady().then((()=>{n.resolveConnection().then((e=>{n.isConnectionActive()&&(n.forceDocumentSync(),e.didChangeWatchedFiles({changes:n._fileEvents})),n._fileEvents=[]}))}),(e=>{n.error("Notify file events failed.",e)}))}))}const o=null===(t=this.clientOptions.middleware)||void 0===t?void 0:t.workspace;(null==o?void 0:o.didChangeWatchedFile)?o.didChangeWatchedFile(e,r):r(e)}forceDocumentSync(){void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(r.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),r=this.clientOptions.middleware;r.handleDiagnostics?r.handleDiagnostics(t,n,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(t,n)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,n)=>{this.handleConnectionError(e,t,n)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then((n=>function(e,t,n,o,i){let a=new p,u=r.createProtocolConnection(e,t,a,i);return u.onError((e=>{n(e[0],e[1],e[2])})),u.onClose(o),{listen:()=>u.listen(),sendRequest:(e,...t)=>u.sendRequest(s.string(e)?e:e.method,...t),onRequest:(e,t)=>u.onRequest(s.string(e)?e:e.method,t),sendNotification:(e,t)=>u.sendNotification(s.string(e)?e:e.method,t),onNotification:(e,t)=>u.onNotification(s.string(e)?e:e.method,t),onProgress:u.onProgress,sendProgress:u.sendProgress,trace:(e,t,n)=>{const o={sendNotification:!1,traceFormat:r.TraceFormat.Text};void 0===n?u.trace(e,t,o):(s.boolean(n),u.trace(e,t,n))},initialize:e=>u.sendRequest(r.InitializeRequest.type,e),shutdown:()=>u.sendRequest(r.ShutdownRequest.type,void 0),exit:()=>u.sendNotification(r.ExitNotification.type),onLogMessage:e=>u.onNotification(r.LogMessageNotification.type,e),onShowMessage:e=>u.onNotification(r.ShowMessageNotification.type,e),onTelemetry:e=>u.onNotification(r.TelemetryEventNotification.type,e),didChangeConfiguration:e=>u.sendNotification(r.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>u.sendNotification(r.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>u.sendNotification(r.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>u.sendNotification(r.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>u.sendNotification(r.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>u.sendNotification(r.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>u.onNotification(r.PublishDiagnosticsNotification.type,e),end:()=>u.end(),dispose:()=>u.dispose()}}(n.reader,n.writer,e,t,this._clientOptions.connectionOptions)))}handleConnectionClosed(){if(this.state===I.Stopping||this.state===I.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(t){}let e=m.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(t){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===m.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===I.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=I.StartFailed):this.state=I.Stopped,this.cleanUp(!1,!0)):e===m.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=I.Initial,this.start())}handleConnectionError(e,t,n){this._clientOptions.errorHandler.error(e,t,n)===d.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){n.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let o=n.workspace.getConfiguration(this._id),i=r.Trace.Off,a=r.TraceFormat.Text;if(o){const e=o.get("trace.server","off");"string"==typeof e?i=r.Trace.fromString(e):(i=r.Trace.fromString(o.get("trace.server.verbosity","off")),a=r.TraceFormat.fromString(o.get("trace.server.format","text")))}this._trace=i,this._traceFormat=a,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=s.array(n)?n:[n],t&&this._dynamicFeatures.get(r.DidChangeWatchedFilesNotification.type.method).registerRaw(c.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),w.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new ee(this)),this.registerFeature(new T(this,this._syncedDocuments)),this.registerFeature(new P(this)),this.registerFeature(new R(this)),this.registerFeature(new O(this)),this.registerFeature(new L(this)),this.registerFeature(new B(this,this._syncedDocuments)),this.registerFeature(new M(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new j(this)),this.registerFeature(new q(this)),this.registerFeature(new K(this)),this.registerFeature(new U(this)),this.registerFeature(new W(this)),this.registerFeature(new $(this)),this.registerFeature(new H(this)),this.registerFeature(new V(this)),this.registerFeature(new G(this)),this.registerFeature(new z(this)),this.registerFeature(new J(this)),this.registerFeature(new Q(this)),this.registerFeature(new Z(this)),this.registerFeature(new Y(this)),this.registerFeature(new X(this)),this.registerFeature(new te(this))}fillInitializeParams(e){for(let t of this._features)s.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};S(e,"workspace").applyEdit=!0;const t=S(S(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[r.ResourceOperationKind.Create,r.ResourceOperationKind.Rename,r.ResourceOperationKind.Delete],t.failureHandling=r.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const n=S(S(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[r.DiagnosticTag.Unnecessary,r.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const o=S(e,"window");S(o,"showMessage").messageActionItem={additionalPropertiesSupport:!0};S(o,"showDocument").support=!0;const i=S(e,"general");i.regularExpressions={engine:"ECMAScript",version:"ES2020"},i.markdown={parser:"marked",version:"1.1.0"};for(let r of this._features)r.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)n.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise(((t,n)=>{for(const o of e.registrations){const e=this._dynamicFeatures.get(o.method);if(void 0===e)return void n(new Error(`No feature implementation for ${o.method} found. Registration failed.`));const t=o.registerOptions||{};t.documentSelector=t.documentSelector||this._clientOptions.documentSelector;const i={id:o.id,registerOptions:t};try{e.register(i)}catch(r){return void n(r)}}t()}))}handleUnregistrationRequest(e){return new Promise(((t,n)=>{for(let r of e.unregisterations){const e=this._dynamicFeatures.get(r.method);if(!e)return void n(new Error(`No feature implementation for ${r.method} found. Unregistration failed.`));e.unregister(r.id)}t()}))}handleApplyWorkspaceEdit(e){let t=e.edit,o=new Map;n.workspace.textDocuments.forEach((e=>o.set(e.uri.toString(),e)));let i=!1;if(t.documentChanges)for(const n of t.documentChanges)if(r.TextDocumentEdit.is(n)&&n.textDocument.version&&n.textDocument.version>=0){let e=o.get(n.textDocument.uri);if(e&&e.version!==n.textDocument.version){i=!0;break}}return i?Promise.resolve({applied:!1}):s.asPromise(n.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then((e=>({applied:e}))))}handleFailedRequest(e,t,n){if(t instanceof r.ResponseError){if(t.code===r.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(t.code===r.LSPErrorCodes.ContentModified)return n}throw this.error(`Request ${e.method} failed.`,t),t}makeCancelError(){const e=new Error(re.Canceled);return e.name=re.Canceled,e}}e.BaseLanguageClient=re,re.Canceled="Canceled"}(on);var mr={};Object.defineProperty(mr,"__esModule",{value:!0});var fr=mr.TypeDefinitionFeature=void 0;const gr=C,vr=t,Dr=on;function Cr(e,t){return void 0===e[t]&&(e[t]={}),e[t]}fr=mr.TypeDefinitionFeature=class extends Dr.TextDocumentFeature{constructor(e){super(e,vr.TypeDefinitionRequest.type)}fillClientCapabilities(e){Cr(Cr(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=Cr(Cr(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.typeDefinitionProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t={provideTypeDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(vr.TypeDefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then(r.protocol2CodeConverter.asDefinitionResult,(e=>r.handleFailedRequest(vr.TypeDefinitionRequest.type,e,null))),i=r.clientOptions.middleware;return i.provideTypeDefinition?i.provideTypeDefinition(e,t,n,o):o(e,t,n)}};return[gr.languages.registerTypeDefinitionProvider(e.documentSelector,t),t]}};var yr={};Object.defineProperty(yr,"__esModule",{value:!0});var Ir=yr.ImplementationFeature=void 0;const _r=C,Er=t,Ar=on;function xr(e,t){return void 0===e[t]&&(e[t]={}),e[t]}Ir=yr.ImplementationFeature=class extends Ar.TextDocumentFeature{constructor(e){super(e,Er.ImplementationRequest.type)}fillClientCapabilities(e){let t=xr(xr(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.implementationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t={provideImplementation:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(Er.ImplementationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then(r.protocol2CodeConverter.asDefinitionResult,(e=>r.handleFailedRequest(Er.ImplementationRequest.type,e,null))),i=r.clientOptions.middleware;return i.provideImplementation?i.provideImplementation(e,t,n,o):o(e,t,n)}};return[_r.languages.registerImplementationProvider(e.documentSelector,t),t]}};var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});var Sr=Fr.ColorProviderFeature=void 0;const br=C,wr=t,kr=on;function Tr(e,t){return void 0===e[t]&&(e[t]={}),e[t]}Sr=Fr.ColorProviderFeature=class extends kr.TextDocumentFeature{constructor(e){super(e,wr.DocumentColorRequest.type)}fillClientCapabilities(e){Tr(Tr(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.colorProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t={provideColorPresentations:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={color:e,textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:r.code2ProtocolConverter.asRange(t.range)};return r.sendRequest(wr.ColorPresentationRequest.type,o,n).then(this.asColorPresentations.bind(this),(e=>r.handleFailedRequest(wr.ColorPresentationRequest.type,e,null)))},i=r.clientOptions.middleware;return i.provideColorPresentations?i.provideColorPresentations(e,t,n,o):o(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,r=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(wr.DocumentColorRequest.type,r,t).then(this.asColorInformations.bind(this),(e=>n.handleFailedRequest(wr.ColorPresentationRequest.type,e,null)))},o=n.clientOptions.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,t,r):r(e,t)}};return[br.languages.registerColorProvider(e.documentSelector,t),t]}asColor(e){return new br.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map((e=>new br.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color)))):[]}asColorPresentations(e){return Array.isArray(e)?e.map((e=>{let t=new br.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t})):[]}};var Br={};Object.defineProperty(Br,"__esModule",{value:!0});var Pr=Br.WorkspaceFoldersFeature=Br.arrayDiff=void 0;const Rr=or,Or=C,Lr=t;function Mr(e,t){if(void 0!==e)return e[t]}function Nr(e,t){return e.filter((e=>t.indexOf(e)<0))}Br.arrayDiff=Nr;Pr=Br.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return Lr.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=Or.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(Lr.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=Or.workspace.workspaceFolders;if(void 0===e)return null;return e.map((e=>this.asProtocol(e)))},r=t.clientOptions.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()}));const n=Mr(Mr(Mr(e,"workspace"),"workspaceFolders"),"changeNotifications");let r;"string"==typeof n?r=n:!0===n&&(r=Rr.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){const t=Nr(this._initialFolders,e),n=Nr(e,this._initialFolders);(n.length>0||t.length>0)&&this.doSendEvent(n,t)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,t){let n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};this._client.sendNotification(Lr.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,r=Or.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>{this.doSendEvent(e.added,e.removed)},r=n.clientOptions.middleware.workspace;r&&r.didChangeWorkspaceFolders?r.didChangeWorkspaceFolders(e,t):t(e)}));this._listeners.set(t,r),this.sendInitialEvent(Or.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};var jr={};Object.defineProperty(jr,"__esModule",{value:!0});var qr=jr.FoldingRangeFeature=void 0;const Kr=C,Ur=t,Wr=on;function $r(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class Hr extends Wr.TextDocumentFeature{constructor(e){super(e,Ur.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=$r($r(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.foldingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t={provideFoldingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(Ur.FoldingRangeRequest.type,o,n).then(Hr.asFoldingRanges,(e=>r.handleFailedRequest(Ur.FoldingRangeRequest.type,e,null)))},i=r.clientOptions.middleware;return i.provideFoldingRanges?i.provideFoldingRanges(e,t,n,o):o(e,0,n)}};return[Kr.languages.registerFoldingRangeProvider(e.documentSelector,t),t]}static asFoldingRangeKind(e){if(e)switch(e){case Ur.FoldingRangeKind.Comment:return Kr.FoldingRangeKind.Comment;case Ur.FoldingRangeKind.Imports:return Kr.FoldingRangeKind.Imports;case Ur.FoldingRangeKind.Region:return Kr.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map((e=>new Kr.FoldingRange(e.startLine,e.endLine,Hr.asFoldingRangeKind(e.kind)))):[]}}qr=jr.FoldingRangeFeature=Hr;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});var Gr=Vr.CallHierarchyFeature=void 0;const zr=C,Jr=t,Qr=on;function Zr(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class Yr{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,t,n){const r=this.client,o=this.middleware,i=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(Jr.CallHierarchyPrepareRequest.type,o,n).then((e=>r.protocol2CodeConverter.asCallHierarchyItems(e)),(e=>r.handleFailedRequest(Jr.CallHierarchyPrepareRequest.type,e,null)))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,i):i(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(Jr.CallHierarchyIncomingCallsRequest.type,r,t).then((e=>n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e)),(e=>n.handleFailedRequest(Jr.CallHierarchyIncomingCallsRequest.type,e,null)))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(Jr.CallHierarchyOutgoingCallsRequest.type,r,t).then((e=>n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e)),(e=>n.handleFailedRequest(Jr.CallHierarchyOutgoingCallsRequest.type,e,null)))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}}Gr=Vr.CallHierarchyFeature=class extends Qr.TextDocumentFeature{constructor(e){super(e,Jr.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){Zr(Zr(e,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.callHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new Yr(t);return[zr.languages.registerCallHierarchyProvider(e.documentSelector,n),n]}};var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});var eo=Xr.SemanticTokensFeature=void 0;const to=C,no=on,ro=t,oo=dn;function io(e,t){return void 0===e[t]&&(e[t]={}),e[t]}eo=Xr.SemanticTokensFeature=class extends no.TextDocumentFeature{constructor(e){super(e,ro.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=io(io(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[ro.SemanticTokenTypes.namespace,ro.SemanticTokenTypes.type,ro.SemanticTokenTypes.class,ro.SemanticTokenTypes.enum,ro.SemanticTokenTypes.interface,ro.SemanticTokenTypes.struct,ro.SemanticTokenTypes.typeParameter,ro.SemanticTokenTypes.parameter,ro.SemanticTokenTypes.variable,ro.SemanticTokenTypes.property,ro.SemanticTokenTypes.enumMember,ro.SemanticTokenTypes.event,ro.SemanticTokenTypes.function,ro.SemanticTokenTypes.method,ro.SemanticTokenTypes.macro,ro.SemanticTokenTypes.keyword,ro.SemanticTokenTypes.modifier,ro.SemanticTokenTypes.comment,ro.SemanticTokenTypes.string,ro.SemanticTokenTypes.number,ro.SemanticTokenTypes.regexp,ro.SemanticTokenTypes.operator],t.tokenModifiers=[ro.SemanticTokenModifiers.declaration,ro.SemanticTokenModifiers.definition,ro.SemanticTokenModifiers.readonly,ro.SemanticTokenModifiers.static,ro.SemanticTokenModifiers.deprecated,ro.SemanticTokenModifiers.abstract,ro.SemanticTokenModifiers.async,ro.SemanticTokenModifiers.modification,ro.SemanticTokenModifiers.documentation,ro.SemanticTokenModifiers.defaultLibrary],t.formats=[ro.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,io(io(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(ro.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,r]=this.getRegistration(t,e.semanticTokensProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=oo.boolean(e.full)?e.full:void 0!==e.full,n=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,r=new to.EventEmitter,o=t?{onDidChangeSemanticTokens:r.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,r=n.clientOptions.middleware,o=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(ro.SemanticTokensRequest.type,r,t).then((e=>n.protocol2CodeConverter.asSemanticTokens(e)),(e=>n.handleFailedRequest(ro.SemanticTokensRequest.type,e,null)))};return r.provideDocumentSemanticTokens?r.provideDocumentSemanticTokens(e,t,o):o(e,t)},provideDocumentSemanticTokensEdits:n?(e,t,n)=>{const r=this._client,o=r.clientOptions.middleware,i=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return r.sendRequest(ro.SemanticTokensDeltaRequest.type,o,n).then((e=>ro.SemanticTokens.is(e)?r.protocol2CodeConverter.asSemanticTokens(e):r.protocol2CodeConverter.asSemanticTokensEdits(e)),(e=>r.handleFailedRequest(ro.SemanticTokensDeltaRequest.type,e,null)))};return o.provideDocumentSemanticTokensEdits?o.provideDocumentSemanticTokensEdits(e,t,n,i):i(e,t,n)}:void 0}:void 0,i=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const r=this._client,o=r.clientOptions.middleware,i=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};return r.sendRequest(ro.SemanticTokensRangeRequest.type,o,n).then((e=>r.protocol2CodeConverter.asSemanticTokens(e)),(e=>r.handleFailedRequest(ro.SemanticTokensRangeRequest.type,e,null)))};return o.provideDocumentRangeSemanticTokens?o.provideDocumentRangeSemanticTokens(e,t,n,i):i(e,t,n)}}:void 0,a=[],s=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return void 0!==o&&a.push(to.languages.registerDocumentSemanticTokensProvider(e.documentSelector,o,s)),void 0!==i&&a.push(to.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,i,s)),[new to.Disposable((()=>a.forEach((e=>e.dispose())))),{range:i,full:o,onDidChangeSemanticTokensEmitter:r}]}};var ao={};Object.defineProperty(ao,"__esModule",{value:!0});var so=ao.DeclarationFeature=void 0;const uo=C,co=t,lo=on;function po(e,t){return void 0===e[t]&&(e[t]={}),e[t]}so=ao.DeclarationFeature=class extends lo.TextDocumentFeature{constructor(e){super(e,co.DeclarationRequest.type)}fillClientCapabilities(e){const t=po(po(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.declarationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t={provideDeclaration:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(co.DeclarationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then(r.protocol2CodeConverter.asDeclarationResult,(e=>r.handleFailedRequest(co.DeclarationRequest.type,e,null))),i=r.clientOptions.middleware;return i.provideDeclaration?i.provideDeclaration(e,t,n,o):o(e,t,n)}};return[uo.languages.registerDeclarationProvider(e.documentSelector,t),t]}};const ho=class extends on.BaseLanguageClient{constructor({id:e,name:t,clientOptions:n,connectionProvider:r}){super(e||t.toLowerCase(),t,n),this.connectionProvider=r,this.createConnection=this.doCreateConnection.bind(this);const o=this;o._p2c=new Proxy(o._p2c,{get:(e,t)=>"asUri"===t?e[t]:ho.bypassConversion}),o._c2p=new Proxy(o._c2p,{get:(e,t)=>"asUri"===t?e[t]:"asCompletionParams"===t?(t,n,r)=>({textDocument:e.asTextDocumentIdentifier(t),position:n,context:r}):"asWillSaveTextDocumentParams"===t?t=>({textDocument:e.asTextDocumentIdentifier(t.document),reason:t.reason}):t.endsWith("Params")?e[t]:ho.bypassConversion})}doCreateConnection(){const e=this.handleConnectionError.bind(this),t=this.handleConnectionClosed.bind(this);return this.connectionProvider.get(e,t,this.outputChannel)}createMessageTransports(e){throw new Error("Unsupported")}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new cn(this)),this.registerFeature(new fr(this)),this.registerFeature(new Ir(this)),this.registerFeature(new Sr(this)),this.registerFeature(new Pr(this)),qr.asFoldingRanges=ho.bypassConversion,this.registerFeature(new qr(this)),this.registerFeature(new so(this)),this.registerFeature(new eo(this)),this.registerFeature(new Gr(this));const e=this._features;for(const t of e)t instanceof Sr&&(t.asColor=ho.bypassConversion,t.asColorInformations=ho.bypassConversion,t.asColorPresentations=ho.bypassConversion)}registerProposedFeatures(){}getLocale(){return navigator.language||"en-US"}};ho.bypassConversion=e=>e||void 0;class mo{constructor(e){this._monaco=e}registerCommand(e,t,n){return this._monaco.editor.registerCommand(e,((e,...r)=>t.call(n,...r)))}}class fo{constructor(){this.channels=new Map}showMessage(e,n,...r){return e===t.MessageType.Error&&console.error(n),e===t.MessageType.Warning&&console.warn(n),e===t.MessageType.Info&&console.info(n),e===t.MessageType.Log&&console.log(n),Promise.resolve(void 0)}createOutputChannel(e){const t=this.channels.get(e);if(t)return t;const n={append(t){console.log(e+": "+t)},appendLine(t){console.log(e+": "+t)},show(){},dispose(){}};return this.channels.set(e,n),n}}class go{constructor(e,t,n,r=null){this._monaco=e,this.p2m=t,this.m2p=n,this._rootUri=r,this.documents=new Map,this.onDidOpenTextDocumentEmitter=new a.Emitter,this.onDidCloseTextDocumentEmitter=new a.Emitter,this.onDidChangeTextDocumentEmitter=new a.Emitter;for(const o of this._monaco.editor.getModels())this.addModel(o);this._monaco.editor.onDidCreateModel((e=>this.addModel(e))),this._monaco.editor.onWillDisposeModel((e=>this.removeModel(e))),this._monaco.editor.onDidChangeModelLanguage((e=>{this.removeModel(e.model),this.addModel(e.model)}))}get rootUri(){return this._rootUri}removeModel(e){const t=e.uri.toString(),n=this.documents.get(t);n&&(this.documents.delete(t),this.onDidCloseTextDocumentEmitter.fire(n))}addModel(e){const t=e.uri.toString(),n=this.setModel(t,e);this.onDidOpenTextDocumentEmitter.fire(n),e.onDidChangeContent((n=>this.onDidChangeContent(t,e,n)))}onDidChangeContent(e,t,n){const r=this.setModel(e,t),o=[];for(const i of n.changes){const e=this.m2p.asRange(i.range),t=i.rangeLength,n=i.text;o.push({range:e,rangeLength:t,text:n})}this.onDidChangeTextDocumentEmitter.fire({textDocument:r,contentChanges:o})}setModel(e,t){const n=y.create(e,t.getLanguageId(),t.getVersionId(),t.getValue());return this.documents.set(e,n),n}get textDocuments(){return Array.from(this.documents.values())}get onDidOpenTextDocument(){return this.onDidOpenTextDocumentEmitter.event}get onDidCloseTextDocument(){return this.onDidCloseTextDocumentEmitter.event}get onDidChangeTextDocument(){return this.onDidChangeTextDocumentEmitter.event}applyEdit(e){const t=this.p2m.asWorkspaceEdit(e),n=t.edits?t.edits.reduce(((e,t)=>{const n=t;return e[n.resource.toString()]=this._monaco.editor.getModel(n.resource),e}),{}):{};if(!Object.keys(n).map((e=>n[e])).every((e=>!!e)))return Promise.resolve(!1);const r=t.edits?t.edits.reduce(((e,t)=>{const n=t,r=n.resource.toString();return r in e||(e[r]=[]),e[r].push({range:this._monaco.Range.lift(n.edit.range),text:n.edit.text}),e}),{}):{};return Object.keys(r).forEach((e=>{n[e].pushEditOperations([],r[e].map((e=>({identifier:{major:1,minor:0},range:e.range,text:e.text,forceMoveMarkers:!0}))),(()=>[]))})),Promise.resolve(!0)}}var vo;let Do;!function(e){function t(e,t={}){const n=new Bt(e),r=new Pt(e);return{commands:new mo(e),languages:new Mt(e,r,n),workspace:new go(e,r,n,t.rootUri),window:new fo}}e.create=t,e.install=function(e,n={}){const r=t(e,n);return yt.install(r),r},e.get=function(){return yt.get()}}(vo||(vo={}));const Co={};let yo;async function Io(){yo||(await function(e,t){if(!t||0===t.length)return e();if(void 0===Do){const e=document.createElement("link").relList;Do=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`./${e}`)in Co)return;Co[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":Do,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>import("./createWorker.f0ce393b.js")),["assets/createWorker.f0ce393b.js","assets/lsp.289540be.js","assets/parser.d5d33482.js","assets/editor.521421be.js","assets/editor.f03c6e3d.css","assets/vsc.14d9df5d.js"]),console.log("createWorker"),yo=v.createWebWorker({moduleId:"advscript",label:"advscript",keepIdleModels:!0,createData:{}}));return await yo.getProxy()}class _o extends class{constructor(e){const t=new Bt(e),n=new Pt(e);this.m2p=t,this.p2m=n,this._onDispose=new e.Emitter,this.languages=new Proxy(new Nt(e,n,t),{get:(e,t,n)=>{if(/^register[A-Z]/.test(t)){const r=this;return function(){console.debug("[proxy] Monaco.languages",t);const o=Reflect.apply(e[t],n,arguments);if(o)return r.addDispose(o),o}}return e[t]}}),this._languages=new Proxy(e.languages,{get:(e,t,n)=>{if(/^register[A-Z]/.test(t)){const r=this;return function(){console.log("[proxy] Monaco.languages",t);const o=Reflect.apply(e[t],n,arguments);if(o)return r.addDispose(o),o}}return e[t]}})}addDispose(e){return this._onDispose.event(e.dispose)}dispose(){this._onDispose.fire(),this._onDispose.dispose()}}{constructor(e,t,n){super(e),this._monaco=e,this.service=t,this.languageId=n,this.updateModelMarkers=(e,t)=>{console.log("updateModelMarkers",t),this._monaco.editor.setModelMarkers(e,this.languageId,this.p2m.asDiagnostics(t.diagnostics))}}async initialize(e){this.initializeResult||(globalThis.setImmediate=(e,...t)=>globalThis.setTimeout(e,5,...t),this.initializeResult=await this.service.doInitialize(),this.addDocumentsHandler(),this.addCompletionHandler(),this.addFindReferencesHandler(),this.addDocumentSymbolHandler(),this.addGotoDefinitionHandler(),this.addDocumentHighlightsHandler(),this.addFoldingRangeHandler(),this.addCodeActionHandler(),this.addRenameHandler(),this.addHoverHandler(),console.log("Adapter init",this))}addDocumentsHandler(){this.addDispose(this._monaco.editor.onDidCreateModel((e=>{this.service.doDocumentLoaded(e.uri.toString(),e.getValue()).then(this.updateModelMarkers.bind(this,e));const t=e.uri.toString();this.addDispose(e.onDidChangeContent((n=>{this.service.doDidChangeContent(t,e.getValue(),n.changes).then(this.updateModelMarkers.bind(this,e))})))})))}addCompletionHandler(){this.languages.registerCompletionItemProvider([this.languageId],{...this.initializeResult.capabilities.completionProvider,provideCompletionItems:this.bind(this.service.doProvideCompletionItems)})}addFindReferencesHandler(){this.languages.registerReferenceProvider([this.languageId],{provideReferences:this.bind(this.service.doFindReferences)})}addCodeActionHandler(){const e=this.initializeResult.capabilities.codeActionProvider;this.languages.registerCodeActionsProvider([this.languageId],{...e instanceof Object?e:{},provideCodeActions:this.bind(this.service.doProvideCodeActions)})}addDocumentSymbolHandler(){this.languages.registerDocumentSymbolProvider([this.languageId],{provideDocumentSymbols:this.bind(this.service.doProvideDocumentSymbols)})}addGotoDefinitionHandler(){this.languages.registerDefinitionProvider([this.languageId],{provideDefinition:this.bind(this.service.doProvideDefinition)}),this.languages.registerTypeDefinitionProvider([this.languageId],{provideTypeDefinition:this.bind(this.service.doProvideDefinition)})}addDocumentHighlightsHandler(){this.languages.registerDocumentHighlightProvider([this.languageId],{provideDocumentHighlights:this.bind(this.service.doProvideDocumentHighlights)})}addHoverHandler(){this.languages.registerHoverProvider([this.languageId],{provideHover:this.bind(this.service.doProvideHover)})}addFoldingRangeHandler(){this.languages.registerFoldingRangeProvider([this.languageId],{provideFoldingRanges:this.bind(this.service.doProvideFoldingRanges)})}addRenameHandler(){this.languages.registerRenameProvider([this.languageId],{provideRenameEdits:this.bind(this.service.doProvideRenameEdits),resolveRenameLocation:this.bind(this.service.doResolveRenameLocation)})}bind(e){return async(t,n)=>{try{return await e.apply(this.service,[t])}catch(r){throw console.error(r),n.cancel?.(),r}}}}!function(){const e="advscript";Tt(D,0,(async()=>({}))).then((async t=>{await async function(e){const t=await Io();return new _o(e,t,"advscript").initialize()}(D),v.createModel("Characters: \n  - Yukari (无感情, 沉默, 感叹)\n  - Akari (元气, 惊慌, 埋怨, 慌张)\n  - ？？？ (无声)\n\n",e,h.file("./deps.avs"));const n=v.createModel('Characters: \r\n - Foo (bar, bar2, bar3) display=!Foo index=1\r\n - foo2 (bar, bar2) display=我 index=2\r\n\r\nMacros: \r\n - bar (Foo, foo2) foo\r\n - bar2 (foo2) foo=true\r\n - pipe (foo2) foo=true\r\n\r\nHello: Bar!\r\n---\r\n/**\r\n  aaa\r\n*/\r\n// 123\r\naaa\r\nbbbb\r\n\r\n|let foo = 1, bar = 2\r\n\r\n@Foo (bar)[bar|bar]\r\n(foo:bar)\r\nfoo[bar](bar foo)\r\n  \r\n// continue\r\n[bar foo=foo bar="bar]foo" foo]\r\n// end\r\n\r\n|if bar > 0\r\n\r\nbarbarbar\r\n\r\n|elseif bar == 2\r\n// call elseif bar == 2\r\n\r\n|elseif bar == 3\r\n// call elseif bar == 3\r\n\r\n|else\r\n// call else\r\n\r\n|end\r\n\r\n// action\r\n\r\n   @Foo (bar)[pipe foo=2]\r\n   对话中的前导空格将被忽略\r\n     \r\n   测试\r\n\r\n   \r\n      action则例外\r\n\r\n|let app = 1\r\n\r\n> centered {{app}} <\r\n> *centered* <\r\n   *> centered <*\r\n\r\n@foo2\r\n> centered {{app}} <\r\n>* centered *<\r\n*> centered <*\r\n// >app\r\n\r\n// app\r\n\r\n> App\r\n> app2\r\n\r\ntest[[comment]]in*line**bold{{"template" | pipe}}con[label](pipe)tent***aft|pipe\r\ntest[[comment]]in*line**bold{{"template" | pipe}}con[label](pipe)tent**aft|pipe\r\ntest[[comment]]in*line**bold{{"template" | pipe}}con[label](pipe)tent*aft|pipe\r\ntest[[comment]]in*line**bold{{"template" | pipe}}con[label](pipe)tentaft|pipe\r\ntest[[comment]]in*line**bold{{"template" | pipe}}con[label](pipe)tentaft*|pipe\r\n\r\n===\r\n\r\ntest[[comment]]in*line**bo_ld{{"template" | pipe}}con>0 [label](pipe) <te_nt***aft*|pipe\r\ntest[[comment]]in*line**bo*ld{{"template" | pipe}}con>1 [[label]](pipe) <tentaft*|pipe\r\ntest[[comment]]in*line**bo*ld{{"template" | pipe}}con>2 \\[[label]](pipe) <tentaft*|pipe\r\ntest[[comment]]in*line**bo*ld{{"template" | pipe}}con>3 [\\[label]](pipe) <tentaft*|pipe\r\ntest[[comment]]in*line**bo*ld{{"template" | pipe}}con>32 [\\[label\\]]() <tentaft*|pipe\r\ntest[[comment]]in*line**bo*ld{{"template" | pipe}}con>33[\\[label](pipe foo=1) <tentaft*|pipe\r\ntest[[comment]]in*line**bo*ld{{"template" | pipe}}con>4 [\\[label\\]](pipe) <tentaft*|pipe\r\ntest[[comment]]in*line**bo*ld{{"tem}}plate" | pipe}}con>5 [\\[label]]\\(pipe) <tentaft*|pipe\r\n\r\n',e,h.file("./main.avs")),r=v.create(document.querySelector("#editor"),{peekWidgetDefaultFocus:"tree",theme:"OneDark",automaticLayout:!0,model:n,codeActionsOnSaveTimeout:1e3,"semanticHighlighting.enabled":!0,useShadowDOM:!0,glyphMargin:!0,lightbulb:{enabled:!0},minimap:{enabled:!1}});t.injectCSS(),globalThis.app=r}))}();export{ct as s};
