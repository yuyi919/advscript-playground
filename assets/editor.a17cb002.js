function e(e,t){return 0===t.length?e:String(e).replace(/{(d+)}/g,(function(e,i){var n=i[0];return void 0!==t[n]?t[n]:e}))}function t(t,i,n){var o="object"==typeof i?i.key:i,s=((i={"vs/base/common/date":{"date.fromNow.in":"{0} 后","date.fromNow.now":"现在","date.fromNow.seconds.singular.ago":"{0} 秒前","date.fromNow.seconds.plural.ago":"{0} 秒前","date.fromNow.seconds.singular":"{0} 秒","date.fromNow.seconds.plural":"{0} 秒","date.fromNow.minutes.singular.ago":"{0} 分钟前","date.fromNow.minutes.plural.ago":"{0} 分钟前","date.fromNow.minutes.singular":"{0} 分钟","date.fromNow.minutes.plural":"{0} 分钟","date.fromNow.hours.singular.ago":"{0} 小时前","date.fromNow.hours.plural.ago":"{0} 小时前","date.fromNow.hours.singular":"{0} 小时","date.fromNow.hours.plural":"{0} 小时","date.fromNow.days.singular.ago":"{0} 天前","date.fromNow.days.plural.ago":"{0} 天前","date.fromNow.days.singular":"{0} 天","date.fromNow.days.plural":"{0} 天","date.fromNow.weeks.singular.ago":"{0} 周前","date.fromNow.weeks.plural.ago":"{0} 周前","date.fromNow.weeks.singular":"{0} 周","date.fromNow.weeks.plural":"{0} 周","date.fromNow.months.singular.ago":"{0} 个月前","date.fromNow.months.plural.ago":"{0} 个月前","date.fromNow.months.singular":"{0} 个月","date.fromNow.months.plural":"{0} 个月","date.fromNow.years.singular.ago":"{0} 年前","date.fromNow.years.plural.ago":"{0} 年前","date.fromNow.years.singular":"{0} 年","date.fromNow.years.plural":"{0} 年"},"vs/base/common/codicons":{dropDownButton:"下拉按钮的图标。"},"vs/base/common/actions":{"submenu.empty":"(空)"},"vs/base/node/processes":{"TaskRunner.UNC":"无法在 UNC 驱动器上执行 Shell 命令。"},"vs/base/common/errorMessage":{"stackTrace.format":"{0}: {1}",nodeExceptionMessage:"发生了系统错误 ({0})","error.defaultMessage":"出现未知错误。有关详细信息，请参阅日志。","error.moreErrors":"{0} 个(共 {1} 个错误)"},"vs/base/node/zip":{"invalid file":"提取 {0} 时出错。文件无效。",incompleteExtract:"解压不完整。找到了 {0} / {1} 个项目",notFound:"在 Zip 中找不到 {0}。"},"vs/base/browser/ui/dialog/dialog":{ok:"确定",dialogInfoMessage:"信息",dialogErrorMessage:"错误",dialogWarningMessage:"警告",dialogPendingMessage:"正在进行",dialogClose:"关闭对话框"},"vs/base/browser/ui/actionbar/actionViewItems":{titleLabel:"{0} ({1})"},"vs/base/browser/ui/keybindingLabel/keybindingLabel":{unbound:"未绑定"},"vs/base/browser/ui/menu/menubar":{mAppMenu:"应用程序菜单",mMore:"更多"},"vs/base/browser/ui/menu/menu":{titleLabel:"{0} ({1})"},"vs/base/common/jsonErrorMessages":{"error.invalidSymbol":"无效符号","error.invalidNumberFormat":"数字格式无效","error.propertyNameExpected":"需要属性名","error.valueExpected":"需要值","error.colonExpected":"需要冒号","error.commaExpected":"需要逗号","error.closeBraceExpected":"需要右大括号","error.closeBracketExpected":"需要右括号","error.endOfFileExpected":"文件应结束"},"vs/base/common/keybindingLabels":{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",windowsKey:"Windows",superKey:"超键","ctrlKey.long":"Control","shiftKey.long":"Shift","altKey.long":"Alt","cmdKey.long":"Command","windowsKey.long":"Windows","superKey.long":"超键"},"vs/base/browser/ui/tree/abstractTree":{clear:"清除","disable filter on type":"禁用输入时筛选","enable filter on type":"启用输入时筛选",empty:"未找到元素",found:"已匹配 {0} 个元素(共 {1} 个)"},"vs/base/browser/ui/tree/treeDefaults":{"collapse all":"全部折叠"},"vs/base/browser/ui/toolbar/toolbar":{moreActions:"更多操作..."},"vs/base/browser/ui/splitview/paneview":{viewSection:"{0}部分"},"vs/base/browser/ui/inputbox/inputBox":{alertErrorMessage:"错误: {0}",alertWarningMessage:"警告: {0}",alertInfoMessage:"信息: {0}"},"vs/base/parts/quickinput/browser/quickInput":{backButtonIcon:"“快速输入”对话框中的“后退”按钮的图标。","quickInput.back":"上一步","quickInput.steps":"{0}/{1}","quickInputBox.ariaLabel":"在此输入可缩小结果范围。",inputModeEntry:'按 "Enter" 以确认或按 "Esc" 以取消',inputModeEntryDescription:'{0} (按 "Enter" 以确认或按 "Esc" 以取消)',"quickInput.visibleCount":"{0} 个结果","quickInput.countSelected":"已选 {0} 项",ok:"确定",custom:"自定义","quickInput.backWithKeybinding":"后退 ({0})"},"vs/base/browser/ui/findinput/findInput":{defaultLabel:"输入"},"vs/base/browser/ui/findinput/replaceInput":{defaultLabel:"输入","label.preserveCaseCheckbox":"保留大小写"},"vs/base/browser/ui/findinput/findInputCheckboxes":{caseDescription:"区分大小写",wordsDescription:"全字匹配",regexDescription:"使用正则表达式"},"vs/base/parts/quickinput/browser/quickInputList":{quickInput:"快速输入"},"vs/base/browser/ui/selectBox/selectBoxCustom":{selectBox:"选择框"},"vs/editor/browser/editorExtensions":{miUndo:"撤消(&&U)",undo:"撤消",miRedo:"恢复(&&R)",redo:"恢复",miSelectAll:"全选(&&S)",selectAll:"选择全部"},"vs/editor/common/modes/modesRegistry":{"plainText.alias":"纯文本"},"vs/editor/common/config/editorOptions":{"accessibilitySupport.auto":"编辑器将使用平台 API 以检测是否附加了屏幕阅读器。","accessibilitySupport.on":"编辑器将针对与屏幕阅读器搭配使用进行永久优化。将禁用自动换行。","accessibilitySupport.off":"编辑器将不再对屏幕阅读器的使用进行优化。",accessibilitySupport:"控制编辑器是否应在对屏幕阅读器进行了优化的模式下运行。设置为“开”将禁用自动换行。","comments.insertSpace":"控制在注释时是否插入空格字符。","comments.ignoreEmptyLines":"控制在对行注释执行切换、添加或删除操作时，是否应忽略空行。",emptySelectionClipboard:"控制在没有选择内容时进行复制是否复制当前行。","find.cursorMoveOnType":"控制在键入时光标是否应跳转以查找匹配项。","find.seedSearchStringFromSelection":"控制是否将编辑器选中内容作为搜索词填入到查找小组件中。","editor.find.autoFindInSelection.never":"切勿自动打开“选择中查找”(默认)","editor.find.autoFindInSelection.always":"始终自动打开“在选择中查找”","editor.find.autoFindInSelection.multiline":"选择多行内容时，自动打开“在选择中查找”。","find.autoFindInSelection":"控制在所选内容中自动开启查找的条件。","find.globalFindClipboard":"控制“查找”小组件是否读取或修改 macOS 的共享查找剪贴板。","find.addExtraSpaceOnTop":'控制 "查找小部件" 是否应在编辑器顶部添加额外的行。如果为 true, 则可以在 "查找小工具" 可见时滚动到第一行之外。',"find.loop":"控制在找不到其他匹配项时，是否自动从开头(或结尾)重新开始搜索。",fontLigatures:'启用/禁用字体连字("calt" 和 "liga" 字体特性)。将此更改为字符串，可对 "font-feature-settings" CSS 属性进行精细控制。',fontFeatureSettings:'显式 "font-feature-settings" CSS 属性。如果只需打开/关闭连字，可以改为传递布尔值。',fontLigaturesGeneral:'配置字体连字或字体特性。可以是用于启用/禁用连字的布尔值，或用于设置 CSS "font-feature-settings" 属性值的字符串。',fontSize:"控制字体大小(像素)。",fontWeightErrorMessage:"仅允许使用关键字“正常”和“加粗”，或使用介于 1 至 1000 之间的数字。",fontWeight:"控制字体粗细。接受关键字“正常”和“加粗”，或者接受介于 1 至 1000 之间的数字。","editor.gotoLocation.multiple.peek":"显示结果的预览视图 (默认值)","editor.gotoLocation.multiple.gotoAndPeek":"转到主结果并显示预览视图","editor.gotoLocation.multiple.goto":"转到主结果，并对其他人启用防偷窥导航","editor.gotoLocation.multiple.deprecated":'此设置已弃用，请改用单独的设置，如"editor.editor.gotoLocation.multipleDefinitions"或"editor.editor.gotoLocation.multipleImplementations"。',"editor.editor.gotoLocation.multipleDefinitions":'控制存在多个目标位置时"转到定义"命令的行为。',"editor.editor.gotoLocation.multipleTypeDefinitions":'控制存在多个目标位置时"转到类型定义"命令的行为。',"editor.editor.gotoLocation.multipleDeclarations":'控制存在多个目标位置时"转到声明"命令的行为。',"editor.editor.gotoLocation.multipleImplemenattions":'控制存在多个目标位置时"转到实现"命令的行为。',"editor.editor.gotoLocation.multipleReferences":'控制存在多个目标位置时"转到引用"命令的行为。',alternativeDefinitionCommand:'当"转到定义"的结果为当前位置时将要执行的替代命令的 ID。',alternativeTypeDefinitionCommand:'当"转到类型定义"的结果是当前位置时正在执行的备用命令 ID。',alternativeDeclarationCommand:'当"转到声明"的结果为当前位置时将要执行的替代命令的 ID。',alternativeImplementationCommand:'当"转到实现"的结果为当前位置时将要执行的替代命令的 ID。',alternativeReferenceCommand:'当"转到引用"的结果是当前位置时正在执行的替代命令 ID。',"hover.enabled":"控制是否显示悬停提示。","hover.delay":"控制显示悬停提示前的等待时间 (毫秒)。","hover.sticky":"控制当鼠标移动到悬停提示上时，其是否保持可见。",codeActions:"在编辑器中启用代码操作小灯泡提示。",lineHeight:"控制行高。为 0 时则通过字体大小自动计算。","minimap.enabled":"控制是否显示缩略图。","minimap.size.proportional":"迷你地图的大小与编辑器内容相同(并且可能滚动)。","minimap.size.fill":"迷你地图将根据需要拉伸或缩小以填充编辑器的高度(不滚动)。","minimap.size.fit":"迷你地图将根据需要缩小，永远不会大于编辑器(不滚动)。","minimap.size":"控制迷你地图的大小。","minimap.side":"控制在哪一侧显示缩略图。","minimap.showSlider":"控制何时显示迷你地图滑块。","minimap.scale":"在迷你地图中绘制的内容比例: 1、2 或 3。","minimap.renderCharacters":"渲染每行的实际字符，而不是色块。","minimap.maxColumn":"限制缩略图的宽度，控制其最多显示的列数。","padding.top":"控制编辑器的顶边和第一行之间的间距量。","padding.bottom":"控制编辑器的底边和最后一行之间的间距量。","parameterHints.enabled":"在输入时显示含有参数文档和类型信息的小面板。","parameterHints.cycle":"控制参数提示菜单在到达列表末尾时进行循环还是关闭。","quickSuggestions.strings":"在字符串内启用快速建议。","quickSuggestions.comments":"在注释内启用快速建议。","quickSuggestions.other":"在字符串和注释外启用快速建议。",quickSuggestions:"控制是否在键入时自动显示建议。","lineNumbers.off":"不显示行号。","lineNumbers.on":"将行号显示为绝对行数。","lineNumbers.relative":"将行号显示为与光标相隔的行数。","lineNumbers.interval":"每 10 行显示一次行号。",lineNumbers:"控制行号的显示。","rulers.size":"此编辑器标尺将渲染的等宽字符数。","rulers.color":"此编辑器标尺的颜色。",rulers:"在一定数量的等宽字符后显示垂直标尺。输入多个值，显示多个标尺。若数组为空，则不绘制标尺。","suggest.insertMode.insert":"插入建议而不覆盖光标右侧的文本。","suggest.insertMode.replace":"插入建议并覆盖光标右侧的文本。","suggest.insertMode":"控制接受补全时是否覆盖单词。请注意，这取决于扩展选择使用此功能。","suggest.filterGraceful":"控制对建议的筛选和排序是否考虑小的拼写错误。","suggest.localityBonus":"控制排序时是否提高靠近光标的词语的优先级。","suggest.shareSuggestSelections":"控制是否在多个工作区和窗口间共享记忆的建议选项(需要 `#editor.suggestSelection#`)。","suggest.snippetsPreventQuickSuggestions":"控制活动代码段是否阻止快速建议。","suggest.showIcons":"控制是否在建议中显示或隐藏图标。","suggest.showStatusBar":"控制建议小部件底部的状态栏的可见性。","suggest.showInlineDetails":"控制建议详细信息是随标签一起显示还是仅显示在详细信息小组件中","suggest.maxVisibleSuggestions.dep":"此设置已弃用。现在可以调整建议小组件的大小。",deprecated:'此设置已弃用，请改用单独的设置，如"editor.suggest.showKeywords"或"editor.suggest.showSnippets"。',"editor.suggest.showMethods":"启用后，IntelliSense 将显示“方法”建议。","editor.suggest.showFunctions":"启用后，IntelliSense 将显示“函数”建议。","editor.suggest.showConstructors":"启用后，IntelliSense 将显示“构造函数”建议。","editor.suggest.showFields":"启用后，IntelliSense 将显示“字段”建议。","editor.suggest.showVariables":"启用后，IntelliSense 将显示“变量”建议。","editor.suggest.showClasss":"启用后，IntelliSense 将显示“类”建议。","editor.suggest.showStructs":"启用后，IntelliSense 将显示“结构”建议。","editor.suggest.showInterfaces":"启用后，IntelliSense 将显示“接口”建议。","editor.suggest.showModules":"启用后，IntelliSense 将显示“模块”建议。","editor.suggest.showPropertys":"启用后，IntelliSense 将显示“属性”建议。","editor.suggest.showEvents":"启用后，IntelliSense 将显示“事件”建议。","editor.suggest.showOperators":"启用后，IntelliSense 将显示“操作符”建议。","editor.suggest.showUnits":"启用后，IntelliSense 将显示“单位”建议。","editor.suggest.showValues":"启用后，IntelliSense 将显示“值”建议。","editor.suggest.showConstants":"启用后，IntelliSense 将显示“常量”建议。","editor.suggest.showEnums":"启用后，IntelliSense 将显示“枚举”建议。","editor.suggest.showEnumMembers":'启用后，IntelliSense 将显示 "enumMember" 建议。',"editor.suggest.showKeywords":"启用后，IntelliSense 将显示“关键字”建议。","editor.suggest.showTexts":"启用后，IntelliSense 将显示“文本”建议。","editor.suggest.showColors":"启用后，IntelliSense 将显示“颜色”建议。","editor.suggest.showFiles":"启用后，IntelliSense 将显示“文件”建议。","editor.suggest.showReferences":"启用后，IntelliSense 将显示“参考”建议。","editor.suggest.showCustomcolors":"启用后，IntelliSense 将显示“自定义颜色”建议。","editor.suggest.showFolders":"启用后，IntelliSense 将显示“文件夹”建议。","editor.suggest.showTypeParameters":'启用后，IntelliSense 将显示 "typeParameter" 建议。',"editor.suggest.showSnippets":"启用后，IntelliSense 将显示“片段”建议。","editor.suggest.showUsers":'启用后，IntelliSense 将显示"用户"建议。',"editor.suggest.showIssues":'启用后，IntelliSense 将显示"问题"建议。',selectLeadingAndTrailingWhitespace:"是否应始终选择前导和尾随空格。",acceptSuggestionOnCommitCharacter:"控制是否应在遇到提交字符时接受建议。例如，在 JavaScript 中，半角分号 (`;`) 可以为提交字符，能够在接受建议的同时键入该字符。",acceptSuggestionOnEnterSmart:"仅当建议包含文本改动时才可使用 `Enter` 键进行接受。",acceptSuggestionOnEnter:"控制除了 `Tab` 键以外， `Enter` 键是否同样可以接受建议。这能减少“插入新行”和“接受建议”命令之间的歧义。",accessibilityPageSize:"控制编辑器中可由屏幕阅读器读取的行数。警告: 对于大于默认值的数字，这会影响性能。",editorViewAccessibleLabel:"编辑器内容","editor.autoClosingBrackets.languageDefined":"使用语言配置确定何时自动闭合括号。","editor.autoClosingBrackets.beforeWhitespace":"仅当光标位于空白字符左侧时，才自动闭合括号。",autoClosingBrackets:"控制编辑器是否在左括号后自动插入右括号。","editor.autoClosingOvertype.auto":"仅在自动插入时才改写右引号或右括号。",autoClosingOvertype:"控制编辑器是否应改写右引号或右括号。","editor.autoClosingQuotes.languageDefined":"使用语言配置确定何时自动闭合引号。","editor.autoClosingQuotes.beforeWhitespace":"仅当光标位于空白字符左侧时，才自动闭合引号。",autoClosingQuotes:"控制编辑器是否在左引号后自动插入右引号。","editor.autoIndent.none":"编辑器不会自动插入缩进。","editor.autoIndent.keep":"编辑器将保留当前行的缩进。","editor.autoIndent.brackets":"编辑器将保留当前行的缩进并遵循语言定义的括号。","editor.autoIndent.advanced":"编辑器将保留当前行的缩进、使用语言定义的括号并调用语言定义的特定 onEnterRules。","editor.autoIndent.full":"编辑器将保留当前行的缩进，使用语言定义的括号，调用由语言定义的特殊输入规则，并遵循由语言定义的缩进规则。",autoIndent:"控制编辑器是否应在用户键入、粘贴、移动或缩进行时自动调整缩进。","editor.autoSurround.languageDefined":"使用语言配置确定何时自动包住所选内容。","editor.autoSurround.quotes":"使用引号而非括号来包住所选内容。","editor.autoSurround.brackets":"使用括号而非引号来包住所选内容。",autoSurround:"控制在键入引号或方括号时，编辑器是否应自动将所选内容括起来。",stickyTabStops:"在使用空格进行缩进时模拟制表符的选择行为。所选内容将始终使用制表符停止位。",codeLens:"控制是否在编辑器中显示 CodeLens。",codeLensFontFamily:"控制 CodeLens 的字体系列。",codeLensFontSize:"控制 CodeLens 的字体大小(像素)。设置为 `0` 时，将使用 `#editor.fontSize#` 的 90%。",colorDecorators:"控制编辑器是否显示内联颜色修饰器和颜色选取器。",columnSelection:"启用使用鼠标和键进行列选择。",copyWithSyntaxHighlighting:"控制在复制时是否同时复制语法高亮。",cursorBlinking:"控制光标的动画样式。",cursorSmoothCaretAnimation:"控制是否启用平滑插入动画。",cursorStyle:"控制光标样式。",cursorSurroundingLines:'控制光标周围可见的前置行和尾随行的最小数目。在其他一些编辑器中称为 "scrollOff" 或 "scrollOffset"。',"cursorSurroundingLinesStyle.default":'仅当通过键盘或 API 触发时，才会强制执行"光标环绕行"。',"cursorSurroundingLinesStyle.all":'始终强制执行 "cursorSurroundingLines"',cursorSurroundingLinesStyle:'控制何时应强制执行"光标环绕行"。',cursorWidth:"当 `#editor.cursorStyle#` 设置为 `line` 时，控制光标的宽度。",dragAndDrop:"控制在编辑器中是否允许通过拖放来移动选中内容。",fastScrollSensitivity:'按下"Alt"时滚动速度倍增。',folding:"控制编辑器是否启用了代码折叠。","foldingStrategy.auto":"使用特定于语言的折叠策略(如果可用)，否则使用基于缩进的策略。","foldingStrategy.indentation":"使用基于缩进的折叠策略。",foldingStrategy:"控制计算折叠范围的策略。",foldingHighlight:"控制编辑器是否应突出显示折叠范围。",unfoldOnClickAfterEndOfLine:"控制单击已折叠的行后面的空内容是否会展开该行。",fontFamily:"控制字体系列。",formatOnPaste:"控制编辑器是否自动格式化粘贴的内容。格式化程序必须可用，并且能针对文档中的某一范围进行格式化。",formatOnType:"控制编辑器在键入一行后是否自动格式化该行。",glyphMargin:"控制编辑器是否应呈现垂直字形边距。字形边距最常用于调试。",hideCursorInOverviewRuler:"控制是否在概览标尺中隐藏光标。",highlightActiveIndentGuide:"控制是否突出显示编辑器中活动的缩进参考线。",letterSpacing:"控制字母间距(像素)。",linkedEditing:"控制编辑器是否已启用链接编辑。相关符号(如 HTML 标记)在编辑时进行更新，具体由语言而定。",links:"控制是否在编辑器中检测链接并使其可被点击。",matchBrackets:"突出显示匹配的括号。",mouseWheelScrollSensitivity:"对鼠标滚轮滚动事件的 `deltaX` 和 `deltaY` 乘上的系数。",mouseWheelZoom:"按住 `Ctrl` 键并滚动鼠标滚轮时对编辑器字体大小进行缩放。",multiCursorMergeOverlapping:"当多个光标重叠时进行合并。","multiCursorModifier.ctrlCmd":"映射为 `Ctrl` (Windows 和 Linux) 或 `Command` (macOS)。","multiCursorModifier.alt":"映射为 `Alt` (Windows 和 Linux) 或 `Option` (macOS)。",multiCursorModifier:"在通过鼠标添加多个光标时使用的修改键。“转到定义”和“打开链接”功能所需的鼠标动作将会相应调整，不与多光标修改键冲突。[阅读详细信息](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier)。","multiCursorPaste.spread":"每个光标粘贴一行文本。","multiCursorPaste.full":"每个光标粘贴全文。",multiCursorPaste:"控制粘贴时粘贴文本的行计数与光标计数相匹配。",occurrencesHighlight:"控制编辑器是否突出显示语义符号的匹配项。",overviewRulerBorder:"控制是否在概览标尺周围绘制边框。","peekWidgetDefaultFocus.tree":"打开速览时聚焦树","peekWidgetDefaultFocus.editor":"打开预览时将焦点放在编辑器上",peekWidgetDefaultFocus:"控制是将焦点放在内联编辑器上还是放在预览小部件中的树上。",definitionLinkOpensInPeek:'控制"转到定义"鼠标手势是否始终打开预览小部件。',quickSuggestionsDelay:"控制显示快速建议前的等待时间 (毫秒)。",renameOnType:"控制是否在编辑器中输入时自动重命名。",renameOnTypeDeprecate:'已弃用，请改用 "editor.linkedEditing"。',renderControlCharacters:"控制编辑器是否显示控制字符。",renderIndentGuides:"控制编辑器是否显示缩进参考线。",renderFinalNewline:"当文件以换行符结束时, 呈现最后一行的行号。","renderLineHighlight.all":"同时突出显示导航线和当前行。",renderLineHighlight:"控制编辑器的当前行进行高亮显示的方式。",renderLineHighlightOnlyWhenFocus:"控制编辑器是否仅在焦点在编辑器时突出显示当前行","renderWhitespace.boundary":"呈现空格字符(字词之间的单个空格除外)。","renderWhitespace.selection":"仅在选定文本上呈现空白字符。","renderWhitespace.trailing":"仅呈现尾随空格字符",renderWhitespace:"控制编辑器在空白字符上显示符号的方式。",roundedSelection:"控制选区是否有圆角。",scrollBeyondLastColumn:"控制编辑器水平滚动时可以超过范围的字符数。",scrollBeyondLastLine:"控制编辑器是否可以滚动到最后一行之后。",scrollPredominantAxis:"同时垂直和水平滚动时，仅沿主轴滚动。在触控板上垂直滚动时，可防止水平漂移。",selectionClipboard:"控制是否支持 Linux 主剪贴板。",selectionHighlight:"控制编辑器是否应突出显示与所选内容类似的匹配项。","showFoldingControls.always":"始终显示折叠控件。","showFoldingControls.mouseover":"仅在鼠标位于装订线上方时显示折叠控件。",showFoldingControls:"控制何时显示行号槽上的折叠控件。",showUnused:"控制是否淡化未使用的代码。",showDeprecated:"控制加删除线被弃用的变量。","snippetSuggestions.top":"在其他建议上方显示代码片段建议。","snippetSuggestions.bottom":"在其他建议下方显示代码片段建议。","snippetSuggestions.inline":"在其他建议中穿插显示代码片段建议。","snippetSuggestions.none":"不显示代码片段建议。",snippetSuggestions:"控制代码片段是否与其他建议一起显示及其排列的位置。",smoothScrolling:"控制编辑器是否在滚动时使用动画。",suggestFontSize:"建议小部件的字号。如果设置为 `0`，则使用 `#editor.fontSize#` 的值。",suggestLineHeight:"建议小部件的行高。如果设置为 `0`，则使用 `#editor.lineHeight#` 的值。最小值为 8。",suggestOnTriggerCharacters:"控制在键入触发字符后是否自动显示建议。","suggestSelection.first":"始终选择第一个建议。","suggestSelection.recentlyUsed":"选择最近的建议，除非进一步键入选择其他项。例如 `console. -> console.log`，因为最近补全过 `log`。","suggestSelection.recentlyUsedByPrefix":"根据之前补全过的建议的前缀来进行选择。例如，`co -> console`、`con -> const`。",suggestSelection:"控制在建议列表中如何预先选择建议。","tabCompletion.on":"在按下 Tab 键时进行 Tab 补全，将插入最佳匹配建议。","tabCompletion.off":"禁用 Tab 补全。","tabCompletion.onlySnippets":'在前缀匹配时进行 Tab 补全。在 "quickSuggestions" 未启用时体验最好。',tabCompletion:"启用 Tab 补全。","unusualLineTerminators.auto":"自动删除异常的行终止符。","unusualLineTerminators.off":"忽略异常的行终止符。","unusualLineTerminators.prompt":"提示删除异常的行终止符。",unusualLineTerminators:"删除可能导致问题的异常行终止符。",useTabStops:"根据制表位插入和删除空格。",wordSeparators:"执行单词相关的导航或操作时作为单词分隔符的字符。","wordWrap.off":"永不换行。","wordWrap.on":"将在视区宽度处换行。","wordWrap.wordWrapColumn":"在 `#editor.wordWrapColumn#` 处折行。","wordWrap.bounded":"在视区宽度和 `#editor.wordWrapColumn#` 中的较小值处折行。",wordWrap:"控制折行的方式。",wordWrapColumn:"在 `#editor.wordWrap#` 为 `wordWrapColumn` 或 `bounded` 时，控制编辑器的折行列。","wrappingIndent.none":"没有缩进。折行从第 1 列开始。","wrappingIndent.same":"折行的缩进量与其父级相同。","wrappingIndent.indent":"折行的缩进量比其父级多 1。","wrappingIndent.deepIndent":"折行的缩进量比其父级多 2。",wrappingIndent:"控制折行的缩进。","wrappingStrategy.simple":"假定所有字符的宽度相同。这是一种快速算法，适用于等宽字体和某些字形宽度相等的文字(如拉丁字符)。","wrappingStrategy.advanced":"将包装点计算委托给浏览器。这是一个缓慢算法，可能会导致大型文件被冻结，但它在所有情况下都正常工作。",wrappingStrategy:"控制计算包裹点的算法。"},"vs/editor/common/view/editorColorRegistry":{lineHighlight:"光标所在行高亮内容的背景颜色。",lineHighlightBorderBox:"光标所在行四周边框的背景颜色。",rangeHighlight:"背景颜色的高亮范围，喜欢通过快速打开和查找功能。颜色不能不透明，以免隐藏底层装饰。",rangeHighlightBorder:"高亮区域边框的背景颜色。",symbolHighlight:"高亮显示符号的背景颜色，例如转到定义或转到下一个/上一个符号。颜色不能是不透明的，以免隐藏底层装饰。",symbolHighlightBorder:"高亮显示符号周围的边框的背景颜色。",caret:"编辑器光标颜色。",editorCursorBackground:"编辑器光标的背景色。可以自定义块型光标覆盖字符的颜色。",editorWhitespaces:"编辑器中空白字符的颜色。",editorIndentGuides:"编辑器缩进参考线的颜色。",editorActiveIndentGuide:"编辑器活动缩进参考线的颜色。",editorLineNumbers:"编辑器行号的颜色。",editorActiveLineNumber:"编辑器活动行号的颜色",deprecatedEditorActiveLineNumber:'"Id" 已被弃用，请改用 "editorLineNumber.activeForeground"。',editorRuler:"编辑器标尺的颜色。",editorCodeLensForeground:"编辑器 CodeLens 的前景色",editorBracketMatchBackground:"匹配括号的背景色",editorBracketMatchBorder:"匹配括号外框的颜色",editorOverviewRulerBorder:"概览标尺边框的颜色。",editorOverviewRulerBackground:"编辑器概述标尺的背景色。仅当缩略图已启用且置于编辑器右侧时才使用。",editorGutter:"编辑器导航线的背景色。导航线包括边缘符号和行号。",unnecessaryCodeBorder:"编辑器中不必要(未使用)的源代码的边框颜色。",unnecessaryCodeOpacity:'非必须(未使用)代码的在编辑器中显示的不透明度。例如，"#000000c0" 将以 75% 的不透明度显示代码。对于高对比度主题，请使用 ”editorUnnecessaryCode.border“ 主题来为非必须代码添加下划线，以避免颜色淡化。',overviewRulerRangeHighlight:"用于突出显示范围的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",overviewRuleError:"概览标尺中错误标记的颜色。",overviewRuleWarning:"概览标尺中警告标记的颜色。",overviewRuleInfo:"概览标尺中信息标记的颜色。"},"vs/editor/common/model/editStack":{edit:"输入"},"vs/editor/browser/controller/coreCommands":{stickydesc:"即使转到较长的行，也一直到末尾"},"vs/editor/browser/widget/codeEditorWidget":{"cursors.maximum":"光标数量被限制为 {0}。"},"vs/editor/browser/widget/diffEditorWidget":{diffInsertIcon:"差异编辑器中插入项的线条修饰。",diffRemoveIcon:"差异编辑器中删除项的线条修饰。","diff.tooLarge":"文件过大，无法比较。"},"vs/editor/common/standaloneStrings":{noSelection:"无选择",singleSelectionRange:"行 {0}, 列 {1} (选中 {2})",singleSelection:"行 {0}, 列 {1}",multiSelectionRange:"{0} 选择(已选择 {1} 个字符)",multiSelection:"{0} 选择",emergencyConfOn:'现在将 "辅助功能支持" 设置更改为 "打开"。',openingDocs:"现在正在打开“编辑器辅助功能”文档页。",readonlyDiffEditor:"在差异编辑器的只读窗格中。",editableDiffEditor:"在一个差异编辑器的窗格中。",readonlyEditor:"在只读代码编辑器中",editableEditor:"在代码编辑器中",changeConfigToOnMac:"若要配置编辑器，将其进行优化以最好地配合屏幕阅读器的使用，请立即按 Command+E。",changeConfigToOnWinLinux:"若要配置编辑器，将其进行优化以最高效地配合屏幕阅读器的使用，按下 Ctrl+E。",auto_on:"配置编辑器，将其进行优化以最好地配合屏幕读取器的使用。",auto_off:"编辑器被配置为永远不进行优化以配合屏幕读取器的使用, 而当前不是这种情况。",tabFocusModeOnMsg:"在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。通过按 {0} 切换此行为。",tabFocusModeOnMsgNoKb:"在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。当前无法通过按键绑定触发命令 {0}。",tabFocusModeOffMsg:"在当前编辑器中按 Tab 将插入制表符。通过按 {0} 切换此行为。",tabFocusModeOffMsgNoKb:"在当前编辑器中按 Tab 会插入制表符。当前无法通过键绑定触发命令 {0}。",openDocMac:"现在按 Command+H 打开一个浏览器窗口, 其中包含有关编辑器辅助功能的详细信息。",openDocWinLinux:"现在按 Ctrl+H 打开一个浏览器窗口, 其中包含有关编辑器辅助功能的更多信息。",outroMsg:"你可以按 Esc 或 Shift+Esc 消除此工具提示并返回到编辑器。",showAccessibilityHelpAction:"显示辅助功能帮助",inspectTokens:"开发人员: 检查令牌",gotoLineActionLabel:"转到行/列...",helpQuickAccess:"显示所有快速访问提供程序",quickCommandActionLabel:"命令面板",quickCommandActionHelp:"显示并运行命令",quickOutlineActionLabel:"转到符号...",quickOutlineByCategoryActionLabel:"按类别转到符号...",editorViewAccessibleLabel:"编辑器内容",accessibilityHelpMessage:"按 Alt+F1 可打开辅助功能选项。",toggleHighContrast:"切换高对比度主题",bulkEditServiceSummary:"在 {1} 个文件中进行了 {0} 次编辑"},"vs/editor/common/config/commonEditorConfig":{editorConfigurationTitle:"编辑器",tabSize:"一个制表符等于的空格数。在 `#editor.detectIndentation#` 启用时，根据文件内容，该设置可能会被覆盖。",insertSpaces:"按 `Tab` 键时插入空格。该设置在 `#editor.detectIndentation#` 启用时根据文件内容可能会被覆盖。",detectIndentation:"控制是否在打开文件时，基于文件内容自动检测 `#editor.tabSize#` 和 `#editor.insertSpaces#`。",trimAutoWhitespace:"删除自动插入的尾随空白符号。",largeFileOptimizations:"对大型文件进行特殊处理，禁用某些内存密集型功能。",wordBasedSuggestions:"控制是否根据文档中的文字计算自动完成列表。","wordBasedSuggestionsMode.currentDocument":"仅建议活动文档中的字词。","wordBasedSuggestionsMode.matchingDocuments":"建议使用同一语言的所有打开的文档中的字词。","wordBasedSuggestionsMode.allDocuments":"建议所有打开的文档中的字词。",wordBasedSuggestionsMode:"控制通过什么文档计算基于字词的完成数。","semanticHighlighting.true":"对所有颜色主题启用语义突出显示。","semanticHighlighting.false":"对所有颜色主题禁用语义突出显示。","semanticHighlighting.configuredByTheme":'语义突出显示是由当前颜色主题的 "semanticHighlighting" 设置配置的。',"semanticHighlighting.enabled":"控制是否为支持它的语言显示语义突出显示。",stablePeek:"在速览编辑器中，即使双击其中的内容或者按 `Esc` 键，也保持其打开状态。",maxTokenizationLineLength:"由于性能原因，超过这个长度的行将不会被标记",maxComputationTime:"超时(以毫秒为单位)，之后将取消差异计算。使用0表示没有超时。",sideBySide:"控制差异编辑器的显示方式是并排还是内联。",ignoreTrimWhitespace:"启用后，差异编辑器将忽略前导空格或尾随空格中的更改。",renderIndicators:"控制差异编辑器是否为添加/删除的更改显示 +/- 指示符号。",codeLens:"控制是否在编辑器中显示 CodeLens。","wordWrap.off":"永不换行。","wordWrap.on":"将在视区宽度处换行。","wordWrap.inherit":"将根据 `#editor.wordWrap#` 设置换行。"},"vs/editor/browser/widget/diffReview":{diffReviewInsertIcon:"差异评审中的“插入”图标。",diffReviewRemoveIcon:"差异评审中的“删除”图标。",diffReviewCloseIcon:"差异评审中的“关闭”图标。","label.close":"关闭",no_lines_changed:"未更改行",one_line_changed:"更改了 1 行",more_lines_changed:"更改了 {0} 行",header:"差异 {0}/ {1}: 原始行 {2}，{3}，修改后的行 {4}，{5}",blankLine:"空白",unchangedLine:"{0} 未更改的行 {1}",equalLine:"{0}原始行{1}修改的行{2}",insertLine:"+ {0}修改的行{1}",deleteLine:"- {0}原始行{1}","editor.action.diffReview.next":"转至下一个差异","editor.action.diffReview.prev":"转至上一个差异"},"vs/editor/browser/widget/inlineDiffMargin":{"diff.clipboard.copyDeletedLinesContent.label":"复制已删除的行","diff.clipboard.copyDeletedLinesContent.single.label":"复制已删除的行","diff.clipboard.copyDeletedLineContent.label":"复制已删除的行({0})","diff.inline.revertChange.label":"还原此更改"},"vs/editor/browser/controller/textAreaHandler":{editor:"编辑器",accessibilityOffAriaLabel:"现在无法访问编辑器。按 {0} 获取选项。"},"vs/editor/contrib/clipboard/clipboard":{miCut:"剪切(&&T)","actions.clipboard.cutLabel":"剪切",miCopy:"复制(&&C)","actions.clipboard.copyLabel":"复制",miPaste:"粘贴(&&P)","actions.clipboard.pasteLabel":"粘贴","actions.clipboard.copyWithSyntaxHighlightingLabel":"复制并突出显示语法"},"vs/editor/contrib/anchorSelect/anchorSelect":{selectionAnchor:"选择定位点",anchorSet:"定位点设置为 {0}:{1}",setSelectionAnchor:"设置选择定位点",goToSelectionAnchor:"转到选择定位点",selectFromAnchorToCursor:"选择从定位点到光标",cancelSelectionAnchor:"取消选择定位点"},"vs/editor/contrib/bracketMatching/bracketMatching":{overviewRulerBracketMatchForeground:"概览标尺上表示匹配括号的标记颜色。","smartSelect.jumpBracket":"转到括号","smartSelect.selectToBracket":"选择括号所有内容",miGoToBracket:"转到括号(&&B)"},"vs/editor/contrib/caretOperations/caretOperations":{"caret.moveLeft":"向左移动所选文本","caret.moveRight":"向右移动所选文本"},"vs/editor/contrib/caretOperations/transpose":{"transposeLetters.label":"转置字母"},"vs/editor/contrib/codelens/codelensController":{showLensOnLine:"显示当前行的 Code Lens 命令"},"vs/editor/contrib/comment/comment":{"comment.line":"切换行注释",miToggleLineComment:"切换行注释(&&T)","comment.line.add":"添加行注释","comment.line.remove":"删除行注释","comment.block":"切换块注释",miToggleBlockComment:"切换块注释(&&B)"},"vs/editor/contrib/contextmenu/contextmenu":{"action.showContextMenu.label":"显示编辑器上下文菜单"},"vs/editor/contrib/cursorUndo/cursorUndo":{"cursor.undo":"光标撤消","cursor.redo":"光标重做"},"vs/editor/contrib/find/findController":{startFindAction:"查找",miFind:"查找(&&F)",startFindWithSelectionAction:"查找选定内容",findNextMatchAction:"查找下一个",findPreviousMatchAction:"查找上一个",nextSelectionMatchFindAction:"查找下一个选择",previousSelectionMatchFindAction:"查找上一个选择",startReplace:"替换",miReplace:"替换(&&R)"},"vs/editor/contrib/folding/folding":{"unfoldAction.label":"展开","unFoldRecursivelyAction.label":"以递归方式展开","foldAction.label":"折叠","toggleFoldAction.label":"切换折叠","foldRecursivelyAction.label":"以递归方式折叠","foldAllBlockComments.label":"折叠所有块注释","foldAllMarkerRegions.label":"折叠所有区域","unfoldAllMarkerRegions.label":"展开所有区域","foldAllAction.label":"全部折叠","unfoldAllAction.label":"全部展开","foldLevelAction.label":"折叠级别 {0}",foldBackgroundBackground:"折叠范围后面的背景颜色。颜色必须设为透明，以免隐藏底层装饰。","editorGutter.foldingControlForeground":"编辑器装订线中折叠控件的颜色。"},"vs/editor/contrib/fontZoom/fontZoom":{"EditorFontZoomIn.label":"放大编辑器字体","EditorFontZoomOut.label":"缩小编辑器字体","EditorFontZoomReset.label":"重置编辑器字体大小"},"vs/editor/contrib/format/formatActions":{"formatDocument.label":"格式化文档","formatSelection.label":"格式化选定内容"},"vs/editor/contrib/gotoSymbol/goToCommands":{"peek.submenu":"快速查看","def.title":"定义",noResultWord:"未找到“{0}”的任何定义","generic.noResults":"找不到定义","actions.goToDecl.label":"转到定义",miGotoDefinition:"转到定义(&&D)","actions.goToDeclToSide.label":"打开侧边的定义","actions.previewDecl.label":"速览定义","decl.title":"声明","decl.noResultWord":"未找到“{0}”的声明","decl.generic.noResults":"未找到声明","actions.goToDeclaration.label":"转到声明",miGotoDeclaration:'转到"声明"(&&D)',"actions.peekDecl.label":"查看声明","typedef.title":"类型定义","goToTypeDefinition.noResultWord":"未找到“{0}”的类型定义","goToTypeDefinition.generic.noResults":"未找到类型定义","actions.goToTypeDefinition.label":"转到类型定义",miGotoTypeDefinition:"转到类型定义(&&T)","actions.peekTypeDefinition.label":"快速查看类型定义","impl.title":"实现","goToImplementation.noResultWord":"未找到“{0}”的实现","goToImplementation.generic.noResults":"未找到实现","actions.goToImplementation.label":"转到实现",miGotoImplementation:"跳转到实现(&&I)","actions.peekImplementation.label":"查看实现","references.no":'未找到"{0}"的引用',"references.noGeneric":"未找到引用","goToReferences.label":"转到引用",miGotoReference:"转到引用(&&R)","ref.title":"引用","references.action.label":"查看引用","label.generic":"转到任何符号","generic.title":"位置","generic.noResult":"无“{0}”的结果"},"vs/editor/contrib/hover/hover":{showHover:"显示悬停",showDefinitionPreviewHover:"显示定义预览悬停"},"vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition":{multipleResults:"单击显示 {0} 个定义。"},"vs/editor/contrib/gotoError/gotoError":{"markerAction.next.label":"转到下一个问题 (错误、警告、信息)",nextMarkerIcon:"“转到下一个”标记的图标。","markerAction.previous.label":"转到上一个问题 (错误、警告、信息)",previousMarkerIcon:"“转到上一个”标记的图标。","markerAction.nextInFiles.label":"转到文件中的下一个问题 (错误、警告、信息)",miGotoNextProblem:"下一个问题(&&P)","markerAction.previousInFiles.label":"转到文件中的上一个问题 (错误、警告、信息)",miGotoPreviousProblem:"上一个问题(&&P)"},"vs/editor/contrib/indentation/indentation":{indentationToSpaces:"将缩进转换为空格",indentationToTabs:"将缩进转换为制表符",configuredTabSize:"已配置制表符大小",selectTabWidth:"选择当前文件的制表符大小",indentUsingTabs:'使用 "Tab" 缩进',indentUsingSpaces:"使用空格缩进",detectIndentation:"从内容中检测缩进方式","editor.reindentlines":"重新缩进行","editor.reindentselectedlines":"重新缩进所选行"},"vs/editor/contrib/inPlaceReplace/inPlaceReplace":{"InPlaceReplaceAction.previous.label":"替换为上一个值","InPlaceReplaceAction.next.label":"替换为下一个值"},"vs/editor/contrib/linesOperations/linesOperations":{"lines.copyUp":"向上复制行",miCopyLinesUp:"向上复制行(&&C)","lines.copyDown":"向下复制行",miCopyLinesDown:"向下复制一行(&&P)",duplicateSelection:"重复选择",miDuplicateSelection:"重复选择(&&D)","lines.moveUp":"向上移动行",miMoveLinesUp:"向上移动一行(&&V)","lines.moveDown":"向下移动行",miMoveLinesDown:"向下移动一行(&&L)","lines.sortAscending":"按升序排列行","lines.sortDescending":"按降序排列行","lines.trimTrailingWhitespace":"裁剪尾随空格","lines.delete":"删除行","lines.indent":"行缩进","lines.outdent":"行减少缩进","lines.insertBefore":"在上面插入行","lines.insertAfter":"在下面插入行","lines.deleteAllLeft":"删除左侧所有内容","lines.deleteAllRight":"删除右侧所有内容","lines.joinLines":"合并行","editor.transpose":"转置光标处的字符","editor.transformToUppercase":"转换为大写","editor.transformToLowercase":"转换为小写","editor.transformToTitlecase":"转换为词首字母大写"},"vs/editor/contrib/linkedEditing/linkedEditing":{"linkedEditing.label":"启动链接编辑",editorLinkedEditingBackground:"编辑器根据类型自动重命名时的背景色。"},"vs/editor/contrib/links/links":{"links.navigate.executeCmd":"执行命令","links.navigate.follow":"关注链接","links.navigate.kb.meta.mac":"cmd + 单击","links.navigate.kb.meta":"ctrl + 单击","links.navigate.kb.alt.mac":"option + 单击","links.navigate.kb.alt":"alt + 单击","tooltip.explanation":"执行命令 {0}","invalid.url":"此链接格式不正确，无法打开: {0}","missing.url":"此链接目标已丢失，无法打开。",label:"打开链接"},"vs/editor/contrib/multicursor/multicursor":{"mutlicursor.insertAbove":"在上面添加光标",miInsertCursorAbove:"在上面添加光标(&&A)","mutlicursor.insertBelow":"在下面添加光标",miInsertCursorBelow:"在下面添加光标(&&D)","mutlicursor.insertAtEndOfEachLineSelected":"在行尾添加光标",miInsertCursorAtEndOfEachLineSelected:"在行尾添加光标(&&U)","mutlicursor.addCursorsToBottom":"在底部添加光标","mutlicursor.addCursorsToTop":"在顶部添加光标",addSelectionToNextFindMatch:"将下一个查找匹配项添加到选择",miAddSelectionToNextFindMatch:"添加下一个匹配项(&&N)",addSelectionToPreviousFindMatch:"将选择内容添加到上一查找匹配项",miAddSelectionToPreviousFindMatch:"添加上一个匹配项(&&R)",moveSelectionToNextFindMatch:"将上次选择移动到下一个查找匹配项",moveSelectionToPreviousFindMatch:"将上个选择内容移动到上一查找匹配项",selectAllOccurrencesOfFindMatch:"选择所有找到的查找匹配项",miSelectHighlights:"选择所有匹配项(&&O)","changeAll.label":"更改所有匹配项"},"vs/editor/contrib/parameterHints/parameterHints":{"parameterHints.trigger.label":"触发参数提示"},"vs/editor/contrib/rename/rename":{"no result":"无结果。",resolveRenameLocationFailed:"解析重命名位置时发生未知错误",label:"正在重命名“{0}”",quotableLabel:"重命名 {0}",aria:"成功将“{0}”重命名为“{1}”。摘要: {2}","rename.failedApply":"重命名无法应用修改","rename.failed":"重命名无法计算修改","rename.label":"重命名符号",enablePreview:"启用/禁用重命名之前预览更改的功能"},"vs/editor/contrib/smartSelect/smartSelect":{"smartSelect.expand":"展开选择",miSmartSelectGrow:"展开选定内容(&&E)","smartSelect.shrink":"收起选择",miSmartSelectShrink:"缩小选定范围(&&S)"},"vs/editor/contrib/suggest/suggestController":{"aria.alert.snippet":"选择“{0}”后进行了其他 {1} 次编辑","suggest.trigger.label":"触发建议","accept.insert":"插入","accept.replace":"替换","detail.more":"显示更少","detail.less":"显示更多","suggest.reset.label":"重置建议小组件大小"},"vs/editor/contrib/tokenization/tokenization":{forceRetokenize:"开发人员: 强制重新进行标记"},"vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode":{"toggle.tabMovesFocus":"切换 Tab 键移动焦点","toggle.tabMovesFocus.on":"Tab 键将移动到下一可聚焦的元素","toggle.tabMovesFocus.off":"Tab 键将插入制表符"},"vs/editor/contrib/unusualLineTerminators/unusualLineTerminators":{"unusualLineTerminators.title":"异常行终止符","unusualLineTerminators.message":"检测到异常行终止符","unusualLineTerminators.detail":'此文件包含一个或多个异常的行终止符，例如行分隔符(LS)或段落分隔符(PS)。\r\n\r\n建议从文件中删除它们。可通过 "editor.unusualLineTerminators" 进行配置。',"unusualLineTerminators.fix":"修复此文件","unusualLineTerminators.ignore":"忽略此文件的问题"},"vs/editor/contrib/wordHighlighter/wordHighlighter":{wordHighlight:"读取访问期间符号的背景色，例如读取变量时。颜色必须透明，以免隐藏下面的修饰效果。",wordHighlightStrong:"写入访问过程中符号的背景色，例如写入变量时。颜色必须透明，以免隐藏下面的修饰效果。",wordHighlightBorder:"符号在进行读取访问操作时的边框颜色，例如读取变量。",wordHighlightStrongBorder:"符号在进行写入访问操作时的边框颜色，例如写入变量。",overviewRulerWordHighlightForeground:"用于突出显示符号的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",overviewRulerWordHighlightStrongForeground:"用于突出显示写权限符号的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。","wordHighlight.next.label":"转到下一个突出显示的符号","wordHighlight.previous.label":"转到上一个突出显示的符号","wordHighlight.trigger.label":"触发符号高亮"},"vs/editor/contrib/wordOperations/wordOperations":{deleteInsideWord:"删除 Word"},"vs/editor/contrib/quickAccess/gotoLineQuickAccess":{cannotRunGotoLine:"先打开文本编辑器然后跳转到行。",gotoLineColumnLabel:"转到第 {0} 行、第 {1} 列。",gotoLineLabel:"转到行 {0}。",gotoLineLabelEmptyWithLimit:"当前行: {0}，字符: {1}。键入要导航到的行号(介于 1 至 {2} 之间)。",gotoLineLabelEmpty:"当前行: {0}，字符: {1}。 键入要导航到的行号。"},"vs/editor/contrib/peekView/peekView":{"label.close":"关闭",peekViewTitleBackground:"速览视图标题区域背景颜色。",peekViewTitleForeground:"速览视图标题颜色。",peekViewTitleInfoForeground:"速览视图标题信息颜色。",peekViewBorder:"速览视图边框和箭头颜色。",peekViewResultsBackground:"速览视图结果列表背景色。",peekViewResultsMatchForeground:"速览视图结果列表中行节点的前景色。",peekViewResultsFileForeground:"速览视图结果列表中文件节点的前景色。",peekViewResultsSelectionBackground:"速览视图结果列表中所选条目的背景色。",peekViewResultsSelectionForeground:"速览视图结果列表中所选条目的前景色。",peekViewEditorBackground:"速览视图编辑器背景色。",peekViewEditorGutterBackground:"速览视图编辑器中装订线的背景色。",peekViewResultsMatchHighlight:"在速览视图结果列表中匹配突出显示颜色。",peekViewEditorMatchHighlight:"在速览视图编辑器中匹配突出显示颜色。",peekViewEditorMatchHighlightBorder:"在速览视图编辑器中匹配项的突出显示边框。"},"vs/editor/contrib/codeAction/codeActionCommands":{"args.schema.kind":"要运行的代码操作的种类。","args.schema.apply":"控制何时应用返回的操作。","args.schema.apply.first":"始终应用第一个返回的代码操作。","args.schema.apply.ifSingle":"如果仅返回的第一个代码操作，则应用该操作。","args.schema.apply.never":"不要应用返回的代码操作。","args.schema.preferred":"如果只应返回首选代码操作，则应返回控件。",applyCodeActionFailed:"应用代码操作时发生未知错误","quickfix.trigger.label":"快速修复...","editor.action.quickFix.noneMessage":"没有可用的代码操作","editor.action.codeAction.noneMessage.preferred.kind":'没有适用于"{0}"的首选代码操作',"editor.action.codeAction.noneMessage.kind":'没有适用于"{0}"的代码操作',"editor.action.codeAction.noneMessage.preferred":"没有可用的首选代码操作","editor.action.codeAction.noneMessage":"没有可用的代码操作","refactor.label":"重构...","editor.action.refactor.noneMessage.preferred.kind":'没有适用于"{0}"的首选重构',"editor.action.refactor.noneMessage.kind":'没有可用的"{0}"重构',"editor.action.refactor.noneMessage.preferred":"没有可用的首选重构","editor.action.refactor.noneMessage":"没有可用的重构操作","source.label":"源代码操作...","editor.action.source.noneMessage.preferred.kind":'没有适用于"{0}"的首选源操作',"editor.action.source.noneMessage.kind":"没有适用于“ {0}”的源操作","editor.action.source.noneMessage.preferred":"没有可用的首选源操作","editor.action.source.noneMessage":"没有可用的源代码操作","organizeImports.label":"整理 import 语句","editor.action.organize.noneMessage":"没有可用的整理 import 语句操作","fixAll.label":"全部修复","fixAll.noneMessage":"没有可用的“全部修复”操作","autoFix.label":"自动修复...","editor.action.autoFix.noneMessage":"没有可用的自动修复程序"},"vs/editor/contrib/find/findWidget":{findSelectionIcon:"编辑器查找小组件中的“在选定内容中查找”图标。",findCollapsedIcon:"用于指示编辑器查找小组件已折叠的图标。",findExpandedIcon:"用于指示编辑器查找小组件已展开的图标。",findReplaceIcon:"编辑器查找小组件中的“替换”图标。",findReplaceAllIcon:"编辑器查找小组件中的“全部替换”图标。",findPreviousMatchIcon:"编辑器查找小组件中的“查找上一个”图标。",findNextMatchIcon:"编辑器查找小组件中的“查找下一个”图标。","label.find":"查找","placeholder.find":"查找","label.previousMatchButton":"上一个匹配项","label.nextMatchButton":"下一个匹配项","label.toggleSelectionFind":"在选定内容中查找","label.closeButton":"关闭","label.replace":"替换","placeholder.replace":"替换","label.replaceButton":"替换","label.replaceAllButton":"全部替换","label.toggleReplaceButton":"切换替换模式","title.matchesCountLimit":"仅高亮了前 {0} 个结果，但所有查找操作均针对全文。","label.matchesLocation":"{1} 中的 {0}","label.noResults":"无结果",ariaSearchNoResultEmpty:"找到 {0}",ariaSearchNoResult:"为“{1}”找到 {0}",ariaSearchNoResultWithLineNum:"在 {2} 处找到“{1}”的 {0}",ariaSearchNoResultWithLineNumNoCurrentMatch:"为“{1}”找到 {0}","ctrlEnter.keybindingChanged":"Ctrl+Enter 现在由全部替换改为插入换行。你可以修改editor.action.replaceAll 的按键绑定以覆盖此行为。"},"vs/editor/contrib/folding/foldingDecorations":{foldingExpandedIcon:"编辑器字形边距中已展开的范围的图标。",foldingCollapsedIcon:"编辑器字形边距中已折叠的范围的图标。"},"vs/editor/contrib/format/format":{hint11:"在第 {0} 行进行了 1 次格式编辑",hintn1:"在第 {1} 行进行了 {0} 次格式编辑",hint1n:"第 {0} 行到第 {1} 行间进行了 1 次格式编辑",hintnn:"第 {1} 行到第 {2} 行间进行了 {0} 次格式编辑"},"vs/editor/contrib/message/messageController":{"editor.readonly":"无法在只读编辑器中编辑"},"vs/editor/contrib/gotoSymbol/peek/referencesController":{labelLoading:"正在加载...","metaTitle.N":"{0} ({1})"},"vs/editor/contrib/gotoSymbol/referencesModel":{"aria.oneReference":"在文件 {0} 的 {1} 行 {2} 列的符号","aria.oneReference.preview":"在文件 {0} 的 {1} 行 {2} 列的符号，{3}","aria.fileReferences.1":"{0} 中有 1 个符号，完整路径: {1}","aria.fileReferences.N":"{1} 中有 {0} 个符号，完整路径: {2}","aria.result.0":"未找到结果","aria.result.1":"在 {0} 中找到 1 个符号","aria.result.n1":"在 {1} 中找到 {0} 个符号","aria.result.nm":"在 {1} 个文件中找到 {0} 个符号"},"vs/editor/contrib/gotoSymbol/symbolNavigation":{"location.kb":"{1} 的符号 {0}，下一个使用 {2}",location:"{1} 的符号 {0}"},"vs/editor/contrib/hover/modesContentHover":{"modesContentHover.loading":"正在加载...","peek problem":"速览问题",noQuickFixes:"没有可用的快速修复",checkingForQuickFixes:"正在检查快速修复...","quick fixes":"快速修复..."},"vs/editor/contrib/gotoError/gotoErrorWidget":{Error:"错误",Warning:"警告",Info:"信息",Hint:"提示","marker aria":"{1} 中的 {0}",problems:"{0} 个问题(共 {1} 个)",change:"{0} 个问题(共 {1} 个)",editorMarkerNavigationError:"编辑器标记导航小组件错误颜色。",editorMarkerNavigationWarning:"编辑器标记导航小组件警告颜色。",editorMarkerNavigationInfo:"编辑器标记导航小组件信息颜色。",editorMarkerNavigationBackground:"编辑器标记导航小组件背景色。"},"vs/editor/contrib/parameterHints/parameterHintsWidget":{parameterHintsNextIcon:"“显示下一个参数”提示的图标。",parameterHintsPreviousIcon:"“显示上一个参数”提示的图标。",hint:"{0}，提示"},"vs/editor/contrib/rename/renameInputField":{renameAriaLabel:'重命名输入。键入新名称并按 "Enter" 提交。',label:"按 {0} 进行重命名，按 {1} 进行预览"},"vs/editor/contrib/suggest/suggestWidget":{editorSuggestWidgetBackground:"建议小组件的背景色。",editorSuggestWidgetBorder:"建议小组件的边框颜色。",editorSuggestWidgetForeground:"建议小组件的前景色。",editorSuggestWidgetSelectedBackground:"建议小组件中所选条目的背景色。",editorSuggestWidgetHighlightForeground:"建议小组件中匹配内容的高亮颜色。","suggestWidget.loading":"正在加载...","suggestWidget.noSuggestions":"无建议。",ariaCurrenttSuggestionReadDetails:"{0}，文档: {1}",suggest:"建议"},"vs/editor/contrib/quickAccess/gotoSymbolQuickAccess":{cannotRunGotoSymbolWithoutEditor:"要转到符号，首先打开具有符号信息的文本编辑器。",cannotRunGotoSymbolWithoutSymbolProvider:"活动文本编辑器不提供符号信息。",noMatchingSymbolResults:"没有匹配的编辑器符号",noSymbolResults:"没有编辑器符号",openToSide:"在侧边打开",openToBottom:"在底部打开",symbols:"符号({0})",property:"属性({0})",method:"方法({0})",function:"函数({0})",_constructor:"构造函数 ({0})",variable:"变量({0})",class:"类({0})",struct:"结构({0})",event:"事件({0})",operator:"运算符({0})",interface:"接口({0})",namespace:"命名空间({0})",package:"包({0})",typeParameter:"类型参数({0})",modules:"模块({0})",enum:"枚举({0})",enumMember:"枚举成员({0})",string:"字符串({0})",file:"文件({0})",array:"数组({0})",number:"数字({0})",boolean:"布尔值({0})",object:"对象({0})",key:"键({0})",field:"字段({0})",constant:"常量({0})"},"vs/editor/contrib/snippet/snippetVariables":{Sunday:"星期天",Monday:"星期一",Tuesday:"星期二",Wednesday:"星期三",Thursday:"星期四",Friday:"星期五",Saturday:"星期六",SundayShort:"周日",MondayShort:"周一",TuesdayShort:"周二",WednesdayShort:"周三",ThursdayShort:"周四",FridayShort:"周五",SaturdayShort:"周六",January:"一月",February:"二月",March:"三月",April:"四月",May:"5月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月",JanuaryShort:"1月",FebruaryShort:"2月",MarchShort:"3月",AprilShort:"4月",MayShort:"5月",JuneShort:"6月",JulyShort:"7月",AugustShort:"8月",SeptemberShort:"9月",OctoberShort:"10月",NovemberShort:"11 月",DecemberShort:"12月"},"vs/editor/contrib/documentSymbols/outlineTree":{"title.template":"{0} ({1})","1.problem":"此元素存在 1 个问题","N.problem":"此元素存在 {0} 个问题","deep.problem":"包含存在问题的元素",Array:"数组",Boolean:"布尔值",Class:"类",Constant:"常数",Constructor:"构造函数",Enum:"枚举",EnumMember:"枚举成员",Event:"事件",Field:"字段",File:"文件",Function:"函数",Interface:"接口",Key:"键",Method:"方法",Module:"模块",Namespace:"命名空间",Null:"Null",Number:"数字",Object:"对象",Operator:"运算符",Package:"包",Property:"属性",String:"字符串",Struct:"结构",TypeParameter:"类型参数",Variable:"变量","symbolIcon.arrayForeground":"数组符号的前景色。这些符号将显示在大纲、痕迹导航栏和建议小组件中。","symbolIcon.booleanForeground":"布尔符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.classForeground":"类符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.colorForeground":"颜色符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.constantForeground":"常量符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.constructorForeground":"构造函数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.enumeratorForeground":"枚举符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.enumeratorMemberForeground":"枚举器成员符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.eventForeground":"事件符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.fieldForeground":"字段符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.fileForeground":"文件符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.folderForeground":"文件夹符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.functionForeground":"函数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.interfaceForeground":"接口符号的前景色。这些符号将显示在大纲、痕迹导航栏和建议小组件中。","symbolIcon.keyForeground":"键符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.keywordForeground":"关键字符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.methodForeground":"方法符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.moduleForeground":"模块符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.namespaceForeground":"命名空间符号的前景颜色。这些符号出现在轮廓、痕迹导航栏和建议小部件中。","symbolIcon.nullForeground":"空符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.numberForeground":"数字符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.objectForeground":"对象符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.operatorForeground":"运算符符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.packageForeground":"包符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.propertyForeground":"属性符号的前景色。这些符号出现在大纲、痕迹导航栏和建议小组件中。","symbolIcon.referenceForeground":"参考符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.snippetForeground":"片段符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.stringForeground":"字符串符号的前景颜色。这些符号出现在轮廓、痕迹导航栏和建议小部件中。","symbolIcon.structForeground":"结构符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.textForeground":"文本符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.typeParameterForeground":"类型参数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.unitForeground":"单位符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","symbolIcon.variableForeground":"变量符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。"},"vs/editor/contrib/gotoSymbol/peek/referencesWidget":{missingPreviewMessage:"无可用预览",noResults:"无结果","peekView.alternateTitle":"引用"},"vs/editor/contrib/suggest/suggestWidgetDetails":{"details.close":"关闭",loading:"正在加载…"},"vs/editor/contrib/suggest/suggestWidgetStatus":{ddd:"{0} ({1})"},"vs/editor/contrib/suggest/suggestWidgetRenderer":{suggestMoreInfoIcon:"建议小组件中的详细信息的图标。",readMore:"了解详细信息"},"vs/editor/contrib/codeAction/lightBulbWidget":{prefferedQuickFixWithKb:"显示修复程序。首选可用修复程序 ({0})",quickFixWithKb:"显示修补程序({0})",quickFix:"显示修补程序"},"vs/editor/contrib/gotoSymbol/peek/referencesTree":{referencesCount:"{0} 个引用",referenceCount:"{0} 个引用",treeAriaLabel:"引用"},"vs/platform/environment/node/argvHelper":{unknownOption:'警告: "{0}"不在已知选项列表中，但仍传递给 Electron/Chromium。',multipleValues:'选项"{0}"定义多次。使用值"{1}"。',gotoValidation:'"--goto" 模式中的参数格式应为 "FILE(:LINE(:CHARACTER))"。'},"vs/platform/request/common/request":{httpConfigurationTitle:"HTTP",proxy:'要使用的代理设置。如果未设置，则将从 "http_proxy" 和 "https_proxy" 环境变量中继承。',strictSSL:"控制是否根据提供的 CA 列表验证代理服务器证书。",proxyAuthorization:'要作为每个网络请求的 "Proxy-Authorization" 标头发送的值。',proxySupportOff:"禁用对扩展的代理支持。",proxySupportOn:"为扩展启用代理支持。",proxySupportOverride:"为扩展启用代理支持，覆盖请求选项。",proxySupport:"对扩展使用代理支持。",systemCertificates:"控制是否应从操作系统加载 CA 证书。(在 Windows 和 macOS 上, 关闭此窗口后需要重新加载窗口)。"},"vs/platform/files/common/fileService":{invalidPath:'无法解析具有相对文件路径"{0}"的文件系统提供程序',noProviderFound:'未找到资源"{0}"的文件系统提供程序',fileNotFoundError:'无法解析不存在的文件"{0}"',fileExists:"如果未设置覆盖标记，则无法创建文件“{0}”，因为它已存在","err.write":'无法写入文件"{0}"({1})',fileIsDirectoryWriteError:'无法写入实际上是一个目录的文件"{0}"',fileModifiedError:"自以下时间已修改的文件:","err.read":"无法读取文件'{0}' ({1})",fileIsDirectoryReadError:'无法读取实际上是一个目录的文件"{0}"',fileNotModifiedError:"自以下时间未修改的文件:",fileTooLargeError:"无法读取文件“{0}”，该文件太大，无法打开",unableToMoveCopyError1:'当源"{0}"与目标"{1}"在不区分大小写的文件系统上具有不同路径大小写时，无法复制',unableToMoveCopyError2:'当源"{0}"是目标"{1}"的父级时，无法移动/复制。',unableToMoveCopyError3:'无法移动/复制"{0}"，因为目标"{1}"已存在于目标位置。',unableToMoveCopyError4:'无法将"{0}"移动/复制到"{1}"中，因为文件将替换包含该文件的文件夹。',mkdirExistsError:'无法创建已存在但不是目录的文件夹"{0}"',deleteFailedTrashUnsupported:'无法通过回收站删除文件"{0}"，因为提供程序不支持它。',deleteFailedNotFound:'无法删除不存在的文件"{0}"',deleteFailedNonEmptyFolder:"无法删除非空文件夹“{0}”。","err.readonly":'无法修改只读文件"{0}"'},"vs/platform/files/node/diskFileSystemProvider":{fileExists:"文件已存在",fileNotExists:"文件不存在",moveError:'无法将 "{0}" 移动到 "{1}" ({2}) 中。',copyError:'无法将 "{0}" 复制到 "{1}" ({2}) 中。',fileCopyErrorPathCase:"''文件不能复制到仅大小写不同的相同路径",fileCopyErrorExists:"目标处的文件已存在"},"vs/platform/files/common/files":{unknownError:"未知错误",sizeB:"{0} B",sizeKB:"{0} KB",sizeMB:"{0} MB",sizeGB:"{0} GB",sizeTB:"{0} TB"},"vs/platform/update/common/update.config.contribution":{updateConfigurationTitle:"更新",updateMode:"配置是否接收自动更新。更改后需要重新启动。更新是从微软在线服务获取的。",none:"禁用更新。",manual:"禁用自动后台更新检查。如果手动检查更新，更新将可用。",start:"仅在启动时检查更新。禁用自动后台更新检查。",default:"启用自动更新检查。代码将定期自动检查更新。",deprecated:"此设置已弃用，请改用“{0}”。",enableWindowsBackgroundUpdatesTitle:"在 Windows 上启用后台更新",enableWindowsBackgroundUpdates:"启用在 Windows 上后台下载和安装新的 VS Code 版本",showReleaseNotes:"在更新后显示发行说明。发行说明将从 Microsoft 联机服务中获取。"},"vs/platform/environment/node/argv":{optionsUpperCase:"选项",extensionsManagement:"扩展管理",troubleshooting:"故障排查",diff:"将两个文件相互比较。",add:"将文件夹添加到上一个活动窗口。",goto:"打开路径下的文件并定位到特定行和特定列。",newWindow:"强制打开新窗口。",reuseWindow:"强制在已打开的窗口中打开文件或文件夹。",wait:"等文件关闭后再返回。",locale:"要使用的区域设置(例如 en-US 或 zh-TW)。",userDataDir:"指定保存用户数据的目录。可用于打开多个不同的 Code 实例。",help:"打印使用情况。",extensionHomePath:"设置扩展的根路径。",listExtensions:"列出已安装的扩展。",showVersions:"使用 --list-extension 时，显示已安装扩展的版本。",category:"使用 --list-extension 按提供的类别筛选已安装的扩展。",installExtension:'安装或更新扩展。扩展的标识符始终为 `${publisher}.${name}`。使用 `--force` 参数更新到最新版本。要安装特定版本，请提供 `@${version}`，例如 "vscode.csharp@1.2.3"。',uninstallExtension:"卸载扩展。",experimentalApis:"为扩展启用实验性 API 功能。可以输入一个或多个扩展的 ID 来进行单独启用。",version:"打印版本。",verbose:"打印详细输出(表示 - 等待)。",log:'使用的日志级别。默认值为 "info"。允许的值为 "critical" (关键)、"error" (错误)、"warn" (警告)、"info" (信息)、"debug" (调试)、"trace" (跟踪) 和 "off" (关闭)。',status:"打印进程使用情况和诊断信息。","prof-startup":"启动期间运行 CPU 探查器",disableExtensions:"禁用所有已安装的扩展。",disableExtension:"禁用一个扩展。","turn sync":"打开或关闭同步","inspect-extensions":"允许调试和分析扩展。您可以在开发人员工具中找到连接 URI。","inspect-brk-extensions":"允许扩展宿主在启动后暂停时进行扩展的调试和分析。您可以在开发人员工具中找到连接 URI。",disableGPU:"禁用 GPU 硬件加速。",maxMemory:"单个窗口最大内存大小 (单位为 MB)。",telemetry:"显示 VS Code 收集的所有遥测事件。",usage:"使用情况",options:"选项",paths:"路径",stdinWindows:'要读取其他程序的输出，请追加 "-" (例如 "echo Hello World | {0} -\')',stdinUnix:'要从 stdin 中读取，请追加 "-" (例如 "ps aux | grep code | {0} -\')',unknownVersion:"未知版本",unknownCommit:"未知提交"},"vs/platform/extensionManagement/common/extensionManagement":{extensions:"扩展",preferences:"首选项"},"vs/platform/extensionManagement/node/extensionManagementService":{incompatible:"无法安装扩展“{0}”，因为它与 VS Code“{1}”不兼容。",restartCode:"请在重新安装{0}之前重新启动 VS Code。",MarketPlaceDisabled:"市场未启用","malicious extension":"无法安装此扩展，它被报告存在问题。",notFoundCompatibleDependency:"无法安装“{0}”扩展，因为它与 VS Code 的当前版本(版本 {1})不兼容。","Not a Marketplace extension":"只能重新安装商店中的扩展",removeError:"删除扩展时出错: {0}。请重启 VS Code，然后重试。",quitCode:"无法安装扩展。请在重启 VS Code 后重新安装。",exitCode:"无法安装扩展。请在重启 VS Code 后重新安装。",notInstalled:"未安装扩展“{0}”。",singleDependentError:"无法卸载扩展“{0}”。扩展“{1}”依赖于它。",twoDependentsError:"无法卸载扩展“{0}”。扩展“{1}”和“{2}”依赖于它。",multipleDependentsError:"无法卸载扩展“{0}”。“{1}”、“{2}”以及其他扩展都依赖于它。",singleIndirectDependentError:"无法卸载扩展“{0}”。该操作会一并卸载依赖于它的扩展“{1}”和“{2}”。",twoIndirectDependentsError:"无法卸载扩展“{0}”。该操作会一并卸载依赖于它的扩展“{1}”、“{2}”和“{3}”。",multipleIndirectDependentsError:"无法卸载扩展“{0}”。该操作会一并卸载依赖于它的扩展“{1}”、“{2}”、“{3}”和其他扩展。",notExists:"找不到扩展"},"vs/platform/telemetry/common/telemetryService":{telemetryConfigurationTitle:"遥测","telemetry.enableTelemetry":"将使用数据和错误发送到 Microsoft 联机服务。","telemetry.enableTelemetryMd":"实现将使用数据和错误发送到 Microsoft 联机服务。在 [此处] 阅读我们的隐私声明({0})。"},"vs/platform/extensionManagement/node/extensionManagementUtil":{invalidManifest:"VSIX 无效: package.json 不是 JSON 文件。"},"vs/platform/userDataSync/common/userDataSync":{"settings sync":"设置同步","settingsSync.keybindingsPerPlatform":"为每个平台同步键绑定。","sync.keybindingsPerPlatform.deprecated":"已弃用，改用 settingsSync.keybindingsPerPlatform","settingsSync.ignoredExtensions":'同步时要忽略的扩展列表。扩展的标识符始终为 "${publisher}.${name}"。例如: "vscode.csharp"。',"app.extension.identifier.errorMessage":'预期的格式 "${publisher}.${name}"。例如: "vscode.csharp"。',"sync.ignoredExtensions.deprecated":"已弃用，改用 settingsSync.ignoredExtensions","settingsSync.ignoredSettings":"配置在同步时要忽略的设置。","sync.ignoredSettings.deprecated":"已弃用，改用 settingsSync.ignoredSettings"},"vs/platform/extensionManagement/electron-sandbox/extensionTipsService":{exeRecommended:"你的系统上安装了 {0}。是否要为其安装推荐的扩展?"},"vs/platform/userDataSync/common/userDataSyncMachines":{"error incompatible":"无法读取计算机数据，因为当前版本不兼容。请更新 {0}，然后重试。"},"vs/platform/userDataSync/common/userDataAutoSyncService":{"default service changed":"默认服务已更改，因此无法同步","service changed":"同步服务已更改，因此无法同步","turned off":"无法同步，因为同步在云中已关闭","session expired":"无法同步，因为当前会话已过期","turned off machine":"无法同步，因为已从另一台计算机上关闭了此计算机上的同步。"},"vs/platform/workspaces/common/workspaces":{codeWorkspace:"Code 工作区"},"vs/platform/files/electron-browser/diskFileSystemProvider":{binFailed:"未能将“{0}”移动到回收站",trashFailed:"未能将“{0}”移动到废纸篓"},"vs/platform/dialogs/common/dialogs":{moreFile:"...1 个其他文件未显示",moreFiles:"...{0} 个其他文件未显示"},"vs/platform/theme/common/colorRegistry":{foreground:"整体前景色。此颜色仅在不被组件覆盖时适用。",errorForeground:"错误信息的整体前景色。此颜色仅在不被组件覆盖时适用。",descriptionForeground:"提供其他信息的说明文本的前景色，例如标签文本。",iconForeground:"工作台中图标的默认颜色。",focusBorder:"焦点元素的整体边框颜色。此颜色仅在不被其他组件覆盖时适用。",contrastBorder:"在元素周围额外的一层边框，用来提高对比度从而区别其他元素。",activeContrastBorder:"在活动元素周围额外的一层边框，用来提高对比度从而区别其他元素。",selectionBackground:"工作台所选文本的背景颜色(例如输入字段或文本区域)。注意，本设置不适用于编辑器。",textSeparatorForeground:"文字分隔符的颜色。",textLinkForeground:"文本中链接的前景色。",textLinkActiveForeground:"文本中链接在点击或鼠标悬停时的前景色 。",textPreformatForeground:"预格式化文本段的前景色。",textBlockQuoteBackground:"文本中块引用的背景颜色。",textBlockQuoteBorder:"文本中块引用的边框颜色。",textCodeBlockBackground:"文本中代码块的背景颜色。",widgetShadow:"编辑器内小组件(如查找/替换)的阴影颜色。",inputBoxBackground:"输入框背景色。",inputBoxForeground:"输入框前景色。",inputBoxBorder:"输入框边框。",inputBoxActiveOptionBorder:"输入字段中已激活选项的边框颜色。","inputOption.activeBackground":"输入字段中激活选项的背景颜色。","inputOption.activeForeground":"输入字段中已激活的选项的前景色。",inputPlaceholderForeground:"输入框中占位符的前景色。",inputValidationInfoBackground:"输入验证结果为信息级别时的背景色。",inputValidationInfoForeground:"输入验证结果为信息级别时的前景色。",inputValidationInfoBorder:"严重性为信息时输入验证的边框颜色。",inputValidationWarningBackground:"严重性为警告时输入验证的背景色。",inputValidationWarningForeground:"输入验证结果为警告级别时的前景色。",inputValidationWarningBorder:"严重性为警告时输入验证的边框颜色。",inputValidationErrorBackground:"输入验证结果为错误级别时的背景色。",inputValidationErrorForeground:"输入验证结果为错误级别时的前景色。",inputValidationErrorBorder:"严重性为错误时输入验证的边框颜色。",dropdownBackground:"下拉列表背景色。",dropdownListBackground:"下拉列表背景色。",dropdownForeground:"下拉列表前景色。",dropdownBorder:"下拉列表边框。","checkbox.background":"复选框小部件的背景颜色。","checkbox.foreground":"复选框小部件的前景色。","checkbox.border":"复选框小部件的边框颜色。",buttonForeground:"按钮前景色。",buttonBackground:"按钮背景色。",buttonHoverBackground:"按钮在悬停时的背景颜色。",buttonSecondaryForeground:"辅助按钮前景色。",buttonSecondaryBackground:"辅助按钮背景色。",buttonSecondaryHoverBackground:"悬停时的辅助按钮背景色。",badgeBackground:"Badge 背景色。Badge 是小型的信息标签，如表示搜索结果数量的标签。",badgeForeground:"Badge 前景色。Badge 是小型的信息标签，如表示搜索结果数量的标签。",scrollbarShadow:"表示视图被滚动的滚动条阴影。",scrollbarSliderBackground:"滚动条滑块背景色",scrollbarSliderHoverBackground:"滚动条滑块在悬停时的背景色",scrollbarSliderActiveBackground:"滚动条滑块在被点击时的背景色。",progressBarBackground:"表示长时间操作的进度条的背景色。","editorError.background":"编辑器中错误文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","editorError.foreground":"编辑器中错误波浪线的前景色。",errorBorder:"编辑器中错误框的边框颜色。","editorWarning.background":"编辑器中警告文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","editorWarning.foreground":"编辑器中警告波浪线的前景色。",warningBorder:"编辑器中警告框的边框颜色。","editorInfo.background":"编辑器中信息文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","editorInfo.foreground":"编辑器中信息波浪线的前景色。",infoBorder:"编辑器中信息框的边框颜色。","editorHint.foreground":"编辑器中提示波浪线的前景色。",hintBorder:"编辑器中提示框的边框颜色。",sashActiveBorder:"活动框格的边框颜色。",editorBackground:"编辑器背景色。",editorForeground:"编辑器默认前景色。",editorWidgetBackground:"编辑器组件(如查找/替换)背景颜色。",editorWidgetForeground:"编辑器小部件的前景色，如查找/替换。",editorWidgetBorder:"编辑器小部件的边框颜色。此颜色仅在小部件有边框且不被小部件重写时适用。",editorWidgetResizeBorder:"编辑器小部件大小调整条的边框颜色。此颜色仅在小部件有调整边框且不被小部件颜色覆盖时使用。",pickerBackground:"背景颜色快速选取器。快速选取器小部件是选取器(如命令调色板)的容器。",pickerForeground:"前景颜色快速选取器。快速选取器小部件是命令调色板等选取器的容器。",pickerTitleBackground:"标题背景颜色快速选取器。快速选取器小部件是命令调色板等选取器的容器。",pickerGroupForeground:"快速选取器分组标签的颜色。",pickerGroupBorder:"快速选取器分组边框的颜色。",editorSelectionBackground:"编辑器所选内容的颜色。",editorSelectionForeground:"用以彰显高对比度的所选文本的颜色。",editorInactiveSelection:"非活动编辑器中所选内容的颜色，颜色必须透明，以免隐藏下面的装饰效果。",editorSelectionHighlight:"具有与所选项相关内容的区域的颜色。颜色必须透明，以免隐藏下面的修饰效果。",editorSelectionHighlightBorder:"与所选项内容相同的区域的边框颜色。",editorFindMatch:"当前搜索匹配项的颜色。",findMatchHighlight:"其他搜索匹配项的颜色。颜色必须透明，以免隐藏下面的修饰效果。",findRangeHighlight:"限制搜索范围的颜色。颜色不能不透明，以免隐藏底层装饰。",editorFindMatchBorder:"当前搜索匹配项的边框颜色。",findMatchHighlightBorder:"其他搜索匹配项的边框颜色。",findRangeHighlightBorder:"限制搜索的范围的边框颜色。颜色必须透明，以免隐藏下面的修饰效果。","searchEditor.queryMatch":"搜索编辑器查询匹配的颜色。","searchEditor.editorFindMatchBorder":"搜索编辑器查询匹配的边框颜色。",hoverHighlight:"在下面突出显示悬停的字词。颜色必须透明，以免隐藏下面的修饰效果。",hoverBackground:"编辑器悬停提示的背景颜色。",hoverForeground:"编辑器悬停的前景颜色。",hoverBorder:"光标悬停时编辑器的边框颜色。",statusBarBackground:"编辑器悬停状态栏的背景色。",activeLinkForeground:"活动链接颜色。",editorLightBulbForeground:"用于灯泡操作图标的颜色。",editorLightBulbAutoFixForeground:"用于灯泡自动修复操作图标的颜色。",diffEditorInserted:"已插入的文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。",diffEditorRemoved:"已删除的文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。",diffEditorInsertedOutline:"插入的文本的轮廓颜色。",diffEditorRemovedOutline:"被删除文本的轮廓颜色。",diffEditorBorder:"两个文本编辑器之间的边框颜色。",diffDiagonalFill:"差异编辑器的对角线填充颜色。对角线填充用于并排差异视图。",listFocusBackground:"焦点项在列表或树活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listFocusForeground:"焦点项在列表或树活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listActiveSelectionBackground:"已选项在列表或树活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listActiveSelectionForeground:"已选项在列表或树活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listInactiveSelectionBackground:"已选项在列表或树非活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listInactiveSelectionForeground:"已选项在列表或树非活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listInactiveFocusBackground:"非活动的列表或树控件中焦点项的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。",listHoverBackground:"使用鼠标移动项目时，列表或树的背景颜色。",listHoverForeground:"鼠标在项目上悬停时，列表或树的前景颜色。",listDropBackground:"使用鼠标移动项目时，列表或树进行拖放的背景颜色。",highlight:"在列表或树中搜索时，其中匹配内容的高亮颜色。",invalidItemForeground:"列表或树中无效项的前景色，例如资源管理器中没有解析的根目录。",listErrorForeground:"包含错误的列表项的前景颜色。",listWarningForeground:"包含警告的列表项的前景颜色。",listFilterWidgetBackground:"列表和树中类型筛选器小组件的背景色。",listFilterWidgetOutline:"列表和树中类型筛选器小组件的轮廓颜色。",listFilterWidgetNoMatchesOutline:"当没有匹配项时，列表和树中类型筛选器小组件的轮廓颜色。",listFilterMatchHighlight:"筛选后的匹配项的背景颜色。",listFilterMatchHighlightBorder:"筛选后的匹配项的边框颜色。",treeIndentGuidesStroke:"缩进参考线的树描边颜色。",listDeemphasizedForeground:"取消强调的项目的列表/树前景颜色。",menuBorder:"菜单的边框颜色。",menuForeground:"菜单项的前景颜色。",menuBackground:"菜单项的背景颜色。",menuSelectionForeground:"菜单中选定菜单项的前景色。",menuSelectionBackground:"菜单中所选菜单项的背景色。",menuSelectionBorder:"菜单中所选菜单项的边框颜色。",menuSeparatorBackground:"菜单中分隔线的颜色。",snippetTabstopHighlightBackground:"代码片段 Tab 位的高亮背景色。",snippetTabstopHighlightBorder:"代码片段 Tab 位的高亮边框颜色。",snippetFinalTabstopHighlightBackground:"代码片段中最后的 Tab 位的高亮背景色。",snippetFinalTabstopHighlightBorder:"代码片段中最后的制表位的高亮边框颜色。",breadcrumbsFocusForeground:"焦点导航路径的颜色",breadcrumbsBackground:"导航路径项的背景色。",breadcrumbsSelectedForegound:"已选导航路径项的颜色。",breadcrumbsSelectedBackground:"导航路径项选择器的背景色。",mergeCurrentHeaderBackground:"当前标题背景的内联合并冲突。颜色不能不透明，以免隐藏底层装饰。",mergeCurrentContentBackground:"内联合并冲突中的当前内容背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeIncomingHeaderBackground:"内联合并冲突中的传入标题背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeIncomingContentBackground:"内联合并冲突中的传入内容背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeCommonHeaderBackground:"内联合并冲突中的常见祖先标头背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeCommonContentBackground:"内联合并冲突中的常见祖先内容背景。颜色必须透明，以免隐藏下面的修饰效果。",mergeBorder:"内联合并冲突中标头和分割线的边框颜色。",overviewRulerCurrentContentForeground:"内联合并冲突中当前版本区域的概览标尺前景色。",overviewRulerIncomingContentForeground:"内联合并冲突中传入的版本区域的概览标尺前景色。",overviewRulerCommonContentForeground:"内联合并冲突中共同祖先区域的概览标尺前景色。",overviewRulerFindMatchForeground:"用于查找匹配项的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",overviewRulerSelectionHighlightForeground:"用于突出显示所选内容的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。",minimapFindMatchHighlight:"用于查找匹配项的迷你地图标记颜色。",minimapSelectionHighlight:"编辑器选区在迷你地图中对应的标记颜色。",minimapError:"用于错误的迷你地图标记颜色。",overviewRuleWarning:"用于警告的迷你地图标记颜色。",minimapBackground:"迷你地图背景颜色。",minimapSliderBackground:"迷你地图滑块背景颜色。",minimapSliderHoverBackground:"悬停时，迷你地图滑块的背景颜色。",minimapSliderActiveBackground:"单击时，迷你地图滑块的背景颜色。",problemsErrorIconForeground:"用于问题错误图标的颜色。",problemsWarningIconForeground:"用于问题警告图标的颜色。",problemsInfoIconForeground:"用于问题信息图标的颜色。",chartsForeground:"图表中使用的前景颜色。",chartsLines:"用于图表中的水平线条的颜色。",chartsRed:"图表可视化效果中使用的红色。",chartsBlue:"图表可视化效果中使用的蓝色。",chartsYellow:"图表可视化效果中使用的黄色。",chartsOrange:"图表可视化效果中使用的橙色。",chartsGreen:"图表可视化效果中使用的绿色。",chartsPurple:"图表可视化效果中使用的紫色。"},"vs/platform/configuration/common/configurationRegistry":{"defaultLanguageConfigurationOverrides.title":"默认语言配置替代","defaultLanguageConfiguration.description":"配置要为 {0} 语言替代的设置。","overrideSettings.defaultDescription":"针对某种语言，配置替代编辑器设置。","overrideSettings.errorMessage":"此设置不支持按语言配置。","config.property.empty":"无法注册空属性","config.property.languageDefault":'无法注册“{0}”。其符合描述特定语言编辑器设置的表达式 "\\\\[.*\\\\]$"。请使用 "configurationDefaults"。',"config.property.duplicate":"无法注册“{0}”。此属性已注册。"},"vs/platform/markers/common/markers":{"sev.error":"错误","sev.warning":"警告","sev.info":"信息"},"vs/platform/windows/electron-main/windowsMainService":{pathNotExistTitle:"路径不存在",pathNotExistDetail:"磁盘上似乎不再存在路径“{0}”。",uriInvalidTitle:"无法打开 uri",uriInvalidDetail:"URI“{0}”无效，无法打开。",ok:"确定"},"vs/platform/issue/electron-main/issueMainService":{local:"本地",issueReporterWriteToClipboard:"数据太多，无法直接发送到 GitHub。数据将被复制到剪贴板，请将其粘贴到打开的 GitHub 问题页。",ok:"确定",cancel:"取消",confirmCloseIssueReporter:"您的输入将不会保存。确实要关闭此窗口吗？",yes:"是",issueReporter:"问题报告程序",processExplorer:"进程管理器"},"vs/platform/workspaces/electron-main/workspacesHistoryMainService":{newWindow:"新窗口",newWindowDesc:"打开新窗口",recentFolders:"最近使用的工作区",folderDesc:"{0} {1}",workspaceDesc:"{0} {1}",untitledWorkspace:"无标题(工作区)",workspaceName:"{0} (工作区)"},"vs/platform/workspaces/electron-main/workspacesMainService":{ok:"确定",workspaceOpenedMessage:"无法保存工作区“{0}”",workspaceOpenedDetail:"已在另一个窗口打开工作区。请先关闭该窗口，然后重试。"},"vs/platform/dialogs/electron-main/dialogs":{open:"打开",openFolder:"打开文件夹",openFile:"打开文件",openWorkspaceTitle:"打开工作区",openWorkspace:"打开(&&O)"},"vs/platform/files/common/io":{fileTooLargeForHeapError:"要打开此大小的文件, 您需要重新启动并允许它使用更多内存",fileTooLargeError:"文件太大，无法打开"},"vs/platform/extensions/common/extensionValidator":{versionSyntax:'无法解析 "engines.vscode" 的值 {0}。请改为如 ^1.22.0, ^1.22.x 等。',versionSpecificity1:'"engines.vscode" ({0}) 中指定的版本不够具体。对于 1.0.0 之前的 vscode 版本，请至少定义主要和次要想要的版本。例如: ^0.10.0、0.10.x、0.11.0 等。',versionSpecificity2:'"engines.vscode" ({0}) 中指定的版本不够具体。对于 1.0.0 之后的 vscode 版本，请至少定义主要想要的版本。例如: ^1.10.0、1.10.x、1.x.x、2.x.x 等。',versionMismatch:"扩展与 Code {0} 不兼容。扩展需要: {1}。"},"vs/platform/extensionManagement/node/extensionsScanner":{errorDeleting:"安装扩展“{1}”时无法删除现有文件夹“{0}”。请手动删除此文件夹，然后重试","cannot read":"无法从 {0} 读取扩展",renameError:"将 {0} 重命名为 {1} 时发生未知错误",invalidManifest:"扩展无效: package.json 不是 JSON 文件。"},"vs/platform/userDataSync/common/keybindingsSync":{errorInvalidSettings:"无法同步键绑定，因为文件中的内容无效。请打开文件并进行更正。"},"vs/platform/userDataSync/common/settingsSync":{errorInvalidSettings:"无法同步设置，因为设置文件中存在错误/警告。"},"vs/platform/list/browser/listService":{workbenchConfigurationTitle:"工作台","multiSelectModifier.ctrlCmd":"映射为 `Ctrl` (Windows 和 Linux) 或 `Command` (macOS)。","multiSelectModifier.alt":"映射为 `Alt` (Windows 和 Linux) 或 `Option` (macOS)。",multiSelectModifier:"在通过鼠标多选树和列表条目时使用的修改键 (例如“资源管理器”、“打开的编辑器”和“源代码管理”视图)。“在侧边打开”功能所需的鼠标动作 (若可用) 将会相应调整，不与多选修改键冲突。",openModeModifier:"控制在树和列表中怎样使用鼠标来展开子项(若支持)。对于树中的父节点，此设置将控制是使用单击还是双击来展开。注意，某些不适用于此设置的树或列表可能会忽略此项。 ","horizontalScrolling setting":"控制列表和树是否支持工作台中的水平滚动。警告: 打开此设置影响会影响性能。","tree indent setting":"控制树缩进(以像素为单位)。","render tree indent guides":"控制树是否应呈现缩进参考线。","list smoothScrolling setting":"控制列表和树是否具有平滑滚动。","keyboardNavigationSettingKey.simple":"简单键盘导航聚焦与键盘输入相匹配的元素。仅对前缀进行匹配。","keyboardNavigationSettingKey.highlight":"高亮键盘导航会突出显示与键盘输入相匹配的元素。进一步向上和向下导航将仅遍历突出显示的元素。","keyboardNavigationSettingKey.filter":"筛选器键盘导航将筛选出并隐藏与键盘输入不匹配的所有元素。",keyboardNavigationSettingKey:"控制工作台中的列表和树的键盘导航样式。它可为“简单”、“突出显示”或“筛选”。","automatic keyboard navigation setting":"控制列表和树中的键盘导航是否仅通过键入自动触发。如果设置为 `false` ，键盘导航只在执行 `list.toggleKeyboardNavigation` 命令时触发，您可以为该命令指定键盘快捷方式。","expand mode":"控制单击文件夹名称时如何展开树文件夹。"},"vs/platform/undoRedo/common/undoRedoService":{externalRemoval:"以下文件已关闭并且已在磁盘上修改: {0}。",noParallelUniverses:"以下文件已以不兼容的方式修改: {0}。",cannotWorkspaceUndo:"无法在所有文件中撤消“{0}”。{1}",cannotWorkspaceUndoDueToChanges:"无法撤消所有文件的“{0}”，因为已更改 {1}",cannotWorkspaceUndoDueToInProgressUndoRedo:"无法跨所有文件撤销“{0}”，因为 {1} 上已有一项撤消或重做操作正在运行",cannotWorkspaceUndoDueToInMeantimeUndoRedo:"无法跨所有文件撤销“{0}”，因为同时发生了一项撤消或重做操作",confirmWorkspace:"是否要在所有文件中撤消“{0}”?",ok:"在 {0} 个文件中撤消",nok:"撤消此文件",cancel:"取消",cannotResourceUndoDueToInProgressUndoRedo:"无法撤销“{0}”，因为已有一项撤消或重做操作正在运行。",confirmDifferentSource:"是否要撤消“{0}”?","confirmDifferentSource.ok":"撤消",cannotWorkspaceRedo:"无法在所有文件中重做“{0}”。{1}",cannotWorkspaceRedoDueToChanges:"无法对所有文件重做“{0}”，因为已更改 {1}",cannotWorkspaceRedoDueToInProgressUndoRedo:"无法跨所有文件重做“{0}”，因为 {1} 上已有一项撤消或重做操作正在运行",cannotWorkspaceRedoDueToInMeantimeUndoRedo:"无法跨所有文件重做“{0}”，因为同时发生了一项撤消或重做操作",cannotResourceRedoDueToInProgressUndoRedo:"无法重做“{0}”，因为已有一项撤消或重做操作正在运行。"},"vs/platform/actions/browser/menuEntryActionViewItem":{titleAndKb:"{0} ({1})"},"vs/platform/theme/common/iconRegistry":{"iconDefintion.fontId":"要使用的字体的 ID。如果未设置，则使用最先定义的字体。","iconDefintion.fontCharacter":"与图标定义关联的字体字符。",widgetClose:"小组件中“关闭”操作的图标。",previousChangeIcon:"“转到上一个编辑器位置”图标。",nextChangeIcon:"“转到下一个编辑器位置”图标。"},"vs/platform/menubar/electron-main/menubar":{miNewWindow:"新建窗口(&&W)",mFile:"文件(&&F)",mEdit:"编辑(&&E)",mSelection:"选择(&&S)",mView:"查看(&&V)",mGoto:"转到(&&G)",mRun:"运行(&&R)",mTerminal:"终端(&&T)",mWindow:"窗口",mHelp:"帮助(&&H)",mAbout:"关于 {0}",miPreferences:"首选项(&&P)",mServices:"服务",mHide:"隐藏 {0}",mHideOthers:"隐藏其他",mShowAll:"全部显示",miQuit:"退出 {0}",mMinimize:"最小化",mZoom:"缩放",mBringToFront:"全部置于顶层",miSwitchWindow:"切换窗口(&&W)...",mNewTab:"新建标签页",mShowPreviousTab:"显示上一个选项卡",mShowNextTab:"显示下一个选项卡",mMoveTabToNewWindow:"移动标签页到新窗口",mMergeAllWindows:"合并所有窗口",miCheckForUpdates:"检查更新(&&U)...",miCheckingForUpdates:"正在检查更新...",miDownloadUpdate:"下载可用更新(&&O)",miDownloadingUpdate:"正在下载更新...",miInstallUpdate:"安装更新(&&U)...",miInstallingUpdate:"正在安装更新...",miRestartToUpdate:"重新启动以更新(&&U)"},"vs/platform/userDataSync/common/abstractSynchronizer":{incompatible:"无法同步 {0}，因为它的本地版本 {1} 与其远程版本 {2} 不兼容","incompatible sync data":"无法分析同步数据，因为它与当前版本不兼容。"},"vs/platform/keybinding/common/abstractKeybindingService":{"first.chord":"({0})已按下。正在等待按下第二个键...","missing.chord":"组合键({0}，{1})不是命令。"},"vs/platform/quickinput/browser/helpQuickAccess":{globalCommands:"全局命令",editorCommands:"编辑器命令",helpPickAriaLabel:"{0}, {1}"},"vs/platform/theme/common/tokenClassificationRegistry":{"schema.token.settings":"标记的颜色和样式。","schema.token.foreground":"标记的前景色。","schema.token.background.warning":"暂不支持标记背景色。","schema.token.fontStyle":"设置规则的所有字形:“倾斜”、“粗体”、“下划线”或字形组合。所有未列出的样式都取消设置。空字符串将取消设置所有样式。","schema.fontStyle.error":"字体样式必须是“斜体”、“粗体”、“下划线”或者它们的组合。 空字符串将取消设置所有样式。","schema.token.fontStyle.none":"无 (清除继承的设置)","schema.token.bold":'将字形设置为粗体或取消粗体设置。请注意，如果存在 "fontStyle"，则会替代此设置。',"schema.token.italic":'将字形设置为倾斜或取消倾斜设置。请注意，如果存在 "fontStyle"，则会替代此设置。',"schema.token.underline":'将字形设置为下划线或取消下划线设置。请注意，如果存在 "fontStyle"，则会替代此设置。',comment:"注释的样式。",string:"字符串的样式。",keyword:"关键字的样式。",number:"数字样式。",regexp:"表达式的样式。",operator:"运算符的样式。",namespace:"命名空间的样式。",type:"类型的样式。",struct:"结构样式。",class:"类样式。",interface:"接口样式。",enum:"枚举的样式。",typeParameter:"类型参数的样式。",function:"函数样式",member:"成员函数的样式",method:"成员(成员函数)的样式",macro:"宏样式。",variable:"变量的样式。",parameter:"参数样式。",property:"属性的样式。",enumMember:"枚举成员的样式。",event:"事件的样式。",labels:"文本样式",declaration:"所有符号声明的样式。",documentation:"用于文档中引用的样式。",static:"用于静态符号的样式。",abstract:"用于抽象符号的样式。",deprecated:"用于已弃用的符号的样式。",modification:"用于写入访问的样式。",async:"用于异步的符号的样式。",readonly:"用于只读符号的样式。"},"vs/platform/quickinput/browser/commandsQuickAccess":{commandPickAriaLabelWithKeybinding:"{0}, {1}",recentlyUsed:"最近使用",morecCommands:"其他命令",canNotRun:'命令"{0}"导致错误 ({1})'},"win32/i18n/Default":{SetupAppTitle:"设置",SetupWindowTitle:"安装程序 - %1",UninstallAppTitle:"卸载",UninstallAppFullTitle:"%1 卸载",InformationTitle:"信息",ConfirmTitle:"确认",ErrorTitle:"错误",SetupLdrStartupMessage:"这将安装 %1。是否要继续?",LdrCannotCreateTemp:"无法创建临时文件。安装程序已中止",LdrCannotExecTemp:"无法在临时目录中执行文件。安装程序已中止",LastErrorMessage:"%1。%n%n错误 %2: %3",SetupFileMissing:"安装目录缺失文件 %1。请更正该问题或获取该问题的新副本。",SetupFileCorrupt:"安装程序文件夹已损坏。请获取该程序的新副本。",SetupFileCorruptOrWrongVer:"安装程序文件夹已损坏或与此安装程序版本不兼容。请更正该问题或获取该程序的新副本。",InvalidParameter:"命令行 %n%n%1 上传递了一个无效参数",SetupAlreadyRunning:"安装程序已在运行。",WindowsVersionNotSupported:"此程序不支持你计算机正运行的 Windows 版本。",WindowsServicePackRequired:"此程序需要 %1 服务包 %2 或更高版本。",NotOnThisPlatform:"此程序将不在 %1 上运行。",OnlyOnThisPlatform:"此程序必须在 %1 上运行。",OnlyOnTheseArchitectures:"此程序仅可安装在为以下处理器体系结构设计的 Windows 版本上:%n%n%1",MissingWOW64APIs:"你正运行的 Windows 版本不包含安装程序执行 64 位安装所需的功能。要更正此问题，请安装服务包 %1。",WinVersionTooLowError:"此程序需要 %1 版本 %2 或更高版本。",WinVersionTooHighError:"此程序不能安装在 %1 版本 %2 或更高的版本上。",AdminPrivilegesRequired:"在安装此程序时必须作为管理员登录。",PowerUserPrivilegesRequired:"安装此程序时必须以管理员或 Power User 组成员身份登录。",SetupAppRunningError:"安装程序检测到 %1 当前正在运行。%n%n请立即关闭它的所有实例，然后单击“确定”以继续，或单击“取消”以退出。",UninstallAppRunningError:"卸载检测到 %1 当前正在运行。%n%n请立即关闭它的所有实例，然后单击“确定”以继续或单击“取消”以退出。",ErrorCreatingDir:"安装程序无法创建目录“%1”",ErrorTooManyFilesInDir:"无法在目录“%1”中创建文件，因为它包含太多文件",ExitSetupTitle:"退出安装程序",ExitSetupMessage:"安装程序未完成。如果立即退出，将不会安装该程序。%n%n可在其他时间再次运行安装程序以完成安装。%n%n是否退出安装程序?",AboutSetupMenuItem:"关于安装程序(&A)...",AboutSetupTitle:"关于安装程序",AboutSetupMessage:"%1 版本 %2%n%3%n%n%1 主页:%n%4",ButtonBack:"< 返回(&B)",ButtonNext:"下一步(&N) >",ButtonInstall:"安装(&I)",ButtonOK:"确定",ButtonCancel:"取消",ButtonYes:"是(&Y)",ButtonYesToAll:"接受全部(&A)",ButtonNo:"否(&N)",ButtonNoToAll:"否定全部(&O)",ButtonFinish:"完成(&F)",ButtonBrowse:"浏览(&B)...",ButtonWizardBrowse:"浏览(&R)...",ButtonNewFolder:"新建文件夹(&M)",SelectLanguageTitle:"选择安装程序语言",SelectLanguageLabel:"选择安装时要使用的语言:",ClickNext:"单击“下一步”以继续，或单击“取消”以退出安装程序。",BrowseDialogTitle:"浏览文件夹",BrowseDialogLabel:"在以下列表中选择一个文件夹，然后单击“确定”。",NewFolderName:"新建文件夹",WelcomeLabel1:"欢迎使用 [name] 安装向导",WelcomeLabel2:"这将在计算机上安装 [name/ver]。%n%n建议关闭所有其他应用程序再继续。",WizardPassword:"密码",PasswordLabel1:"此安装受密码保护。",PasswordLabel3:"请提供密码，然后单击“下一步”以继续。密码区分大小写。",PasswordEditLabel:"密码(&P):",IncorrectPassword:"输入的密码不正确。请重试。",WizardLicense:"许可协议",LicenseLabel:"请阅读下面的重要信息，然后继续。",LicenseLabel3:"请阅读以下许可协议。必须接受此协议条款才可继续安装。",LicenseAccepted:"我接受协议(&A)",LicenseNotAccepted:"我不接受协议(&D)",WizardInfoBefore:"信息",InfoBeforeLabel:"请阅读下面的重要信息，然后继续。",InfoBeforeClickLabel:"当准备好继续执行安装程序时，单击“下一步”。",WizardInfoAfter:"信息",InfoAfterLabel:"请阅读下面的重要信息，然后继续。",InfoAfterClickLabel:"当准备好继续执行安装程序时，单击“下一步”。",WizardUserInfo:"用户信息",UserInfoDesc:"请输入您的信息。",UserInfoName:"用户名(&U):",UserInfoOrg:"组织(&O):",UserInfoSerial:"序列号(&S):",UserInfoNameRequired:"必须输入名称。",WizardSelectDir:"选择目标位置",SelectDirDesc:"应将 [name] 安装到哪里?",SelectDirLabel3:"安装程序会将 [name] 安装到以下文件夹。",SelectDirBrowseLabel:"若要继续，单击“下一步”。如果想选择其他文件夹，单击“浏览”。",DiskSpaceMBLabel:"需要至少 [mb] MB 可用磁盘空间。",CannotInstallToNetworkDrive:"安装程序无法安装到网络驱动器。",CannotInstallToUNCPath:"安装程序无法安装到 UNC 路径。",InvalidPath:"必须输入带驱动器号的完整路径(例如:%n%nC:\\APP%n%n)或以下格式的 UNC 路径:%n%n\\\\server\\share",InvalidDrive:"所选驱动器或 UNC 共享不存在或不可访问。请另外选择。",DiskSpaceWarningTitle:"磁盘空间不足",DiskSpaceWarning:"安装程序需要至少 %1 KB 可用空间来安装，但所选驱动器仅有 %2 KB 可用空间。%n%n是否仍要继续?",DirNameTooLong:"文件夹名称或路径太长。",InvalidDirName:"文件夹名称无效。",BadDirName32:"文件夹名不能包含以下任一字符:%n%n%1",DirExistsTitle:"文件夹存在",DirExists:"文件夹:%n%n%1%n%n已存在。是否仍要安装到该文件夹?",DirDoesntExistTitle:"文件夹不存在",DirDoesntExist:"文件夹:%n%n%1%n%n不存在。是否要创建该文件夹?",WizardSelectComponents:"选择组件",SelectComponentsDesc:"应安装哪些组件?",SelectComponentsLabel2:"选择希望安装的组件；清除不希望安装的组件。准备就绪后单击“下一步”以继续。",FullInstallation:"完全安装",CompactInstallation:"简洁安装",CustomInstallation:"自定义安装",NoUninstallWarningTitle:"组件存在",NoUninstallWarning:"安装程序检测到计算机上已安装以下组件:%n%n%1%n%n取消选择这些组件将不会卸载它们。%n%n是否仍要继续?",ComponentSize1:"%1 KB",ComponentSize2:"%1 MB",ComponentsDiskSpaceMBLabel:"当前选择需要至少 [mb] MB 磁盘空间。",WizardSelectTasks:"选择其他任务",SelectTasksDesc:"应执行哪些其他任务?",SelectTasksLabel2:"选择安装 [name] 时希望安装程序来执行的其他任务，然后单击“下一步”。",WizardSelectProgramGroup:"选择开始菜单文件夹",SelectStartMenuFolderDesc:"安装程序应将程序的快捷方式放置到哪里?",SelectStartMenuFolderLabel3:"安装程序将在以下开始菜单文件夹中创建该程序的快捷方式。",SelectStartMenuFolderBrowseLabel:"若要继续，单击“下一步”。如果想选择其他文件夹，单击“浏览”。",MustEnterGroupName:"必须输入文件夹名称。",GroupNameTooLong:"文件夹名称或路径太长。",InvalidGroupName:"文件夹名称无效。",BadGroupName:"文件夹名不能保护以下任一字符:%n%n%1",NoProgramGroupCheck2:"不创建开始菜单文件夹(&D)",WizardReady:"安装准备就绪",ReadyLabel1:"安装程序现已准备好在计算机上安装 [name]。",ReadyLabel2a:'单击“安装”以继续安装，如想查看或更改任何设置则单击"返回"。',ReadyLabel2b:"单击“安装”以继续安装。",ReadyMemoUserInfo:"用户信息:",ReadyMemoDir:"目标位置:",ReadyMemoType:"安装程序类型:",ReadyMemoComponents:"所选组件:",ReadyMemoGroup:"开始菜单文件夹:",ReadyMemoTasks:"其他任务:",WizardPreparing:"正在准备安装",PreparingDesc:"安装程序正准备在计算机上安装 [name]。",PreviousInstallNotCompleted:"上一个程序的安装/删除未完成。需重启计算机以完成该安装。%n%n重启计算机后，重新运行安装程序以完成 [name] 的安装。",CannotContinue:"安装程序无法继续。请单击“取消”以退出。",ApplicationsFound:"以下应用程序正在使用需要通过安装程序进行更新的文件。建议允许安装程序自动关闭这些应用程序。",ApplicationsFound2:"以下应用程序正在使用需要通过安装程序进行更新的文件。建议允许安装程序自动关闭这些应用程序。完成安装后，安装程序将尝试重启应用程序。",CloseApplications:"自动关闭应用程序(&A)",DontCloseApplications:"不关闭应用程序(&D)",ErrorCloseApplications:"安装程序无法自动关闭所有应用程序。建议在继续操作之前先关闭所有使用需通过安装程序进行更新的文件的应用程序。",WizardInstalling:"正在安装",InstallingLabel:"安装程序正在计算机上安装 [name]，请稍等。",FinishedHeadingLabel:"完成 [name] 安装向导",FinishedLabelNoIcons:"安装程序已在计算机上完成安装 [name]。",FinishedLabel:"安装程序已在计算机上完成安装 [name]。选择安装的图标即可以启动应用程序。",ClickFinish:"单击“完成”退出安装程序。",FinishedRestartLabel:"要完成 [name] 的安装，安装程序必须重启计算机。是否要立即重启?",FinishedRestartMessage:"要完成 [name] 的安装，安装程序必须重启计算机。%n%n是否要立即重启?",ShowReadmeCheck:"是，我希望查看 README 文件",YesRadio:"是，立即重启计算机(&Y)",NoRadio:"否，我将稍后重启计算机(&N)",RunEntryExec:"运行 %1",RunEntryShellExec:"查看 %1",ChangeDiskTitle:"安装程序需要下一个磁盘",SelectDiskLabel2:"请插入磁盘 %1 并点击“确定”。%n%n如果此磁盘上的文件可在以下文件夹外的其他文件夹中找到，请输入正确路径或单击“浏览”。",PathLabel:"路径(&P):",FileNotInDir2:"在“%2”中无法定位文件“%1”。请插入正确的磁盘或选择其他文件夹。",SelectDirectoryLabel:"请指定下一个磁盘的位置。",SetupAborted:"安装程序未完成。%n%n请更正问题并重新运行安装程序。",EntryAbortRetryIgnore:"单击“重试”以再次尝试，单击“忽略”以继续，或单击“中止”以取消安装。",StatusClosingApplications:"正在关闭应用程序...",StatusCreateDirs:"正在创建目录...",StatusExtractFiles:"正在解压缩文件...",StatusCreateIcons:"正在创建快捷方式...",StatusCreateIniEntries:"正在创建 INI 项...",StatusCreateRegistryEntries:"正在创建注册表项...",StatusRegisterFiles:"正在注册文件...",StatusSavingUninstall:"正在保存卸载信息...",StatusRunProgram:"正在完成安装...",StatusRestartingApplications:"正在重启应用程序...",StatusRollback:"正在回退更改...",ErrorInternal2:"内部错误: %1",ErrorFunctionFailedNoCode:"%1 失败",ErrorFunctionFailed:"%1 失败；代码 %2",ErrorFunctionFailedWithMessage:"%1 失败；代码 %2。%n%3",ErrorExecutingProgram:"无法执行文件:%n%1",ErrorRegOpenKey:"打开注册表项时出错:%n%1\\%2",ErrorRegCreateKey:"创建注册表项时出错:%n%1\\%2",ErrorRegWriteKey:"写入注册表项时出错:%n%1\\%2",ErrorIniEntry:"在文件“%1”中创建 INI 项时出错。",FileAbortRetryIgnore:"单击“重试”以再次操作，单击“忽略”以跳过此文件(不建议此操作)，或单击“中止”以取消安装。",FileAbortRetryIgnore2:"单击“重试”以再次操作，单击“忽略”以继续(不建议此操作)，或单击“中止”以取消安装。",SourceIsCorrupted:"源文件已损坏",SourceDoesntExist:"源文件“%1”不存在",ExistingFileReadOnly:"现有文件被标记为只读状态。%n%n单击“重试”以删除只读特性并重试，单击“忽略”以跳过此文件，或单击“中止”以取消安装。",ErrorReadingExistingDest:"尝试读取现有文件时出错:",FileExists:"该文件已存在。%n%n是否要安装程序覆盖它?",ExistingFileNewer:"现有文件比安装程序正尝试安装的文件更新。建议保留现有文件。%n%n是否要保留现有文件?",ErrorChangingAttr:"尝试更改现有文件特性出错:",ErrorCreatingTemp:"尝试在目标目录创建文件时出错:",ErrorReadingSource:"尝试读取源文件时出错:",ErrorCopying:"尝试复制文件时出错:",ErrorReplacingExistingFile:"尝试替换现有文件时出错:",ErrorRestartReplace:"RestartReplace 失败:",ErrorRenamingTemp:"尝试在目标目录重命名文件时出错:",ErrorRegisterServer:"无法注册 DLL/OCX: %1",ErrorRegSvr32Failed:"RegSvr32 失败，退出代码为 %1",ErrorRegisterTypeLib:"无法注册类型库: %1",ErrorOpeningReadme:"尝试打开 README 文件时出错。",ErrorRestartingComputer:"安装程序无法重启计算机。请手动执行此操作。",UninstallNotFound:"文件“%1”不存在。无法安装。",UninstallOpenError:"无法打开文件“%1”。无法卸载",UninstallUnsupportedVer:"卸载日志“%1”的格式无法被此版本的卸载程序识别。无法卸载",UninstallUnknownEntry:"卸载日志中发现未知条目(%1)",ConfirmUninstall:"确实要完全删除 %1 吗? 将不会删除扩展和设置。",UninstallOnlyOnWin64:"仅可在 64 位 Windows 上卸载此安装。",OnlyAdminCanUninstall:"仅具有管理权限的用户才可卸载此安装。",UninstallStatusLabel:"正从计算机删除 %1，请稍等。",UninstalledAll:"已成功从计算机上删除 %1。",UninstalledMost:"%1 卸载完成。%n%n无法删除一些元素。可将其手动删除。",UninstalledAndNeedsRestart:"要完成 %1 的卸载，必须重启计算机。%n%n是否要立即重启?",UninstallDataCorrupted:"“%1”文件已损坏。无法卸载",ConfirmDeleteSharedFileTitle:"删除共享文件?",ConfirmDeleteSharedFile2:"系统表示以下共享文件不再被任何程序使用。是否要卸载删除此共享文件?%n%n如果在有程序仍在使用此文件而它被删除，则程序可能不会正常运行。如果不确定，请选择“否”。将文件留住系统上不会造成任何问题。",SharedFileNameLabel:"文件名:",SharedFileLocationLabel:"位置:",WizardUninstalling:"卸载状态",StatusUninstalling:"正在卸载 %1...",ShutdownBlockReasonInstallingApp:"正在安装 %1。",ShutdownBlockReasonUninstallingApp:"正在卸载 %1。",NameAndVersion:"%1 版本 %2",AdditionalIcons:"其他图标:",CreateDesktopIcon:"创建桌面图标(&D)",CreateQuickLaunchIcon:'创建 "快速启动" 图标(&Q)',ProgramOnTheWeb:"Web 上的 %1",UninstallProgram:"卸载 %1",LaunchProgram:"启动 %1",AssocFileExtension:"将 %1 与 %2 文件扩展名关联(&A)",AssocingFileExtension:"正将 %1 与 %2 文件扩展名关联...",AutoStartProgramGroupDescription:"启动:",AutoStartProgram:"自动启动 %1",AddonHostProgramNotFound:"无法在所选文件夹中定位 %1。%n%n是否仍要继续?"},"win32/i18n/messages":{FinishedLabel:"安装程序已在计算机上安装好 [name]。选择安装的快捷方式即可启动该应用程序。",ConfirmUninstall:"确定要完全删除 %1 及其所有组件?",AdditionalIcons:"其他图标:",CreateDesktopIcon:"创建桌面图标(&D)",CreateQuickLaunchIcon:'创建 "快速启动" 图标(&Q)',AddContextMenuFiles:"将“通过 %1 打开”操作添加到 Windows 资源管理器文件上下文菜单",AddContextMenuFolders:"将“通过 %1 打开”操作添加到 Windows 资源管理器目录上下文菜单",AssociateWithFiles:"将 %1 注册为受支持的文件类型的编辑器",AddToPath:"添加到 PATH (需要重启 shell)",RunAfter:"安装后运行 %1",Other:"其他:",SourceFile:"%1 源文件",OpenWithCodeContextMenu:"使用 %1 打开(&I)"},"vs/code/electron-main/main":{secondInstanceAdmin:"{0} 的第二个实例已经以管理员身份运行。",secondInstanceAdminDetail:"请先关闭另一个实例，然后重试。",secondInstanceNoResponse:"{0} 的另一实例正在运行但没有响应",secondInstanceNoResponseDetail:"请先关闭其他所有实例，然后重试。",startupDataDirError:"无法写入程序用户数据。",startupUserDataAndExtensionsDirErrorDetail:"请确保以下目录是可写的:\r\n\r\n{0}",close:"关闭(&C)"},"vs/code/node/cliProcessMain":{notFound:"找不到扩展“{0}”。",notInstalled:"未安装扩展“{0}”。",useId:"确认使用了包括发布者在内的完整扩展 ID，例如: {0}",installingExtensions:"正在安装扩展...","alreadyInstalled-checkAndUpdate":'已安装扩展 "{0}" v{1}。使用 "--force" 选项更新到最新版本，或提供 "@<version>" 以安装特定版本，例如: "{2}@1.2.3"。',alreadyInstalled:"已安装扩展“{0}”。","installation failed":"未能安装扩展: {0}",successVsixInstall:"已成功安装扩展“{0}”。",cancelVsixInstall:"已取消安装扩展“{0}”。",updateMessage:'将扩展 "{0}" 更新到版本 {1}',"installing builtin ":"正在安装内置扩展“{0}”v{1}…",installing:"正在安装扩展“{0}”v{1}...",successInstall:"已成功安装扩展“{0}”v{1}。",cancelInstall:"已取消安装扩展“{0}”。",forceDowngrade:'已安装扩展“{0}”v{1} 的较新版本。请使用 "--force" 选项降级到旧版本。',builtin:"扩展“{0}”是内置扩展，无法安装",forceUninstall:'用户已将扩展“{0}”标记为内置扩展。请使用 "--force" 选项将其卸载。',uninstalling:"正在卸载 {0}...",successUninstall:"已成功卸载扩展“{0}”!"},"vs/code/electron-sandbox/issue/issueReporterMain":{hide:"隐藏",show:"显示",previewOnGitHub:"在 GitHub 中预览",loadingData:"正在加载数据…",rateLimited:"超出 GitHub 查询限制。请稍候。",similarIssues:"类似的问题",open:"打开",closed:"已关闭",noSimilarIssues:"没有找到类似问题",bugReporter:"Bug 报告",featureRequest:"功能请求",performanceIssue:"性能问题",selectSource:"选择源",vscode:"Visual Studio Code",extension:"扩展",unknown:"不知道",stepsToReproduce:"重现步骤",bugDescription:"请分享能稳定重现此问题的必要步骤，并包含实际和预期的结果。我们支持 GitHub 版的 Markdown。您将能在 GitHub 上预览时编辑这个问题并添加截图。",performanceIssueDesciption:"这个性能问题是在什么时候发生的? 是在启动时，还是在一系列特定的操作之后? 我们支持 GitHub 版的 Markdown。您将能在 GitHub 上预览时编辑这个问题并添加截图。",description:"说明",featureRequestDescription:"请描述您希望能够使用的功能。我们支持 GitHub 版的 Markdown。您将能在 GitHub 上预览时编辑问题并添加截图。",pasteData:"所需的数据太大，无法直接发送。我们已经将其写入剪贴板，请粘贴。",disabledExtensions:"扩展已禁用",noCurrentExperiments:"无当前试验。"},"vs/code/electron-sandbox/processExplorer/processExplorerMain":{cpu:"CPU %",memory:"内存(MB)",pid:"PID",name:"名称",killProcess:"结束进程",forceKillProcess:"强制结束进程",copy:"复制",copyAll:"全部复制",debug:"调试"},"vs/code/electron-main/app":{"trace.message":"已成功创建跟踪信息。","trace.detail":"请创建问题并手动附加以下文件:\r\n{0}","trace.ok":"确定",open:"是(&Y)",cancel:"否(&&N)",confirmOpenMessage:"外部应用程序想要在 {1} 中打开“{0}”。是否要打开此文件或文件夹?",confirmOpenDetail:"如果你未发起此请求，则可能表示有人试图攻击你的系统。除非你采取了明确操作来发起此请求，否则应按“否”"},"vs/code/electron-sandbox/issue/issueReporterPage":{completeInEnglish:"请使用英文进行填写。",issueTypeLabel:"这是一个",issueSourceLabel:"提交到",issueSourceEmptyValidation:"问题源是必需的。",disableExtensionsLabelText:"请试着在{0}之后重现问题。如果此问题仅在扩展运行时才能重现，那么这可能是一个扩展的问题。",disableExtensions:"禁用所有扩展并重新加载窗口",chooseExtension:"扩展",extensionWithNonstandardBugsUrl:"问题报告程序无法为此扩展创建问题。请访问{0}报告问题。",extensionWithNoBugsUrl:"问题报告程序无法为此扩展创建问题，因为它没有指定用于报告问题的 URL。请查看此扩展的应用商店页面，以便查看是否有其他说明。",issueTitleLabel:"标题",issueTitleRequired:"请输入标题。",titleEmptyValidation:"标题是必需的。",titleLengthValidation:"标题太长。",details:"请输入详细信息。",descriptionEmptyValidation:"需要描述。",sendSystemInfo:"包含系统信息 ({0})",show:"显示",sendProcessInfo:"包含当前运行中的进程 ({0})",sendWorkspaceInfo:"包含工作区元数据 ({0})",sendExtensions:"包含已启用的扩展 ({0})",sendExperiments:"包括 A/B 试验信息({0}) "},"vs/code/electron-main/auth":{authRequire:"需要代理身份验证",proxyauth:"{0} 代理需要身份验证。"},"vs/code/electron-main/window":{reopen:"重新打开(&&R)",wait:"继续等待(&&K)",close:"关闭(&C)",appStalled:"窗口不再响应",appStalledDetail:"你可以重新打开或关闭窗口，或者保持等待。",appCrashedDetails:"窗口已崩溃(原因:“{0}”)",appCrashed:"窗口出现故障",appCrashedDetail:"我们对此引起的不便表示抱歉! 请重启该窗口从上次停止的位置继续。",hiddenMenuBar:"你仍可以通过 Alt 键访问菜单栏。"},"vs/workbench/electron-browser/actions/developerActions":{toggleSharedProcess:"切换共享进程"},"vs/workbench/electron-sandbox/desktop.contribution":{newTab:"新建窗口标签页",showPreviousTab:"显示上一个窗口选项卡",showNextWindowTab:"显示下一个窗口选项卡",moveWindowTabToNewWindow:"将窗口选项卡移动到新窗口",mergeAllWindowTabs:"合并所有窗口",toggleWindowTabsBar:"切换窗口选项卡栏",preferences:"首选项",miCloseWindow:"关闭窗口(&&W)",miExit:"退出(&&X)",miZoomIn:"放大(&&Z)",miZoomOut:"缩小(&&Z)",miZoomReset:"重置缩放(&&R)",miReportIssue:"使用英文报告问题(&&I)",miToggleDevTools:"切换开发人员工具(&&T)",miOpenProcessExplorerer:"打开进程管理器(&&P)",windowConfigurationTitle:"窗口","window.openWithoutArgumentsInNewWindow.on":"打开一个新的空窗口。","window.openWithoutArgumentsInNewWindow.off":"聚焦到上一活动的运行实例。",openWithoutArgumentsInNewWindow:"控制在启动不带参数的第二个实例时是应该打开一个新的空窗口，还是应由上一个运行的实例获得焦点。\r\n请注意，此设置可能会被忽略(例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。","window.reopenFolders.preserve":"始终重新打开所有窗口。如果打开文件夹或工作区(例如从命令行打开)，它将作为新窗口打开，除非它之前已打开。如果打开文件，则这些文件将在其中一个已还原的窗口中打开。","window.reopenFolders.all":"重新打开所有窗口，除非已打开文件夹、工作区或文件(例如从命令行)。","window.reopenFolders.folders":"重新打开已打开文件夹或工作区的所有窗口，除非已打开文件夹、工作区或文件(例如从命令行)。","window.reopenFolders.one":"重新打开上一个活动窗口，除非已打开文件夹、工作区或文件(例如从命令行)。","window.reopenFolders.none":"从不重新打开窗口。如果文件夹或工作区未打开(例如从命令行)，将出现一个空窗口。",restoreWindows:"控制在第一次启动后窗口重新打开的方式。如果应用程序已在运行，则此设置不起任何作用。",restoreFullscreen:"若窗口在处于全屏模式时退出，控制其在恢复时是否还原到全屏模式。",zoomLevel:"调整窗口的缩放级别。原始大小是 0，每次递增(例如 1)或递减(例如 -1)表示放大或缩小 20%。也可以输入小数以便以更精细的粒度调整缩放级别。","window.newWindowDimensions.default":"在屏幕中心打开新窗口。","window.newWindowDimensions.inherit":"以与上一个活动窗口相同的尺寸打开新窗口。","window.newWindowDimensions.offset":"打开与上次活动窗口具有相同尺寸的新窗口，并带有偏移位置。","window.newWindowDimensions.maximized":"打开最大化的新窗口。","window.newWindowDimensions.fullscreen":"在全屏模式下打开新窗口。",newWindowDimensions:"控制在已有窗口时新开窗口的尺寸。请注意，此设置对第一个打开的窗口无效。第一个窗口将始终恢复关闭前的大小和位置。",closeWhenEmpty:"控制在关闭最后一个编辑器时是否关闭整个窗口。此设置仅适用于没有显示文件夹的窗口。","window.doubleClickIconToClose":'如果启用, 双击标题栏中的应用程序图标将关闭窗口, 并且该窗口无法通过图标拖动。此设置仅在 "#window.titleBarStyle#" 设置为 "custom" 时生效。',titleBarStyle:"调整窗口标题栏的外观。在 Linux 和 Windows 上，此设置也会影响应用程序和上下文菜单的外观。更改需要完全重新启动才能应用。",dialogStyle:"调整对话框窗口的外观。","window.nativeTabs":"启用 macOS Sierra 窗口选项卡。请注意，更改在完全重新启动程序后才能生效。同时，开启原生选项卡将禁用自定义标题栏样式。","window.nativeFullScreen":"控制是否在 macOS 上使用原生全屏。禁用此设置可禁止 macOS 在全屏时创建新空间。","window.clickThroughInactive":"启用后，点击非活动窗口后将在激活窗口的同时触发光标之下的元素 (若可点击)。禁用后，点击非活动窗口仅能激活窗口，再次点击才能触发元素。","window.enableExperimentalProxyLoginDialog":"启用新的登录对话以实现代理身份验证。需要重启才能生效。",telemetryConfigurationTitle:"遥测","telemetry.enableCrashReporting":"将故障报告发送到 Microsoft 联机服务。\r\n此选项在重启后才能生效。",keyboardConfigurationTitle:"键盘","touchbar.enabled":"启用键盘上的 macOS 触控栏按钮 (若可用)。","touchbar.ignored":'触摸栏中不应显示的条目的一组标识符(例如"workbench.action.navigateBack")。',"argv.locale":"要使用的显示语言。选取其他语言需要安装关联的语言包。","argv.disableHardwareAcceleration":"禁用硬件加速。仅当遇到图形问题时才更改此选项。","argv.disableColorCorrectRendering":"解决颜色配置文件选择问题。仅当您遇到图形问题时，才更改此选项。","argv.forceColorProfile":'允许替代要使用的颜色配置文件。如果发现颜色显示不佳，请尝试将此设置为 "srgb" 并重启。',"argv.enableCrashReporter":"允许禁用崩溃报告；如果更改了值，则应重启应用。","argv.crashReporterId":"用于关联从此应用实例发送的崩溃报表的唯一 ID。","argv.enebleProposedApi":'为扩展 ID (如 "vscode.git")的列表启用建议的 API。建议的 API 不稳定，可能随时中断且不发出警告。仅应针对扩展开发和测试目的设置该项。',"argv.force-renderer-accessibility":"强制渲染器可访问。仅当在 Linux 上使用屏幕阅读器时才更改此设置。在其他平台上，渲染器将自动可访问。如果已启用 editor.accessibilitySupport:，则会自动设置此标志。"},"vs/workbench/common/actions":{view:"视图",help:"帮助",developer:"开发人员"},"vs/workbench/browser/workbench":{loaderErrorNative:"未能加载所需文件。请重启应用程序重试。详细信息: {0}"},"vs/workbench/electron-sandbox/window":{learnMode:"了解详细信息",shellEnvSlowWarning:"解析 shell 环境耗时太长。请检查 shell 配置。",shellEnvTimeoutError:"无法在合理的时间内解析 shell 环境。请检查 shell 配置。",proxyAuthRequired:"需要代理身份验证",loginButton:"登录(&&L)",cancelButton:"取消(&&C)",username:"用户名",password:"密码",proxyDetail:"代理 {0} 需要用户名和密码。",rememberCredentials:"记住我的凭据",runningAsRoot:"不建议以 root 用户身份运行 {0}。",mPreferences:"首选项"},"vs/workbench/common/theme":{tabActiveBackground:"活动选项卡的背景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedActiveBackground:"非焦点组中的活动选项卡背景色。选项卡是编辑器区域中编辑器的容器。可以在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabInactiveBackground:"非活动选项卡的背景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedInactiveBackground:"不带焦点的组中处于非活动状态的选项卡的背景色。选项卡是编辑器区域中的编辑器的容器。可在一个编辑器组中打开多个选项卡。可存在多个编辑器组。",tabActiveForeground:"活动组中活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabInactiveForeground:"活动组中非活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedActiveForeground:"一个失去焦点的编辑器组中的活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedInactiveForeground:"在一个失去焦点的组中非活动选项卡的前景色。在编辑器区域，选项卡是编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabHoverBackground:"选项卡被悬停时的背景色。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedHoverBackground:"非焦点组选项卡被悬停时的背景色。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabHoverForeground:"悬停时选项卡的前景色。选项卡是编辑器区域中的编辑器的容器。可在一个编辑器组中打开多个选项卡。可存在多个编辑器组。",tabUnfocusedHoverForeground:"悬停时不带焦点的组中的选项卡前景色。选项卡是编辑器区域中的编辑器的容器。可在一个编辑器组中打开多个选项卡。可存在多个编辑器组。",tabBorder:"用于将选项卡彼此分隔开的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",lastPinnedTabBorder:"用于将固定的选项卡与其他选项卡隔开的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabActiveBorder:"活动选项卡底部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabActiveUnfocusedBorder:"在失去焦点的编辑器组中的活动选项卡底部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabActiveBorderTop:"活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabActiveUnfocusedBorderTop:"在失去焦点的编辑器组中的活动选项卡顶部的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabHoverBorder:"选项卡被悬停时用于突出显示的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabUnfocusedHoverBorder:"非焦点组选项卡被悬停时用于突出显示的边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以有多个编辑器组。",tabActiveModifiedBorder:"在活动编辑器组中已修改 (存在更新) 的活动选项卡的顶部边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",tabInactiveModifiedBorder:"在活动编辑器组中已修改 (存在更新) 的非活动选项卡的顶部边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",unfocusedActiveModifiedBorder:"在未获焦点的编辑器组中已修改 (存在更新) 的活动选项卡的顶部边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",unfocusedINactiveModifiedBorder:"在未获焦点的编辑器组中已修改 (存在更新) 的非活动选项卡的顶部边框。选项卡是编辑器区域中编辑器的容器。可在一个编辑器组中打开多个选项卡。可以存在多个编辑器组。",editorPaneBackground:"居中编辑器布局中左侧与右侧编辑器窗格的背景色。",editorGroupBackground:"编辑器组的背景色。(已弃用)",deprecatedEditorGroupBackground:"已弃用: 在引入网格编辑器布局后，将不再支持编辑器组的背景色。请使用 editorGroup.emptyBackground 设置空编辑器组的背景色。",editorGroupEmptyBackground:"空编辑器组的背景色。编辑器组是编辑器的容器。",editorGroupFocusedEmptyBorder:"空编辑器组被聚焦时的边框颜色。编辑组是编辑器的容器。",tabsContainerBackground:"启用选项卡时编辑器组标题的背景颜色。编辑器组是编辑器的容器。",tabsContainerBorder:"选项卡启用时编辑器组标题的边框颜色。编辑器组是编辑器的容器。",editorGroupHeaderBackground:'禁用选项卡 ("workbench.editor.showTabs": false) 时编辑器组标题颜色。编辑器组是编辑器的容器。',editorTitleContainerBorder:"编辑器组标题标头的边框颜色。编辑器组是编辑器的容器。",editorGroupBorder:"将多个编辑器组彼此分隔开的颜色。编辑器组是编辑器的容器。",editorDragAndDropBackground:"拖动编辑器时的背景颜色。此颜色应有透明度，以便编辑器内容能透过背景。",imagePreviewBorder:"图像预览中图像的边框颜色。",panelBackground:"面板的背景色。面板显示在编辑器区域下方，可包含输出和集成终端等视图。",panelBorder:"将面板与编辑器隔开的边框的颜色。面板显示在编辑区域下方，包含输出和集成终端等视图。",panelActiveTitleForeground:"活动面板的标题颜色。面板显示在编辑器区域下方，并包含输出和集成终端等视图。",panelInactiveTitleForeground:"非活动面板的标题颜色。面板显示在编辑器区域下方，并包含输出和集成终端等视图。",panelActiveTitleBorder:"活动面板标题的边框颜色。面板显示在编辑器区域下方，并包含输出和集成终端等视图。",panelInputBorder:"用于面板中输入内容的输入框边框。",panelDragAndDropBorder:"拖放面板标题的反馈颜色。面板显示在编辑器区域的下方，包含输出和集成终端等视图。",panelSectionDragAndDropBackground:"拖放面板区域的反馈颜色。颜色应具有透明度，以便面板区域仍可以显示出来。面板显示在编辑器区域的下方，包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionHeaderBackground:"面板区域标题背景色。面板显示在编辑器区域的下方，包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionHeaderForeground:"面板区域标题前景色。面板显示在编辑器区域的下方，包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionHeaderBorder:"当多个视图在面板中垂直堆叠时使用的面板区域标题边框颜色。面板显示在编辑器区域下方，其中包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",panelSectionBorder:"当多个视图在面板中水平堆叠时使用的面板区域边框颜色。面板显示在编辑器区域下方，其中包含输出和集成终端等视图。面板部分是嵌套在面板中的视图。",statusBarForeground:"工作区打开时状态栏的前景色。状态栏显示在窗口底部。",statusBarNoFolderForeground:"没有打开文件夹时状态栏的前景色。状态栏显示在窗口底部。",statusBarBackground:"工作区打开时状态栏的背景色。状态栏显示在窗口底部。",statusBarNoFolderBackground:"没有打开文件夹时状态栏的背景色。状态栏显示在窗口底部。",statusBarBorder:"状态栏分隔侧边栏和编辑器的边框颜色。状态栏显示在窗口底部。",statusBarNoFolderBorder:"当没有打开文件夹时，用来使状态栏与侧边栏、编辑器分隔的状态栏边框颜色。状态栏显示在窗口底部。",statusBarItemActiveBackground:"单击时的状态栏项背景色。状态栏显示在窗口底部。",statusBarItemHoverBackground:"悬停时的状态栏项背景色。状态栏显示在窗口底部。",statusBarProminentItemForeground:'状态栏突出的项目前景色。突出的项目从其他状态栏条目中脱颖而出, 以表明重要性。从命令调色板中更改 "切换选项卡键移动焦点" 的模式以查看示例。状态栏显示在窗口的底部。',statusBarProminentItemBackground:"状态栏突出显示项的背景颜色。突出显示项比状态栏中的其他条目更醒目以表明其重要性。在命令面板中更改“切换 Tab 键是否移动焦点”可查看示例。状态栏显示在窗口底部。",statusBarProminentItemHoverBackground:"状态栏突出显示项在被悬停时的背景颜色。突出显示项比状态栏中的其他条目更醒目以表明其重要性。在命令面板中更改“切换 Tab 键是否移动焦点”可查看示例。状态栏显示在窗口底部。",statusBarErrorItemBackground:"状态栏错误项的背景颜色。错误项比状态栏中的其他条目更醒目以显示错误条件。状态栏显示在窗口底部。",statusBarErrorItemForeground:"状态错误项的前景色。错误项比状态栏中的其他条目更醒目以显示错误条件。状态栏显示在窗口底部。",activityBarBackground:"活动栏背景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarForeground:"活动栏项在活动时的前景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarInActiveForeground:"活动栏项在非活动时的前景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarBorder:"活动栏分隔侧边栏的边框颜色。活动栏显示在最左侧或最右侧，并可以切换侧边栏的视图。",activityBarActiveBorder:"活动项的活动栏边框颜色。活动栏显示在最左侧或右侧，并允许在侧栏视图之间切换。",activityBarActiveFocusBorder:"活动项的活动栏焦点边框颜色。活动栏显示在最左侧或右侧，并允许在侧栏视图之间切换。",activityBarActiveBackground:"活动项的活动栏背景颜色。活动栏显示在最左侧或右侧，并允许在侧栏视图之间切换。",activityBarDragAndDropBorder:"拖放活动栏项的反馈颜色。活动栏显示在最左侧或最右侧，并允许在侧边栏视图之间切换。",activityBarBadgeBackground:"活动通知徽章背景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",activityBarBadgeForeground:"活动通知徽章前景色。活动栏显示在最左侧或最右侧，并允许在侧边栏的视图间切换。",statusBarItemHostBackground:"状态栏上远程指示器的背景色。",statusBarItemHostForeground:"状态栏上远程指示器的前景色。","extensionBadge.remoteBackground":"扩展视图中远程徽标的背景色。","extensionBadge.remoteForeground":"扩展视图中远程徽标的前景色。",sideBarBackground:"侧边栏背景色。侧边栏是资源管理器和搜索等视图的容器。",sideBarForeground:"侧边栏前景色。侧边栏是资源管理器和搜索等视图的容器。",sideBarBorder:"侧边栏分隔编辑器的边框颜色。侧边栏包含资源管理器、搜索等视图。",sideBarTitleForeground:"侧边栏标题前景色。侧边栏是资源管理器和搜索等视图的容器。",sideBarDragAndDropBackground:"侧边栏中的部分在拖放时的反馈颜色。此颜色应有透明度，以便侧边栏中的部分仍能透过。侧边栏是资源管理器和搜索等视图的容器。侧边栏部分是嵌套在侧边栏中的视图。",sideBarSectionHeaderBackground:"侧边栏部分标题背景色。此侧边栏是资源管理器和搜索等视图的容器。侧边栏部分是在侧边栏中嵌套的视图。",sideBarSectionHeaderForeground:"侧边栏部分标题前景色。侧栏是类似资源管理器和搜索等视图的容器。侧栏部分是在侧栏中嵌套的视图。",sideBarSectionHeaderBorder:"侧边栏部分标题边界色。侧栏是类似资源管理器和搜索等视图的容器。侧栏部分是在侧栏中嵌套的视图。",titleBarActiveForeground:"窗口处于活动状态时的标题栏前景色。",titleBarInactiveForeground:"窗口处于非活动状态时的标题栏前景色。",titleBarActiveBackground:"窗口处于活动状态时的标题栏背景色。",titleBarInactiveBackground:"窗口处于非活动状态时的标题栏背景色。",titleBarBorder:"标题栏边框颜色。",menubarSelectionForeground:"菜单栏中选定菜单项的前景色。",menubarSelectionBackground:"菜单栏中选定菜单项的背景色。",menubarSelectionBorder:"菜单栏中所选菜单项的边框颜色。",notificationCenterBorder:"通知中心的边框颜色。通知从窗口右下角滑入。",notificationToastBorder:"通知横幅的边框颜色。通知从窗口右下角滑入。",notificationsForeground:"通知的前景色。通知从窗口右下角滑入。",notificationsBackground:"通知的背景色。通知从窗口右下角滑入。",notificationsLink:"通知链接的前景色。通知从窗口右下角滑入。",notificationCenterHeaderForeground:"通知中心头部的前景色。通知从窗口右下角滑入。",notificationCenterHeaderBackground:"通知中心头部的背景色。通知从窗口右下角滑入。",notificationsBorder:"通知中心中分隔通知的边框的颜色。通知从窗口右下角滑入。",notificationsErrorIconForeground:"用于错误通知图标的颜色。通知从窗口右下角滑入。",notificationsWarningIconForeground:"用于警告通知图标的颜色。通知从窗口右下角滑入。",notificationsInfoIconForeground:"用于信息通知图标的颜色。通知从窗口右下角滑入。",windowActiveBorder:"窗口处于活动状态时用于窗口边框的颜色。仅在使用自定义标题栏时在桌面客户端中支持。",windowInactiveBorder:"窗口处于非活动状态时用于边框的颜色。仅在使用自定义标题栏时在桌面客户端中支持。"},"vs/workbench/common/editor":{sideBySideLabels:"{0} - {1}",preview:"{0}，预览",pinned:"{0}，已固定"},"vs/workbench/common/views":{testViewIcon:"查看测试视图的图标。",defaultViewIcon:"默认视图图标。",duplicateId:"已注册 ID 为“{0}”的视图"},"vs/workbench/api/common/extHostExtensionService":{extensionTestError:"路径 {0} 未指向有效的扩展测试运行程序。"},"vs/workbench/api/common/extHostTerminalService":{"launchFail.idMissingOnExtHost":"在扩展主机上找不到 ID 为 {0} 的终端"},"vs/workbench/api/common/extHostWorkspace":{updateerror:"扩展“{0}”未能更新工作区文件夹: {1}"},"vs/workbench/browser/workbench.contribution":{"workbench.editor.titleScrollbarSizing.default":"默认大小。","workbench.editor.titleScrollbarSizing.large":"增加大小，以便更轻松地通过鼠标抓取",tabScrollbarHeight:"控制编辑器标题区域中用于选项卡和面包屑的滚动条的高度。",showEditorTabs:"控制打开的编辑器是否显示在选项卡中。",scrollToSwitchTabs:'控制在滚动到选项卡上方时是否打开这些选项卡。默认情况下，选项卡仅在鼠标滚动时呈现，但不打开。可通过在滚动时按住 Shift 键来更改滚动期间的此行为。当 "#workbench.editor.showTabs#" 设置为 "false" 时，将忽略此值。',highlightModifiedTabs:'控制是否在已修改的(脏)编辑器选项卡上绘制上边框。当 "#workbench.editor.showTabs#" 为 false 时，将忽略此值。',"workbench.editor.labelFormat.default":"显示文件名。当启用选项卡且在同一组内有两个相同名称的文件时，将添加每个文件路径中可以用于区分的部分。在选项卡被禁用且编辑器活动时，将显示相对于工作区文件夹的路径。","workbench.editor.labelFormat.short":"在文件的目录名之后显示文件名。","workbench.editor.labelFormat.medium":"在文件相对当前工作区文件夹的路径之后显示文件名。","workbench.editor.labelFormat.long":"在文件的绝对路径之后显示文件名。",tabDescription:"控制编辑器标签的格式。","workbench.editor.untitled.labelFormat.content":"无标题文件的名称派生自其第一行的内容，除非它有关联的文件路径。如果行为空或不包含单词字符，它将回退到名称。","workbench.editor.untitled.labelFormat.name":"无标题文件的名称不是从文件的内容派生的。",untitledLabelFormat:"控制无标题编辑器的标签格式。",editorTabCloseButton:'控制编辑器的选项卡关闭按钮的位置，或者在设置为“关”时禁用它们。当 "#workbench.editor.showTabs#" 为 "false" 时，将忽略此值。',"workbench.editor.tabSizing.fit":"始终将标签页保持足够大，能够完全显示编辑器标签。","workbench.editor.tabSizing.shrink":"在不能同时显示所有选项卡时，允许选项卡缩小。",tabSizing:'控制编辑器选项卡的大小调整。当 "#workbench.editor.showTabs#" 设置为 "false" 时，将忽略此值。',"workbench.editor.pinnedTabSizing.normal":"固定的选项卡会继承未固定的选项卡的外观。","workbench.editor.pinnedTabSizing.compact":"固定的选项卡将以紧凑形式显示，其中只包含图标或编辑器名称的第一个字母。","workbench.editor.pinnedTabSizing.shrink":"固定的选项卡缩小至紧凑的固定大小，显示编辑器名称的各部分。",pinnedTabSizing:'控制固定的编辑器选项卡的大小。固定的选项卡排在所有打开的选项卡的开头，并且在取消固定之前，通常不会关闭。当 "#workbench.editor.showTabs#" 为 "false" 时，将忽略此值。',"workbench.editor.splitSizingDistribute":"将所有编辑器组拆分为相等的部分。","workbench.editor.splitSizingSplit":"将活动编辑器组拆分为相等的部分。",splitSizing:"拆分编辑器组时控制编辑器组大小。",splitOnDragAndDrop:"通过将编辑器或文件放到编辑器区域的边缘，控制是否可以由拖放操作拆分编辑器组。",focusRecentEditorAfterClose:"控制是否按最常使用的顺序或从左到右的顺序关闭选项卡。",showIcons:"控制是否在打开的编辑器中显示图标。这要求同时启用文件图标主题。",enablePreview:"控制打开的编辑器是否显示为预览。预览编辑器不会保持打开，在将其显式设置为保持打开(例如通过双击或编辑)前将会重用它，其字体样式为斜体。",enablePreviewFromQuickOpen:"控制通过 Quick Open 打开的编辑器是否显示为预览。预览编辑器不会保持打开，在将其显式设置为保持打开(例如通过双击或编辑)前将会重用它。",closeOnFileDelete:"当文件被其他进程删除或重命名时，控制是否自动关闭在这个期间内打开了此文件的编辑器。若禁用此项，在这种情况下将保留编辑器。请注意，若从应用内部进行删除，将始终关闭编辑器，并且为了保护您的数据，已更新文件始终不会关闭。",editorOpenPositioning:"控制编辑器打开的位置。选择 `left` 或 `right` 可分别在当前活动编辑器的左侧或右侧打开。选择 `first` (最前) 或 `last` (最后) 打开的位置与当前活动编辑器无关。",sideBySideDirection:"控制编辑器在并排打开时 (比如从资源管理器) 出现的默认位置。默认在当前活动编辑器右侧打开。若更改为 `down`，则在当前活动编辑器下方打开。",closeEmptyGroups:"控制编辑器组中最后一个选项卡关闭时这个空组的行为。若启用，将自动关闭空组。若禁用，空组仍将保留在网格布局中。",revealIfOpen:"控制是否在打开的任何可见组中显示编辑器。如果禁用，编辑器将优先在当前活动的编辑器组中打开。如果启用，将会显示在已打开的编辑器，而不是在当前活动的编辑器组中再次打开。请注意，有些情况下会忽略此设置，例如，强制编辑器在特定组中打开或当前活动组的一侧时。",mouseBackForwardToNavigate:"使用鼠标按钮 4 和鼠标按钮 5 (如果提供)在打开的文件之间导航。",restoreViewState:"在重新打开已关闭的文本编辑器时，还原最后一个视图的状态 (如滚动位置)。",centeredLayoutAutoResize:"如果在居中布局中打开了超过一组编辑器，控制是否自动将宽度调整为最大宽度值。当回到只打开了一组编辑器的状态，将自动将宽度调整为原始的居中宽度值。",limitEditorsEnablement:"控制是否应限制打开的编辑器的数量。启用后，不脏的最近较少使用的编辑器将关闭，以便为新打开的编辑器腾出空间。",limitEditorsMaximum:'控制打开编辑器的最大数量。使用 "#workbench.editor.limit.perEditorGroup#" 设置控制每个编辑器组或跨所有组的限制。',perEditorGroup:"控制最大打开的编辑器的限制是否应应用于每个编辑器组或所有编辑器组。",commandHistory:"控制命令面板中保留最近使用命令的数量。设置为 0 时禁用命令历史功能。",preserveInput:"当再次打开命令面板时，控制是否恢复上一次输入的内容。",closeOnFocusLost:"控制 Quick Open 是否在其失去焦点时自动关闭。","workbench.quickOpen.preserveInput":"在打开 Quick Open 视图时，控制是否自动恢复上一次输入的值。",openDefaultSettings:"控制在打开设置时是否同时打开显示所有默认设置的编辑器。",useSplitJSON:"控制在将设置编辑为 json 时是否使用拆分 json 编辑器。",openDefaultKeybindings:"控制在打开按键绑定设置时是否同时打开显示所有默认按键绑定的编辑器。",sideBarLocation:"控制侧边栏和活动栏的位置。它们可以显示在工作台的左侧或右侧。",panelDefaultLocation:"控制面板的默认位置(终端、调试控制台、输出、问题)。它可以显示在工作台的底部、右侧或左侧。",panelOpensMaximized:"控制面板是否以最大化方式打开。它可以始终以最大化方式打开、永不以最大化方式打开或以关闭前的最后一个状态打开。","workbench.panel.opensMaximized.always":"始终以最大化方式打开面板。","workbench.panel.opensMaximized.never":"永不以最大化方式打开面板。面板将以非最大化方式打开。","workbench.panel.opensMaximized.preserve":"以关闭面板前的状态打开面板。",statusBarVisibility:"控制工作台底部状态栏的可见性。",activityBarVisibility:"控制工作台中活动栏的可见性。",activityBarIconClickBehavior:"控制在工作台中单击活动栏图标时出现的行为。","workbench.activityBar.iconClickBehavior.toggle":"如果单击的项已可见，则隐藏边栏。","workbench.activityBar.iconClickBehavior.focus":"如果单击的项已可见，则将焦点放在边栏上。",viewVisibility:"控制是否显示视图头部的操作项。视图头部操作项可以一直，或是仅当聚焦到和悬停在视图上时显示。",fontAliasing:"控制在工作台中字体的渲染方式。","workbench.fontAliasing.default":"次像素平滑字体。将在大多数非 retina 显示器上显示最清晰的文字。","workbench.fontAliasing.antialiased":"进行像素而不是次像素级别的字体平滑。可能会导致字体整体显示得更细。","workbench.fontAliasing.none":"禁用字体平滑。将显示边缘粗糙、有锯齿的文字。","workbench.fontAliasing.auto":"根据显示器 DPI 自动应用 `default` 或 `antialiased` 选项。","settings.editor.ui":"使用设置 ui 编辑器。","settings.editor.json":"使用 json 文件编辑器。","settings.editor.desc":"配置默认使用的设置编辑器。",windowTitle:"根据活动编辑器控制窗口标题。变量是根据上下文替换的:",activeEditorShort:'"${activeEditorShort}": 文件名 (例如 myFile.txt)。',activeEditorMedium:'"${activeEditorMedium}": 相对于工作区文件夹的文件路径 (例如, myFolder/myFileFolder/myFile.txt)。',activeEditorLong:'"${activeEditorLong}": 文件的完整路径 (例如 /Users/Development/myFolder/myFileFolder/myFile.txt)。',activeFolderShort:'"${activeFolderShort}": 文件所在的文件夹名称 (例如, myFileFolder)。',activeFolderMedium:'"${activeFolderMedium}": 相对于工作区文件夹的、包含文件的文件夹的路径, (例如 myFolder/myFileFolder)。',activeFolderLong:'"${activeFolderLong}": 文件所在文件夹的完整路径 (例如 /Users/Development/myFolder/myFileFolder)。',folderName:'"${folderName}": 文件所在工作区文件夹的名称 (例如 myFolder)。',folderPath:'"${folderpath}": 文件所在工作区文件夹的路径 (例如 /Users/Development/myFolder)。',rootName:'"${rootName}": 工作区的名称 (例如, myFolder 或 myWorkspace)。',rootPath:'"${rootPath}": 工作区的文件路径 (例如 /Users/Development/myWorkspace)。',appName:'"${appName}": 例如 VS Code。',remoteName:"“${remoteName}”: 例如 SSH",dirty:'"${dirty}": 表示活动编辑器为脏的脏指示器。',separator:'"${separator}": 一种条件分隔符 ("-"), 仅在被包含值或静态文本的变量包围时显示。',windowConfigurationTitle:"窗口","window.titleSeparator":'"window.title" 使用的分隔符。',"window.menuBarVisibility.default":"菜单仅在全屏模式下隐藏。","window.menuBarVisibility.visible":"菜单始终可见，即使处于全屏模式下。","window.menuBarVisibility.toggle":"菜单隐藏，但可以通过 Alt 键显示。","window.menuBarVisibility.hidden":"菜单始终隐藏。","window.menuBarVisibility.compact":'菜单在侧边栏中显示为一个紧凑的按钮。当 "#window.titleBarStyle#" 为 "native" 时，将忽略此值。',menuBarVisibility:"控制菜单栏的可见性。“切换”设置表示隐藏菜单栏，按一次 Alt 键则将显示此菜单栏。默认情况下，除非窗口为全屏，否则菜单栏可见。",enableMenuBarMnemonics:"控制是否可通过 Alt 键快捷键打开主菜单。如果禁用助记符，则可将这些 Alt 键快捷键绑定到编辑器命令。",customMenuBarAltFocus:"控制是否通过按 Alt 键聚焦菜单栏。此设置对使用 Alt 键切换菜单栏没有任何影响。","window.openFilesInNewWindow.on":"在新窗口中打开文件。","window.openFilesInNewWindow.off":"在文件所在文件夹的已有窗口中或在上一个活动窗口中打开文件。","window.openFilesInNewWindow.defaultMac":"在文件所在文件夹的已有窗口中或在上一个活动窗口中打开文件，除非其通过“程序坞”(Dock) 或“访达”(Finder) 打开。","window.openFilesInNewWindow.default":"在新窗口中打开文件，除非文件从应用程序内进行选取 (例如，通过“文件”菜单)。",openFilesInNewWindowMac:"控制是否应在新窗口中打开文件。\r\n请注意，此设置可能会被忽略(例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。",openFilesInNewWindow:"控制是否应在新窗口中打开文件。\r\n请注意，此设置可能会被忽略(例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。","window.openFoldersInNewWindow.on":"在新窗口中打开文件夹。","window.openFoldersInNewWindow.off":"文件夹将替换上一个活动窗口。","window.openFoldersInNewWindow.default":"在新窗口中打开文件夹，除非文件夹从应用程序内进行选取 (例如，通过“文件”菜单)。",openFoldersInNewWindow:"控制文件夹是应在新窗口中打开，还是应替换上次处于活动状态的窗口。\r\n请注意，此设置可能会被忽略(例如，在使用 `--new-window` 或 `--reuse-window` 命令行选项时)。","window.confirmBeforeClose.always":"始终尝试请求确认。请注意，浏览器仍可能在未经确认的情况下决定关闭标签页或窗口。","window.confirmBeforeClose.keyboardOnly":"仅在检测到键绑定时请求确认。请注意，在某些情况下可能无法进行检测。","window.confirmBeforeClose.never":"除非即将丢失数据，否则绝不明确询问确认。",confirmBeforeCloseWeb:"控制在关闭浏览器选项卡或窗口之前是否显示确认对话框。请注意，即使已启用，浏览器仍可能决定在不进行确认的情况下关闭选项卡或窗口，并且此设置仅作为提示，并非在所有情况下都起作用。",zenModeConfigurationTitle:"禅模式","zenMode.fullScreen":"控制在打开禅模式时是否将工作台切换到全屏。","zenMode.centerLayout":"控制在打开禅模式时是否启用居中布局。","zenMode.hideTabs":"控制在打开禅模式时是否隐藏工作台选项卡。","zenMode.hideStatusBar":"控制在打开禅模式时是否隐藏工作台底部的状态栏。","zenMode.hideActivityBar":"控制在打开禅模式时是否隐藏工作台左侧或右侧的活动栏。","zenMode.hideLineNumbers":"控制在打开禅模式时是否隐藏编辑器行号。","zenMode.restore":"若窗口在处于禅模式时退出，控制其在恢复时是否还原到禅模式。","zenMode.silentNotifications":"控制在禅宗模式下是否显示通知。如果为 true，则只会弹出错误通知。"},"vs/workbench/browser/actions/textInputActions":{undo:"撤消",redo:"恢复",cut:"剪切",copy:"复制",paste:"粘贴",selectAll:"选择全部"},"vs/workbench/browser/actions/developerActions":{"inspect context keys":"检查上下文键值","toggle screencast mode":"切换屏幕模式",logStorage:"记录存储数据库内容",logWorkingCopies:"日志工作副本",screencastModeConfigurationTitle:"截屏模式","screencastMode.location.verticalPosition":"控制截屏模式叠加的垂直偏移,从底部作为工作台高度的百分比。","screencastMode.fontSize":"控制截屏模式键盘的字体大小(以像素为单位)。","screencastMode.onlyKeyboardShortcuts":"仅在截屏模式下显示键盘快捷方式。","screencastMode.keyboardOverlayTimeout":"控制截屏模式下键盘覆盖显示的时长(以毫秒为单位)。","screencastMode.mouseIndicatorColor":"控制截屏视频模式下鼠标指示器的十六进制(#RGB、#RGBA、#RRGGBB 或 #RRGGBBAA)的颜色。","screencastMode.mouseIndicatorSize":"控制截屏模式下鼠标光标的大小(以像素为单位)。"},"vs/workbench/browser/actions/helpActions":{keybindingsReference:"键盘快捷方式参考",openDocumentationUrl:"文档",openIntroductoryVideosUrl:"入门视频",openTipsAndTricksUrl:"提示与技巧",newsletterSignup:"订阅 VS Code 新闻邮件",openTwitterUrl:"在 Twitter 上和我们互动",openUserVoiceUrl:"搜索功能请求",openLicenseUrl:"查看许可证",openPrivacyStatement:"隐私声明",miDocumentation:"文档(&&D)",miKeyboardShortcuts:"键盘快捷方式参考(&&K)",miIntroductoryVideos:"介绍性视频(&&V)",miTipsAndTricks:"贴士和技巧(&&C)",miTwitter:"Twitter 上和我们互动(&&J)",miUserVoice:"搜索功能请求(&&S)",miLicense:"查看许可证(&&V)",miPrivacyStatement:"隐私声明(&&Y)"},"vs/workbench/browser/actions/layoutActions":{closeSidebar:"关闭侧栏",toggleActivityBar:"切换活动栏可见性",miShowActivityBar:"显示活动栏(&&A)",toggleCenteredLayout:"切换居中布局",miToggleCenteredLayout:"居中布局(&&C)",flipLayout:"切换垂直/水平编辑器布局",miToggleEditorLayout:"翻转布局(&&L)",toggleSidebarPosition:"切换边栏位置",moveSidebarRight:"将侧边栏移动到右侧",moveSidebarLeft:"将侧边栏移动到左侧",miMoveSidebarRight:"向右移动侧边栏(&&M)",miMoveSidebarLeft:"向左移动侧边栏(&&M)",toggleEditor:"切换编辑器区域可见性",miShowEditorArea:"显示编辑区域(&&E)",toggleSidebar:"切换侧边栏可见性",miAppearance:"外观(&&A)",miShowSidebar:"显示侧栏(&&S)",toggleStatusbar:"切换状态栏可见性",miShowStatusbar:"显示状态栏(&&T)",toggleTabs:"切换标签页可见性",toggleZenMode:"切换禅模式",miToggleZenMode:"禅模式",toggleMenuBar:"切换菜单栏",miShowMenuBar:"显示菜单栏(&&B)",resetViewLocations:"重置视图位置",moveView:"移动视图",sidebarContainer:"侧边栏/{0}",panelContainer:"面板/{0}","moveFocusedView.selectView":"选择要移动的视图",moveFocusedView:"移动焦点视图","moveFocusedView.error.noFocusedView":"当前没有重点视图。","moveFocusedView.error.nonMovableView":"当前焦点视图不可移动。","moveFocusedView.selectDestination":"选择视图的目标","moveFocusedView.title":"视图: 移动 {0}","moveFocusedView.newContainerInPanel":"新建面板条目","moveFocusedView.newContainerInSidebar":"新侧边栏条目",sidebar:"侧边栏",panel:"面板",resetFocusedViewLocation:"重置焦点视图位置","resetFocusedView.error.noFocusedView":"当前没有重点视图。",increaseViewSize:"增加当前视图大小",increaseEditorWidth:"增加编辑器宽度",increaseEditorHeight:"增加编辑器高度",decreaseViewSize:"减小当前视图大小",decreaseEditorWidth:"降低编辑器宽度",decreaseEditorHeight:"降低编辑器高度"},"vs/workbench/browser/actions/navigationActions":{navigateLeft:"导航到左侧视图",navigateRight:"导航到右侧视图",navigateUp:"导航到上方视图",navigateDown:"导航到下方视图",focusNextPart:"专注下一部分",focusPreviousPart:"专注上一部分"},"vs/workbench/browser/actions/windowActions":{remove:"从最近打开中删除",dirtyRecentlyOpened:"带有已更新的文件的工作区",workspaces:"工作区",files:"文件",openRecentPlaceholderMac:"选中以打开(按 Cmd 键强制打开新窗口，或按 Alt 键打开同一窗口)",openRecentPlaceholder:"选中以打开(按 Ctrl 键强制打开新窗口，或按 Alt 键打开同一窗口)",dirtyWorkspace:"带有已更新的文件的工作区",dirtyWorkspaceConfirm:"是否要打开工作区以查看已更新文件？",dirtyWorkspaceConfirmDetail:"在保存或还原所有已更新文件之前，无法删除具有已更新文件的工作区。",recentDirtyAriaLabel:"{0}，存在更新的工作区",openRecent:"打开最近的文件…",quickOpenRecent:"快速打开最近的文件…",toggleFullScreen:"切换全屏",reloadWindow:"重新加载窗口",about:"关于",newWindow:"新建窗口",blur:"从具有焦点的元素中删除键盘焦点",file:"文件",miConfirmClose:"关闭前确认",miNewWindow:"新建窗口(&&W)",miOpenRecent:"打开最近的文件(&&R)",miMore:"更多(&&M)...",miToggleFullScreen:"全屏(&&F)",miAbout:"关于(&&A)"},"vs/workbench/browser/actions/workspaceActions":{openFile:"打开文件...",openFolder:"打开文件夹...",openFileFolder:"打开...",openWorkspaceAction:"打开工作区...",closeWorkspace:"关闭工作区",noWorkspaceOpened:"此实例当前没有打开工作区，无法关闭。",openWorkspaceConfigFile:"打开工作区配置文件",globalRemoveFolderFromWorkspace:"将文件夹从工作区删除…",saveWorkspaceAsAction:"将工作区另存为...",duplicateWorkspaceInNewWindow:"复制此工作区并在新窗口打开",workspaces:"工作区",miAddFolderToWorkspace:"将文件夹添加到工作区(&&D)...",miSaveWorkspaceAs:"将工作区另存为...",miCloseFolder:"关闭文件夹(&&F)",miCloseWorkspace:"关闭工作区(&&W)"},"vs/workbench/browser/actions/workspaceCommands":{addFolderToWorkspace:"将文件夹添加到工作区...",add:"添加(&&A)",addFolderToWorkspaceTitle:"将文件夹添加到工作区",workspaceFolderPickerPlaceholder:"选择工作区文件夹"},"vs/workbench/browser/actions/quickAccessActions":{quickOpen:"转到文件...",quickNavigateNext:"在 Quick Open 中导航到下一个",quickNavigatePrevious:"在 Quick Open 中导航到上一个",quickSelectNext:"在 Quick Open 中选择“下一步”",quickSelectPrevious:"在 Quick Open 中选择“上一步”"},"vs/workbench/api/common/menusExtensionPoint":{"menus.commandPalette":"命令面板","menus.touchBar":"触控栏 (仅 macOS)","menus.editorTitle":"编辑器标题菜单","menus.editorContext":"编辑器上下文菜单","menus.explorerContext":"文件资源管理器上下文菜单","menus.editorTabContext":"编辑器选项卡上下文菜单","menus.debugCallstackContext":"调试调用堆栈视图上下文菜单","menus.debugVariablesContext":"调试变量视图上下文菜单","menus.debugToolBar":"调试工具栏菜单","menus.file":"顶级文件菜单","menus.home":"主指示器上下文菜单(仅限 Web)","menus.scmTitle":"源代码管理标题菜单","menus.scmSourceControl":"源代码管理菜单","menus.resourceGroupContext":"源代码管理资源组上下文菜单","menus.resourceStateContext":"源代码管理资源状态上下文菜单","menus.resourceFolderContext":"源代码管理资源文件夹上下文菜单","menus.changeTitle":"源代码管理内联更改菜单","menus.statusBarWindowIndicator":"状态栏中的窗口指示器菜单","view.viewTitle":"提供的视图的标题菜单","view.itemContext":"提供的视图中的项目的上下文菜单","commentThread.title":"贡献的注释线程标题菜单","commentThread.actions":"贡献的注释线程上下文菜单，呈现为注释编辑器下方的按钮","comment.title":"贡献的注释标题菜单","comment.actions":"贡献的注释上下文菜单，呈现为注释编辑器下方的按钮","notebook.cell.title":"贡献的笔记本单元格标题菜单","menus.extensionContext":"扩展上下文菜单","view.timelineTitle":"时间线视图标题菜单","view.timelineContext":"时间线视图项上下文菜单",requirestring:'属性 "{0}" 是必需项并且必须为 "string" 类型',optstring:'属性 "{0}" 可以省略，或者必须为 "string" 类型',requirearray:"子菜单项必须是数组",require:"子菜单项必须是对象","vscode.extension.contributes.menuItem.command":"要执行的命令的标识符。该命令必须在“命令”部分中声明","vscode.extension.contributes.menuItem.alt":'要执行的替代命令的标识符。该命令必须在 ”commands" 部分中声明',"vscode.extension.contributes.menuItem.when":"此条件必须为 true 才能显示此项","vscode.extension.contributes.menuItem.group":"此项所属的组","vscode.extension.contributes.menuItem.submenu":"要在此项中显示的子菜单的标识符。","vscode.extension.contributes.submenu.id":"要显示为子菜单的菜单的标识符。","vscode.extension.contributes.submenu.label":"指向此子菜单的菜单项的标签。","vscode.extension.contributes.submenu.icon":'(可选)用于表示 UI 中的子菜单的图标。文件路径、具有深色和浅色主题的文件路径的对象，或者主题图标引用(如 "\\$(zap)")',"vscode.extension.contributes.submenu.icon.light":"使用浅色主题时的图标路径","vscode.extension.contributes.submenu.icon.dark":"使用深色主题时的图标路径","vscode.extension.contributes.menus":"向编辑器提供菜单项",proposed:"建议的 API","vscode.extension.contributes.submenus":"将子菜单项分配到编辑器",nonempty:"应为非空值。",opticon:'可以省略属性 "icon"，若不省略则必须是字符串或文字，例如 "{dark, light}"',requireStringOrObject:'属性“{0}”是必要属性，其类型必须是 "string" 或 "object"',requirestrings:'属性“{0}”和“{1}”是必要属性，其类型必须是 "string"',"vscode.extension.contributes.commandType.command":"要执行的命令的标识符","vscode.extension.contributes.commandType.title":"在 UI 中依据其表示命令的标题","vscode.extension.contributes.commandType.category":"(可选) 类别字符串，命令在界面中根据此项分组","vscode.extension.contributes.commandType.precondition":"(可选)必须为 true 才能启用 UI (菜单和键绑定)中命令的条件。不会阻止通过其他方式执行命令，例如 `executeCommand`-api。","vscode.extension.contributes.commandType.icon":'(可选)用于表示 UI 中的命令的图标。文件路径、具有深色和浅色主题的文件路径的对象，或者主题图标引用(如 "\\$(zap)")',"vscode.extension.contributes.commandType.icon.light":"使用浅色主题时的图标路径","vscode.extension.contributes.commandType.icon.dark":"使用深色主题时的图标路径","vscode.extension.contributes.commands":"对命令面板提供命令。",dup:'命令“{0}”在 "commands" 部分重复出现。',"submenuId.invalid.id":"“{0}”不是有效的子菜单标识符","submenuId.duplicate.id":"以前已注册 `{0}` 子菜单。","submenuId.invalid.label":"“{0}”不是有效的子菜单标签","menuId.invalid":"“{0}”为无效菜单标识符","proposedAPI.invalid":"{0} 是建议的菜单标识符, 仅在开发用完或使用以下命令行开关时可用:--enable-proposed-api {1}","missing.command":"菜单项引用未在“命令”部分进行定义的命令“{0}”。","missing.altCommand":'菜单项引用了未在 "commands" 部分定义的替代命令“{0}”。',"dupe.command":"菜单项引用的命令中默认和替代命令相同","unsupported.submenureference":"菜单项引用了不具有子菜单支持的菜单的子菜单。","missing.submenu":"菜单项引用了未在“子菜单”部分定义的子菜单“{0}”。","submenuItem.duplicate":"`{0}` 子菜单已提供给 `{1}` 菜单。"},"vs/workbench/api/common/configurationExtensionPoint":{"vscode.extension.contributes.configuration.title":"设置摘要。此标签将在设置文件中用作分隔注释。","vscode.extension.contributes.configuration.properties":"配置属性的描述。","vscode.extension.contributes.configuration.property.empty":"属性不应为空。","scope.application.description":"只能在用户设置中进行配置的配置。","scope.machine.description":"只能在用户设置或远程设置中配置的配置。","scope.window.description":"可在用户、远程或工作区设置中对其进行配置的配置。","scope.resource.description":"可在用户、远程、工作区或文件夹设置中对其进行配置的配置。","scope.language-overridable.description":"可在语言特定设置中配置的资源配置。","scope.machine-overridable.description":"也可在工作区或文件夹设置中配置的计算机配置。","scope.description":'配置适用的作用域。可用作用域包括"application"、"machine"、"window"、"resource"和"machine-overridable"。',"scope.enumDescriptions":"枚举值的说明","scope.markdownEnumDescriptions":"Markdown 格式的枚举值说明。","scope.markdownDescription":"Markdown 格式的说明。","scope.deprecationMessage":"设置后，该属性将被标记为已弃用，并将给定的消息显示为解释。","scope.markdownDeprecationMessage":"设置后，该属性将被标记为已弃用，并按 Markdown 格式显示给定的消息作为解释。","vscode.extension.contributes.defaultConfiguration":"按语言提供默认编辑器配置设置。","config.property.defaultConfiguration.languageExpected":'所需的语言选择器(例如 ["java"])',"config.property.defaultConfiguration.warning":"无法注册“{0}”的配置默认值。仅支持特定于语言的设置的默认值。","vscode.extension.contributes.configuration":"用于配置字符串。","invalid.title":"configuration.title 必须是字符串","invalid.properties":"configuration.properties 必须是对象","invalid.property":'"configuration.property" 必须是对象',"invalid.allOf":'"configuration.allOf" 已被弃用且不应被使用。你可以将多个配置单元作为数组传递给 "configuration" 参与点。',"workspaceConfig.folders.description":"将载入到工作区的文件夹列表。","workspaceConfig.path.description":'文件路径。例如 "/root/folderA" 或 "./folderA"。后者表示根据工作区文件位置进行解析的相对路径。',"workspaceConfig.name.description":"文件夹的可选名称。","workspaceConfig.uri.description":"文件夹的 URI","workspaceConfig.settings.description":"工作区设置","workspaceConfig.launch.description":"工作区启动配置","workspaceConfig.tasks.description":"工作区任务配置","workspaceConfig.extensions.description":"工作区扩展","workspaceConfig.remoteAuthority":"工作区所在的远程服务器。仅供未保存的远程工作区使用。",unknownWorkspaceProperty:"未知的工作区配置属性"},"vs/workbench/api/browser/viewsExtensionPoint":{"vscode.extension.contributes.views.containers.id":'用于标识容器的唯一 ID，视图能在容器内通过 "view" 参与点提供。',"vscode.extension.contributes.views.containers.title":"人类可读的用于表示此容器的字符串","vscode.extension.contributes.views.containers.icon":'容器图标的路径。图标大小为 24x24，并居中放置在 50x40 的区域内，其填充颜色为 "rgb(215, 218, 224)" 或 "#d7dae0"。所有图片格式均可用，推荐使用 SVG 格式。',"vscode.extension.contributes.viewsContainers":"向编辑器提供视图容器","views.container.activitybar":"向活动栏提供视图容器","views.container.panel":"向面板提供视图容器","vscode.extension.contributes.view.type":'视图的类型。对于基于树状视图的视图，这可以是 "tree"，对于基于 Web 视图的视图，这可以是 "webview"。默认值为 "tree"。',"vscode.extension.contributes.view.tree":'该视图由 "createTreeView" 创建的 "TreeView" 提供支持。',"vscode.extension.contributes.view.webview":'该视图由 "registerWebviewViewProvider" 注册的 "WebviewView" 提供支持。',"vscode.extension.contributes.view.id":'视图的标识符。这在所有视图中都应是唯一的。建议将扩展 ID 包含在视图 ID 中。使用此选项通过 "vscode.window.registerTreeDataProviderForView" API 注册数据提供程序。也可通过将 "onView:${id}" 事件注册为 "activationEvents" 来触发激活扩展。',"vscode.extension.contributes.view.name":"用户可读的视图名称。将显示它","vscode.extension.contributes.view.when":"为真时才显示此视图的条件","vscode.extension.contributes.view.icon":"视图图标的路径。无法显示视图名称时，将显示视图图标。可以接受任何图像文件类型，但建议图标采用 SVG 格式。","vscode.extension.contributes.view.contextualTitle":"当视图移出其原始位置时的用户可读上下文。默认情况下，将使用视图的容器名称。将显示此内容","vscode.extension.contributes.view.initialState":"首次安装扩展时视图的初始状态。用户一旦通过折叠、移动或隐藏视图更改视图状态，就不再使用初始状态。","vscode.extension.contributes.view.initialState.visible":"视图的默认初始状态。但在大多数容器中，视图将展开，但某些内置容器(资源管理器、scm 和调试)显示所有已折叠的参与视图，无论“可见性”如何，都是如此。","vscode.extension.contributes.view.initialState.hidden":"视图不会显示在视图容器中，但可通过视图菜单和其他视图入口点发现，而且用户可取消隐藏视图。","vscode.extension.contributes.view.initialState.collapsed":"视图将在视图容器中折叠显示。","vscode.extension.contributes.view.group":"视图中的嵌套组","vscode.extension.contributes.view.remoteName":"与此视图关联的远程类型的名称","vscode.extension.contributes.views":"向编辑器提供视图","views.explorer":"向活动栏中的“资源管理器”容器提供视图","views.debug":"向活动栏中的“调试”容器提供视图","views.scm":"向活动栏中的“源代码管理”容器提供视图","views.test":"向活动栏中的“测试”容器提供视图","views.remote":"在活动栏中为远程容器提供视图。要为此容器提供帮助，需要启用enableProposedApi。","views.contributed":"向“提供的视图”容器提供视图",test:"测试","viewcontainer requirearray":"视图容器必须为数组",requireidstring:'属性“{0}”是必要属性，其类型必须是 "string"。仅支持字母、数字、"_" 和 "-"。',requirestring:'属性 "{0}" 是必需项并且必须为 "string" 类型',showViewlet:"显示 {0}",ViewContainerRequiresProposedAPI:'查看容器"{0}"需要启用"enableProposedApi"以添加到"Remote"。',ViewContainerDoesnotExist:"视图容器“{0}”不存在。所有注册到其中的视图将被添加到“资源管理器”中。",duplicateView1:"无法注册具有相同 ID“{0}”的多个视图",duplicateView2:"已注册 ID 为“{0}”的视图。",unknownViewType:"未知视图类型“{0}”。",requirearray:"视图必须是一个数组",optstring:'属性 "{0}" 可以省略，或者必须为 "string" 类型',optenum:"属性“{0}”可被省略或必须是 {1} 之一"},"vs/workbench/browser/parts/activitybar/activitybarPart":{settingsViewBarIcon:"视图栏中的“设置”图标。",accountsViewBarIcon:"视图栏中的“帐户”图标。",hideHomeBar:"隐藏主页按钮",showHomeBar:"显示主页按钮",hideMenu:"隐藏菜单",showMenu:"显示菜单",hideAccounts:"隐藏帐户",showAccounts:"显示帐户",hideActivitBar:"隐藏活动栏",resetLocation:"重置位置",homeIndicator:"主页",home:"主页",manage:"管理",accounts:"帐户",focusActivityBar:"将焦点放在活动栏上"},"vs/workbench/browser/parts/panel/panelPart":{hidePanel:'"隐藏" 面板',"panel.emptyMessage":"将视图拖动到要显示的面板中。"},"vs/workbench/browser/parts/sidebar/sidebarPart":{focusSideBar:"聚焦到侧边栏"},"vs/workbench/browser/parts/statusbar/statusbarPart":{hide:"隐藏“{0}”",hideStatusBar:"隐藏状态栏"},"vs/workbench/browser/parts/views/viewsService":{"focus view":"焦点在 {0} 视图上",resetViewLocation:"重置位置"},"vs/workbench/browser/parts/dialogs/dialogHandler":{yesButton:"是(&&Y)",cancelButton:"取消",aboutDetail:"版本: {0}\r\n提交: {1}\r\n日期: {2}\r\n浏览器: {3}",copy:"复制",ok:"确定"},"vs/workbench/electron-sandbox/parts/dialogs/dialogHandler":{yesButton:"是(&&Y)",cancelButton:"取消",aboutDetail:"版本: {0}\r\n提交: {1}\r\n日期: {2}\r\nElectron: {3}\r\nChrome: {4}\r\nNode.js: {5}\r\nV8: {6}\r\nOS: {7}",okButton:"确定",copy:"复制(&&C)"},"vs/workbench/electron-sandbox/actions/developerActions":{toggleDevTools:"切换开发人员工具",configureRuntimeArguments:"配置运行时参数"},"vs/workbench/electron-sandbox/actions/windowActions":{closeWindow:"关闭窗口",zoomIn:"放大",zoomOut:"缩小",zoomReset:"重置缩放",reloadWindowWithExtensionsDisabled:"在禁用扩展的情况下重新加载",close:"关闭窗口",switchWindowPlaceHolder:"选择切换的窗口",windowDirtyAriaLabel:"{0}，存在更新的窗口",current:"当前窗口",switchWindow:"切换窗口...",quickSwitchWindow:"快速切换窗口..."},"vs/workbench/browser/parts/notifications/notificationsCenter":{notificationsEmpty:"无新通知",notifications:"通知",notificationsToolbar:"通知中心操作"},"vs/workbench/browser/parts/notifications/notificationsAlerts":{alertErrorMessage:"错误: {0}",alertWarningMessage:"警告: {0}",alertInfoMessage:"信息: {0}"},"vs/workbench/browser/parts/notifications/notificationsStatus":{"status.notifications":"通知",hideNotifications:"隐藏通知",zeroNotifications:"没有通知",noNotifications:"无新通知",oneNotification:"1 条新通知",notifications:"{0} 条新通知",noNotificationsWithProgress:"无新通知({0} 正在进行中)",oneNotificationWithProgress:"1 条新通知({0} 条正在进行中)",notificationsWithProgress:"{0} 条新通知({1} 个正在进行中)","status.message":"状态消息"},"vs/workbench/browser/parts/notifications/notificationsCommands":{notifications:"通知",showNotifications:"显示通知",hideNotifications:"隐藏通知",clearAllNotifications:"清除所有通知",focusNotificationToasts:"将焦点放在通知横幅上"},"vs/workbench/browser/parts/titlebar/menubarControl":{mFile:"文件(&&F)",mEdit:"编辑(&&E)",mSelection:"选择(&&S)",mView:"查看(&&V)",mGoto:"转到(&&G)",mRun:"运行(&&R)",mTerminal:"终端(&&T)",mHelp:"帮助(&&H)","menubar.customTitlebarAccessibilityNotification":"为您启用了辅助功能支持。对于最易于访问的体验, 我们建议使用自定义标题栏样式。",goToSetting:"打开设置",focusMenu:"聚焦应用程序菜单",checkForUpdates:"检查更新(&&U)...",checkingForUpdates:"正在检查更新...","download now":"下载更新(&&O)",DownloadingUpdate:"正在下载更新...","installUpdate...":"安装更新(&&U)...",installingUpdate:"正在安装更新...",restartToUpdate:"重新启动以更新(&&U)"},"vs/workbench/api/common/extHostExtensionActivator":{failedDep1:"无法激活扩展“{0}”，因为它依赖于未能激活的扩展“{1}”。",activationError:"激活扩展“{0}”失败: {1}。"},"vs/workbench/api/common/extHost.api.impl":{extensionLabel:"{0} (扩展)"},"vs/workbench/api/node/extHostDebugService":{"debug.terminal.title":"调试对象"},"vs/workbench/api/common/jsonValidationExtensionPoint":{"contributes.jsonValidation":"用于 json 架构配置。","contributes.jsonValidation.fileMatch":'要匹配的文件模式(或模式数组)，例如"package.json"或"*. launch"。排除模式以"!"开头',"contributes.jsonValidation.url":'到扩展文件夹(\'./\')的架构 URL ("http:"、"https:")或相对路径。',"invalid.jsonValidation":"configuration.jsonValidation 必须是数组","invalid.fileMatch":'"configuration.jsonValidation.fileMatch"必须定义为字符串或字符串数组。',"invalid.url":"configuration.jsonValidation.url 必须是 URL 或相对路径","invalid.path.1":'"contributes.{0}.url" ({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。',"invalid.url.fileschema":"configuration.jsonValidation.url 是无效的相对 URL: {0}","invalid.url.schema":'"configuration.jsonValidation.url" 必须是绝对 URL 或者以 "./" 开头，以引用扩展中的架构。'},"vs/workbench/api/browser/mainThreadExtensionService":{"reload window":'无法激活 "{0}" 扩展, 因为它依赖于未加载的 "{1}" 扩展。是否要重新加载窗口以加载扩展名？',reload:"重新加载窗口",disabledDep:'无法激活 "{0}" 扩展, 因为它依赖于 "{1}" 扩展, 该扩展已禁用。是否要启用扩展并重新加载窗口？',"enable dep":"启用和重新加载",uninstalledDep:'无法激活 "{0}" 扩展, 因为它依赖于未安装的 "{1}" 扩展。是否要安装扩展并重新加载窗口？',"install missing dep":"安装并重新加载",unknownDep:'无法激活 "{0}" 扩展, 因为它依赖于未知的 "{1}" 扩展。'},"vs/workbench/api/browser/mainThreadFileSystemEventService":{"files.participants.timeout":'超时(以毫秒为单位)后，将取消创建、重命名和删除的文件参与者。使用"0"禁用参与者。'},"vs/workbench/api/browser/mainThreadMessageService":{extensionSource:"{0} (扩展)",defaultSource:"扩展",manageExtension:"管理扩展",cancel:"取消",ok:"确定"},"vs/workbench/api/browser/mainThreadProgress":{manageExtension:"管理扩展"},"vs/workbench/api/browser/mainThreadSaveParticipant":{"timeout.onWillSave":"在 1750ms 后终止了 onWillSaveTextDocument 事件"},"vs/workbench/api/browser/mainThreadWorkspace":{folderStatusMessageAddSingleFolder:"扩展“{0}”添加了 1 个文件夹到工作区",folderStatusMessageAddMultipleFolders:"扩展“{0}”添加了 {1} 个文件夹到工作区",folderStatusMessageRemoveSingleFolder:"扩展“{0}”从工作区删除了 1 个文件夹",folderStatusMessageRemoveMultipleFolders:"扩展“{0}”从工作区删除了 {1} 个文件夹",folderStatusChangeFolder:"扩展“{0}”更改了工作区中的文件夹"},"vs/workbench/api/browser/mainThreadComments":{commentsViewIcon:"查看备注视图的图标。"},"vs/workbench/api/browser/mainThreadTask":{"task.label":"{0}: {1}"},"vs/workbench/api/browser/mainThreadAuthentication":{noTrustedExtensions:"尚无任何扩展使用此帐户。",accountLastUsedDate:"上次使用此帐户的时间: {0}",notUsed:"未使用此帐户",manageTrustedExtensions:"管理受信任的扩展",manageExensions:"选择可以访问此帐户的扩展",signOutConfirm:"注销 {0}",signOutMessagve:"帐户 {0} 已由以下功能使用: \r\n\r\n{1}\r\n\r\n 是否注销这些功能?",signOutMessageSimple:"注销 {0}?",signedOut:"已成功注销。",useOtherAccount:"登录到其他帐户",selectAccount:"扩展“{0}”要访问 {1} 帐户",getSessionPlateholder:"选择一个供“{0}”使用的帐户或按 Esc 取消",confirmAuthenticationAccess:"扩展“{0}”正在尝试访问 {1} 帐户“{2}”的身份验证信息。",allow:"允许",cancel:"取消",confirmLogin:'扩展"{0}"希望使用{1}登录。'},"vs/workbench/common/configuration":{workbenchConfigurationTitle:"工作台"},"vs/workbench/browser/parts/views/treeView":{"no-dataprovider":"没有可提供视图数据的已注册数据提供程序。",refresh:"刷新",collapseAll:"全部折叠","command-error":"运行命令 {1} 错误: {0}。这可能是由提交 {1} 的扩展引起的。"},"vs/workbench/browser/viewlet":{"compositePart.hideSideBarLabel":"隐藏侧边栏",views:"视图",collapse:"全部折叠"},"vs/workbench/browser/parts/views/viewPaneContainer":{viewPaneContainerExpandedIcon:"已展开的视图窗格容器的图标。",viewPaneContainerCollapsedIcon:"已折叠的视图窗格容器的图标。",viewToolbarAriaLabel:"{0}操作",hideView:"隐藏",viewMoveUp:"向上移动视图",viewMoveLeft:"向左移动视图",viewMoveDown:"向下移动视图",viewMoveRight:"向右移动视图"},"vs/workbench/browser/parts/editor/editorGroupView":{ariaLabelGroupActions:"编辑器组操作",closeGroupAction:"关闭",emptyEditorGroup:"{0} (空)",groupLabel:"第 {0} 组",groupAriaLabel:"编辑器组{0}",ok:"确定",cancel:"取消",editorOpenErrorDialog:'无法打开"{0}"',editorOpenError:"无法打开“{0}”: {1}。"},"vs/workbench/browser/parts/editor/editorDropTarget":{fileTooLarge:"文件太大，无法以无标题的编辑器形式打开。请先将其上传到文件资源管理器，然后重试。"},"vs/workbench/browser/parts/editor/editor.contribution":{textEditor:"文本编辑器",textDiffEditor:"文本差异编辑器",binaryDiffEditor:"二进制差异编辑器",sideBySideEditor:"并排编辑器",editorQuickAccessPlaceholder:"键入要打开的编辑器名称。",activeGroupEditorsByMostRecentlyUsedQuickAccess:"按最近使用显示活动组中的编辑器",allEditorsByAppearanceQuickAccess:"按外观显示所有打开的编辑器",allEditorsByMostRecentlyUsedQuickAccess:"按最近使用显示所有打开的编辑器",file:"文件",splitUp:"向上拆分",splitDown:"向下拆分",splitLeft:"向左拆分",splitRight:"向右拆分",close:"关闭",closeOthers:"关闭其他",closeRight:"关闭到右侧",closeAllSaved:"关闭已保存",closeAll:"全部关闭",keepOpen:"保持打开状态",pin:"固定",unpin:"取消固定",toggleInlineView:"切换内联视图",showOpenedEditors:"显示打开的编辑器",toggleKeepEditors:"使编辑器保持打开",splitEditorRight:"向右拆分编辑器",splitEditorDown:"向下拆分编辑器",previousChangeIcon:"差异编辑器中上一个更改操作的图标",nextChangeIcon:"差异编辑器中下一个更改操作的图标",toggleWhitespace:"差异编辑器中“切换空白”操作的图标","navigate.prev.label":"上一个更改","navigate.next.label":"下一个更改","ignoreTrimWhitespace.label":"忽略前导/尾随空格差异","showTrimWhitespace.label":"显示前导/尾随空格差异",keepEditor:"保留编辑器",pinEditor:"固定编辑器",unpinEditor:"取消固定编辑器",closeEditor:"关闭编辑器",closePinnedEditor:"关闭固定的编辑器",closeEditorsInGroup:"关闭组中的所有编辑器",closeSavedEditors:"关闭组中已保存的编辑器",closeOtherEditors:"关闭组中其他编辑器",closeRightEditors:"关闭组中右侧编辑器",closeEditorGroup:"关闭编辑器组",miReopenClosedEditor:"重新打开已关闭的编辑器(&&R)",miClearRecentOpen:"清除最近打开记录(&&C)",miEditorLayout:"编辑器布局(&&L)",miSplitEditorUp:"向上拆分(&&U)",miSplitEditorDown:"向下拆分(&&D)",miSplitEditorLeft:"向左拆分(&&L)",miSplitEditorRight:"向右拆分(&&R)",miSingleColumnEditorLayout:"单列(&&S)",miTwoColumnsEditorLayout:"双列(&&T)",miThreeColumnsEditorLayout:"三列(&&H)",miTwoRowsEditorLayout:"双行(&&W)",miThreeRowsEditorLayout:"三行(&&R)",miTwoByTwoGridEditorLayout:"2x2 网格(&&G)",miTwoRowsRightEditorLayout:"右侧双行(&&O)",miTwoColumnsBottomEditorLayout:"底部双列(&&C)",miBack:"返回(&&B)",miForward:"前进(&&F)",miLastEditLocation:"上次编辑位置(&&L)",miNextEditor:"下一个编辑器(&&N)",miPreviousEditor:"上一个编辑器(&&P)",miNextRecentlyUsedEditor:"下一个使用过的编辑器(&&N)",miPreviousRecentlyUsedEditor:"上一个使用过的编辑器(&&P)",miNextEditorInGroup:"组中的下一个编辑器(&&N)",miPreviousEditorInGroup:"组中的上一个编辑器(&&P)",miNextUsedEditorInGroup:"组中下一个使用过的编辑器(&&N)",miPreviousUsedEditorInGroup:"组中上一个使用过的编辑器(&&P)",miSwitchEditor:"切换编辑器(&&E)",miFocusFirstGroup:"第 1 组(&&1)",miFocusSecondGroup:"第 2 组(&&2)",miFocusThirdGroup:"第 3 组(&&3)",miFocusFourthGroup:"第 4 组(&&4)",miFocusFifthGroup:"第 5 组(&&5)",miNextGroup:"下一个组(&&N)",miPreviousGroup:"上一个组(&&P)",miFocusLeftGroup:"左侧组(&&L)",miFocusRightGroup:"右侧组(&&R)",miFocusAboveGroup:"上方组(&&A)",miFocusBelowGroup:"下方组(&&B)",miSwitchGroup:"切换组(&&G)"},"vs/workbench/browser/parts/activitybar/activitybarActions":{goHome:"转到主页",hide:"隐藏",manageTrustedExtensions:"管理受信任的扩展",signOut:"注销",authProviderUnavailable:"{0} 当前不可用",previousSideBarView:"前侧栏视图",nextSideBarView:"侧边条形图"},"vs/workbench/browser/parts/compositeBar":{activityBarAriaLabel:"活动视图切换器"},"vs/workbench/browser/parts/compositeBarActions":{badgeTitle:"{0} - {1}",additionalViews:"其他视图",numberBadge:"{0} ({1})",manageExtension:"管理扩展",titleKeybinding:"{0} ({1})",hide:"隐藏",keep:"保留",toggle:"切换已固定的视图"},"vs/workbench/browser/parts/compositePart":{ariaCompositeToolbarLabel:"{0}操作",viewsAndMoreActions:"视图和更多操作…",titleTooltip:"{0} ({1})"},"vs/workbench/browser/parts/panel/panelActions":{maximizeIcon:"用于最大化面板的图标。",restoreIcon:"用于还原面板的图标。",closeIcon:"用于关闭面板的图标。",closePanel:"关闭面板",togglePanel:"切换面板",focusPanel:"聚焦到面板中",toggleMaximizedPanel:"切换最大化面板",maximizePanel:"最大化面板大小",minimizePanel:"恢复面板大小",positionPanelLeft:"将面板移至左侧",positionPanelRight:"将面板移至右侧",positionPanelBottom:"将面板移至底部",previousPanelView:"上一个面板视图",nextPanelView:"下一个面板视图",miShowPanel:"显示面板(&&P)"},"vs/workbench/common/editor/diffEditorInput":{sideBySideLabels:"{0} ↔ {1}"},"vs/workbench/browser/parts/editor/editorWidgets":{openWorkspace:"打开工作区"},"vs/workbench/browser/parts/editor/editorCommands":{"editorCommand.activeEditorMove.description":"按标签或按组移动活动编辑器","editorCommand.activeEditorMove.arg.name":"活动编辑器移动参数","editorCommand.activeEditorMove.arg.description":'参数属性:\r\n\t* "to": 表示移动目的地的字符串值。\r\n\t* "by": 表示移动单位的字符串值(按选项卡或按组)。\r\n\t* "value": 表示移动的位置数或移动的绝对位置的数值。',toggleInlineView:"切换内联视图",compare:"比较",enablePreview:"已在设置中启用预览编辑器。",disablePreview:"已在设置中禁用预览编辑器。",learnMode:"了解详细信息"},"vs/workbench/browser/parts/editor/textResourceEditor":{textEditor:"文本编辑器"},"vs/workbench/browser/parts/titlebar/titlebarPart":{patchedWindowTitle:"[不受支持]",userIsAdmin:"[管理员]",userIsSudo:"[超级用户]",devExtensionWindowTitlePrefix:"[扩展开发宿主]"},"vs/workbench/browser/parts/notifications/notificationsList":{notificationAriaLabel:"{0}，通知",notificationWithSourceAriaLabel:"{0}，源: {1}，通知",notificationsList:"通知列表"},"vs/workbench/browser/parts/notifications/notificationsActions":{clearIcon:"通知中“清除”操作的图标。",clearAllIcon:"通知中“全部清除”操作的图标。",hideIcon:"通知中“隐藏”操作的图标。",expandIcon:"通知中“展开”操作的图标。",collapseIcon:"通知中“折叠”操作的图标。",configureIcon:"通知中“配置”操作的图标。",clearNotification:"清除通知",clearNotifications:"清除所有通知",hideNotificationsCenter:"隐藏通知",expandNotification:"展开通知",collapseNotification:"折叠通知",configureNotification:"配置通知",copyNotification:"复制文本"},"vs/workbench/api/common/extHostDiagnostics":{limitHit:"未显示 {0} 个进一步的错误和警告。"},"vs/workbench/api/common/extHostProgress":{extensionSource:"{0} (扩展)"},"vs/workbench/api/common/extHostStatusBar":{"status.extensionMessage":"扩展状态"},"vs/workbench/api/common/extHostTreeViews":{"treeView.notRegistered":'未注册 ID 为 "{0}" 的树状视图。',"treeView.duplicateElement":"ID 为 {0} 的元素已被注册"},"vs/workbench/browser/parts/editor/textEditor":{editor:"编辑器"},"vs/workbench/api/browser/mainThreadCustomEditors":{defaultEditLabel:"编辑"},"vs/workbench/api/browser/mainThreadWebviews":{errorMessage:"还原视图时出错: {0}"},"vs/workbench/browser/parts/editor/tabsTitleControl":{ariaLabelTabActions:"选项卡操作"},"vs/workbench/browser/parts/editor/textDiffEditor":{textDiffEditor:"文本差异编辑器"},"vs/workbench/browser/parts/editor/binaryDiffEditor":{metadataDiff:"{0} ↔ {1}"},"vs/workbench/browser/parts/editor/editorStatus":{singleSelectionRange:"行 {0}，列 {1} (已选择{2})",singleSelection:"行 {0}，列 {1}",multiSelectionRange:"{0} 选择(已选择 {1} 个字符)",multiSelection:"{0} 选择",endOfLineLineFeed:"LF",endOfLineCarriageReturnLineFeed:"CRLF","screenReaderDetectedExplanation.question":"你正在使用屏幕阅读器来操作 VS Code? (使用屏幕阅读器时，会禁用自动换行功能)","screenReaderDetectedExplanation.answerYes":"是","screenReaderDetectedExplanation.answerNo":"否",noEditor:"当前没有活动的文本编辑器",noWritableCodeEditor:"活动代码编辑器为只读模式。",indentConvert:"转换文件",indentView:"更改视图",pickAction:"选择操作",tabFocusModeEnabled:"按 Tab 移动焦点",disableTabMode:"禁用辅助功能模式","status.editor.tabFocusMode":"辅助功能模式",columnSelectionModeEnabled:"列选择",disableColumnSelectionMode:"禁用列选择模式","status.editor.columnSelectionMode":"列选择模式",screenReaderDetected:"已为屏幕阅读器优化","status.editor.screenReaderMode":"屏幕阅读器模式",gotoLine:"转到行/列","status.editor.selection":"编辑器选择",selectIndentation:"选择缩进","status.editor.indentation":"编辑器缩进",selectEncoding:"选择编码","status.editor.encoding":"编辑器编码",selectEOL:"选择行尾序列","status.editor.eol":"编辑器结束行",selectLanguageMode:"选择语言模式","status.editor.mode":"编辑器语言",fileInfo:"文件信息","status.editor.info":"文件信息",spacesSize:"空格: {0}",tabSize:"制表符长度: {0}",currentProblem:"当前问题",showLanguageExtensions:"搜索“{0}”的应用市场扩展程序...",changeMode:"更改语言模式",languageDescription:"({0}) - 已配置的语言",languageDescriptionConfigured:"({0})",languagesPicks:"语言(标识符)",configureModeSettings:"配置“{0}”语言基础设置...",configureAssociationsExt:"“{0}”的配置文件关联...",autoDetect:"自动检测",pickLanguage:"选择语言模式",currentAssociation:"当前关联",pickLanguageToConfigure:"选择要与“{0}”关联的语言模式",changeEndOfLine:"更改行尾序列",pickEndOfLine:"选择行尾序列",changeEncoding:"更改文件编码",noFileEditor:"此时无活动文件",saveWithEncoding:"通过编码保存",reopenWithEncoding:"通过编码重新打开",guessedEncoding:"通过内容猜测",pickEncodingForReopen:"选择文件编码以重新打开文件",pickEncodingForSave:"选择用于保存的文件编码"},"vs/workbench/browser/parts/editor/editorActions":{splitEditor:"拆分编辑器",splitEditorOrthogonal:"正交拆分编辑器",splitEditorGroupLeft:"向左拆分编辑器",splitEditorGroupRight:"向右拆分编辑器",splitEditorGroupUp:"向上拆分编辑器",splitEditorGroupDown:"向下拆分编辑器",joinTwoGroups:"将编辑器组与下一组合并",joinAllGroups:"合并所有编辑器组",navigateEditorGroups:"在编辑器组间进行导航",focusActiveEditorGroup:"聚焦到活动编辑器组",focusFirstEditorGroup:"聚焦于第一个编辑器组",focusLastEditorGroup:"聚焦到最终组编辑器",focusNextGroup:"聚焦到下一组编辑器",focusPreviousGroup:"聚焦到上一组编辑器",focusLeftGroup:"聚焦到左侧编辑器组",focusRightGroup:"聚焦到右侧编辑器组",focusAboveGroup:"聚焦到上方编辑器组",focusBelowGroup:"聚焦到下方编辑器组",closeEditor:"关闭编辑器",unpinEditor:"取消固定编辑器",closeOneEditor:"关闭",revertAndCloseActiveEditor:"还原并关闭编辑器",closeEditorsToTheLeft:"关闭组中左侧编辑器",closeAllEditors:"关闭所有编辑器",closeAllGroups:"关闭所有编辑器组",closeEditorsInOtherGroups:"关闭其他组中的编辑器",closeEditorInAllGroups:"在所有组中关闭此编辑器",moveActiveGroupLeft:"向左移动编辑器组",moveActiveGroupRight:"向右移动编辑器组",moveActiveGroupUp:"向上移动编辑器组",moveActiveGroupDown:"向下移动编辑器组",minimizeOtherEditorGroups:"最大化编辑器组",evenEditorGroups:"重置编辑器组大小",toggleEditorWidths:"切换编辑器组大小",maximizeEditor:"最大化编辑器组并隐藏侧边栏",openNextEditor:"打开下一个编辑器",openPreviousEditor:"打开上一个编辑器",nextEditorInGroup:"打开组中的下一个编辑器",openPreviousEditorInGroup:"打开组中上一个编辑器",firstEditorInGroup:"打开组中的第一个编辑器",lastEditorInGroup:"打开组中上一个编辑器",navigateNext:"前进",navigatePrevious:"后退",navigateToLastEditLocation:"转到上一编辑位置",navigateLast:"转到最后",reopenClosedEditor:"重新打开已关闭的编辑器",clearRecentFiles:"清除最近打开",showEditorsInActiveGroup:"按最近使用显示活动组中的编辑器",showAllEditors:"按外观显示所有编辑器",showAllEditorsByMostRecentlyUsed:"按最近使用显示所有编辑器",quickOpenPreviousRecentlyUsedEditor:"快速打开上一个最近使用过的编辑器",quickOpenLeastRecentlyUsedEditor:"快速打开最近使用频率最低的编辑器",quickOpenPreviousRecentlyUsedEditorInGroup:"快速打开组中上一个最近使用过的编辑器",quickOpenLeastRecentlyUsedEditorInGroup:"快速打开组中最近使用频率最低的编辑器",navigateEditorHistoryByInput:"从历史记录中快速打开上一个编辑器",openNextRecentlyUsedEditor:"打开下一个最近使用的编辑器",openPreviousRecentlyUsedEditor:"打开上一个最近使用的编辑器",openNextRecentlyUsedEditorInGroup:"打开组中下一个最近使用的编辑器",openPreviousRecentlyUsedEditorInGroup:"打开组中上一个最近使用的编辑器",clearEditorHistory:"清除编辑器历史记录",moveEditorLeft:"向左移动编辑器",moveEditorRight:"向右移动编辑器",moveEditorToPreviousGroup:"将编辑器移动到上一组",moveEditorToNextGroup:"将编辑器移动到下一组",moveEditorToAboveGroup:"将编辑器移动到上方组",moveEditorToBelowGroup:"将编辑器移动到下方组",moveEditorToLeftGroup:"将编辑器移动到左侧组",moveEditorToRightGroup:"将编辑器移动到右侧组",moveEditorToFirstGroup:"将编辑器移动到第一组",moveEditorToLastGroup:"将编辑器移动到最后一组",editorLayoutSingle:"单列编辑器布局",editorLayoutTwoColumns:"双列编辑器布局",editorLayoutThreeColumns:"三列编辑器布局",editorLayoutTwoRows:"双行编辑器布局",editorLayoutThreeRows:"三行编辑器布局",editorLayoutTwoByTwoGrid:"2x2 网格编辑器布局",editorLayoutTwoColumnsBottom:"底部双列编辑器布局",editorLayoutTwoRowsRight:"右侧双行编辑器布局",newEditorLeft:"在左侧新建编辑器组",newEditorRight:"在右侧新建编辑器组",newEditorAbove:"在上方新建编辑器组",newEditorBelow:"在下方新建编辑器组","workbench.action.reopenWithEditor":"重新打开编辑器的方式…","workbench.action.toggleEditorType":"切换编辑器类型"},"vs/workbench/browser/parts/editor/editorQuickAccess":{noViewResults:"没有匹配的编辑器",entryAriaLabelWithGroupDirty:"{0}，存在更新，{1}",entryAriaLabelWithGroup:"{0}, {1}",entryAriaLabelDirty:"{0}，存在更新",closeEditor:"关闭编辑器"},"vs/workbench/browser/parts/editor/binaryEditor":{binaryEditor:"二进制查看器",nativeFileTooLargeError:"文件太大，无法在编辑器中显示 ({0})。",nativeBinaryError:"此文件是二进制文件或使用了不支持的文本编码，无法在编辑器中显示。",openAsText:"是否仍要打开?"},"vs/workbench/browser/parts/notifications/notificationsViewer":{executeCommand:'单击以执行命令 "{0}"',notificationActions:"通知操作",notificationSource:"来源: {0}"},"vs/workbench/browser/parts/editor/titleControl":{ariaLabelEditorActions:"编辑器操作",draggedEditorGroup:"{0} (+{1})"},"vs/workbench/browser/parts/editor/breadcrumbsControl":{"cmd.toggle":"切换导航路径",miShowBreadcrumbs:"显示导航痕迹(&&B)","cmd.focus":"聚焦到“导航路径”视图"},"vs/workbench/browser/parts/editor/breadcrumbs":{title:"导航路径",enabled:"启用/禁用导航路径。",filepath:"控制是否及如何在“导航路径”视图中显示文件路径。","filepath.on":"在导航路径视图中显示文件路径。","filepath.off":"不在导航路径视图中显示文件路径。","filepath.last":"在导航路径视图中仅显示文件路径的最后一个元素。",symbolpath:"控制是否及如何在“导航路径”视图中显示符号。","symbolpath.on":"在“导航路径”视图中显示所有符号。","symbolpath.off":"不在导航路径视图中显示符号。","symbolpath.last":"在导航路径视图中仅显示当前符号。",symbolSortOrder:"控制“导航路径”大纲视图中符号的排序方式。","symbolSortOrder.position":"以文件位置顺序显示符号大纲。","symbolSortOrder.name":"以字母顺序显示符号大纲。","symbolSortOrder.type":"以符号类型顺序显示符号大纲。",icons:"使用图标渲染面包屑导航项。","filteredTypes.file":"启用后，痕迹导航栏将显示“文件”符号。","filteredTypes.module":"启用后，痕迹导航栏将显示“模块”符号。","filteredTypes.namespace":"启用后，痕迹导航栏将显示“命名空间”符号。","filteredTypes.package":"启用后，痕迹导航栏将显示“包”符号。","filteredTypes.class":"启用后，痕迹导航栏显示“类”符号。","filteredTypes.method":"启用后，痕迹导航栏将显示“方法”符号。","filteredTypes.property":"启用后，痕迹导航栏将显示“属性”符号。","filteredTypes.field":"启用后，痕迹导航栏将显示“字段”符号。","filteredTypes.constructor":"启用后，痕迹符将显示“构造函数”符号。","filteredTypes.enum":"启用后，痕迹导航栏将显示“枚举”符号。","filteredTypes.interface":"启用后，痕迹导航栏将显示“接口”符号。","filteredTypes.function":"启用后，痕迹导航栏将显示“函数”符号。","filteredTypes.variable":"启用后，痕迹导航栏将显示“变量”符号。","filteredTypes.constant":"启用后，痕迹导航栏将显示“常量”符号。","filteredTypes.string":"启用后，痕迹导航栏将显示“字符串”符号。","filteredTypes.number":"启用后，痕迹导航栏将显示“数字”符号。","filteredTypes.boolean":"启用后，痕迹导航栏将显示“布尔”符号。","filteredTypes.array":"启用后，痕迹导航栏将显示“数组”符号。","filteredTypes.object":"启用后，痕迹导航栏将显示“对象”符号。","filteredTypes.key":"启用后，痕迹导航栏将显示“键”符号。","filteredTypes.null":'启用后，痕迹导航栏将显示 "null" 符号。',"filteredTypes.enumMember":'启用后，痕迹导航栏将显示 "enumMember" 符号。',"filteredTypes.struct":"启用后，痕迹导航栏将显示“结构”符号。","filteredTypes.event":"启用后，痕迹导航栏将显示“事件”符号。","filteredTypes.operator":"启用后，痕迹导航栏将显示“运算符”符号。","filteredTypes.typeParameter":'启用后，痕迹导航栏将显示 "typeParameter" 符号。'},"vs/workbench/browser/parts/editor/breadcrumbsPicker":{breadcrumbs:"痕迹导航"},"vs/workbench/contrib/backup/electron-sandbox/backupTracker":{backupTrackerBackupFailed:"一个或多个未保存的编辑器无法保存到备份位置。",backupTrackerConfirmFailed:"无法保存或还原一个或多个未保存的编辑器。",ok:"确定",backupErrorDetails:"请尝试先保存或还原未保存的编辑器，然后重试。"},"vs/workbench/contrib/bulkEdit/browser/bulkEditService":{"summary.0":"未做编辑","summary.nm":"在 {1} 个文件中进行了 {0} 次编辑","summary.n0":"在 1 个文件中进行了 {0} 次编辑",workspaceEdit:"工作区编辑",nothing:"未做编辑"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEdit.contribution":{overlap:"正在预览另一个重构。",cancel:"取消",continue:"继续",detail:'按"继续"放弃以前的重构，继续当前重构。',apply:"应用重构",cat:"重构预览",Discard:"放弃重构",toogleSelection:"切换更改",groupByFile:"按文件分组更改",groupByType:"按类型分组更改",refactorPreviewViewIcon:"查看重构预览视图的图标。",panel:"重构预览"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPane":{"empty.msg":"调用代码操作(如重命名操作)，在此处查看其更改的预览。","conflict.1":"无法应用重构，因为“{0}”在此期间进行了修改。","conflict.N":"无法应用重构，因为其他 {0} 个文件在此期间进行了修改。","edt.title.del":"{0}(删除、重构预览)",rename:"重命名",create:"创建","edt.title.2":"{0}({1}、重构预览)","edt.title.1":"{0}(重构预览)"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPreview":{default:"其他"},"vs/workbench/contrib/bulkEdit/browser/preview/bulkEditTree":{bulkEdit:"批量编辑","aria.renameAndEdit":"将{0}重命名为{1}，同时进行文本编辑","aria.createAndEdit":"创建{0}，同时进行文本编辑","aria.deleteAndEdit":"正在删除 {0}，同时进行文本编辑","aria.editOnly":"{0}，进行文本编辑","aria.rename":"将 {0} 重命名为 {1}","aria.create":"创建{0}","aria.delete":"删除 {0}","aria.replace":"行{0}，用{2}替换{1}","aria.del":"行 {0}，正在删除 {1}","aria.insert":"行{0}，插入{1}","rename.label":"{0} → {1}","detail.rename":"(重命名)","detail.create":"(正在创建)","detail.del":"(删除)",title:"{0} - {1}"},"vs/workbench/contrib/callHierarchy/browser/callHierarchy.contribution":{"no.item":"无结果",error:"未能显示调用层次结构",title:"速览调用层次结构","title.incoming":"显示来电",showIncomingCallsIcons:"“调用层次结构”视图中传入调用的图标。","title.outgoing":"显示去电",showOutgoingCallsIcon:"“调用层次结构”视图中传出调用的图标。","title.refocus":"重新聚焦调用层次结构",close:"关闭"},"vs/workbench/contrib/callHierarchy/browser/callHierarchyPeek":{callFrom:'来自"{0}"的调用',callsTo:'"{0}"的调用方',"title.loading":"正在加载...","empt.callsFrom":'没有来自 "{0}" 的调用',"empt.callsTo":'没有"{0}"的调用方'},"vs/workbench/contrib/callHierarchy/browser/callHierarchyTree":{"tree.aria":"调用层次结构",from:"来自 {0} 的调用",to:"{0} 的调用方"},"vs/workbench/contrib/cli/node/cli.contribution":{shellCommand:"Shell 命令",install:"在 PATH 中安装“{0}”命令","not available":"此命令不可用",ok:"确定",cancel2:"取消",warnEscalation:'代码将通过 "osascript" 提示需要管理员权限才可安装 shell 命令。',cantCreateBinFolder:'无法创建 "/usr/local/bin"。',aborted:"已中止",successIn:"已成功在 PATH 中安装了 Shell 命令“{0}”。",uninstall:"从 PATH 中卸载“{0}”命令",warnEscalationUninstall:'Code 将使用 "osascript" 来提示获取管理员权限，从而卸载 Shell 命令。',cantUninstall:"无法卸载 Shell 命令“{0}”。",successFrom:"已成功从 PATH 卸载 Shell 命令“{0}”。"},"vs/workbench/contrib/codeActions/common/codeActionsContribution":{"codeActionsOnSave.fixAll":"控制是否应在文件保存时运行自动修复操作。",codeActionsOnSave:"在保存时运行的代码操作类型。","codeActionsOnSave.generic":'控制是否应在文件保存时运行"{0}"操作。'},"vs/workbench/contrib/codeActions/common/codeActionsExtensionPoint":{"contributes.codeActions":"配置资源要使用的编辑器。","contributes.codeActions.languages":"启用代码操作的语言模式。","contributes.codeActions.kind":'贡献代码操作的"代码操作种类"。',"contributes.codeActions.title":"UI 中使用的代码操作的标签。","contributes.codeActions.description":"代码操作的说明。"},"vs/workbench/contrib/codeActions/common/documentationExtensionPoint":{"contributes.documentation":"贡献的文档。","contributes.documentation.refactorings":"为重构提供了文档。","contributes.documentation.refactoring":"为重构提供了文档。","contributes.documentation.refactoring.title":"UI 中使用的文档的标签。","contributes.documentation.refactoring.when":"当子句。","contributes.documentation.refactoring.command":"命令已执行。"},"vs/workbench/contrib/codeEditor/electron-browser/startDebugTextMate":{startDebugTextMate:"启动文本配对语法语法日志记录"},"vs/workbench/contrib/codeEditor/electron-sandbox/selectionClipboard":{"actions.pasteSelectionClipboard":"粘贴选择剪贴板"},"vs/workbench/contrib/codeEditor/browser/languageConfigurationExtensionPoint":{parseErrors:"错误分析 {0}: {1}",formatError:"{0}: 格式无效，应为 JSON 对象。","schema.openBracket":"左方括号字符或字符串序列。","schema.closeBracket":"右方括号字符或字符串序列。","schema.comments":"定义注释符号","schema.blockComments":"定义块注释的标记方式。","schema.blockComment.begin":"作为块注释开头的字符序列。","schema.blockComment.end":"作为块注释结尾的字符序列。","schema.lineComment":"作为行注释开头的字符序列。","schema.brackets":"定义增加和减少缩进的括号。","schema.autoClosingPairs":"定义括号对。当输入左方括号时，将自动插入右方括号。","schema.autoClosingPairs.notIn":"定义禁用了自动配对的作用域列表。","schema.autoCloseBefore":'在自动闭合设置为 "languageDefined" 时，定义使括号或引号自动闭合的光标后面的字符。通常是不会成为表达式开头的一组字符。',"schema.surroundingPairs":"定义可用于包围所选字符串的括号对。","schema.wordPattern":"定义一下在编程语言里什么东西会被当做是一个单词。","schema.wordPattern.pattern":"用于匹配文本的正则表达式模式。","schema.wordPattern.flags":"用于匹配文本的正则表达式标志。","schema.wordPattern.flags.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules":"语言的缩进设置。","schema.indentationRules.increaseIndentPattern":"如果一行文本匹配此模式，则之后所有内容都应被缩进一次(直到匹配其他规则)。","schema.indentationRules.increaseIndentPattern.pattern":"increaseIndentPattern 的正则表达式模式。","schema.indentationRules.increaseIndentPattern.flags":"increaseIndentPattern 的正则表达式标志。","schema.indentationRules.increaseIndentPattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules.decreaseIndentPattern":"如果某行文本匹配此模式，则其后所有行都应被取消缩进一次 (直到匹配其他规则)。","schema.indentationRules.decreaseIndentPattern.pattern":"decreaseIndentPattern 的正则表达式模式。","schema.indentationRules.decreaseIndentPattern.flags":"decreaseIndentPattern 的正则表达式标志。","schema.indentationRules.decreaseIndentPattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules.indentNextLinePattern":"如果某一行匹配此模式，那么仅此行之后的**下一行**应缩进一次。","schema.indentationRules.indentNextLinePattern.pattern":"indentNextLinePattern 的正则表达式模式。","schema.indentationRules.indentNextLinePattern.flags":"indentNextLinePattern 的正则表达式标志。","schema.indentationRules.indentNextLinePattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.indentationRules.unIndentedLinePattern":"如果某一行匹配此模式，那么不应更改此行的缩进，且不应针对其他规则对其进行计算。","schema.indentationRules.unIndentedLinePattern.pattern":"unIndentedLinePattern 的正则表达式模式。","schema.indentationRules.unIndentedLinePattern.flags":"unIndentedLinePattern 的正则表达式标志。","schema.indentationRules.unIndentedLinePattern.errorMessage":"必须匹配模式“/^([gimuy]+)$/”。","schema.folding":"此语言的折叠设置。","schema.folding.offSide":"若一种语言使用缩进表示其代码块，它将遵循越位规则 (off-side rule)。若设置此项，空白行将属于其之后的代码块。","schema.folding.markers":'语言特定的折叠标记。例如，"#region" 与 "#endregion"。开始与结束标记的正则表达式需设计得效率高，因其将对每一行的内容进行测试。',"schema.folding.markers.start":'开始标记的正则表达式模式。其应以 "^" 开始。',"schema.folding.markers.end":'结束标记的正则表达式模式。其应以 "^" 开始。'},"vs/workbench/contrib/codeEditor/browser/quickaccess/gotoSymbolQuickAccess":{empty:"无匹配项",gotoSymbolQuickAccessPlaceholder:"键入要转到的符号的名称。",gotoSymbolQuickAccess:"转到编辑器中的符号",gotoSymbolByCategoryQuickAccess:"按类别转到编辑器中的符号",gotoSymbol:"转到编辑器中的符号..."},"vs/workbench/contrib/codeEditor/browser/accessibility/accessibility":{emergencyConfOn:'现在将设置 "editor.accessibilitySupport" 更改为 "on"。',openingDocs:"正在打开 VS Code 辅助功能文档页面。",introMsg:"感谢试用 VS Code 的辅助功能选项。",status:"状态:",changeConfigToOnMac:"要配置编辑器对屏幕阅读器进行永久优化，请按 Command+E。",changeConfigToOnWinLinux:"要配置编辑器对屏幕阅读器进行永久优化，请按 Ctrl+E。",auto_unknown:"编辑器被配置为使用平台 API 以检测是否附加了屏幕阅读器，但当前运行时不支持此功能。",auto_on:"编辑器自动检测到已附加屏幕阅读器。",auto_off:"编辑器被配置为自动检测是否附加了屏幕阅读器，当前未检测到。",configuredOn:'已配置编辑器对屏幕阅读器进行永久优化 — 您可以更改 "editor.accessibilitySupport" 设置进行调整。',configuredOff:"编辑器被配置为不对屏幕阅读器的使用进行优化。",tabFocusModeOnMsg:"在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。通过按 {0} 切换此行为。",tabFocusModeOnMsgNoKb:"在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。当前无法通过按键绑定触发命令 {0}。",tabFocusModeOffMsg:"在当前编辑器中按 Tab 将插入制表符。通过按 {0} 切换此行为。",tabFocusModeOffMsgNoKb:"在当前编辑器中按 Tab 会插入制表符。当前无法通过键绑定触发命令 {0}。",openDocMac:"按 Command+H 以打开浏览器窗口，其中包含更多有关 VS Code 辅助功能的信息。",openDocWinLinux:"按 Ctrl+H 以打开浏览器窗口，其中包含更多有关 VS Code 辅助功能的信息。",outroMsg:"你可以按 Esc 或 Shift+Esc 消除此工具提示并返回到编辑器。",ShowAccessibilityHelpAction:"显示辅助功能帮助"},"vs/workbench/contrib/codeEditor/browser/diffEditorHelper":{hintTimeout:"差异算法已提前停止(在 {0} ms 之后)",removeTimeout:"删除限制",hintWhitespace:"显示空白差异"},"vs/workbench/contrib/codeEditor/browser/inspectKeybindings":{"workbench.action.inspectKeyMap":"开发人员: 检查按键映射","workbench.action.inspectKeyMapJSON":"检查按键映射(JSON)"},"vs/workbench/contrib/codeEditor/browser/largeFileOptimizations":{largeFile:"{0}: 为减少内存使用并避免卡顿或崩溃，我们已关闭对此大型文件内容的标记、折行和折叠。",removeOptimizations:"强制启用功能",reopenFilePrompt:"请重新打开文件以使此设置生效。"},"vs/workbench/contrib/codeEditor/browser/inspectEditorTokens/inspectEditorTokens":{inspectEditorTokens:"开发人员: 检查编辑器标记和作用域","inspectTMScopesWidget.loading":"正在加载..."},"vs/workbench/contrib/codeEditor/browser/quickaccess/gotoLineQuickAccess":{gotoLineQuickAccessPlaceholder:"键入要转到的行号和可选列(例如，42:5表示第 42 行和第 5 列)。",gotoLineQuickAccess:"转到行/列",gotoLine:"转到行/列..."},"vs/workbench/contrib/codeEditor/browser/saveParticipants":{formatting:"正在运行“{0}”格式化程序([配置](command:workbench.action.openSettings?%5B%22editor.formatOnSave%22%5D))。",codeaction:"快速修复","codeaction.get":"正在从“{0}”获取代码操作([配置](command:workbench.action.openSettings?%5B%22editor.codeActionsOnSave%22%5D))。","codeAction.apply":"正在应用代码操作“{0}”。"},"vs/workbench/contrib/codeEditor/browser/toggleColumnSelection":{toggleColumnSelection:"切换列选择模式",miColumnSelection:"列选择模式(&&S)"},"vs/workbench/contrib/codeEditor/browser/toggleMinimap":{toggleMinimap:"切换到迷你地图",miShowMinimap:"显示缩略图(&&M)"},"vs/workbench/contrib/codeEditor/browser/toggleMultiCursorModifier":{toggleLocation:"切换多行修改键",miMultiCursorAlt:"切换为“Alt+单击”进行多光标功能",miMultiCursorCmd:"切换为“Cmd+单击”进行多光标功能",miMultiCursorCtrl:"切换为“Ctrl+单击”进行多光标功能"},"vs/workbench/contrib/codeEditor/browser/toggleRenderControlCharacter":{toggleRenderControlCharacters:"切换控制字符",miToggleRenderControlCharacters:"呈现控制字符(&&C)"},"vs/workbench/contrib/codeEditor/browser/toggleRenderWhitespace":{toggleRenderWhitespace:"切换呈现空格",miToggleRenderWhitespace:"呈现空格(&&R)"},"vs/workbench/contrib/codeEditor/browser/toggleWordWrap":{"toggle.wordwrap":"查看: 切换自动换行",unwrapMinified:"在此文件禁用折行",wrapMinified:"在此文件启用折行",miToggleWordWrap:"切换自动换行(&&W)"},"vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget":{"label.find":"查找","placeholder.find":"查找","label.previousMatchButton":"上一个匹配项","label.nextMatchButton":"下一个匹配项","label.closeButton":"关闭"},"vs/workbench/contrib/codeEditor/browser/find/simpleFindReplaceWidget":{"label.find":"查找","placeholder.find":"查找","label.previousMatchButton":"上一个匹配项","label.nextMatchButton":"下一个匹配项","label.closeButton":"关闭","label.toggleReplaceButton":"切换替换模式","label.replace":"替换","placeholder.replace":"替换","label.replaceButton":"替换","label.replaceAllButton":"全部替换"},"vs/workbench/contrib/comments/browser/comments.contribution":{commentsConfigurationTitle:"评论",openComments:"控制评论面板应何时打开。"},"vs/workbench/contrib/comments/browser/commentsEditorContribution":{pickCommentService:'选择 "注释提供程序"',nextCommentThreadAction:"转到下一条评论串"},"vs/workbench/contrib/comments/browser/commentsView":{collapseAll:"全部折叠",rootCommentsLabel:"当前工作区的注释",resourceWithCommentThreadsLabel:"{0} 中的注释，完整路径: {1}",resourceWithCommentLabel:"{3} 中第 {1} 行第 {2} 列中来自 ${0} 的注释，源: {4}"},"vs/workbench/contrib/comments/browser/commentsTreeViewer":{imageWithLabel:"图片: {0}",image:"图片"},"vs/workbench/contrib/comments/browser/commentGlyphWidget":{editorGutterCommentRangeForeground:"编辑器导航线中表示评论范围的颜色。"},"vs/workbench/contrib/comments/browser/commentThreadWidget":{collapseIcon:"用于折叠审阅注释的图标。","label.collapse":"折叠",startThread:"开始讨论",reply:"回复...",newComment:"键入新注释"},"vs/workbench/contrib/comments/common/commentModel":{noComments:"此工作区中尚无注释。"},"vs/workbench/contrib/comments/browser/commentNode":{commentToggleReaction:"切换反应",commentToggleReactionError:"切换注释反应失败: {0}。",commentToggleReactionDefaultError:"切换注释反应失败",commentDeleteReactionError:"未能删除评论回应: {0}。",commentDeleteReactionDefaultError:"未能删除评论回应",commentAddReactionError:"未能删除评论回应: {0}。",commentAddReactionDefaultError:"未能删除评论回应"},"vs/workbench/contrib/comments/browser/reactionsAction":{pickReactions:"选取反应..."},"vs/workbench/contrib/customEditor/browser/customEditors":{openWithCurrentlyActive:"当前处于活动状态","promptOpenWith.setDefaultTooltip":"设置为“{0}”文件的默认编辑器","promptOpenWith.placeHolder":"选择要用于“{0}”的编辑器..."},"vs/workbench/contrib/customEditor/common/contributedCustomEditors":{builtinProviderDisplayName:"内置","promptOpenWith.defaultEditor.displayName":"文本编辑器"},"vs/workbench/contrib/customEditor/common/extensionPoint":{"contributes.customEditors":"提供的自定义编辑器。","contributes.viewType":'自定义编辑器的标识符。它在所有自定义编辑器中都必须是唯一的，因此建议将扩展 ID 作为 "viewType" 的一部分包括在内。在使用 "vscode.registerCustomEditorProvider" 和在 "onCustomEditor:${id}" [激活事件](https://code.visualstudio.com/api/references/activation-events)中注册自定义编辑器时，使用 "viewType"。',"contributes.displayName":"自定义编辑器的用户可读名称。当选择要使用的编辑器时，向用户显示此名称。","contributes.selector":"为其启用了自定义编辑器的一组 glob。","contributes.selector.filenamePattern":"为其启用了自定义编辑器的 glob。","contributes.priority":'控制在用户打开文件时是否自动启用自定义编辑器。用户可能会使用 "workbench.editorAssociations" 设置覆盖此项。',"contributes.priority.default":"在用户打开资源时自动使用此编辑器，前提是没有为该资源注册其他默认的自定义编辑器。","contributes.priority.option":"在用户打开资源时不会自动使用此编辑器，但用户可使用 `Reopen With` 命令切换到此编辑器。"},"vs/workbench/contrib/debug/common/debug":{internalConsoleOptions:"控制何时打开内部调试控制台。"},"vs/workbench/contrib/debug/browser/debug.contribution":{debugCategory:"调试",runCategory:"运行",startDebugPlaceholder:"键入准备运行的启动配置的名称。",startDebuggingHelp:"开始调试",terminateThread:"终止线程",debugFocusConsole:"聚焦到“调试控制台”视图",jumpToCursor:"跳转到光标",SetNextStatement:"设置下一语句",inlineBreakpoint:"内联断点",stepBackDebug:"后退",reverseContinue:"反向",restartFrame:"重启框架",copyStackTrace:"复制调用堆栈",setValue:"设置值",copyValue:"复制值",copyAsExpression:"复制表达式",addToWatchExpressions:"添加到监视",breakWhenValueChanges:"值更改时中断",miViewRun:"运行(&&R)",miToggleDebugConsole:"调试控制台(&&B)",miStartDebugging:"启动调试(&&S)",miRun:"以非调试模式运行(&&W)",miStopDebugging:"停止调试(&&S)","miRestart Debugging":"重启调试(&&R)",miOpenConfigurations:"打开配置(&&C)",miAddConfiguration:"添加配置(&&D)...",miStepOver:"单步跳过(&&O)",miStepInto:"单步执行(&&I)",miStepOut:"单步停止(&&U)",miContinue:"继续(&&C)",miToggleBreakpoint:"切换断点(&&B)",miConditionalBreakpoint:"条件断点(&&C)...",miInlineBreakpoint:"内联断点(&&O)",miFunctionBreakpoint:"函数断点(&&F)...",miLogPoint:"记录点(&&L)...",miNewBreakpoint:"新建断点(&&N)",miEnableAllBreakpoints:"启用所有断点(&&E)",miDisableAllBreakpoints:"禁用所有断点(&&L)",miRemoveAllBreakpoints:"删除所有断点(&&A)",miInstallAdditionalDebuggers:"安装附加调试器(&&I)...",debugPanel:"调试控制台",run:"运行",variables:"变量",watch:"监视",callStack:"调用堆栈",breakpoints:"断点",loadedScripts:"已载入的脚本",debugConfigurationTitle:"调试",allowBreakpointsEverywhere:"允许在任何文件中设置断点。",openExplorerOnEnd:"在调试会话结束时自动打开资源管理器视图。",inlineValues:"当处于调试过程中时，在编辑器中内联显示变量值。",toolBarLocation:"控制调试工具栏的位置。可在所有视图中“浮动”、在调试视图中“停靠”，也可“隐藏”。",never:"在状态栏中不再显示调试",always:"始终在状态栏中显示调试",onFirstSessionStart:"仅于第一次启动调试后在状态栏中显示调试",showInStatusBar:"控制何时显示调试状态栏。","debug.console.closeOnEnd":"控制调试控制台是否应在调试会话结束时自动关闭。",openDebug:"控制何时打开“调试”视图。",showSubSessionsInToolBar:"控制调试子会话是否显示在调试工具栏中。当此设置为 false 时, 子会话上的 stop 命令也将停止父会话。","debug.console.fontSize":"控制调试控制台中的字体大小(以像素为单位)。","debug.console.fontFamily":"控制调试控制台中的字体系列。","debug.console.lineHeight":"设置调试控制台中的行高(以像素为单位)。使用 0 来计算从字体大小开始的行高。","debug.console.wordWrap":"控制是否应在调试控制台中换行。","debug.console.historySuggestions":"控制调试控制台是否应建议以前键入的输入。",launch:'全局调试启动配置。应当作为跨工作区共享的 \\"launch.json\\" 的替代方法。',"debug.focusWindowOnBreak":"控制当调试器中断时，工作台窗口是否应获得焦点。",debugAnyway:"忽略任务错误并开始调试。",showErrors:"显示问题视图且不开始调试。",prompt:"提示用户。",cancel:"取消调试。","debug.onTaskErrors":"控制在运行预启动任务后遇到错误时应该怎么做。",showBreakpointsInOverviewRuler:"控制断点是否应显示在概览标尺中。",showInlineBreakpointCandidates:"控制调试时是否应在编辑器中显示内联断点候选修饰。"},"vs/workbench/contrib/debug/browser/debugEditorContribution":{addConfiguration:"添加配置…"},"vs/workbench/contrib/debug/browser/breakpointEditorContribution":{logPoint:"记录点",breakpoint:"断点",breakpointHasConditionDisabled:"此{0}的{1}将在删除后丢失。请考虑仅启用此{0}。",message:"消息",condition:"条件",breakpointHasConditionEnabled:"此{0}的{1}将在删除后丢失。请考虑仅禁用此{0}。",removeLogPoint:"删除 {0}",disableLogPoint:"{0} {1}",disable:"禁用",enable:"启用",cancel:"取消",removeBreakpoint:"删除 {0}",editBreakpoint:"编辑 {0}…",disableBreakpoint:"禁用{0}",enableBreakpoint:"启用 {0}",removeBreakpoints:"删除断点",removeInlineBreakpointOnColumn:"删除第 {0} 列的内联断点",removeLineBreakpoint:"删除行断点",editBreakpoints:"编辑断点",editInlineBreakpointOnColumn:"编辑第 {0} 列的内联断点",editLineBrekapoint:"编辑行断点",enableDisableBreakpoints:"启用/禁用断点",disableInlineColumnBreakpoint:"禁用第 {0} 列的内联断点",disableBreakpointOnLine:"禁用行断点",enableBreakpoints:"启用第 {0} 列的内联断点",enableBreakpointOnLine:"启用行断点",addBreakpoint:"添加断点",addConditionalBreakpoint:"添加条件断点...",addLogPoint:"添加记录点...","debugIcon.breakpointForeground":"断点图标颜色。","debugIcon.breakpointDisabledForeground":"禁用断点的图标颜色。","debugIcon.breakpointUnverifiedForeground":"未验证断点的图标颜色。","debugIcon.breakpointCurrentStackframeForeground":"当前断点堆栈帧的图标颜色。","debugIcon.breakpointStackframeForeground":"所有断点堆栈帧的图标颜色。"},"vs/workbench/contrib/debug/browser/callStackEditorContribution":{topStackFrameLineHighlight:"堆栈帧中顶部一行的高亮背景色。",focusedStackFrameLineHighlight:"堆栈帧中焦点一行的高亮背景色。"},"vs/workbench/contrib/debug/browser/repl":{"workbench.debug.filter.placeholder":"筛选器(例如 text、!exclude)",debugConsole:"调试控制台",copy:"复制",copyAll:"全部复制",paste:"粘贴",collapse:"全部折叠",startDebugFirst:"请发起调试会话来对表达式求值","actions.repl.acceptInput":"接受 REPL 的输入","repl.action.filter":"REPL 将内容聚焦到筛选器","actions.repl.copyAll":"调试: 复制控制台所有内容",selectRepl:"选择调试控制台",clearRepl:"清除控制台",debugConsoleCleared:"调试控制台已清除"},"vs/workbench/contrib/debug/browser/debugViewlet":{startAdditionalSession:"启动其他会话",toggleDebugPanel:"调试控制台",toggleDebugViewlet:"显示运行和调试"},"vs/workbench/contrib/debug/common/abstractDebugAdapter":{timeout:"对于“{1}”，{0} 毫秒后超时 "},"vs/workbench/contrib/debug/browser/breakpointsView":{editCondition:"编辑条件",Logpoint:"记录点",Breakpoint:"断点",editBreakpoint:"编辑 {0}…",removeBreakpoint:"删除 {0}",expressionCondition:"表达式条件: {0}",functionBreakpointsNotSupported:"此调试类型不支持函数断点",dataBreakpointsNotSupported:"此调试类型不支持数据断点",functionBreakpointPlaceholder:"要断开的函数",functionBreakPointInputAriaLabel:"键入函数断点",exceptionBreakpointPlaceholder:"在表达式结果为 true 时中断",exceptionBreakpointAriaLabel:"类型异常断点条件",breakpoints:"断点",disabledLogpoint:"已禁用的记录点",disabledBreakpoint:"已禁用的断点",unverifiedLogpoint:"未验证的记录点",unverifiedBreakopint:"未验证的断点",functionBreakpointUnsupported:"不受此调试类型支持的函数断点",functionBreakpoint:"函数断点",dataBreakpointUnsupported:"此调试类型不支持数据断点",dataBreakpoint:"数据断点",breakpointUnsupported:"调试器不支持此类型的断点",logMessage:"日志消息: {0}",expression:"表达式条件: {0}",hitCount:"命中次数: {0}",breakpoint:"断点"},"vs/workbench/contrib/debug/browser/callStackView":{running:"正在运行",showMoreStackFrames2:"显示更多堆栈框架",session:"会话",thread:"线程",restartFrame:"重启框架",loadAllStackFrames:"加载所有堆栈帧",showMoreAndOrigin:"显示另外 {0} 个: {1}",showMoreStackFrames:"显示另外 {0} 个堆栈帧",callStackAriaLabel:"调试调用堆栈",threadAriaLabel:"线程 {0} {1}",stackFrameAriaLabel:"堆栈帧 {0}，行 {1}，{2}",sessionLabel:"会话 {0} {1}"},"vs/workbench/contrib/debug/browser/debugActions":{openLaunchJson:"打开 {0}",launchJsonNeedsConfigurtion:'配置或修复 "launch.json"',noFolderDebugConfig:"要执行高级调试配置，请先打开一个文件夹。",selectWorkspaceFolder:"选择工作区文件夹以在其中创建 launch.json 文件或将其添加到工作区配置文件",startDebug:"开始调试",startWithoutDebugging:"开始执行(不调试)",selectAndStartDebugging:"选择并开始调试",removeBreakpoint:"删除断点",removeAllBreakpoints:"删除所有断点",enableAllBreakpoints:"启用所有断点",disableAllBreakpoints:"禁用所有断点",activateBreakpoints:"激活断点",deactivateBreakpoints:"停用断点",reapplyAllBreakpoints:"重新应用所有断点",addFunctionBreakpoint:"添加函数断点",addWatchExpression:"添加表达式",removeAllWatchExpressions:"删除所有表达式",focusSession:"聚焦到“会话”视图",copyValue:"复制值"},"vs/workbench/contrib/debug/browser/debugToolBar":{debugToolBarBackground:"调试工具栏背景颜色。",debugToolBarBorder:"调试工具栏边框颜色。","debugIcon.startForeground":"用于开始调试的调试工具栏图标。","debugIcon.pauseForeground":"用于暂停的调试工具栏图标。","debugIcon.stopForeground":"用于停止的调试工具栏图标。","debugIcon.disconnectForeground":"用于断开连接的调试工具栏图标。","debugIcon.restartForeground":"用于重启的调试工具栏图标。","debugIcon.stepOverForeground":"用于单步执行的调试工具栏图标。","debugIcon.stepIntoForeground":"用于单步执行的调试工具栏图标。","debugIcon.stepOutForeground":"用于跳过的调试工具栏图标。","debugIcon.continueForeground":"用于继续的调试工具栏图标。","debugIcon.stepBackForeground":"用于后退的调试工具栏图标。"},"vs/workbench/contrib/debug/browser/debugService":{"1activeSession":"1 个活动会话",nActiveSessions:"{0}个活动会话",configurationAlreadyRunning:"调试配置“{0}”已在运行。",compoundMustHaveConfigurations:'复合项必须拥有 "configurations" 属性集，才能启动多个配置。',noConfigurationNameInWorkspace:"在工作区中找不到启动配置“{0}”。",multipleConfigurationNamesInWorkspace:"工作区中存在多个启动配置“{0}”。请使用文件夹名称来限定配置。",noFolderWithName:"无法在复合项“{2}”中为配置“{1}”找到名为“{0}”的文件夹。",configMissing:'"launch.json" 中缺少配置“{0}”。',launchJsonDoesNotExist:'传递的工作区文件夹没有 "launch.json"。',debugRequestNotSupported:"所选调试配置的属性“{0}”的值“{1}”不受支持。",debugRequesMissing:"所选的调试配置缺少属性“{0}”。",debugTypeNotSupported:"配置的类型“{0}”不受支持。",debugTypeMissing:'所选的启动配置缺少属性 "type"。',installAdditionalDebuggers:"安装 {0} 扩展",noFolderWorkspaceDebugError:"无法调试活动文件。请确保它已保存且你已为该文件类型安装了调试扩展。",debugAdapterCrash:"调试适配器进程意外终止 ({0})",cancel:"取消",debuggingPaused:"{0}:{1}，调试已暂停 {2}，{3}",breakpointAdded:"已添加断点，行 {0}，文件 {1}",breakpointRemoved:"已删除断点，行 {0}，文件 {1}"},"vs/workbench/contrib/debug/browser/statusbarColorProvider":{statusBarDebuggingBackground:"调试程序时状态栏的背景色。状态栏显示在窗口底部",statusBarDebuggingForeground:"调试程序时状态栏的前景色。状态栏显示在窗口底部",statusBarDebuggingBorder:"调试程序时区别于侧边栏和编辑器的状态栏边框颜色。状态栏显示在窗口底部。"},"vs/workbench/contrib/debug/browser/debugStatus":{"status.debug":"调试",debugTarget:"调试: {0}",selectAndStartDebug:"选择并启动调试配置"},"vs/workbench/contrib/debug/browser/debugCommands":{restartDebug:"重启",stepOverDebug:"单步跳过",stepIntoDebug:"单步调试",stepOutDebug:"单步跳出",pauseDebug:"暂停",disconnect:"断开连接",stop:"停止",continueDebug:"继续",chooseLocation:"选择特定位置",noExecutableCode:"当前光标位置没有关联的可执行代码。",jumpToCursor:"跳转到光标",debug:"调试",noFolderDebugConfig:"要执行高级调试配置，请先打开一个文件夹。",addInlineBreakpoint:"添加内联断点"},"vs/workbench/contrib/debug/browser/loadedScriptsView":{loadedScriptsSession:"调试会话",loadedScriptsAriaLabel:"在调试中已加载的脚本",loadedScriptsRootFolderAriaLabel:"工作区文件夹 {0}，已加载的脚本，调试",loadedScriptsSessionAriaLabel:"会话 {0}，已加载的脚本，调试",loadedScriptsFolderAriaLabel:"文件夹 {0}，已加载的脚本，调试",loadedScriptsSourceAriaLabel:"{0}，已加载的脚本，调试"},"vs/workbench/contrib/debug/browser/debugEditorActions":{toggleBreakpointAction:"调试: 切换断点",conditionalBreakpointEditorAction:"调试: 添加条件断点...",logPointEditorAction:"调试: 添加记录点...",runToCursor:"运行到光标处",evaluateInDebugConsole:"在调试控制台中评估",addToWatch:"添加到监视",showDebugHover:"调试: 显示悬停",stepIntoTargets:"直奔目标...",goToNextBreakpoint:"调试: 转到下一个断点",goToPreviousBreakpoint:"调试:到前面的断点",closeExceptionWidget:"关闭异常小组件"},"vs/workbench/contrib/debug/browser/watchExpressionsView":{editWatchExpression:"编辑表达式",removeWatchExpression:"删除表达式",watchExpressionInputAriaLabel:"键入监视表达式",watchExpressionPlaceholder:"要监视的表达式",watchAriaTreeLabel:"调试监视表达式",watchExpressionAriaLabel:"{0}，值 {1}",watchVariableAriaLabel:"{0}，值 {1}"},"vs/workbench/contrib/debug/browser/variablesView":{variableValueAriaLabel:"键入新的变量值",variablesAriaTreeLabel:"调试变量",variableScopeAriaLabel:"范围 {0}",variableAriaLabel:"{0}，值 {1}"},"vs/workbench/contrib/debug/common/debugContentProvider":{unable:"无法解析无调试会话的资源",canNotResolveSourceWithError:"无法加载源“{0}”: {1}。",canNotResolveSource:"无法加载源“{0}”。"},"vs/workbench/contrib/debug/browser/welcomeView":{run:"运行",openAFileWhichCanBeDebugged:"[打开文件](command:{0})，可调试或运行。",runAndDebugAction:"[运行和调试{0}](command:{1})",detectThenRunAndDebug:"[显示](command:{0})所有自动调试配置。",customizeRunAndDebug:"要自定义运行和调试[创建 launch.json 文件](command:{0})。",customizeRunAndDebugOpenFolder:"要自定义运行和调试，请[打开文件夹](command:{0}) 并创建一个启动.json 文件。"},"vs/workbench/contrib/debug/browser/debugQuickAccess":{noDebugResults:"没有匹配的启动配置",customizeLaunchConfig:"配置启动配置",contributed:"已提供",providerAriaLabel:"{0} 已提供的配置",configure:"配置",addConfigTo:"添加配置({0})…",addConfiguration:"添加配置…"},"vs/workbench/contrib/debug/browser/debugIcons":{debugConsoleViewIcon:"查看调试控制台视图的图标。",runViewIcon:"查看运行视图的图标。",variablesViewIcon:"查看变量视图的图标。",watchViewIcon:"查看监视视图的图标。",callStackViewIcon:"查看调用堆栈视图的图标。",breakpointsViewIcon:"查看断点视图的图标。",loadedScriptsViewIcon:"查看已加载脚本视图的图标。",debugBreakpoint:"断点的图标。",debugBreakpointDisabled:"已禁用的断点的图标。",debugBreakpointUnverified:"未验证的断点的图标。",debugBreakpointHint:"在编辑器字形边距中悬停时显示的断点提示的图标。",debugBreakpointFunction:"函数断点的图标。",debugBreakpointFunctionUnverified:"未验证的函数断点的图标。",debugBreakpointFunctionDisabled:"已禁用的函数断点的图标。",debugBreakpointUnsupported:"不受支持的断点的图标。",debugBreakpointConditionalUnverified:"未验证的条件断点的图标。",debugBreakpointConditional:"条件断点的图标。",debugBreakpointConditionalDisabled:"已禁用的条件断点的图标。",debugBreakpointDataUnverified:"未验证的数据断点的图标。",debugBreakpointData:"数据断点的图标。",debugBreakpointDataDisabled:"已禁用的数据断点的图标。",debugBreakpointLogUnverified:"未验证的日志断点的图标。",debugBreakpointLog:"日志断点的图标。",debugBreakpointLogDisabled:"已禁用的日志断点的图标。",debugStackframe:"编辑器字形边距中显示的堆栈帧的图标。",debugStackframeFocused:"编辑器字形边距中显示的具有焦点的堆栈帧的图标。",debugGripper:"调试条控制手柄的图标。",debugRestartFrame:"“调试重启帧”操作的图标。",debugStop:"“调试停止”操作的图标。",debugDisconnect:"“调试断开”操作的图标。",debugRestart:"“调试重启”操作的图标。",debugStepOver:"“调试越过子函数”操作的图标。",debugStepInto:"“调试进入子函数”的图标。",debugStepOut:"“调试跳出子函数”操作的图标。",debugStepBack:"“调试单步后退”操作的图标。",debugPause:"“调试暂停”操作的图标。",debugContinue:"“调试继续”操作的图标。",debugReverseContinue:"“调试反向继续”操作的图标。",debugStart:"“调试启动”操作的图标。",debugConfigure:"“调试配置”操作的图标。",debugConsole:"调试控制台的“打开”操作的图标。",debugCollapseAll:"调试视图中“全部折叠”操作的图标。",callstackViewSession:"“调用堆栈”视图中会话图标的图标。",debugConsoleClearAll:"调试控制台中“全部清除”操作的图标。",watchExpressionsRemoveAll:"监视视图中“全部删除”操作的图标。",watchExpressionsAdd:"监视视图中“添加”操作的图标。",watchExpressionsAddFuncBreakpoint:"监视视图中“添加函数断点”操作的图标。",breakpointsRemoveAll:"“断点”视图中“全部删除”操作的图标。",breakpointsActivate:"“断点”视图中“激活”操作的图标。",debugConsoleEvaluationInput:"调试评估输入标记的图标。",debugConsoleEvaluationPrompt:"调试评估提示的图标。"},"vs/workbench/contrib/debug/browser/exceptionWidget":{debugExceptionWidgetBorder:"异常小组件边框颜色。",debugExceptionWidgetBackground:"异常小组件背景颜色。",exceptionThrownWithId:"发生异常: {0}",exceptionThrown:"出现异常。",close:"关闭"},"vs/workbench/contrib/debug/browser/debugHover":{quickTip:"按住 {0} 键可切换到编辑器语言悬停",treeAriaLabel:"调试悬停",variableAriaLabel:"{0}，值 {1}，变量，调试"},"vs/workbench/contrib/debug/browser/breakpointWidget":{breakpointWidgetLogMessagePlaceholder:'断点命中时记录的消息。{} 内的表达式将被替换。按 "Enter" 键确认，"Esc" 键取消。',breakpointWidgetHitCountPlaceholder:'在命中次数条件满足时中断。按 "Enter" 键确认，"Esc" 键取消。',breakpointWidgetExpressionPlaceholder:'在表达式结果为真时中断。按 "Enter" 键确认，"Esc" 键取消。',expression:"表达式",hitCount:"命中次数",logMessage:"日志消息",breakpointType:"断点类型"},"vs/workbench/contrib/debug/browser/debugActionViewItems":{debugLaunchConfigurations:"调试启动配置",noConfigurations:"没有配置",addConfigTo:"添加配置({0})…",addConfiguration:"添加配置…",debugSession:"调试会话"},"vs/workbench/contrib/debug/browser/linkDetector":{fileLinkMac:"按住 Cmd 并单击可访问链接",fileLink:"按住 Ctrl 并单击可访问链接"},"vs/workbench/contrib/debug/browser/replViewer":{debugConsole:"调试控制台",replVariableAriaLabel:"变量 {0}，值 {1}",occurred:"，发生 {0} 次",replRawObjectAriaLabel:"调试控制台变量 {0}，值 {1}",replGroup:"调试控制器组 {0}"},"vs/workbench/contrib/debug/common/replModel":{consoleCleared:"控制台已清除",snapshotObj:"仅显示了此对象的基元值。"},"vs/workbench/contrib/debug/browser/replFilter":{"showing filtered repl lines":"正在显示第 {0} 页(共 {1} 页)"},"vs/workbench/contrib/debug/node/debugAdapter":{debugAdapterBinNotFound:"调试适配器可执行的“{0}”不存在。",debugAdapterCannotDetermineExecutable:"无法确定调试适配器“{0}”的可执行文件。",unableToLaunchDebugAdapter:"无法从“{0}”启动调试适配器。",unableToLaunchDebugAdapterNoArgs:"无法启动调试适配器。"},"vs/workbench/contrib/debug/common/debugModel":{invalidVariableAttributes:"无效的变量属性",startDebugFirst:"请发起调试会话来对表达式求值",notAvailable:"不可用",pausedOn:"因 {0} 已暂停",paused:"已暂停",running:"正在运行",breakpointDirtydHover:"未验证的断点。对文件进行了修改，请重启调试会话。"},"vs/workbench/contrib/debug/browser/debugConfigurationManager":{selectConfiguration:"选择启动配置",editLaunchConfig:"在 launch.json 中编辑调试配置","DebugConfig.failed":'无法在 ".vscode" 文件夹({0})内创建 "launch.json" 文件。',workspace:"工作区","user settings":"用户设置"},"vs/workbench/contrib/debug/browser/debugSession":{noDebugAdapter:"没有可用的调试程序，无法发送“{0}”",sessionNotReadyForBreakpoints:"会话还没有为断点做好准备",debuggingStarted:"已开始调试。",debuggingStopped:"已停止调试。"},"vs/workbench/contrib/debug/browser/debugTaskRunner":{preLaunchTaskErrors:"运行 preLaunchTask“{0}”后存在错误。",preLaunchTaskError:"运行 preLaunchTask“{0}”后存在错误。",preLaunchTaskExitCode:"preLaunchTask“{0}”已终止，退出代码为 {1}。",preLaunchTaskTerminated:'启动前任务"{0}"终止。',debugAnyway:"仍要调试",showErrors:"显示错误",abort:"中止",remember:"记住我在用户设置中的选择",invalidTaskReference:"无法在其他工作区文件夹的启动配置中引用任务“{0}”。",DebugTaskNotFoundWithTaskId:"找不到任务“{0}”。",DebugTaskNotFound:"找不到指定的任务。",taskNotTrackedWithTaskId:"无法跟踪指定的任务。",taskNotTracked:"无法跟踪任务“{0}”。"},"vs/workbench/contrib/debug/browser/debugAdapterManager":{debugNoType:'不可省略调试器的 "type" 属性，且其类型必须是 "string" 。',more:"更多...",selectDebug:"选择环境"},"vs/workbench/contrib/debug/common/debugSource":{unknownSource:"未知源"},"vs/workbench/contrib/debug/common/debugSchemas":{"vscode.extension.contributes.debuggers":"用于调试适配器。","vscode.extension.contributes.debuggers.type":"此调试适配器的唯一标识符。","vscode.extension.contributes.debuggers.label":"显示此调试适配器的名称。","vscode.extension.contributes.debuggers.program":"调试适配器程序的路径。该路径是绝对路径或相对于扩展文件夹的相对路径。","vscode.extension.contributes.debuggers.args":"要传递给适配器的可选参数。","vscode.extension.contributes.debuggers.runtime":"可选运行时，以防程序属性不可执行，但需要运行时。","vscode.extension.contributes.debuggers.runtimeArgs":"可选运行时参数。","vscode.extension.contributes.debuggers.variables":'正在将 "launch. json" 中的交互式变量(例如 ${action.pickProcess})映射到命令。',"vscode.extension.contributes.debuggers.initialConfigurations":'用于生成初始 "launch.json" 的配置。',"vscode.extension.contributes.debuggers.languages":"可能被视为“默认调试程序”的调试扩展的语言列表。","vscode.extension.contributes.debuggers.configurationSnippets":'用于在 "launch.json" 中添加新配置的代码段。',"vscode.extension.contributes.debuggers.configurationAttributes":'用于验证 "launch.json" 的 JSON 架构配置。',"vscode.extension.contributes.debuggers.windows":"Windows 特定的设置。","vscode.extension.contributes.debuggers.windows.runtime":"用于 Windows 的运行时。","vscode.extension.contributes.debuggers.osx":"macOS 特定的设置。","vscode.extension.contributes.debuggers.osx.runtime":"用于 macOS 的运行时。","vscode.extension.contributes.debuggers.linux":"Linux 特定的设置。","vscode.extension.contributes.debuggers.linux.runtime":"用于 Linux 的运行时。","vscode.extension.contributes.breakpoints":"添加断点。","vscode.extension.contributes.breakpoints.language":"对此语言允许断点。",presentation:"有关如何在调试配置下拉列表和命令面板中显示此配置的演示选项。","presentation.hidden":"控制此配置是否应显示在配置下拉列表和命令面板中。","presentation.group":"此配置所属的组。用于在配置下拉列表和命令面板中分组和排序。","presentation.order":"此配置在组内的顺序。用于在配置下拉列表和命令面板中分组和排序。","app.launch.json.title":"启动","app.launch.json.version":"此文件格式的版本。","app.launch.json.configurations":"配置列表。使用 IntelliSense 添加新配置或编辑现有配置。","app.launch.json.compounds":"复合列表。每个复合可引用多个配置，这些配置将一起启动。","app.launch.json.compound.name":"复合的名称。在启动配置下拉菜单中显示。",useUniqueNames:"配置名称必须唯一。","app.launch.json.compound.folder":"复合项所在的文件夹的名称。","app.launch.json.compounds.configurations":"将作为此复合的一部分启动的配置名称。","app.launch.json.compound.stopAll":"控制手动终止一个会话是否将停止所有复合会话。",compoundPrelaunchTask:"要在任何复合配置开始之前运行的任务。"},"vs/workbench/contrib/debug/browser/rawDebugSession":{noDebugAdapterStart:"没有调试适配器，无法启动调试会话。",noDebugAdapter:"未找到任何调试程序。无法发送“{0}”。",moreInfo:"详细信息"},"vs/workbench/contrib/debug/common/debugger":{"cannot.find.da":'找不到类型为 "{0}" 的调试适配器。',"launch.config.comment1":"使用 IntelliSense 了解相关属性。 ","launch.config.comment2":"悬停以查看现有属性的描述。","launch.config.comment3":"欲了解更多信息，请访问: {0}",debugType:"配置类型。",debugTypeNotRecognised:"无法识别此调试类型。确保已经安装并启用相应的调试扩展。",node2NotSupported:'不再支持 "node2"，改用 "node"，并将 "protocol" 属性设为 "inspector"。',debugName:"配置名称；显示在启动配置下拉菜单中。",debugRequest:"请求配置类型。可以是“启动”或“附加”。",debugServer:"仅用于调试扩展开发: 如果已指定端口，VS 代码会尝试连接到在服务器模式中运行的调试适配器",debugPrelaunchTask:"调试会话开始前要运行的任务。",debugPostDebugTask:"调试会话结束后运行的任务。",debugWindowsConfiguration:"特定于 Windows 的启动配置属性。",debugOSXConfiguration:"特定于 OS X 的启动配置属性。",debugLinuxConfiguration:"特定于 Linux 的启动配置属性。"},"vs/workbench/contrib/dialogs/browser/dialogHandler":{yesButton:"是(&&Y)",cancelButton:"取消",aboutDetail:"版本: {0}\r\n提交: {1}\r\n日期: {2}\r\n浏览器: {3}",copy:"复制",ok:"确定"},"vs/workbench/contrib/dialogs/electron-sandbox/dialogHandler":{yesButton:"是(&&Y)",cancelButton:"取消",aboutDetail:"版本: {0}\r\n提交: {1}\r\n日期: {2}\r\nElectron: {3}\r\nChrome: {4}\r\nNode.js: {5}\r\nV8: {6}\r\nOS: {7}",okButton:"确定",copy:"复制(&&C)"},"vs/workbench/contrib/emmet/browser/actions/expandAbbreviation":{expandAbbreviationAction:"Emmet: 展开缩写",miEmmetExpandAbbreviation:"Emmet: 展开缩写(&&X)"},"vs/workbench/contrib/experiments/browser/experiments.contribution":{"workbench.enableExperiments":"从 Microsoft 联机服务中获取要进行的实验。"},"vs/workbench/contrib/extensions/electron-browser/extensions.contribution":{runtimeExtension:"正在运行的扩展"},"vs/workbench/contrib/extensions/electron-browser/runtimeExtensionsEditor":{extensionHostProfileStart:"开始分析扩展宿主",stopExtensionHostProfileStart:"停止分析扩展宿主",saveExtensionHostProfile:"保存扩展宿主分析文件"},"vs/workbench/contrib/extensions/electron-browser/debugExtensionHostAction":{debugExtensionHost:"启动调试扩展宿主",restart1:"分析扩展",restart2:"需要重启，才能分析扩展。是否要立即重启“{0}”?",restart3:"重启(&&R)",cancel:"取消(&&C)","debugExtensionHost.launch.name":"附加扩展主机"},"vs/workbench/contrib/extensions/electron-browser/extensionProfileService":{profilingExtensionHost:"分析扩展主机",selectAndStartDebug:"单击可停止分析。",profilingExtensionHostTime:"分析扩展主机({0} 秒)","status.profiler":"扩展探查器",restart1:"分析扩展",restart2:"需要重启，才能分析扩展。是否要立即重启“{0}”?",restart3:"重启(&&R)",cancel:"取消(&&C)"},"vs/workbench/contrib/extensions/common/runtimeExtensionsInput":{extensionsInputName:"正在运行的扩展"},"vs/workbench/contrib/extensions/electron-browser/extensionsAutoProfiler":{"unresponsive-exthost":"扩展“{0}”的上一次操作花费时间较长，阻碍了其他扩展的运行。",show:"显示扩展程序"},"vs/workbench/contrib/extensions/electron-sandbox/extensionsActions":{openExtensionsFolder:"打开扩展文件夹"},"vs/workbench/contrib/extensions/browser/extensions.contribution":{manageExtensionsQuickAccessPlaceholder:"按 Enter 以管理扩展。",manageExtensionsHelp:"管理扩展",installVSIX:"安装扩展 VSIX",extension:"扩展",extensions:"扩展",extensionsConfigurationTitle:"扩展",extensionsAutoUpdate:"启用后，将自动安装扩展更新。更新将从 Microsoft 联机服务中获取。",extensionsCheckUpdates:"启用后，将自动检查扩展更新。若扩展存在更新，将在“扩展”视图中将其标记为过时扩展。更新将从 Microsoft 联机服务中获取。",extensionsIgnoreRecommendations:"启用后，将不会显示扩展建议的通知。",extensionsShowRecommendationsOnlyOnDemand_Deprecated:"已弃用此设置。使用 extensions.ignoreRecommendations 设置来控制建议通知。默认使用“扩展”视图的可见性操作来隐藏“建议”视图。",extensionsCloseExtensionDetailsOnViewChange:"启用后，将在离开“扩展”视图时，自动关闭扩展详细信息页面。",handleUriConfirmedExtensions:"当此处列出扩展名时，该扩展名处理URI时将不会显示确认提示。",extensionsWebWorker:"启用 Web Worker 扩展主机。","workbench.extensions.installExtension.description":"安装给定的扩展","workbench.extensions.installExtension.arg.name":"扩展 ID 或 VSIX 资源 URI",notFound:"找不到扩展“{0}”。","InstallVSIXAction.successReload":"已完成从 VSIX 安装 {0} 扩展的过程。请重新加载 Visual Studio Code 以启用它。","InstallVSIXAction.success":"已完成从 VSIX 安装 {0} 扩展的过程。","InstallVSIXAction.reloadNow":"立即重载","workbench.extensions.uninstallExtension.description":"卸载给定的扩展","workbench.extensions.uninstallExtension.arg.name":"要卸载的扩展的 id","id required":"扩展 ID 是必需的。",notInstalled:"未安装扩展“{0}”。请确保你使用包括发布者的完整的扩展 ID，例如 ms-vscode.csharp。",builtin:"扩展“{0}”是内置扩展，无法安装","workbench.extensions.search.description":"搜索特定扩展","workbench.extensions.search.arg.name":"要在搜索中使用的查询",miOpenKeymapExtensions:"键映射(&&K)",miOpenKeymapExtensions2:"键映射",miPreferencesExtensions:"扩展(&&E)",miViewExtensions:"扩展(&&X)",showExtensions:"扩展",installExtensionQuickAccessPlaceholder:"键入要安装或搜索的扩展的名称。",installExtensionQuickAccessHelp:"安装或搜索扩展","workbench.extensions.action.copyExtension":"复制",extensionInfoName:"名称: {0}",extensionInfoId:"ID: {0}",extensionInfoDescription:"说明: {0}",extensionInfoVersion:"版本: {0}",extensionInfoPublisher:"发布者: {0}",extensionInfoVSMarketplaceLink:"VS Marketplace 链接: {0}","workbench.extensions.action.copyExtensionId":"复制扩展 ID","workbench.extensions.action.configure":"扩展设置","workbench.extensions.action.toggleIgnoreExtension":"同步此扩展","workbench.extensions.action.ignoreRecommendation":"忽略建议","workbench.extensions.action.undoIgnoredRecommendation":"撤消已忽略的建议","workbench.extensions.action.addExtensionToWorkspaceRecommendations":"添加到工作区建议","workbench.extensions.action.removeExtensionFromWorkspaceRecommendations":"从工作区建议中删除","workbench.extensions.action.addToWorkspaceRecommendations":"将扩展添加到工作区“建议”","workbench.extensions.action.addToWorkspaceFolderRecommendations":"将扩展添加到工作区文件夹“建议”","workbench.extensions.action.addToWorkspaceIgnoredRecommendations":"将扩展添加到工作区“已忽略的建议”","workbench.extensions.action.addToWorkspaceFolderIgnoredRecommendations":"将扩展添加到工作区文件夹“已忽略的建议”"},"vs/workbench/contrib/extensions/browser/extensionsViewlet":{installed:"已安装",popularExtensions:"热门",recommendedExtensions:"推荐",enabledExtensions:"已启用",disabledExtensions:"已禁用",marketPlace:"商店",enabled:"已启用",disabled:"已禁用",outdated:"已过期",builtin:"内置",workspaceRecommendedExtensions:"工作区推荐",otherRecommendedExtensions:"其他推荐",builtinFeatureExtensions:"功能",builtInThemesExtensions:"主题",builtinProgrammingLanguageExtensions:"编程语言","sort by installs":"安装计数","sort by rating":"评分","sort by name":"名称","sort by date":"发布日期",searchExtensions:"在应用商店中搜索扩展","builtin filter":"内置","installed filter":"已安装","enabled filter":"已启用","disabled filter":"已禁用","outdated filter":"已过期","featured filter":"特色","most popular filter":"最热门","most popular recommended":"推荐","recently published filter":"最近发布","filter by category":"类别","sorty by":"排序依据",filterExtensions:"筛选器扩展…",extensionFoundInSection:"在“{0}”小节中找到 1 个扩展。",extensionFound:"找到 1 个扩展。",extensionsFoundInSection:"在“{1}”小节中找到 {0} 个扩展。",extensionsFound:"找到 {0} 个扩展。",suggestProxyError:'市场返回了 "ECONNREFUSED"。请检查 "http.proxy" 设置。',"open user settings":"打开用户设置",outdatedExtensions:"{0} 个过时的扩展","malicious warning":"我们卸载了“{0}”，它被报告存在问题。",reloadNow:"立即重新加载"},"vs/workbench/contrib/extensions/electron-browser/extensionsSlowActions":{"cmd.reportOrShow":"性能问题","cmd.report":"报告问题","attach.title":"您是否附上了 cpu 配置文件？",ok:"确定","attach.msg":'这是一个提醒, 以确保您没有忘记将 "{0}" 附加到刚刚创建的问题。',"cmd.show":"显示问题","attach.msg2":'这是一个提醒, 以确保您没有忘记将 "{0}" 归入现有的性能问题中。'},"vs/workbench/contrib/extensions/electron-browser/reportExtensionIssueAction":{reportExtensionIssue:"报告问题"},"vs/workbench/contrib/extensions/browser/abstractRuntimeExtensionsEditor":{starActivation:"已在启动时由 {0} 激活",workspaceContainsGlobActivation:"已由 {1} 激活，因为你的工作区中存在与 {1} 匹配的文件",workspaceContainsFileActivation:"已由 {1} 激活，因为你的工作区中存在文件 {0}",workspaceContainsTimeout:"因搜索 {0} 耗时太长而被 {1} 激活",startupFinishedActivation:"启动完成后已由 {0} 激活",languageActivation:"因你打开 {0} 文件而被 {1} 激活",workspaceGenericActivation:"已由 {1} 在 {0} 时激活","unresponsive.title":"扩展已导致扩展主机冻结。",errors:"{0} 个未捕获的错误",runtimeExtensions:"运行时扩展","disable workspace":"禁用(工作区)",disable:"禁用",showRuntimeExtensions:"显示正在运行的扩展"},"vs/workbench/contrib/extensions/common/extensionsInput":{extensionsInputName:"扩展: {0}"},"vs/workbench/contrib/extensions/browser/extensionsActions":{noOfYearsAgo:"{0} 年前","one year ago":"1年前",noOfMonthsAgo:"{0} 个月前","one month ago":"1个月前",noOfDaysAgo:"{0} 天前","one day ago":"1天前",noOfHoursAgo:"{0} 小时前","one hour ago":"1小时前","just now":"刚刚","update operation":'更新 "{0}" 扩展时出错。',"install operation":'安装 "{0}" 扩展时出错。',download:"请尝试手动下载…","install vsix":"下载后，请手动安装“{0}”的 VSIX。","check logs":"有关更多详细信息，请查看[日志]({0})。",installExtensionStart:"已启动安装扩展 {0}。将打开编辑器，显示此扩展的更多详细信息。",installExtensionComplete:"已完成安装扩展 {0}。",install:"安装","install and do no sync":"安装(不同步)","install in remote and do not sync":"在 {0} 中安装(不同步)","install in remote":"在 {0} 中安装","install locally and do not sync":"本地安装(不同步)","install locally":"本地安装","install everywhere tooltip":"在所有同步的 {0} 实例中安装此扩展",installing:"正在安装","install browser":"在浏览器中安装",uninstallAction:"卸载",Uninstalling:"正在卸载",uninstallExtensionStart:"开始卸载扩展{0}。",uninstallExtensionComplete:"请重新加载 Visual Studio Code 以完成对扩展 {0} 的卸载。",updateExtensionStart:"已启动更新扩展 {0} 到版本 {1}。",updateExtensionComplete:"已完成更新扩展 {0} 到版本 {1}。",updateTo:"更新到 {0}",updateAction:"更新",manage:"管理","ManageExtensionAction.uninstallingTooltip":"正在卸载","install another version":"安装另一个版本…",selectVersion:"选择要安装的版本",current:"当前",enableForWorkspaceAction:"启用(工作区)",enableForWorkspaceActionToolTip:"仅在此工作区中启用此扩展",enableGloballyAction:"启用",enableGloballyActionToolTip:"启用此扩展",disableForWorkspaceAction:"禁用(工作区)",disableForWorkspaceActionToolTip:"仅在此工作区中禁用此扩展",disableGloballyAction:"禁用",disableGloballyActionToolTip:"禁用此扩展",enableAction:"启用",disableAction:"禁用",checkForUpdates:"检查扩展更新",noUpdatesAvailable:"所有扩展都是最新的。",singleUpdateAvailable:"1 个扩展存在更新。",updatesAvailable:"{0} 个扩展存在更新。",singleDisabledUpdateAvailable:"1 个禁用扩展存在更新。",updatesAvailableOneDisabled:"{0} 个扩展存在更新。其中 1 个是禁用扩展。",updatesAvailableAllDisabled:"{0} 个扩展存在更新。其全部为禁用扩展。",updatesAvailableIncludingDisabled:"{0} 个扩展存在更新。其中 {1} 个是禁用扩展。",enableAutoUpdate:"启用自动更新扩展",disableAutoUpdate:"禁用自动更新扩展",updateAll:"更新所有扩展",reloadAction:"重新加载",reloadRequired:"需要重新加载",postUninstallTooltip:"请重新加载 Visual Studio Code 以完成此扩展的卸载。",postUpdateTooltip:"请重新启动 Visual Studio Code 以完成对此扩展的更新。","enable locally":"请重载 Visual Studio Code 以在本地启用此扩展。","enable remote":"请重载 Visual Studio Code 以在 {0} 中启用此扩展。",postEnableTooltip:"请重新加载 Visual Studio Code 以启用此扩展。",postDisableTooltip:"请重新加载 Visual Studio Code 以禁用此扩展。",installExtensionCompletedAndReloadRequired:"已完成安装扩展 {0}。请重载 Visual Studio Code 以启用。","color theme":"设置颜色主题","select color theme":"选择颜色主题","file icon theme":"设置文件图标主题","select file icon theme":"选择文件图标主题","product icon theme":"设置产品图标主题","select product icon theme":"选择产品图标主题",toggleExtensionsViewlet:"显示扩展程序",installExtensions:"安装扩展",showEnabledExtensions:"显示启用的扩展",showInstalledExtensions:"显示已安装扩展",showDisabledExtensions:"显示已禁用的扩展",clearExtensionsSearchResults:"清除扩展搜索结果",refreshExtension:"刷新",showBuiltInExtensions:"显示内置的扩展",showOutdatedExtensions:"显示过时的扩展",showPopularExtensions:"显示常用的扩展",recentlyPublishedExtensions:"最近发布的扩展",showRecommendedExtensions:"显示推荐的扩展",showRecommendedExtension:"显示推荐的扩展",installRecommendedExtension:"安装推荐的扩展",ignoreExtensionRecommendation:"不再推荐此扩展",undo:"撤消",showRecommendedKeymapExtensionsShort:"键映射",showLanguageExtensionsShort:"语言扩展","search recommendations":"搜索扩展","OpenExtensionsFile.failed":'无法在 ".vscode" 文件夹({0})内创建 "extensions.json" 文件。',configureWorkspaceRecommendedExtensions:"配置建议的扩展(工作区)",configureWorkspaceFolderRecommendedExtensions:"配置建议的扩展(工作区文件夹)",updated:"已更新",installed:"已安装",uninstalled:"已卸载",enabled:"已启用",disabled:"已禁用","malicious tooltip":"此扩展被报告存在问题。",malicious:"恶意",ignored:"同步时将忽略此扩展",synced:"已同步此扩展",sync:"同步此扩展","do not sync":"不同步此扩展","extension enabled on remote":"已在“{0}”上启用扩展","globally enabled":"此扩展已全局启用。","workspace enabled":"用户已为此工作区启用此扩展。","globally disabled":"用户已全局禁用此扩展。","workspace disabled":"用户已为此工作区禁用此扩展。","Install language pack also in remote server":"在“{0}”上安装语言包扩展，使其还在此处启用。","Install language pack also locally":"在本地安装语言包扩展，使其还在此处启用。","Install in other server to enable":"在“{0}”上安装扩展以启用。","disabled because of extension kind":"此扩展已定义指示它无法在远程服务器上运行","disabled locally":"已在“{0}”上启用此扩展，且已在本地禁用它。","disabled remotely":"已在本地启用此扩展，且已在“{0}”上禁用它。",disableAll:"禁用所有已安装的扩展",disableAllWorkspace:"禁用此工作区的所有已安装的扩展",enableAll:"启用所有扩展",enableAllWorkspace:"启用这个工作区的所有扩展",installVSIX:"从 VSIX 安装...",installFromVSIX:"从 VSIX 文件安装",installButton:"安装(&&I)",reinstall:"重新安装扩展...",selectExtensionToReinstall:"选择要重新安装的扩展","ReinstallAction.successReload":"请重新加载 Visual Studio Code 以完成扩展 {0} 的重新安装。","ReinstallAction.success":"扩展 {0} 重新安装完毕。","InstallVSIXAction.reloadNow":"立即重新加载","install previous version":"安装特定版本的扩展…",selectExtension:"选择扩展","InstallAnotherVersionExtensionAction.successReload":"请重新加载 Visual Studio Code 以完成扩展 {0} 的安装。","InstallAnotherVersionExtensionAction.success":"扩展 {0} 安装完毕。","InstallAnotherVersionExtensionAction.reloadNow":"立即重新加载","select extensions to install":"选择要安装的扩展","no local extensions":"没有要安装的扩展。","installing extensions":"正在安装扩展...","finished installing":"已成功安装扩展。","select and install local extensions":"在“{0}”中安装本地扩展…","install local extensions title":"在“{0}”中安装本地扩展","select and install remote extensions":"本地安装远程扩展…","install remote extensions":"本地安装远程扩展",extensionButtonProminentBackground:"扩展中突出操作的按钮背景色(比如 安装按钮)。",extensionButtonProminentForeground:"扩展中突出操作的按钮前景色(比如 安装按钮)。",extensionButtonProminentHoverBackground:"扩展中突出操作的按钮被悬停时的颜色(比如 安装按钮)。"},"vs/workbench/contrib/extensions/common/extensionsFileTemplate":{"app.extensions.json.title":"扩展","app.extensions.json.recommendations":'向此工作区的用户推荐的扩展列表。扩展的标识符始终为 "${publisher}.${name}"。例如: "vscode.csharp"。',"app.extension.identifier.errorMessage":'预期的格式 "${publisher}.${name}"。例如: "vscode.csharp"。',"app.extensions.json.unwantedRecommendations":'不应向此工作区的用户推荐的扩展列表。扩展的标识符始终为 "${publisher}.${name}"。例如: "vscode.csharp"。'},"vs/workbench/contrib/extensions/browser/extensionEditor":{name:"扩展名","extension id":"扩展标识符",preview:"预览版",builtin:"内置",publisher:"发布者名称","install count":"安装计数",rating:"评分",repository:"存储库",license:"许可证",version:"版本",details:"细节",detailstooltip:'扩展详细信息，显示扩展的 "README.md" 文件。',contributions:"功能贡献",contributionstooltip:"包含此扩展向 VS Code 编辑器提供的功能",changelog:"更改日志",changelogtooltip:'扩展的更新历史，显示扩展的 "CHANGELOG.md" 文件。',dependencies:"依赖项",dependenciestooltip:"包含此扩展依赖的扩展",recommendationHasBeenIgnored:"您已选择不接收此扩展的推荐。",noReadme:"无可用自述文件。","extension pack":"扩展包({0})",noChangelog:"无可用的更改日志。",noContributions:"没有发布内容",noDependencies:"没有依赖项",settings:"设置({0})","setting name":"名称",description:"说明",default:"默认值",debuggers:"调试程序({0})","debugger name":"名称","debugger type":"类型",viewContainers:"视图容器 ({0})","view container id":"ID","view container title":"标题","view container location":"位置",views:"视图 ({0})","view id":"ID","view name":"名称","view location":"位置",localizations:"本地化 ({0})","localizations language id":"语言 ID","localizations language name":"语言名称","localizations localized language name":"语言本地名称",customEditors:"自定义编辑器({0})","customEditors view type":"视图类型","customEditors priority":"优先级","customEditors filenamePattern":"文件名模式",codeActions:"代码操作({0})","codeActions.title":"标题","codeActions.kind":"种类","codeActions.description":"说明","codeActions.languages":"语言",authentication:"身份验证({0})","authentication.label":"标签","authentication.id":"ID",colorThemes:"颜色主题 ({0})",iconThemes:"图标主题 ({0})",colors:"颜色 ({0})",colorId:"ID",defaultDark:"深色默认",defaultLight:"浅色默认",defaultHC:"高对比度默认","JSON Validation":"JSON 验证({0})",fileMatch:"匹配文件",schema:"结构",commands:"命令({0})","command name":"名称","keyboard shortcuts":"键盘快捷方式",menuContexts:"菜单上下文",languages:"语言({0})","language id":"ID","language name":"名称","file extensions":"文件扩展名",grammar:"语法",snippets:"片段","activation events":"激活事件({0})",find:"查找","find next":"查找下一个","find previous":"查找前一个"},"vs/workbench/contrib/extensions/common/extensionsUtils":{disableOtherKeymapsConfirmation:"是否禁用其他按键映射扩展 ({0})，从而避免按键绑定之间的冲突?",yes:"是",no:"否"},"vs/workbench/contrib/extensions/browser/extensionsActivationProgress":{activation:"正在激活扩展..."},"vs/workbench/contrib/extensions/browser/extensionsDependencyChecker":{extensions:"扩展","auto install missing deps":"安装缺少的依赖项","finished installing missing deps":"缺少的依赖项已安装完毕。请立即重新加载窗口。",reload:"重新加载窗口","no missing deps":"没有任何缺少的依赖项待安装。"},"vs/workbench/contrib/extensions/browser/remoteExtensionsInstaller":{remote:"远程","install remote in local":"本地安装远程扩展…"},"vs/workbench/contrib/extensions/browser/extensionsWorkbenchService":{"Manifest is not found":"未找到清单文件",malicious:"报告称该扩展存在问题。",uninstallingExtension:"正在卸载扩展...",incompatible:"无法安装扩展名'{0}'，因为它不兼容 VS Code '{1}'。","installing named extension":'正在安装 "{0}" 扩展...',"installing extension":"正在安装扩展...","disable all":"全部禁用",singleDependentError:'无法单独禁用 "{0}" 扩展。"{1}" 扩展依赖于此扩展。要禁用所有这些扩展吗?',twoDependentsError:'无法单独禁用 "{0}" 扩展。"{1}" 和 "{2}" 扩展依赖于此扩展。要禁用所有这些扩展吗?',multipleDependentsError:'无法单独禁用 "{0}" 扩展。"{1}"、"{2}" 和其他扩展依赖于此扩展。要禁用所有这些扩展吗?'},"vs/workbench/contrib/extensions/browser/extensionsQuickAccess":{type:"键入扩展名称进行安装或搜索。",searchFor:'按 Enter 以搜索扩展"{0}"。',install:"按 Enter 来安装扩展“{0}”。",manage:"按 Enter 来管理扩展。"},"vs/workbench/contrib/extensions/browser/extensionRecommendationNotificationService":{neverShowAgain:"不再显示",ignoreExtensionRecommendations:"是否要忽略所有扩展建议?",ignoreAll:"是，全部忽略",no:"否",workspaceRecommended:"是否要为此存储库安装推荐的扩展?",install:"安装","install and do no sync":"安装(不同步)","show recommendations":"显示建议"},"vs/workbench/contrib/extensions/browser/extensionsIcons":{extensionsViewIcon:"查看扩展视图的图标。",manageExtensionIcon:"扩展视图中“管理”操作的图标。",clearSearchResultsIcon:"扩展视图中“清除搜索结果”操作的图标。",refreshIcon:"扩展视图中“刷新”操作的图标。",filterIcon:"扩展视图中“筛选器”操作的图标。",installLocalInRemoteIcon:"扩展视图中“在远程安装本地扩展”操作的图标。",installWorkspaceRecommendedIcon:"扩展视图中“安装工作区建议的扩展”操作的图标。",configureRecommendedIcon:"扩展视图中“配置建议的扩展”操作的图标。",syncEnabledIcon:"用于指示扩展已同步的图标。",syncIgnoredIcon:"用于指示在同步时忽略扩展的图标。",remoteIcon:"用于在扩展视图和编辑器中指示扩展是远程内容的图标。",installCountIcon:"扩展视图和编辑器中随安装计数一起显示的图标。",ratingIcon:"扩展视图和编辑器中随评级一起显示的图标。",starFullIcon:"扩展编辑器中用于评级的实心星形图标。",starHalfIcon:"扩展编辑器中用于评级的半星图标。",starEmptyIcon:"扩展编辑器中用于评级的中空星形图标。",warningIcon:"扩展编辑器中随警告消息一同显示的图标。",infoIcon:"扩展编辑器中随信息消息一同显示的图标。"},"vs/workbench/contrib/extensions/browser/extensionsViews":{"extension-arialabel":"{0}，{1}，{2}，按 Enter 获取扩展详细信息。",extensions:"扩展",galleryError:"现在无法连接到扩展商店，请稍后再试。",error:"加载扩展时出错。{0}","no extensions found":"找不到扩展。",suggestProxyError:'市场返回了 "ECONNREFUSED"。请检查 "http.proxy" 设置。',"open user settings":"打开用户设置",installWorkspaceRecommendedExtensions:"安装工作区建议的扩展"},"vs/workbench/contrib/extensions/browser/extensionsWidgets":{ratedBySingleUser:"评价来自 1 位用户",ratedByUsers:"评价来自 {0} 位用户",noRating:"没有评分","remote extension title":"{0} 中的扩展","syncingore.label":"此扩展在同步期间被忽略。"},"vs/workbench/contrib/extensions/browser/extensionsViewer":{error:"错误","Unknown Extension":"未知扩展:","extension-arialabel":"{0}，{1}，{2}，按 Enter 获取扩展详细信息。",extensions:"扩展"},"vs/workbench/contrib/extensions/browser/dynamicWorkspaceRecommendations":{dynamicWorkspaceRecommendation:"你可能有兴趣了解此扩展，因为它在 {0} 存储库的用户当中备受欢迎。"},"vs/workbench/contrib/extensions/browser/exeBasedRecommendations":{exeBasedRecommendation:"由于你已安装 {0}，建议使用此扩展。"},"vs/workbench/contrib/extensions/browser/workspaceRecommendations":{workspaceRecommendation:"当前工作区的用户建议使用此扩展。"},"vs/workbench/contrib/extensions/browser/fileBasedRecommendations":{searchMarketplace:"在市场中搜索",fileBasedRecommendation:"根据你最近打开的文件，建议使用此扩展。",reallyRecommended:"是否要为 {0} 安装推荐的扩展?",showLanguageExtensions:"市场具有可在“.{0}”文件方面提供帮助的扩展",dontShowAgainExtension:"不再为“.{0}”文件显示"},"vs/workbench/contrib/extensions/browser/configBasedRecommendations":{exeBasedRecommendation:"由于当前工作区配置，建议使用此扩展"},"vs/workbench/contrib/externalTerminal/node/externalTerminal.contribution":{globalConsoleAction:"打开新的外部终端",terminalConfigurationTitle:"外部终端","terminal.explorerKind.integrated":"使用 VS Code 的集成终端。","terminal.explorerKind.external":"使用设定的外部终端。","explorer.openInTerminalKind":"自定义要启动的终端类型。","terminal.external.windowsExec":"自定义要在 Windows 上运行的终端。","terminal.external.osxExec":"定义在 macOS 上运行的终端应用程序。","terminal.external.linuxExec":"自定义要在 Linux 上运行的终端。"},"vs/workbench/contrib/externalTerminal/node/externalTerminalService":{"console.title":"VS Code 控制台","mac.terminal.script.failed":"脚本“{0}”失败，退出代码为 {1}","mac.terminal.type.not.supported":"不支持“{0}”","press.any.key":"按任意键继续...","linux.term.failed":"“{0}”失败，退出代码为 {1}","ext.term.app.not.found":'找不到终端应用程序 "{0}"'},"vs/workbench/contrib/externalTerminal/browser/externalTerminal.contribution":{scopedConsoleAction:"在终端中打开","scopedConsoleAction.integrated":"在集成终端中打开","scopedConsoleAction.wt":"在 Windows 终端中打开","scopedConsoleAction.external":"在外部终端中打开"},"vs/workbench/contrib/feedback/browser/feedbackStatusbarItem":{"status.feedback":"Tweet 反馈"},"vs/workbench/contrib/feedback/browser/feedback":{sendFeedback:"Tweet 反馈","label.sendASmile":"通过 Tweet 向我们发送反馈。",close:"关闭",patchedVersion1:"安装已损坏。",patchedVersion2:"如果提交了 bug，请指定此项。",sentiment:"您的体验如何?",smileCaption:"正面反馈情绪",frownCaption:"负面反馈情绪","other ways to contact us":"联系我们的其他方式","submit a bug":"提交 bug","request a missing feature":"请求缺失功能","tell us why":"告诉我们原因?",feedbackTextInput:"告诉我们您的反馈意见",showFeedback:"在状态栏中显示反馈图标",tweet:"推文",tweetFeedback:"Tweet 反馈","character left":"剩余字符","characters left":"剩余字符"},"vs/workbench/contrib/files/electron-sandbox/files.contribution":{textFileEditor:"文本文件编辑器"},"vs/workbench/contrib/files/electron-sandbox/fileActions.contribution":{revealInWindows:"在文件资源管理器中显示",revealInMac:"在 Finder 中显示",openContainer:"打开所在的文件夹",filesCategory:"文件"},"vs/workbench/contrib/files/browser/explorerViewlet":{explorerViewIcon:"查看资源管理器视图的图标。",folders:"文件夹",explore:"资源管理器",noWorkspaceHelp:"尚未将文件夹添加到工作区。\r\n[添加文件夹](command:{0})",remoteNoFolderHelp:"已连接到远程。\r\n[打开文件夹](command:{0})",noFolderHelp:"尚未打开文件夹。\r\n[打开文件夹](command:{0})"},"vs/workbench/contrib/files/browser/files.contribution":{showExplorerViewlet:"显示资源管理器",binaryFileEditor:"二进制文件编辑器","hotExit.off":"禁用热退出。尝试关闭带有已更新文件的窗口时，将显示提示。","hotExit.onExit":'触发 "workbench.action.quit" 命令(命令面板、键绑定、菜单)或在 Windows/Linux 上关闭最后一个窗口时，将触发热退出。所有未打开文件夹的窗口都将在下次启动时恢复。可通过“文件”>“打开最近使用的文件”>“更多...”，访问包含未保存的文件的工作区列表。',"hotExit.onExitAndWindowClose":'触发 "workbench.action.quit" 命令(命令面板、键绑定、菜单)或在 Windows/Linux 上关闭最后一个窗口时将触发热退出，还将对已打开文件夹的所有窗口触发热退出(无论是否是最后一个窗口)。所有未打开文件夹的窗口将在下次启动时恢复。可通过“文件”>“打开最近使用的文件”>“更多…”，访问包含未保存的文件的工作区列表。',hotExit:"控制是否在会话间记住未保存的文件，以允许在退出编辑器时跳过保存提示。","hotExit.onExitAndWindowCloseBrowser":"当浏览器退出或窗口或选项卡关闭时，将触发热退出。",filesConfigurationTitle:"文件",exclude:"配置用于排除文件和文件夹的 glob 模式。例如，文件资源管理器根据此设置决定要显示或隐藏的文件和文件夹。请参阅 `#search.exclude#` 设置以定义特定于搜索的排除。在[此处](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options)详细了解 glob 模式。","files.exclude.boolean":"匹配文件路径所依据的 glob 模式。设置为 true 或 false 可启用或禁用该模式。","files.exclude.when":"对匹配文件的同级文件的其他检查。使用 $(basename) 作为匹配文件名的变量。",associations:'配置语言的文件关联 (如: `"*.extension": "html"`)。这些关联的优先级高于已安装语言的默认关联。',encoding:"在读取和写入文件时使用的默认字符集编码。可以按语言对此项进行配置。",autoGuessEncoding:"启用后，将在文件打开时尝试猜测字符集编码。可以按语言对此项进行配置。","eol.LF":"LF","eol.CRLF":"CRLF","eol.auto":"使用具体操作系统规定的行末字符。",eol:"默认行尾字符。",useTrash:"在删除文件或文件夹时，将它们移动到操作系统的“废纸篓”中 (Windows 为“回收站”)。禁用此设置将永久删除文件或文件夹。",trimTrailingWhitespace:"启用后，将在保存文件时删除行尾的空格。",insertFinalNewline:"启用后，保存文件时在文件末尾插入一个最终新行。",trimFinalNewlines:"启用后，保存文件时将删除在最终新行后的所有新行。","files.autoSave.off":"未保存的编辑器永远不会自动保存。","files.autoSave.afterDelay":'将在配置的 "#files.autoSaveDelay#" 后自动保存未保存的编辑器。',"files.autoSave.onFocusChange":"当编辑器失去焦点时，将自动保存未保存的编辑器。","files.autoSave.onWindowChange":"当窗口失去焦点时，将自动保存未保存的编辑器。",autoSave:"控制自动保存未保存的编辑器。有关自动保存的详细信息，请参阅[此处](https://code.visualstudio.com/docs/editor/codebasics#_save-auto-save)。",autoSaveDelay:"控制自动保存未保存的编辑器之前经过的延迟(以毫秒为单位)。仅当 `#files.autoSave#` 设置为`{0}`时才适用。",watcherExclude:"配置文件路径的 glob 模式以从文件监视排除。模式必须在绝对路径上匹配(例如 ** 前缀或完整路径需正确匹配)。更改此设置需要重启。如果在启动时遇到 Code 消耗大量 CPU 时间，则可以排除大型文件夹以减少初始加载。",defaultLanguage:'分配给新文件的默认语言模式。如果配置为"${activeEditorLanguage}"，将使用当前活动文本编辑器的语言模式(如果有)。',maxMemoryForLargeFilesMB:"在打开大型文件时，控制 VS Code 可在重启后使用的内存。在命令行中指定 `--max-memory=新的大小` 参数可达到相同效果。","files.restoreUndoStack":"重新打开文件后，还原撤消堆栈。",askUser:"将拒绝保存并请求手动解决保存冲突。",overwriteFileOnDisk:"将通过在编辑器中用更改覆盖磁盘上的文件来解决保存冲突。","files.saveConflictResolution":"当文件保存到磁盘上并被另一个程序更改时，可能会发生保存冲突。 为了防止数据丢失，要求用户将编辑器中的更改与磁盘上的版本进行比较。 仅当经常遇到保存冲突错误时，才应更改此设置；如果不谨慎使用，可能会导致数据丢失。","files.simpleDialog.enable":"启用简单文件对话框。启用时，简单文件对话框将替换系统文件对话框。",formatOnSave:"在保存时格式化文件。格式化程序必须可用，延迟后文件不能保存，并且编辑器不能关闭。",everything:"设置整个文件的格式。",modification:"格式修改(需要源代码管理)。",formatOnSaveMode:'控制在保存时设置格式是设置整个文件格式还是仅设置修改内容的格式。仅当 "#editor.formatOnSave#" 为 "true" 时应用。',explorerConfigurationTitle:"文件资源管理器",openEditorsVisible:"“打开编辑器”窗格中显示的编辑器的数量。将其设置为 0 将隐藏“打开编辑器”窗格。",openEditorsSortOrder:"控制编辑器在“打开编辑器”窗格中的排序顺序。","sortOrder.editorOrder":"编辑器按编辑器标签显示的顺序排列。","sortOrder.alphabetical":"编辑器按字母顺序在每个编辑器组中进行排序。","autoReveal.on":"将显示和选择文件。","autoReveal.off":"不会显示和选择文件。","autoReveal.focusNoScroll":"文件不会滚动到视图中，但仍会获得焦点。",autoReveal:"控制资源管理器是否在打开文件时自动显示并选择。",enableDragAndDrop:"控制浏览器是否允许通过拖放移动文件和文件夹。此设置仅影响从浏览器内部拖放。",confirmDragAndDrop:"控制在资源管理器内拖放移动文件或文件夹时是否进行确认。",confirmDelete:"控制资源管理器是否在把文件删除到废纸篓时进行确认。","sortOrder.default":"按名称的字母顺序排列文件和文件夹。文件夹显示在文件前。","sortOrder.mixed":"按名称的字母顺序排列文件和文件夹。两者穿插显示。","sortOrder.filesFirst":"按名称的字母顺序排列文件和文件夹。文件显示在文件夹前。","sortOrder.type":"按扩展名的字母顺序排列文件和文件夹。文件夹显示在文件前。","sortOrder.modified":"按最后修改日期降序排列文件和文件夹。文件夹显示在文件前。",sortOrder:"控制文件和文件夹在资源管理器中的排列顺序。","explorer.decorations.colors":"控制文件修饰是否应使用颜色。","explorer.decorations.badges":"控制文件修饰是否应使用徽章。",simple:"在重复名称的末尾附加单词“copy”，后面可能跟一个数字",smart:"在重复名称的末尾添加一个数字。如果某个号码已经是名称的一部分，请尝试增加该号码","explorer.incrementalNaming":"选择在粘贴同名文件(夹)时要使用的重命名方式。",compressSingleChildFolders:"控制资源管理器是否应以紧凑形式呈现文件夹。在这种形式中，单个子文件夹将被压缩在组合的树元素中。例如，对 Java 包结构很有用。",miViewExplorer:"资源管理器(&&E)"},"vs/workbench/contrib/files/browser/fileActions.contribution":{filesCategory:"文件",workspaces:"工作区",file:"文件",copyPath:"复制路径",copyRelativePath:"复制相对路径",revealInSideBar:"在侧边栏中显示",acceptLocalChanges:"使用所做的更改并覆盖文件内容",revertLocalChanges:"放弃所做的更改并恢复到文件内容",copyPathOfActive:"复制活动文件的路径",copyRelativePathOfActive:"复制活动文件的相对路径",saveAllInGroup:"全部保存在组中",saveFiles:"保存所有文件",revert:"还原文件",compareActiveWithSaved:"比较活动与已保存的文件",openToSide:"在侧边打开",saveAll:"全部保存",compareWithSaved:"与已保存文件比较",compareWithSelected:"与已选项目进行比较",compareSource:"选择以进行比较",compareSelected:"将已选项进行比较",close:"关闭",closeOthers:"关闭其他",closeSaved:"关闭已保存",closeAll:"全部关闭",explorerOpenWith:"打开方式…",cut:"剪切",deleteFile:"永久删除",newFile:"新建文件",openFile:"打开文件...",miNewFile:"新建文件(&&N)",miSave:"保存(&&S)",miSaveAs:"另存为(&&A)...",miSaveAll:"全部保存(&&L)",miOpen:"打开(&&O)...",miOpenFile:"打开文件(&&O)...",miOpenFolder:"打开文件夹(&&F)...",miOpenWorkspace:"打开工作区(&&K)...",miAutoSave:"自动保存(&&U)",miRevert:"还原文件(&&V)",miCloseEditor:"关闭编辑器(&&C)",miGotoFile:"转到文件(&&F)..."},"vs/workbench/contrib/files/electron-sandbox/fileCommands":{openFileToReveal:"首先打开文件以展现"},"vs/workbench/contrib/files/common/editors/fileEditorInput":{orphanedReadonlyFile:"{0} (已删除，只读)",orphanedFile:"{0} (已删除)",readonlyFile:"{0} (只读)"},"vs/workbench/contrib/files/electron-sandbox/textFileEditor":{fileTooLargeForHeapError:"要打开此大小的文件, 您需要重新启动并允许它使用更多内存",relaunchWithIncreasedMemoryLimit:"以 {0}MB 重启",configureMemoryLimit:"配置内存限制"},"vs/workbench/contrib/files/browser/views/emptyView":{noWorkspace:"无打开的文件夹"},"vs/workbench/contrib/files/browser/views/explorerView":{explorerSection:"资源管理器部分: {0}"},"vs/workbench/contrib/files/browser/views/openEditorsView":{openEditors:"打开的编辑器",dirtyCounter:"{0} 个未保存"},"vs/workbench/contrib/files/browser/editors/textFileSaveErrorHandler":{userGuide:"通过编辑器工具栏中的操作，可撤消所做的更改，也可使用所做的更改覆盖文件的内容。",staleSaveError:'无法保存"{0}": 文件的内容较新。请将您的版本与文件内容进行比较，或用您的更改覆盖文件内容。',retry:"重试",discard:"放弃",readonlySaveErrorAdmin:'未能保存 "{0}": 文件是只读的。以管理员身份选择 "以管理员身份覆盖" 重试。',readonlySaveErrorSudo:'保存"{0}"失败: 文件为只读。选择“覆盖为Sudo”以用超级用户身份重试。',readonlySaveError:'未能保存 "{0}": 文件是只读的。可选择 "覆盖" 以尝试使其可写。',permissionDeniedSaveError:"无法保存“{0}”: 权限不足。选择“以管理员身份覆盖”可作为管理员重试。",permissionDeniedSaveErrorSudo:'保存 "{0}"失败: 权限不足。选择 "以超级用户身份重试" 以超级用户身份重试。',genericSaveError:"未能保存“{0}”: {1}",learnMore:"了解详细信息",dontShowAgain:"不再显示",compareChanges:"比较",saveConflictDiffLabel:"{0} (在文件中) ↔ {1} (在 {2} 中) - 解决保存冲突",overwriteElevated:"以管理员身份覆盖...",overwriteElevatedSudo:"以超级用户身份覆盖...",saveElevated:"以管理员身份重试...",saveElevatedSudo:"以用户…重试。",overwrite:"覆盖",configure:"配置"},"vs/workbench/contrib/files/browser/editors/binaryFileEditor":{binaryFileEditor:"二进制文件查看器"},"vs/workbench/contrib/files/common/workspaceWatcher":{netVersionError:"需要 Microsoft .NET Framework 4.5。请访问链接安装它。",installNet:"下载 .NET Framework 4.5",enospcError:"无法在这个大型工作区中监视文件更改。请按照说明链接来解决此问题。",learnMore:"说明"},"vs/workbench/contrib/files/common/dirtyFilesIndicator":{dirtyFile:"1 个未保存的文件",dirtyFiles:"{0} 个未保存的文件"},"vs/workbench/contrib/files/browser/fileActions":{newFile:"新建文件",newFolder:"新建文件夹",rename:"重命名",delete:"删除",copyFile:"复制",pasteFile:"粘贴",download:"下载...",createNewFile:"新建文件",createNewFolder:"新建文件夹",deleteButtonLabelRecycleBin:"移动到回收站(&&M)",deleteButtonLabelTrash:"移动到废纸篓(&&M)",deleteButtonLabel:"删除(&&D)",dirtyMessageFilesDelete:"你删除的文件中具有未保存的更改。是否继续?",dirtyMessageFolderOneDelete:"你正在删除文件夹 {0}，但其中 1 个文件中有未保存的更改。是否要继续?",dirtyMessageFolderDelete:"你正在删除文件夹 {0}，其中 {1} 个文件中有未保存的更改。是否要继续?",dirtyMessageFileDelete:"你正在删除具有未保存更改的 {0}。是否要继续?",dirtyWarning:"如果不保存，你的更改将丢失。",undoBinFiles:"您可以从回收站还原这些文件。",undoBin:"您可以从回收站还原此文件。",undoTrashFiles:"您可以从回收站还原这些文件。",undoTrash:"您可以从回收站还原此文件。",doNotAskAgain:"不再询问",irreversible:"此操作不可逆!",deleteBulkEdit:"删除 {0} 个文件",deleteFileBulkEdit:"删除{0}",deletingBulkEdit:"正在删除 {0} 文件",deletingFileBulkEdit:"正在删除 {0}",binFailed:"无法删除到回收站。是否永久删除？",trashFailed:"无法删除到废纸篓。是否永久删除？",deletePermanentlyButtonLabel:"永久删除(&&D)",retryButtonLabel:"重试(&&R)",confirmMoveTrashMessageFilesAndDirectories:"是否确定要删除以下 {0} 个文件或文件夹 (包括其内容)?",confirmMoveTrashMessageMultipleDirectories:"是否确定要删除以下 {0} 个文件夹及其内容?",confirmMoveTrashMessageMultiple:"是否确定要删除以下 {0} 个文件?",confirmMoveTrashMessageFolder:"是否确实要删除“{0}”及其内容?",confirmMoveTrashMessageFile:"是否确实要删除“{0}”?",confirmDeleteMessageFilesAndDirectories:"是否确定要永久删除以下 {0} 个文件或文件夹 (包括其内容)?",confirmDeleteMessageMultipleDirectories:"是否确定要永久删除以下 {0} 个目录及其内容?",confirmDeleteMessageMultiple:"是否确定要永久删除以下 {0} 个文件?",confirmDeleteMessageFolder:"是否确定要永久删除“{0}”及其内容?",confirmDeleteMessageFile:"是否确定要永久删除“{0}”?",globalCompareFile:"比较活动文件与...",fileToCompareNoFile:"请选择要比较的文件。",openFileToCompare:"首先打开文件以将其与另外一个文件比较。",toggleAutoSave:"切换开关自动保存",saveAllInGroup:"全部保存在组中",closeGroup:"关闭组",focusFilesExplorer:"聚焦到“文件资源管理器”视图",showInExplorer:"在侧边栏中显示活动文件",openFileToShow:"请先打开要在浏览器中显示的文件",collapseExplorerFolders:"在资源管理器中折叠文件夹",refreshExplorer:"刷新资源管理器",openFileInNewWindow:"在新窗口中打开活动文件","openFileToShowInNewWindow.unsupportedschema":"活动编辑器必须包含可打开的资源。","openFileToShowInNewWindow.nofile":"请先打开要在新窗口中打开的文件",emptyFileNameError:"必须提供文件或文件夹名。",fileNameStartsWithSlashError:"文件或文件夹名称不能以斜杠开头。",fileNameExistsError:"此位置已存在文件或文件夹 **{0}**。请选择其他名称。",invalidFileNameError:"名称 **{0}** 作为文件或文件夹名无效。请选择其他名称。",fileNameWhitespaceWarning:"在文件或文件夹名称中检测到的前导或尾随空格。",compareWithClipboard:"比较活动文件与剪贴板",clipboardComparisonLabel:"剪贴板 ↔ {0}",retry:"重试",createBulkEdit:"创建 {0}",creatingBulkEdit:"正在创建 {0}",renameBulkEdit:"将 {0} 重命名为 {1}",renamingBulkEdit:"将 {0} 重命名为 {1}",downloadingFiles:"正在下载",downloadProgressSmallMany:"{0} 个文件，共 {1} 个({2}/秒)",downloadProgressLarge:"{0} ({1}/{2}，{3}/秒)",downloadButton:"下载",downloadFolder:"下载文件夹",downloadFile:"下载文件",downloadBulkEdit:"下载 {0}",downloadingBulkEdit:"正在下载 {0}",fileIsAncestor:"粘贴的项目是目标文件夹的上级",movingBulkEdit:"正在移动 {0} 文件",movingFileBulkEdit:"正在移动 {0}",moveBulkEdit:"移动 {0} 个文件",moveFileBulkEdit:"移动 {0}",copyingBulkEdit:"正在复制 {0} 文件",copyingFileBulkEdit:"正在复制 {0}",copyBulkEdit:"复制 {0} 文件",copyFileBulkEdit:"复制 {0}",fileDeleted:"复制后要粘贴的文件已被删除或移动。{0}"},"vs/workbench/contrib/files/browser/fileCommands":{saveAs:"另存为...",save:"保存",saveWithoutFormatting:"保存但不更改格式",saveAll:"全部保存",removeFolderFromWorkspace:"将文件夹从工作区删除",newUntitledFile:"新的无标题文件",modifiedLabel:"{0} (在文件中) ↔ {1}",openFileToCopy:"首先打开文件以复制其路径",genericSaveError:"未能保存“{0}”: {1}",genericRevertError:"未能还原“{0}”: {1}"},"vs/workbench/contrib/files/browser/editors/textFileEditor":{textFileEditor:"文本文件编辑器",openFolderError:"文件是目录",createFile:"创建文件"},"vs/workbench/contrib/files/browser/views/explorerDecorationsProvider":{canNotResolve:"无法解析工作区文件夹",symbolicLlink:"符号链接",unknown:"未知文件类型",label:"资源管理器"},"vs/workbench/contrib/files/browser/views/explorerViewer":{treeAriaLabel:"文件资源管理器",fileInputAriaLabel:'输入文件名。按 "Enter" 键确认或按 "Esc" 键取消。',confirmOverwrite:'目标文件夹中已存在名称为"{0}"的文件或文件夹。是否要替换它？',irreversible:"此操作不可逆!",replaceButtonLabel:"替换(&&R)",confirmManyOverwrites:"目标文件夹中已存在以下 {0} 个文件和/或文件夹。是否要替换它们?",uploadingFiles:"正在上传",overwrite:"覆盖 {0}",overwriting:"正在覆盖 {0}",uploadProgressSmallMany:"{0} 个文件，共 {1} 个({2}/秒)",uploadProgressLarge:"{0} ({1}/{2}，{3}/秒)",copyFolders:"复制文件夹(&&C)",copyFolder:"复制文件夹(&&C)",cancel:"取消",copyfolders:"确定要复制文件夹吗?",copyfolder:"确定要复制“{0}”吗?",addFolders:"将文件夹添加到工作区(&&A)",addFolder:"将文件夹添加到工作区(&&A)",dropFolders:"是否要复制文件夹或将其添加到工作区?",dropFolder:"是否要复制“{0}”或将“{0}”作为文件夹添加工作区?",copyFile:"复制 {0}",copynFile:"复制 {0} 资源",copyingFile:"正在复制 {0}",copyingnFile:"正在复制 {0} 资源",confirmRootsMove:"是否确定要更改工作区中多个根文件夹的顺序?",confirmMultiMove:"确定要将以下文件{0}移动至{1}？",confirmRootMove:"是否确定要更改工作区中根文件夹“{0}”的顺序?",confirmMove:'是否确定要将"{0}"移到"{1}"？',doNotAskAgain:"不再询问",moveButtonLabel:"移动(&&M)",copy:"复制 {0}",copying:"正在复制 {0}",move:"移动 {0}",moving:"正在移动 {0}"},"vs/workbench/contrib/format/browser/formatActionsMultiple":{nullFormatterDescription:"没有",miss:'扩展 "{0}" 无法格式化 "{1}"',"config.needed":"“{0}”文件有多个格式化程序。选择默认格式化程序以继续。","config.bad":'扩展 "{0}" 配置为格式化程序, 但不可用。选择其他默认格式化程序以继续。',"do.config":"配置...",select:"为“{0}”文件选择默认的格式化程序","formatter.default":"定义一个默认格式化程序, 该格式化程序优先于所有其他格式化程序设置。必须是提供格式化程序的扩展的标识符。",def:"(默认值)",config:"配置默认格式化程序...","format.placeHolder":"选择格式化程序","formatDocument.label.multiple":"格式化文档的方式...","formatSelection.label.multiple":"格式化选定内容的方式..."},"vs/workbench/contrib/format/browser/formatActionsNone":{"formatDocument.label.multiple":"格式化文档","too.large":"此文件过大，无法进行格式设置","no.provider":"没有安装用于“{0}”文件的格式化程序。","install.formatter":"安装格式化程序..."},"vs/workbench/contrib/format/browser/formatModified":{formatChanges:"设置修改过的行的格式"},"vs/workbench/contrib/issue/electron-sandbox/issue.contribution":{reportIssueInEnglish:"报告问题…"},"vs/workbench/contrib/issue/electron-sandbox/issueActions":{openProcessExplorer:"打开进程资源管理器",reportPerformanceIssue:"报告性能问题"},"vs/workbench/contrib/keybindings/browser/keybindings.contribution":{toggleKeybindingsLog:"切换键盘快捷方式疑难解答"},"vs/workbench/contrib/localizations/browser/localizations.contribution":{updateLocale:"是否将 VS Code 的界面语言更换为 {0} 并重新启动?",activateLanguagePack:"为了将 VS Code 的显示语言更换为 {0}，需要重新启动 VS Code。",yes:"是","restart now":"立即重新启动",neverAgain:"不再显示","vscode.extension.contributes.localizations":"向编辑器提供本地化内容","vscode.extension.contributes.localizations.languageId":"显示字符串翻译的目标语言 ID。","vscode.extension.contributes.localizations.languageName":"语言的英文名称。","vscode.extension.contributes.localizations.languageNameLocalized":"提供语言的名称。","vscode.extension.contributes.localizations.translations":"与语言关联的翻译的列表。","vscode.extension.contributes.localizations.translations.id":'使用此翻译的 VS Code 或扩展的 ID。VS Code 的 ID 总为 "vscode"，扩展的 ID 的格式应为 "publisherId.extensionName"。',"vscode.extension.contributes.localizations.translations.id.pattern":'翻译 VS Code 或者扩展，ID 分别应为 "vscode" 或格式为 "publisherId.extensionName"。',"vscode.extension.contributes.localizations.translations.path":"包含语言翻译的文件的相对路径。"},"vs/workbench/contrib/localizations/browser/localizationsActions":{configureLocale:"配置显示语言",installAdditionalLanguages:"安装其他语言...",chooseDisplayLanguage:"选择显示语言",relaunchDisplayLanguageMessage:"要使显示语言的更改生效, 需要重新启动。",relaunchDisplayLanguageDetail:"按下重启按钮来重新启动 {0} 并更改显示语言。",restart:"重启(&&R)"},"vs/workbench/contrib/localizations/browser/minimalTranslations":{showLanguagePackExtensions:"在商店中搜索语言包并将显示语言更改为 {0}。",searchMarketplace:"搜索商店",installAndRestartMessage:"安装语言包并将显示语言更改为 {0}。",installAndRestart:"安装并重启"},"vs/workbench/contrib/logs/common/logs.contribution":{userDataSyncLog:"设置同步",rendererLog:"窗口",telemetryLog:"遥测","show window log":"显示窗口日志",mainLog:"主进程",sharedLog:"共享进程"},"vs/workbench/contrib/logs/electron-sandbox/logsActions":{openLogsFolder:"打开日志文件夹",openExtensionLogsFolder:"打开扩展日志文件夹"},"vs/workbench/contrib/logs/common/logsActions":{setLogLevel:"设置日志级别...",trace:"跟踪",debug:"调试",info:"信息",warn:"警告",err:"错误",critical:"严重",off:"关",selectLogLevel:"选择日志级别","default and current":"默认值和当前值",default:"默认值",current:"当前",openSessionLogFile:"打开窗口日志文(会话)...","sessions placeholder":"选择会话","log placeholder":"选择日志文件"},"vs/workbench/contrib/markers/browser/markers.contribution":{markersViewIcon:"查看标记视图的图标。",copyMarker:"复制",copyMessage:"复制消息",focusProblemsList:"聚焦到问题视图",focusProblemsFilter:"焦点问题筛选器","show multiline":"在多行中显示消息",problems:"问题","show singleline":"在单行中显示消息",clearFiltersText:"清除过滤器文本",miMarker:"问题(&&P)","status.problems":"问题",totalErrors:"{0} 个错误",totalWarnings:"{0} 条警告",totalInfos:"{0} 条信息",noProblems:"没有问题",manyProblems:"1万+"},"vs/workbench/contrib/markers/browser/markersView":{collapseAll:"全部折叠",filter:"筛选","No problems filtered":"显示 {0} 个问题","problems filtered":"显示第 {0} 个 (共 {1} 个) 问题",clearFilter:"清除筛选"},"vs/workbench/contrib/markers/browser/markersViewActions":{filterIcon:"标记视图中筛选器配置的图标。","showing filtered problems":"正在显示第 {0} 页(共 {1} 页)"},"vs/workbench/contrib/markers/browser/messages":{"problems.view.toggle.label":"切换问题 (错误、警告、信息) 视图","problems.view.focus.label":"聚焦到问题 (错误、警告、信息)","problems.panel.configuration.title":"问题预览","problems.panel.configuration.autoreveal":"在打开文件时，控制是否在“问题”视图中对其进行定位。","problems.panel.configuration.showCurrentInStatus":"启用后，状态栏中将显示当前问题。","markers.panel.title.problems":"问题","markers.panel.no.problems.build":"目前尚未在工作区检测到问题。","markers.panel.no.problems.activeFile.build":"到目前为止，当前文件中未检测到任何问题。","markers.panel.no.problems.filters":"在给定的筛选条件下，没有找到结果。","markers.panel.action.moreFilters":"更多过滤器...","markers.panel.filter.showErrors":"显示错误","markers.panel.filter.showWarnings":"显示警告","markers.panel.filter.showInfos":"显示信息","markers.panel.filter.useFilesExclude":"隐藏排除的文件","markers.panel.filter.activeFile":"只看当前活动的文件","markers.panel.action.filter":"筛选器问题","markers.panel.action.quickfix":"显示修复方案","markers.panel.filter.ariaLabel":"筛选器问题","markers.panel.filter.placeholder":"筛选器(例如 text、**/*.ts、!**/node_modules/**)","markers.panel.filter.errors":"错误","markers.panel.filter.warnings":"警告","markers.panel.filter.infos":"信息","markers.panel.single.error.label":"1 个错误","markers.panel.multiple.errors.label":"{0} 个错误","markers.panel.single.warning.label":"1 条警告","markers.panel.multiple.warnings.label":"{0} 条警告","markers.panel.single.info.label":"1 条信息","markers.panel.multiple.infos.label":"{0} 条信息","markers.panel.single.unknown.label":"1 个未知","markers.panel.multiple.unknowns.label":"{0} 个未知","markers.panel.at.ln.col.number":"[{0}, {1}]","problems.tree.aria.label.resource":"在文件夹 {2} 的文件 {1} 中有 {0} 个问题","problems.tree.aria.label.marker.relatedInformation":"此问题包含对 {0} 个位置的引用。","problems.tree.aria.label.error.marker":"{0} 生成的错误: {2} 行 {3} 列，{1}。{4}","problems.tree.aria.label.error.marker.nosource":"错误: {1} 行 {2} 列，{0}。{3}","problems.tree.aria.label.warning.marker":"{0} 生成的警告: {2} 行 {3} 列，{1}。{4}","problems.tree.aria.label.warning.marker.nosource":"警告: {1} 行 {2} 列，{0}。{3}","problems.tree.aria.label.info.marker":"{0} 生成的信息: {2} 行 {3} 列，{1}。{4}","problems.tree.aria.label.info.marker.nosource":"信息: {1} 行 {2} 列，{0}。{3}","problems.tree.aria.label.marker":"{0} 生成的问题: {2} 行 {3} 列，{1}。{4}","problems.tree.aria.label.marker.nosource":"问题: {1} 行 {2} 列，{0}。{3}","problems.tree.aria.label.relatedinfo.message":"{3} 的 {1} 行 {2} 列，{0}","errors.warnings.show.label":"显示错误和警告"},"vs/workbench/contrib/markers/browser/markers":{totalProblems:"总计 {0} 个问题"},"vs/workbench/contrib/markers/browser/markersFileDecorations":{label:"问题","tooltip.1":"此文件存在 1 个问题","tooltip.N":"此文件存在 {0} 个问题","markers.showOnFile":"在文件和文件夹上显示错误和警告。"},"vs/workbench/contrib/markers/browser/markersTreeViewer":{problemsView:"问题视图",expandedIcon:"在标记视图中指示多个线条已显示的图标。",collapsedIcon:"在标记视图中指示多个线条已折叠的图标。","single line":"在单行中显示消息","multi line":"在多行中显示消息","links.navigate.follow":"关注链接","links.navigate.kb.meta":"ctrl + 单击","links.navigate.kb.meta.mac":"cmd + 单击","links.navigate.kb.alt.mac":"option + 单击","links.navigate.kb.alt":"alt + 单击"},"vs/workbench/contrib/notebook/browser/contrib/coreActions":{"notebookActions.category":"笔记本","notebookActions.execute":"执行单元格","notebookActions.cancel":"停止单元格执行","notebookActions.executeCell":"执行单元格","notebookActions.CancelCell":"取消执行","notebookActions.deleteCell":"删除单元格","notebookActions.executeAndSelectBelow":"执行笔记本单元格并在下方选择","notebookActions.executeAndInsertBelow":"执行笔记本单元格并在下方插入","notebookActions.renderMarkdown":"呈现所有 Markdown 单元格","notebookActions.executeNotebook":"执行笔记本","notebookActions.cancelNotebook":"取消笔记本执行","notebookMenu.insertCell":"插入单元格","notebookMenu.cellTitle":"笔记本单元格","notebookActions.menu.executeNotebook":"执行笔记本(运行所有单元格)","notebookActions.menu.cancelNotebook":"停止笔记本执行","notebookActions.changeCellToCode":"将单元格更改为代码","notebookActions.changeCellToMarkdown":"将单元格更改为 Markdown","notebookActions.insertCodeCellAbove":"在上方插入代码单元格","notebookActions.insertCodeCellBelow":"在下方插入代码单元格","notebookActions.insertCodeCellAtTop":"在顶部添加代码单元格","notebookActions.insertMarkdownCellAtTop":"在顶部添加 Markdown 单元格","notebookActions.menu.insertCode":"$(add)代码","notebookActions.menu.insertCode.tooltip":"添加代码单元格","notebookActions.insertMarkdownCellAbove":"在上方插入 Markdown 单元格","notebookActions.insertMarkdownCellBelow":"在下方插入 Markdown 单元格","notebookActions.menu.insertMarkdown":"$(add)标记","notebookActions.menu.insertMarkdown.tooltip":"添加 Markdown 单元格","notebookActions.editCell":"编辑单元格","notebookActions.quitEdit":"停止编辑单元格","notebookActions.moveCellUp":"上移单元格","notebookActions.moveCellDown":"下移单元格","notebookActions.copy":"复制单元格","notebookActions.cut":"剪切单元格","notebookActions.paste":"粘贴单元格","notebookActions.pasteAbove":"在上方粘贴单元格","notebookActions.copyCellUp":"向上复制单元格","notebookActions.copyCellDown":"向下复制单元格",cursorMoveDown:"聚焦下一个单元格编辑器",cursorMoveUp:"聚焦上一个单元格编辑器",focusOutput:"聚焦活动单元格输出",focusOutputOut:"解除活动单元格输出聚焦",focusFirstCell:"聚焦第一个单元格",focusLastCell:"聚焦最后一个单元格",clearCellOutputs:"清除单元格输出",changeLanguage:"更改单元格语言",languageDescription:"({0}) - 当前语言",languageDescriptionConfigured:"({0})",pickLanguageToConfigure:"选择语言模式",clearAllCellsOutputs:"清除所有单元格输出","notebookActions.splitCell":"拆分单元格","notebookActions.joinCellAbove":"加入上一个单元格","notebookActions.joinCellBelow":"加入下一个单元格","notebookActions.centerActiveCell":"中心活动单元格","notebookActions.collapseCellInput":"折叠单元格输入","notebookActions.expandCellContent":"展开单元格内容","notebookActions.collapseCellOutput":"折叠单元格输出","notebookActions.expandCellOutput":"展开单元格输出","notebookActions.inspectLayout":"检查笔记本布局"},"vs/workbench/contrib/notebook/browser/notebook.contribution":{diffLeftRightLabel:"{0} ⟷ {1}",notebookConfigurationTitle:"笔记本","notebook.displayOrder.description":"输出项 mime 类型的优先级列表","notebook.cellToolbarLocation.description":"应在何处显示单元格工具栏，或是否隐藏它。","notebook.showCellStatusbar.description":"是否应显示单元格状态栏。","notebook.diff.enablePreview.description":"是否对笔记本使用增强的文本差异编辑器。"},"vs/workbench/contrib/notebook/browser/notebookIcons":{configureKernel:"在笔记本编辑器的内核配置小组件中配置图标。",selectKernelIcon:"配置用于在笔记本编辑器中选择内核的图标。",executeIcon:"笔记本编辑器中的执行图标。",stopIcon:"用于在笔记本编辑器中停止执行的图标。",deleteCellIcon:"用于在笔记本编辑器中删除单元格的图标。",executeAllIcon:"用于在笔记本编辑器中执行所有单元格的图标。",editIcon:"用于在笔记本编辑器中编辑单元格的图标。",stopEditIcon:"用于在笔记本编辑器中停止编辑单元格的图标。",moveUpIcon:"用于在笔记本编辑器中上移单元格的图标。",moveDownIcon:"用于在笔记本编辑器中下移单元格的图标。",clearIcon:"用于在笔记本编辑器中清除单元格输出的图标。",splitCellIcon:"用于在笔记本编辑器中拆分单元格的图标。",unfoldIcon:"用于在笔记本编辑器中展开单元格的图标。",successStateIcon:"用于在笔记本编辑器中指示成功状态的图标。",errorStateIcon:"用于在笔记本编辑器中指示错误状态的图标。",collapsedIcon:"用于在笔记本编辑器中批注已折叠部分的图标。",expandedIcon:"用于在笔记本编辑器中批注已展开部分的图标。",openAsTextIcon:"用于在文本编辑器中打开笔记本的图标。",revertIcon:"笔记本编辑器中的还原图标。",mimetypeIcon:"MIME 类型笔记本编辑器的图标。"},"vs/workbench/contrib/notebook/browser/notebookEditor":{"fail.noEditor":"无法使用类型为“{0}”的笔记本编辑器打开资源，请检查是否已安装或启用了正确的扩展。","fail.reOpen":"使用 VS Code 标准文本编辑器重新打开文件"},"vs/workbench/contrib/notebook/browser/notebookServiceImpl":{builtinProviderDisplayName:"内置"},"vs/workbench/contrib/notebook/browser/diff/notebookTextDiffEditor":{notebookTreeAriaLabel:"笔记本文本差异"},"vs/workbench/contrib/notebook/browser/contrib/find/findController":{"notebookActions.hideFind":"隐藏“在笔记本中查找”","notebookActions.findInNotebook":"在笔记本中查找"},"vs/workbench/contrib/notebook/browser/contrib/fold/folding":{"fold.cell":"折叠单元格","unfold.cell":"展开单元格"},"vs/workbench/contrib/notebook/browser/contrib/format/formatting":{"format.title":"设置笔记本的格式",label:"设置笔记本的格式","formatCell.label":"设置单元格格式"},"vs/workbench/contrib/notebook/browser/contrib/status/editorStatus":{"notebookActions.selectKernel":"选择笔记本内核","notebook.runCell.selectKernel":"选择要运行此笔记本的笔记本内核",currentActiveKernel:"(当前处于活动状态)","notebook.promptKernel.setDefaultTooltip":'设置为 "{0}" 的默认内核提供程序',chooseActiveKernel:"为当前笔记本选择内核","notebook.selectKernel":"为当前笔记本选择内核"},"vs/workbench/contrib/notebook/browser/diff/notebookDiffActions":{"notebook.diff.switchToText":"打开文本差异编辑器","notebook.diff.cell.revertMetadata":"还原元数据","notebook.diff.cell.revertOutputs":"还原输出","notebook.diff.cell.revertInput":"还原输入"},"vs/workbench/contrib/notebook/browser/extensionPoint":{"contributes.notebook.provider":"提供笔记本文档处理程序。","contributes.notebook.provider.viewType":"笔记本的唯一标识符。","contributes.notebook.provider.displayName":"笔记本的可读名称。","contributes.notebook.provider.selector":"适用于笔记本的一组 glob 模式。","contributes.notebook.provider.selector.filenamePattern":"启用笔记本的 glob 模式。","contributes.notebook.selector.provider.excludeFileNamePattern":"禁用笔记本的 glob 模式。","contributes.priority":'控制在用户打开文件时是否自动启用自定义编辑器。用户可能会使用 "workbench.editorAssociations" 设置覆盖此项。',"contributes.priority.default":"在用户打开资源时自动使用此编辑器，前提是没有为该资源注册其他默认的自定义编辑器。","contributes.priority.option":"在用户打开资源时不会自动使用此编辑器，但用户可使用 `Reopen With` 命令切换到此编辑器。","contributes.notebook.renderer":"提供笔记本输出渲染器。","contributes.notebook.renderer.viewType":"笔记本输出渲染器的唯一标识符。","contributes.notebook.provider.viewType.deprecated":'将 "viewType" 重命名为 "id"。',"contributes.notebook.renderer.displayName":"笔记本输出渲染器的可读名称。","contributes.notebook.selector":"适用于笔记本的一组 glob 模式。","contributes.notebook.renderer.entrypoint":"要在 Web 视图中加载用于呈现扩展的文件。"},"vs/workbench/contrib/notebook/browser/notebookKernelAssociation":{"notebook.kernelProviderAssociations":"定义一个默认内核提供程序，该提供程序优先于所有其他内核提供程序设置。必须是提供内核提供程序的扩展的标识符。"},"vs/workbench/contrib/notebook/common/model/notebookTextModel":{defaultEditLabel:"编辑"},"vs/workbench/contrib/notebook/common/notebookEditorModel":{"notebook.staleSaveError":"文件内容在磁盘上已更改。是要打开更新的版本还是使用所作更改覆盖该文件?","notebook.staleSaveError.revert":"还原","notebook.staleSaveError.overwrite.":"覆盖"},"vs/workbench/contrib/notebook/browser/notebookEditorWidget":{notebookTreeAriaLabel:"笔记本","notebook.runCell.selectKernel":"选择要运行此笔记本的笔记本内核","notebook.promptKernel.setDefaultTooltip":'设置为 "{0}" 的默认内核提供程序',"notebook.cellBorderColor":"笔记本单元格的边框颜色。","notebook.focusedEditorBorder":"笔记本单元格编辑器边框的颜色。","notebookStatusSuccessIcon.foreground":"单元格状态栏中笔记本单元格的错误图标颜色。","notebookStatusErrorIcon.foreground":"单元格状态栏中笔记本单元格的错误图标颜色。","notebookStatusRunningIcon.foreground":"单元格状态栏中笔记本单元格的“正在运行”图标颜色。","notebook.outputContainerBackgroundColor":"笔记本输出容器背景的颜色。","notebook.cellToolbarSeparator":"单元格底部工具栏中分隔符的颜色",focusedCellBackground:"将焦点放在单元格上时单元格的背景色。","notebook.cellHoverBackground":"将鼠标悬停在单元格上时单元格的背景色。","notebook.selectedCellBorder":"选中单元格但未将焦点放在其上时单元格上边框和下边框的颜色。","notebook.focusedCellBorder":"将焦点放在单元格上时单元格上边框和下边框的颜色。","notebook.cellStatusBarItemHoverBackground":"笔记本单元格状态栏项的背景色。","notebook.cellInsertionIndicator":"笔记本单元格插入指示符的颜色。",notebookScrollbarSliderBackground:"笔记本滚动条滑块的背景色。",notebookScrollbarSliderHoverBackground:"悬停时笔记本滚动条滑块的背景色。",notebookScrollbarSliderActiveBackground:"单击时笔记本滚动条滑块的背景色。","notebook.symbolHighlightBackground":"突出显示的单元格的背景色"},"vs/workbench/contrib/notebook/browser/view/renderers/cellRenderer":{cellExpandButtonLabel:"展开"},"vs/workbench/contrib/notebook/browser/viewModel/markdownCellViewModel":{"notebook.emptyMarkdownPlaceholder":"空白 Markdown 单元格，请双击或按 Enter 进行编辑。"},"vs/workbench/contrib/notebook/browser/view/renderers/cellWidgets":{"notebook.cell.status.language":"选择单元格语言模式"},"vs/workbench/contrib/notebook/browser/view/renderers/cellOutput":{mimeTypePicker:"选择其他输出 MIME 类型，可用的 MIME 类型: {0}",curruentActiveMimeType:"当前处于活动状态","promptChooseMimeTypeInSecure.placeHolder":"选择要为当前输出呈现的 mimetype。仅当笔记本受信任时，丰富 mimetype 才可用","promptChooseMimeType.placeHolder":"为当前项选择要渲染的 mime 类型",builtinRenderInfo:"内置"},"vs/workbench/contrib/outline/browser/outline.contribution":{outlineViewIcon:"查看大纲视图的图标。",name:"大纲",outlineConfigurationTitle:"大纲","outline.showIcons":"显示大纲元素的图标。","outline.showProblem":"显示大纲元素上的错误和警告。","outline.problem.colors":"对错误和警告添加颜色。","outline.problems.badges":"对错误和警告使用徽章。","filteredTypes.file":"启用后，大纲将显示“文件”符号。","filteredTypes.module":"启用后，大纲将显示“模块”符号。","filteredTypes.namespace":"启用后，大纲将显示“命名空间”符号。","filteredTypes.package":"启用后，大纲将显示“包”符号。","filteredTypes.class":"启用后，大纲将显示“类”符号。","filteredTypes.method":"启用后，大纲将显示“方法”符号。","filteredTypes.property":"启用后，大纲将显示“属性”符号。","filteredTypes.field":"启用时，大纲将显示“字段”符号。","filteredTypes.constructor":"启用大纲时，大纲将显示“构造函数”符号。","filteredTypes.enum":"启用后，大纲将显示“枚举”符号。","filteredTypes.interface":"启用后，大纲将显示“接口”符号。","filteredTypes.function":"启用时，大纲将显示“函数”符号。","filteredTypes.variable":"启用后，大纲将显示“变量”符号。","filteredTypes.constant":"启用后，大纲将显示“常量”符号。","filteredTypes.string":"启用后，大纲将显示“字符串”符号。","filteredTypes.number":"启用后，大纲将显示“数字”符号。","filteredTypes.boolean":"启用后，大纲将显示“布尔”符号。","filteredTypes.array":"启用后，大纲将显示“数组”符号。","filteredTypes.object":"启用后，大纲将显示“对象”符号。","filteredTypes.key":"启用后，大纲将显示“键”符号。","filteredTypes.null":'启用后，大纲将显示 "null" 符号。',"filteredTypes.enumMember":"启用后，大纲将显示“枚举成员”符号。","filteredTypes.struct":"启用后，大纲将显示“结构”符号。","filteredTypes.event":"启用后，大纲将显示“事件”符号。","filteredTypes.operator":"启用时，大纲显示“运算符”符号。","filteredTypes.typeParameter":'启用后，大纲将显示 "typeParameter" 符号。'},"vs/workbench/contrib/outline/browser/outlinePane":{outline:"大纲",sortByPosition:"排序依据: 位置",sortByName:"排序依据: 名称",sortByKind:"排序方式: 类别",followCur:"跟随光标",filterOnType:"在输入时筛选","no-editor":"活动编辑器无法提供大纲信息。",loading:"正在加载“{0}”的文档符号...","no-symbols":"在文档“{0}”中找不到符号"},"vs/workbench/contrib/output/browser/output.contribution":{outputViewIcon:"查看输出视图的图标。",output:"输出",logViewer:"日志查看器","switchToOutput.label":"切换到输出","clearOutput.label":"清除输出",outputCleared:"输出被清除",toggleAutoScroll:"切换自动滚动",outputScrollOff:"关闭自动滚动",outputScrollOn:"打开自动滚动",openActiveLogOutputFile:"打开日志输出文件",toggleOutput:"切换输出",showLogs:"显示日志...",selectlog:"选择日志",openLogFile:"打开日志文件...",selectlogFile:"选择日志文件",miToggleOutput:"输出(&&O)","output.smartScroll.enabled":"在输出视图中启用或禁用「智能滚动」。「智能滚动」会自动在你点击输出视图时锁定滚动，并在你点击最后一行时解锁滚动。"},"vs/workbench/contrib/output/browser/outputView":{"output model title":"{0} - 输出",channel:"“{0}”的输出通道",output:"输出",outputViewWithInputAriaLabel:"{0}，输出面板",outputViewAriaLabel:"输出面板",outputChannels:"输出通道。",logChannel:"日志 ({0})"},"vs/workbench/contrib/output/browser/logViewer":{logViewerAriaLabel:"日志查看器"},"vs/workbench/contrib/performance/electron-browser/startupProfiler":{"prof.message":"成功创建的配置文件。","prof.detail":"请创建问题并手动附加以下文件:\r\n{0}","prof.restartAndFileIssue":"创建问题并重启(&&C)","prof.restart":"重启(&&R)","prof.thanks":"感谢您的帮助。","prof.detail.restart":"需要重新启动才能继续使用“{0}”。再次感谢您的贡献。","prof.restart.button":"重启(&&R)"},"vs/workbench/contrib/performance/browser/performance.contribution":{"show.label":"启动性能"},"vs/workbench/contrib/performance/browser/perfviewEditor":{name:"启动性能"},"vs/workbench/contrib/preferences/browser/keybindingsEditorContribution":{"defineKeybinding.start":"定义键绑定","defineKeybinding.kbLayoutErrorMessage":"在当前键盘布局下无法生成此组合键。","defineKeybinding.kbLayoutLocalAndUSMessage":"在你的键盘布局上为 **{0}**(美国标准布局上为 **{1}**)。","defineKeybinding.kbLayoutLocalMessage":"在你的键盘布局上为 **{0}**。"},"vs/workbench/contrib/preferences/browser/preferences.contribution":{defaultPreferencesEditor:"默认首选项编辑器",settingsEditor2:"设置编辑器 2",keybindingsEditor:"键绑定编辑器",openSettings2:"打开设置 (ui)",preferences:"首选项",settings:"设置",miOpenSettings:"设置(&&S)",openSettingsJson:"打开设置 (json)",openGlobalSettings:"打开用户设置",openRawDefaultSettings:"打开默认设置(JSON)",openWorkspaceSettings:"打开工作区设置",openWorkspaceSettingsFile:"打开工作区设置(JSON)",openFolderSettings:"打开文件夹设置",openFolderSettingsFile:"打开文件夹设置(JSON)",filterModifiedLabel:"显示已修改设置",filterOnlineServicesLabel:"显示联机服务设置",miOpenOnlineSettings:"联机服务设置(&&O)",onlineServices:"在线服务设置",openRemoteSettings:"打开远程设置({0})","settings.focusSearch":"聚焦到设置搜索","settings.clearResults":"清除设置搜索结果","settings.focusFile":"聚焦到设置文件","settings.focusNextSetting":"关注下一个设置","settings.focusPreviousSetting":"聚焦上一个设置","settings.editFocusedSetting":"编辑焦点设置","settings.focusSettingsList":"聚焦设置列表","settings.focusSettingsTOC":"聚焦到设置目录","settings.focusSettingControl":"焦点设置控制","settings.showContextMenu":"显示设置上下文菜单","settings.focusLevelUp":"将焦点上移一级",openGlobalKeybindings:"打开键盘快捷方式","Keyboard Shortcuts":"键盘快捷方式",openDefaultKeybindingsFile:"打开默认键盘快捷键(JSON)",openGlobalKeybindingsFile:"打开键盘快捷方式(JSON)",showDefaultKeybindings:"显示默认按键绑定",showUserKeybindings:"显示用户按键绑定",clear:"清除搜索结果",miPreferences:"首选项(&&P)"},"vs/workbench/contrib/preferences/browser/keybindingWidgets":{"defineKeybinding.initial":"先按所需的组合键，再按 Enter 键。","defineKeybinding.oneExists":"已有 1 条命令的按键绑定与此相同","defineKeybinding.existing":"已有 {0} 条命令的按键绑定与此相同","defineKeybinding.chordsTo":"加上"},"vs/workbench/contrib/preferences/browser/keybindingsEditor":{recordKeysLabel:"录制按键",recordKeysLabelWithKeybinding:"{0} ({1})",sortByPrecedeneLabel:"按优先级排序",sortByPrecedeneLabelWithKeybinding:"{0} ({1})","SearchKeybindings.FullTextSearchPlaceholder":"在此键入搜索按键绑定","SearchKeybindings.KeybindingsSearchPlaceholder":"正在录制按键。按 Esc 键退出",clearInput:"清除键绑定搜索输入",recording:"正在录制按键",command:"命令",keybinding:"键绑定",when:"当",source:"源","show sorted keybindings":"按优先级顺序显示 {0} 个按键绑定","show keybindings":"按字母顺序显示 {0} 个按键绑定",changeLabel:"更改键绑定…",addLabel:"添加键绑定…",editWhen:"更改 When 表达式",removeLabel:"删除键绑定",resetLabel:"重置按键绑定",showSameKeybindings:"显示相同的按键绑定",copyLabel:"复制",copyCommandLabel:"复制命令 ID",error:'编辑按键绑定时发生错误“{0}”。请打开 "keybindings.json" 文件并检查错误。',editKeybindingLabelWithKey:"更改键绑定 {0}",editKeybindingLabel:"更改键绑定",addKeybindingLabelWithKey:"添加按键绑定 {0}",addKeybindingLabel:"添加键绑定",title:"{0} ({1})",whenContextInputAriaLabel:"请键入 when 上下文。按 Enter 进行确认，按 Esc 取消。",keybindingsLabel:"键绑定",noKeybinding:"未分配键绑定。",noWhen:"没有时间上下文。"},"vs/workbench/contrib/preferences/browser/preferencesActions":{configureLanguageBasedSettings:"配置语言特定的设置...",languageDescriptionConfigured:"({0})",pickLanguage:"选择语言"},"vs/workbench/contrib/preferences/browser/preferencesEditor":{"SearchSettingsWidget.AriaLabel":"搜索设置","SearchSettingsWidget.Placeholder":"搜索设置",noSettingsFound:"未找到设置",oneSettingFound:"找到 1 个设置",settingsFound:"找到 {0} 个设置",totalSettingsMessage:"总计 {0} 个设置",nlpResult:"自然语言结果",filterResult:"筛选结果",defaultSettings:"默认设置",defaultUserSettings:"默认用户设置",defaultWorkspaceSettings:"默认工作区设置",defaultFolderSettings:"默认文件夹设置",defaultEditorReadonly:"在右侧编辑器中编辑以覆盖默认值。",preferencesAriaLabel:"默认首选项。只读编辑器。"},"vs/workbench/contrib/preferences/browser/settingsEditor2":{"SearchSettings.AriaLabel":"搜索设置",clearInput:"清除设置搜索输入",noResults:"未找到设置",clearSearchFilters:"清除筛选",settings:"设置",settingsNoSaveNeeded:"自动保存对设置所做的更改。",oneResult:"找到 1 个设置",moreThanOneResult:"找到 {0} 个设置",turnOnSyncButton:"打开设置同步",lastSyncedLabel:"上次同步时间: {0}"},"vs/workbench/contrib/preferences/common/preferencesContribution":{enableNaturalLanguageSettingsSearch:"控制是否在设置中启用自然语言搜索。自然语言搜索由 Microsoft 联机服务提供。","settingsSearchTocBehavior.hide":"在搜索时隐藏目录。","settingsSearchTocBehavior.filter":"筛选目录为仅显示含有匹配设置的类别。单击一个类别将仅显示该类别的结果。",settingsSearchTocBehavior:"控制设置编辑器的目录在搜索时的行为。"},"vs/workbench/contrib/preferences/browser/preferencesIcons":{settingsGroupExpandedIcon:"“拆分 JSON 设置”编辑器中已展开部分的图标。",settingsGroupCollapsedIcon:"“拆分 JSON 设置”编辑器中已折叠部分的图标。",settingsScopeDropDownIcon:"“拆分 JSON 设置”编辑器中“文件夹”下拉按钮的图标。",settingsMoreActionIcon:"设置 UI 中“更多操作”操作的图标。",keybindingsRecordKeysIcon:"键绑定 UI 中“记录密钥”操作的图标。",keybindingsSortIcon:"键绑定 UI 中“按优先级排序”切换开关的图标。",keybindingsEditIcon:"键绑定 UI 中“编辑”操作的图标。",keybindingsAddIcon:"键绑定 UI 中“添加”操作的图标。",settingsEditIcon:"设置 UI 中“编辑”操作的图标。",settingsAddIcon:"设置 UI 中“添加”操作的图标。",settingsRemoveIcon:"设置 UI 中“删除”操作的图标。",preferencesDiscardIcon:"设置 UI 中“放弃”操作的图标。",preferencesClearInput:"设置和键绑定 UI 中的“清除输入”图标。",preferencesOpenSettings:"“打开设置”命令的图标。"},"vs/workbench/contrib/preferences/browser/preferencesWidgets":{defaultSettings:"请将设置放在右侧编辑器中进行替代。",noSettingsFound:"未找到设置。",settingsSwitcherBarAriaLabel:"设置转换器",userSettings:"用户",userSettingsRemote:"远程",workspaceSettings:"工作区",folderSettings:"文件夹"},"vs/workbench/contrib/preferences/browser/preferencesRenderers":{emptyUserSettingsHeader:'将设置放在此处以覆盖 "默认设置"。',emptyWorkspaceSettingsHeader:'将设置放在此处以覆盖 "用户设置"。',emptyFolderSettingsHeader:'将文件夹设置放在此处以覆盖 "工作区设置"。',editTtile:"编辑",replaceDefaultValue:"在设置中替换",copyDefaultValue:"复制到设置","unknown configuration setting":"未知的配置设置",unsupportedRemoteMachineSetting:"此设置无法在此窗口中应用。当您打开本地窗口时，它将被应用。",unsupportedWindowSetting:"此设置无法应用于此工作区。它将在您直接打开包含的工作区文件夹时应用。",unsupportedApplicationSetting:"此设置只能应用于应用程序的用户设置",unsupportedMachineSetting:"只能在本地窗口的用户设置中或者远程窗口的远程设置中应用此设置。",unsupportedProperty:"不支持的属性"},"vs/workbench/contrib/preferences/browser/settingsLayout":{commonlyUsed:"常用设置",textEditor:"文本编辑器",cursor:"光标",find:"查找",font:"字体",formatting:"正在格式化",diffEditor:"差异编辑器",minimap:"缩略图",suggestions:"建议",files:"文件",workbench:"工作台",appearance:"外观",breadcrumbs:"导航路径",editorManagement:"编辑管理",settings:"设置编辑器",zenMode:"禅模式",screencastMode:"截屏模式",window:"窗口",newWindow:"新建窗口",features:"功能",fileExplorer:"资源管理器",search:"搜索",debug:"调试",scm:"源代码管理",extensions:"扩展",terminal:"终端",task:"任务",problems:"问题",output:"输出",comments:"评论",remote:"远程",timeline:"时间线",notebook:"笔记本",application:"应用程序",proxy:"代理服务器",keyboard:"键盘",update:"更新",telemetry:"遥测",settingsSync:"设置同步"},"vs/workbench/contrib/preferences/browser/settingsTree":{extensions:"扩展",extensionSyncIgnoredLabel:"同步: 已忽略",modified:"已修改",settingsContextMenuTitle:"更多操作...",alsoConfiguredIn:"同时修改于",configuredIn:"修改于",newExtensionsButtonLabel:"显示匹配的扩展",editInSettingsJson:"在 settings.json 中编辑","settings.Default":"默认",resetSettingLabel:"重置此设置",validationError:"验证错误。","settings.Modified":"已修改。",settings:"设置",copySettingIdLabel:"复制设置 id",copySettingAsJSONLabel:"将设置复制为 JSON 文本",stopSyncingSetting:"同步此设置"},"vs/workbench/contrib/preferences/browser/settingsTreeModels":{workspace:"工作区",remote:"远程",user:"用户"},"vs/workbench/contrib/preferences/browser/settingsWidgets":{headerForeground:"节标题或活动标题的前景颜色。",modifiedItemForeground:"修改后的设置指示器的颜色。",settingsDropdownBackground:"设置编辑器下拉列表背景色。",settingsDropdownForeground:"设置编辑器下拉列表前景色。",settingsDropdownBorder:"设置编辑器下拉列表边框。",settingsDropdownListBorder:"设置编辑器下拉列表边框。这会将选项包围起来，并将选项与描述分开。",settingsCheckboxBackground:"设置编辑器复选框背景。",settingsCheckboxForeground:"设置编辑器复选框前景。",settingsCheckboxBorder:"设置编辑器复选框边框。",textInputBoxBackground:"设置编辑器文本输入框背景。",textInputBoxForeground:"设置编辑器文本输入框前景。",textInputBoxBorder:"设置编辑器文本输入框边框。",numberInputBoxBackground:"设置编辑器编号输入框背景。",numberInputBoxForeground:"设置编辑器编号输入框前景。",numberInputBoxBorder:"设置编辑器编号输入框边框。",focusedRowBackground:"聚焦时设置行的背景色。","notebook.rowHoverBackground":"悬停时设置行的背景色。","notebook.focusedRowBorder":"将焦点放在行上时行的上边框和下边框的颜色。",okButton:"确定",cancelButton:"取消",listValueHintLabel:'列出项目"{0}"',listSiblingHintLabel:'列出与"${1}"同级的项目"{0}"',removeItem:"删除项",editItem:"编辑项",addItem:"添加项",itemInputPlaceholder:"字符串项...",listSiblingInputPlaceholder:"同级...",excludePatternHintLabel:"排除与“{0}”匹配的文件",excludeSiblingHintLabel:"仅当存在匹配“{1}”的文件时，才排除匹配“{0}”的文件",removeExcludeItem:"删除排除项",editExcludeItem:"编辑排除项目",addPattern:"添加模式",excludePatternInputPlaceholder:"排除项的模式...",excludeSiblingInputPlaceholder:"当符合此模式的项目存在时...",objectKeyInputPlaceholder:"键",objectValueInputPlaceholder:"值",objectPairHintLabel:"属性“{0}”设置为“{1}”。",resetItem:"重置项",objectKeyHeader:"项",objectValueHeader:"值"},"vs/workbench/contrib/preferences/browser/tocTree":{settingsTOC:"设置目录",groupRowAriaLabel:"{0}，组"},"vs/workbench/contrib/quickaccess/browser/quickAccess.contribution":{helpQuickAccessPlaceholder:'键入"{0}"以获取有关可在此处执行的操作的帮助。',helpQuickAccess:"显示所有快速访问提供程序",viewQuickAccessPlaceholder:"键入要打开的视图、输出通道或终端的名称。",viewQuickAccess:"打开视图",commandsQuickAccessPlaceholder:"键入要运行的命令的名称。",commandsQuickAccess:"显示并运行命令",miCommandPalette:"命令面板(&&C)…",miOpenView:"打开视图(&&O)…",miGotoSymbolInEditor:"转到编辑器中的符号(&&S)…",miGotoLine:"转到行/列(&&L)…",commandPalette:"命令面板..."},"vs/workbench/contrib/quickaccess/browser/viewQuickAccess":{noViewResults:"没有匹配的视图",views:"侧边栏",panels:"面板",terminalTitle:"{0}: {1}",terminals:"终端",logChannel:"日志 ({0})",channels:"输出",openView:"打开视图",quickOpenView:"Quick Open 视图"},"vs/workbench/contrib/quickaccess/browser/commandsQuickAccess":{noCommandResults:"没有匹配的命令","configure keybinding":"配置键绑定",commandWithCategory:"{0}: {1}",showTriggerActions:"显示所有命令",clearCommandHistory:"清除命令历史记录"},"vs/workbench/contrib/relauncher/browser/relauncher.contribution":{relaunchSettingMessage:"设置已更改，需要重启才能生效。",relaunchSettingMessageWeb:"设置已更改，需要重新加载才能生效。",relaunchSettingDetail:"按下“重启”按钮以重新启动 {0} 并启用该设置。",relaunchSettingDetailWeb:"按重新加载按钮重新加载{0}并启用该设置。",restart:"重启(&&R)",restartWeb:"重载(&&R)"},"vs/workbench/contrib/remote/electron-sandbox/remote.contribution":{remote:"远程","remote.downloadExtensionsLocally":"启用后，扩展将本地下载并安装在远程上。"},"vs/workbench/contrib/remote/common/remote.contribution":{remoteExtensionLog:"远程服务器",ui:"UI 扩展类型。在远程窗口中，只有在本地计算机上可用时，才会启用此类扩展。",workspace:"工作区扩展类型。在远程窗口中，仅在远程上可用时启用此类扩展。",web:"Web 辅助进程扩展类型。此类扩展可在 Web 辅助进程扩展主机中执行。",remote:"远程","remote.extensionKind":'覆盖扩展的类型。"ui" 扩展在本地计算机上安装和运行，而 "workspace" 扩展则在远程计算机上运行。通过使用此设置重写扩展的默认类型，可指定是否应在本地或远程安装和启用该扩展。',"remote.restoreForwardedPorts":"还原您在工作区中转发的端口。","remote.autoForwardPorts":"启用后，将检测新的正在运行的进程，并自动转发其侦听的端口。"},"vs/workbench/contrib/remote/browser/remote":{RemoteHelpInformationExtPoint:"为远程提供帮助信息","RemoteHelpInformationExtPoint.getStarted":"项目入门页面的 URL 或返回此 URL 的命令","RemoteHelpInformationExtPoint.documentation":"项目文档页面的 URL 或返回此 URL 的命令","RemoteHelpInformationExtPoint.feedback":"项目反馈报告器的 URL 或返回 URL 的命令","RemoteHelpInformationExtPoint.issues":"项目问题列表的 URL 或返回 URL 的命令",getStartedIcon:"远程资源管理器视图中的入门图标。",documentationIcon:"远程资源管理器视图中的文档图标。",feedbackIcon:"远程资源管理器视图中的反馈图标。",reviewIssuesIcon:"远程资源管理器视图中的“审阅问题”图标。",reportIssuesIcon:"远程资源管理器视图中的“报告问题”图标。",remoteExplorerViewIcon:"查看远程资源管理器视图的图标。","remote.help.getStarted":"入门","remote.help.documentation":"阅读文档","remote.help.feedback":"提供反馈","remote.help.issues":"审查问题","remote.help.report":"报告问题",pickRemoteExtension:"选择要打开的 URL","remote.help":"帮助和反馈",remotehelp:"远程帮助","remote.explorer":"远程资源管理器",toggleRemoteViewlet:"显示远程资源管理器",reconnectionWaitOne:"正在尝试在 {0} 秒内重新连接...",reconnectionWaitMany:"正在尝试在 {0} 秒内重新连接...",reconnectNow:"立即重新连接",reloadWindow:"重新加载窗口",connectionLost:"连接中断",reconnectionRunning:"正在尝试重新连接...",reconnectionPermanentFailure:"无法重新连接。请重新加载窗口。",cancel:"取消"},"vs/workbench/contrib/remote/browser/remoteExplorer":{ports:"端口","1forwardedPort":"1 个转发的端口",nForwardedPorts:"{0} 个转发的端口","status.forwardedPorts":"转发的端口","remote.forwardedPorts.statusbarTextNone":"未转发端口","remote.forwardedPorts.statusbarTooltip":"转发的端口: {0}","remote.tunnelsView.automaticForward":"在端口 {0} 上运行的服务可用。[查看所有可用端口](命令: {1}.focus)"},"vs/workbench/contrib/remote/browser/explorerViewItems":{remotes:"切换远程","remote.explorer.switch":"切换远程"},"vs/workbench/contrib/remote/browser/remoteIndicator":{"remote.category":"远程","remote.showMenu":"显示远程菜单","remote.close":"关闭远程连接",miCloseRemote:"关闭远程连接(&&M)","host.open":"正在打开远程...",disconnectedFrom:"已与 {0} 断开连接","host.tooltipDisconnected":"已与 {0} 断开连接","host.tooltip":"正在 {0} 上编辑","noHost.tooltip":"打开远程窗口",remoteHost:"远程主机","cat.title":"{0}: {1}","closeRemote.title":"关闭远程连接"},"vs/workbench/contrib/remote/browser/tunnelView":{"remote.tunnelsView.add":"转发端口...","remote.tunnelsView.detected":"现有隧道","remote.tunnelsView.candidates":"未转发","remote.tunnelsView.input":"按 Enter 键确认，或按 Esc 键取消。","remote.tunnelsView.forwardedPortLabel0":"{0}","remote.tunnelsView.forwardedPortLabel1":"{0} → {1}","remote.tunnelsView.forwardedPortLabel2":"{0}","remote.tunnelsView.forwardedPortDescription0":"{0} → {1}","remote.tunnel":"端口","remote.tunnel.ariaLabelForwarded":"远程端口 {0}:{1} 已转发到本地地址 {2}","remote.tunnel.ariaLabelCandidate":"远程端口 {0}:{1} 未转发",tunnelView:"隧道视图","remote.tunnel.label":"设置标签","remote.tunnelsView.labelPlaceholder":"端口标签","remote.tunnelsView.portNumberValid":"转发的端口无效。","remote.tunnelsView.portNumberToHigh":"端口号必须大于等于 0 且小于 {0}。","remote.tunnel.forward":"转发端口","remote.tunnel.forwardItem":"转发端口","remote.tunnel.forwardPrompt":"端口号或地址(例如 3000 或 10.10.10.10:2000)。","remote.tunnel.forwardError":"无法转发{0}: {1}。主机可能不可用，或者远程端口可能已被转发","remote.tunnel.closeNoPorts":"当前未转发端口。尝试运行{0}命令","remote.tunnel.close":"停止转发端口","remote.tunnel.closePlaceholder":"选择停止转发的端口","remote.tunnel.open":"在浏览器中打开","remote.tunnel.openCommandPalette":"在浏览器中打开端口","remote.tunnel.openCommandPaletteNone":"当前没有转发端口。若要开始，请打开端口视图。","remote.tunnel.openCommandPaletteView":"打开端口视图…","remote.tunnel.openCommandPalettePick":"选择要打开的端口","remote.tunnel.copyAddressInline":"复制地址","remote.tunnel.copyAddressCommandPalette":"复制转发的端口地址","remote.tunnel.copyAddressPlaceholdter":"选择转发的端口","remote.tunnel.changeLocalPort":"更改本地端口","remote.tunnel.changeLocalPortNumber":"本地端口 {0} 不可用。已改用端口号 {1}","remote.tunnelsView.changePort":"新的本地端口"},"vs/workbench/contrib/sash/browser/sash.contribution":{sashSize:"控制视图/编辑器之间拖动区域的反馈区域大小(以像素为单位)。如果你认为很难使用鼠标调整视图的大小，请将该值调大。"},"vs/workbench/contrib/scm/browser/scm.contribution":{sourceControlViewIcon:"查看源代码管理视图的图标。","source control":"源代码管理","no open repo":"当前没有源代码管理提供程序进行注册。","source control repositories":"源代码管理存储库",toggleSCMViewlet:"显示源代码管理",scmConfigurationTitle:"源代码管理","scm.diffDecorations.all":"显示所有可用位置中的差异装饰。","scm.diffDecorations.gutter":"仅在编辑器行号槽中显示差异装饰。","scm.diffDecorations.overviewRuler":"仅在概览标尺中显示差异装饰。","scm.diffDecorations.minimap":"仅在缩略图中显示差异装饰。","scm.diffDecorations.none":"不要显示差异装饰。",diffDecorations:"控制编辑器中差异的显示效果。",diffGutterWidth:"控制装订线中差异修饰的宽度(px)(已添加或已修改)。","scm.diffDecorationsGutterVisibility.always":"始终显示行号槽中的差异装饰器。","scm.diffDecorationsGutterVisibility.hover":"仅在悬停时显示行号槽中的差异装饰器。","scm.diffDecorationsGutterVisibility":"控制行号槽中源代码管理差异装饰器的可见性。","scm.diffDecorationsGutterAction.diff":"单击时显示内联差异一览视图。","scm.diffDecorationsGutterAction.none":"不执行任何操作。","scm.diffDecorationsGutterAction":"控制源代码管理差异装订线修饰的行为。",alwaysShowActions:"控制是否在“源代码管理”视图中始终显示内联操作。","scm.countBadge.all":"显示所有源代码管理提供程序计数锁屏提醒的总和。","scm.countBadge.focused":"显示焦点源控制提供程序的计数标记。","scm.countBadge.off":"禁用源代码管理计数徽章。","scm.countBadge":"控制活动栏上源代码管理图标上的计数锁屏提醒。","scm.providerCountBadge.hidden":"隐藏源代码管理提供程序计数锁屏提醒。","scm.providerCountBadge.auto":"仅显示非零时源代码管理提供程序的计数锁屏提醒。","scm.providerCountBadge.visible":"显示源代码管理提供程序计数锁屏提醒。","scm.providerCountBadge":"控制源代码管理提供程序标头的计数锁屏提醒。仅在有多个提供程序时才显示这些标头。","scm.defaultViewMode.tree":"将存储库更改显示为树。","scm.defaultViewMode.list":"将存储库更改显示为列表。","scm.defaultViewMode":"控制默认的源代码管理存储库视图模式。",autoReveal:"控制 SCM 视图在打开文件时是否应自动显示和选择文件。",inputFontFamily:"控制输入消息的字体。将 `default` 用于工作台用户界面字体系列，将 `editor` 用于 `#editor.fontFamily#` 的值，或者使用自定义字体系列。",alwaysShowRepository:"控制存储库是否应始终在 SCM 视图中可见。",providersVisible:'控制在“源代码管理存储库”部分中可见的存储库数。设置为 "0", 以便能够手动调整视图的大小。',miViewSCM:"SCM(&&C)","scm accept":"源代码管理: 接受输入","scm view next commit":"SCM: 查看下一个提交","scm view previous commit":"SCM: 查看上一个提交","open in terminal":"在终端打开"},"vs/workbench/contrib/scm/browser/activity":{"status.scm":"源代码管理",scmPendingChangesBadge:"{0} 个挂起的更改"},"vs/workbench/contrib/scm/browser/dirtydiffDecorator":{changes:"第 {0} 个更改 (共 {1} 个)",change:"第 {0} 个更改 (共 {1} 个)","show previous change":"显示上一个更改","show next change":"显示下一个更改",miGotoNextChange:"下一个更改(&&C)",miGotoPreviousChange:"上一个更改(&&C)","move to previous change":"移动到上一个更改","move to next change":"移动到下一个更改",editorGutterModifiedBackground:"编辑器导航线中被修改行的背景颜色。",editorGutterAddedBackground:"编辑器导航线中已插入行的背景颜色。",editorGutterDeletedBackground:"编辑器导航线中被删除行的背景颜色。",minimapGutterModifiedBackground:"修改的线的迷你地图装订线背景颜色。",minimapGutterAddedBackground:"添加的线的迷你地图装订线背景颜色。",minimapGutterDeletedBackground:"删除的线的迷你地图装订线背景颜色。",overviewRulerModifiedForeground:"概览标尺中已修改内容的颜色。",overviewRulerAddedForeground:"概览标尺中已增加内容的颜色。",overviewRulerDeletedForeground:"概览标尺中已删除内容的颜色。"},"vs/workbench/contrib/scm/browser/scmViewPaneContainer":{"source control":"源代码管理"},"vs/workbench/contrib/scm/browser/scmRepositoriesViewPane":{scm:"源代码管理存储库"},"vs/workbench/contrib/scm/browser/scmViewPane":{scm:"源代码管理",input:"源代码管理输入",repositories:"存储库",sortAction:"查看和排序",toggleViewMode:"切换视图模式",viewModeList:"以列表形式查看",viewModeTree:"以树形式查看",sortByName:"按名称排序",sortByPath:"按路径排序",sortByStatus:"按状态排序","expand all":"展开所有存储库","collapse all":"折叠所有存储库","scm.providerBorder":"SCM 提供程序分隔符边框。"},"vs/workbench/contrib/search/browser/search.contribution":{search:"搜索",copyMatchLabel:"复制",copyPathLabel:"复制路径",copyAllLabel:"全部复制",revealInSideBar:"在侧边栏中显示",clearSearchHistoryLabel:"清除搜索历史记录",focusSearchListCommandLabel:"聚焦到列表",findInFolder:"在文件夹中查找...",findInWorkspace:"在工作区中查找...",showTriggerActions:"转到工作区中的符号...",name:"搜索","findInFiles.description":"打开搜索 viewlet","findInFiles.args":"搜索 viewlet 的一组选项",findInFiles:"在文件中查找",miFindInFiles:"在文件中查找(&&I)",miReplaceInFiles:"在文件中替换(&&I)",anythingQuickAccessPlaceholder:"按名称搜索文件(追加 {0} 转到行，追加 {1} 转到符号)",anythingQuickAccess:"转到文件",symbolsQuickAccessPlaceholder:"键入要打开的符号的名称。",symbolsQuickAccess:"转到工作区中的符号",searchConfigurationTitle:"搜索",exclude:"配置glob模式以在全文本搜索和快速打开中排除文件和文件夹。从“＃files.exclude＃”设置继承所有glob模式。在[此处](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options)了解更多关于glob模式的信息","exclude.boolean":"匹配文件路径所依据的 glob 模式。设置为 true 或 false 可启用或禁用该模式。","exclude.when":"对匹配文件的同级文件的其他检查。使用 $(basename) 作为匹配文件名的变量。",useRipgrep:'此设置已被弃用，将回退到 "search.usePCRE2"。',useRipgrepDeprecated:'已弃用。请考虑使用 "search.usePCRE2" 获取对高级正则表达式功能的支持。',"search.maintainFileSearchCache":"启用后，搜索服务进程将保持活动状态，而不是在一个小时不活动后关闭。这将使文件搜索缓存保留在内存中。",useIgnoreFiles:"控制在搜索文件时是否使用 `.gitignore` 和 `.ignore` 文件。",useGlobalIgnoreFiles:"控制在搜索文件时是否使用全局 `.gitignore` 和 `.ignore` 文件。","search.quickOpen.includeSymbols":"控制 Quick Open 文件结果中是否包括全局符号搜索的结果。","search.quickOpen.includeHistory":"是否在 Quick Open 的文件结果中包含最近打开的文件。","filterSortOrder.default":"历史记录条目按与筛选值的相关性排序。首先显示更相关的条目。","filterSortOrder.recency":"历史记录条目按最近时间排序。首先显示最近打开的条目。",filterSortOrder:"控制在快速打开中筛选时编辑器历史记录的排序顺序。","search.followSymlinks":"控制是否在搜索中跟踪符号链接。","search.smartCase":"若搜索词全为小写，则不区分大小写进行搜索，否则区分大小写进行搜索。","search.globalFindClipboard":"控制“搜索”视图是否读取或修改 macOS 的共享查找剪贴板。","search.location":"控制搜索功能是显示在侧边栏，还是显示在水平空间更大的面板区域。","search.location.deprecationMessage":"此设置已弃用。请改用拖放功能，方法是拖动搜索图标。","search.collapseResults.auto":"结果少于10个的文件将被展开。其他的则被折叠。","search.collapseAllResults":"控制是折叠还是展开搜索结果。","search.useReplacePreview":"控制在选择或替换匹配项时是否打开“替换预览”视图。","search.showLineNumbers":"控制是否显示搜索结果所在的行号。","search.usePCRE2":"是否在文本搜索中使用 pcre2 正则表达式引擎。这允许使用一些高级正则表达式功能, 如前瞻和反向引用。但是, 并非所有 pcre2 功能都受支持-仅支持 javascript 也支持的功能。",usePCRE2Deprecated:"弃用。当使用仅 PCRE2 支持的正则表达式功能时，将自动使用 PCRE2。","search.actionsPositionAuto":"当搜索视图较窄时将操作栏置于右侧，当搜索视图较宽时，将它紧接在内容之后。","search.actionsPositionRight":"始终将操作栏放置在右侧。","search.actionsPosition":"在搜索视图中控制操作栏的位置。","search.searchOnType":"在键入时搜索所有文件。","search.seedWithNearestWord":"当活动编辑器没有选定内容时，从离光标最近的字词开始进行种子设定搜索。","search.seedOnFocus":"聚焦搜索视图时，将工作区搜索查询更新为编辑器的所选文本。单击时或触发 `workbench.views.search.focus` 命令时会发生此情况。","search.searchOnTypeDebouncePeriod":'启用"#search.searchOnType"后，控制键入的字符与开始搜索之间的超时(以毫秒为单位)。禁用"搜索.searchOnType"时无效。',"search.searchEditor.doubleClickBehaviour.selectWord":"双击选择光标下的单词。","search.searchEditor.doubleClickBehaviour.goToLocation":"双击将在活动编辑器组中打开结果。","search.searchEditor.doubleClickBehaviour.openLocationToSide":"双击将在编辑器组中的结果打开到一边，如果尚不存在，则创建一个结果。","search.searchEditor.doubleClickBehaviour":"配置在搜索编辑器中双击结果的效果。","search.searchEditor.reusePriorSearchConfiguration":"启用后，新的搜索编辑器将重用以前打开的搜索编辑器的包含、排除和标志","search.searchEditor.defaultNumberOfContextLines":'创建新的搜索编辑器时要使用的周围上下文行的默认数目。如果使用 "#search.searchEditor.reusePriorSearchConfiguration#"，则可将它设置为 "null" (空)，以使用搜索编辑器之前的配置。',"searchSortOrder.default":"结果按文件夹和文件名按字母顺序排序。","searchSortOrder.filesOnly":"结果按文件名排序，忽略文件夹顺序，按字母顺序排列。","searchSortOrder.type":"结果按文件扩展名的字母顺序排序。","searchSortOrder.modified":"结果按文件的最后修改日期按降序排序。","searchSortOrder.countDescending":"结果按每个文件的计数降序排序。","searchSortOrder.countAscending":"结果按每个文件的计数以升序排序。","search.sortOrder":"控制搜索结果的排序顺序。",miViewSearch:"搜索(&&S)",miGotoSymbolInWorkspace:"转到工作区中的符号(&&W)…"},"vs/workbench/contrib/search/browser/searchView":{searchCanceled:"在找到结果前取消了搜索 - ",moreSearch:"切换搜索详细信息","searchScope.includes":"要包含的文件","label.includes":"搜索包含模式","searchScope.excludes":"排除的文件","label.excludes":"搜索排除模式","replaceAll.confirmation.title":"全部替换","replaceAll.confirm.button":"替换(&&R)","replaceAll.occurrence.file.message":"已将 {1} 文件中出现的 {0} 替换为“{2}”。","removeAll.occurrence.file.message":"已替换 {1} 文件中的 {0} 个匹配项。","replaceAll.occurrence.files.message":"已将 {1} 文件中出现的 {0} 替换为“{2}”。","removeAll.occurrence.files.message":"已替换 {1} 文件中出现的 {0}。","replaceAll.occurrences.file.message":"已将 {1} 文件中出现的 {0} 替换为“{2}”。","removeAll.occurrences.file.message":"已替换 {1} 文件中的 {0} 个匹配项。","replaceAll.occurrences.files.message":"已将 {1} 个文件中出现的 {0} 处替换为“{2}”。 ","removeAll.occurrences.files.message":"已替换 {1} 文件中出现的 {0}。","removeAll.occurrence.file.confirmation.message":"是否将 {1} 文件中出现的 {0} 替换为“{2}”?","replaceAll.occurrence.file.confirmation.message":"是否替换 {1} 文件中的 {0} 个匹配项？","removeAll.occurrence.files.confirmation.message":"是否将 {1} 文件中出现的 {0} 替换为“{2}”?","replaceAll.occurrence.files.confirmation.message":"是否替换 {1} 文件中出现的 {0}?","removeAll.occurrences.file.confirmation.message":"是否将 {1} 文件中出现的 {0} 替换为“{2}”?","replaceAll.occurrences.file.confirmation.message":"是否替换 {1} 文件中的 {0} 个匹配项？","removeAll.occurrences.files.confirmation.message":"是否将 {1} 个文件中的 {0} 次匹配替换为“{2}”?","replaceAll.occurrences.files.confirmation.message":"是否替换 {1} 文件中出现的 {0}?",emptySearch:"空搜索",ariaSearchResultsClearStatus:"搜索结果已清除",searchPathNotFoundError:"找不到搜索路径: {0}",searchMaxResultsWarning:"结果集仅包含所有匹配项的子集。请使你的搜索更加具体，减少结果。",noResultsIncludesExcludes:"在“{0}”中找不到结果(“{1}”除外) - ",noResultsIncludes:"“{0}”中未找到任何结果 - ",noResultsExcludes:"除“{0}”外，未找到任何结果 - ",noResultsFound:"未找到结果。查看您的设置配置排除, 并检查您的 gitignore 文件-","rerunSearch.message":"再次搜索","rerunSearchInAll.message":"在所有文件中再次搜索","openSettings.message":"打开设置","openSettings.learnMore":"了解详细信息",ariaSearchResultsStatus:"搜索 {1} 文件中返回的 {0} 个结果",forTerm:" - 搜索: {0}",useIgnoresAndExcludesDisabled:"- 排除设置和忽略文件被禁用了","openInEditor.message":"在编辑器中打开","openInEditor.tooltip":"将当前搜索结果复制到编辑器","search.file.result":"{0} 个结果，包含于 {1} 个文件中","search.files.result":"{1} 文件中有 {0} 个结果","search.file.results":"{1} 文件中有 {0} 个结果","search.files.results":"{1} 文件中有 {0} 个结果",searchWithoutFolder:"你尚未打开或指定文件夹。当前仅搜索打开的文件 -",openFolder:"打开文件夹"},"vs/workbench/contrib/search/browser/searchActions":{showSearch:"显示搜索",replaceInFiles:"在文件中替换",toggleTabs:"切换类型搜索","RefreshAction.label":"刷新","CollapseDeepestExpandedLevelAction.label":"全部折叠","ExpandAllAction.label":"全部展开","ToggleCollapseAndExpandAction.label":"切换折叠和展开","ClearSearchResultsAction.label":"清除搜索结果","CancelSearchAction.label":"取消搜索","FocusNextSearchResult.label":"聚焦下一搜索结果","FocusPreviousSearchResult.label":"聚焦到上一搜索结果","RemoveAction.label":"消除","file.replaceAll.label":"全部替换","match.replace.label":"替换"},"vs/workbench/contrib/search/browser/symbolsQuickAccess":{noSymbolResults:"没有匹配的工作区符号",openToSide:"打开转到侧边",openToBottom:"打开转到底部"},"vs/workbench/contrib/search/browser/anythingQuickAccess":{noAnythingResults:"没有匹配的结果",recentlyOpenedSeparator:"最近打开",fileAndSymbolResultsSeparator:"文件和符号结果",fileResultsSeparator:"文件结果",filePickAriaLabelDirty:"{0}，存在更新",openToSide:"打开转到侧边",openToBottom:"打开转到底部",closeEditor:"从最近打开中删除"},"vs/workbench/contrib/search/browser/searchWidget":{"search.action.replaceAll.disabled.label":"全部替换(提交搜索以启用)","search.action.replaceAll.enabled.label":"全部替换","search.replace.toggle.button.title":"切换替换","label.Search":"搜索: 键入搜索词，然后按 Enter 进行搜索","search.placeHolder":"搜索",showContext:"切换上下文行","label.Replace":"替换: 键入待替换词，然后按 Enter 进行预览","search.replace.placeHolder":"替换"},"vs/workbench/contrib/search/browser/searchIcons":{searchDetailsIcon:"用于使搜索详细信息可见的图标。",searchShowContextIcon:"搜索编辑器中的“切换上下文”图标。",searchHideReplaceIcon:"用于折叠搜索视图中的替换部分的图标。",searchShowReplaceIcon:"用于在搜索视图中展开“替换”部分的图标。",searchReplaceAllIcon:"搜索视图中的“全部替换”图标。",searchReplaceIcon:"搜索视图中的“替换”图标。",searchRemoveIcon:"用于删除搜索结果的图标。",searchRefreshIcon:"搜索视图中的“刷新”图标。",searchCollapseAllIcon:"搜索视图中的“折叠结果”图标。",searchExpandAllIcon:"搜索视图中的“展开结果”图标。",searchClearIcon:"搜索视图中的“清除结果”图标。",searchStopIcon:"搜索视图中的“停止”图标。",searchViewIcon:"查看搜索视图的图标。",searchNewEditorIcon:"用于打开新搜索编辑器的操作的图标。"},"vs/workbench/contrib/search/browser/patternInputWidget":{defaultLabel:"输入",useExcludesAndIgnoreFilesDescription:"使用“排除设置”与“忽略文件”"},"vs/workbench/contrib/search/browser/searchResultsView":{"searchFolderMatch.other.label":"其他文件",searchFileMatches:"已找到 {0} 个文件",searchFileMatch:"已找到 {0} 个文件",searchMatches:"已找到 {0} 个匹配项",searchMatch:"已找到 {0} 个匹配项",lineNumStr:"位于第 {0} 行",numLinesStr:"其他 {0} 行",search:"搜索",folderMatchAriaLabel:"根目录 {1} 中找到 {0} 个匹配，搜索结果",otherFilesAriaLabel:"在工作区外存在 {0} 个匹配，搜索结果",fileMatchAriaLabel:"文件夹 {2} 的文件 {1} 中有 {0} 个匹配项，搜索结果",replacePreviewResultAria:"在第 {2} 列替换词组 {0} 为 {1}，同行文本为 {3}",searchResultAria:"在第 {1} 列找到词组 {0}，同行文本为 {2}"},"vs/workbench/contrib/search/common/queryBuilder":{"search.noWorkspaceWithName":"工作区中没有名为“{0}”的文件夹 "},"vs/workbench/contrib/search/browser/replaceService":{fileReplaceChanges:"{0} ↔ {1} (Replace Preview)"},"vs/workbench/contrib/searchEditor/browser/searchEditor.contribution":{searchEditor:"搜索编辑器",search:"搜索编辑器","searchEditor.deleteResultBlock":"删除文件结果","search.openNewSearchEditor":"新的搜索编辑器","search.openSearchEditor":"打开搜索编辑器","search.openNewEditorToSide":"打开侧边的新搜索编辑器","search.openResultsInEditor":"在编辑器中打开结果","search.rerunSearchInEditor":"再次搜索","search.action.focusQueryEditorWidget":"聚焦搜索编辑器输入","searchEditor.action.toggleSearchEditorCaseSensitive":"切换匹配大小写","searchEditor.action.toggleSearchEditorWholeWord":"切换全字匹配","searchEditor.action.toggleSearchEditorRegex":"切换使用正则表达式","searchEditor.action.toggleSearchEditorContextLines":"切换上下文行","searchEditor.action.increaseSearchEditorContextLines":"增加上下文行","searchEditor.action.decreaseSearchEditorContextLines":"减少上下文行","searchEditor.action.selectAllSearchEditorMatches":"选择所有匹配项"},"vs/workbench/contrib/searchEditor/browser/searchEditorActions":{"search.openNewEditor":"打开新的搜索编辑器"},"vs/workbench/contrib/searchEditor/browser/searchEditor":{moreSearch:"切换搜索详细信息","searchScope.includes":"要包含的文件","label.includes":"搜索包含模式","searchScope.excludes":"排除的文件","label.excludes":"搜索排除模式",runSearch:"运行搜索",searchResultItem:"在文件 {2} 的 {1} 中匹配到 {0}",searchEditor:"搜索",textInputBoxBorder:"搜索编辑器文本输入框的边框。"},"vs/workbench/contrib/searchEditor/browser/searchEditorInput":{"searchTitle.withQuery":"搜索: {0}",searchTitle:"搜索"},"vs/workbench/contrib/searchEditor/browser/searchEditorSerialization":{invalidQueryStringError:"查询字符串中的所有反斜杠都必须转义(\\\\)",numFiles:"{0} 文件",oneFile:"1 个文件",numResults:"{0} 个结果",oneResult:"1 个结果",noResults:"无结果",searchMaxResultsWarning:"结果集仅包含所有匹配项的子集。请使你的搜索更加具体，减少结果。"},"vs/workbench/contrib/snippets/browser/snippets.contribution":{"snippetSchema.json.prefix":"在 Intellisense 中选择代码片段时要使用的前缀","snippetSchema.json.body":"片段内容。请使用 '$1', '${1:defaultText}' 来定义光标位置，使用“$0”表示最终光标位置。请插入带有“${varName}”和“${varName:defaultText}”的变量值，例如 \"这是文件: $TM_FILENAME\"。","snippetSchema.json.description":"代码片段描述。","snippetSchema.json.default":"空代码片段","snippetSchema.json":"用户代码片段配置","snippetSchema.json.scope":'此代码段使用的语言名称列表，例如 "typescript,javascript"。'},"vs/workbench/contrib/snippets/browser/insertSnippet":{"snippet.suggestions.label":"插入片段","sep.userSnippet":"用户代码片段","sep.extSnippet":"扩展代码片段","sep.workspaceSnippet":"工作区代码片段",disableSnippet:"从 IntelliSense 中隐藏",isDisabled:"(从 IntelliSense 中隐藏)","enable.snippet":"在 IntelliSense 中显示","pick.placeholder":"选择代码段"},"vs/workbench/contrib/snippets/browser/snippetsService":{"invalid.path.0":"“contributes.{0}.path”中应为字符串。提供的值: {1}","invalid.language.0":'省略语言时，"contributes.{0}.path" 的值必须为一个 ".code-snippets" 文件。提供的值: {1}',"invalid.language":'"contributes.{0}.language" 中包含未知语言。提供的值: {1}',"invalid.path.1":"“contributes.{0}.path”({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。","vscode.extension.contributes.snippets":"贡献代码段。","vscode.extension.contributes.snippets-language":"此代码片段参与的语言标识符。","vscode.extension.contributes.snippets-path":'代码片段文件的路径。该路径相对于扩展文件夹，通常以 "./snippets/" 开头。',badVariableUse:"扩展“{0}”中的一个或多个代码片段很可能混淆了片段变量和片段占位符 (有关详细信息，请访问 https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax )",badFile:"无法读取代码片段文件“{0}”。"},"vs/workbench/contrib/snippets/browser/configureSnippets":{"global.scope":"(全局)","global.1":"({0})",name:"键入代码段文件名",bad_name1:"无效的文件名",bad_name2:"“{0}”不是有效的文件名",bad_name3:"“{0}”已存在","new.global_scope":"全局","new.global":"新建全局代码片段文件...","new.workspace_scope":"{0} 工作区","new.folder":"新建“{0}”文件夹的代码片段文件...","group.global":"现有代码片段","new.global.sep":"新代码片段","openSnippet.pickLanguage":"选择代码片段文件或创建代码片段","openSnippet.label":"配置用户代码片段",preferences:"首选项",miOpenSnippets:"用户片段(&&S)",userSnippets:"用户代码片段"},"vs/workbench/contrib/snippets/browser/snippetsFile":{"source.workspaceSnippetGlobal":"工作区代码片段","source.userSnippetGlobal":"全局用户代码片段","source.userSnippet":"用户代码片段"},"vs/workbench/contrib/snippets/browser/snippetCompletionProvider":{"detail.snippet":"{0} ({1})","snippetSuggest.longLabel":"{0}, {1}"},"vs/workbench/contrib/surveys/browser/nps.contribution":{surveyQuestion:"是否介意参加快速反馈调查?",takeSurvey:"参加调查",remindLater:"以后提醒我",neverAgain:"不再显示"},"vs/workbench/contrib/surveys/browser/languageSurveys.contribution":{helpUs:"帮助我们改善对 {0} 的支持",takeShortSurvey:"参与小调查",remindLater:"以后提醒我",neverAgain:"不再显示"},"vs/workbench/contrib/tags/electron-browser/workspaceTagsService":{workspaceFound:"此文件夹包含工作区文件“{0}”，是否打开? [了解更多]({1})有关工作区文件的详细信息。",openWorkspace:"打开工作区",workspacesFound:"此文件夹包含多个工作区文件，是否打开? [了解更多]({0})有关工作区文件的详细信息。",selectWorkspace:"选择工作区",selectToOpen:"选择要打开的工作区"},"vs/workbench/contrib/tasks/electron-browser/taskService":{"TaskSystem.runningTask":"存在运行中的任务。要终止它吗?","TaskSystem.terminateTask":"终止任务(&&T)","TaskSystem.noProcess":"启动的任务不再存在。如果任务已生成出后台进程，则退出 VS Code 可能会导致出现孤立的进程。若要避免此情况，请使用等待标记启动最后一个后台进程。","TaskSystem.exitAnyways":"仍要退出(&&E)"},"vs/workbench/contrib/tasks/common/tasks":{tasksCategory:"任务","TaskDefinition.missingRequiredProperty":"错误: 任务标识符“{0}”缺失必要属性“{1}”。将忽略该标识符。"},"vs/workbench/contrib/tasks/common/taskConfiguration":{"ConfigurationParser.invalidCWD":"警告: options.cwd 的类型必须是字符串。将忽略值 {0}\r\n","ConfigurationParser.inValidArg":"错误: 命令参数必须是字符串或带引号的字符串。提供的值为:\r\n{0}","ConfigurationParser.noShell":"警告: 仅当在终端中执行任务时支持 shell 配置。","ConfigurationParser.noName":"错误: 声明范围中的问题匹配程序必须具有名称:\r\n{0}\r\n","ConfigurationParser.unknownMatcherKind":"警告: 定义的问题匹配程序未知。支持的类型为 string | ProblemMatcher | Array<string | ProblemMatcher>。\r\n{0}\r\n","ConfigurationParser.invalidVariableReference":"错误: problemMatcher 引用无效: {0}\r\n","ConfigurationParser.noTaskType":"错误: 任务配置必须具有类型属性。将忽略此配置。\r\n{0}\r\n","ConfigurationParser.noTypeDefinition":"错误: 没有注册任务类型“{0}”。你是不是忘记安装含有相应任务提供器的扩展?","ConfigurationParser.missingType":'错误: 任务配置“{0}”缺失必要属性 "type"。将忽略该配置。',"ConfigurationParser.incorrectType":"错误: 任务配置“{0}”使用了未知类型。将忽略该配置。","ConfigurationParser.notCustom":"错误: 任务未声明为自定义任务。将忽略该配置。\r\n{0}\r\n","ConfigurationParser.noTaskName":"错误: 任务必须提供标签属性。将忽略该任务。\r\n{0}\r\n","taskConfiguration.providerUnavailable":"警告: {0} 个任务在当前环境中不可用。\r\n","taskConfiguration.noCommandOrDependsOn":"错误: 任务“{0}”既未指定命令，也未指定 dependsOn 属性。将忽略该任务。其定义为:\r\n{1}","taskConfiguration.noCommand":"错误: 任务“{0}”未定义命令。将忽略该任务。其定义为:\r\n{1}","TaskParse.noOsSpecificGlobalTasks":"任务 version 2.0.0 不支持全局 OS 专属任务。请将其转换为具有特定于 OS 的命令的任务。受影响的任务包括:\r\n{0}"},"vs/workbench/contrib/tasks/node/processTaskSystem":{version1_0:"任务系统配置的版本为 0.1.0 (可参见 tasks.json 文件)，只能执行自定义任务。请升级到版本 2.0.0 以运行任务: {0}","TaskRunnerSystem.unknownError":"在执行任务时发生未知错误。请参见任务输出日志了解详细信息。","TaskRunnerSystem.watchingBuildTaskFinished":"\r\n已完成对生成任务的监视。","TaskRunnerSystem.childProcessError":"启动外部程序{0} {1}失败。","TaskRunnerSystem.cancelRequested":"\r\n已根据用户请求终止任务“{0}”。",unknownProblemMatcher:"无法解析问题匹配器 {0}。将忽略此匹配程序"},"vs/workbench/contrib/tasks/node/processRunnerDetector":{"TaskSystemDetector.noGulpTasks":"正在运行的 gulp --tasks-simple 没有列出任何任务。你运行 npm 安装了吗?","TaskSystemDetector.noJakeTasks":"正在运行的 jake --tasks 没有列出任何任务。你运行 npm 安装了吗?","TaskSystemDetector.noGulpProgram":"你的系统上没有安装 Gulp。运行 npm install -g gulp 以安装它。","TaskSystemDetector.noJakeProgram":"你的系统上没有安装 Jake。运行 npm install -g jake 以安装它。","TaskSystemDetector.noGruntProgram":"你的系统上没有安装 Grunt。运行 npm install -g grunt 以安装它。","TaskSystemDetector.noProgram":"找不到程序 {0}。消息是 {1}","TaskSystemDetector.buildTaskDetected":"检测到名为“{0}”的生成任务。","TaskSystemDetector.testTaskDetected":"测试检测到的名为“{0}”的测试任务。"},"vs/workbench/contrib/tasks/browser/abstractTaskService":{"ConfigureTaskRunnerAction.label":"配置任务",tasks:"任务","TaskSystem.noHotSwap":"在有活动任务运行时更换任务执行引擎需要重新加载窗口",reloadWindow:"重新加载窗口","TaskService.pickBuildTaskForLabel":"选择生成任务(未定义默认生成任务)",taskServiceOutputPrompt:"任务出现错误。请查看输出结果，了解更多详细信息",showOutput:"显示输出","TaskServer.folderIgnored":"由于使用任务版本 0.1.0，文件夹 {0} 将被忽略","TaskService.providerUnavailable":"警告: {0} 个任务在当前环境中不可用。\r\n","TaskService.noBuildTask1":'未定义任何生成任务。使用 "isBuildCommand" 在 tasks.json 文件中标记任务。',"TaskService.noBuildTask2":'未定义任何生成任务。在 tasks.json 文件中将任务标记为 "build" 组。',"TaskService.noTestTask1":'未定义任何测试任务。使用 "isTestCommand" 在 tasks.json 文件中标记任务。',"TaskService.noTestTask2":'未定义任何测试任务。在 tasks.json 文件中将任务标记为 "test" 组。',"TaskServer.noTask":"未定义要执行的任务","TaskService.associate":"关联","TaskService.attachProblemMatcher.continueWithout":"继续而不扫描任务输出","TaskService.attachProblemMatcher.never":"从不扫描此任务的任务输出","TaskService.attachProblemMatcher.neverType":"从不扫描 {0} 个任务的任务输出","TaskService.attachProblemMatcher.learnMoreAbout":"了解有关扫描任务输出的详细信息",selectProblemMatcher:"选择针对何种错误和警告扫描任务输出",customizeParseErrors:"当前任务配置存在错误。请先更正错误，再自定义任务。",tasksJsonComment:"\t// 请参阅 https://go.microsoft.com/fwlink/?LinkId=733558 \r\n\t//查看有关 tasks.json 格式的文档",moreThanOneBuildTask:"tasks.json 中定义了很多生成任务。正在执行第一个任务。\r\n","TaskSystem.saveBeforeRun.prompt.title":"是否保存所有编辑器?","saveBeforeRun.save":"保存","saveBeforeRun.dontSave":"不保存",detail:"是否要在运行任务前保存所有编辑器?","TaskSystem.activeSame.noBackground":"任务“{0}”已处于活动状态。",terminateTask:"终止任务",restartTask:"重启任务","TaskSystem.active":"当前已有任务正在运行。请先终止它，然后再执行另一项任务。","TaskSystem.restartFailed":"未能终止并重启任务 {0}",unexpectedTaskType:"“{0}”任务的任务提供程序意外提供了“{1}”类型的任务。\r\n","TaskService.noConfiguration":"错误: {0} 任务检测未针对以下配置提供任务:\r\n{1}\r\n将忽略此任务。\r\n","TaskSystem.configurationErrors":"错误: 提供的任务配置具有验证错误，无法使用。请首先改正错误。","TaskSystem.invalidTaskJsonOther":"错误: {0} 中 tasks json 的内容存在语法错误。请先纠正它们，然后再执行任务。\r\n","TasksSystem.locationWorkspaceConfig":"工作区文件","TaskSystem.versionWorkspaceFile":".code 工作区中只允许 2.0.0 版本的任务。","TasksSystem.locationUserConfig":"用户设置","TaskSystem.versionSettings":"用户设置中只允许版本为 2.0.0 的任务。","taskService.ignoreingFolder":"忽略工作区文件夹 {0} 的任务配置。多文件夹工作区任务支持要求所有文件夹都使用任务版本 2.0.0\r\n","TaskSystem.invalidTaskJson":"错误: tasks.json 文件的内容存在语法错误。请先纠正它们，然后再执行任务。\r\n","TerminateAction.label":"终止任务","TaskSystem.unknownError":"运行任务时发生了错误。请参见任务日志了解详细信息。",configureTask:"配置任务",recentlyUsed:"最近使用的任务",configured:"配置的任务",detected:"检测到的任务","TaskService.ignoredFolder":"由于使用任务版本 0.1.0，以下工作区文件夹将被忽略: {0}","TaskService.notAgain":"不再显示","TaskService.pickRunTask":"选择要运行的任务","TaskService.noEntryToRunSlow":"$(plus) 配置任务","TaskService.noEntryToRun":"$(plus) 配置任务","TaskService.fetchingBuildTasks":"正在获取生成任务...","TaskService.pickBuildTask":"选择要运行的生成任务","TaskService.noBuildTask":"没有找到要运行的生成任务。配置生成任务...","TaskService.fetchingTestTasks":"正在获取测试任务...","TaskService.pickTestTask":"选择要运行的测试任务","TaskService.noTestTaskTerminal":"没有找到要运行的测试任务。配置任务...","TaskService.taskToTerminate":"选择要终止的任务","TaskService.noTaskRunning":"当前没有运行中的任务","TaskService.terminateAllRunningTasks":"所有正在运行的任务","TerminateAction.noProcess":"启动的进程不再存在。如果任务生成的后台任务退出 VS Code，则可能会导致出现孤立的进程。","TerminateAction.failed":"未能终止运行中的任务","TaskService.taskToRestart":"选择要重启的任务","TaskService.noTaskToRestart":"没有要重启的任务","TaskService.template":"选择任务模板","taskQuickPick.userSettings":"用户设置","TaskService.createJsonFile":"使用模板创建 tasks.json 文件","TaskService.openJsonFile":"打开 tasks.json 文件","TaskService.pickTask":"选择要配置的任务","TaskService.defaultBuildTaskExists":"{0} 已被标记为默认生成任务","TaskService.pickDefaultBuildTask":"选择要用作默认生成任务的任务","TaskService.defaultTestTaskExists":"{0} 已被标记为默认测试任务。","TaskService.pickDefaultTestTask":"选择要用作默认测试任务的任务","TaskService.pickShowTask":"选择要显示输出的任务","TaskService.noTaskIsRunning":"没有运行中的任务"},"vs/workbench/contrib/tasks/browser/terminalTaskSystem":{"TerminalTaskSystem.unknownError":"在执行任务时发生未知错误。请参见任务输出日志了解详细信息。",dependencyCycle:"存在依赖项循环。请参阅任务“{0}”。",dependencyFailed:"无法解析在工作区文件夹“{1}”中的依赖任务“{0}”","TerminalTaskSystem.nonWatchingMatcher":"任务 {0} 是后台任务，但使用的问题匹配器没有后台模式","TerminalTaskSystem.terminalName":"任务 - {0}",closeTerminal:"按任意键关闭终端。",reuseTerminal:"终端将被任务重用，按任意键关闭。",TerminalTaskSystem:"无法使用 cmd.exe 在 UNC 驱动器上执行 Shell 命令。",unknownProblemMatcher:"无法解析问题匹配器 {0}。将忽略此匹配程序"},"vs/workbench/contrib/tasks/browser/task.contribution":{building:"正在生成...",numberOfRunningTasks:"{0} 个正在运行的任务",runningTasks:"显示运行中的任务","status.runningTasks":"运行任务",miRunTask:"运行任务(&&R)…",miBuildTask:"运行生成任务(&&B)…",miRunningTask:"显示正在运行的任务(&&G)…",miRestartTask:"重启正在运行的任务(&&E)…",miTerminateTask:"终止任务(&&T)…",miConfigureTask:"配置任务(&&C)…",miConfigureBuildTask:"配置默认生成任务(&&F)…","workbench.action.tasks.openWorkspaceFileTasks":"打开工作区任务","ShowLogAction.label":"显示任务日志","RunTaskAction.label":"运行任务","ReRunTaskAction.label":"重新运行上一个任务","RestartTaskAction.label":"重启正在运行的任务","ShowTasksAction.label":"显示运行中的任务","TerminateAction.label":"终止任务","BuildAction.label":"运行生成任务","TestAction.label":"运行测试任务","ConfigureDefaultBuildTask.label":"配置默认生成任务","ConfigureDefaultTestTask.label":"配置默认测试任务","workbench.action.tasks.openUserTasks":"打开用户任务",tasksQuickAccessPlaceholder:"键入要运行的任务的名称。",tasksQuickAccessHelp:"运行任务",tasksConfigurationTitle:"任务","task.problemMatchers.neverPrompt":'配置在运行任务时是否显示问题匹配器提示。设置为"true"从不提示，或使用任务类型的字典仅关闭特定任务类型的提示。',"task.problemMatchers.neverPrompt.boolean":"为所有任务设置问题匹配器提示行为。","task.problemMatchers.neverPrompt.array":"包含任务类型布尔对的对象，从不提示有问题的匹配者。","task.autoDetect":'控制为所有任务提供程序扩展启用"提供任务"。如果"任务: 运行任务"命令速度较慢，则禁用任务提供程序的自动检测可能会提供帮助。单个扩展还可以提供禁用自动检测的设置。',"task.slowProviderWarning":"配置当提供程序速度较慢时是否显示警告","task.slowProviderWarning.boolean":"为所有任务设置慢速提供程序警告。","task.slowProviderWarning.array":"从不显示慢速提供程序警告的任务类型的数组。","task.quickOpen.history":"控制任务快速打开对话框中跟踪的最近项目数。","task.quickOpen.detail":"控制是否显示在“运行任务”等任务快速选取中具有详细信息的任务的详细信息。","task.quickOpen.skip":"控制当只有一个任务要选取时是否跳过任务快速选取。","task.quickOpen.showAll":"使 Tasks: Run Task 命令使用速度较慢的“全部显示”行为，而不是使用任务按提供程序进行分组的速度更快的双层选取器。","task.saveBeforeRun":"在运行任务前保存所有未保存的编辑器。","task.saveBeforeRun.always":"运行前始终保存所有编辑器。","task.saveBeforeRun.never":"运行前绝不保存编辑器。","task.SaveBeforeRun.prompt":"提示在运行前是否保存编辑器。"},"vs/workbench/contrib/tasks/common/taskDefinitionRegistry":{"TaskDefinition.description":'实际任务类型。请注意，以 "$" 开头的类型仅保留内部使用。',"TaskDefinition.properties":"任务类型的其他属性","TaskDefinition.when":"必须为 true 才能启用此类型任务的条件。请考虑使用适合此任务定义的 `shellExecutionSupported`、`processExecutionSupported` 和 `customExecutionSupported`。","TaskTypeConfiguration.noType":'任务类型配置缺少必需的 "taskType" 属性',TaskDefinitionExtPoint:"配置任务种类"},"vs/workbench/contrib/tasks/common/problemMatcher":{"ProblemPatternParser.problemPattern.missingRegExp":"问题模式缺少正则表达式。","ProblemPatternParser.loopProperty.notLast":"循环属性仅在最一个行匹配程序上受支持。","ProblemPatternParser.problemPattern.kindProperty.notFirst":'问题模式无效。"kind" 属性必须提供，且仅能为第一个元素',"ProblemPatternParser.problemPattern.missingProperty":"问题模式无效。必须至少包含一个文件和一条消息。","ProblemPatternParser.problemPattern.missingLocation":"问题模式无效。它必须为“file”，代码行或消息匹配组其中的一项。","ProblemPatternParser.invalidRegexp":"错误: 字符串 {0} 不是有效的正则表达式。\r\n","ProblemPatternSchema.regexp":"用于在输出中查找错误、警告或信息的正则表达式。","ProblemPatternSchema.kind":"模式匹配的是一个位置 (文件、一行) 还是仅为一个文件。","ProblemPatternSchema.file":"文件名的匹配组索引。如果省略，则使用 1。","ProblemPatternSchema.location":"问题位置的匹配组索引。有效的位置模式为(line)、(line,column)和(startLine,startColumn,endLine,endColumn)。如果省略了，将假定(line,column)。","ProblemPatternSchema.line":"问题行的匹配组索引。默认值为 2","ProblemPatternSchema.column":"问题行字符的匹配组索引。默认值为 3","ProblemPatternSchema.endLine":"问题结束行的匹配组索引。默认为 undefined","ProblemPatternSchema.endColumn":"问题结束行字符的匹配组索引。默认为 undefined","ProblemPatternSchema.severity":"问题严重性的匹配组索引。默认为 undefined","ProblemPatternSchema.code":"问题代码的匹配组索引。默认为 undefined","ProblemPatternSchema.message":"消息的匹配组索引。如果省略，则在指定了位置时默认值为 4，在其他情况下默认值为 5。","ProblemPatternSchema.loop":"在多行中，匹配程序循环指示是否只要匹配就在循环中执行此模式。只能在多行模式的最后一个模式上指定。","NamedProblemPatternSchema.name":"问题模式的名称。","NamedMultiLineProblemPatternSchema.name":"问题多行问题模式的名称。","NamedMultiLineProblemPatternSchema.patterns":"实际模式。",ProblemPatternExtPoint:"提供问题模式","ProblemPatternRegistry.error":"无效问题模式。此模式将被忽略。","ProblemMatcherParser.noProblemMatcher":"错误: 说明无法转换为问题匹配程序:\r\n{0}\r\n","ProblemMatcherParser.noProblemPattern":"错误: 说明中未定义有效的问题模式:\r\n{0}\r\n","ProblemMatcherParser.noOwner":"错误: 说明中未定义所有者:\r\n{0}\r\n","ProblemMatcherParser.noFileLocation":"错误: 说明中未定义文件位置:\r\n{0}\r\n","ProblemMatcherParser.unknownSeverity":"信息: 未知的严重性 {0}。有效值为“错误”、“警告”和“信息”。\r\n","ProblemMatcherParser.noDefinedPatter":"错误: 标识符为 {0} 的模式不存在。","ProblemMatcherParser.noIdentifier":"错误: 模式属性引用空标识符。","ProblemMatcherParser.noValidIdentifier":"错误: 模式属性 {0} 是无效的模式变量名。","ProblemMatcherParser.problemPattern.watchingMatcher":"问题匹配程序必须定义监视的开始模式和结束模式。","ProblemMatcherParser.invalidRegexp":"错误: 字符串 {0} 不是有效的正则表达式。\r\n","WatchingPatternSchema.regexp":"用于检测后台任务开始或结束的正则表达式。","WatchingPatternSchema.file":"文件名的匹配组索引。可以省略。","PatternTypeSchema.name":"所提供或预定义模式的名称","PatternTypeSchema.description":"问题模式或者所提供或预定义问题模式的名称。如果已指定基准，则可以省略。","ProblemMatcherSchema.base":"要使用的基问题匹配程序的名称。","ProblemMatcherSchema.owner":"代码内问题的所有者。如果指定了基准，则可省略。如果省略，并且未指定基准，则默认值为“外部”。","ProblemMatcherSchema.source":'描述此诊断信息来源的人类可读字符串。如，"typescript" 或 "super lint"。',"ProblemMatcherSchema.severity":"捕获问题的默认严重性。如果模式未定义严重性的匹配组，则使用。","ProblemMatcherSchema.applyTo":"控制文本文档上报告的问题是否仅应用于打开、关闭或所有文档。","ProblemMatcherSchema.fileLocation":"定义应如何解释问题模式中报告的文件名。相对文件位置可能是一个数组，其中数组的第二个元素是相对文件位置的路径。","ProblemMatcherSchema.background":"用于跟踪在后台任务上激活的匹配程序的开始和结束的模式。","ProblemMatcherSchema.background.activeOnStart":"如果设置为 true，则任务启动时后台监视器处于活动模式。这相当于发出与 beginsPattern 匹配的行","ProblemMatcherSchema.background.beginsPattern":"如果在输出内匹配，则会发出后台任务开始的信号。","ProblemMatcherSchema.background.endsPattern":"如果在输出内匹配，则会发出后台任务结束的信号。","ProblemMatcherSchema.watching.deprecated":'"watching" 属性已被弃用，请改用 "background"。',"ProblemMatcherSchema.watching":"用于跟踪监视匹配程序开始和结束的模式。","ProblemMatcherSchema.watching.activeOnStart":"如果设置为 true，则当任务开始时观察程序处于活动模式。这相当于发出与 beginPattern 匹配的行。","ProblemMatcherSchema.watching.beginsPattern":"如果在输出内匹配，则在监视任务开始时会发出信号。","ProblemMatcherSchema.watching.endsPattern":"如果在输出内匹配，则在监视任务结束时会发出信号。","LegacyProblemMatcherSchema.watchedBegin.deprecated":"此属性已弃用。请改用观看属性。","LegacyProblemMatcherSchema.watchedBegin":"一个正则表达式，发出受监视任务开始执行(通过文件监视触发)的信号。","LegacyProblemMatcherSchema.watchedEnd.deprecated":"此属性已弃用。请改用观看属性。","LegacyProblemMatcherSchema.watchedEnd":"一个正则表达式，发出受监视任务结束执行的信号。","NamedProblemMatcherSchema.name":"要引用的问题匹配程序的名称。","NamedProblemMatcherSchema.label":"问题匹配程序的人类可读标签。",ProblemMatcherExtPoint:"提供问题匹配程序",msCompile:"微软编译器问题",lessCompile:"Less 问题","gulp-tsc":"Gulp TSC 问题",jshint:"JSHint 问题","jshint-stylish":"JSHint stylish 问题","eslint-compact":"ESLint compact 问题","eslint-stylish":"ESLint stylish 问题",go:"Go 问题"},"vs/workbench/contrib/tasks/common/taskTemplates":{dotnetCore:"执行 .NET Core 生成命令",msbuild:"执行生成目标",externalCommand:"运行任意外部命令的示例",Maven:"执行常见的 maven 命令"},"vs/workbench/contrib/tasks/browser/runAutomaticTasks":{"tasks.run.allowAutomatic":'此文件夹已在 "tasks.json" 中定义任务({0})；打开此文件夹时，这些任务将自动运行。是否自动任务在你打开此文件夹时运行?',allow:"允许并运行",disallow:"禁止",openTasks:"打开tasks.json","workbench.action.tasks.manageAutomaticRunning":"管理文件夹中的自动任务","workbench.action.tasks.allowAutomaticTasks":"允许文件夹中的自动任务","workbench.action.tasks.disallowAutomaticTasks":"禁止文件夹中的自动任务"},"vs/workbench/contrib/tasks/browser/taskQuickPick":{"taskQuickPick.showAll":"显示所有任务...",configureTaskIcon:"任务选择列表中的“配置”图标。",removeTaskIcon:"任务选择列表中的“删除”图标。",configureTask:"配置任务",contributedTasks:"已提供",taskType:"全部 {0} 个任务",removeRecent:"删除最近使用的任务",recentlyUsed:"最近使用过",configured:"已配置","TaskQuickPick.goBack":"返回","TaskQuickPick.noTasksForType":"未找到任务 {0}。返回↩",noProviderForTask:"没有为“{0}”类型的任务注册任务提供程序。"},"vs/workbench/contrib/tasks/common/jsonSchema_v1":{"JsonSchema.version.deprecated":"任务版本 0.1.0 已被弃用。请使用 2.0.0","JsonSchema.version":"配置的版本号","JsonSchema._runner":"此 runner 已完成使命。请使用官方 runner 属性","JsonSchema.runner":"定义任务是否作为进程执行，输出显示在输出窗口还是在终端内。","JsonSchema.windows":"Windows 特定的命令配置","JsonSchema.mac":"Mac 特定的命令配置","JsonSchema.linux":"Linux 特定的命令配置","JsonSchema.shell":"指定命令是 shell 命令还是外部程序。如果省略，则默认为 false。"},"vs/workbench/contrib/tasks/common/jsonSchema_v2":{"JsonSchema.shell":"指定命令是 shell 命令还是外部程序。如果省略，则默认为 false。","JsonSchema.tasks.isShellCommand.deprecated":"isShellCommand 属性已被弃用。请改为使用任务的 type 属性和选项中的 shell 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.dependsOn.identifier":"任务标识符。","JsonSchema.tasks.dependsOn.string":"此任务依赖的另一任务。","JsonSchema.tasks.dependsOn.array":"此任务依赖的其他任务。","JsonSchema.tasks.dependsOn":"表示另一个任务的字符串或此任务所依赖的其他任务的数组。","JsonSchema.tasks.dependsOrder.parallel":"并行运行所有 dependsOn 任务。","JsonSchema.tasks.dependsOrder.sequence":"按顺序运行所有 dependsOn 任务。","JsonSchema.tasks.dependsOrder":"确定此任务的依赖任务的顺序。请注意，此属性不是递归的。","JsonSchema.tasks.detail":"任务的可选说明，在“运行任务”快速选取中作为详细信息显示。","JsonSchema.tasks.presentation":"配置用于显示任务输出并读取其输入的面板。","JsonSchema.tasks.presentation.echo":"控制是否将执行的命令显示到面板中。默认值为“true”。","JsonSchema.tasks.presentation.focus":"控制面板是否获取焦点。默认值为“false”。如果设置为“true”，面板也会显示。","JsonSchema.tasks.presentation.revealProblems.always":"执行此任务时, 始终显示问题面板。","JsonSchema.tasks.presentation.revealProblems.onProblem":"只有在发现问题时, 才会显示问题面板。","JsonSchema.tasks.presentation.revealProblems.never":"执行此任务时, 永远不会显示问题面板。","JsonSchema.tasks.presentation.revealProblems":'控制在运行此任务时是否显示问题面板。优先于 "显示" 选项。默认值为 "从不"。',"JsonSchema.tasks.presentation.reveal.always":"总是在此任务执行时显示终端。","JsonSchema.tasks.presentation.reveal.silent":"只有当任务因错误而退出或者问题匹配器发现错误时，才会显示终端。","JsonSchema.tasks.presentation.reveal.never":"不要在此任务执行时显示终端。","JsonSchema.tasks.presentation.reveal":'控制运行任务的终端是否显示。可按选项 "revealProblems" 进行替代。默认设置为“始终”。',"JsonSchema.tasks.presentation.instance":"控制是否在任务间共享面板。同一个任务使用相同面板还是每次运行时新创建一个面板。","JsonSchema.tasks.presentation.showReuseMessage":"控制是否显示“终端将被任务重用，按任意键关闭”提示。","JsonSchema.tasks.presentation.clear":"控制是否在执行任务之前清除终端。","JsonSchema.tasks.presentation.group":"控制是否使用拆分窗格在特定终端组中执行任务。","JsonSchema.tasks.terminal":"terminal 属性已被弃用。请改为使用 presentation","JsonSchema.tasks.group.kind":"任务的执行组。","JsonSchema.tasks.group.isDefault":"定义此任务是否为组中的默认任务。","JsonSchema.tasks.group.defaultBuild":"将此任务标记为默认生成任务。","JsonSchema.tasks.group.defaultTest":"将此任务标记为默认测试任务。","JsonSchema.tasks.group.build":'将任务标记为可通过 "运行生成任务" 命令访问的生成任务。',"JsonSchema.tasks.group.test":'将任务标记为可通过 "Run Test Task" 命令访问的测试任务。',"JsonSchema.tasks.group.none":"将任务分配为没有组","JsonSchema.tasks.group":'定义此任务属于的执行组。它支持 "build" 以将其添加到生成组，也支持 "test" 以将其添加到测试组。',"JsonSchema.tasks.type":"定义任务是被作为进程运行还是在 shell 中作为命令运行。","JsonSchema.commandArray":"执行的 Shell 命令。数组项将使用空格连接","JsonSchema.command.quotedString.value":"实际命令值","JsonSchema.tasks.quoting.escape":"使用 Shell 的转义字符来转义文本 (如，PowerShell 下的 ` 和 bash 下的 \\ )","JsonSchema.tasks.quoting.strong":"使用 Shell 的强引用字符来引用参数 (例如在 PowerShell 和 bash 下的 ')。","JsonSchema.tasks.quoting.weak":'使用 Shell 的弱引用字符来引用参数 (例如在 PowerShell 和 bash 下的 ")。',"JsonSchema.command.quotesString.quote":"如何引用命令值。","JsonSchema.command":"要执行的命令。可以是外部程序或 shell 命令。","JsonSchema.args.quotedString.value":"实际参数值","JsonSchema.args.quotesString.quote":"参数值应该如何引用。","JsonSchema.tasks.args":"调用此任务时要传递给命令的参数。","JsonSchema.tasks.label":"任务的用户界面标签","JsonSchema.version":"配置的版本号。","JsonSchema.tasks.identifier":"用于在 launch.json 或 dependsOn 子句中引用任务的用户定义标识符。","JsonSchema.tasks.identifier.deprecated":"已弃用用户定义的标识符。对于自定义任务，请使用名称进行引用；对于由扩展提供的任务，请使用其中定义的任务标识符。","JsonSchema.tasks.reevaluateOnRerun":"是否在重新运行时重新评估任务变量。","JsonSchema.tasks.runOn":"对该任务何时运行进行配置。如果设置为 folderOpen，那么该任务将在文件夹打开时自动运行。","JsonSchema.tasks.instanceLimit":"允许同时运行的任务的实例数。","JsonSchema.tasks.runOptions":"任务的运行相关选项","JsonSchema.tasks.taskLabel":"任务标签","JsonSchema.tasks.taskName":"任务名称","JsonSchema.tasks.taskName.deprecated":"任务的 name 属性已被弃用。请改为使用 label 属性。","JsonSchema.tasks.background":"执行的任务是否保持活动状态并在后台运行。","JsonSchema.tasks.promptOnClose":"若 VS Code 关闭时有一个任务正在运行，是否提示用户。","JsonSchema.tasks.matchers":"要使用的问题匹配程序。可以是一个字符串或一个问题匹配程序定义，也可以是一个字符串数组和多个问题匹配程序。","JsonSchema.customizations.customizes.type":"要自定义的任务类型","JsonSchema.tasks.customize.deprecated":"customize 属性已被弃用。请参阅 1.14 发行说明了解如何迁移到新的任务自定义方法","JsonSchema.tasks.showOutput.deprecated":"showOutput 属性已被弃用。请改为使用 presentation 属性内的 reveal 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.echoCommand.deprecated":"isBuildCommand 属性已被弃用。请改为使用 presentation 属性内的 echo 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.suppressTaskName.deprecated":"suppressTaskName 属性已被弃用。请改为在任务中内嵌命令及其参数。另请参阅 1.14 发行说明。","JsonSchema.tasks.isBuildCommand.deprecated":"isBuildCommand 属性已被弃用。请改为使用 group 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.isTestCommand.deprecated":"isTestCommand 属性已被弃用。请改为使用 group 属性。另请参阅 1.14 发行说明。","JsonSchema.tasks.taskSelector.deprecated":"taskSelector 属性已被弃用。请改为在任务中内嵌命令及其参数。另请参阅 1.14 发行说明。","JsonSchema.windows":"Windows 特定的命令配置","JsonSchema.mac":"Mac 特定的命令配置","JsonSchema.linux":"Linux 特定的命令配置"},"vs/workbench/contrib/tasks/browser/tasksQuickAccess":{noTaskResults:"没有匹配的任务","TaskService.pickRunTask":"选择要运行的任务"},"vs/workbench/contrib/tasks/common/jsonSchemaCommon":{"JsonSchema.options":"其他命令选项","JsonSchema.options.cwd":"已执行程序或脚本的当前工作目录。如果省略，则使用代码的当前工作区根。","JsonSchema.options.env":"已执行程序或 shell 的环境。如果省略，则使用父进程的环境。","JsonSchema.tasks.matcherError":"无法识别的问题匹配程序。是否已安装支持此问题匹配程序的扩展?","JsonSchema.shellConfiguration":"配置使用的 shell。","JsonSchema.shell.executable":"待使用的 shell。","JsonSchema.shell.args":"shell 参数。","JsonSchema.command":"要执行的命令。可以是外部程序或 shell 命令。","JsonSchema.tasks.args":"调用此任务时要传递给命令的参数。","JsonSchema.tasks.taskName":"任务名称","JsonSchema.tasks.windows":"Windows 特定的命令配置","JsonSchema.tasks.matchers":"要使用的问题匹配程序。可以是一个字符串或一个问题匹配程序定义，也可以是一个字符串数组和多个问题匹配程序。","JsonSchema.tasks.mac":"Mac 特定的命令配置","JsonSchema.tasks.linux":"Linux 特定的命令配置","JsonSchema.tasks.suppressTaskName":"控制是否将任务名作为参数添加到命令。如果省略，则使用全局定义的值。","JsonSchema.tasks.showOutput":"控制是否显示正在运行的任务的输出。如果省略，则使用全局定义的值。","JsonSchema.echoCommand":"控制是否将已执行的命令回显到输出。默认值为 false。","JsonSchema.tasks.watching.deprecation":"已弃用。改用 isBackground。","JsonSchema.tasks.watching":"已执行的任务是否保持活动状态，并且是否在监视文件系统。","JsonSchema.tasks.background":"执行的任务是否保持活动状态并在后台运行。","JsonSchema.tasks.promptOnClose":"若 VS Code 关闭时有一个任务正在运行，是否提示用户。","JsonSchema.tasks.build":"将此任务映射到代码的默认生成命令。","JsonSchema.tasks.test":"将此任务映射到代码的默认测试命令。","JsonSchema.args":"传递到命令的其他参数。","JsonSchema.showOutput":"控制是否显示运行任务的输出。如果省略，则使用“始终”。","JsonSchema.watching.deprecation":"已弃用。改用 isBackground。","JsonSchema.watching":"已执行的任务是否保持活动状态，并且是否在监视文件系统。","JsonSchema.background":"已执行的任务是否保持活动状态并在后台运行。","JsonSchema.promptOnClose":"在具有正在运行的后台任务的情况下关闭 VS 代码时是否提示用户。","JsonSchema.suppressTaskName":"控制是否将任务名作为参数添加到命令。默认值是 false。","JsonSchema.taskSelector":"指示参数是任务的前缀。","JsonSchema.matchers":"要使用的问题匹配程序。可以是字符串或问题匹配程序定义，或字符串和问题匹配程序数组。","JsonSchema.tasks":"任务配置。通常是外部任务运行程序中已定义任务的扩充。"},"vs/workbench/contrib/terminal/common/terminalConfiguration":{terminalIntegratedConfigurationTitle:"集成终端","terminal.integrated.sendKeybindingsToShell":'将大部分键绑定调度到终端而不是工作台，重写 "#terminal.integrated.commandsToSkipShell#"，这可选择性地用于进行微调。',"terminal.integrated.automationShell.linux":"一个路径，设置后将替代 {0}，并忽略与自动化相关的终端使用情况(例如任务和调试)的 {1} 个值。","terminal.integrated.automationShell.osx":"一个路径，设置后将替代 {0}，并忽略与自动化相关的终端使用情况(例如任务和调试)的 {1} 个值。","terminal.integrated.automationShell.windows":"一个路径，设置后将替代 {0}，并忽略与自动化相关的终端使用情况(例如任务和调试)的 {1} 值。","terminal.integrated.shellArgs.linux":"在 Linux 终端上时要使用的命令行参数。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shellArgs.osx":"在 macOS 终端上时要使用的命令行参数。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shellArgs.windows":"在 Windows 终端上时要使用的命令行参数。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shellArgs.windows.string":"在 Windows 终端上时要使用的命令行参数(采用[命令行格式](https://msdn.microsoft.com/en-au/08dfcab2-eb6e-49a4-80eb-87d4076c98c6) )。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.macOptionIsMeta":"控制是否将选项键视为 macOS 中的终端上的元键。","terminal.integrated.macOptionClickForcesSelection":"控制在 macOS 上使用 Option+单击时是否强制选择内容。这将强制进行常规(行)选择并禁止使用列选择模式。这样，可使用常规终端选择进行复制粘贴，例如在 tmux 中启用鼠标模式时。","terminal.integrated.copyOnSelection":"控制是否将在终端中选定的文本复制到剪贴板。","terminal.integrated.drawBoldTextInBrightColors":'控制终端中的加粗文本是否始终使用 "bright" ANSI 颜色变量。',"terminal.integrated.fontFamily":'控制终端的字体系列，它默认为 "#editor.fontFamily#" 的值。',"terminal.integrated.fontSize":"控制终端的字号(以像素为单位)。","terminal.integrated.letterSpacing":"控制终端的字母间距，这是一个整数值，表示要在字符之间增加的额外像素量。","terminal.integrated.lineHeight":"控制终端的行高，此数字乘以终端字号等于实际行高(以像素为单位)。","terminal.integrated.minimumContrastRatio":"设置每个单元格的前景色时，将改为尝试符合指定的对比度比率。示例值:\r\n\r\n- 1: 默认值，不执行任何操作。\r\n- 4.5: [符合 WCAG AA 标准(最低)](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html)。\r\n- 7: [符合 WCAG AAA 标准(增强)](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast7.html).\r\n- 21: 黑底白字或白底黑字。","terminal.integrated.fastScrollSensitivity":'按 "Alt" 时的滚动速度加倍。',"terminal.integrated.mouseWheelScrollSensitivity":'要在鼠标滚轮滚动事件的 "deltaY" 上使用的乘数。',"terminal.integrated.fontWeightError":"仅允许使用关键字“正常”和“加粗”，或使用介于 1 至 1000 之间的数字。","terminal.integrated.fontWeight":"要在终端中用于非粗体文本的字体粗细。接受“正常”和“加粗”这两个关键字，或接受 1-1000 之间的数字。","terminal.integrated.fontWeightBold":"要在终端中用于粗体文本的字体粗细。接受“正常”和“加粗”这两个关键字，或接受 1-1000 之间的数字。","terminal.integrated.cursorBlinking":"控制终端光标是否闪烁。","terminal.integrated.cursorStyle":"控制终端光标的样式。","terminal.integrated.cursorWidth":'控制在 "#terminal.integrated.cursorStyle#" 设置为 "line" 时光标的宽度。',"terminal.integrated.scrollback":"控制终端在其缓冲区中保留的最大行数。","terminal.integrated.detectLocale":'控制是否检测 "$LANG" 环境变量并将其设置为符合 UTF-8 的选项，因为 VS Code 的终端仅支持来自 shell 的 UTF-8 编码数据。',"terminal.integrated.detectLocale.auto":'如果现有变量不存在或不以 "\'.UTF-8\'" 结尾，则设置 "$LANG" 环境变量。',"terminal.integrated.detectLocale.off":'请勿设置 "$LANG" 环境变量。',"terminal.integrated.detectLocale.on":'始终设置 "$LANG" 环境变量。',"terminal.integrated.rendererType.auto":"让 VS Code 猜测要使用的呈现器。","terminal.integrated.rendererType.canvas":"使用标准 GPU/基于画布的呈现器。","terminal.integrated.rendererType.dom":"使用基于回退 DOM 的呈现器。","terminal.integrated.rendererType.experimentalWebgl":"使用实验性的基于 webgl 的呈现器。请注意，存在一些[已知问题](https://github.com/xtermjs/xterm.js/issues?q=is%3Aopen+is%3Aissue+label%3Aarea%2Faddon%2Fwebgl)。","terminal.integrated.rendererType":"控制如何呈现终端。","terminal.integrated.rightClickBehavior.default":"显示上下文菜单。","terminal.integrated.rightClickBehavior.copyPaste":"当有选定内容时复制，否则粘贴。","terminal.integrated.rightClickBehavior.paste":"右键单击时粘贴。","terminal.integrated.rightClickBehavior.selectWord":"选择光标下方的字词并显示上下文菜单。","terminal.integrated.rightClickBehavior":"控制终端如何回应右键单击操作。","terminal.integrated.cwd":"将在其中启动终端的显式起始路径，它用作 shell 进程的当前工作目录(cwd)。如果根目录不是方便的 cwd，此路径在工作区设置中可能十分有用。","terminal.integrated.confirmOnExit":"控制在存在活动终端会话的情况下是否要在退出时进行确认。","terminal.integrated.enableBell":"控制是否启用终端铃声。","terminal.integrated.commandsToSkipShell":"一组命令 ID，其键绑定将不发送至 shell，而是始终由 VS Code 进行处理。这样的话，通常由 shell 使用的键绑定的行为可如同焦点未在终端上时的行为一样，例如按 “Ctrl+P” 来启动“快速打开”。\r\n\r\n&nbsp;\r\n\r\n默认跳过多项命令。要替代默认值并转而将相关命令的键绑定传递给 shell，请添加以 “-” 字符为前缀的命令。例如，添加 “-workbench.action.quickOpen” 可使 “Ctrl+P”到达 shell。\r\n\r\n&nbsp;\r\n\r\n在设置编辑器中查看时，下面的默认跳过命令列表会被截断。要查看完整列表，请[打开默认设置 JSON](command:workbench.action.openRawDefaultSettings“打开默认设置(JSON)”)，然后从下面的列表中搜索第一个命令。\r\n\r\n&nbsp;\r\n\r\n默认跳过的命令:\r\n\r\n{0}","terminal.integrated.allowChords":"是否允许在终端中同时按下键绑定。请注意，如果设置为 true 且击键导致同时按键，则将绕过 `#terminal.integrated.commandsToSkipShell#`；如果想要按 Ctrl+K 转到 shell (而不是 VS Code)，则将此项设置为 false 尤其有用。","terminal.integrated.allowMnemonics":"是否允许使用菜单栏助记符(如 Alt+F)来触发“打开菜单栏”。请注意，这将导致在设为 true 时，所有 Alt 按键都将跳过 shell。此设置在 macOS 不起作用。","terminal.integrated.inheritEnv":"新的 shell 是否应从 VS Code 继承其环境。Windows 上不支持此设置。","terminal.integrated.env.osx":'具有环境变量的对象，这些变量将添加到 macOS 中的终端要使用的 VS Code 进程。如果设置为 "null"，则删除环境变量。',"terminal.integrated.env.linux":'具有环境变量的对象，这些变量将添加到 Linux 上的终端要使用的 VS Code 进程。如果设置为 "null"，则删除环境变量。',"terminal.integrated.env.windows":'具有环境变量的对象，这些变量将添加到将由 Windows 上的终端使用的 VS Code 进程。设置为 "null" 以删除环境变量。',"terminal.integrated.environmentChangesIndicator":"是否在每个终端上显示环境更改指示器，该指示器解释了使是否已进行扩展或想要对终端环境进行更改。","terminal.integrated.environmentChangesIndicator.off":"禁用指示器。","terminal.integrated.environmentChangesIndicator.on":"启用指示器。","terminal.integrated.environmentChangesIndicator.warnonly":"仅当终端环境为“已过时”时，仅显示警告指示器，而不是显示指出终端环境已由扩展修改的信息指示器。","terminal.integrated.showExitAlert":"控制在退出代码为非零时是否显示“终端进程已终止且显示退出代码”警报。","terminal.integrated.splitCwd":"控制拆分终端开始时使用的工作目录。","terminal.integrated.splitCwd.workspaceRoot":"新的拆分终端将使用工作区根作为工作目录。在多根工作区中，提供了要使用根文件夹的选项。","terminal.integrated.splitCwd.initial":"新的拆分终端将使用父终端开始时使用的工作目录。","terminal.integrated.splitCwd.inherited":"在 macOS 和 Linux 上，新的拆分终端将使用父终端的工作目录。在 Windows 上，这与初始行为相同。","terminal.integrated.windowsEnableConpty":"是否使用 ConPTY 进行 Windows 终端进程通信(需要 Windows 10 内部版本号 18309+)。如果此设置为 false，将使用 Winpty。","terminal.integrated.wordSeparators":"一个字符串，其中包含双击选择 Word 功能而被视为单词分隔符的所有字符。","terminal.integrated.experimentalUseTitleEvent":"一项实验性设置，它将对下拉标题使用终端标题事件。此设置仅应用于新终端。","terminal.integrated.enableFileLinks":"是否在终端中启用文件链接。尤其是在处理网络驱动器时，链接会变慢，因为每个文件链接都会根据文件系统进行验证。更改此项将仅在新的终端中生效。","terminal.integrated.unicodeVersion.six":"unicode 的版本 6，该版本较旧，在较旧的系统中效果更好。","terminal.integrated.unicodeVersion.eleven":"unicode 的版本 11，版本可在使用新式版本 unicode 的新式系统上提供更好的支持。","terminal.integrated.unicodeVersion":"控制在计算终端中字符的宽度时要使用的 unicode 版本。如果你遇到表情符号或其他宽字符，而这些宽字符占用的空格或退格量不正确或删除的空间太多或太少，则你可能需要尝试调整此设置。","terminal.integrated.experimentalLinkProvider":"一项实验性设置，旨在通过改进检测链接的时间以及使用编辑器启用共享链接检测，来改进终端中的链接检测。此设置当前只支持 Web 链接。","terminal.integrated.localEchoLatencyThreshold":'试验性: 网络延迟的长度(以毫秒为单位)，本地编辑内容会在终端上回显,而不等待服务器确认。如果为 "0"，则本地回显将始终处于打开状态，如果为 "-1" 将被禁用。',"terminal.integrated.localEchoExcludePrograms":"实验: 在终端标题中找到这些程序名称中的任意一个时，将禁用本地回显。","terminal.integrated.localEchoStyle":"试验性: 本地回显文本的终端样式，可以是字体样式或 RGB 颜色。","terminal.integrated.serverSpawn":"实验: 从远程代理进程(而不是远程扩展主机)生成远程终端","terminal.integrated.enablePersistentSessions":"实验: 跨窗口重新加载工作区的持久性终端会话。当前仅在 VS Code 远程工作区中受支持。","terminal.integrated.shell.linux":"终端在 Linux 上使用的 shell 的路径(默认: {0})。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shell.linux.noDefault":"终端在 Linux 上使用的 shell 的路径。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shell.osx":"终端在 macOS 上使用的 shell 的路径(默认: {0})。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shell.osx.noDefault":"终端在 macOS 上使用的 shell 的路径。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shell.windows":"终端在 Windows 上使用的 shell 的路径(默认: {0})。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。","terminal.integrated.shell.windows.noDefault":"终端在 Windows 上使用的 shell 的路径。[详细了解如何配置 shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)。"},"vs/workbench/contrib/terminal/common/terminal":{terminalCategory:"终端","vscode.extension.contributes.terminal":"参与终端功能。","vscode.extension.contributes.terminal.types":"定义用户可创建的其他终端类型。","vscode.extension.contributes.terminal.types.command":"在用户创建此类型的终端时执行的命令。","vscode.extension.contributes.terminal.types.title":"此类型终端的标题。"},"vs/workbench/contrib/terminal/browser/terminal.contribution":{tasksQuickAccessPlaceholder:"键入要打开的终端的名称。",tasksQuickAccessHelp:"显示所有已打开的终端",terminal:"终端"},"vs/workbench/contrib/terminal/browser/terminalView":{"terminal.useMonospace":'使用 "monospace"',"terminal.monospaceOnly":"终端仅支持等宽字体。如果这是新安装的字体，请确保重新启动 VS Code。"},"vs/workbench/contrib/terminal/browser/remoteTerminalService":{"terminal.integrated.starting":"正在启动..."},"vs/workbench/contrib/terminal/node/terminalProcess":{"launchFail.cwdNotDirectory":"启动目录(cwd)“{0}”不是一个目录","launchFail.cwdDoesNotExist":"启动目录(cwd)“{0}”不存在","launchFail.executableIsNotFileOrSymlink":"shell 可执行文件的路径“{0}”不是符号链接的文件","launchFail.executableDoesNotExist":"shell 可执行文件“{0}”的路径不存在"},"vs/workbench/contrib/terminal/electron-browser/terminalRemote":{"workbench.action.terminal.newLocal":"新建集成终端(本地)"},"vs/workbench/contrib/terminal/common/terminalColorRegistry":{"terminal.background":"终端的背景颜色，允许终端的颜色与面板不同。","terminal.foreground":"终端的前景颜色。","terminalCursor.foreground":"终端光标的前景色。","terminalCursor.background":"终端光标的背景色。允许自定义被 block 光标遮住的字符的颜色。","terminal.selectionBackground":"终端选中内容的背景颜色。","terminal.border":"分隔终端中拆分窗格的边框的颜色。默认值为 panel.border 的颜色","terminal.ansiColor":"终端中的 ANSI 颜色“{0}”。"},"vs/workbench/contrib/terminal/browser/terminalActions":{"workbench.action.terminal.newWorkspacePlaceholder":"选择当前工作目录新建终端","workbench.action.terminal.toggleTerminal":"切换集成终端","workbench.action.terminal.kill":"终止活动终端实例","workbench.action.terminal.kill.short":"终止终端","workbench.action.terminal.copySelection":"复制所选内容","workbench.action.terminal.copySelection.short":"复制","workbench.action.terminal.selectAll":"选择全部","workbench.action.terminal.new":"新建集成终端","workbench.action.terminal.new.short":"新建终端","workbench.action.terminal.split":"拆分终端","workbench.action.terminal.split.short":"拆分","workbench.action.terminal.splitInActiveWorkspace":"拆分终端 (活动工作区)","workbench.action.terminal.paste":"粘贴到活动终端中","workbench.action.terminal.paste.short":"粘贴","workbench.action.terminal.selectDefaultShell":"选择默认 Shell","workbench.action.terminal.openSettings":"配置终端设置","workbench.action.terminal.switchTerminal":"切换终端",terminals:"打开终端。",terminalConnectingLabel:"正在启动...","workbench.action.terminal.clear":"清除",terminalLaunchHelp:"打开帮助","workbench.action.terminal.newInActiveWorkspace":"新建集成终端 (活动工作区)","workbench.action.terminal.focusPreviousPane":"聚焦到上一窗格","workbench.action.terminal.focusNextPane":"聚焦到下一窗格","workbench.action.terminal.resizePaneLeft":"向左调整窗格大小","workbench.action.terminal.resizePaneRight":"向右调整窗格大小","workbench.action.terminal.resizePaneUp":"向上调整窗格大小","workbench.action.terminal.resizePaneDown":"向下调整窗格大小","workbench.action.terminal.focus":"聚焦到终端","workbench.action.terminal.focusNext":"聚焦到下一终端","workbench.action.terminal.focusPrevious":"聚焦到上一终端","workbench.action.terminal.runSelectedText":"在活动终端运行所选文本","workbench.action.terminal.runActiveFile":"在活动终端中运行活动文件","workbench.action.terminal.runActiveFile.noFile":"只有磁盘上的文件可在终端上运行","workbench.action.terminal.scrollDown":"向下滚动(行)","workbench.action.terminal.scrollDownPage":"向下滚动(页)","workbench.action.terminal.scrollToBottom":"滚动到底部","workbench.action.terminal.scrollUp":"向上滚动(行)","workbench.action.terminal.scrollUpPage":"向上滚动(页)","workbench.action.terminal.scrollToTop":"滚动到顶部","workbench.action.terminal.navigationModeExit":"退出导航模式","workbench.action.terminal.navigationModeFocusPrevious":"聚焦上一行(导航模式)","workbench.action.terminal.navigationModeFocusNext":"聚焦下一行(导航模式)","workbench.action.terminal.clearSelection":"取消选择","workbench.action.terminal.manageWorkspaceShellPermissions":"管理工作区 Shell 权限","workbench.action.terminal.rename":"重命名","workbench.action.terminal.rename.prompt":"输入终端名称","workbench.action.terminal.focusFind":"聚焦查找","workbench.action.terminal.hideFind":"隐藏查找","workbench.action.terminal.attachToRemote":"附加到会话",quickAccessTerminal:"切换活动终端","workbench.action.terminal.scrollToPreviousCommand":"滚动到上一条命令","workbench.action.terminal.scrollToNextCommand":"滚动到下一条命令","workbench.action.terminal.selectToPreviousCommand":"选择上一条命令所有内容","workbench.action.terminal.selectToNextCommand":"选择下一条命令所有内容","workbench.action.terminal.selectToPreviousLine":"选择上一行的所有内容","workbench.action.terminal.selectToNextLine":"选择下一行的所有内容","workbench.action.terminal.toggleEscapeSequenceLogging":"切换是否记录转义序列日志","workbench.action.terminal.sendSequence":"发送自定义序列到终端","workbench.action.terminal.newWithCwd":"在自定义工作目录中创建新的集成终端","workbench.action.terminal.newWithCwd.cwd":"启动终端的目录","workbench.action.terminal.renameWithArg":"重命名当前活动终端","workbench.action.terminal.renameWithArg.name":"终端的新名称","workbench.action.terminal.renameWithArg.noName":"未提供名称参数","workbench.action.terminal.toggleFindRegex":"切换使用正则表达式进行查找","workbench.action.terminal.toggleFindWholeWord":"切换使用全字匹配进行查找","workbench.action.terminal.toggleFindCaseSensitive":"切换使用区分大小写进行查找","workbench.action.terminal.findNext":"查找下一个","workbench.action.terminal.findPrevious":"查找上一个","workbench.action.terminal.searchWorkspace":"搜索工作区","workbench.action.terminal.relaunch":"重新启动活动终端","workbench.action.terminal.showEnvironmentInformation":"显示环境信息"},"vs/workbench/contrib/terminal/common/terminalMenu":{miToggleIntegratedTerminal:"终端(&&T)",miNewTerminal:"新终端(&&N)",miSplitTerminal:"拆分终端(&&S)",miRunActiveFile:"运行活动文件(&&A)",miRunSelectedText:"运行所选文本(&&S)"},"vs/workbench/contrib/terminal/browser/terminalService":{"workbench.action.terminal.allowWorkspaceShell":"允许配置工作区 Shell","workbench.action.terminal.disallowWorkspaceShell":"禁止配置工作区 Shell","terminalService.terminalCloseConfirmationSingular":"存在一个活动的终端会话，是否要终止此会话?","terminalService.terminalCloseConfirmationPlural":"存在 {0} 个活动的终端会话，是否要终止这些会话?","terminal.integrated.chooseWindowsShell":"选择首选的终端 shell，你可稍后在设置中进行更改"},"vs/workbench/contrib/terminal/browser/terminalQuickAccess":{renameTerminal:"重命名终端",killTerminal:"终止终端实例","workbench.action.terminal.newplus":"新建集成终端"},"vs/workbench/contrib/terminal/browser/terminalIcons":{terminalViewIcon:"查看终端视图的图标。",renameTerminalIcon:"用于在终端快速菜单中进行重命名的图标。",killTerminalIcon:"用于终止终端实例的图标。",newTerminalIcon:"用于创建新的终端实例的图标。"},"vs/workbench/contrib/terminal/browser/terminalConfigHelper":{"terminal.integrated.allowWorkspaceShell":"是否允许此工作区修改您的终端？{0}",allow:"Allow",disallow:"Disallow","useWslExtension.title":"建议使用“{0}”扩展在 WSL 中打开终端。",install:"安装"},"vs/workbench/contrib/terminal/browser/terminalInstance":{"terminal.integrated.a11yPromptLabel":"终端输入","terminal.integrated.a11yTooMuchOutput":"输出太多，无法朗读。请手动转到行内进行阅读",terminalTextBoxAriaLabelNumberAndTitle:"终端 {0}，{1}",terminalTextBoxAriaLabel:"终端 {0}","configure terminal settings":"默认情况下，某些键绑定会被调度到工作台。",configureTerminalSettings:"配置终端设置",yes:"是",no:"否",dontShowAgain:"不再显示","terminal.slowRendering":"集成终端的标准渲染器似乎在您的计算机上运行得很慢。使用基于 DOM 的渲染器也许能提高性能，是否切换? [阅读有关终端设置的更多信息](https://code.visualstudio.com/docs/editor/integrated-terminal#_changing-how-the-terminal-is-rendered)。","terminal.integrated.copySelection.noSelection":"没有在终端中选择要复制的内容","launchFailed.exitCodeAndCommandLine":"终端进程“{0}”启动失败(退出代码: {1})。","launchFailed.exitCodeOnly":"终端进程启动失败(退出代码: {0})。","terminated.exitCodeAndCommandLine":"终端进程“{0}”已终止，退出代码: {1}。","terminated.exitCodeOnly":"终端进程已终止，退出代码: {0}。","launchFailed.errorMessage":"终端进程启动失败: {0}。",terminalStaleTextBoxAriaLabel:"终端 {0} 环境已过时，请运行“显示环境信息”命令以获取详细信息"},"vs/workbench/contrib/terminal/browser/links/terminalLinkManager":{"terminalLinkHandler.followLinkAlt.mac":"Option + 单击","terminalLinkHandler.followLinkAlt":"Alt + 单击","terminalLinkHandler.followLinkCmd":"Cmd + 单击","terminalLinkHandler.followLinkCtrl":"Ctrl + 单击",followLink:"跟随链接"},"vs/workbench/contrib/terminal/browser/links/terminalWordLinkProvider":{searchWorkspace:"搜索工作区"},"vs/workbench/contrib/terminal/browser/terminalProcessExtHostProxy":{"terminal.integrated.starting":"正在启动..."},"vs/workbench/contrib/terminal/browser/environmentVariableInfo":{extensionEnvironmentContributionChanges:"扩展要对终端环境进行以下更改:",extensionEnvironmentContributionRemoval:"扩展要从终端环境中删除以下现有更改:",relaunchTerminalLabel:"重新启动终端",extensionEnvironmentContributionInfo:"扩展已对此终端的环境进行更改"},"vs/workbench/contrib/terminal/browser/links/terminalLink":{openFile:"在编辑器中打开文件",focusFolder:"聚焦资源管理器中的文件夹",openFolder:"在新窗口中打开文件夹"},"vs/workbench/contrib/themes/browser/themes.contribution":{"selectTheme.label":"颜色主题","themes.category.light":"浅色主题","themes.category.dark":"深色主题","themes.category.hc":"高对比度主题",installColorThemes:"安装其他颜色主题...","themes.selectTheme":"选择颜色主题 (按上下箭头键预览)","selectIconTheme.label":"文件图标主题",noIconThemeLabel:"无",noIconThemeDesc:"禁用文件图标",installIconThemes:"安装其他文件图标主题...","themes.selectIconTheme":"选择文件图标主题","selectProductIconTheme.label":"产品图标主题",defaultProductIconThemeLabel:"默认值","themes.selectProductIconTheme":"选择产品图标主题","generateColorTheme.label":"使用当前设置生成颜色主题",preferences:"首选项",miSelectColorTheme:"颜色主题(&&C)",miSelectIconTheme:"文件图标主题(&&I)","themes.selectIconTheme.label":"文件图标主题"},"vs/workbench/contrib/timeline/browser/timeline.contribution":{timelineViewIcon:"查看时间线视图的图标。",timelineOpenIcon:"“打开时间线”操作的图标。",timelineConfigurationTitle:"时间线","timeline.excludeSources":"实验性: 应从时间线视图中排除的时间线源数组","timeline.pageSize":'默认情况下以及在加载更多项目时在时间线视图中显示的项目数。如果设置为 "null" (默认值)，则将根据时间线视图的可见区域自动选择一个页面大小',"timeline.pageOnScroll":"实验性。控制在滚动到列表结尾时，时间线视图是否将加载下一页的项目","files.openTimeline":"打开时间线"},"vs/workbench/contrib/timeline/browser/timelinePane":{"timeline.loadingMore":"正在加载…","timeline.loadMore":"加载更多",timeline:"时间线","timeline.editorCannotProvideTimeline":"活动编辑器无法提供时间线信息。","timeline.noTimelineInfo":"未提供时间表信息。","timeline.aria.item":"{0}: {1}","timeline.loading":"正在加载 {0} 的时间线 ...",timelineRefresh:"“刷新时间线”操作的图标。",timelinePin:"“固定时间线”操作的图标。",timelineUnpin:"“取消固定时间线”操作的图标。",refresh:"刷新","timeline.toggleFollowActiveEditorCommand.follow":"固定当前时间线","timeline.toggleFollowActiveEditorCommand.unfollow":"取消固定当前时间线","timeline.filterSource":"包括: {0}"},"vs/workbench/contrib/update/browser/update.contribution":{miReleaseNotes:"发行说明(&&R)"},"vs/workbench/contrib/update/browser/update":{releaseNotes:"发行说明","update.noReleaseNotesOnline":"此版本的 {0} 没有联机发行说明",showReleaseNotes:"显示发行说明","read the release notes":"欢迎使用 {0} v{1}! 是否要阅读发布说明?",licenseChanged:"我们对许可条款进行了修改，请点击[此处]({0})进行查看。",updateIsReady:"有新的 {0} 的更新可用。",checkingForUpdates:"正在检查更新...","update service":"更新服务",noUpdatesAvailable:"当前没有可用的更新。",ok:"确定",thereIsUpdateAvailable:"存在可用更新。","download update":"下载更新",later:"稍后",updateAvailable:"现有更新可用: {0} {1}",installUpdate:"安装更新",updateInstalling:"正在后台安装 {0} {1}，我们将在完成后通知您。 ",updateNow:"立即更新",updateAvailableAfterRestart:"重新启动 {0} 即可应用最新更新。",checkForUpdates:"检查更新...","download update_1":"下载更新(1) ",DownloadingUpdate:"正在下载更新...","installUpdate...":"安装更新... (1)",installingUpdate:"正在安装更新...","good luck":"'Restart to Update' is not working properly on macOS Big Sur. Click 'Quit to Update' to quit {0} and update it. Then, relaunch it from Finder.",quit:"Quit to Update","learn more":"Learn More",cancel:"Cancel",restartToUpdate:"重新启动以更新 (1)",relaunchMessage:"需要重载，然后对版本的更改才会生效",relaunchDetailInsiders:"按“重载”按钮切换到 VSCode 的夜晚预生产版本。",relaunchDetailStable:"按“重载”按钮切换到每月发布的 VSCode 稳定版本。",reload:"重载(&&R)",switchToInsiders:"切换到内部预览计划版本…",switchToStable:"切换到稳定版本…"},"vs/workbench/contrib/update/browser/releaseNotesEditor":{releaseNotesInputName:"发行说明: {0}",unassigned:"未分配"},"vs/workbench/contrib/url/browser/url.contribution":{openUrl:"打开 URL",urlToOpen:"要打开的 URL"},"vs/workbench/contrib/url/browser/trustedDomains":{"trustedDomain.manageTrustedDomain":"管理受信任的域","trustedDomain.trustDomain":"信任 {0}","trustedDomain.trustAllPorts":"信任所有端口上的 {0}","trustedDomain.trustSubDomain":"信任 {0} 及其所有子域","trustedDomain.trustAllDomains":"信任所有域(禁用链接保护)","trustedDomain.manageTrustedDomains":"管理受信任的域",configuringURL:"为 {0} 配置信任"},"vs/workbench/contrib/url/browser/trustedDomainsValidator":{openExternalLinkAt:"是否要 {0} 打开外部网站?",open:"打开",copy:"复制",cancel:"取消",configureTrustedDomains:"配置受信任的域"},"vs/workbench/contrib/userDataSync/electron-browser/userDataSync.contribution":{operationId:"操作 ID: {0}","too many requests":"当前设备正在进行的请求过多，因此已禁用设置同步。请提供同步日志以报告问题。","settings sync":"设置同步。操作 ID: {0}","show sync logs":"显示日志","report issue":"报告问题","Open Backup folder":"打开本地备份文件夹","no backups":"本地备份文件夹不存在"},"vs/workbench/contrib/userDataSync/browser/userDataSync.contribution":{operationId:"操作 ID: {0}","too many requests":"由于此设备发出的请求太多，因此已在该设备上关闭设置同步。"},"vs/workbench/contrib/userDataSync/browser/userDataSync":{"turn on sync with category":"{0}: 打开…","stop sync":"{0}: 关闭","configure sync":"{0}: 配置…",showConflicts:"{0}: 显示设置冲突",showKeybindingsConflicts:"{0}: 显示键绑定冲突",showSnippetsConflicts:"{0}: 显示用户代码片段冲突","sync now":"{0}: 立即同步",syncing:"正在同步","synced with time":"同步时间: {0}","sync settings":"{0}: 显示设置","show synced data":"{0}: 显示已同步的数据","conflicts detected":"由于 {0} 中的冲突，无法同步。请解决它们以继续。","accept remote":"接受远程","accept local":"接受本地","show conflicts":"显示冲突","accept failed":"接受更改时出错。有关更多详细信息，请查看[日志]({0})。","session expired":"当前会话已过期，因此已关闭设置同步。若要启用同步，请重新登录。","turn on sync":"打开设置同步…","turned off":"已从另一设备禁用设置同步。若要启用同步，请重新登录。","too large":"已禁止同步 {0}，因为要同步的 {1} 文件的大小大于 {2}。请打开文件减小大小，然后再启用同步","error upgrade required":"当前版本({0}, {1})与同步服务不兼容，因此已禁用设置同步。请先进行更新，然后再打开同步。",operationId:"操作 ID: {0}","error reset required":"云中的数据早于客户端的数据，因此已禁用设置同步。请先清除云中的数据，然后再启用同步。",reset:"清除云中的数据…","show synced data action":"显示已同步的数据","switched to insiders":"“设置同步”现使用单独的服务；有关详细信息，请参阅[发行说明](https://code.visualstudio.com/updates/v1_48#_settings-sync)。","open file":"打开 {0} 文件",errorInvalidConfiguration:"无法同步 {0}，因为文件中的内容无效。请打开文件并进行更正。","has conflicts":"{0}: 检测到冲突","turning on syncing":"正在打开设置同步…","sign in to sync":"登录以同步设置","no authentication providers":"没有可用的身份验证提供程序。","too large while starting sync":"要同步的 {0} 文件的大小大于 {1}，因此无法启用设置同步。请打开文件并减小大小，然后打开同步","error upgrade required while starting sync":"当前版本({0}, {1})与同步服务不兼容，因此无法启用设置同步。请先进行更新，然后再打开同步。","error reset required while starting sync":"云中的数据早于客户端的数据，因此无法启用设置同步。请先清除云中的数据，然后再启用同步。","auth failed":"启用设置同步时出错: 身份验证失败。","turn on failed":"启用设置同步时出错。请查看[日志]({0})以了解详细信息。","sync preview message":"同步设置是一项预览功能，请在启用它之前阅读文档。","turn on":"打开","open doc":"打开文档",cancel:"取消","sign in and turn on":"登录并打开","configure and turn on sync detail":"请进行登录，跨设备同步你的数据。","per platform":"为每个平台","configure sync placeholder":"选择要同步的内容","turn off sync confirmation":"是否要关闭同步?","turn off sync detail":"将不再同步你的设置、键绑定、扩展、代码片段和 UI 状态。","turn off":"关闭(&&T)","turn off sync everywhere":"关闭所有设备上的同步设置，并从云中清除数据。",leftResourceName:"{0} (远程)",merges:"{0} (合并)",sideBySideLabels:"{0} ↔ {1}",sideBySideDescription:"设置同步","switchSyncService.title":"{0}: 选择服务","switchSyncService.description":"在与多个环境同步时，请确保你使用的设置同步服务相同",default:"默认值",insiders:"预览体验人员",stable:"稳定","global activity turn on sync":"打开设置同步…","turnin on sync":"正在打开设置同步…","sign in global":"登录以同步设置","sign in accounts":"登录以同步设置(1)",resolveConflicts_global:"{0}: 显示设置冲突(1)",resolveKeybindingsConflicts_global:"{0}: 显示按键绑定冲突(1)",resolveSnippetsConflicts_global:"{0}: 显示用户代码片段冲突({1})","sync is on":"设置同步已打开","workbench.action.showSyncRemoteBackup":"显示已同步的数据","turn off failed":"禁用设置同步时出错。有关更多详细信息，请查看[日志]({0})。","show sync log title":"{0}: 显示日志","accept merges":"接受合并","accept remote button":"接受远程(&&R)","accept merges button":"接受合并(&&M)","Sync accept remote":"{0}: {1}","Sync accept merges":"{0}: {1}","confirm replace and overwrite local":"是否接受远程 {0} 并替换本地 {1}?","confirm replace and overwrite remote":"是否接受合并，并替换远程 {0}?","update conflicts":"无法解决冲突，因为存在新的可用本地版本。请重新尝试。"},"vs/workbench/contrib/userDataSync/browser/userDataSyncViews":{showLog:"显示日志",configure:"配置...","workbench.actions.syncData.reset":"清除云中的数据…",merges:"合并","synced machines":"已同步的计算机","workbench.actions.sync.editMachineName":"编辑名称","workbench.actions.sync.turnOffSyncOnMachine":"关闭设置同步","remote sync activity title":"同步活动(远程)","local sync activity title":"同步活动(本地)","workbench.actions.sync.resolveResourceRef":"显示原始 JSON 同步数据","workbench.actions.sync.replaceCurrent":"还原","confirm replace":"是否要用选定的内容替换当前的 {0}?","workbench.actions.sync.compareWithLocal":"打开更改",leftResourceName:"{0} (远程)",rightResourceName:"{0} (本地)",sideBySideLabels:"{0} ↔ {1}",sideBySideDescription:"设置同步",reset:"重置同步的数据",current:"当前","no machines":"无计算机","not found":"找不到 ID 为 {0} 的计算机","turn off sync on machine":"确定要对 {0} 关闭同步吗?","turn off":"关闭(&&T)",placeholder:"输入计算机名称","valid message":"计算机名称必须是唯一的且不为空"},"vs/workbench/contrib/userDataSync/browser/userDataSyncMergesView":{explanation:"若要启用同步，请仔细查看每个条目和合并项。","turn on sync":"打开设置同步",cancel:"取消","workbench.actions.sync.acceptRemote":"接受远程","workbench.actions.sync.acceptLocal":"接受本地","workbench.actions.sync.merge":"合并","workbench.actions.sync.discard":"放弃","workbench.actions.sync.showChanges":"打开更改","conflicts detected":"检测到冲突",resolve:"因冲突而无法同步。请解决它们以继续。","turning on":"正在打开…",preview:"{0} (预览)",leftResourceName:"{0} (远程)",merges:"{0} (合并)",rightResourceName:"{0} (本地)",sideBySideLabels:"{0} ↔ {1}",sideBySideDescription:"设置同步",label:"UserDataSyncResources",conflict:"检测到冲突",accepted:"已接受","accept remote":"接受远程","accept local":"接受本地","accept merges":"接受合并"},"vs/workbench/contrib/views/browser/treeView":{"no-dataprovider":"没有可提供视图数据的已注册数据提供程序。",refresh:"刷新",collapseAll:"全部折叠","command-error":"运行命令 {1} 错误: {0}。这可能是由提交 {1} 的扩展引起的。"},"vs/workbench/contrib/watermark/browser/watermark":{"watermark.showCommands":"显示所有命令","watermark.quickAccess":"转到文件","watermark.openFile":"打开文件","watermark.openFolder":"打开文件夹","watermark.openFileFolder":"打开文件或文件夹","watermark.openRecent":"打开最近的文件","watermark.newUntitledFile":"新的无标题文件","watermark.toggleTerminal":"切换终端","watermark.findInFiles":"在文件中查找","watermark.startDebugging":"开始调试","tips.enabled":"启用后，当没有打开编辑器时将显示水印提示。"},"vs/workbench/contrib/webview/electron-browser/webviewCommands":{openToolsLabel:"打开 Webview 开发人员工具"},"vs/workbench/contrib/webview/browser/baseWebviewElement":{fatalErrorMessage:"加载 Web 视图时出错: {0}"},"vs/workbench/contrib/webviewPanel/browser/webviewPanel.contribution":{"webview.editor.label":"Web 视图编辑器"},"vs/workbench/contrib/webviewPanel/browser/webviewCommands":{"editor.action.webvieweditor.showFind":"显示查找","editor.action.webvieweditor.hideFind":"停止查找","editor.action.webvieweditor.findNext":"查找下一个","editor.action.webvieweditor.findPrevious":"查找上一个",refreshWebviewLabel:"重新加载 Web 视图"},"vs/workbench/contrib/welcome/overlay/browser/welcomeOverlay":{"welcomeOverlay.explorer":"文件资源管理器","welcomeOverlay.search":"跨文件搜索","welcomeOverlay.git":"源代码管理","welcomeOverlay.debug":"启动和调试","welcomeOverlay.extensions":"管理扩展","welcomeOverlay.problems":"查看错误和警告","welcomeOverlay.terminal":"切换集成终端","welcomeOverlay.commandPalette":"查找并运行所有命令","welcomeOverlay.notifications":"显示通知",welcomeOverlay:"用户界面概览",hideWelcomeOverlay:"隐藏界面概述"},"vs/workbench/contrib/welcome/page/browser/welcomePage.contribution":{"workbench.startupEditor.none":"在启动时不打开编辑器。","workbench.startupEditor.welcomePage":"打开欢迎页面 (默认)。","workbench.startupEditor.readme":'打开包含一个自述文件的文件夹时, 打开自述文件, 否则回退到 "欢迎页面"。',"workbench.startupEditor.newUntitledFile":"打开新的无标题文件 (仅在打开空工作区时适用)。","workbench.startupEditor.welcomePageInEmptyWorkbench":"在打开空工作区时打开欢迎页面。","workbench.startupEditor.gettingStarted":"打开入门页面(实验性)。","workbench.startupEditor":"在没有从上一会话中恢复出信息的情况下，控制启动时显示的编辑器。",miWelcome:"欢迎使用(&&W)"},"vs/workbench/contrib/welcome/gettingStarted/browser/gettingStarted.contribution":{"Getting Started":"入门",help:"帮助",gettingStartedDescription:"启用实验性入门页面 - 可通过帮助菜单访问它。"},"vs/workbench/contrib/welcome/walkThrough/browser/walkThrough.contribution":{"walkThrough.editor.label":"交互式演练场",miInteractivePlayground:"交互式演练场(&&N)"},"vs/workbench/contrib/welcome/page/browser/welcomePage":{welcomePage:"欢迎使用","welcomePage.javaScript":"JavaScript","welcomePage.python":"Python","welcomePage.java":"Java","welcomePage.php":"PHP","welcomePage.azure":"Azure","welcomePage.showAzureExtensions":"显示 Azure 扩展","welcomePage.docker":"Docker","welcomePage.vim":"Vim","welcomePage.sublime":"Sublime","welcomePage.atom":"Atom","welcomePage.extensionPackAlreadyInstalled":"已安装对 {0} 的支持。","welcomePage.willReloadAfterInstallingExtensionPack":"安装对 {0} 的额外支持后，将重载窗口。","welcomePage.installingExtensionPack":"正在安装对 {0} 的额外支持...","welcomePage.extensionPackNotFound":"找不到对 {0} (ID: {1}) 的支持。","welcomePage.keymapAlreadyInstalled":"已安装 {0} 键盘快捷方式。","welcomePage.willReloadAfterInstallingKeymap":"安装 {0} 键盘快捷方式后，将重载窗口。","welcomePage.installingKeymap":"正在安装 {0} 键盘快捷方式...","welcomePage.keymapNotFound":"找不到 ID 为 {1} 的 {0} 键盘快捷方式。","welcome.title":"欢迎使用","welcomePage.openFolderWithPath":"打开路径为 {1} 的文件夹 {0}","welcomePage.extensionListSeparator":", ","welcomePage.installKeymap":"安装 {0} 按键映射","welcomePage.installExtensionPack":"安装对 {0} 的额外支持","welcomePage.installedKeymap":"已安装 {0} 按键映射","welcomePage.installedExtensionPack":"已安装 {0} 支持",ok:"确定",details:"细节"},"vs/workbench/contrib/welcome/gettingStarted/browser/gettingStarted":{"editorGettingStarted.title":"入门",next:"下一个"},"vs/workbench/contrib/welcome/walkThrough/browser/walkThroughPart":{"walkThrough.unboundCommand":"未绑定","walkThrough.gitNotFound":"你的系统上似乎未安装 Git。","walkThrough.embeddedEditorBackground":"嵌入于交互式演练场中的编辑器的背景颜色。"},"vs/workbench/contrib/welcome/walkThrough/browser/editor/editorWalkThrough":{"editorWalkThrough.title":"交互式演练场",editorWalkThrough:"交互式演练场"},"vs/workbench/contrib/welcome/common/viewsWelcomeContribution":{"ViewsWelcomeExtensionPoint.proposedAPI":'“{0}”中的 viewsWelcome 贡献要求启用 "enableProposedApi"。'},"vs/workbench/contrib/welcome/common/viewsWelcomeExtensionPoint":{"contributes.viewsWelcome":"提供视图欢迎内容。只要没有有意义的内容可显示，就会在基于树的视图中呈现欢迎内容，例如未打开文件夹时的文件资源管理器。此类内容作为产品内文档非常有用，可促使用户在某些功能可用之前使用它们。文件资源管理器欢迎视图中的“克隆存储库”按钮就是一个很好的示例。","contributes.viewsWelcome.view":"为特定视图提供的欢迎页面内容。","contributes.viewsWelcome.view.view":"此欢迎内容的目标视图标识符。仅支持基于树的视图。","contributes.viewsWelcome.view.contents":"要显示的欢迎内容。内容的格式是 Markdown 的子集，仅支持链接。","contributes.viewsWelcome.view.when":"显示欢迎内容的条件。","contributes.viewsWelcome.view.group":"此欢迎内容所属的组。","contributes.viewsWelcome.view.enablement":"启用欢迎内容的条件。"},"vs/workbench/contrib/welcome/telemetryOptOut/browser/telemetryOptOut":{"telemetryOptOut.optOutNotice":"帮助改善 VS Code，允许 Microsoft 收集使用数据。请阅读我们的[隐私声明]({0})并了解如何[选择退出]({1})。","telemetryOptOut.optInNotice":"帮助改善 VS Code，允许 Microsoft 收集使用数据。请阅读我们的[隐私声明]({0})并了解如何[选择加入]({1})。","telemetryOptOut.readMore":"了解详细信息","telemetryOptOut.optOutOption":"请允许 Microsoft 收集使用数据来帮助我们改进 Visual Studio Code。有关详细信息，请阅读我们的[隐私声明]({0})。","telemetryOptOut.OptIn":"好，乐意提供帮助","telemetryOptOut.OptOut":"不，谢谢"},"vs/workbench/contrib/welcome/page/browser/welcomePageColors":{"welcomePage.buttonBackground":"欢迎页按钮的背景色。","welcomePage.buttonHoverBackground":"欢迎页按钮被悬停时的背景色。","welcomePage.background":"欢迎页面的背景色。"},"vs/workbench/contrib/welcome/page/browser/vs_code_welcome_page":{"welcomePage.vscode":"Visual Studio Code","welcomePage.editingEvolved":"编辑进化","welcomePage.start":"启动","welcomePage.newFile":"新建文件","welcomePage.openFolder":"打开文件夹...","welcomePage.gitClone":"克隆存储库…","welcomePage.recent":"最近","welcomePage.moreRecent":"更多...","welcomePage.noRecentFolders":"无最近使用文件夹","welcomePage.help":"帮助","welcomePage.keybindingsCheatsheet":"快捷键速查表(可打印)","welcomePage.introductoryVideos":"入门视频","welcomePage.tipsAndTricks":"提示与技巧","welcomePage.productDocumentation":"产品文档","welcomePage.gitHubRepository":"GitHub 存储库","welcomePage.stackOverflow":"Stack Overflow","welcomePage.newsletterSignup":"接收我们的新闻稿","welcomePage.showOnStartup":"启动时显示欢迎页","welcomePage.customize":"自定义","welcomePage.installExtensionPacks":"工具和语言","welcomePage.installExtensionPacksDescription":"安装对 {0} 和 {1} 的支持","welcomePage.showLanguageExtensions":"显示更多语言扩展","welcomePage.moreExtensions":"更多","welcomePage.installKeymapDescription":"设置和按键绑定","welcomePage.installKeymapExtension":"安装 {0} 和 {1} 的设置和快捷键","welcomePage.showKeymapExtensions":"显示其他按键映射扩展","welcomePage.others":"其他","welcomePage.colorTheme":"颜色主题","welcomePage.colorThemeDescription":"使编辑器和代码呈现你喜欢的外观","welcomePage.learn":"学习","welcomePage.showCommands":"查找并运行所有命令","welcomePage.showCommandsDescription":"使用命令面板快速访问和搜索命令 ({0})","welcomePage.interfaceOverview":"界面概览","welcomePage.interfaceOverviewDescription":"查看突出显示主要 UI 组件的叠加图","welcomePage.interactivePlayground":"交互式演练场","welcomePage.interactivePlaygroundDescription":"在简短的演练中尝试基本的编辑器功能"},"vs/workbench/contrib/welcome/gettingStarted/browser/vs_code_editor_getting_started":{"gettingStarted.vscode":"Visual Studio Code","gettingStarted.editingRedefined":"代码编辑。已重新定义"},"vs/workbench/contrib/workspaces/browser/workspaces.contribution":{workspaceFound:"此文件夹包含工作区文件“{0}”，是否打开? [了解更多]({1})有关工作区文件的详细信息。",openWorkspace:"打开工作区",workspacesFound:"此文件夹包含多个工作区文件，是否打开? [了解更多]({0})有关工作区文件的详细信息。",selectWorkspace:"选择工作区",selectToOpen:"选择要打开的工作区"},"vs/workbench/services/authentication/browser/authenticationService":{"authentication.id":"身份验证提供程序的 ID。","authentication.label":"身份验证提供程序的易读名称。",authenticationExtensionPoint:"添加身份验证",loading:"正在加载…","authentication.missingId":"提供身份验证必须指定一个 ID。","authentication.missingLabel":"提供身份验证必须指定一个标签。","authentication.idConflict":"已注册此身份验证 ID“{0}”",noAccounts:"你未登录任何帐户","sign in":"已请求登录",signInRequest:"登录以使用 {0} (1)"},"vs/workbench/services/bulkEdit/browser/bulkEditService":{"summary.0":"未做编辑","summary.nm":"在 {1} 个文件中进行了 {0} 次编辑","summary.n0":"在 1 个文件中进行了 {0} 次编辑",workspaceEdit:"工作区编辑",nothing:"未做编辑"},"vs/workbench/services/configuration/common/jsonEditingService":{errorInvalidFile:"无法写入文件。请打开文件以更正错误或警告，然后重试。",errorFileDirty:"无法写入文件因为其已变更。请先保存此文件，然后重试。"},"vs/workbench/services/configuration/common/configurationEditingService":{openTasksConfiguration:"打开任务配置",openLaunchConfiguration:"打开启动配置",open:"打开设置",saveAndRetry:"保存并重试",errorUnknownKey:"没有注册配置 {1}，因此无法写入 {0}。",errorInvalidWorkspaceConfigurationApplication:"无法将 {0} 写入“工作区设置”。此设置只能写于“用户设置”。",errorInvalidWorkspaceConfigurationMachine:"无法将 {0} 写入“工作区设置”。此设置只能写于“用户设置”。",errorInvalidFolderConfiguration:'{0} 不支持文件夹资源域，因此无法写入"文件夹设置"。',errorInvalidUserTarget:'{0} 不支持全局域，因此无法写入"用户设置"。',errorInvalidWorkspaceTarget:"{0} 不在多文件夹工作区环境下支持工作区作用域，因此无法写入“工作区设置”。",errorInvalidFolderTarget:'未提供资源，因此无法写入"文件夹设置"。',errorInvalidResourceLanguageConfiguraiton:"无法写入语言设置，因为{0}不是资源语言设置。",errorNoWorkspaceOpened:"没有打开任何工作区，因此无法写入 {0}。请先打开一个工作区，然后重试。",errorInvalidTaskConfiguration:"无法写入任务配置文件。请打开文件并更正错误或警告，然后重试。",errorInvalidLaunchConfiguration:"无法写入启动配置文件。请打开文件并更正错误或警告，然后重试。",errorInvalidConfiguration:"无法写入用户设置。请打开用户设置并清除错误或警告，然后重试。",errorInvalidRemoteConfiguration:"无法写入远程用户设置。请打开远程用户设置以更正其中的错误警告, 然后重试。",errorInvalidConfigurationWorkspace:"无法写入工作区设置。请打开工作区设置并清除错误或警告，然后重试。",errorInvalidConfigurationFolder:"无法写入文件夹设置。请打开“{0}”文件夹设置并清除错误或警告，然后重试。",errorTasksConfigurationFileDirty:"任务配置文件已变更，无法写入。请先保存此文件，然后重试。",errorLaunchConfigurationFileDirty:"启动配置文件已变更，无法写入。请先保存此文件，然后重试。",errorConfigurationFileDirty:"用户设置文件已变更，无法写入。请先保存此文件，然后重试。",errorRemoteConfigurationFileDirty:"无法写入远程的用户设置, 因为该文件已被污染。请先保存远程用户设置文件, 然后重试。",errorConfigurationFileDirtyWorkspace:"工作区设置文件已变更，无法写入。请先保存此文件，然后重试。",errorConfigurationFileDirtyFolder:"文件夹设置文件已变更，无法写入。请先保存“{0}”文件夹设置文件，然后重试。",errorTasksConfigurationFileModifiedSince:"无法写入任务配置文件，因为文件的内容较新。",errorLaunchConfigurationFileModifiedSince:"无法写入启动配置文件，因为文件的内容较新。",errorConfigurationFileModifiedSince:"无法写入用户设置，因为文件的内容较新。",errorRemoteConfigurationFileModifiedSince:"无法写入远程用户设置，因为文件的内容较新。",errorConfigurationFileModifiedSinceWorkspace:"无法写入工作区设置，因为文件的内容较新。",errorConfigurationFileModifiedSinceFolder:"无法写入文件夹设置，因为文件的内容较新。",userTarget:"用户设置",remoteUserTarget:"远程用户设置",workspaceTarget:"工作区设置",folderTarget:"文件夹设置"},"vs/workbench/services/configurationResolver/browser/configurationResolverService":{"commandVariable.noStringType":'无法替换命令变量 "{0}", 因为命令没有返回字符串类型的结果。',"inputVariable.noInputSection":"必须在调试或任务配置的“{1}”部分中定义变量“{0}”。","inputVariable.missingAttribute":"输入变量“{0}”的类型为“{1}”且必须包含“{2}”。","inputVariable.defaultInputValue":"(默认值)","inputVariable.command.noStringType":'无法替换输入变量 "{0}", 因为命令 "{1}" 没有返回类型字符串的结果。',"inputVariable.unknownType":'输入变量“{0}”只能是 "promptString"、"pickString" 或 "command" 类型。',"inputVariable.undefinedVariable":"遇到未定义的输入变量“{0}”。请删除或定义“{0}”以继续操作。"},"vs/workbench/services/configurationResolver/common/variableResolver":{canNotResolveFile:"无法解析变量 {0}。请打开一个编辑器。",canNotResolveFolderForFile:'变量 {0}: 找不到 "{1}" 的工作区文件夹。',canNotFindFolder:"找不到文件夹“{1}”，因此无法解析变量 {0}。",canNotResolveWorkspaceFolderMultiRoot:'无法在多文件夹工作区中解析变量 {0}。使用 ":" 和工作区文件夹名称来限定此变量的作用域。',canNotResolveWorkspaceFolder:"无法解析变量 {0}。请打开一个文件夹。",missingEnvVarName:"未给出环境变量名称，因此无法解析变量 {0}。",configNotFound:"未能找到设置“{1}”，因此无法解析变量 {0}。",configNoString:'"{1}" 为结构类型值，因此无法解析变量 {0}。',missingConfigName:"未给出设置名称，因此无法解析变量 {0}。",canNotResolveLineNumber:"无法解析变量 {0}。请确保已在活动编辑器中选择一行内容。",canNotResolveSelectedText:"无法解析变量 {0}。请确保已在活动编辑器中选择一些文字。",noValueForCommand:"命令不含值，因此无法解析变量 {0}。"},"vs/workbench/services/configurationResolver/common/configurationResolverUtils":{deprecatedVariables:"“env.”、“config.”和“command.”已弃用，请改用“env:”、“config:”和“command:”。"},"vs/workbench/services/configurationResolver/common/configurationResolverSchema":{"JsonSchema.input.id":"输入的 ID 用于与其变量采用 ${input:id} 形式的输入相关联。","JsonSchema.input.type":"要使用的用户输入提示符的类型。","JsonSchema.input.description":"当提示用户输入时，将显示说明。","JsonSchema.input.default":"输入的默认值。","JsonSchema.inputs":"用户输入。用于定义用户输入提示，例如自由字符串输入或从多个选项中进行选择。","JsonSchema.input.type.promptString":'"promptString" 类型会打开一个输入框，要求用户输入内容。',"JsonSchema.input.password":"控制是否显示密码输入。密码输入会隐藏键入的文本。","JsonSchema.input.type.pickString":"“pickString”类型显示一个选择列表。","JsonSchema.input.options":"用于定义快速选择选项的字符串数组。","JsonSchema.input.pickString.optionLabel":"选项的标签。","JsonSchema.input.pickString.optionValue":"选项的值。","JsonSchema.input.type.command":'"command" 类型会执行命令。',"JsonSchema.input.command.command":"要为此输入变量执行的命令。","JsonSchema.input.command.args":"传递给命令的可选参数。"},"vs/workbench/services/decorations/browser/decorationsService":{bubbleTitle:"包含强调项"},"vs/workbench/services/dialogs/browser/abstractFileDialogService":{saveChangesDetail:"如果不保存，你的更改将丢失。",saveChangesMessage:"是否要保存对 {0} 的更改?",saveChangesMessages:"是否要保存对下列 {0} 个文件的更改?",saveAll:"全部保存(&&S)",save:"保存(&&S)",dontSave:"不保存(&&N)",cancel:"取消","openFileOrFolder.title":"打开文件或文件夹","openFile.title":"打开文件","openFolder.title":"打开文件夹","openWorkspace.title":"打开工作区","filterName.workspace":"工作区","saveFileAs.title":"另存为",saveAsTitle:"另存为",allFiles:"所有文件",noExt:"无扩展"},"vs/workbench/services/dialogs/browser/simpleFileDialog":{openLocalFile:"打开本地文件...",saveLocalFile:"保存本地文件...",openLocalFolder:"打开本地文件夹...",openLocalFileFolder:"打开本地...","remoteFileDialog.notConnectedToRemote":"{0} 的文件系统提供程序不可用。","remoteFileDialog.local":"显示本地","remoteFileDialog.badPath":"路径不存在。","remoteFileDialog.cancel":"取消","remoteFileDialog.invalidPath":"请输入有效路径。","remoteFileDialog.validateFolder":"该文件夹已存在。请使用新的文件名。","remoteFileDialog.validateExisting":"{0} 已存在。是否确实要覆盖?","remoteFileDialog.validateBadFilename":"请输入有效的文件名。","remoteFileDialog.validateNonexistentDir":"请输入已存在的路径。","remoteFileDialog.windowsDriveLetter":"路径开头请使用驱动器号。","remoteFileDialog.validateFileOnly":"请选择文件。","remoteFileDialog.validateFolderOnly":"请选择一个文件夹。"},"vs/workbench/services/editor/browser/editorService":{"editorAssociations.viewType.sourceDescription":"源: {0}"},"vs/workbench/services/editor/common/editorOpenWith":{"promptOpenWith.currentlyActive":"当前处于活动状态","promptOpenWith.setDefaultTooltip":"设置为“{0}”文件的默认编辑器","promptOpenWith.placeHolder":"为“{0}”选择编辑器",builtinProviderDisplayName:"内置","promptOpenWith.defaultEditor.displayName":"文本编辑器","editor.editorAssociations":"配置要用于特定文件类型的编辑器。","editor.editorAssociations.viewType":"要使用的编辑器的唯一 ID。","editor.editorAssociations.filenamePattern":"指定编辑器应该用于哪些文件的 Glob 模式。"},"vs/workbench/services/extensionManagement/electron-browser/extensionManagementServerService":{local:"本地",remote:"远程"},"vs/workbench/services/extensionManagement/electron-sandbox/remoteExtensionManagementService":{incompatible:"无法安装扩展名'{0}'，因为它不兼容 VS Code '{1}'。"},"vs/workbench/services/extensionManagement/common/webExtensionsScannerService":{"cannot be installed":"此扩展不是 Web 扩展，因此无法安装“{0}”。"},"vs/workbench/services/extensionManagement/browser/extensionEnablementService":{extensionsDisabled:"已暂时禁用所有已安装的扩展。",Reload:"重新加载并启用扩展","cannot disable language pack extension":"无法更改 {0} 扩展的启用，因为它提供语言包。","cannot disable auth extension":"无法更改 {0} 扩展的启用，因为“设置同步”依赖此扩展。",noWorkspace:"没有工作区。","cannot disable auth extension in workspace":"无法在工作区中更改 {0} 扩展的启用，因为它提供身份验证提供程序"},"vs/workbench/services/extensionManagement/common/extensionManagementService":{singleDependentError:"无法卸载扩展程序“{0}”。扩展程序“{1}”依赖于此。",twoDependentsError:"无法卸载扩展程序“{0}”。扩展程序“{1}”、“{2}”依赖于此。",multipleDependentsError:"无法卸载扩展程序“{0}”。扩展程序“{1}”、“{2}”以及其他扩展程序都依赖于此。","Manifest is not found":"安装扩展 {0} 失败: 找不到清单文件。","cannot be installed":"无法安装“{0}”，因为此扩展已定义它无法在远程服务器上运行。","cannot be installed on web":"无法安装“{0}”，因为根据定义，此扩展无法在 Web 服务器上运行。","install extension":"安装扩展","install extensions":"安装扩展",install:"安装","install and do no sync":"安装(不同步)",cancel:"取消","install single extension":'是否要跨设备安装并同步 "{0}" 扩展?',"install multiple extensions":"是否要跨设备安装并同步扩展?"},"vs/workbench/services/extensionManagement/browser/extensionBisect":{bisect:"扩展二等分处于活动状态，已禁用 {0} 扩展。请从这些选项中进行选择，检查是否仍可重现问题并继续操作。","title.start":"开始扩展二等分",help:"帮助","msg.start":"扩展二等分","detail.start":"扩展二等分将使用二进制搜索查找导致问题的扩展。在此过程中，窗口将不断重新加载(约 {0} 次)。每次都必须确认是否仍出现问题。",msg2:"开始扩展二等分","title.isBad":"继续扩展二等分","done.msg":"扩展二等分","done.detail2":"扩展二等分已完成，但未标识任何扩展。这可能是 {0} 的问题。",report:"报告问题并继续",done:"继续","done.detail":"扩展二等分已完成，已将 {0} 标识为导致问题的扩展。","done.disbale":"保持禁用此扩展","msg.next":"扩展二等分","next.good":"状况良好","next.bad":"状况不佳","next.stop":"停止二等分","next.cancel":"取消","title.stop":"停止扩展二等分"},"vs/workbench/services/extensionRecommendations/common/workspaceExtensionsConfig":{"select for remove":"从以下位置删除扩展建议","select for add":"将扩展建议添加到","workspace folder":"工作区文件夹",workspace:"工作区"},"vs/workbench/services/extensions/electron-browser/extensionService":{"extensionService.versionMismatchCrash":"扩展主机无法启动: 版本不匹配。",relaunch:"重新启动 VS Code","extensionService.crash":"扩展宿主意外终止。",devTools:"打开开发人员工具",restart:"重启扩展宿主",getEnvironmentFailure:"无法获取远程环境",looping:"以下扩展因包含依赖循环已被禁用: {0}",enableResolver:"打开远程窗口需要扩展“{0}”。\r\n确定启用吗?",enable:"启用和重新加载",installResolver:"打开远程窗口需要扩展“{0}”。\r\n确定要安装扩展吗?",install:"安装并重新加载",resolverExtensionNotFound:"未在市场上找到“{0}”",restartExtensionHost:"重启扩展宿主"},"vs/workbench/services/extensions/electron-browser/cachedExtensionScanner":{overwritingExtension:"使用扩展程序 {1} 覆盖扩展程序 {0}。",extensionUnderDevelopment:"正在 {0} 处加载开发扩展程序","extensionCache.invalid":"扩展在磁盘上已被修改。请重新加载窗口。",reloadWindow:"重新加载窗口"},"vs/workbench/services/extensions/electron-browser/localProcessExtensionHost":{"extensionHost.startupFailDebug":"扩展未在 10 秒内启动，可能在第一行已停止，需要调试器才能继续。","extensionHost.startupFail":"扩展主机未在 10 秒内启动，这可能是一个问题。",reloadWindow:"重新加载窗口","extension host Log":"扩展宿主","extensionHost.error":"扩展主机中的错误: {0}"},"vs/workbench/services/extensions/common/abstractExtensionService":{looping:"以下扩展因包含依赖循环已被禁用: {0}"},"vs/workbench/services/extensions/common/remoteExtensionHost":{"remote extension host Log":"远程扩展主机"},"vs/workbench/services/extensions/browser/webWorkerExtensionHost":{name:"辅助角色扩展主机"},"vs/workbench/services/extensions/browser/extensionUrlHandler":{confirmUrl:"是否允许扩展打开此 URI？",rememberConfirmUrl:"不再提醒此扩展。",open:"打开(&&O)",reloadAndHandle:"扩展“{0}”尚未载入。是否重载此窗口来载入扩展并打开 URL?",reloadAndOpen:"重载窗口并打开(&&R)",enableAndHandle:"扩展“{0}”已被禁用。是否启用扩展并重载此窗口来打开 URL?",enableAndReload:"启用并打开(&&E)",installAndHandle:"扩展“{0}”尚未安装。是否安装扩展并重载此窗口来打开 URL?",install:"安装(&&I)",Installing:"正在安装扩展“{0}”...",reload:"是否要重新加载窗口并打开 URL“{0}”?",Reload:"重新加载窗口并打开",manage:"管理授权扩展 URI...",extensions:"扩展",no:"当前没有已授权的扩展 URI。"},"vs/workbench/services/extensions/common/extensionsRegistry":{ui:"UI 扩展类型。在远程窗口中, 仅本地计算机可用时启用此类扩展。",workspace:"工作区扩展类型。在远程窗口中，仅远程可用时启用此类扩展。",web:"Web 辅助进程扩展类型。此类扩展可在 Web 辅助进程扩展主机中执行。","vscode.extension.engines":"引擎兼容性。","vscode.extension.engines.vscode":"对于 VS Code 扩展，指定与其兼容的 VS Code 版本。不能为 *。 例如: ^0.10.5 表示最低兼容 VS Code 版本 0.10.5。","vscode.extension.publisher":"VS Code 扩展的发布者。","vscode.extension.displayName":"VS Code 库中使用的扩展的显示名称。","vscode.extension.categories":"VS Code 库用于对扩展进行分类的类别。","vscode.extension.category.languages.deprecated":'请改用 "Programming Languages"',"vscode.extension.galleryBanner":"VS Code 商城使用的横幅。","vscode.extension.galleryBanner.color":"VS Code 商城页标题上的横幅颜色。","vscode.extension.galleryBanner.theme":"横幅文字的颜色主题。","vscode.extension.contributes":"由此包表示的 VS Code 扩展的所有贡献。","vscode.extension.preview":"在 Marketplace 中设置扩展，将其标记为“预览”。","vscode.extension.activationEvents":"VS Code 扩展的激活事件。","vscode.extension.activationEvents.onLanguage":"在打开被解析为指定语言的文件时发出的激活事件。","vscode.extension.activationEvents.onCommand":"在调用指定命令时发出的激活事件。","vscode.extension.activationEvents.onDebug":"在用户准备调试或准备设置调试配置时发出的激活事件。","vscode.extension.activationEvents.onDebugInitialConfigurations":'在需要创建 "launch.json" 文件 (且需要调用 provideDebugConfigurations 的所有方法) 时发出的激活事件。',"vscode.extension.activationEvents.onDebugDynamicConfigurations":"每当需要创建所有调试配置的列表(并且需要调用“动态”范围的所有 provideDebugConfigurations 方法)时都会引发激活事件。","vscode.extension.activationEvents.onDebugResolve":"在将要启动具有特定类型的调试会话 (且需要调用相应的 resolveDebugConfiguration 方法) 时发出的激活事件。","vscode.extension.activationEvents.onDebugAdapterProtocolTracker":"每当即将启动具有特定类型的调试会话并可能需要调试协议跟踪器时, 都会发出激活事件。","vscode.extension.activationEvents.workspaceContains":"在打开至少包含一个匹配指定 glob 模式的文件的文件夹时发出的激活事件。","vscode.extension.activationEvents.onStartupFinished":'启动完成后(在所有 "*" 激活的扩展完成激活后)发出的激活事件。',"vscode.extension.activationEvents.onFileSystem":"在使用给定协议打开文件或文件夹时发出的激活事件。","vscode.extension.activationEvents.onSearch":"在开始从给定协议的文件夹中搜索时发出的激活事件。","vscode.extension.activationEvents.onView":"在指定视图被展开时发出的激活事件。","vscode.extension.activationEvents.onIdentity":"每当指定的用户标识时，都会发出激活事件。","vscode.extension.activationEvents.onUri":"在打开系统范围内并指向此扩展的 URI 时发出的激活事件。","vscode.extension.activationEvents.onCustomEditor":"每当指定的自定义编辑器变为可见时，都会发出激活事件。","vscode.extension.activationEvents.star":"在 VS Code 启动时发出的激活事件。为确保良好的最终用户体验，请仅在其他激活事件组合不适用于你的情况时，才在扩展中使用此事件。","vscode.extension.badges":"在 Marketplace 的扩展页边栏中显示的徽章数组。","vscode.extension.badges.url":"徽章图像 URL。","vscode.extension.badges.href":"徽章链接。","vscode.extension.badges.description":"徽章说明。","vscode.extension.markdown":'控制商店中使用的 Markdown 渲染引擎。可为 "github" (默认) 或 "standard" (标准)。',"vscode.extension.qna":'控制市场中的“问与答”(Q&A)链接。设置为 "marketplace" 可启用市场的默认“问与答”页面。设置为其他字符串可指向自定义的“问与答”页面。设置为 "false" 可完全禁用“问与答”。',"vscode.extension.extensionDependencies":"其他扩展的依赖关系。扩展的标识符始终是 ${publisher}.${name}。例如: vscode.csharp。","vscode.extension.contributes.extensionPack":"可一起安装的一组扩展。扩展的标识符始终为 ${publisher}.${name}。例如: vscode.csharp。",extensionKind:'定义扩展的类型。"ui"扩展在本地计算机上安装和运行，而 "工作区" 扩展则在远程计算机上运行。',"extensionKind.ui":"定义一个扩展，该扩展在连接到远程窗口时只能在本地计算机上运行。","extensionKind.workspace":"定义一个扩展，该扩展只能在连接远程窗口时在远程计算机上运行。","extensionKind.ui-workspace":"定义可在任意一侧运行的扩展，并首选在本地计算机上运行。","extensionKind.workspace-ui":"定义可在任意一侧运行的扩展，并首选在远程计算机上运行。","extensionKind.empty":"定义一个无法在远程上下文中运行的扩展，既不能在本地上，也不能在远程计算机上运行。","vscode.extension.scripts.prepublish":"包作为 VS Code 扩展发布前执行的脚本。","vscode.extension.scripts.uninstall":"VS Code 扩展的卸载钩子。在扩展从 VS Code 卸载且 VS Code 重启 (关闭后开启) 后执行的脚本。仅支持 Node 脚本。","vscode.extension.icon":"128 x 128 像素图标的路径。"},"vs/workbench/services/extensions/node/extensionPoints":{jsonParseInvalidType:"清单文件 {0} 无效: 不是 JSON 对象。",jsonParseFail:"无法解析 {0}: [{1}, {2}] {3}.",fileReadFail:"无法读取文件 {0}: {1}。",jsonsParseReportErrors:"未能分析 {0}: {1}。",jsonInvalidFormat:"格式 {0} 无效: 应为 JSON 对象。",missingNLSKey:"无法找到键 {0} 的消息。",notSemver:"扩展版本与 semver 不兼容。","extensionDescription.empty":"已获得空扩展说明","extensionDescription.publisher":'属性 publisher 的类型必须是 "string"。',"extensionDescription.name":'属性“{0}”是必需的，其类型必须是 "string"',"extensionDescription.version":'属性“{0}”是必需的，其类型必须是 "string"',"extensionDescription.engines":'属性“{0}”是必要属性，其类型必须是 "object"',"extensionDescription.engines.vscode":'属性“{0}”是必需的，其类型必须是 "string"',"extensionDescription.extensionDependencies":'属性“{0}”可以省略，否则其类型必须是 "string[]"',"extensionDescription.activationEvents1":'属性“{0}”可以省略，否则其类型必须是 "string[]"',"extensionDescription.activationEvents2":"必须同时指定或同时省略属性”{0}“和”{1}“","extensionDescription.main1":'属性“{0}”可以省略，否则其类型必须是 "string"',"extensionDescription.main2":'应在扩展文件夹({1})中包含 "main" ({0})。这可能会使扩展不可移植。',"extensionDescription.main3":"必须同时指定或同时省略属性”{0}“和”{1}“","extensionDescription.browser1":'属性 "{0}" 可以省略，或者必须为 "string" 类型',"extensionDescription.browser2":'应在扩展文件夹({1})中包含 "browser" ({0})。这可能会使扩展不可移植。',"extensionDescription.browser3":"必须同时指定或同时省略属性”{0}“和”{1}“"},"vs/workbench/services/extensions/common/extensionHostManager":{measureExtHostLatency:"测量扩展主机延迟"},"vs/workbench/services/gettingStarted/common/gettingStartedContent":{"gettingStarted.beginner.title":"入门","gettingStarted.beginner.description":"了解你的新编辑器","pickColorTask.description":"修改用户界面中的颜色，适合与你的首选项和工作环境相符。","pickColorTask.title":"颜色主题","pickColorTask.button":"查找主题","findKeybindingsTask.description":"查找 Vim、Sublime、Atom 和其他内容的键盘快捷方式。","findKeybindingsTask.title":"配置键绑定","findKeybindingsTask.button":"搜索键映射","findLanguageExtsTask.description":"获取对你的语言(如 JavaScript、Python、Java、Azure、Docker 等)的支持。","findLanguageExtsTask.title":"语言和工具","findLanguageExtsTask.button":"安装语言支持","gettingStartedOpenFolder.description":"打开项目文件夹以开始使用!","gettingStartedOpenFolder.title":"打开文件夹","gettingStartedOpenFolder.button":"选择文件夹","gettingStarted.intermediate.title":"基本信息","gettingStarted.intermediate.description":"你将爱上的须知功能","commandPaletteTask.description":"查找 VS Code 可执行的各项操作的最简单的方法。如果你曾在查找某项功能，请先在此处查看!","commandPaletteTask.title":"命令面板","commandPaletteTask.button":"查看所有命令","gettingStarted.advanced.title":"提示和技巧","gettingStarted.advanced.description":"VS Code 专家最喜欢的内容","gettingStarted.openFolder.title":"打开文件夹","gettingStarted.openFolder.description":"打开项目并开始工作","gettingStarted.playground.title":"交互式操场","gettingStarted.interactivePlayground.description":"了解编辑器的基本功能"},"vs/workbench/services/integrity/node/integrityService":{"integrity.prompt":"{0} 安装似乎损坏。请重新安装。","integrity.moreInformation":"更多信息","integrity.dontShowAgain":"不再显示"},"vs/workbench/services/keybinding/common/keybindingEditing":{errorKeybindingsFileDirty:"按键绑定配置文件已变更，现在无法写入。请先保存此文件，然后重试。",parseErrors:"无法写入按键绑定配置文件。请打开文件并更正错误或警告，然后重试。",errorInvalidConfiguration:"无法写入按键绑定配置文件。文件内含有非数组类型对象。请打开文件进行清理，然后重试。",emptyKeybindingsHeader:"将键绑定放在此文件中以覆盖默认值"},"vs/workbench/services/keybinding/browser/keybindingService":{nonempty:"应为非空值。",requirestring:'属性“{0}”是必需的，其类型必须是 "string"',optstring:'属性“{0}”可以省略，否则其类型必须是 "string"',"vscode.extension.contributes.keybindings.command":"要在触发键绑定时运行的命令的标识符。","vscode.extension.contributes.keybindings.args":"要传递给命令以执行的参数。","vscode.extension.contributes.keybindings.key":"键或键序列(用加号连接的键和后面再接空格的键序列都算组合键，如 Ctrl+O 和 Ctrl+L L)。","vscode.extension.contributes.keybindings.mac":"Mac 特定的键或键序列。","vscode.extension.contributes.keybindings.linux":"Linux 特定的键或键序列。","vscode.extension.contributes.keybindings.win":"Windows 特定的键或键序列。","vscode.extension.contributes.keybindings.when":"键处于活动状态时的条件。","vscode.extension.contributes.keybindings":"用于键绑定。","invalid.keybindings":"无效的“contributes.{0}”: {1}",unboundCommands:"以下是其他可用命令:","keybindings.json.title":"按键绑定配置","keybindings.json.key":"键或键序列(用空格分隔)","keybindings.json.command":"要执行的命令的名称","keybindings.json.when":"键处于活动状态时的条件。","keybindings.json.args":"要传递给命令以执行的参数。",keyboardConfigurationTitle:"键盘",dispatch:'控制按键的分派逻辑以使用 "code" (推荐) 或 "keyCode"。'},"vs/workbench/services/label/common/labelService":{"vscode.extension.contributes.resourceLabelFormatters":"提供资源标签格式化规则。","vscode.extension.contributes.resourceLabelFormatters.scheme":"要在其上匹配格式化程序的 URI 方案，例如“文件”。支持简单的 glob 模式。","vscode.extension.contributes.resourceLabelFormatters.authority":"要在其上匹配格式化程序的 URI 权限。支持简单的 glob 模式。","vscode.extension.contributes.resourceLabelFormatters.formatting":"用于格式化 uri 资源标签的规则。","vscode.extension.contributes.resourceLabelFormatters.label":"要显示的标签规则。例如，支持将 myLabel:/${path}. ${path}、${scheme} 和 ${authority} 用作变量。","vscode.extension.contributes.resourceLabelFormatters.separator":"要在 URI 标签显示中所用的分隔符，例如 / 或 ''。","vscode.extension.contributes.resourceLabelFormatters.stripPathStartingSeparator":'控制 "${path}" 替换项是否应删除起始分隔符字符。',"vscode.extension.contributes.resourceLabelFormatters.tildify":"控制是否应在可能的情况下按斜体显示 URI 标签的开头。","vscode.extension.contributes.resourceLabelFormatters.formatting.workspaceSuffix":"附加到工作区标签的后缀。",untitledWorkspace:"无标题 (工作区)",workspaceNameVerbose:"{0} (工作区)",workspaceName:"{0} (工作区)"},"vs/workbench/services/lifecycle/electron-sandbox/lifecycleService":{errorClose:"尝试关闭窗口({0})时引发了意外错误。",errorQuit:"尝试退出应用程序({0})时引发了意外错误。",errorReload:"尝试重新加载窗口({0})时引发了意外错误。",errorLoad:"尝试更改窗口({0})工作区时引发了意外错误。"},"vs/workbench/services/mode/common/workbenchModeService":{"vscode.extension.contributes.languages":"有助于语言声明。","vscode.extension.contributes.languages.id":"语言 ID。","vscode.extension.contributes.languages.aliases":"语言的别名。","vscode.extension.contributes.languages.extensions":"与语言关联的文件扩展名。","vscode.extension.contributes.languages.filenames":"与语言关联的文件名。","vscode.extension.contributes.languages.filenamePatterns":"与语言关联的文件名 glob 模式。","vscode.extension.contributes.languages.mimetypes":"与语言关联的 Mime 类型。","vscode.extension.contributes.languages.firstLine":"与语言文件的第一行匹配的正则表达式。","vscode.extension.contributes.languages.configuration":"包含语言配置选项的文件的相对路径。",invalid:"“contributes.{0}”无效。应为数组。","invalid.empty":"“contributes.{0}”的值为空","require.id":'属性“{0}”是必需的，其类型必须是 "string"',"opt.extensions":'属性“{0}”可以省略，其类型必须是 "string[]"',"opt.filenames":'属性“{0}”可以省略，其类型必须是 "string[]"',"opt.firstLine":'属性“{0}”可以省略，其类型必须是 "string"。',"opt.configuration":'属性“{0}”可以省略，其类型必须是 "string"。',"opt.aliases":'属性“{0}”可以省略，其类型必须是 "string[]"',"opt.mimetypes":'属性“{0}”可以省略，其类型必须是 "string[]"'},"vs/workbench/services/notification/common/notificationService":{neverShowAgain:"不再显示"},"vs/workbench/services/preferences/common/preferences":{userSettingsTarget:"用户设置",workspaceSettingsTarget:"工作区设置"},"vs/workbench/services/preferences/browser/preferencesService":{openFolderFirst:"首先打开文件夹以创建工作区设置",emptyKeybindingsHeader:"将键绑定放在此文件中以覆盖默认值",defaultKeybindings:"默认的键绑定",defaultSettings:"默认设置",folderSettingsName:"{0} (文件夹设置)","fail.createSettings":"无法创建“{0}”({1})。"},"vs/workbench/services/preferences/common/preferencesEditorInput":{settingsEditorName:"默认设置",keybindingsInputName:"键盘快捷方式",settingsEditor2InputName:"设置"},"vs/workbench/services/preferences/common/preferencesModels":{commonlyUsed:"常用设置",defaultKeybindingsHeader:"通过将键绑定放入键绑定文件来覆盖键绑定。"},"vs/workbench/services/preferences/common/keybindingsEditorModel":{default:"默认值",extension:"扩展",user:"用户","cat.title":"{0}: {1}",option:"选项",meta:"元数据"},"vs/workbench/services/preferences/common/preferencesValidation":{"validations.expectedNumeric":"值必须为数字。",invalidTypeError:"设置的类型无效，应为 {0}。请使用 JSON 格式进行修复。","validations.maxLength":"值的长度必须小于或等于 {0} 个字符。","validations.minLength":"值的长度不能少于 {0} 个字符。","validations.regex":"值必须匹配 regex “{0}”。","validations.colorFormat":"颜色格式无效。请使用 #RGB、#RGBA、#RRGGBB 或 #RRGGBBAA。","validations.uriEmpty":"需要 URI。","validations.uriMissing":"需要 URI。","validations.uriSchemeMissing":"需要包含架构的 URI。","validations.exclusiveMax":"值必须严格小于 {0}。","validations.exclusiveMin":"值必须严格大于 {0}。","validations.max":"值必须小于或等于 {0}。","validations.min":"值必须大于或等于 {0}。","validations.multipleOf":"值必须是 {0} 的倍数。","validations.expectedInteger":"值必须为整数。","validations.stringArrayUniqueItems":"数组具有重复项","validations.stringArrayMinItem":"数组必须至少有 {0} 项","validations.stringArrayMaxItem":"数组必须最多有 {0} 项","validations.stringArrayItemPattern":"值 {0} 必须与 regex {1} 匹配。","validations.stringArrayItemEnum":"值 {0} 不是 {1} 其中之一"},"vs/workbench/services/progress/browser/progressService":{"progress.text2":"{0}: {1}","progress.title3":"[{0}] {1}: {2}","progress.title2":"[{0}]: {1}","status.progress":"进度消息",cancel:"取消",dismiss:"消除"},"vs/workbench/services/remote/common/abstractRemoteAgentService":{connectionError:"无法连接到远程扩展主机服务器 (错误: {0})"},"vs/workbench/services/textfile/electron-browser/nativeTextFileService":{fileReadOnlyError:"文件为只读文件"},"vs/workbench/services/textfile/browser/textFileService":{fileBinaryError:"文件似乎是二进制文件，不能作为文本打开",confirmOverwrite:"“{0}”已存在。是否替换它?",irreversible:'名为"{0}"的文件或文件夹已存在于"{1}"文件夹中。替换它将覆盖其当前内容。',replaceButtonLabel:"替换(&&R)"},"vs/workbench/services/textfile/common/textFileEditorModelManager":{genericSaveError:"未能保存“{0}”: {1}"},"vs/workbench/services/textfile/common/textFileEditorModel":{saveFileFirst:"文件已更新。请首先保存它，然后再通过另一个编码重新打开它。"},"vs/workbench/services/textfile/common/textFileSaveParticipant":{saveParticipants:"正在保存“{0}”"},"vs/workbench/services/textMate/browser/abstractTextMateService":{alreadyDebugging:"已经开始记录。",stop:"停止",progress1:"正在准备记录 TM 语法分析。完成后按“停止”。",progress2:"现在正在记录 TM 语法分析。完成后按“停止”。","invalid.language":'"contributes.{0}.language" 中包含未知语言。提供的值: {1}',"invalid.scopeName":"“contributes.{0}.scopeName”中应为字符串。提供的值: {1}","invalid.path.0":"“contributes.{0}.path”中应为字符串。提供的值: {1}","invalid.injectTo":'"contributes.{0}.injectTo" 中的值无效。必须为语言范围名称数组。提供的值: {1}',"invalid.embeddedLanguages":'"contributes.{0}.embeddedLanguages" 中的值无效。必须为从作用域名称到语言的对象映射。提供的值: {1}',"invalid.tokenTypes":'"contributes.{0}.tokenTypes" 的值无效。必须为从作用域名称到标记类型的对象映射。当前值: {1}',"invalid.path.1":"“contributes.{0}.path”({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。","too many characters":'出于性能原因，对长行跳过令牌化。长行的长度可通过 "editor.maxTokenizationLineLength" 进行配置。',neverAgain:"不再显示"},"vs/workbench/services/textMate/common/TMGrammars":{"vscode.extension.contributes.grammars":"贡献 textmate tokenizer。","vscode.extension.contributes.grammars.language":"此语法为其贡献了内容的语言标识符。","vscode.extension.contributes.grammars.scopeName":"tmLanguage 文件所用的 textmate 范围名称。","vscode.extension.contributes.grammars.path":'tmLanguage 文件的路径。该路径是相对于扩展文件夹，通常以 "./syntaxes/" 开头。',"vscode.extension.contributes.grammars.embeddedLanguages":"如果此语法包含嵌入式语言，则为作用域名称到语言 ID 的映射。","vscode.extension.contributes.grammars.tokenTypes":"从作用域名到标记类型的映射。","vscode.extension.contributes.grammars.injectTo":"此语法注入到的语言范围名称列表。"},"vs/workbench/services/textMate/common/TMGrammarFactory":{"no-tm-grammar":"没有注册这种语言的 TM 语法。"},"vs/workbench/services/themes/browser/workbenchThemeService":{"error.cannotloadtheme":"无法加载 {0}: {1}"},"vs/workbench/services/themes/common/colorExtensionPoint":{"contributes.color":"提供由扩展定义的主题颜色","contributes.color.id":"主题颜色标识符","contributes.color.id.format":"标识符只能包含字母、数字和点，且不能以点开头","contributes.color.description":"主题颜色的说明","contributes.defaults.light":"浅色主题的默认颜色。应为十六进制颜色值 (#RRGGBB[AA]) 或是主题颜色标识符，其提供默认值。","contributes.defaults.dark":"深色主题的默认颜色。应为十六进制颜色值 (#RRGGBB[AA]) 或是主题颜色标识符，其提供默认值。","contributes.defaults.highContrast":"高对比度主题的默认颜色。应为十六进制颜色值 (#RRGGBB[AA]) 或是主题颜色标识符，其提供默认值。","invalid.colorConfiguration":'"configuration.colors" 必须是数组',"invalid.default.colorType":"{0} 必须为十六进制颜色值 (#RRGGBB[AA] 或 #RGB[A]) 或是主题颜色标识符，其提供默认值。","invalid.id":'必须定义 "configuration.colors.id" 且它不可为空',"invalid.id.format":'"configuration.colors.id" 只能包含字母、数字和点，且不能以点开头',"invalid.description":'必须定义 "configuration.colors.description" 且它不可为空',"invalid.defaults":'必须定义 “configuration.colors.defaults”，且须包含 "light"(浅色)、"dark"(深色) 和 "highContrast"(高对比度)'},"vs/workbench/services/themes/common/tokenClassificationExtensionPoint":{"contributes.semanticTokenTypes":"贡献语义令牌类型。","contributes.semanticTokenTypes.id":"语义令牌类型的标识符","contributes.semanticTokenTypes.id.format":"标识符的格式应为letterOrDigit[_-letterOrDigit]*","contributes.semanticTokenTypes.superType":"语义令牌类型的超类型","contributes.semanticTokenTypes.superType.format":"超类型的格式应为 letterOrDigit[_-letterOrDigit]*","contributes.color.description":"语义标记类型的说明","contributes.semanticTokenModifiers":"提供语义标记修饰符。","contributes.semanticTokenModifiers.id":"语义令牌修饰符的标识符","contributes.semanticTokenModifiers.id.format":"标识符的格式应为letterOrDigit[_-letterOrDigit]*","contributes.semanticTokenModifiers.description":"语义令牌修饰符的说明","contributes.semanticTokenScopes":"提供语义令牌范围映射。","contributes.semanticTokenScopes.languages":"列出默认语言。","contributes.semanticTokenScopes.scopes":"将语义令牌(由语义令牌选择器描述)映射到用于表示该令牌的一个或多个 textMate 作用域。","invalid.id":'必须定义 "configuration.{0}.id" 且它不可为空',"invalid.id.format":'"configuration.{0}.id" 必须采用 letterOrDigit[-_letterOrDigit]* 模式',"invalid.superType.format":"“ configuration.{0}.superType”必须遵循格式 letterOrDigit [-_letterOrDigit] *","invalid.description":'必须定义 "configuration.{0}.description" 且它不可为空',"invalid.semanticTokenTypeConfiguration":"“configuration.semanticTokenType”必须是数组","invalid.semanticTokenModifierConfiguration":"“configuration.semanticTokenModifier” 必须是数组","invalid.semanticTokenScopes.configuration":'"configuration.semanticTokenScopes" 必须是一个数组',"invalid.semanticTokenScopes.language":'"configuration.semanticTokenScopes.language" 的值必须是字符串',"invalid.semanticTokenScopes.scopes":'"configuration.semanticTokenScopes.scopes" 必须定义为对象',"invalid.semanticTokenScopes.scopes.value":'"configuration.semanticTokenScopes.scopes" 的值必须是字符串数组',"invalid.semanticTokenScopes.scopes.selector":'"configuration.semanticTokenScopes.scopes": 解析选择器{0}时出现问题。'},"vs/workbench/services/themes/common/colorThemeData":{"error.cannotparsejson":"分析 JSON 主题文件 {0} 时出现问题","error.invalidformat":"JSON 主题文件的格式无效: 应为对象。","error.invalidformat.colors":"分析颜色主题文件时出现问题: {0}。属性“colors”不是“object”类型。","error.invalidformat.tokenColors":'分析颜色主题文件时出现问题: {0}。属性 "tokenColors" 应为指定颜色的数组或是指向 TextMate 主题文件的路径',"error.invalidformat.semanticTokenColors":'分析颜色主题文件时发生问题: {0}。属性 "semanticTokenColors" 包含无效的选择器',"error.plist.invalidformat":'分析 tmTheme 文件时出现问题: {0}。"settings" 不是数组。',"error.cannotparse":"分析 tmTheme 文件时出现问题: {0}","error.cannotload":"分析 tmTheme 文件 {0} 时出现问题: {1}"},"vs/workbench/services/themes/common/fileIconThemeSchema":{"schema.folderExpanded":"展开文件夹的文件夹图标。展开文件夹图标是可选的。如果未设置，将显示为文件夹定义的图标。","schema.folder":"折叠文件夹的文件夹图标，如果未设置 folderExpanded，也指展开文件夹的文件夹图标。","schema.file":"默认文件图标，针对不与任何扩展名、文件名或语言 ID 匹配的所有文件显示。","schema.folderNames":"将文件夹名关联到图标。对象中的键是文件夹名，其中不含任何路径字段。不允许使用模式或通配符。文件夹名匹配不区分大小写。","schema.folderName":"关联的图标定义的 ID。","schema.folderNamesExpanded":"将文件夹名关联到展开文件夹的图标。对象中的键是文件夹名，其中不含任何路径字段。不允许使用模式或通配符。文件夹名匹配不区分大小写。","schema.folderNameExpanded":"关联的图标定义的 ID。","schema.fileExtensions":"将文件扩展名关联到图标。对象中的键是文件扩展名。扩展名是文件名的最后一部分，位于最后一个点之后 (不包括该点)。比较扩展名时不区分大小写。","schema.fileExtension":"关联的图标定义的 ID。","schema.fileNames":"将文件名关联到图标。对象中的键是完整文件名，其中不含任何路径字段。文件名可以包括点和可能有的文件扩展名。不允许使用模式或通配符。文件名匹配不区分大小写。","schema.fileName":"关联的图标定义的 ID。","schema.languageIds":"将语言与图标相关联。对象键是语言贡献点中定义的语言 ID。","schema.languageId":"关联的图标定义的 ID。","schema.fonts":"图标定义中使用的字体。","schema.id":"字体的 ID。","schema.id.formatError":"ID 必须仅包含字母、数字、下划线和减号。","schema.src":"字体的位置。","schema.font-path":"相对于当前文件图标主题文件的字体路径。","schema.font-format":"字体的格式。","schema.font-weight":"字体的粗细。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-weight。","schema.font-style":"字体的样式。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-style。","schema.font-size":"字体的默认大小。请参阅 https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-size 查看有效的值。","schema.iconDefinitions":"将文件与图标关联时可使用的所有图标的说明。","schema.iconDefinition":"图标定义。对象键是定义的 ID。","schema.iconPath":"使用 SVG 或 PNG 时: 到图像的路径。该路径相对于图标设置文件。","schema.fontCharacter":"使用字形字体时: 要使用的字体中的字符。","schema.fontColor":"使用字形字体时: 要使用的颜色。","schema.fontSize":"使用某种字体时: 文本字体的字体大小(以百分比表示)。如果未设置，则默认为字体定义中的大小。","schema.fontId":"使用某种字体时: 字体的 ID。如果未设置，则默认为第一个字体定义。","schema.light":"浅色主题中文件图标的可选关联。","schema.highContrast":"高对比度颜色主题中文件图标的可选关联。","schema.hidesExplorerArrows":"配置文件资源管理器的箭头是否应在此主题启用时隐藏。"},"vs/workbench/services/themes/browser/fileIconThemeData":{"error.cannotparseicontheme":"分析文件图标文件时出现问题: {0}","error.invalidformat":"文件图标主题问题的格式无效: 应为对象。"},"vs/workbench/services/themes/common/colorThemeSchema":{"schema.token.settings":"标记的颜色和样式。","schema.token.foreground":"标记的前景色。","schema.token.background.warning":"暂不支持标记背景色。","schema.token.fontStyle":'这条规则的字体样式: "italic" (斜体)、"bold" (粗体)、"underline" (下划线) 或是上述的组合。空字符串将清除继承的设置。',"schema.fontStyle.error":'字体样式必须为 "italic" (斜体)、"bold" (粗体)、"underline" (下划线) 、上述的组合或是为空字符串。',"schema.token.fontStyle.none":"无 (清除继承的设置)","schema.properties.name":"规则的描述。","schema.properties.scope":"此规则适用的范围选择器。","schema.workbenchColors":"工作台中的颜色","schema.tokenColors.path":"tmTheme 文件路径(相对于当前文件)。","schema.colors":"语法突出显示颜色","schema.supportsSemanticHighlighting":"是否应为此主题启用语义突出显示。","schema.semanticTokenColors":"语义标记的颜色"},"vs/workbench/services/themes/common/themeExtensionPoints":{"vscode.extension.contributes.themes":"提供 TextMate 颜色主题。","vscode.extension.contributes.themes.id":"用户设置中使用的颜色主题的 ID。","vscode.extension.contributes.themes.label":"显示在 UI 中的颜色主题标签。","vscode.extension.contributes.themes.uiTheme":'用于定义编辑器周围颜色的基本主题: "vs" 是浅色主题，"vs-dark" 是深色主题。"hc-black" 是深色高对比度主题。',"vscode.extension.contributes.themes.path":'tmTheme 文件的路径。该路径相对于扩展文件夹，通常为 "./colorthemes/awesome-color-theme.json"。',"vscode.extension.contributes.iconThemes":"提供文件图标主题。","vscode.extension.contributes.iconThemes.id":"在用户设置中使用的文件图标主题的 ID。","vscode.extension.contributes.iconThemes.label":"文件图标主题的标签，如 UI 所示。","vscode.extension.contributes.iconThemes.path":'文件图标主题定义文件的路径。该路径相对于扩展文件夹，通常为 "./fileicons/awesome-icon-theme.json"。',"vscode.extension.contributes.productIconThemes":"贡献产品图标主题。","vscode.extension.contributes.productIconThemes.id":"用户设置中使用的产品图标主题的 ID。","vscode.extension.contributes.productIconThemes.label":"产品图标主题的标签，如 UI 所示。","vscode.extension.contributes.productIconThemes.path":'产品图标主题定义文件的路径。该路径相对于扩展文件夹，通常为 "./producticons/awesome-product-icon-theme.json"。',reqarray:"扩展点“{0}”必须是数组。 ",reqpath:"“contributes.{0}.path”中应为字符串。提供的值: {1}",reqid:'contributes.{0}.id" 中的预期字符串。提供的值: {1}',"invalid.path.1":"“contributes.{0}.path”({1})应包含在扩展的文件夹({2})内。这可能会使扩展不可移植。"},"vs/workbench/services/themes/common/themeConfiguration":{colorTheme:"指定用在工作台中的颜色主题。",colorThemeError:"主题未知或未安装。",preferredDarkColorTheme:"指定启用了 `#{0}#` 时深色操作系统外观的首选颜色主题。",preferredLightColorTheme:"指定启用了 `#{0}#` 时浅色操作系统外观的首选颜色主题。",preferredHCColorTheme:"指定启用了 `#{0}#` 时在高对比度模式下使用的首选颜色主题。",detectColorScheme:"如果设置，则根据操作系统外观自动切换到首选颜色主题。",workbenchColors:"覆盖当前所选颜色主题的颜色。",iconTheme:'指定工作台中使用的文件图标主题；若指定为 "null"，则不显示任何文件图标。',noIconThemeLabel:"无",noIconThemeDesc:"无文件图标",iconThemeError:"文件图标主题未知或未安装。",productIconTheme:"指定使用的产品图标主题。",defaultProductIconThemeLabel:"默认",defaultProductIconThemeDesc:"默认",productIconThemeError:"产品图标主题未知或未安装。",autoDetectHighContrast:"如果已启用，并且操作系统正在使用高对比度主题，则将自动更改为高对比度主题。","editorColors.comments":"设置注释的颜色和样式","editorColors.strings":"设置字符串文本的颜色和样式","editorColors.keywords":"设置关键字的颜色和样式。","editorColors.numbers":"设置数字的颜色和样式。","editorColors.types":"设置类型定义与引用的颜色和样式。","editorColors.functions":"设置函数定义与引用的颜色和样式。","editorColors.variables":"设置变量定义和引用的颜色和样式。","editorColors.textMateRules":"使用 TextMate 主题规则设置颜色和样式(高级)。","editorColors.semanticHighlighting":"是否应为此主题启用语义突出显示。","editorColors.semanticHighlighting.deprecationMessage":'改为在 "editor.semanticTokenColorCustomizations" 设置中使用 "enabled"。',"editorColors.semanticHighlighting.deprecationMessageMarkdown":"在 `#editor.semanticTokenColorCustomizations#` 设置中改为使用 `enabled`。",editorColors:"替代当前所选颜色主题中的编辑器语法颜色和字形。","editorColors.semanticHighlighting.enabled":"是否对此主题启用或禁用语义突出显示","editorColors.semanticHighlighting.rules":"此主题的语义标记样式规则。",semanticTokenColors:"从当前所选颜色主题重写编辑器语义标记颜色和样式。","editorColors.experimentalTokenStyling.deprecationMessage":'改为使用 "editor.semanticTokenColorCustomizations"。',"editorColors.experimentalTokenStyling.deprecationMessageMarkdown":"改为使用 `#editor.semanticTokenColorCustomizations#`。"},"vs/workbench/services/themes/browser/productIconThemeData":{"error.parseicondefs":"处理 {0} 中的产品图标定义时出现问题:\r\n{1}",defaultTheme:"默认值","error.cannotparseicontheme":"分析产品图标文件时出现问题: {0}","error.invalidformat":"产品图标主题文件的格式无效: 应为对象。","error.missingProperties":"产品图标主题文件的格式无效: 必须包含图标定义和字体。","error.fontWeight":"字体“{0}”中的字体粗细无效。将忽略设置。","error.fontStyle":"字体“{0}”中的字体样式无效。将忽略设置。","error.fontId":"字体 ID“{0}”缺失或无效。将跳过字体定义。","error.icon.fontId":"正在跳过图标定义“{0}”。未知的字体。","error.icon.fontCharacter":"正在跳过图标定义“{0}”。未知的 fontCharacter。"},"vs/workbench/services/themes/common/productIconThemeSchema":{"schema.id":"字体的 ID。","schema.id.formatError":"ID 必须仅包含字母、数字、下划线和减号。","schema.src":"字体的位置。","schema.font-path":"相对于当前产品图标主题文件的字体路径。","schema.font-format":"字体的格式。","schema.font-weight":"字体的粗细。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-weight。","schema.font-style":"字体的样式。要了解有效值，请参阅 https://developer.mozilla.org/zh-cn/docs/Web/CSS/font-style。","schema.iconDefinitions":"字体字符的图标名称的关联。"},"vs/workbench/services/userDataSync/common/userDataSync":{settings:"设置",keybindings:"键盘快捷方式",snippets:"用户代码片段",extensions:"扩展","ui state label":"UI 状态","sync category":"设置同步",syncViewIcon:"查看设置同步视图的图标。"},"vs/workbench/services/userDataSync/browser/userDataSyncWorkbenchService":{"no authentication providers":"没有可用的身份验证提供程序，因此无法启用设置同步。","no account":"没有可用的帐户。","show log":"显示日志","sync turned on":"{0} 已启用","sync in progress":"正在启用设置同步。是否要取消它?","settings sync":"设置同步",yes:"是(&&Y)",no:"否(&&N)","turning on":"正在打开…","syncing resource":"正在同步 {0}…","conflicts detected":"检测到冲突","merge Manually":"手动合并…",resolve:"因存在冲突而无法合并。请手动合并以继续...","merge or replace":"合并或替换",merge:"合并","replace local":"替换本地",cancel:"取消","first time sync detail":"你上次似乎是从另一台计算机同步的。\r\n是要合并还是替换云中的数据?",reset:"这将清除云中的数据，并在所有设备上停止同步。","reset title":"清除",resetButton:"重置(&&R)","choose account placeholder":"选择要登录的帐户","signed in":"已登录","last used":"上次使用时同步",others:"其他","sign in using account":"使用 {0} 登录","successive auth failures":"后续授权失败，因此已暂停设置同步。若要继续同步，请重新登录","sign in":"登录"},"vs/workbench/services/views/browser/viewDescriptorService":{resetViewLocation:"重置位置"},"vs/workbench/services/workingCopy/common/workingCopyFileOperationParticipant":{"msg-create":'正在运行"文件创建"参与者...',"msg-rename":'正在运行"文件重命名"参与者...',"msg-copy":"正在运行“文件复制”参与者…","msg-delete":'正在运行"文件删除"参与者...'},"vs/workbench/services/workspaces/electron-sandbox/workspaceEditingService":{save:"保存",doNotSave:"不保存",cancel:"取消",saveWorkspaceMessage:"你是否要将你的工作区配置保存为文件?",saveWorkspaceDetail:"若要再次打开此工作区，请先保存。",workspaceOpenedMessage:"无法保存工作区“{0}”",ok:"确定",workspaceOpenedDetail:"已在另一个窗口打开工作区。请先关闭该窗口，然后重试。"},"vs/workbench/services/workspaces/browser/abstractWorkspaceEditingService":{save:"保存",saveWorkspace:"保存工作区",errorInvalidTaskConfiguration:"无法写入工作区配置文件。请打开文件以更正错误或警告，然后重试。",errorWorkspaceConfigurationFileDirty:"文件已变更，因此无法写入工作区配置文件。请先保存此文件，然后重试。",openWorkspaceConfigurationFile:"打开工作区配置"}})[t]||{})[o];s||(s=n);for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return e(s,r)}const i=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function n(e){r(e)||i.onUnexpectedError(e)}function o(e){r(e)||i.onUnexpectedExternalError(e)}function s(e){if(e instanceof Error){let{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack}}return e}function r(e){return e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message}function a(){const e=new Error("Canceled");return e.name=e.message,e}function l(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}class d extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}function c(e){const t=this;let i,n=!1;return function(){return n||(n=!0,i=e.apply(t,arguments)),i}}var h,u;!function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.find=function(e,t){for(const i of e)if(t(i))return i},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){let i=0;for(const n of e)yield t(n,i++)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.concatNested=function*(e){for(const t of e)for(const e of t)yield e},e.reduce=function(e,t,i){let n=i;for(const o of e)n=t(n,o);return n},e.slice=function*(e,t,i=e.length){for(t<0&&(t+=e.length),i<0?i+=e.length:i>e.length&&(i=e.length);t<i;t++)yield e[t]},e.consume=function(t,i=Number.POSITIVE_INFINITY){const n=[];if(0===i)return[n,t];const o=t[Symbol.iterator]();for(let s=0;s<i;s++){const t=o.next();if(t.done)return[n,e.empty()];n.push(t.value)}return[n,{[Symbol.iterator]:()=>o}]},e.equals=function(e,t,i=((e,t)=>e===t)){const n=e[Symbol.iterator](),o=t[Symbol.iterator]();for(;;){const e=n.next(),t=o.next();if(e.done!==t.done)return!1;if(e.done)return!0;if(!i(e.value,t.value))return!1}}}(h||(h={}));class g extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function m(e){return"function"==typeof e.dispose&&0===e.dispose.length}function p(e){if(h.is(e)){let i=[];for(const n of e)if(n)try{n.dispose()}catch(t){i.push(t)}if(1===i.length)throw i[0];if(i.length>1)throw new g(i);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function f(...e){return _((()=>p(e)))}function _(e){return{dispose:c((()=>{e()}))}}class b{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{p(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?b.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}b.DISABLE_DISPOSED_WARNING=!1;class v{constructor(){this._store=new b,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}v.None=Object.freeze({dispose(){}});class w{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class C{constructor(e){this.object=e}dispose(){}}class y{constructor(e){this.element=e,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class S{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let e=this._first;for(;e!==y.Undefined;){const t=e.next;e.prev=y.Undefined,e.next=y.Undefined,e=t}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new y(e);if(this._first===y.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==y.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==y.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==y.Undefined&&e.next!==y.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===y.Undefined&&e.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):e.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):e.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==y.Undefined;)yield e.element,e=e.next}}let k,x,L,D=!1,E=!1,N=!1,I=!1,T=!1,M=!1,A="en";const R="object"==typeof self?self:"object"==typeof global?global:{};let O;void 0!==R.vscode&&void 0!==R.vscode.process?O=R.vscode.process:"undefined"!=typeof process&&(O=process);const P="string"==typeof(null===(u=null==O?void 0:O.versions)||void 0===u?void 0:u.electron)&&"renderer"===O.type;if("object"!=typeof navigator||P)if("object"==typeof O){D="win32"===O.platform,E="darwin"===O.platform,N="linux"===O.platform,N&&O.env.SNAP&&O.env.SNAP_REVISION,k="en",A="en";const e=O.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),i=t.availableLanguages["*"];k=t.locale,A=i||"en",x=t._translationsConfigFile}catch(G1){}I=!0}else console.error("Unable to resolve platform.");else L=navigator.userAgent,D=L.indexOf("Windows")>=0,E=L.indexOf("Macintosh")>=0,M=(L.indexOf("Macintosh")>=0||L.indexOf("iPad")>=0||L.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,N=L.indexOf("Linux")>=0,T=!0,k=navigator.language,A=k;const F=D,B=E,W=N,V=I,H=T,z=M,U=L,K=function(){if(R.setImmediate)return R.setImmediate.bind(R);if("function"==typeof R.postMessage&&!R.importScripts){let e=[];R.addEventListener("message",(t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeSetImmediateId)return e.splice(i,1),void n.callback()}}));let t=0;return i=>{const n=++t;e.push({id:n,callback:i}),R.postMessage({vscodeSetImmediateId:n},"*")}}if("function"==typeof(null==O?void 0:O.nextTick))return O.nextTick.bind(O);const e=Promise.resolve();return t=>e.then(t)}(),j=E||M?2:D?1:3;let $=!0,q=!1;function G(){if(!q){q=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);$=513===t[0]}return $}const Z=R.performance&&"function"==typeof R.performance.now;class J{constructor(e){this._highResolution=Z&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new J(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?R.performance.now():Date.now()}}var Q;!function(e){function t(e){return(t,i=null,n)=>{let o,s=!1;return o=e((e=>{if(!s)return o?o.dispose():s=!0,t.call(i,e)}),null,n),s&&o.dispose(),o}}function i(e,t){return r(((i,n=null,o)=>e((e=>i.call(n,t(e))),null,o)))}function n(e,t){return r(((i,n=null,o)=>e((e=>{t(e),i.call(n,e)}),null,o)))}function o(e,t){return r(((i,n=null,o)=>e((e=>t(e)&&i.call(n,e)),null,o)))}function s(e,t,n){let o=n;return i(e,(e=>(o=t(o,e),o)))}function r(e){let t;const i=new X({onFirstListenerAdd(){t=e(i.fire,i)},onLastListenerRemove(){t.dispose()}});return i.event}function a(e,t,i=100,n=!1,o){let s,r,a,l=0;const d=new X({leakWarningThreshold:o,onFirstListenerAdd(){s=e((e=>{l++,r=t(r,e),n&&!a&&(d.fire(r),r=void 0),clearTimeout(a),a=setTimeout((()=>{const e=r;r=void 0,a=void 0,(!n||l>1)&&d.fire(e),l=0}),i)}))},onLastListenerRemove(){s.dispose()}});return d.event}function l(e,t=((e,t)=>e===t)){let i,n=!0;return o(e,(e=>{const o=n||!t(e,i);return n=!1,i=e,o}))}e.None=()=>v.None,e.once=t,e.map=i,e.forEach=n,e.filter=o,e.signal=function(e){return e},e.any=function(...e){return(t,i=null,n)=>f(...e.map((e=>e((e=>t.call(i,e)),null,n))))},e.reduce=s,e.debounce=a,e.latch=l,e.split=function(t,i){return[e.filter(t,i),e.filter(t,(e=>!i(e)))]},e.buffer=function(e,t=!1,i=[]){let n=i.slice(),o=e((e=>{n?n.push(e):r.fire(e)}));const s=()=>{n&&n.forEach((e=>r.fire(e))),n=null},r=new X({onFirstListenerAdd(){o||(o=e((e=>r.fire(e))))},onFirstListenerDidAdd(){n&&(t?setTimeout(s):s())},onLastListenerRemove(){o&&o.dispose(),o=null}});return r.event};class d{constructor(e){this.event=e}map(e){return new d(i(this.event,e))}forEach(e){return new d(n(this.event,e))}filter(e){return new d(o(this.event,e))}reduce(e,t){return new d(s(this.event,e,t))}latch(){return new d(l(this.event))}debounce(e,t=100,i=!1,n){return new d(a(this.event,e,t,i,n))}on(e,t,i){return this.event(e,t,i)}once(e,i,n){return t(this.event)(e,i,n)}}e.chain=function(e){return new d(e)},e.fromNodeEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new X({onFirstListenerAdd:()=>e.on(t,n),onLastListenerRemove:()=>e.removeListener(t,n)});return o.event},e.fromDOMEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new X({onFirstListenerAdd:()=>e.addEventListener(t,n),onLastListenerRemove:()=>e.removeEventListener(t,n)});return o.event},e.toPromise=function(e){return new Promise((i=>t(e)(i)))}}(Q||(Q={}));class Y{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${Y._idPool++}`}start(e){this._stopWatch=new J(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}Y._idPool=0;class X{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=(null===(t=this._options)||void 0===t?void 0:t._profName)?new Y(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,i)=>{var n;this._listeners||(this._listeners=new S);const o=this._listeners.isEmpty();o&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const s=this._listeners.push(t?[e,t]:e);o&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const r=null===(n=this._leakageMon)||void 0===n?void 0:n.check(this._listeners.size),a=_((()=>{if(r&&r(),!this._disposed&&(s(),this._options&&this._options.onLastListenerRemove)){this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)}}));return i instanceof b?i.add(a):Array.isArray(i)&&i.push(a),a}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new S);for(let t of this._listeners)this._deliveryQueue.push([t,e]);for(null===(t=this._perfMon)||void 0===t||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(G1){n(G1)}}null===(i=this._perfMon)||void 0===i||i.stop()}}dispose(){var e,t,i,n,o;this._disposed||(this._disposed=!0,null===(e=this._listeners)||void 0===e||e.clear(),null===(t=this._deliveryQueue)||void 0===t||t.clear(),null===(n=null===(i=this._options)||void 0===i?void 0:i.onLastListenerRemove)||void 0===n||n.call(i),null===(o=this._leakageMon)||void 0===o||o.dispose())}}class ee extends X{constructor(e){super(e),this._isPaused=0,this._eventQueue=new S,this._mergeFn=null==e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class te extends ee{constructor(e){var t;super(e),this._delay=null!==(t=e.delay)&&void 0!==t?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(e)}}class ie{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e((e=>{const n=this.buffers[this.buffers.length-1];n?n.push((()=>t.call(i,e))):t.call(i,e)}),void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach((e=>e())),i}}class ne{constructor(){this.listening=!1,this.inputEvent=Q.None,this.inputEventListener=v.None,this.emitter=new X({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}class oe{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new X,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function se(){return oe.INSTANCE.getZoomLevel()}function re(e){return oe.INSTANCE.onDidChangeZoomLevel(e)}function ae(){return oe.INSTANCE.getPixelRatio()}oe.INSTANCE=new oe;const le=navigator.userAgent,de=le.indexOf("Firefox")>=0,ce=le.indexOf("AppleWebKit")>=0,he=le.indexOf("Chrome")>=0,ue=!he&&le.indexOf("Safari")>=0,ge=!he&&!ue&&ce,me=le.indexOf("Android")>=0,pe=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches;function fe(e){return Array.isArray(e)}function _e(e){return"string"==typeof e}function be(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function ve(e){return"number"==typeof e&&!isNaN(e)}function we(e){return!0===e||!1===e}function Ce(e){return void 0===e}function ye(e){return!Se(e)}function Se(e){return Ce(e)||null===e}function ke(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function xe(e){if(Se(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function Le(e){return"function"==typeof e}function De(e,t){if(_e(t)){if(typeof e!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(Le(t)){try{if(e instanceof t)return}catch(i){}if(!Se(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Ee(e){const t=[];for(const i of function(e){let t=[],i=Object.getPrototypeOf(e);for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}(e))"function"==typeof e[i]&&t.push(i);return t}function Ne(e){return null===e?void 0:e}V||document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator&&navigator.clipboard&&navigator.clipboard.writeText,V||navigator&&navigator.clipboard&&navigator.clipboard.readText,V||pe||navigator.keyboard,"ontouchstart"in window||navigator.maxTouchPoints;const Ie=window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0);class Te{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const Me=new Te,Ae=new Te,Re=new Te,Oe=new Array(230),Pe={},Fe=[],Be=Object.create(null),We=Object.create(null),Ve=[],He=[];for(let Z1=0;Z1<=193;Z1++)Ve[Z1]=-1;for(let Z1=0;Z1<=126;Z1++)He[Z1]=-1;var ze,Ue;function Ke(e,t){return(e|(65535&t)<<16>>>0)>>>0}function je(e,t){if(0===e)return null;const i=(65535&e)>>>0,n=(4294901760&e)>>>16;return new Ge(0!==n?[$e(i,t),$e(n,t)]:[$e(i,t)])}function $e(e,t){const i=!!(2048&e),n=!!(256&e);return new qe(2===t?n:i,!!(1024&e),!!(512&e),2===t?i:n,255&e)}!function(){const e="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[0,1,1,"Hyper",0,e,0,e,e,e],[0,1,2,"Super",0,e,0,e,e,e],[0,1,3,"Fn",0,e,0,e,e,e],[0,1,4,"FnLock",0,e,0,e,e,e],[0,1,5,"Suspend",0,e,0,e,e,e],[0,1,6,"Resume",0,e,0,e,e,e],[0,1,7,"Turbo",0,e,0,e,e,e],[0,1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[0,1,9,"WakeUp",0,e,0,e,e,e],[31,0,10,"KeyA",31,"A",65,"VK_A",e,e],[32,0,11,"KeyB",32,"B",66,"VK_B",e,e],[33,0,12,"KeyC",33,"C",67,"VK_C",e,e],[34,0,13,"KeyD",34,"D",68,"VK_D",e,e],[35,0,14,"KeyE",35,"E",69,"VK_E",e,e],[36,0,15,"KeyF",36,"F",70,"VK_F",e,e],[37,0,16,"KeyG",37,"G",71,"VK_G",e,e],[38,0,17,"KeyH",38,"H",72,"VK_H",e,e],[39,0,18,"KeyI",39,"I",73,"VK_I",e,e],[40,0,19,"KeyJ",40,"J",74,"VK_J",e,e],[41,0,20,"KeyK",41,"K",75,"VK_K",e,e],[42,0,21,"KeyL",42,"L",76,"VK_L",e,e],[43,0,22,"KeyM",43,"M",77,"VK_M",e,e],[44,0,23,"KeyN",44,"N",78,"VK_N",e,e],[45,0,24,"KeyO",45,"O",79,"VK_O",e,e],[46,0,25,"KeyP",46,"P",80,"VK_P",e,e],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[48,0,27,"KeyR",48,"R",82,"VK_R",e,e],[49,0,28,"KeyS",49,"S",83,"VK_S",e,e],[50,0,29,"KeyT",50,"T",84,"VK_T",e,e],[51,0,30,"KeyU",51,"U",85,"VK_U",e,e],[52,0,31,"KeyV",52,"V",86,"VK_V",e,e],[53,0,32,"KeyW",53,"W",87,"VK_W",e,e],[54,0,33,"KeyX",54,"X",88,"VK_X",e,e],[55,0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[22,0,36,"Digit1",22,"1",49,"VK_1",e,e],[23,0,37,"Digit2",23,"2",50,"VK_2",e,e],[24,0,38,"Digit3",24,"3",51,"VK_3",e,e],[25,0,39,"Digit4",25,"4",52,"VK_4",e,e],[26,0,40,"Digit5",26,"5",53,"VK_5",e,e],[27,0,41,"Digit6",27,"6",54,"VK_6",e,e],[28,0,42,"Digit7",28,"7",55,"VK_7",e,e],[29,0,43,"Digit8",29,"8",56,"VK_8",e,e],[30,0,44,"Digit9",30,"9",57,"VK_9",e,e],[21,0,45,"Digit0",21,"0",48,"VK_0",e,e],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[10,1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,e,0,e,e,e],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[59,1,64,"F1",59,"F1",112,"VK_F1",e,e],[60,1,65,"F2",60,"F2",113,"VK_F2",e,e],[61,1,66,"F3",61,"F3",114,"VK_F3",e,e],[62,1,67,"F4",62,"F4",115,"VK_F4",e,e],[63,1,68,"F5",63,"F5",116,"VK_F5",e,e],[64,1,69,"F6",64,"F6",117,"VK_F6",e,e],[65,1,70,"F7",65,"F7",118,"VK_F7",e,e],[66,1,71,"F8",66,"F8",119,"VK_F8",e,e],[67,1,72,"F9",67,"F9",120,"VK_F9",e,e],[68,1,73,"F10",68,"F10",121,"VK_F10",e,e],[69,1,74,"F11",69,"F11",122,"VK_F11",e,e],[70,1,75,"F12",70,"F12",123,"VK_F12",e,e],[0,1,76,"PrintScreen",0,e,0,e,e,e],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",e,e],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[14,1,80,"Home",14,"Home",36,"VK_HOME",e,e],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[13,1,83,"End",13,"End",35,"VK_END",e,e],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",e,e],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",e,e],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",e,e],[3,1,94,"NumpadEnter",3,e,0,e,e,e],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",e,e],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",e,e],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",e,e],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",e,e],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",e,e],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",e,e],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",e,e],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",e,e],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",e,e],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",e,e],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",e,e],[58,1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[0,1,108,"Power",0,e,0,e,e,e],[0,1,109,"NumpadEqual",0,e,0,e,e,e],[71,1,110,"F13",71,"F13",124,"VK_F13",e,e],[72,1,111,"F14",72,"F14",125,"VK_F14",e,e],[73,1,112,"F15",73,"F15",126,"VK_F15",e,e],[74,1,113,"F16",74,"F16",127,"VK_F16",e,e],[75,1,114,"F17",75,"F17",128,"VK_F17",e,e],[76,1,115,"F18",76,"F18",129,"VK_F18",e,e],[77,1,116,"F19",77,"F19",130,"VK_F19",e,e],[0,1,117,"F20",0,e,0,"VK_F20",e,e],[0,1,118,"F21",0,e,0,"VK_F21",e,e],[0,1,119,"F22",0,e,0,"VK_F22",e,e],[0,1,120,"F23",0,e,0,"VK_F23",e,e],[0,1,121,"F24",0,e,0,"VK_F24",e,e],[0,1,122,"Open",0,e,0,e,e,e],[0,1,123,"Help",0,e,0,e,e,e],[0,1,124,"Select",0,e,0,e,e,e],[0,1,125,"Again",0,e,0,e,e,e],[0,1,126,"Undo",0,e,0,e,e,e],[0,1,127,"Cut",0,e,0,e,e,e],[0,1,128,"Copy",0,e,0,e,e,e],[0,1,129,"Paste",0,e,0,e,e,e],[0,1,130,"Find",0,e,0,e,e,e],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",e,e],[0,1,136,"KanaMode",0,e,0,e,e,e],[0,0,137,"IntlYen",0,e,0,e,e,e],[0,1,138,"Convert",0,e,0,e,e,e],[0,1,139,"NonConvert",0,e,0,e,e,e],[0,1,140,"Lang1",0,e,0,e,e,e],[0,1,141,"Lang2",0,e,0,e,e,e],[0,1,142,"Lang3",0,e,0,e,e,e],[0,1,143,"Lang4",0,e,0,e,e,e],[0,1,144,"Lang5",0,e,0,e,e,e],[0,1,145,"Abort",0,e,0,e,e,e],[0,1,146,"Props",0,e,0,e,e,e],[0,1,147,"NumpadParenLeft",0,e,0,e,e,e],[0,1,148,"NumpadParenRight",0,e,0,e,e,e],[0,1,149,"NumpadBackspace",0,e,0,e,e,e],[0,1,150,"NumpadMemoryStore",0,e,0,e,e,e],[0,1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[0,1,152,"NumpadMemoryClear",0,e,0,e,e,e],[0,1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[0,1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[0,1,155,"NumpadClear",0,e,0,e,e,e],[0,1,156,"NumpadClearEntry",0,e,0,e,e,e],[5,1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[4,1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[6,1,0,e,6,"Alt",18,"VK_MENU",e,e],[57,1,0,e,57,"Meta",0,"VK_COMMAND",e,e],[5,1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[4,1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[6,1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[57,1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[5,1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[4,1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[6,1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[57,1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[0,1,165,"BrightnessUp",0,e,0,e,e,e],[0,1,166,"BrightnessDown",0,e,0,e,e,e],[0,1,167,"MediaPlay",0,e,0,e,e,e],[0,1,168,"MediaRecord",0,e,0,e,e,e],[0,1,169,"MediaFastForward",0,e,0,e,e,e],[0,1,170,"MediaRewind",0,e,0,e,e,e],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",e,e],[0,1,174,"Eject",0,e,0,e,e,e],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[0,1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[0,1,180,"SelectTask",0,e,0,e,e,e],[0,1,181,"LaunchScreenSaver",0,e,0,e,e,e],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[0,1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[0,1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[0,1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[0,1,189,"ZoomToggle",0,e,0,e,e,e],[0,1,190,"MailReply",0,e,0,e,e,e],[0,1,191,"MailForward",0,e,0,e,e,e],[0,1,192,"MailSend",0,e,0,e,e,e],[109,1,0,e,109,"KeyInComposition",229,e,e,e],[111,1,0,e,111,"ABNT_C2",194,"VK_ABNT_C2",e,e],[91,1,0,e,91,"OEM_8",223,"VK_OEM_8",e,e],[0,1,0,e,0,e,0,"VK_CLEAR",e,e],[0,1,0,e,0,e,0,"VK_KANA",e,e],[0,1,0,e,0,e,0,"VK_HANGUL",e,e],[0,1,0,e,0,e,0,"VK_JUNJA",e,e],[0,1,0,e,0,e,0,"VK_FINAL",e,e],[0,1,0,e,0,e,0,"VK_HANJA",e,e],[0,1,0,e,0,e,0,"VK_KANJI",e,e],[0,1,0,e,0,e,0,"VK_CONVERT",e,e],[0,1,0,e,0,e,0,"VK_NONCONVERT",e,e],[0,1,0,e,0,e,0,"VK_ACCEPT",e,e],[0,1,0,e,0,e,0,"VK_MODECHANGE",e,e],[0,1,0,e,0,e,0,"VK_SELECT",e,e],[0,1,0,e,0,e,0,"VK_PRINT",e,e],[0,1,0,e,0,e,0,"VK_EXECUTE",e,e],[0,1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[0,1,0,e,0,e,0,"VK_HELP",e,e],[0,1,0,e,0,e,0,"VK_APPS",e,e],[0,1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[0,1,0,e,0,e,0,"VK_PACKET",e,e],[0,1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_ATTN",e,e],[0,1,0,e,0,e,0,"VK_CRSEL",e,e],[0,1,0,e,0,e,0,"VK_EXSEL",e,e],[0,1,0,e,0,e,0,"VK_EREOF",e,e],[0,1,0,e,0,e,0,"VK_PLAY",e,e],[0,1,0,e,0,e,0,"VK_ZOOM",e,e],[0,1,0,e,0,e,0,"VK_NONAME",e,e],[0,1,0,e,0,e,0,"VK_PA1",e,e],[0,1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]];let i=[],n=[];for(const o of t){const[e,t,s,r,a,l,d,c,h,u]=o;if(n[s]||(n[s]=!0,Fe[s]=r,Be[r]=s,We[r.toLowerCase()]=s,t&&(Ve[s]=a,0!==a&&3!==a&&5!==a&&4!==a&&6!==a&&57!==a&&(He[a]=s))),!i[a]){if(i[a]=!0,!l)throw new Error(`String representation missing for key code ${a} around scan code ${r}`);Me.define(a,l),Ae.define(a,h||l),Re.define(a,u||h||l)}d&&(Oe[d]=a),c&&(Pe[c]=a)}He[3]=46}(),(Ue=ze||(ze={})).toString=function(e){return Me.keyCodeToStr(e)},Ue.fromString=function(e){return Me.strToKeyCode(e)},Ue.toUserSettingsUS=function(e){return Ae.keyCodeToStr(e)},Ue.toUserSettingsGeneral=function(e){return Re.keyCodeToStr(e)},Ue.fromUserSettings=function(e){return Ae.strToKeyCode(e)||Re.strToKeyCode(e)},Ue.toElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Me.keyCodeToStr(e)};class qe{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new Ge([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class Ge{constructor(e){if(0===e.length)throw l("parts");this.parts=e}}class Ze{constructor(e,t,i,n,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=s}}const Je=B?256:2048,Qe=B?2048:256;class Ye{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return ze.fromString(t)}const t=e.keyCode;if(3===t)return 7;if(de){if(59===t)return 80;if(107===t)return 81;if(109===t)return 83;if(B&&224===t)return 57}else if(ce){if(91===t)return 57;if(B&&93===t)return 57;if(!B&&92===t)return 57}return Oe[t]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Je),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=Qe),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new qe(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let Xe=!1,et=null;function tt(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&t.origin!==i.origin)return Xe=!0,null}catch(G1){return Xe=!0,null}return e.parent}class it{static getSameOriginWindowChain(){if(!et){et=[];let e,t=window;do{e=tt(t),e?et.push({window:t,iframeElement:t.frameElement||null}):et.push({window:t,iframeElement:null}),t=e}while(t)}return et.slice(0)}static hasDifferentOriginAncestor(){return et||this.getSameOriginWindowChain(),Xe}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,o=this.getSameOriginWindowChain();for(const s of o){if(i+=s.window.scrollY,n+=s.window.scrollX,s.window===t)break;if(!s.iframeElement)break;let e=s.iframeElement.getBoundingClientRect();i+=e.top,n+=e.left}return{top:i,left:n}}}class nt{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=it.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class ot{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let t=e,i=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==i.VERTICAL_AXIS&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaY=de&&!B?-e.deltaY/3:-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)this.deltaX=ue&&F?-t.wheelDeltaX/120:t.wheelDeltaX/120;else if(void 0!==i.HORIZONTAL_AXIS&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaX=de&&!B?-e.deltaX/3:-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}const st=Object.freeze((function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}}));var rt,at;(at=rt||(rt={})).isCancellationToken=function(e){return e===at.None||e===at.Cancelled||e instanceof lt||!(!e||"object"!=typeof e)&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},at.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Q.None}),at.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:st});class lt{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?st:(this._emitter||(this._emitter=new X),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class dt{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new lt),this._token}cancel(){this._token?this._token instanceof lt&&this._token.cancel():this._token=rt.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof lt&&this._token.dispose():this._token=rt.None}}var ct=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function ht(e){const t=new dt,i=e(t.token),n=new Promise(((e,n)=>{const o=t.token.onCancellationRequested((()=>{o.dispose(),t.dispose(),n(a())}));Promise.resolve(i).then((i=>{o.dispose(),t.dispose(),e(i)}),(e=>{o.dispose(),t.dispose(),n(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return n.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return n.finally(e)}}}function ut(e,t,i){return Promise.race([e,new Promise((e=>t.onCancellationRequested((()=>e(i)))))])}class gt{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{this.queuedPromise=null;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((t=>{this.activePromise.then(e,e).then(t)}))}return new Promise(((e,t)=>{this.queuedPromise.then(e,t)}))}return this.activePromise=e(),new Promise(((e,t)=>{this.activePromise.then((t=>{this.activePromise=null,e(t)}),(e=>{this.activePromise=null,t(e)}))}))}}class mt{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}}))),this.timeout=setTimeout((()=>{this.timeout=null,this.doResolve&&this.doResolve(null)}),t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(a()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class pt{constructor(e){this.delayer=new mt(e),this.throttler=new gt}trigger(e,t){return this.delayer.trigger((()=>this.throttler.queue(e)),t)}dispose(){this.delayer.dispose()}}function ft(e,t){return t?new Promise(((i,n)=>{const o=setTimeout((()=>{s.dispose(),i()}),e),s=t.onCancellationRequested((()=>{clearTimeout(o),s.dispose(),n(a())}))})):ht((t=>ft(e,t)))}function _t(e,t=0){const i=setTimeout(e,t);return _((()=>clearTimeout(i)))}function bt(e,t=(e=>!!e),i=null){let n=0;const o=e.length,s=()=>{if(n>=o)return Promise.resolve(i);const r=e[n++];return Promise.resolve(r()).then((e=>t(e)?Promise.resolve(e):s()))};return s()}class vt{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class wt{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval((()=>{e()}),t)}}class Ct{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let yt;yt="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?e=>{const t=setTimeout((()=>{const t=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,t-Date.now())}))}));let i=!1;return{dispose(){i||(i=!0,clearTimeout(t))}}}:(e,t)=>{const i=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}};class St{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=yt((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}var kt,xt;let Lt;if((xt=kt||(kt={})).settled=function(e){return ct(this,void 0,void 0,(function*(){let t;const i=yield Promise.all(e.map((e=>e.then((e=>e),(e=>{t||(t=e)})))));if(void 0!==t)throw t;return i}))},xt.withAsyncBody=function(e){return new Promise(((t,i)=>ct(this,void 0,void 0,(function*(){try{yield e(t,i)}catch(n){i(n)}}))))},void 0!==R.vscode&&void 0!==R.vscode.process){const e=R.vscode.process;Lt={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd(),nextTick:e=>K(e)}}else Lt="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd(),nextTick:e=>process.nextTick(e)}:{get platform(){return F?"win32":B?"darwin":"linux"},get arch(){},nextTick:e=>K(e),get env(){return{}},cwd:()=>"/"};const Dt=Lt.cwd,Et=Lt.env,Nt=Lt.platform;class It extends Error{constructor(e,t,i){let n;"string"==typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=-1!==e.indexOf(".")?"property":"argument";let s=`The "${e}" ${o} ${n} of type ${t}`;s+=". Received type "+typeof i,super(s),this.code="ERR_INVALID_ARG_TYPE"}}function Tt(e,t){if("string"!=typeof e)throw new It(t,"string",e)}function Mt(e){return 47===e||92===e}function At(e){return 47===e}function Rt(e){return e>=65&&e<=90||e>=97&&e<=122}function Ot(e,t,i,n){let o="",s=0,r=-1,a=0,l=0;for(let d=0;d<=e.length;++d){if(d<e.length)l=e.charCodeAt(d);else{if(n(l))break;l=47}if(n(l)){if(r===d-1||1===a);else if(2===a){if(o.length<2||2!==s||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2)){if(o.length>2){const e=o.lastIndexOf(i);-1===e?(o="",s=0):(o=o.slice(0,e),s=o.length-1-o.lastIndexOf(i)),r=d,a=0;continue}if(0!==o.length){o="",s=0,r=d,a=0;continue}}t&&(o+=o.length>0?`${i}..`:"..",s=2)}else o.length>0?o+=`${i}${e.slice(r+1,d)}`:o=e.slice(r+1,d),s=d-r-1;r=d,a=0}else 46===l&&-1!==a?++a:a=-1}return o}function Pt(e,t){if(null===t||"object"!=typeof t)throw new It("pathObject","Object",t);const i=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${n}`:`${i}${e}${n}`:n}const Ft={resolve(...e){let t="",i="",n=!1;for(let o=e.length-1;o>=-1;o--){let s;if(o>=0){if(s=e[o],Tt(s,"path"),0===s.length)continue}else 0===t.length?s=Dt():(s=Et[`=${t}`]||Dt(),(void 0===s||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&92===s.charCodeAt(2))&&(s=`${t}\\`));const r=s.length;let a=0,l="",d=!1;const c=s.charCodeAt(0);if(1===r)Mt(c)&&(a=1,d=!0);else if(Mt(c))if(d=!0,Mt(s.charCodeAt(1))){let e=2,t=e;for(;e<r&&!Mt(s.charCodeAt(e));)e++;if(e<r&&e!==t){const i=s.slice(t,e);for(t=e;e<r&&Mt(s.charCodeAt(e));)e++;if(e<r&&e!==t){for(t=e;e<r&&!Mt(s.charCodeAt(e));)e++;e!==r&&e===t||(l=`\\\\${i}\\${s.slice(t,e)}`,a=e)}}}else a=1;else Rt(c)&&58===s.charCodeAt(1)&&(l=s.slice(0,2),a=2,r>2&&Mt(s.charCodeAt(2))&&(d=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(n){if(t.length>0)break}else if(i=`${s.slice(a)}\\${i}`,n=d,d&&t.length>0)break}return i=Ot(i,!n,"\\",Mt),n?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){Tt(e,"path");const t=e.length;if(0===t)return".";let i,n=0,o=!1;const s=e.charCodeAt(0);if(1===t)return At(s)?"\\":e;if(Mt(s))if(o=!0,Mt(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!Mt(e.charCodeAt(o));)o++;if(o<t&&o!==s){const r=e.slice(s,o);for(s=o;o<t&&Mt(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!Mt(e.charCodeAt(o));)o++;if(o===t)return`\\\\${r}\\${e.slice(s)}\\`;o!==s&&(i=`\\\\${r}\\${e.slice(s,o)}`,n=o)}}}else n=1;else Rt(s)&&58===e.charCodeAt(1)&&(i=e.slice(0,2),n=2,t>2&&Mt(e.charCodeAt(2))&&(o=!0,n=3));let r=n<t?Ot(e.slice(n),!o,"\\",Mt):"";return 0!==r.length||o||(r="."),r.length>0&&Mt(e.charCodeAt(t-1))&&(r+="\\"),void 0===i?o?`\\${r}`:r:o?`${i}\\${r}`:`${i}${r}`},isAbsolute(e){Tt(e,"path");const t=e.length;if(0===t)return!1;const i=e.charCodeAt(0);return Mt(i)||t>2&&Rt(i)&&58===e.charCodeAt(1)&&Mt(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,i;for(let s=0;s<e.length;++s){const n=e[s];Tt(n,"path"),n.length>0&&(void 0===t?t=i=n:t+=`\\${n}`)}if(void 0===t)return".";let n=!0,o=0;if("string"==typeof i&&Mt(i.charCodeAt(0))){++o;const e=i.length;e>1&&Mt(i.charCodeAt(1))&&(++o,e>2&&(Mt(i.charCodeAt(2))?++o:n=!1))}if(n){for(;o<t.length&&Mt(t.charCodeAt(o));)o++;o>=2&&(t=`\\${t.slice(o)}`)}return Ft.normalize(t)},relative(e,t){if(Tt(e,"from"),Tt(t,"to"),e===t)return"";const i=Ft.resolve(e),n=Ft.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let o=0;for(;o<e.length&&92===e.charCodeAt(o);)o++;let s=e.length;for(;s-1>o&&92===e.charCodeAt(s-1);)s--;const r=s-o;let a=0;for(;a<t.length&&92===t.charCodeAt(a);)a++;let l=t.length;for(;l-1>a&&92===t.charCodeAt(l-1);)l--;const d=l-a,c=r<d?r:d;let h=-1,u=0;for(;u<c;u++){const i=e.charCodeAt(o+u);if(i!==t.charCodeAt(a+u))break;92===i&&(h=u)}if(u!==c){if(-1===h)return n}else{if(d>c){if(92===t.charCodeAt(a+u))return n.slice(a+u+1);if(2===u)return n.slice(a+u)}r>c&&(92===e.charCodeAt(o+u)?h=u:2===u&&(h=3)),-1===h&&(h=0)}let g="";for(u=o+h+1;u<=s;++u)u!==s&&92!==e.charCodeAt(u)||(g+=0===g.length?"..":"\\..");return a+=h,g.length>0?`${g}${n.slice(a,l)}`:(92===n.charCodeAt(a)&&++a,n.slice(a,l))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=Ft.resolve(e);if(t.length<=2)return e;if(92===t.charCodeAt(0)){if(92===t.charCodeAt(1)){const e=t.charCodeAt(2);if(63!==e&&46!==e)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(Rt(t.charCodeAt(0))&&58===t.charCodeAt(1)&&92===t.charCodeAt(2))return`\\\\?\\${t}`;return e},dirname(e){Tt(e,"path");const t=e.length;if(0===t)return".";let i=-1,n=0;const o=e.charCodeAt(0);if(1===t)return Mt(o)?e:".";if(Mt(o)){if(i=n=1,Mt(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!Mt(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&Mt(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!Mt(e.charCodeAt(o));)o++;if(o===t)return e;o!==s&&(i=n=o+1)}}}}else Rt(o)&&58===e.charCodeAt(1)&&(i=t>2&&Mt(e.charCodeAt(2))?3:2,n=i);let s=-1,r=!0;for(let a=t-1;a>=n;--a)if(Mt(e.charCodeAt(a))){if(!r){s=a;break}}else r=!1;if(-1===s){if(-1===i)return".";s=i}return e.slice(0,s)},basename(e,t){void 0!==t&&Tt(t,"ext"),Tt(e,"path");let i,n=0,o=-1,s=!0;if(e.length>=2&&Rt(e.charCodeAt(0))&&58===e.charCodeAt(1)&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=n;--i){const l=e.charCodeAt(i);if(Mt(l)){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=n;--i)if(Mt(e.charCodeAt(i))){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){Tt(e,"path");let t=0,i=-1,n=0,o=-1,s=!0,r=0;e.length>=2&&58===e.charCodeAt(1)&&Rt(e.charCodeAt(0))&&(t=n=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(Mt(t)){if(!s){n=a+1;break}}else-1===o&&(s=!1,o=a+1),46===t?-1===i?i=a:1!==r&&(r=1):-1!==i&&(r=-1)}return-1===i||-1===o||0===r||1===r&&i===o-1&&i===n+1?"":e.slice(i,o)},format:Pt.bind(null,"\\"),parse(e){Tt(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.length;let n=0,o=e.charCodeAt(0);if(1===i)return Mt(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Mt(o)){if(n=1,Mt(e.charCodeAt(1))){let t=2,o=t;for(;t<i&&!Mt(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&Mt(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&!Mt(e.charCodeAt(t));)t++;t===i?n=t:t!==o&&(n=t+1)}}}}else if(Rt(o)&&58===e.charCodeAt(1)){if(i<=2)return t.root=t.dir=e,t;if(n=2,Mt(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,r=n,a=-1,l=!0,d=e.length-1,c=0;for(;d>=n;--d)if(o=e.charCodeAt(d),Mt(o)){if(!l){r=d+1;break}}else-1===a&&(l=!1,a=d+1),46===o?-1===s?s=d:1!==c&&(c=1):-1!==s&&(c=-1);return-1!==a&&(-1===s||0===c||1===c&&s===a-1&&s===r+1?t.base=t.name=e.slice(r,a):(t.name=e.slice(r,s),t.base=e.slice(r,a),t.ext=e.slice(s,a))),t.dir=r>0&&r!==n?e.slice(0,r-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},Bt={resolve(...e){let t="",i=!1;for(let n=e.length-1;n>=-1&&!i;n--){const o=n>=0?e[n]:Dt();Tt(o,"path"),0!==o.length&&(t=`${o}/${t}`,i=47===o.charCodeAt(0))}return t=Ot(t,!i,"/",At),i?`/${t}`:t.length>0?t:"."},normalize(e){if(Tt(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=Ot(e,!t,"/",At)).length?t?"/":i?"./":".":(i&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(Tt(e,"path"),e.length>0&&47===e.charCodeAt(0)),join(...e){if(0===e.length)return".";let t;for(let i=0;i<e.length;++i){const n=e[i];Tt(n,"path"),n.length>0&&(void 0===t?t=n:t+=`/${n}`)}return void 0===t?".":Bt.normalize(t)},relative(e,t){if(Tt(e,"from"),Tt(t,"to"),e===t)return"";if((e=Bt.resolve(e))===(t=Bt.resolve(t)))return"";const i=e.length,n=i-1,o=t.length-1,s=n<o?n:o;let r=-1,a=0;for(;a<s;a++){const i=e.charCodeAt(1+a);if(i!==t.charCodeAt(1+a))break;47===i&&(r=a)}if(a===s)if(o>s){if(47===t.charCodeAt(1+a))return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else n>s&&(47===e.charCodeAt(1+a)?r=a:0===a&&(r=0));let l="";for(a=1+r+1;a<=i;++a)a!==i&&47!==e.charCodeAt(a)||(l+=0===l.length?"..":"/..");return`${l}${t.slice(1+r)}`},toNamespacedPath:e=>e,dirname(e){if(Tt(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0);let i=-1,n=!0;for(let o=e.length-1;o>=1;--o)if(47===e.charCodeAt(o)){if(!n){i=o;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&Tt(t,"ext"),Tt(e,"path");let i,n=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(47===l){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){Tt(e,"path");let t=-1,i=0,n=-1,o=!0,s=0;for(let r=e.length-1;r>=0;--r){const a=e.charCodeAt(r);if(47!==a)-1===n&&(o=!1,n=r+1),46===a?-1===t?t=r:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){i=r+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===i+1?"":e.slice(t,n)},format:Pt.bind(null,"/"),parse(e){Tt(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=47===e.charCodeAt(0);let n;i?(t.root="/",n=1):n=0;let o=-1,s=0,r=-1,a=!0,l=e.length-1,d=0;for(;l>=n;--l){const t=e.charCodeAt(l);if(47!==t)-1===r&&(a=!1,r=l+1),46===t?-1===o?o=l:1!==d&&(d=1):-1!==o&&(d=-1);else if(!a){s=l+1;break}}if(-1!==r){const n=0===s&&i?1:s;-1===o||0===d||1===d&&o===r-1&&o===s+1?t.base=t.name=e.slice(n,r):(t.name=e.slice(n,o),t.base=e.slice(n,r),t.ext=e.slice(o,r))}return s>0?t.dir=e.slice(0,s-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Bt.win32=Ft.win32=Ft,Bt.posix=Ft.posix=Bt;const Wt="win32"===Nt?Ft.normalize:Bt.normalize,Vt="win32"===Nt?Ft.resolve:Bt.resolve,Ht="win32"===Nt?Ft.relative:Bt.relative,zt="win32"===Nt?Ft.dirname:Bt.dirname,Ut="win32"===Nt?Ft.basename:Bt.basename,Kt="win32"===Nt?Ft.extname:Bt.extname,jt="win32"===Nt?Ft.sep:Bt.sep,$t=/^\w[\w\d+.-]*$/,qt=/^\//,Gt=/^\/\//;function Zt(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!$t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!qt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Gt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const Jt="/",Qt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Yt{constructor(e,t,i,n,o,s=!1){"object"==typeof e?(this.scheme=e.scheme||"",this.authority=e.authority||"",this.path=e.path||"",this.query=e.query||"",this.fragment=e.fragment||""):(this.scheme=function(e,t){return e||t?e:"file"}(e,s),this.authority=t||"",this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Jt&&(t=Jt+t):t=Jt}return t}(this.scheme,i||""),this.query=n||"",this.fragment=o||"",Zt(this,s))}static isUri(e){return e instanceof Yt||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)}get fsPath(){return oi(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:s}=e;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===n?n=this.path:null===n&&(n=""),void 0===o?o=this.query:null===o&&(o=""),void 0===s?s=this.fragment:null===s&&(s=""),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&s===this.fragment?this:new ei(t,i,n,o,s)}static parse(e,t=!1){const i=Qt.exec(e);return i?new ei(i[2]||"",li(i[4]||""),li(i[5]||""),li(i[7]||""),li(i[9]||""),t):new ei("","","","","")}static file(e){let t="";if(F&&(e=e.replace(/\\/g,Jt)),e[0]===Jt&&e[1]===Jt){const i=e.indexOf(Jt,2);-1===i?(t=e.substring(2),e=Jt):(t=e.substring(2,i),e=e.substring(i)||Jt)}return new ei("file",t,e,"","")}static from(e){const t=new ei(e.scheme,e.authority,e.path,e.query,e.fragment);return Zt(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return i=F&&"file"===e.scheme?Yt.file(Ft.join(oi(e,!0),...t)).path:Bt.join(e.path,...t),e.with({path:i})}toString(e=!1){return si(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Yt)return e;{const t=new ei(e);return t._formatted=e.external,t._fsPath=e._sep===Xt?e.fsPath:null,t}}return e}}const Xt=F?1:void 0;class ei extends Yt{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=oi(this,!1)),this._fsPath}toString(e=!1){return e?si(this,!0):(this._formatted||(this._formatted=si(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Xt),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const ti={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function ii(e,t){let i,n=-1;for(let o=0;o<e.length;o++){const s=e.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s)-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),void 0!==i&&(i+=e.charAt(o));else{void 0===i&&(i=e.substr(0,o));const t=ti[s];void 0!==t?(-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),i+=t):-1===n&&(n=o)}}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function ni(e){let t;for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);35===n||63===n?(void 0===t&&(t=e.substr(0,i)),t+=ti[n]):void 0!==t&&(t+=e[i])}return void 0!==t?t:e}function oi(e,t){let i;return i=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,F&&(i=i.replace(/\//g,"\\")),i}function si(e,t){const i=t?ni:ii;let n="",{scheme:o,authority:s,path:r,query:a,fragment:l}=e;if(o&&(n+=o,n+=":"),(s||"file"===o)&&(n+=Jt,n+=Jt),s){let e=s.indexOf("@");if(-1!==e){const t=s.substr(0,e);s=s.substr(e+1),e=t.indexOf(":"),-1===e?n+=i(t,!1):(n+=i(t.substr(0,e),!1),n+=":",n+=i(t.substr(e+1),!1)),n+="@"}s=s.toLowerCase(),e=s.indexOf(":"),-1===e?n+=i(s,!1):(n+=i(s.substr(0,e),!1),n+=s.substr(e))}if(r){if(r.length>=3&&47===r.charCodeAt(0)&&58===r.charCodeAt(2)){const e=r.charCodeAt(1);e>=65&&e<=90&&(r=`/${String.fromCharCode(e+32)}:${r.substr(3)}`)}else if(r.length>=2&&58===r.charCodeAt(1)){const e=r.charCodeAt(0);e>=65&&e<=90&&(r=`${String.fromCharCode(e+32)}:${r.substr(2)}`)}n+=i(r,!0)}return a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=t?l:ii(l,!1)),n}function ri(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+ri(e.substr(3)):e}}const ai=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function li(e){return e.match(ai)?e.replace(ai,(e=>ri(e))):e}var di,ci;(ci=di||(di={})).inMemory="inmemory",ci.vscode="vscode",ci.internal="private",ci.walkThrough="walkThrough",ci.walkThroughSnippet="walkThroughSnippet",ci.http="http",ci.https="https",ci.file="file",ci.mailto="mailto",ci.untitled="untitled",ci.data="data",ci.command="command",ci.vscodeRemote="vscode-remote",ci.vscodeRemoteResource="vscode-remote-resource",ci.userData="vscode-userdata",ci.vscodeCustomEditor="vscode-custom-editor",ci.vscodeNotebook="vscode-notebook",ci.vscodeNotebookCell="vscode-notebook-cell",ci.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",ci.vscodeNotebookCellOutput="vscode-notebook-cell-output",ci.vscodeInteractive="vscode-interactive",ci.vscodeInteractiveInput="vscode-interactive-input",ci.vscodeSettings="vscode-settings",ci.vscodeWorkspaceTrust="vscode-workspace-trust",ci.vscodeTerminal="vscode-terminal",ci.webviewPanel="webview-panel",ci.vscodeWebview="vscode-webview",ci.extension="extension",ci.vscodeFileResource="vscode-file",ci.tmp="tmp";const hi=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&(i=`[${i}]`);const n=this._ports[t],o=this._connectionTokens[t];let s=`path=${encodeURIComponent(e.path)}`;return"string"==typeof o&&(s+=`&tkn=${encodeURIComponent(o)}`),Yt.from({scheme:H?this._preferredWebSchema:di.vscodeRemoteResource,authority:`${i}:${n}`,path:"/vscode-remote-resource",query:s})}};class ui{asBrowserUri(e,t){const i=this.toUri(e,t);return i.scheme===di.vscodeRemote?hi.rewrite(i):i.scheme===di.file&&(V||"function"==typeof R.importScripts&&R.origin===`${di.vscodeFileResource}://${ui.FALLBACK_AUTHORITY}`)?i.with({scheme:di.vscodeFileResource,authority:i.authority||ui.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return Yt.isUri(e)?e:Yt.parse(t.toUrl(e))}}ui.FALLBACK_AUTHORITY="vscode-app";const gi=new ui;function mi(e){for(;e.firstChild;)e.firstChild.remove()}function pi(e){var t;return null!==(t=null==e?void 0:e.isConnected)&&void 0!==t&&t}class fi{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function _i(e,t,i,n){return new fi(e,t,i,n)}function bi(e){return function(t){return e(new nt(t))}}let vi=function(e,t,i,n){let o=i;return"click"===t||"mousedown"===t?o=bi(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=function(e){return function(t){return e(new Ye(t))}}(i)),_i(e,t,o,n)};function wi(e,t,i){return _i(e,z&&Ie?en.POINTER_DOWN:en.MOUSE_DOWN,t,i)}function Ci(e,t,i){return _i(e,z&&Ie?en.POINTER_UP:en.MOUSE_UP,t,i)}function yi(e,t){return _i(e,"mouseout",(i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)}))}let Si,ki,xi=null;class Li{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(G1){n(G1)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,i=!1,n=!1,o=()=>{for(i=!1,t=e,e=[],n=!0;t.length>0;){t.sort(Li.sort),t.shift().execute()}n=!1};ki=(t,n=0)=>{let s=new Li(t,n);return e.push(s),i||(i=!0,function(e){if(!xi){const e=e=>setTimeout((()=>e((new Date).getTime())),0);xi=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}xi.call(self,e)}(o)),s},Si=(e,i)=>{if(n){let n=new Li(e,i);return t.push(n),n}return ki(e,i)}}();const Di=function(e,t){return t};class Ei extends v{constructor(e,t,i,n=Di,o=8){super();let s=null,r=0,a=this._register(new vt),l=()=>{r=(new Date).getTime(),i(s),s=null};this._register(_i(e,t,(e=>{s=n(s,e);let t=(new Date).getTime()-r;t>=o?(a.cancel(),l()):a.setIfNotSet(l,o-t)})))}}function Ni(e,t,i,n,o){return new Ei(e,t,i,n,o)}function Ii(e){return document.defaultView.getComputedStyle(e,null)}function Ti(e){if(e!==document.body)return new Ai(e.clientWidth,e.clientHeight);if(z&&window.visualViewport)return new Ai(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new Ai(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Ai(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Ai(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Mi{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=Ii(e),o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),Mi.convertToPixels(e,o)}static getBorderLeftWidth(e){return Mi.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Mi.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Mi.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Mi.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Mi.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Mi.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Mi.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Mi.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Mi.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Mi.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Mi.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Mi.getDimension(e,"margin-bottom","marginBottom")}}class Ai{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new Ai(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof Ai?e:new Ai(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}}function Ri(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;const o=Ki(e)?null:Ii(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=Mi.getBorderLeftWidth(e),i+=Mi.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}function Oi(e){let t=e.getBoundingClientRect();return{left:t.left+Pi.scrollX,top:t.top+Pi.scrollY,width:t.width,height:t.height}}const Pi=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Fi(e){let t=Mi.getMarginLeft(e)+Mi.getMarginRight(e);return e.offsetWidth+t}function Bi(e){let t=Mi.getBorderLeftWidth(e)+Mi.getBorderRightWidth(e),i=Mi.getPaddingLeft(e)+Mi.getPaddingRight(e);return e.offsetWidth-t-i}function Wi(e){let t=Mi.getBorderTopWidth(e)+Mi.getBorderBottomWidth(e),i=Mi.getPaddingTop(e)+Mi.getPaddingBottom(e);return e.offsetHeight-t-i}function Vi(e){let t=Mi.getMarginTop(e)+Mi.getMarginBottom(e);return e.offsetHeight+t}function Hi(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function zi(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(i)if("string"==typeof i){if(e.classList.contains(i))return null}else if(e===i)return null;e=e.parentNode}return null}function Ui(e,t,i){return!!zi(e,t,i)}function Ki(e){return e&&!!e.host&&!!e.mode}function ji(e){return!!$i(e)}function $i(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return Ki(e)?e:null}function qi(){let e=document.activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Gi(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let Zi=null;function Ji(){return Zi||(Zi=Gi()),Zi}function Qi(e,t,i=Ji()){i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function Yi(e,t=Ji()){if(!t)return;let i=function(e){var t,i;return(null===(t=null==e?void 0:e.sheet)||void 0===t?void 0:t.rules)?e.sheet.rules:(null===(i=null==e?void 0:e.sheet)||void 0===i?void 0:i.cssRules)?e.sheet.cssRules:[]}(t),n=[];for(let o=0;o<i.length;o++){-1!==i[o].selectorText.indexOf(e)&&n.push(o)}for(let o=n.length-1;o>=0;o--)t.sheet.deleteRule(n[o])}function Xi(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const en={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:ce?"webkitAnimationStart":"animationstart",ANIMATION_END:ce?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:ce?"webkitAnimationIteration":"animationiteration"},tn=function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};class nn extends v{constructor(e){super(),this._onDidFocus=this._register(new X),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new X),this.onDidBlur=this._onDidBlur.event;let t=Hi(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout((()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{Hi(document.activeElement,e)!==t&&(t?o():n())},this._register(_i(e,en.FOCUS,n,!0)),this._register(_i(e,en.BLUR,o,!0))}}function on(e){return new nn(e)}function sn(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function rn(e,...t){e.innerText="",sn(e,...t)}const an=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ln,dn;function cn(e,t,i,...n){let o=an.exec(t);if(!o)throw new Error("Bad use of emmet");i=Object.assign({},i||{});let s,r=o[1]||"div";return s=e!==ln.HTML?document.createElementNS(e,r):document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),Object.keys(i).forEach((e=>{const t=i[e];void 0!==t&&(/^on\w+$/.test(e)?s[e]=t:"selected"===e?t&&s.setAttribute(e,"true"):s.setAttribute(e,t))})),s.append(...n),s}function hn(e,t,...i){return cn(ln.HTML,e,t,...i)}function un(...e){for(let t of e)t.style.display="",t.removeAttribute("aria-hidden")}function gn(...e){for(let t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function mn(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function pn(e){window.open(e,"_blank","noopener")}function fn(e){return e?`url('${gi.asBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function _n(e){return`'${e.replace(/'/g,"%27")}'`}(dn=ln||(ln={})).HTML="http://www.w3.org/1999/xhtml",dn.SVG="http://www.w3.org/2000/svg",hn.SVG=function(e,t,...i){return cn(ln.SVG,e,t,...i)},hi.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class bn extends X{constructor(){super(),this._subscriptions=new b,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(_i(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=new Ye(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}),!0)),this._subscriptions.add(_i(window,"keyup",(e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))}),!0)),this._subscriptions.add(_i(document.body,"mousedown",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(_i(document.body,"mouseup",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(_i(document.body,"mousemove",(e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)}),!0)),this._subscriptions.add(_i(window,"blur",(()=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return bn.instance||(bn.instance=new bn),bn.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}let vn,wn,Cn,yn,Sn;function kn(e){vn&&(wn.textContent!==e?(mi(Cn),Ln(wn,e)):(mi(wn),Ln(Cn,e)))}function xn(e){vn&&(B?kn(e):yn.textContent!==e?(mi(Sn),Ln(yn,e)):(mi(yn),Ln(Sn,e)))}function Ln(e,t){mi(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}var Dn,En;(En=Dn||(Dn={})).serviceIds=new Map,En.DI_TARGET="$di$target",En.DI_DEPENDENCIES="$di$dependencies",En.getServiceDependencies=function(e){return e[En.DI_DEPENDENCIES]||[]};const Nn=Tn("instantiationService");function In(e,t,i,n){t[Dn.DI_TARGET]===t?t[Dn.DI_DEPENDENCIES].push({id:e,index:i,optional:n}):(t[Dn.DI_DEPENDENCIES]=[{id:e,index:i,optional:n}],t[Dn.DI_TARGET]=t)}function Tn(e){if(Dn.serviceIds.has(e))return Dn.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");In(t,e,n,!1)};return t.toString=()=>e,Dn.serviceIds.set(e,t),t}function Mn(e){return function(t,i,n){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");In(e,t,n,!0)}}const An=Tn("codeEditorService");class Rn{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Rn(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Rn.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Rn.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return Rn.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let i=0|e.lineNumber,n=0|t.lineNumber;if(i===n){return(0|e.column)-(0|t.column)}return i-n}clone(){return new Rn(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Rn(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}const On=Tn("modelService");function Pn(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}const Fn=Tn("textModelService");var Bn=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Wn extends v{constructor(e,t="",i="",n=!0,o){super(),this._onDidChange=this._register(new X),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return Bn(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class Vn extends v{constructor(){super(...arguments),this._onBeforeRun=this._register(new X),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new X),this.onDidRun=this._onDidRun.event}run(e,t){return Bn(this,void 0,void 0,(function*(){if(!e.enabled)return;let i;this._onBeforeRun.fire({action:e});try{yield this.runAction(e,t)}catch(G1){i=G1}this._onDidRun.fire({action:e,error:i})}))}runAction(e,t){return Bn(this,void 0,void 0,(function*(){yield e.run(t)}))}}class Hn extends Wn{constructor(e){super(Hn.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}Hn.ID="vs.actions.separator";class zn{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return Bn(this,void 0,void 0,(function*(){}))}}class Un extends Wn{constructor(){super(Un.ID,t("vs/base/common/actions","submenu.empty","(empty)"),void 0,!1)}}Un.ID="vs.actions.empty";const Kn=new class{constructor(){this._icons=new Map,this._onDidRegister=new X}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},jn=Kn;function $n(e,t){return new qn(e,t)}class qn{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,Kn.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var Gn,Zn;!function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9\\-]+",e.iconModifierExpression="~[A-Za-z]+";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function i(e){if(e instanceof qn)return["codicon","codicon-"+e.id];const n=t.exec(e.id);if(!n)return i(qn.error);let[,o,s]=n;const r=["codicon","codicon-"+o];return s&&r.push("codicon-modifier-"+s.substr(1)),r}e.asClassNameArray=i,e.asClassName=function(e){return i(e).join(" ")},e.asCSSSelector=function(e){return"."+i(e).join(".")}}(Gn||(Gn={})),(Zn=qn||(qn={})).add=new Zn("add",{fontCharacter:"\\ea60"}),Zn.plus=new Zn("plus",Zn.add.definition),Zn.gistNew=new Zn("gist-new",Zn.add.definition),Zn.repoCreate=new Zn("repo-create",Zn.add.definition),Zn.lightbulb=new Zn("lightbulb",{fontCharacter:"\\ea61"}),Zn.lightBulb=new Zn("light-bulb",{fontCharacter:"\\ea61"}),Zn.repo=new Zn("repo",{fontCharacter:"\\ea62"}),Zn.repoDelete=new Zn("repo-delete",{fontCharacter:"\\ea62"}),Zn.gistFork=new Zn("gist-fork",{fontCharacter:"\\ea63"}),Zn.repoForked=new Zn("repo-forked",{fontCharacter:"\\ea63"}),Zn.gitPullRequest=new Zn("git-pull-request",{fontCharacter:"\\ea64"}),Zn.gitPullRequestAbandoned=new Zn("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),Zn.recordKeys=new Zn("record-keys",{fontCharacter:"\\ea65"}),Zn.keyboard=new Zn("keyboard",{fontCharacter:"\\ea65"}),Zn.tag=new Zn("tag",{fontCharacter:"\\ea66"}),Zn.tagAdd=new Zn("tag-add",{fontCharacter:"\\ea66"}),Zn.tagRemove=new Zn("tag-remove",{fontCharacter:"\\ea66"}),Zn.person=new Zn("person",{fontCharacter:"\\ea67"}),Zn.personFollow=new Zn("person-follow",{fontCharacter:"\\ea67"}),Zn.personOutline=new Zn("person-outline",{fontCharacter:"\\ea67"}),Zn.personFilled=new Zn("person-filled",{fontCharacter:"\\ea67"}),Zn.gitBranch=new Zn("git-branch",{fontCharacter:"\\ea68"}),Zn.gitBranchCreate=new Zn("git-branch-create",{fontCharacter:"\\ea68"}),Zn.gitBranchDelete=new Zn("git-branch-delete",{fontCharacter:"\\ea68"}),Zn.sourceControl=new Zn("source-control",{fontCharacter:"\\ea68"}),Zn.mirror=new Zn("mirror",{fontCharacter:"\\ea69"}),Zn.mirrorPublic=new Zn("mirror-public",{fontCharacter:"\\ea69"}),Zn.star=new Zn("star",{fontCharacter:"\\ea6a"}),Zn.starAdd=new Zn("star-add",{fontCharacter:"\\ea6a"}),Zn.starDelete=new Zn("star-delete",{fontCharacter:"\\ea6a"}),Zn.starEmpty=new Zn("star-empty",{fontCharacter:"\\ea6a"}),Zn.comment=new Zn("comment",{fontCharacter:"\\ea6b"}),Zn.commentAdd=new Zn("comment-add",{fontCharacter:"\\ea6b"}),Zn.alert=new Zn("alert",{fontCharacter:"\\ea6c"}),Zn.warning=new Zn("warning",{fontCharacter:"\\ea6c"}),Zn.search=new Zn("search",{fontCharacter:"\\ea6d"}),Zn.searchSave=new Zn("search-save",{fontCharacter:"\\ea6d"}),Zn.logOut=new Zn("log-out",{fontCharacter:"\\ea6e"}),Zn.signOut=new Zn("sign-out",{fontCharacter:"\\ea6e"}),Zn.logIn=new Zn("log-in",{fontCharacter:"\\ea6f"}),Zn.signIn=new Zn("sign-in",{fontCharacter:"\\ea6f"}),Zn.eye=new Zn("eye",{fontCharacter:"\\ea70"}),Zn.eyeUnwatch=new Zn("eye-unwatch",{fontCharacter:"\\ea70"}),Zn.eyeWatch=new Zn("eye-watch",{fontCharacter:"\\ea70"}),Zn.circleFilled=new Zn("circle-filled",{fontCharacter:"\\ea71"}),Zn.primitiveDot=new Zn("primitive-dot",{fontCharacter:"\\ea71"}),Zn.closeDirty=new Zn("close-dirty",{fontCharacter:"\\ea71"}),Zn.debugBreakpoint=new Zn("debug-breakpoint",{fontCharacter:"\\ea71"}),Zn.debugBreakpointDisabled=new Zn("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),Zn.debugHint=new Zn("debug-hint",{fontCharacter:"\\ea71"}),Zn.primitiveSquare=new Zn("primitive-square",{fontCharacter:"\\ea72"}),Zn.edit=new Zn("edit",{fontCharacter:"\\ea73"}),Zn.pencil=new Zn("pencil",{fontCharacter:"\\ea73"}),Zn.info=new Zn("info",{fontCharacter:"\\ea74"}),Zn.issueOpened=new Zn("issue-opened",{fontCharacter:"\\ea74"}),Zn.gistPrivate=new Zn("gist-private",{fontCharacter:"\\ea75"}),Zn.gitForkPrivate=new Zn("git-fork-private",{fontCharacter:"\\ea75"}),Zn.lock=new Zn("lock",{fontCharacter:"\\ea75"}),Zn.mirrorPrivate=new Zn("mirror-private",{fontCharacter:"\\ea75"}),Zn.close=new Zn("close",{fontCharacter:"\\ea76"}),Zn.removeClose=new Zn("remove-close",{fontCharacter:"\\ea76"}),Zn.x=new Zn("x",{fontCharacter:"\\ea76"}),Zn.repoSync=new Zn("repo-sync",{fontCharacter:"\\ea77"}),Zn.sync=new Zn("sync",{fontCharacter:"\\ea77"}),Zn.clone=new Zn("clone",{fontCharacter:"\\ea78"}),Zn.desktopDownload=new Zn("desktop-download",{fontCharacter:"\\ea78"}),Zn.beaker=new Zn("beaker",{fontCharacter:"\\ea79"}),Zn.microscope=new Zn("microscope",{fontCharacter:"\\ea79"}),Zn.vm=new Zn("vm",{fontCharacter:"\\ea7a"}),Zn.deviceDesktop=new Zn("device-desktop",{fontCharacter:"\\ea7a"}),Zn.file=new Zn("file",{fontCharacter:"\\ea7b"}),Zn.fileText=new Zn("file-text",{fontCharacter:"\\ea7b"}),Zn.more=new Zn("more",{fontCharacter:"\\ea7c"}),Zn.ellipsis=new Zn("ellipsis",{fontCharacter:"\\ea7c"}),Zn.kebabHorizontal=new Zn("kebab-horizontal",{fontCharacter:"\\ea7c"}),Zn.mailReply=new Zn("mail-reply",{fontCharacter:"\\ea7d"}),Zn.reply=new Zn("reply",{fontCharacter:"\\ea7d"}),Zn.organization=new Zn("organization",{fontCharacter:"\\ea7e"}),Zn.organizationFilled=new Zn("organization-filled",{fontCharacter:"\\ea7e"}),Zn.organizationOutline=new Zn("organization-outline",{fontCharacter:"\\ea7e"}),Zn.newFile=new Zn("new-file",{fontCharacter:"\\ea7f"}),Zn.fileAdd=new Zn("file-add",{fontCharacter:"\\ea7f"}),Zn.newFolder=new Zn("new-folder",{fontCharacter:"\\ea80"}),Zn.fileDirectoryCreate=new Zn("file-directory-create",{fontCharacter:"\\ea80"}),Zn.trash=new Zn("trash",{fontCharacter:"\\ea81"}),Zn.trashcan=new Zn("trashcan",{fontCharacter:"\\ea81"}),Zn.history=new Zn("history",{fontCharacter:"\\ea82"}),Zn.clock=new Zn("clock",{fontCharacter:"\\ea82"}),Zn.folder=new Zn("folder",{fontCharacter:"\\ea83"}),Zn.fileDirectory=new Zn("file-directory",{fontCharacter:"\\ea83"}),Zn.symbolFolder=new Zn("symbol-folder",{fontCharacter:"\\ea83"}),Zn.logoGithub=new Zn("logo-github",{fontCharacter:"\\ea84"}),Zn.markGithub=new Zn("mark-github",{fontCharacter:"\\ea84"}),Zn.github=new Zn("github",{fontCharacter:"\\ea84"}),Zn.terminal=new Zn("terminal",{fontCharacter:"\\ea85"}),Zn.console=new Zn("console",{fontCharacter:"\\ea85"}),Zn.repl=new Zn("repl",{fontCharacter:"\\ea85"}),Zn.zap=new Zn("zap",{fontCharacter:"\\ea86"}),Zn.symbolEvent=new Zn("symbol-event",{fontCharacter:"\\ea86"}),Zn.error=new Zn("error",{fontCharacter:"\\ea87"}),Zn.stop=new Zn("stop",{fontCharacter:"\\ea87"}),Zn.variable=new Zn("variable",{fontCharacter:"\\ea88"}),Zn.symbolVariable=new Zn("symbol-variable",{fontCharacter:"\\ea88"}),Zn.array=new Zn("array",{fontCharacter:"\\ea8a"}),Zn.symbolArray=new Zn("symbol-array",{fontCharacter:"\\ea8a"}),Zn.symbolModule=new Zn("symbol-module",{fontCharacter:"\\ea8b"}),Zn.symbolPackage=new Zn("symbol-package",{fontCharacter:"\\ea8b"}),Zn.symbolNamespace=new Zn("symbol-namespace",{fontCharacter:"\\ea8b"}),Zn.symbolObject=new Zn("symbol-object",{fontCharacter:"\\ea8b"}),Zn.symbolMethod=new Zn("symbol-method",{fontCharacter:"\\ea8c"}),Zn.symbolFunction=new Zn("symbol-function",{fontCharacter:"\\ea8c"}),Zn.symbolConstructor=new Zn("symbol-constructor",{fontCharacter:"\\ea8c"}),Zn.symbolBoolean=new Zn("symbol-boolean",{fontCharacter:"\\ea8f"}),Zn.symbolNull=new Zn("symbol-null",{fontCharacter:"\\ea8f"}),Zn.symbolNumeric=new Zn("symbol-numeric",{fontCharacter:"\\ea90"}),Zn.symbolNumber=new Zn("symbol-number",{fontCharacter:"\\ea90"}),Zn.symbolStructure=new Zn("symbol-structure",{fontCharacter:"\\ea91"}),Zn.symbolStruct=new Zn("symbol-struct",{fontCharacter:"\\ea91"}),Zn.symbolParameter=new Zn("symbol-parameter",{fontCharacter:"\\ea92"}),Zn.symbolTypeParameter=new Zn("symbol-type-parameter",{fontCharacter:"\\ea92"}),Zn.symbolKey=new Zn("symbol-key",{fontCharacter:"\\ea93"}),Zn.symbolText=new Zn("symbol-text",{fontCharacter:"\\ea93"}),Zn.symbolReference=new Zn("symbol-reference",{fontCharacter:"\\ea94"}),Zn.goToFile=new Zn("go-to-file",{fontCharacter:"\\ea94"}),Zn.symbolEnum=new Zn("symbol-enum",{fontCharacter:"\\ea95"}),Zn.symbolValue=new Zn("symbol-value",{fontCharacter:"\\ea95"}),Zn.symbolRuler=new Zn("symbol-ruler",{fontCharacter:"\\ea96"}),Zn.symbolUnit=new Zn("symbol-unit",{fontCharacter:"\\ea96"}),Zn.activateBreakpoints=new Zn("activate-breakpoints",{fontCharacter:"\\ea97"}),Zn.archive=new Zn("archive",{fontCharacter:"\\ea98"}),Zn.arrowBoth=new Zn("arrow-both",{fontCharacter:"\\ea99"}),Zn.arrowDown=new Zn("arrow-down",{fontCharacter:"\\ea9a"}),Zn.arrowLeft=new Zn("arrow-left",{fontCharacter:"\\ea9b"}),Zn.arrowRight=new Zn("arrow-right",{fontCharacter:"\\ea9c"}),Zn.arrowSmallDown=new Zn("arrow-small-down",{fontCharacter:"\\ea9d"}),Zn.arrowSmallLeft=new Zn("arrow-small-left",{fontCharacter:"\\ea9e"}),Zn.arrowSmallRight=new Zn("arrow-small-right",{fontCharacter:"\\ea9f"}),Zn.arrowSmallUp=new Zn("arrow-small-up",{fontCharacter:"\\eaa0"}),Zn.arrowUp=new Zn("arrow-up",{fontCharacter:"\\eaa1"}),Zn.bell=new Zn("bell",{fontCharacter:"\\eaa2"}),Zn.bold=new Zn("bold",{fontCharacter:"\\eaa3"}),Zn.book=new Zn("book",{fontCharacter:"\\eaa4"}),Zn.bookmark=new Zn("bookmark",{fontCharacter:"\\eaa5"}),Zn.debugBreakpointConditionalUnverified=new Zn("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),Zn.debugBreakpointConditional=new Zn("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),Zn.debugBreakpointConditionalDisabled=new Zn("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),Zn.debugBreakpointDataUnverified=new Zn("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),Zn.debugBreakpointData=new Zn("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),Zn.debugBreakpointDataDisabled=new Zn("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),Zn.debugBreakpointLogUnverified=new Zn("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),Zn.debugBreakpointLog=new Zn("debug-breakpoint-log",{fontCharacter:"\\eaab"}),Zn.debugBreakpointLogDisabled=new Zn("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),Zn.briefcase=new Zn("briefcase",{fontCharacter:"\\eaac"}),Zn.broadcast=new Zn("broadcast",{fontCharacter:"\\eaad"}),Zn.browser=new Zn("browser",{fontCharacter:"\\eaae"}),Zn.bug=new Zn("bug",{fontCharacter:"\\eaaf"}),Zn.calendar=new Zn("calendar",{fontCharacter:"\\eab0"}),Zn.caseSensitive=new Zn("case-sensitive",{fontCharacter:"\\eab1"}),Zn.check=new Zn("check",{fontCharacter:"\\eab2"}),Zn.checklist=new Zn("checklist",{fontCharacter:"\\eab3"}),Zn.chevronDown=new Zn("chevron-down",{fontCharacter:"\\eab4"}),Zn.dropDownButton=new Zn("drop-down-button",Zn.chevronDown.definition),Zn.chevronLeft=new Zn("chevron-left",{fontCharacter:"\\eab5"}),Zn.chevronRight=new Zn("chevron-right",{fontCharacter:"\\eab6"}),Zn.chevronUp=new Zn("chevron-up",{fontCharacter:"\\eab7"}),Zn.chromeClose=new Zn("chrome-close",{fontCharacter:"\\eab8"}),Zn.chromeMaximize=new Zn("chrome-maximize",{fontCharacter:"\\eab9"}),Zn.chromeMinimize=new Zn("chrome-minimize",{fontCharacter:"\\eaba"}),Zn.chromeRestore=new Zn("chrome-restore",{fontCharacter:"\\eabb"}),Zn.circleOutline=new Zn("circle-outline",{fontCharacter:"\\eabc"}),Zn.debugBreakpointUnverified=new Zn("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),Zn.circleSlash=new Zn("circle-slash",{fontCharacter:"\\eabd"}),Zn.circuitBoard=new Zn("circuit-board",{fontCharacter:"\\eabe"}),Zn.clearAll=new Zn("clear-all",{fontCharacter:"\\eabf"}),Zn.clippy=new Zn("clippy",{fontCharacter:"\\eac0"}),Zn.closeAll=new Zn("close-all",{fontCharacter:"\\eac1"}),Zn.cloudDownload=new Zn("cloud-download",{fontCharacter:"\\eac2"}),Zn.cloudUpload=new Zn("cloud-upload",{fontCharacter:"\\eac3"}),Zn.code=new Zn("code",{fontCharacter:"\\eac4"}),Zn.collapseAll=new Zn("collapse-all",{fontCharacter:"\\eac5"}),Zn.colorMode=new Zn("color-mode",{fontCharacter:"\\eac6"}),Zn.commentDiscussion=new Zn("comment-discussion",{fontCharacter:"\\eac7"}),Zn.compareChanges=new Zn("compare-changes",{fontCharacter:"\\eafd"}),Zn.creditCard=new Zn("credit-card",{fontCharacter:"\\eac9"}),Zn.dash=new Zn("dash",{fontCharacter:"\\eacc"}),Zn.dashboard=new Zn("dashboard",{fontCharacter:"\\eacd"}),Zn.database=new Zn("database",{fontCharacter:"\\eace"}),Zn.debugContinue=new Zn("debug-continue",{fontCharacter:"\\eacf"}),Zn.debugDisconnect=new Zn("debug-disconnect",{fontCharacter:"\\ead0"}),Zn.debugPause=new Zn("debug-pause",{fontCharacter:"\\ead1"}),Zn.debugRestart=new Zn("debug-restart",{fontCharacter:"\\ead2"}),Zn.debugStart=new Zn("debug-start",{fontCharacter:"\\ead3"}),Zn.debugStepInto=new Zn("debug-step-into",{fontCharacter:"\\ead4"}),Zn.debugStepOut=new Zn("debug-step-out",{fontCharacter:"\\ead5"}),Zn.debugStepOver=new Zn("debug-step-over",{fontCharacter:"\\ead6"}),Zn.debugStop=new Zn("debug-stop",{fontCharacter:"\\ead7"}),Zn.debug=new Zn("debug",{fontCharacter:"\\ead8"}),Zn.deviceCameraVideo=new Zn("device-camera-video",{fontCharacter:"\\ead9"}),Zn.deviceCamera=new Zn("device-camera",{fontCharacter:"\\eada"}),Zn.deviceMobile=new Zn("device-mobile",{fontCharacter:"\\eadb"}),Zn.diffAdded=new Zn("diff-added",{fontCharacter:"\\eadc"}),Zn.diffIgnored=new Zn("diff-ignored",{fontCharacter:"\\eadd"}),Zn.diffModified=new Zn("diff-modified",{fontCharacter:"\\eade"}),Zn.diffRemoved=new Zn("diff-removed",{fontCharacter:"\\eadf"}),Zn.diffRenamed=new Zn("diff-renamed",{fontCharacter:"\\eae0"}),Zn.diff=new Zn("diff",{fontCharacter:"\\eae1"}),Zn.discard=new Zn("discard",{fontCharacter:"\\eae2"}),Zn.editorLayout=new Zn("editor-layout",{fontCharacter:"\\eae3"}),Zn.emptyWindow=new Zn("empty-window",{fontCharacter:"\\eae4"}),Zn.exclude=new Zn("exclude",{fontCharacter:"\\eae5"}),Zn.extensions=new Zn("extensions",{fontCharacter:"\\eae6"}),Zn.eyeClosed=new Zn("eye-closed",{fontCharacter:"\\eae7"}),Zn.fileBinary=new Zn("file-binary",{fontCharacter:"\\eae8"}),Zn.fileCode=new Zn("file-code",{fontCharacter:"\\eae9"}),Zn.fileMedia=new Zn("file-media",{fontCharacter:"\\eaea"}),Zn.filePdf=new Zn("file-pdf",{fontCharacter:"\\eaeb"}),Zn.fileSubmodule=new Zn("file-submodule",{fontCharacter:"\\eaec"}),Zn.fileSymlinkDirectory=new Zn("file-symlink-directory",{fontCharacter:"\\eaed"}),Zn.fileSymlinkFile=new Zn("file-symlink-file",{fontCharacter:"\\eaee"}),Zn.fileZip=new Zn("file-zip",{fontCharacter:"\\eaef"}),Zn.files=new Zn("files",{fontCharacter:"\\eaf0"}),Zn.filter=new Zn("filter",{fontCharacter:"\\eaf1"}),Zn.flame=new Zn("flame",{fontCharacter:"\\eaf2"}),Zn.foldDown=new Zn("fold-down",{fontCharacter:"\\eaf3"}),Zn.foldUp=new Zn("fold-up",{fontCharacter:"\\eaf4"}),Zn.fold=new Zn("fold",{fontCharacter:"\\eaf5"}),Zn.folderActive=new Zn("folder-active",{fontCharacter:"\\eaf6"}),Zn.folderOpened=new Zn("folder-opened",{fontCharacter:"\\eaf7"}),Zn.gear=new Zn("gear",{fontCharacter:"\\eaf8"}),Zn.gift=new Zn("gift",{fontCharacter:"\\eaf9"}),Zn.gistSecret=new Zn("gist-secret",{fontCharacter:"\\eafa"}),Zn.gist=new Zn("gist",{fontCharacter:"\\eafb"}),Zn.gitCommit=new Zn("git-commit",{fontCharacter:"\\eafc"}),Zn.gitCompare=new Zn("git-compare",{fontCharacter:"\\eafd"}),Zn.gitMerge=new Zn("git-merge",{fontCharacter:"\\eafe"}),Zn.githubAction=new Zn("github-action",{fontCharacter:"\\eaff"}),Zn.githubAlt=new Zn("github-alt",{fontCharacter:"\\eb00"}),Zn.globe=new Zn("globe",{fontCharacter:"\\eb01"}),Zn.grabber=new Zn("grabber",{fontCharacter:"\\eb02"}),Zn.graph=new Zn("graph",{fontCharacter:"\\eb03"}),Zn.gripper=new Zn("gripper",{fontCharacter:"\\eb04"}),Zn.heart=new Zn("heart",{fontCharacter:"\\eb05"}),Zn.home=new Zn("home",{fontCharacter:"\\eb06"}),Zn.horizontalRule=new Zn("horizontal-rule",{fontCharacter:"\\eb07"}),Zn.hubot=new Zn("hubot",{fontCharacter:"\\eb08"}),Zn.inbox=new Zn("inbox",{fontCharacter:"\\eb09"}),Zn.issueClosed=new Zn("issue-closed",{fontCharacter:"\\eba4"}),Zn.issueReopened=new Zn("issue-reopened",{fontCharacter:"\\eb0b"}),Zn.issues=new Zn("issues",{fontCharacter:"\\eb0c"}),Zn.italic=new Zn("italic",{fontCharacter:"\\eb0d"}),Zn.jersey=new Zn("jersey",{fontCharacter:"\\eb0e"}),Zn.json=new Zn("json",{fontCharacter:"\\eb0f"}),Zn.kebabVertical=new Zn("kebab-vertical",{fontCharacter:"\\eb10"}),Zn.key=new Zn("key",{fontCharacter:"\\eb11"}),Zn.law=new Zn("law",{fontCharacter:"\\eb12"}),Zn.lightbulbAutofix=new Zn("lightbulb-autofix",{fontCharacter:"\\eb13"}),Zn.linkExternal=new Zn("link-external",{fontCharacter:"\\eb14"}),Zn.link=new Zn("link",{fontCharacter:"\\eb15"}),Zn.listOrdered=new Zn("list-ordered",{fontCharacter:"\\eb16"}),Zn.listUnordered=new Zn("list-unordered",{fontCharacter:"\\eb17"}),Zn.liveShare=new Zn("live-share",{fontCharacter:"\\eb18"}),Zn.loading=new Zn("loading",{fontCharacter:"\\eb19"}),Zn.location=new Zn("location",{fontCharacter:"\\eb1a"}),Zn.mailRead=new Zn("mail-read",{fontCharacter:"\\eb1b"}),Zn.mail=new Zn("mail",{fontCharacter:"\\eb1c"}),Zn.markdown=new Zn("markdown",{fontCharacter:"\\eb1d"}),Zn.megaphone=new Zn("megaphone",{fontCharacter:"\\eb1e"}),Zn.mention=new Zn("mention",{fontCharacter:"\\eb1f"}),Zn.milestone=new Zn("milestone",{fontCharacter:"\\eb20"}),Zn.mortarBoard=new Zn("mortar-board",{fontCharacter:"\\eb21"}),Zn.move=new Zn("move",{fontCharacter:"\\eb22"}),Zn.multipleWindows=new Zn("multiple-windows",{fontCharacter:"\\eb23"}),Zn.mute=new Zn("mute",{fontCharacter:"\\eb24"}),Zn.noNewline=new Zn("no-newline",{fontCharacter:"\\eb25"}),Zn.note=new Zn("note",{fontCharacter:"\\eb26"}),Zn.octoface=new Zn("octoface",{fontCharacter:"\\eb27"}),Zn.openPreview=new Zn("open-preview",{fontCharacter:"\\eb28"}),Zn.package_=new Zn("package",{fontCharacter:"\\eb29"}),Zn.paintcan=new Zn("paintcan",{fontCharacter:"\\eb2a"}),Zn.pin=new Zn("pin",{fontCharacter:"\\eb2b"}),Zn.play=new Zn("play",{fontCharacter:"\\eb2c"}),Zn.run=new Zn("run",{fontCharacter:"\\eb2c"}),Zn.plug=new Zn("plug",{fontCharacter:"\\eb2d"}),Zn.preserveCase=new Zn("preserve-case",{fontCharacter:"\\eb2e"}),Zn.preview=new Zn("preview",{fontCharacter:"\\eb2f"}),Zn.project=new Zn("project",{fontCharacter:"\\eb30"}),Zn.pulse=new Zn("pulse",{fontCharacter:"\\eb31"}),Zn.question=new Zn("question",{fontCharacter:"\\eb32"}),Zn.quote=new Zn("quote",{fontCharacter:"\\eb33"}),Zn.radioTower=new Zn("radio-tower",{fontCharacter:"\\eb34"}),Zn.reactions=new Zn("reactions",{fontCharacter:"\\eb35"}),Zn.references=new Zn("references",{fontCharacter:"\\eb36"}),Zn.refresh=new Zn("refresh",{fontCharacter:"\\eb37"}),Zn.regex=new Zn("regex",{fontCharacter:"\\eb38"}),Zn.remoteExplorer=new Zn("remote-explorer",{fontCharacter:"\\eb39"}),Zn.remote=new Zn("remote",{fontCharacter:"\\eb3a"}),Zn.remove=new Zn("remove",{fontCharacter:"\\eb3b"}),Zn.replaceAll=new Zn("replace-all",{fontCharacter:"\\eb3c"}),Zn.replace=new Zn("replace",{fontCharacter:"\\eb3d"}),Zn.repoClone=new Zn("repo-clone",{fontCharacter:"\\eb3e"}),Zn.repoForcePush=new Zn("repo-force-push",{fontCharacter:"\\eb3f"}),Zn.repoPull=new Zn("repo-pull",{fontCharacter:"\\eb40"}),Zn.repoPush=new Zn("repo-push",{fontCharacter:"\\eb41"}),Zn.report=new Zn("report",{fontCharacter:"\\eb42"}),Zn.requestChanges=new Zn("request-changes",{fontCharacter:"\\eb43"}),Zn.rocket=new Zn("rocket",{fontCharacter:"\\eb44"}),Zn.rootFolderOpened=new Zn("root-folder-opened",{fontCharacter:"\\eb45"}),Zn.rootFolder=new Zn("root-folder",{fontCharacter:"\\eb46"}),Zn.rss=new Zn("rss",{fontCharacter:"\\eb47"}),Zn.ruby=new Zn("ruby",{fontCharacter:"\\eb48"}),Zn.saveAll=new Zn("save-all",{fontCharacter:"\\eb49"}),Zn.saveAs=new Zn("save-as",{fontCharacter:"\\eb4a"}),Zn.save=new Zn("save",{fontCharacter:"\\eb4b"}),Zn.screenFull=new Zn("screen-full",{fontCharacter:"\\eb4c"}),Zn.screenNormal=new Zn("screen-normal",{fontCharacter:"\\eb4d"}),Zn.searchStop=new Zn("search-stop",{fontCharacter:"\\eb4e"}),Zn.server=new Zn("server",{fontCharacter:"\\eb50"}),Zn.settingsGear=new Zn("settings-gear",{fontCharacter:"\\eb51"}),Zn.settings=new Zn("settings",{fontCharacter:"\\eb52"}),Zn.shield=new Zn("shield",{fontCharacter:"\\eb53"}),Zn.smiley=new Zn("smiley",{fontCharacter:"\\eb54"}),Zn.sortPrecedence=new Zn("sort-precedence",{fontCharacter:"\\eb55"}),Zn.splitHorizontal=new Zn("split-horizontal",{fontCharacter:"\\eb56"}),Zn.splitVertical=new Zn("split-vertical",{fontCharacter:"\\eb57"}),Zn.squirrel=new Zn("squirrel",{fontCharacter:"\\eb58"}),Zn.starFull=new Zn("star-full",{fontCharacter:"\\eb59"}),Zn.starHalf=new Zn("star-half",{fontCharacter:"\\eb5a"}),Zn.symbolClass=new Zn("symbol-class",{fontCharacter:"\\eb5b"}),Zn.symbolColor=new Zn("symbol-color",{fontCharacter:"\\eb5c"}),Zn.symbolConstant=new Zn("symbol-constant",{fontCharacter:"\\eb5d"}),Zn.symbolEnumMember=new Zn("symbol-enum-member",{fontCharacter:"\\eb5e"}),Zn.symbolField=new Zn("symbol-field",{fontCharacter:"\\eb5f"}),Zn.symbolFile=new Zn("symbol-file",{fontCharacter:"\\eb60"}),Zn.symbolInterface=new Zn("symbol-interface",{fontCharacter:"\\eb61"}),Zn.symbolKeyword=new Zn("symbol-keyword",{fontCharacter:"\\eb62"}),Zn.symbolMisc=new Zn("symbol-misc",{fontCharacter:"\\eb63"}),Zn.symbolOperator=new Zn("symbol-operator",{fontCharacter:"\\eb64"}),Zn.symbolProperty=new Zn("symbol-property",{fontCharacter:"\\eb65"}),Zn.wrench=new Zn("wrench",{fontCharacter:"\\eb65"}),Zn.wrenchSubaction=new Zn("wrench-subaction",{fontCharacter:"\\eb65"}),Zn.symbolSnippet=new Zn("symbol-snippet",{fontCharacter:"\\eb66"}),Zn.tasklist=new Zn("tasklist",{fontCharacter:"\\eb67"}),Zn.telescope=new Zn("telescope",{fontCharacter:"\\eb68"}),Zn.textSize=new Zn("text-size",{fontCharacter:"\\eb69"}),Zn.threeBars=new Zn("three-bars",{fontCharacter:"\\eb6a"}),Zn.thumbsdown=new Zn("thumbsdown",{fontCharacter:"\\eb6b"}),Zn.thumbsup=new Zn("thumbsup",{fontCharacter:"\\eb6c"}),Zn.tools=new Zn("tools",{fontCharacter:"\\eb6d"}),Zn.triangleDown=new Zn("triangle-down",{fontCharacter:"\\eb6e"}),Zn.triangleLeft=new Zn("triangle-left",{fontCharacter:"\\eb6f"}),Zn.triangleRight=new Zn("triangle-right",{fontCharacter:"\\eb70"}),Zn.triangleUp=new Zn("triangle-up",{fontCharacter:"\\eb71"}),Zn.twitter=new Zn("twitter",{fontCharacter:"\\eb72"}),Zn.unfold=new Zn("unfold",{fontCharacter:"\\eb73"}),Zn.unlock=new Zn("unlock",{fontCharacter:"\\eb74"}),Zn.unmute=new Zn("unmute",{fontCharacter:"\\eb75"}),Zn.unverified=new Zn("unverified",{fontCharacter:"\\eb76"}),Zn.verified=new Zn("verified",{fontCharacter:"\\eb77"}),Zn.versions=new Zn("versions",{fontCharacter:"\\eb78"}),Zn.vmActive=new Zn("vm-active",{fontCharacter:"\\eb79"}),Zn.vmOutline=new Zn("vm-outline",{fontCharacter:"\\eb7a"}),Zn.vmRunning=new Zn("vm-running",{fontCharacter:"\\eb7b"}),Zn.watch=new Zn("watch",{fontCharacter:"\\eb7c"}),Zn.whitespace=new Zn("whitespace",{fontCharacter:"\\eb7d"}),Zn.wholeWord=new Zn("whole-word",{fontCharacter:"\\eb7e"}),Zn.window=new Zn("window",{fontCharacter:"\\eb7f"}),Zn.wordWrap=new Zn("word-wrap",{fontCharacter:"\\eb80"}),Zn.zoomIn=new Zn("zoom-in",{fontCharacter:"\\eb81"}),Zn.zoomOut=new Zn("zoom-out",{fontCharacter:"\\eb82"}),Zn.listFilter=new Zn("list-filter",{fontCharacter:"\\eb83"}),Zn.listFlat=new Zn("list-flat",{fontCharacter:"\\eb84"}),Zn.listSelection=new Zn("list-selection",{fontCharacter:"\\eb85"}),Zn.selection=new Zn("selection",{fontCharacter:"\\eb85"}),Zn.listTree=new Zn("list-tree",{fontCharacter:"\\eb86"}),Zn.debugBreakpointFunctionUnverified=new Zn("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),Zn.debugBreakpointFunction=new Zn("debug-breakpoint-function",{fontCharacter:"\\eb88"}),Zn.debugBreakpointFunctionDisabled=new Zn("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),Zn.debugStackframeActive=new Zn("debug-stackframe-active",{fontCharacter:"\\eb89"}),Zn.debugStackframeDot=new Zn("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),Zn.debugStackframe=new Zn("debug-stackframe",{fontCharacter:"\\eb8b"}),Zn.debugStackframeFocused=new Zn("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),Zn.debugBreakpointUnsupported=new Zn("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),Zn.symbolString=new Zn("symbol-string",{fontCharacter:"\\eb8d"}),Zn.debugReverseContinue=new Zn("debug-reverse-continue",{fontCharacter:"\\eb8e"}),Zn.debugStepBack=new Zn("debug-step-back",{fontCharacter:"\\eb8f"}),Zn.debugRestartFrame=new Zn("debug-restart-frame",{fontCharacter:"\\eb90"}),Zn.callIncoming=new Zn("call-incoming",{fontCharacter:"\\eb92"}),Zn.callOutgoing=new Zn("call-outgoing",{fontCharacter:"\\eb93"}),Zn.menu=new Zn("menu",{fontCharacter:"\\eb94"}),Zn.expandAll=new Zn("expand-all",{fontCharacter:"\\eb95"}),Zn.feedback=new Zn("feedback",{fontCharacter:"\\eb96"}),Zn.groupByRefType=new Zn("group-by-ref-type",{fontCharacter:"\\eb97"}),Zn.ungroupByRefType=new Zn("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),Zn.account=new Zn("account",{fontCharacter:"\\eb99"}),Zn.bellDot=new Zn("bell-dot",{fontCharacter:"\\eb9a"}),Zn.debugConsole=new Zn("debug-console",{fontCharacter:"\\eb9b"}),Zn.library=new Zn("library",{fontCharacter:"\\eb9c"}),Zn.output=new Zn("output",{fontCharacter:"\\eb9d"}),Zn.runAll=new Zn("run-all",{fontCharacter:"\\eb9e"}),Zn.syncIgnored=new Zn("sync-ignored",{fontCharacter:"\\eb9f"}),Zn.pinned=new Zn("pinned",{fontCharacter:"\\eba0"}),Zn.githubInverted=new Zn("github-inverted",{fontCharacter:"\\eba1"}),Zn.debugAlt=new Zn("debug-alt",{fontCharacter:"\\eb91"}),Zn.serverProcess=new Zn("server-process",{fontCharacter:"\\eba2"}),Zn.serverEnvironment=new Zn("server-environment",{fontCharacter:"\\eba3"}),Zn.pass=new Zn("pass",{fontCharacter:"\\eba4"}),Zn.stopCircle=new Zn("stop-circle",{fontCharacter:"\\eba5"}),Zn.playCircle=new Zn("play-circle",{fontCharacter:"\\eba6"}),Zn.record=new Zn("record",{fontCharacter:"\\eba7"}),Zn.debugAltSmall=new Zn("debug-alt-small",{fontCharacter:"\\eba8"}),Zn.vmConnect=new Zn("vm-connect",{fontCharacter:"\\eba9"}),Zn.cloud=new Zn("cloud",{fontCharacter:"\\ebaa"}),Zn.merge=new Zn("merge",{fontCharacter:"\\ebab"}),Zn.exportIcon=new Zn("export",{fontCharacter:"\\ebac"}),Zn.graphLeft=new Zn("graph-left",{fontCharacter:"\\ebad"}),Zn.magnet=new Zn("magnet",{fontCharacter:"\\ebae"}),Zn.notebook=new Zn("notebook",{fontCharacter:"\\ebaf"}),Zn.redo=new Zn("redo",{fontCharacter:"\\ebb0"}),Zn.checkAll=new Zn("check-all",{fontCharacter:"\\ebb1"}),Zn.pinnedDirty=new Zn("pinned-dirty",{fontCharacter:"\\ebb2"}),Zn.passFilled=new Zn("pass-filled",{fontCharacter:"\\ebb3"}),Zn.circleLargeFilled=new Zn("circle-large-filled",{fontCharacter:"\\ebb4"}),Zn.circleLargeOutline=new Zn("circle-large-outline",{fontCharacter:"\\ebb5"}),Zn.combine=new Zn("combine",{fontCharacter:"\\ebb6"}),Zn.gather=new Zn("gather",{fontCharacter:"\\ebb6"}),Zn.table=new Zn("table",{fontCharacter:"\\ebb7"}),Zn.variableGroup=new Zn("variable-group",{fontCharacter:"\\ebb8"}),Zn.typeHierarchy=new Zn("type-hierarchy",{fontCharacter:"\\ebb9"}),Zn.typeHierarchySub=new Zn("type-hierarchy-sub",{fontCharacter:"\\ebba"}),Zn.typeHierarchySuper=new Zn("type-hierarchy-super",{fontCharacter:"\\ebbb"}),Zn.gitPullRequestCreate=new Zn("git-pull-request-create",{fontCharacter:"\\ebbc"}),Zn.runAbove=new Zn("run-above",{fontCharacter:"\\ebbd"}),Zn.runBelow=new Zn("run-below",{fontCharacter:"\\ebbe"}),Zn.notebookTemplate=new Zn("notebook-template",{fontCharacter:"\\ebbf"}),Zn.debugRerun=new Zn("debug-rerun",{fontCharacter:"\\ebc0"}),Zn.workspaceTrusted=new Zn("workspace-trusted",{fontCharacter:"\\ebc1"}),Zn.workspaceUntrusted=new Zn("workspace-untrusted",{fontCharacter:"\\ebc2"}),Zn.workspaceUnspecified=new Zn("workspace-unspecified",{fontCharacter:"\\ebc3"}),Zn.terminalCmd=new Zn("terminal-cmd",{fontCharacter:"\\ebc4"}),Zn.terminalDebian=new Zn("terminal-debian",{fontCharacter:"\\ebc5"}),Zn.terminalLinux=new Zn("terminal-linux",{fontCharacter:"\\ebc6"}),Zn.terminalPowershell=new Zn("terminal-powershell",{fontCharacter:"\\ebc7"}),Zn.terminalTmux=new Zn("terminal-tmux",{fontCharacter:"\\ebc8"}),Zn.terminalUbuntu=new Zn("terminal-ubuntu",{fontCharacter:"\\ebc9"}),Zn.terminalBash=new Zn("terminal-bash",{fontCharacter:"\\ebca"}),Zn.arrowSwap=new Zn("arrow-swap",{fontCharacter:"\\ebcb"}),Zn.copy=new Zn("copy",{fontCharacter:"\\ebcc"}),Zn.personAdd=new Zn("person-add",{fontCharacter:"\\ebcd"}),Zn.filterFilled=new Zn("filter-filled",{fontCharacter:"\\ebce"}),Zn.wand=new Zn("wand",{fontCharacter:"\\ebcf"}),Zn.debugLineByLine=new Zn("debug-line-by-line",{fontCharacter:"\\ebd0"}),Zn.inspect=new Zn("inspect",{fontCharacter:"\\ebd1"}),Zn.layers=new Zn("layers",{fontCharacter:"\\ebd2"}),Zn.layersDot=new Zn("layers-dot",{fontCharacter:"\\ebd3"}),Zn.layersActive=new Zn("layers-active",{fontCharacter:"\\ebd4"}),Zn.compass=new Zn("compass",{fontCharacter:"\\ebd5"}),Zn.compassDot=new Zn("compass-dot",{fontCharacter:"\\ebd6"}),Zn.compassActive=new Zn("compass-active",{fontCharacter:"\\ebd7"}),Zn.azure=new Zn("azure",{fontCharacter:"\\ebd8"}),Zn.issueDraft=new Zn("issue-draft",{fontCharacter:"\\ebd9"}),Zn.gitPullRequestClosed=new Zn("git-pull-request-closed",{fontCharacter:"\\ebda"}),Zn.gitPullRequestDraft=new Zn("git-pull-request-draft",{fontCharacter:"\\ebdb"}),Zn.debugAll=new Zn("debug-all",{fontCharacter:"\\ebdc"}),Zn.debugCoverage=new Zn("debug-coverage",{fontCharacter:"\\ebdd"}),Zn.runErrors=new Zn("run-errors",{fontCharacter:"\\ebde"}),Zn.folderLibrary=new Zn("folder-library",{fontCharacter:"\\ebdf"}),Zn.debugContinueSmall=new Zn("debug-continue-small",{fontCharacter:"\\ebe0"}),Zn.beakerStop=new Zn("beaker-stop",{fontCharacter:"\\ebe1"}),Zn.graphLine=new Zn("graph-line",{fontCharacter:"\\ebe2"}),Zn.graphScatter=new Zn("graph-scatter",{fontCharacter:"\\ebe3"}),Zn.pieChart=new Zn("pie-chart",{fontCharacter:"\\ebe4"}),Zn.bracket=new Zn("bracket",Zn.json.definition),Zn.bracketDot=new Zn("bracket-dot",{fontCharacter:"\\ebe5"}),Zn.bracketError=new Zn("bracket-error",{fontCharacter:"\\ebe6"}),Zn.lockSmall=new Zn("lock-small",{fontCharacter:"\\ebe7"}),Zn.azureDevops=new Zn("azure-devops",{fontCharacter:"\\ebe8"}),Zn.verifiedFilled=new Zn("verified-filled",{fontCharacter:"\\ebe9"});const Jn=Tn("commandService"),Qn=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new X,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let n of e.description.args)t.push(n.constraint);const i=e.handler;e.handler=function(e,...n){return function(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)De(e[n],t[n])}(n,t),i(e,...n)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new S,this._commands.set(i,n));let o=n.unshift(e),s=_((()=>{o();const e=this._commands.get(i);(null==e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),s}registerCommandAlias(e,t){return Qn.registerCommand(e,((e,...i)=>e.get(Jn).executeCommand(t,...i)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return h.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};function Yn(e){return!e||"string"!=typeof e||0===e.trim().length}Qn.registerCommand("noop",(()=>{}));const Xn=/{(\d+)}/g;function eo(e,...t){return 0===t.length?e:e.replace(Xn,(function(e,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=t.length?e:t[n]}))}function to(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function io(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function no(e,t=" "){return so(oo(e,t),t)}function oo(e,t){if(!e||!t)return e;const i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function so(e,t){if(!e||!t)return e;const i=t.length,n=e.length;if(0===i||0===n)return e;let o=n,s=-1;for(;s=e.lastIndexOf(t,o-1),-1!==s&&s+i===o;){if(0===s)return"";o=s}return e.substring(0,o)}function ro(e,t,i={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=io(e)),i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),i.unicode&&(n+="u"),new RegExp(e,n)}function ao(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function lo(e){return e.split(/\r\n|\r|\n/)}function co(e){for(let t=0,i=e.length;t<i;t++){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function ho(e,t=0,i=e.length){for(let n=t;n<i;n++){const i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,i)}function uo(e,t=e.length-1){for(let i=t;i>=0;i--){const t=e.charCodeAt(i);if(32!==t&&9!==t)return i}return-1}function go(e,t){return e<t?-1:e>t?1:0}function mo(e,t,i=0,n=e.length,o=0,s=t.length){for(;i<n&&o<s;i++,o++){let n=e.charCodeAt(i),s=t.charCodeAt(o);if(n<s)return-1;if(n>s)return 1}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function po(e,t){return fo(e,t,0,e.length,0,t.length)}function fo(e,t,i=0,n=e.length,o=0,s=t.length){for(;i<n&&o<s;i++,o++){let r=e.charCodeAt(i),a=t.charCodeAt(o);if(r===a)continue;if(r>=128||a>=128)return mo(e.toLowerCase(),t.toLowerCase(),i,n,o,s);_o(r)&&(r-=32),_o(a)&&(a-=32);const l=r-a;if(0!==l)return l}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function _o(e){return e>=97&&e<=122}function bo(e){return e>=65&&e<=90}function vo(e,t){return e.length===t.length&&0===fo(e,t)}function wo(e,t){const i=t.length;return!(t.length>e.length)&&0===fo(e,t,0,i)}function Co(e,t){let i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n}function yo(e,t){let i,n=Math.min(e.length,t.length);const o=e.length-1,s=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(o-i)!==t.charCodeAt(s-i))return i;return n}function So(e){return 55296<=e&&e<=56319}function ko(e){return 56320<=e&&e<=57343}function xo(e,t){return t-56320+(e-55296<<10)+65536}function Lo(e,t,i){const n=e.charCodeAt(i);if(So(n)&&i+1<t){const t=e.charCodeAt(i+1);if(ko(t))return xo(n,t)}return n}function Do(e,t){const i=e.charCodeAt(t-1);if(ko(i)&&t>1){const n=e.charCodeAt(t-2);if(So(n))return xo(n,i)}return i}function Eo(e,t){const i=Uo.getInstance(),n=t,o=e.length,s=Lo(e,o,t);t+=s>=65536?2:1;let r=i.getGraphemeBreakType(s);for(;t<o;){const n=Lo(e,o,t),s=i.getGraphemeBreakType(n);if(zo(r,s))break;t+=n>=65536?2:1,r=s}return t-n}const No=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Io(e){return No.test(e)}const To=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;const Mo=/^[\t\n\r\x20-\x7E]*$/;function Ao(e){return Mo.test(e)}const Ro=/[\u2028\u2029]/;function Oo(e){return Ro.test(e)}function Po(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function Fo(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129750}const Bo=String.fromCharCode(65279);function Wo(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function Vo(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function Ho(e){return Uo.getInstance().getGraphemeBreakType(e)}function zo(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}class Uo{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return Uo._INSTANCE||(Uo._INSTANCE=new Uo),Uo._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}function Ko(e,t){if(0===e)return 0;const i=function(e,t){let i=Do(t,e);e-=jo(i);for(;$o(i)||65039===i||8419===i;){if(0===e)return;i=Do(t,e),e-=jo(i)}if(!Fo(i))return;if(e>=0){const i=Do(t,e);8205===i&&(e-=jo(i))}return e}(e,t);if(void 0!==i)return i;return e-=jo(Do(t,e))}function jo(e){return e>=65536?2:1}function $o(e){return 127995<=e&&e<=127999}Uo._INSTANCE=null;let qo=U||"";const Go=new Map;Go.set("false",!1),Go.set("true",!0),Go.set("isMac",B),Go.set("isLinux",W),Go.set("isWindows",F),Go.set("isWeb",H),Go.set("isMacNative",B&&!H),Go.set("isEdge",qo.indexOf("Edg/")>=0),Go.set("isFirefox",qo.indexOf("Firefox")>=0),Go.set("isChrome",qo.indexOf("Chrome")>=0),Go.set("isSafari",qo.indexOf("Safari")>=0);const Zo=Object.prototype.hasOwnProperty;class Jo{static has(e){return es.create(e)}static equals(e,t){return ts.create(e,t)}static regex(e,t){return hs.create(e,t)}static not(e){return ss.create(e)}static and(...e){return ms.create(e,null)}static or(...e){return ps.create(e,null,!0)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return ps.create(i.map((e=>this._deserializeAndExpression(e,t))),null,!0)}static _deserializeAndExpression(e,t){let i=e.split("&&");return ms.create(i.map((e=>this._deserializeOne(e,t))),null)}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let i=e.split("!=");return os.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return ts.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return hs.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return is.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return ls.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return as.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return cs.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return ds.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?ss.create(e.substr(1).trim()):es.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(Yn(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let o=e.slice(i+1,n),s="i"===e[n+1]?"i":"";try{return new RegExp(o,s)}catch(G1){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${G1}`);return console.warn(`bad regexp-value '${e}', parse error: ${G1}`),null}}}function Qo(e,t){return e.cmp(t)}class Yo{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Xo.INSTANCE}}Yo.INSTANCE=new Yo;class Xo{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Yo.INSTANCE}}Xo.INSTANCE=new Xo;class es{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const i=Go.get(e);return"boolean"==typeof i?i?Xo.INSTANCE:Yo.INSTANCE:new es(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bs(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=Go.get(this.key);return"boolean"==typeof e?e?Xo.INSTANCE:Yo.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=ss.create(this.key,this)),this.negated}}class ts{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if("boolean"==typeof t)return t?es.create(e,i):ss.create(e,i);const n=Go.get(e);if("boolean"==typeof n){return t===(n?"true":"false")?Xo.INSTANCE:Yo.INSTANCE}return new ts(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:vs(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=Go.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?Xo.INSTANCE:Yo.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=os.create(this.key,this.value,this)),this.negated}}class is{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new is(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:vs(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:"string"==typeof i&&"object"==typeof t&&null!==t&&Zo.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=ns.create(this)),this.negated}}class ns{constructor(e){this._actual=e,this.type=11}static create(e){return new ns(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class os{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if("boolean"==typeof t)return t?ss.create(e,i):es.create(e,i);const n=Go.get(e);if("boolean"==typeof n){return t===(n?"true":"false")?Yo.INSTANCE:Xo.INSTANCE}return new os(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:vs(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=Go.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?Yo.INSTANCE:Xo.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ts.create(this.key,this.value,this)),this.negated}}class ss{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const i=Go.get(e);return"boolean"==typeof i?i?Yo.INSTANCE:Xo.INSTANCE:new ss(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:bs(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=Go.get(this.key);return"boolean"==typeof e?e?Yo.INSTANCE:Xo.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=es.create(this.key,this)),this.negated}}function rs(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):Yo.INSTANCE}class as{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return rs(t,(t=>new as(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:vs(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=cs.create(this.key,this.value,this)),this.negated}}class ls{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return rs(t,(t=>new ls(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:vs(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ds.create(this.key,this.value,this)),this.negated}}class ds{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return rs(t,(t=>new ds(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:vs(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ls.create(this.key,this.value,this)),this.negated}}class cs{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return rs(t,(t=>new cs(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:vs(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=as.create(this.key,this.value,this)),this.negated}}class hs{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new hs(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=us.create(this)),this.negated}}class us{constructor(e){this._actual=e,this.type=8}static create(e){return new us(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function gs(e){let t=null;for(let i=0,n=e.length;i<n;i++){const n=e[i].substituteConstants();if(e[i]!==n&&null===t){t=[];for(let n=0;n<i;n++)t[n]=e[n]}null!==t&&(t[i]=n)}return null===t?e:t}class ms{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return ms._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Qo(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=gs(this.expr);return e===this.expr?this:ms.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const i=[];let n=!1;for(const o of e)if(o)if(1!==o.type){if(0===o.type)return Yo.INSTANCE;6!==o.type?i.push(o):i.push(...o.expr)}else n=!0;if(0===i.length&&n)return Xo.INSTANCE;if(0!==i.length){if(1===i.length)return i[0];i.sort(Qo);for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];for(;i.length>1;){const e=i[i.length-1];if(9!==e.type)break;i.pop();const t=i.pop(),n=0===i.length,o=ps.create(e.expr.map((e=>ms.create([e,t],null))),null,n);o&&(i.push(o),i.sort(Qo))}return 1===i.length?i[0]:new ms(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(let t of this.expr)e.push(t.negate());this.negated=ps.create(e,this,!0)}return this.negated}}class ps{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return ps._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Qo(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=gs(this.expr);return e===this.expr?this:ps.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i)if(0!==i.type){if(1===i.type)return Xo.INSTANCE;9!==i.type?n.push(i):n=n.concat(i.expr)}else o=!0}if(0===n.length&&o)return Yo.INSTANCE;n.sort(Qo)}if(0!==n.length){if(1===n.length)return n[0];for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)ws(n[e],n[t])&&(n.splice(t,1),t--);if(1===n.length)return n[0]}return new ps(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),n=[];for(const e of Cs(t))for(const t of Cs(i))n.push(ms.create([e,t],null));const o=0===e.length;e.unshift(ps.create(n,null,o))}this.negated=e[0]}return this.negated}}class fs extends es{constructor(e,t,i){super(e,null),this._defaultValue=t,"object"==typeof i?fs._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&fs._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}static all(){return fs._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return ts.create(this.key,e)}}fs._info=[];const _s=Tn("contextKeyService");function bs(e,t){return e<t?-1:e>t?1:0}function vs(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}function ws(e,t){if(6===t.type&&9!==e.type&&6!==e.type)for(const n of t.expr)if(e.equals(n))return!0;const i=Cs(e.negate()).concat(Cs(t));i.sort(Qo);for(let n=0;n<i.length;n++){const e=i[n].negate();for(let t=n+1;t<i.length;t++){const n=i[t];if(e.equals(n))return!0}}return!1}function Cs(e){return 9===e.type?e.expr:[e]}function ys(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}const Ss=new class{constructor(){this.data=new Map}add(e,t){ys(_e(e)),ys(be(t)),ys(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}};var ks,xs;(xs=ks||(ks={})).DARK="dark",xs.LIGHT="light",xs.HIGH_CONTRAST="hc";const Ls=Tn("themeService");var Ds,Es;function Ns(e){return{id:e}}function Is(e){switch(e){case ks.DARK:return"vs-dark";case ks.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(Ds||(Ds={})).isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id},function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||Ds.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${Gn.iconNameExpression}(?:${Gn.iconModifierExpression})?)\\)$`);e.fromString=function(e){const i=t.exec(e);if(!i)return;let[,n]=i;return{id:n}},e.modify=function(e,t){let i=e.id;const n=i.lastIndexOf("~");return-1!==n&&(i=i.substring(0,n)),t&&(i=`${i}~${t}`),{id:i}},e.isEqual=function(e,t){var i,n;return e.id===t.id&&(null===(i=e.color)||void 0===i?void 0:i.id)===(null===(n=t.color)||void 0===n?void 0:n.id)},e.asThemeIcon=function(e,t){return{id:e.id,color:t?Ns(t):void 0}},e.asClassNameArray=Gn.asClassNameArray,e.asClassName=Gn.asClassName,e.asCSSSelector=Gn.asCSSSelector}(Es||(Es={}));const Ts="base.contributions.theming";let Ms=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new X}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),_((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function As(e){return Ms.onColorThemeChange(e)}Ss.add(Ts,Ms);class Rs extends v{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var Os=function(e,t){return function(i,n){t(i,n,e)}};function Ps(e){return void 0!==e.command}class Fs{constructor(e){this.id=Fs._idPool++,this._debugName=e}}Fs._idPool=0,Fs.CommandPalette=new Fs("CommandPalette"),Fs.EditorContext=new Fs("EditorContext"),Fs.SimpleEditorContext=new Fs("SimpleEditorContext"),Fs.EditorContextCopy=new Fs("EditorContextCopy"),Fs.EditorContextPeek=new Fs("EditorContextPeek"),Fs.MenubarEditMenu=new Fs("MenubarEditMenu"),Fs.MenubarCopy=new Fs("MenubarCopy"),Fs.MenubarGoMenu=new Fs("MenubarGoMenu"),Fs.MenubarSelectionMenu=new Fs("MenubarSelectionMenu"),Fs.InlineCompletionsActions=new Fs("InlineCompletionsActions");const Bs=Tn("menuService"),Ws=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new X,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===Fs.CommandPalette}}addCommand(e){return this.addCommands(h.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),_((()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){return this.appendMenuItems(h.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new S;for(const{id:n,item:o}of e){let e=this._menuItems.get(n);e||(e=new S,this._menuItems.set(n,e)),i.push(e.push(o)),t.add(n)}return this._onDidChangeMenu.fire(t),_((()=>{if(i.size>0){for(let e of i)e();this._onDidChangeMenu.fire(t),i.clear()}}))}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===Fs.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)Ps(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};class Vs extends zn{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,n]of i)n.length>0&&(e.push(...n),e.push(new Hn));return e.length&&e.pop(),e}}let Hs=class e{constructor(t,i,n,o,s){var r,a;if(this._commandService=s,this.id=t.id,this.label=(null==n?void 0:n.renderShortTitle)&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(a="string"==typeof t.tooltip?t.tooltip:null===(r=t.tooltip)||void 0===r?void 0:r.value)&&void 0!==a?a:"",this.enabled=!t.precondition||o.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=o.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=i?new e(i,void 0,n,o,s):void 0,this._options=n,Es.isThemeIcon(t.icon)&&(this.class=Gn.asClassName(t.icon))}dispose(){}run(...e){var t,i;let n=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(n=[...n,this._options.arg]),(null===(i=this._options)||void 0===i?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};Hs=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Os(3,_s),Os(4,Jn)],Hs);class zs{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===j){if(e&&e.win)return e.win}else if(2===j){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=zs.bindToCurrentPlatform(e);if(t&&t.primary){const i=je(t.primary,j);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,n=t.secondary.length;i<n;i++){const n=je(t.secondary[i],j);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),Qn.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&zs._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,o,s){1===j&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:s,weight1:n,weight2:o,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Ks)),this._cachedMergedKeybindings.slice(0)}}const Us=new zs;function Ks(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}Ss.add("platform.keybindingsRegistry",Us);const js=Tn("telemetryService"),$s=Tn("logService");var qs,Gs;(Gs=qs||(qs={}))[Gs.Trace=0]="Trace",Gs[Gs.Debug=1]="Debug",Gs[Gs.Info=2]="Info",Gs[Gs.Warning=3]="Warning",Gs[Gs.Error=4]="Error",Gs[Gs.Critical=5]="Critical",Gs[Gs.Off=6]="Off";const Zs=qs.Info;class Js extends v{constructor(){super(...arguments),this.level=Zs,this._onDidChangeLogLevel=this._register(new X)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class Qs extends Js{constructor(e=Zs){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=qs.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=qs.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=qs.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=qs.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class Ys extends v{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}class Xs{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?Jo.and(e,this.precondition):this.precondition);const i={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};Us.registerKeybindingRule(i)}}Qn.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){Ws.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class er extends Xs{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get($s);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const n of this._implementations){const o=n.implementation(e,t);if(o){if(i.trace(`Command '${this.id}' was handled by '${n.name}'.`),"boolean"==typeof o)return;return o}}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class tr extends Xs{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class ir extends Xs{static bindToContribution(e){return class extends ir{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){e(i)&&this._callback(e(i),n)}}}runCommand(e,t){const i=e.get(An),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(n)return n.invokeWithinContext((e=>{if(e.get(_s).contextMatchesRules(Ne(this.precondition)))return this.runEditorCommand(e,n,t)}))}}class nr extends ir{constructor(e){super(nr.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=Fs.EditorContext),t.title||(t.title=e.label),t.when=Jo.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(js).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class or extends nr{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,i){for(const n of this._implementations){const o=n[1](e,t,i);if(o){if("boolean"==typeof o)return;return o}}}}function sr(e,t){Qn.registerCommand(e,(function(e,...i){const[n,o]=i;ke(Yt.isUri(n)),ke(Rn.isIPosition(o));const s=e.get(On).getModel(n);if(s){const e=Rn.lift(o);return t(s,e,...i.slice(2))}return e.get(Fn).createModelReference(n).then((e=>new Promise(((n,s)=>{try{n(t(e.object.textEditorModel,Rn.lift(o),i.slice(2)))}catch(r){s(r)}})).finally((()=>{e.dispose()}))))}))}function rr(e){return gr.INSTANCE.registerEditorCommand(e),e}function ar(e){const t=new e;return gr.INSTANCE.registerEditorAction(t),t}function lr(e){return gr.INSTANCE.registerEditorAction(e),e}function dr(e){gr.INSTANCE.registerEditorAction(e)}function cr(e,t){gr.INSTANCE.registerEditorContribution(e,t)}var hr,ur;(ur=hr||(hr={})).getEditorCommand=function(e){return gr.INSTANCE.getEditorCommand(e)},ur.getEditorActions=function(){return gr.INSTANCE.getEditorActions()},ur.getEditorContributions=function(){return gr.INSTANCE.getEditorContributions()},ur.getSomeEditorContributions=function(e){return gr.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},ur.getDiffEditorContributions=function(){return gr.INSTANCE.getDiffEditorContributions()};class gr{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function mr(e){return e.register(),e}gr.INSTANCE=new gr,Ss.add("editor.contributions",gr.INSTANCE);const pr=mr(new er({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Fs.MenubarEditMenu,group:"1_do",title:t("vs/editor/browser/editorExtensions",{key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:Fs.CommandPalette,group:"",title:t("vs/editor/browser/editorExtensions","undo","Undo"),order:1}]}));mr(new tr(pr,{id:"default:undo",precondition:void 0}));const fr=mr(new er({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Fs.MenubarEditMenu,group:"1_do",title:t("vs/editor/browser/editorExtensions",{key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:Fs.CommandPalette,group:"",title:t("vs/editor/browser/editorExtensions","redo","Redo"),order:1}]}));mr(new tr(fr,{id:"default:redo",precondition:void 0}));const _r=mr(new er({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Fs.MenubarSelectionMenu,group:"1_basic",title:t("vs/editor/browser/editorExtensions",{key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:Fs.CommandPalette,group:"",title:t("vs/editor/browser/editorExtensions","selectAll","Select All"),order:1}]}));class br{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return br.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return br.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return br.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return br.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return br.plusRange(this,e)}static plusRange(e,t){let i,n,o,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new br(i,n,o,s)}intersectRanges(e){return br.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,r=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,d=t.endColumn;return i<r?(i=r,n=a):i===r&&(n=Math.max(n,a)),o>l?(o=l,s=d):o===l&&(s=Math.min(s,d)),i>o||i===o&&n>s?null:new br(i,n,o,s)}equalsRange(e){return br.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return br.getEndPosition(this)}static getEndPosition(e){return new Rn(e.endLineNumber,e.endColumn)}getStartPosition(){return br.getStartPosition(this)}static getStartPosition(e){return new Rn(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new br(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new br(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return br.collapseToStart(this)}static collapseToStart(e){return new br(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new br(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new br(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const i=0|e.startLineNumber,n=0|t.startLineNumber;if(i===n){const i=0|e.startColumn,n=0|t.startColumn;if(i===n){const i=0|e.endLineNumber,n=0|t.endLineNumber;if(i===n){return(0|e.endColumn)-(0|t.endColumn)}return i-n}return i-n}return i-n}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}class vr extends br{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return vr.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new vr(this.startLineNumber,this.startColumn,e,t):new vr(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Rn(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new vr(e,t,this.endLineNumber,this.endColumn):new vr(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new vr(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new vr(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,i,n,o){return 0===o?new vr(e,t,i,n):new vr(i,n,e,t)}}const wr=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const i of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")e.indexOf(i)>=0||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function Cr(e){let t=wr;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const yr={maxLen:1e3,windowSize:15,timeBudget:150};function Sr(e,t,i,n,o=yr){if(i.length>o.maxLen){let s=e-o.maxLen/2;return s<0?s=0:n+=s,Sr(e,t,i=i.substring(s,e+o.maxLen/2),n,o)}const s=Date.now(),r=e-1-n;let a=-1,l=null;for(let d=1;!(Date.now()-s>=o.timeBudget);d++){const e=r-o.windowSize*d;t.lastIndex=Math.max(0,e);const n=kr(t,i,r,a);if(!n&&l)break;if(l=n,e<=0)break;a=e}if(l){let e={word:l[0],startColumn:n+1+l.index,endColumn:n+1+l.index+l[0].length};return t.lastIndex=0,e}return null}function kr(e,t,i,n){let o;for(;o=e.exec(t);){const t=o.index||0;if(t<=i&&e.lastIndex>=i)return o;if(n>0&&t>n)return null}return null}class xr{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class Lr{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Dr{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Er{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}compute(e,t,i){return i}}class Nr{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class Ir{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}function Tr(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class Mr extends Ir{constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return Tr(e,this.defaultValue)}}function Ar(e,t,i,n){if(void 0===e)return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(i,o),o=Math.min(n,o),0|o)}class Rr extends Ir{constructor(e,t,i,n,o,s){void 0!==s&&(s.type="integer",s.default=i,s.minimum=n,s.maximum=o),super(e,t,i,s),this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){return Ar(e,t,i,n)}validate(e){return Rr.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class Or extends Ir{constructor(e,t,i,n,o){void 0!==o&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(Or.float(e,this.defaultValue))}}class Pr extends Ir{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return Pr.string(e,this.defaultValue)}}function Fr(e,t,i){return"string"!=typeof e||-1===i.indexOf(e)?t:e}class Br extends Ir{constructor(e,t,i,n,o){void 0!==o&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return Fr(e,this.defaultValue,this._allowedValues)}}class Wr extends Er{constructor(e,t,i,n,o,s,r){void 0!==r&&(r.type="string",r.enum=o,r.default=n),super(e,t,i,r),this._allowedValues=o,this._convert=s}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var Vr,Hr;(Hr=Vr||(Vr={}))[Hr.Line=1]="Line",Hr[Hr.Block=2]="Block",Hr[Hr.Underline=3]="Underline",Hr[Hr.LineThin=4]="LineThin",Hr[Hr.BlockOutline=5]="BlockOutline",Hr[Hr.UnderlineThin=6]="UnderlineThin";class zr extends Er{constructor(){super(44,"fontLigatures",zr.OFF,{anyOf:[{type:"boolean",description:t("vs/editor/common/config/editorOptions","fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:t("vs/editor/common/config/editorOptions","fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:t("vs/editor/common/config/editorOptions","fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?zr.OFF:"true"===e?zr.ON:e:Boolean(e)?zr.ON:zr.OFF}}zr.OFF='"liga" off, "calt" off',zr.ON='"liga" on, "calt" on';class Ur extends Er{constructor(){super(46,"fontWeight",Gr.fontWeight,{anyOf:[{type:"number",minimum:Ur.MINIMUM_VALUE,maximum:Ur.MAXIMUM_VALUE,errorMessage:t("vs/editor/common/config/editorOptions","fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Ur.SUGGESTION_VALUES}],default:Gr.fontWeight,description:t("vs/editor/common/config/editorOptions","fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(Rr.clampedInt(e,Gr.fontWeight,Ur.MINIMUM_VALUE,Ur.MAXIMUM_VALUE))}}Ur.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Ur.MINIMUM_VALUE=1,Ur.MAXIMUM_VALUE=1e3;class Kr extends Nr{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(e,t,i){return Kr.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const s=t.stableMinimapLayoutInput,r=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,c=e.minimap.renderCharacters;let h=o>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const u=e.minimap.maxColumn,g=e.minimap.size,m=e.minimap.side,p=e.verticalScrollbarWidth,f=e.viewLineCount,_=e.remainingWidth,b=e.isViewportWrapping,v=c?2:3;let w=Math.floor(o*n);const C=w/o;let y=!1,S=!1,k=v*h,x=h/o,L=1;if("fill"===g||"fit"===g){const{typicalViewportLineCount:i,extraLinesBeyondLastLine:s,desiredRatio:l,minimapLineCount:c}=Kr.computeContainedMinimapLineCount({viewLineCount:f,scrollBeyondLastLine:d,height:n,lineHeight:a,pixelRatio:o});if(f/c>1)y=!0,S=!0,h=1,k=1,x=h/o;else{let n=!1,d=h+1;if("fit"===g){const e=Math.ceil((f+s)*k);b&&r&&_<=t.stableFitRemainingWidth?(n=!0,d=t.stableFitMaxMinimapScale):n=e>w}if("fill"===g||n){y=!0;const n=h;k=Math.min(a*o,Math.max(1,Math.floor(1/l))),b&&r&&_<=t.stableFitRemainingWidth&&(d=t.stableFitMaxMinimapScale),h=Math.min(d,Math.max(1,Math.floor(k/v))),h>n&&(L=Math.min(2,h/n)),x=h/o/L,w=Math.ceil(Math.max(i,f+s)*k),b?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=_,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const D=Math.floor(u*x),E=Math.min(D,Math.max(0,Math.floor((_-p-2)*x/(l+x)))+8);let N=Math.floor(o*E);const I=N/o;N=Math.floor(N*L);return{renderMinimap:c?1:2,minimapLeft:"left"===m?0:i-E-p,minimapWidth:E,minimapHeightIsEditorHeight:y,minimapIsSampling:S,minimapScale:h,minimapLineHeight:k,minimapCanvasInnerWidth:N,minimapCanvasInnerHeight:w,minimapCanvasOuterWidth:I,minimapCanvasOuterHeight:C}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,o=0|t.lineHeight,s=0|t.lineNumbersDigitCount,r=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,d=t.viewLineCount,c=e.get(121),h="inherit"===c?e.get(120):c,u="inherit"===h?e.get(116):h,g=e.get(119),m=e.get(2),p=t.isDominatedByLongLines,f=e.get(49),_=0!==e.get(59).renderType,b=e.get(60),v=e.get(93),w=e.get(64),C=e.get(91),y=C.verticalScrollbarSize,S=C.verticalHasArrows,k=C.arrowSize,x=C.horizontalScrollbarSize,L=e.get(57),D=e.get(37);let E;if("string"==typeof L&&/^\d+(\.\d+)?ch$/.test(L)){const e=parseFloat(L.substr(0,L.length-2));E=Rr.clampedInt(e*r,0,0,1e3)}else E=Rr.clampedInt(L,0,0,1e3);D&&(E+=16);let N=0;if(_){const e=Math.max(s,b);N=Math.round(e*a)}let I=0;f&&(I=o);let T=0,M=T+I,A=M+N,R=A+E;const O=i-I-N-E;let P=!1,F=!1,B=-1;2!==m&&("inherit"===h&&p?(P=!0,F=!0):"on"===u||"bounded"===u?F=!0:"wordWrapColumn"===u&&(B=g));const W=Kr._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:r,pixelRatio:l,scrollBeyondLastLine:v,minimap:w,verticalScrollbarWidth:y,viewLineCount:d,remainingWidth:O,isViewportWrapping:F},t.memory||new Dr);0!==W.renderMinimap&&0===W.minimapLeft&&(T+=W.minimapWidth,M+=W.minimapWidth,A+=W.minimapWidth,R+=W.minimapWidth);const V=O-W.minimapWidth,H=Math.max(1,Math.floor((V-y-2)/r)),z=S?k:0;return F&&(B=Math.max(1,H),"bounded"===u&&(B=Math.min(B,g))),{width:i,height:n,glyphMarginLeft:T,glyphMarginWidth:I,lineNumbersLeft:M,lineNumbersWidth:N,decorationsLeft:A,decorationsWidth:E,contentLeft:R,contentWidth:V,minimap:W,viewportColumn:H,isWordWrapMinified:P,isViewportWrapping:F,wrappingColumn:B,verticalScrollbarWidth:y,horizontalScrollbarHeight:x,overviewRuler:{top:z,width:y,height:n-2*z,right:0}}}}function jr(e){const t=e.get(86);return"editable"===t?e.get(80):"on"!==t}function $r(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}function qr(e,t,i){const n=i.indexOf(e);return-1===n?t:i[n]}const Gr={fontFamily:B?"Menlo, Monaco, 'Courier New', monospace":W?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:B?12:14,lineHeight:0,letterSpacing:0},Zr={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},Jr=[];function Qr(e){return Jr[e.id]=e,e}const Yr={acceptSuggestionOnCommitCharacter:Qr(new Mr(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:t("vs/editor/common/config/editorOptions","acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Qr(new Br(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",t("vs/editor/common/config/editorOptions","acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:t("vs/editor/common/config/editorOptions","acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Qr(new class extends Er{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[t("vs/editor/common/config/editorOptions","accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),t("vs/editor/common/config/editorOptions","accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),t("vs/editor/common/config/editorOptions","accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:t("vs/editor/common/config/editorOptions","accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:Qr(new Rr(3,"accessibilityPageSize",10,1,1073741824,{description:t("vs/editor/common/config/editorOptions","accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Qr(new Pr(4,"ariaLabel",t("vs/editor/common/config/editorOptions","editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Qr(new Br(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",t("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),t("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:t("vs/editor/common/config/editorOptions","autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Qr(new Br(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",t("vs/editor/common/config/editorOptions","editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:t("vs/editor/common/config/editorOptions","autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Qr(new Br(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",t("vs/editor/common/config/editorOptions","editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:t("vs/editor/common/config/editorOptions","autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Qr(new Br(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",t("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),t("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:t("vs/editor/common/config/editorOptions","autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Qr(new Wr(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[t("vs/editor/common/config/editorOptions","editor.autoIndent.none","The editor will not insert indentation automatically."),t("vs/editor/common/config/editorOptions","editor.autoIndent.keep","The editor will keep the current line's indentation."),t("vs/editor/common/config/editorOptions","editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),t("vs/editor/common/config/editorOptions","editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),t("vs/editor/common/config/editorOptions","editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:t("vs/editor/common/config/editorOptions","autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Qr(new Mr(10,"automaticLayout",!1)),autoSurround:Qr(new Br(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),t("vs/editor/common/config/editorOptions","editor.autoSurround.quotes","Surround with quotes but not brackets."),t("vs/editor/common/config/editorOptions","editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:t("vs/editor/common/config/editorOptions","autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Qr(new class extends Er{constructor(){const e={enabled:Zr.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:t("vs/editor/common/config/editorOptions","bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:Tr(e.enabled,this.defaultValue.enabled)}}}),bracketPairGuides:Qr(new class extends Er{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[t("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.true","Enables bracket pair guides."),t("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),t("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:t("vs/editor/common/config/editorOptions","editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[t("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),t("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),t("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:t("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:t("vs/editor/common/config/editorOptions","editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:t("vs/editor/common/config/editorOptions","editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:t("vs/editor/common/config/editorOptions","editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{bracketPairs:qr(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:qr(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Tr(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Tr(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Tr(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:Qr(new Mr(103,"stickyTabStops",!1,{description:t("vs/editor/common/config/editorOptions","stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Qr(new Mr(14,"codeLens",!0,{description:t("vs/editor/common/config/editorOptions","codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Qr(new Pr(15,"codeLensFontFamily","",{description:t("vs/editor/common/config/editorOptions","codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Qr(new Rr(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:t("vs/editor/common/config/editorOptions","codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:Qr(new Mr(17,"colorDecorators",!0,{description:t("vs/editor/common/config/editorOptions","colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Qr(new Mr(18,"columnSelection",!1,{description:t("vs/editor/common/config/editorOptions","columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Qr(new class extends Er{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:t("vs/editor/common/config/editorOptions","comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:t("vs/editor/common/config/editorOptions","comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:Tr(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Tr(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:Qr(new Mr(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Qr(new Mr(21,"copyWithSyntaxHighlighting",!0,{description:t("vs/editor/common/config/editorOptions","copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Qr(new Wr(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:t("vs/editor/common/config/editorOptions","cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Qr(new Mr(23,"cursorSmoothCaretAnimation",!1,{description:t("vs/editor/common/config/editorOptions","cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Qr(new Wr(24,"cursorStyle",Vr.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return Vr.Line;case"block":return Vr.Block;case"underline":return Vr.Underline;case"line-thin":return Vr.LineThin;case"block-outline":return Vr.BlockOutline;case"underline-thin":return Vr.UnderlineThin}}),{description:t("vs/editor/common/config/editorOptions","cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Qr(new Rr(25,"cursorSurroundingLines",0,0,1073741824,{description:t("vs/editor/common/config/editorOptions","cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Qr(new Br(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),t("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:t("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Qr(new Rr(27,"cursorWidth",0,0,1073741824,{markdownDescription:t("vs/editor/common/config/editorOptions","cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Qr(new Mr(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Qr(new Mr(29,"disableMonospaceOptimizations",!1)),domReadOnly:Qr(new Mr(30,"domReadOnly",!1)),dragAndDrop:Qr(new Mr(31,"dragAndDrop",!0,{description:t("vs/editor/common/config/editorOptions","dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Qr(new class extends Mr{constructor(){super(32,"emptySelectionClipboard",!0,{description:t("vs/editor/common/config/editorOptions","emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),extraEditorClassName:Qr(new Pr(33,"extraEditorClassName","")),fastScrollSensitivity:Qr(new Or(34,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:t("vs/editor/common/config/editorOptions","fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Qr(new class extends Er{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:t("vs/editor/common/config/editorOptions","find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[t("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),t("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),t("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:t("vs/editor/common/config/editorOptions","find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[t("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),t("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),t("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:t("vs/editor/common/config/editorOptions","find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:t("vs/editor/common/config/editorOptions","find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:B},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:t("vs/editor/common/config/editorOptions","find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:t("vs/editor/common/config/editorOptions","find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:Tr(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":Fr(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":Fr(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Tr(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Tr(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Tr(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:Qr(new Mr(36,"fixedOverflowWidgets",!1)),folding:Qr(new Mr(37,"folding",!0,{description:t("vs/editor/common/config/editorOptions","folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Qr(new Br(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),t("vs/editor/common/config/editorOptions","foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:t("vs/editor/common/config/editorOptions","foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Qr(new Mr(39,"foldingHighlight",!0,{description:t("vs/editor/common/config/editorOptions","foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Qr(new Mr(40,"foldingImportsByDefault",!1,{description:t("vs/editor/common/config/editorOptions","foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:Qr(new Mr(41,"unfoldOnClickAfterEndOfLine",!1,{description:t("vs/editor/common/config/editorOptions","unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Qr(new Pr(42,"fontFamily",Gr.fontFamily,{description:t("vs/editor/common/config/editorOptions","fontFamily","Controls the font family.")})),fontInfo:Qr(new class extends Nr{constructor(){super(43)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:Qr(new zr),fontSize:Qr(new class extends Ir{constructor(){super(45,"fontSize",Gr.fontSize,{type:"number",minimum:6,maximum:100,default:Gr.fontSize,description:t("vs/editor/common/config/editorOptions","fontSize","Controls the font size in pixels.")})}validate(e){let t=Or.float(e,this.defaultValue);return 0===t?Gr.fontSize:Or.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:Qr(new Ur),formatOnPaste:Qr(new Mr(47,"formatOnPaste",!1,{description:t("vs/editor/common/config/editorOptions","formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Qr(new Mr(48,"formatOnType",!1,{description:t("vs/editor/common/config/editorOptions","formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Qr(new Mr(49,"glyphMargin",!0,{description:t("vs/editor/common/config/editorOptions","glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Qr(new class extends Er{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},i={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[t("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),t("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),t("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},n=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:t("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:t("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:t("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleDeclarations":Object.assign({description:t("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleImplementations":Object.assign({description:t("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleReferences":Object.assign({description:t("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},i),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:n,description:t("vs/editor/common/config/editorOptions","alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:n,description:t("vs/editor/common/config/editorOptions","alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:n,description:t("vs/editor/common/config/editorOptions","alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:n,description:t("vs/editor/common/config/editorOptions","alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:n,description:t("vs/editor/common/config/editorOptions","alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,s;if(!e||"object"!=typeof e)return this.defaultValue;const r=e;return{multiple:Fr(r.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=r.multipleDefinitions)&&void 0!==t?t:Fr(r.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=r.multipleTypeDefinitions)&&void 0!==i?i:Fr(r.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=r.multipleDeclarations)&&void 0!==n?n:Fr(r.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=r.multipleImplementations)&&void 0!==o?o:Fr(r.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(s=r.multipleReferences)&&void 0!==s?s:Fr(r.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Pr.string(r.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Pr.string(r.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Pr.string(r.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Pr.string(r.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Pr.string(r.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:Qr(new Mr(51,"hideCursorInOverviewRuler",!1,{description:t("vs/editor/common/config/editorOptions","hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Qr(new class extends Er{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:t("vs/editor/common/config/editorOptions","hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:t("vs/editor/common/config/editorOptions","hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:t("vs/editor/common/config/editorOptions","hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:t("vs/editor/common/config/editorOptions","hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Tr(t.enabled,this.defaultValue.enabled),delay:Rr.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Tr(t.sticky,this.defaultValue.sticky),above:Tr(t.above,this.defaultValue.above)}}}),inDiffEditor:Qr(new Mr(53,"inDiffEditor",!1)),letterSpacing:Qr(new Or(55,"letterSpacing",Gr.letterSpacing,(e=>Or.clamp(e,-5,20)),{description:t("vs/editor/common/config/editorOptions","letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Qr(new class extends Er{constructor(){const e={enabled:!0};super(56,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:t("vs/editor/common/config/editorOptions","codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:Tr(e.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:Qr(new Ir(57,"lineDecorationsWidth",10)),lineHeight:Qr(new class extends Or{constructor(){super(58,"lineHeight",Gr.lineHeight,(e=>Or.clamp(e,0,150)),{markdownDescription:t("vs/editor/common/config/editorOptions","lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:Qr(new class extends Er{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[t("vs/editor/common/config/editorOptions","lineNumbers.off","Line numbers are not rendered."),t("vs/editor/common/config/editorOptions","lineNumbers.on","Line numbers are rendered as absolute number."),t("vs/editor/common/config/editorOptions","lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),t("vs/editor/common/config/editorOptions","lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:t("vs/editor/common/config/editorOptions","lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:Qr(new Rr(60,"lineNumbersMinChars",5,1,300)),linkedEditing:Qr(new Mr(61,"linkedEditing",!1,{description:t("vs/editor/common/config/editorOptions","linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Qr(new Mr(62,"links",!0,{description:t("vs/editor/common/config/editorOptions","links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Qr(new Br(63,"matchBrackets","always",["always","near","never"],{description:t("vs/editor/common/config/editorOptions","matchBrackets","Highlight matching brackets.")})),minimap:Qr(new class extends Er{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:t("vs/editor/common/config/editorOptions","minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[t("vs/editor/common/config/editorOptions","minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),t("vs/editor/common/config/editorOptions","minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),t("vs/editor/common/config/editorOptions","minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:t("vs/editor/common/config/editorOptions","minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:t("vs/editor/common/config/editorOptions","minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:t("vs/editor/common/config/editorOptions","minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:t("vs/editor/common/config/editorOptions","minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:t("vs/editor/common/config/editorOptions","minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:t("vs/editor/common/config/editorOptions","minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Tr(t.enabled,this.defaultValue.enabled),size:Fr(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:Fr(t.side,this.defaultValue.side,["right","left"]),showSlider:Fr(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Tr(t.renderCharacters,this.defaultValue.renderCharacters),scale:Rr.clampedInt(t.scale,1,1,3),maxColumn:Rr.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:Qr(new Br(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Qr(new Or(66,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:t("vs/editor/common/config/editorOptions","mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Qr(new Mr(67,"mouseWheelZoom",!1,{markdownDescription:t("vs/editor/common/config/editorOptions","mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Qr(new Mr(68,"multiCursorMergeOverlapping",!0,{description:t("vs/editor/common/config/editorOptions","multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Qr(new Wr(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?B?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[t("vs/editor/common/config/editorOptions","multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),t("vs/editor/common/config/editorOptions","multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:t("vs/editor/common/config/editorOptions",{key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Qr(new Br(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[t("vs/editor/common/config/editorOptions","multiCursorPaste.spread","Each cursor pastes a single line of the text."),t("vs/editor/common/config/editorOptions","multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:t("vs/editor/common/config/editorOptions","multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Qr(new Mr(71,"occurrencesHighlight",!0,{description:t("vs/editor/common/config/editorOptions","occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Qr(new Mr(72,"overviewRulerBorder",!0,{description:t("vs/editor/common/config/editorOptions","overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Qr(new Rr(73,"overviewRulerLanes",3,0,3)),padding:Qr(new class extends Er{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:t("vs/editor/common/config/editorOptions","padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:t("vs/editor/common/config/editorOptions","padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:Rr.clampedInt(t.top,0,0,1e3),bottom:Rr.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:Qr(new class extends Er{constructor(){const e={enabled:!0,cycle:!1};super(75,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:t("vs/editor/common/config/editorOptions","parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:t("vs/editor/common/config/editorOptions","parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Tr(t.enabled,this.defaultValue.enabled),cycle:Tr(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:Qr(new Br(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),t("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:t("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Qr(new Mr(77,"definitionLinkOpensInPeek",!1,{description:t("vs/editor/common/config/editorOptions","definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Qr(new class extends Er{constructor(){const e={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:t("vs/editor/common/config/editorOptions","quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:t("vs/editor/common/config/editorOptions","quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:t("vs/editor/common/config/editorOptions","quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:t("vs/editor/common/config/editorOptions","quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,i={other:Tr(t.other,this.defaultValue.other),comments:Tr(t.comments,this.defaultValue.comments),strings:Tr(t.strings,this.defaultValue.strings)};return!!(i.other&&i.comments&&i.strings)||!!(i.other||i.comments||i.strings)&&i}return this.defaultValue}}),quickSuggestionsDelay:Qr(new Rr(79,"quickSuggestionsDelay",10,0,1073741824,{description:t("vs/editor/common/config/editorOptions","quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Qr(new Mr(80,"readOnly",!1)),renameOnType:Qr(new Mr(81,"renameOnType",!1,{description:t("vs/editor/common/config/editorOptions","renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:t("vs/editor/common/config/editorOptions","renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Qr(new Mr(82,"renderControlCharacters",!0,{description:t("vs/editor/common/config/editorOptions","renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Qr(new Mr(83,"renderFinalNewline",!0,{description:t("vs/editor/common/config/editorOptions","renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Qr(new Br(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",t("vs/editor/common/config/editorOptions","renderLineHighlight.all","Highlights both the gutter and the current line.")],description:t("vs/editor/common/config/editorOptions","renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Qr(new Mr(85,"renderLineHighlightOnlyWhenFocus",!1,{description:t("vs/editor/common/config/editorOptions","renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Qr(new Br(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Qr(new Br(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",t("vs/editor/common/config/editorOptions","renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),t("vs/editor/common/config/editorOptions","renderWhitespace.selection","Render whitespace characters only on selected text."),t("vs/editor/common/config/editorOptions","renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:t("vs/editor/common/config/editorOptions","renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Qr(new Rr(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Qr(new Mr(89,"roundedSelection",!0,{description:t("vs/editor/common/config/editorOptions","roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Qr(new class extends Er{constructor(){const e=[],i={type:"number",description:t("vs/editor/common/config/editorOptions","rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[i,{type:["object"],properties:{column:i,color:{type:"string",description:t("vs/editor/common/config/editorOptions","rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:t("vs/editor/common/config/editorOptions","rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if("number"==typeof i)t.push({column:Rr.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"==typeof i){const e=i;t.push({column:Rr.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:Qr(new class extends Er{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[t("vs/editor/common/config/editorOptions","scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),t("vs/editor/common/config/editorOptions","scrollbar.vertical.visible","The vertical scrollbar will always be visible."),t("vs/editor/common/config/editorOptions","scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:t("vs/editor/common/config/editorOptions","scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[t("vs/editor/common/config/editorOptions","scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),t("vs/editor/common/config/editorOptions","scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),t("vs/editor/common/config/editorOptions","scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:t("vs/editor/common/config/editorOptions","scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:t("vs/editor/common/config/editorOptions","scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:t("vs/editor/common/config/editorOptions","scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:t("vs/editor/common/config/editorOptions","scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,i=Rr.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=Rr.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Rr.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:$r(t.vertical,this.defaultValue.vertical),horizontal:$r(t.horizontal,this.defaultValue.horizontal),useShadows:Tr(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Tr(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Tr(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Tr(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Tr(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:Rr.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:Rr.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:Tr(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:Qr(new Rr(92,"scrollBeyondLastColumn",5,0,1073741824,{description:t("vs/editor/common/config/editorOptions","scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Qr(new Mr(93,"scrollBeyondLastLine",!0,{description:t("vs/editor/common/config/editorOptions","scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Qr(new Mr(94,"scrollPredominantAxis",!0,{description:t("vs/editor/common/config/editorOptions","scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Qr(new Mr(95,"selectionClipboard",!0,{description:t("vs/editor/common/config/editorOptions","selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:W})),selectionHighlight:Qr(new Mr(96,"selectionHighlight",!0,{description:t("vs/editor/common/config/editorOptions","selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Qr(new Mr(97,"selectOnLineNumbers",!0)),showFoldingControls:Qr(new Br(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","showFoldingControls.always","Always show the folding controls."),t("vs/editor/common/config/editorOptions","showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:t("vs/editor/common/config/editorOptions","showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Qr(new Mr(99,"showUnused",!0,{description:t("vs/editor/common/config/editorOptions","showUnused","Controls fading out of unused code.")})),showDeprecated:Qr(new Mr(124,"showDeprecated",!0,{description:t("vs/editor/common/config/editorOptions","showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Qr(new class extends Er{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:t("vs/editor/common/config/editorOptions","inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:t("vs/editor/common/config/editorOptions","inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:t("vs/editor/common/config/editorOptions","inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Tr(t.enabled,this.defaultValue.enabled),fontSize:Rr.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Pr.string(t.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:Qr(new Br(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),t("vs/editor/common/config/editorOptions","snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),t("vs/editor/common/config/editorOptions","snippetSuggestions.inline","Show snippets suggestions with other suggestions."),t("vs/editor/common/config/editorOptions","snippetSuggestions.none","Do not show snippet suggestions.")],description:t("vs/editor/common/config/editorOptions","snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Qr(new class extends Er{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:t("vs/editor/common/config/editorOptions","selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:Tr(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:Qr(new Mr(102,"smoothScrolling",!1,{description:t("vs/editor/common/config/editorOptions","smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Qr(new Rr(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Qr(new class extends Er{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[t("vs/editor/common/config/editorOptions","suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),t("vs/editor/common/config/editorOptions","suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:t("vs/editor/common/config/editorOptions","suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:t("vs/editor/common/config/editorOptions","suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:t("vs/editor/common/config/editorOptions","suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:t("vs/editor/common/config/editorOptions","suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:t("vs/editor/common/config/editorOptions","suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:t("vs/editor/common/config/editorOptions","suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:t("vs/editor/common/config/editorOptions","suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:t("vs/editor/common/config/editorOptions","suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:t("vs/editor/common/config/editorOptions","suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:t("vs/editor/common/config/editorOptions","suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:t("vs/editor/common/config/editorOptions","deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:t("vs/editor/common/config/editorOptions","editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:Fr(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Tr(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Tr(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Tr(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Tr(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:Tr(t.showIcons,this.defaultValue.showIcons),showStatusBar:Tr(t.showStatusBar,this.defaultValue.showStatusBar),preview:Tr(t.preview,this.defaultValue.preview),previewMode:Fr(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Tr(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Tr(t.showMethods,this.defaultValue.showMethods),showFunctions:Tr(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Tr(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Tr(t.showDeprecated,this.defaultValue.showDeprecated),showFields:Tr(t.showFields,this.defaultValue.showFields),showVariables:Tr(t.showVariables,this.defaultValue.showVariables),showClasses:Tr(t.showClasses,this.defaultValue.showClasses),showStructs:Tr(t.showStructs,this.defaultValue.showStructs),showInterfaces:Tr(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Tr(t.showModules,this.defaultValue.showModules),showProperties:Tr(t.showProperties,this.defaultValue.showProperties),showEvents:Tr(t.showEvents,this.defaultValue.showEvents),showOperators:Tr(t.showOperators,this.defaultValue.showOperators),showUnits:Tr(t.showUnits,this.defaultValue.showUnits),showValues:Tr(t.showValues,this.defaultValue.showValues),showConstants:Tr(t.showConstants,this.defaultValue.showConstants),showEnums:Tr(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Tr(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Tr(t.showKeywords,this.defaultValue.showKeywords),showWords:Tr(t.showWords,this.defaultValue.showWords),showColors:Tr(t.showColors,this.defaultValue.showColors),showFiles:Tr(t.showFiles,this.defaultValue.showFiles),showReferences:Tr(t.showReferences,this.defaultValue.showReferences),showFolders:Tr(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Tr(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Tr(t.showSnippets,this.defaultValue.showSnippets),showUsers:Tr(t.showUsers,this.defaultValue.showUsers),showIssues:Tr(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:Qr(new class extends Er{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:t("vs/editor/common/config/editorOptions","inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Tr(t.enabled,this.defaultValue.enabled),mode:Fr(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:Qr(new Rr(106,"suggestFontSize",0,0,1e3,{markdownDescription:t("vs/editor/common/config/editorOptions","suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Qr(new Rr(107,"suggestLineHeight",0,0,1e3,{markdownDescription:t("vs/editor/common/config/editorOptions","suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Qr(new Mr(108,"suggestOnTriggerCharacters",!0,{description:t("vs/editor/common/config/editorOptions","suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Qr(new Br(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[t("vs/editor/common/config/editorOptions","suggestSelection.first","Always select the first suggestion."),t("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),t("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:t("vs/editor/common/config/editorOptions","suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Qr(new Br(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),t("vs/editor/common/config/editorOptions","tabCompletion.off","Disable tab completions."),t("vs/editor/common/config/editorOptions","tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:t("vs/editor/common/config/editorOptions","tabCompletion","Enables tab completions.")})),tabIndex:Qr(new Rr(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Qr(new Br(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","unusualLineTerminators.auto","Unusual line terminators are automatically removed."),t("vs/editor/common/config/editorOptions","unusualLineTerminators.off","Unusual line terminators are ignored."),t("vs/editor/common/config/editorOptions","unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:t("vs/editor/common/config/editorOptions","unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Qr(new Mr(113,"useShadowDOM",!0)),useTabStops:Qr(new Mr(114,"useTabStops",!0,{description:t("vs/editor/common/config/editorOptions","useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Qr(new Pr(115,"wordSeparators","`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",{description:t("vs/editor/common/config/editorOptions","wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Qr(new Br(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[t("vs/editor/common/config/editorOptions","wordWrap.off","Lines will never wrap."),t("vs/editor/common/config/editorOptions","wordWrap.on","Lines will wrap at the viewport width."),t("vs/editor/common/config/editorOptions",{key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),t("vs/editor/common/config/editorOptions",{key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:t("vs/editor/common/config/editorOptions",{key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Qr(new Pr(117,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:Qr(new Pr(118,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:Qr(new Rr(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:t("vs/editor/common/config/editorOptions",{key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Qr(new Br(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Qr(new Br(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Qr(new Wr(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[t("vs/editor/common/config/editorOptions","wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),t("vs/editor/common/config/editorOptions","wrappingIndent.same","Wrapped lines get the same indentation as the parent."),t("vs/editor/common/config/editorOptions","wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),t("vs/editor/common/config/editorOptions","wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:t("vs/editor/common/config/editorOptions","wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Qr(new Br(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[t("vs/editor/common/config/editorOptions","wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),t("vs/editor/common/config/editorOptions","wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:t("vs/editor/common/config/editorOptions","wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Qr(new class extends Nr{constructor(){super(126,[65,33])}compute(e,t,i){const n=["monaco-editor"];return t.get(33)&&n.push(t.get(33)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(65)?n.push("mouse-default"):"copy"===t.get(65)&&n.push("mouse-copy"),t.get(99)&&n.push("showUnused"),t.get(124)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:Qr(new class extends Nr{constructor(){super(127)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:Qr(new class extends Nr{constructor(){super(128,[80])}compute(e,t,i){return!!t.get(80)||e.tabFocusMode}}),layoutInfo:Qr(new Kr),wrappingInfo:Qr(new class extends Nr{constructor(){super(130,[129])}compute(e,t,i){const n=t.get(129);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}})};function Xr(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((i=>{e[i]&&"object"==typeof e[i]?t[i]=Xr(e[i]):t[i]=e[i]})),t}const ea=Object.prototype.hasOwnProperty;function ta(e,t){return ia(e,t,new Set)}function ia(e,t,i){if(Se(e))return e;const n=t(e);if(void 0!==n)return n;if(fe(e)){const n=[];for(const o of e)n.push(ia(o,t,i));return n}if(be(e)){if(i.has(e))throw new Error("Cannot clone recursive data-structure");i.add(e);const n={};for(let o in e)ea.call(e,o)&&(n[o]=ia(e[o],t,i));return i.delete(e),n}return e}function na(e,t,i=!0){return be(e)?(be(t)&&Object.keys(t).forEach((n=>{n in e?i&&(be(e[n])&&be(t[n])?na(e[n],t[n],i):e[n]=t[n]):e[n]=t[n]})),e):t}function oa(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!oa(e[i],t[i]))return!1}else{const o=[];for(n in e)o.push(n);o.sort();const s=[];for(n in t)s.push(n);if(s.sort(),!oa(o,s))return!1;for(i=0;i<o.length;i++)if(!oa(e[o[i]],t[o[i]]))return!1}return!0}function sa(e,t,i){const n=t(e);return void 0===n?i:n}var ra,aa,la,da,ca,ha;(aa=ra||(ra={}))[aa.Left=1]="Left",aa[aa.Center=2]="Center",aa[aa.Right=4]="Right",aa[aa.Full=7]="Full",(da=la||(la={}))[da.Inline=1]="Inline",da[da.Gutter=2]="Gutter";class ua{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&oa(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class ga{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}(ha=ca||(ca={}))[ha.Disabled=0]="Disabled",ha[ha.EnabledForActive=1]="EnabledForActive",ha[ha.Enabled=2]="Enabled";class ma{constructor(e,t,i){this.visibleColumn=e,this.className=t,this.horizontalLine=i}}class pa{constructor(e,t){this.top=e,this.endColumn=t}}class fa{constructor(e,t,i,n,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=s}}class _a{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}const ba="undefined"!=typeof Buffer;let va,wa,Ca,ya;class Sa{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return ba&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new Sa(e)}toString(){return ba?this.buffer.toString():(va||(va=new TextDecoder),va.decode(this.buffer))}}function ka(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function xa(e,t,i){e[i+0]=255&t,t>>>=8,e[i+1]=255&t}function La(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function Da(e,t,i){e[i+3]=t,t>>>=8,e[i+2]=t,t>>>=8,e[i+1]=t,t>>>=8,e[i]=t}function Ea(e,t){return e[t]}function Na(e,t,i){e[i]=t}function Ia(){return wa||(wa=new TextDecoder("UTF-16LE")),wa}function Ta(){return ya||(ya=G()?Ia():(Ca||(Ca=new TextDecoder("UTF-16BE")),Ca)),ya}const Ma="undefined"!=typeof TextDecoder;let Aa,Ra;function Oa(e,t,i){let n=[],o=0;for(let s=0;s<i;s++){const i=ka(e,t);t+=2,n[o++]=String.fromCharCode(i)}return n.join("")}Ma?(Aa=e=>new Pa(e),Ra=function(e,t,i){const n=new Uint16Array(e.buffer,t,i);if(i>0&&(65279===n[0]||65534===n[0]))return Oa(e,t,i);return Ia().decode(n)}):(Aa=e=>new Fa,Ra=Oa);class Pa{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return Ta().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||So(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class Fa{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}function Ba(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Wa{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${Ba(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${Ba(this.oldText)}")`:`(replace@${this.oldPosition} "${Ba(this.oldText)}" with "${Ba(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const n=t.length;Da(e,n,i),i+=4;for(let o=0;o<n;o++)xa(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=La(e,t);return Ra(e,t+=4,i)}writeSize(){return 8+Wa._writeStringSize(this.oldText)+Wa._writeStringSize(this.newText)}write(e,t){return Da(e,this.oldPosition,t),t+=4,Da(e,this.newPosition,t),t+=4,t=Wa._writeString(e,this.oldText,t),t=Wa._writeString(e,this.newText,t)}static read(e,t,i){const n=La(e,t),o=La(e,t+=4);t+=4;const s=Wa._readString(e,t);t+=Wa._writeStringSize(s);const r=Wa._readString(e,t);return t+=Wa._writeStringSize(r),i.push(new Wa(n,s,o,r)),t}}class Va{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[e,t]=Va._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){const[e,t]=Va._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}let o,s;if(n.oldEnd===i.newEnd)o=i,s=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[e,r]=Va._splitPrev(i,n.oldLength);o=e,s=n,i=r,n=this._getCurr(++t)}else{const[t,r]=Va._splitCurr(n,i.newLength);o=i,s=t,i=this._getPrev(++e),n=r}this._result[this._resultLen++]=new Wa(o.oldPosition,o.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const o=Va._merge(this._result);return Va._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=Va._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Va._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Wa(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Wa(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new Wa(e.oldPosition,e.oldText,e.newPosition,i),new Wa(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new Wa(e.oldPosition,i,e.newPosition,e.newText),new Wa(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],i=0,n=e[0];for(let o=1;o<e.length;o++){const s=e[o];n.oldEnd===s.oldPosition?n=new Wa(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(t[i++]=n,n=s)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],i=0;for(let n=0;n<e.length;n++){const o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}function Ha(e){return-1===e.indexOf("/")&&(e=function(e){return e.replace(/[\\/]/g,Bt.sep)}(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function za(e){return!!F&&(((t=e.charCodeAt(0))>=65&&t<=90||t>=97&&t<=122)&&58===e.charCodeAt(1));var t}function Ua(e){return oi(e,!0)}const Ka=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:go(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return Yt.joinPath(e,...t)}basenameOrAuthority(e){return qa(e)||e.authority}basename(e){return Bt.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===di.file?t=Yt.file(zt(Ua(e))).path:(t=Bt.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===di.file?Yt.file(Wt(Ua(e))).path:Bt.normalize(e.path),e.with({path:t})}resolvePath(e,t){if(e.scheme===di.file){const i=Yt.file(Vt(Ua(e),t));return e.with({authority:i.authority,path:i.path})}return t=Ha(t),e.with({path:Bt.resolve(e.path,t)})}}((()=>!1)),ja=Ka.isEqual.bind(Ka),$a=Ka.basenameOrAuthority.bind(Ka),qa=Ka.basename.bind(Ka),Ga=Ka.dirname.bind(Ka),Za=Ka.joinPath.bind(Ka),Ja=Ka.normalizePath.bind(Ka),Qa=Ka.resolvePath.bind(Ka);var Ya,Xa;function el(e){return e.toString()}(Xa=Ya||(Ya={})).META_DATA_LABEL="label",Xa.META_DATA_DESCRIPTION="description",Xa.META_DATA_SIZE="size",Xa.META_DATA_MIME="mime",Xa.parseMetaData=function(e){const t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((e=>{const[i,n]=e.split(":");i&&n&&t.set(i,n)}));const i=e.path.substring(0,e.path.indexOf(";"));return i&&t.set(Xa.META_DATA_MIME,i),t};class tl{constructor(e,t,i,n,o,s,r){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=s,this.changes=r}static create(e,t){const i=e.getAlternativeVersionId(),n=nl(e);return new tl(i,i,n,n,t,t,[])}append(e,t,i,n,o){var s,r;t.length>0&&(this.changes=(s=this.changes,r=t,null===s||0===s.length?r:new Va(s,r).compress())),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(Da(e,t?t.length:0,i),i+=4,t)for(const n of t)Da(e,n.selectionStartLineNumber,i),i+=4,Da(e,n.selectionStartColumn,i),i+=4,Da(e,n.positionLineNumber,i),i+=4,Da(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=La(e,t);t+=4;for(let o=0;o<n;o++){const n=La(e,t),o=La(e,t+=4),s=La(e,t+=4),r=La(e,t+=4);t+=4,i.push(new vr(n,o,s,r))}return t}serialize(){let e=10+tl._writeSelectionsSize(this.beforeCursorState)+tl._writeSelectionsSize(this.afterCursorState)+4;for(const n of this.changes)e+=n.writeSize();const t=new Uint8Array(e);let i=0;Da(t,this.beforeVersionId,i),i+=4,Da(t,this.afterVersionId,i),i+=4,Na(t,this.beforeEOL,i),i+=1,Na(t,this.afterEOL,i),i+=1,i=tl._writeSelections(t,this.beforeCursorState,i),i=tl._writeSelections(t,this.afterCursorState,i),Da(t,this.changes.length,i),i+=4;for(const n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=La(t,i);i+=4;const o=La(t,i);i+=4;const s=Ea(t,i);i+=1;const r=Ea(t,i);i+=1;const a=[];i=tl._readSelections(t,i,a);const l=[];i=tl._readSelections(t,i,l);const d=La(t,i);i+=4;const c=[];for(let h=0;h<d;h++)i=Wa.read(t,i,c);return new tl(n,o,s,r,a,l,c)}}class il{constructor(e,t){this.model=e,this._data=tl.create(e,t)}get type(){return 0}get resource(){return Yt.isUri(this.model)?this.model:this.model.uri}get label(){return t("vs/editor/common/model/editStack","edit","Typing")}toString(){return(this._data instanceof tl?this._data:tl.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(Yt.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof tl}append(e,t,i,n,o){this._data instanceof tl&&this._data.append(e,t,i,n,o)}close(){this._data instanceof tl&&(this._data=this._data.serialize())}open(){this._data instanceof tl||(this._data=tl.deserialize(this._data))}undo(){if(Yt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof tl&&(this._data=this._data.serialize());const e=tl.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Yt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof tl&&(this._data=this._data.serialize());const e=tl.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof tl&&(this._data=this._data.serialize()),this._data.byteLength+168}}function nl(e){return"\n"===e.getEOL()?0:1}function ol(e){return!!e&&(e instanceof il||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const e=el(i.resource);this._editStackElementsMap.set(e,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map((e=>e.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=el(e);return this._editStackElementsMap.has(t)}setModel(e){const t=el(Yt.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=el(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,i,n,o){const s=el(e.uri);this._editStackElementsMap.get(s).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=el(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${qa(t.resource)}: ${t}`);return`{${e.join(", ")}}`}})}class sl{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);ol(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);ol(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(ol(t)&&t.canAppend(this._model))return t;const i=new il(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],nl(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),s=sl._computeCursorState(i,o),r=o.map(((e,t)=>({index:t,textChange:e.textChange})));return r.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),n.append(this._model,r.map((e=>e.textChange)),nl(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(G1){return n(G1),null}}}class rl{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function al(e,t,i,n,o){let s;for(o.spacesDiff=0,o.looksLikeAlignment=!1,s=0;s<t&&s<n;s++){if(e.charCodeAt(s)!==i.charCodeAt(s))break}let r=0,a=0;for(let u=s;u<t;u++){32===e.charCodeAt(u)?r++:a++}let l=0,d=0;for(let u=s;u<n;u++){32===i.charCodeAt(u)?l++:d++}if(r>0&&a>0)return;if(l>0&&d>0)return;let c=Math.abs(a-d),h=Math.abs(r-l);if(0===c)return o.spacesDiff=h,void(h>0&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));h%c!=0||(o.spacesDiff=h/c)}function ll(e,t,i){const n=Math.min(e.getLineCount(),1e4);let o=0,s=0,r="",a=0;const l=[2,4,6,8,3,5,7];let d=[0,0,0,0,0,0,0,0,0],c=new rl;for(let g=1;g<=n;g++){let n=e.getLineLength(g),l=e.getLineContent(g);const h=n<=65536;let u=!1,m=0,p=0,f=0;for(let t=0,i=n;t<i;t++){let i=h?l.charCodeAt(t):e.getLineCharCode(g,t);if(9===i)f++;else{if(32!==i){u=!0,m=t;break}p++}}if(!u)continue;if(f>0?o++:p>1&&s++,al(r,a,l,m,c),c.looksLikeAlignment&&(!i||t!==c.spacesDiff))continue;let _=c.spacesDiff;_<=8&&d[_]++,r=l,a=m}let h=i;o!==s&&(h=o<s);let u=t;if(h){let e=h?0:.1*n;l.forEach((t=>{let i=d[t];i>e&&(e=i,u=t)})),4===u&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(u=2)}return{insertSpaces:h,tabSize:u}}function dl(e){return(1&e.metadata)>>>0}function cl(e,t){e.metadata=254&e.metadata|t<<0}function hl(e){return(2&e.metadata)>>>1==1}function ul(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function gl(e){return(4&e.metadata)>>>2==1}function ml(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function pl(e,t){e.metadata=231&e.metadata|t<<3}function fl(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class _l{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,cl(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,ml(this,!1),pl(this,1),fl(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,ul(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;ml(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),pl(this,this.options.stickiness),fl(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const bl=new _l(null,0,0);bl.parent=bl,bl.left=bl,bl.right=bl,cl(bl,0);class vl{constructor(){this.root=bl,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===bl?[]:function(e,t,i,n,o,s){let r=e.root,a=0,l=0,d=0,c=0,h=[],u=0;for(;r!==bl;)if(hl(r))ul(r.left,!1),ul(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),r=r.parent;else{if(!hl(r.left)){if(l=a+r.maxEnd,l<t){ul(r,!0);continue}if(r.left!==bl){r=r.left;continue}}if(d=a+r.start,d>i)ul(r,!0);else{if(c=a+r.end,c>=t){r.setCachedOffsets(d,c,s);let e=!0;n&&r.ownerId&&r.ownerId!==n&&(e=!1),o&&gl(r)&&(e=!1),e&&(h[u++]=r)}ul(r,!0),r.right===bl||hl(r.right)||(a+=r.delta,r=r.right)}}return ul(e.root,!1),h}(this,e,t,i,n,o)}search(e,t,i){return this.root===bl?[]:function(e,t,i,n){let o=e.root,s=0,r=0,a=0,l=[],d=0;for(;o!==bl;){if(hl(o)){ul(o.left,!1),ul(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),o=o.parent;continue}if(o.left!==bl&&!hl(o.left)){o=o.left;continue}r=s+o.start,a=s+o.end,o.setCachedOffsets(r,a,n);let e=!0;t&&o.ownerId&&o.ownerId!==t&&(e=!1),i&&gl(o)&&(e=!1),e&&(l[d++]=o),ul(o,!0),o.right===bl||hl(o.right)||(s+=o.delta,o=o.right)}return ul(e.root,!1),l}(this,e,t,i)}collectNodesFromOwner(e){return function(e,t){let i=e.root,n=[],o=0;for(;i!==bl;)hl(i)?(ul(i.left,!1),ul(i.right,!1),i=i.parent):i.left===bl||hl(i.left)?(i.ownerId===t&&(n[o++]=i),ul(i,!0),i.right===bl||hl(i.right)||(i=i.right)):i=i.left;return ul(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,i=[],n=0;for(;t!==bl;)hl(t)?(ul(t.left,!1),ul(t.right,!1),t=t.parent):t.left===bl||hl(t.left)?t.right===bl||hl(t.right)?(i[n++]=t,ul(t,!0)):t=t.right:t=t.left;return ul(e.root,!1),i}(this)}insert(e){yl(this,e),this._normalizeDeltaIfNecessary()}delete(e){Sl(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const o=i.start+n,s=i.end+n;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,n){const o=function(e,t,i){let n=e.root,o=0,s=0,r=0,a=0,l=[],d=0;for(;n!==bl;)if(hl(n))ul(n.left,!1),ul(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!hl(n.left)){if(s=o+n.maxEnd,s<t){ul(n,!0);continue}if(n.left!==bl){n=n.left;continue}}r=o+n.start,r>i?ul(n,!0):(a=o+n.end,a>=t&&(n.setCachedOffsets(r,a,0),l[d++]=n),ul(n,!0),n.right===bl||hl(n.right)||(o+=n.delta,n=n.right))}return ul(e.root,!1),l}(this,e,e+t);for(let s=0,r=o.length;s<r;s++){Sl(this,o[s])}this._normalizeDeltaIfNecessary(),function(e,t,i,n){let o=e.root,s=0,r=0,a=0;const l=n-(i-t);for(;o!==bl;)if(hl(o))ul(o.left,!1),ul(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),El(o),o=o.parent;else{if(!hl(o.left)){if(r=s+o.maxEnd,r<t){ul(o,!0);continue}if(o.left!==bl){o=o.left;continue}}a=s+o.start,a>i?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),ul(o,!0)):(ul(o,!0),o.right===bl||hl(o.right)||(s+=o.delta,o=o.right))}ul(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,r=o.length;s<r;s++){const r=o[s];r.start=r.cachedAbsoluteStart,r.end=r.cachedAbsoluteEnd,Cl(r,e,e+t,i,n),r.maxEnd=r.end,yl(this,r)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==bl;)t.left===bl||hl(t.left)?t.right===bl||hl(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,El(t),ul(t,!0),ul(t.left,!1),ul(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t=t.parent):(i+=t.delta,t=t.right):t=t.left;ul(e.root,!1)}(this))}}function wl(e,t,i,n){return e<i||!(e>i)&&(1!==n&&(2===n||t))}function Cl(e,t,i,n,o){const s=function(e){return(24&e.metadata)>>>3}(e),r=0===s||2===s,a=1===s||2===s,l=i-t,d=n,c=Math.min(l,d),h=e.start;let u=!1;const g=e.end;let m=!1;t<=h&&g<=i&&function(e){return(32&e.metadata)>>>5==1}(e)&&(e.start=t,u=!0,e.end=t,m=!0);{const e=o?1:l>0?2:0;!u&&wl(h,r,t,e)&&(u=!0),!m&&wl(g,a,t,e)&&(m=!0)}if(c>0&&!o){const e=l>d?2:0;!u&&wl(h,r,t+c,e)&&(u=!0),!m&&wl(g,a,t+c,e)&&(m=!0)}{const n=o?1:0;!u&&wl(h,r,i,n)&&(e.start=t+d,u=!0),!m&&wl(g,a,i,n)&&(e.end=t+d,m=!0)}const p=d-l;u||(e.start=Math.max(0,h+p)),m||(e.end=Math.max(0,g+p)),e.start>e.end&&(e.end=e.start)}function yl(e,t){if(e.root===bl)return t.parent=bl,t.left=bl,t.right=bl,cl(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;const o=t.start,s=t.end;for(;;){if(Il(o,s,n.start+i,n.end+i)<0){if(n.left===bl){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===bl){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}}t.parent=n,t.left=bl,t.right=bl,cl(t,1)}(e,t),Nl(t.parent);let i=t;for(;i!==e.root&&1===dl(i.parent);)if(i.parent===i.parent.parent.left){const t=i.parent.parent.right;1===dl(t)?(cl(i.parent,0),cl(t,0),cl(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,xl(e,i)),cl(i.parent,0),cl(i.parent.parent,1),Ll(e,i.parent.parent))}else{const t=i.parent.parent.left;1===dl(t)?(cl(i.parent,0),cl(t,0),cl(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,Ll(e,i)),cl(i.parent,0),cl(i.parent.parent,1),xl(e,i.parent.parent))}return cl(e.root,0),t}function Sl(e,t){let i,n;if(t.left===bl?(i=t.right,n=t,i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===bl?(i=t.left,n=t):(n=function(e){for(;e.left!==bl;)e=e.left;return e}(t.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,cl(i,0),t.detach(),kl(),El(i),void(e.root.parent=bl);let o,s=1===dl(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,cl(n,dl(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==bl&&(n.left.parent=n),n.right!==bl&&(n.right.parent=n)),t.detach(),s)return Nl(i.parent),n!==t&&(Nl(n),Nl(n.parent)),void kl();for(Nl(i),Nl(i.parent),n!==t&&(Nl(n),Nl(n.parent));i!==e.root&&0===dl(i);)i===i.parent.left?(o=i.parent.right,1===dl(o)&&(cl(o,0),cl(i.parent,1),xl(e,i.parent),o=i.parent.right),0===dl(o.left)&&0===dl(o.right)?(cl(o,1),i=i.parent):(0===dl(o.right)&&(cl(o.left,0),cl(o,1),Ll(e,o),o=i.parent.right),cl(o,dl(i.parent)),cl(i.parent,0),cl(o.right,0),xl(e,i.parent),i=e.root)):(o=i.parent.left,1===dl(o)&&(cl(o,0),cl(i.parent,1),Ll(e,i.parent),o=i.parent.left),0===dl(o.left)&&0===dl(o.right)?(cl(o,1),i=i.parent):(0===dl(o.left)&&(cl(o.right,0),cl(o,1),xl(e,o),o=i.parent.left),cl(o,dl(i.parent)),cl(i.parent,0),cl(o.left,0),Ll(e,i.parent),i=e.root));cl(i,0),kl()}function kl(){bl.parent=bl,bl.delta=0,bl.start=0,bl.end=0}function xl(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==bl&&(i.left.parent=t),i.parent=t.parent,t.parent===bl?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i,El(t),El(i)}function Ll(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==bl&&(i.right.parent=t),i.parent=t.parent,t.parent===bl?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i,El(t),El(i)}function Dl(e){let t=e.end;if(e.left!==bl){const i=e.left.maxEnd;i>t&&(t=i)}if(e.right!==bl){const i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function El(e){e.maxEnd=Dl(e)}function Nl(e){for(;e!==bl;){const t=Dl(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function Il(e,t,i,n){return e===i?t-n:e-i}class Tl{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Ml)return Al(this.right);let e=this;for(;e.parent!==Ml&&e.parent.left!==e;)e=e.parent;return e.parent===Ml?Ml:e.parent}prev(){if(this.left!==Ml)return Rl(this.left);let e=this;for(;e.parent!==Ml&&e.parent.right!==e;)e=e.parent;return e.parent===Ml?Ml:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Ml=new Tl(null,0);function Al(e){for(;e.left!==Ml;)e=e.left;return e}function Rl(e){for(;e.right!==Ml;)e=e.right;return e}function Ol(e){return e===Ml?0:e.size_left+e.piece.length+Ol(e.right)}function Pl(e){return e===Ml?0:e.lf_left+e.piece.lineFeedCnt+Pl(e.right)}function Fl(){Ml.parent=Ml}function Bl(e,t){let i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==Ml&&(i.left.parent=t),i.parent=t.parent,t.parent===Ml?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i}function Wl(e,t){let i=t.left;t.left=i.right,i.right!==Ml&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===Ml?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i}function Vl(e,t){let i,n;if(t.left===Ml?(n=t,i=n.right):t.right===Ml?(n=t,i=n.left):(n=Al(t.right),i=n.right),n===e.root)return e.root=i,i.color=0,t.detach(),Fl(),void(e.root.parent=Ml);let o,s=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,Ul(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,Ul(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==Ml&&(n.left.parent=n),n.right!==Ml&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,Ul(e,n)),t.detach(),i.parent.left===i){let t=Ol(i),n=Pl(i);if(t!==i.parent.size_left||n!==i.parent.lf_left){let o=t-i.parent.size_left,s=n-i.parent.lf_left;i.parent.size_left=t,i.parent.lf_left=n,zl(e,i.parent,o,s)}}if(Ul(e,i.parent),s)Fl();else{for(;i!==e.root&&0===i.color;)i===i.parent.left?(o=i.parent.right,1===o.color&&(o.color=0,i.parent.color=1,Bl(e,i.parent),o=i.parent.right),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.right.color&&(o.left.color=0,o.color=1,Wl(e,o),o=i.parent.right),o.color=i.parent.color,i.parent.color=0,o.right.color=0,Bl(e,i.parent),i=e.root)):(o=i.parent.left,1===o.color&&(o.color=0,i.parent.color=1,Wl(e,i.parent),o=i.parent.left),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.left.color&&(o.right.color=0,o.color=1,Bl(e,o),o=i.parent.left),o.color=i.parent.color,i.parent.color=0,o.left.color=0,Wl(e,i.parent),i=e.root));i.color=0,Fl()}}function Hl(e,t){for(Ul(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&Bl(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,Wl(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&Wl(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,Bl(e,t.parent.parent))}e.root.color=0}function zl(e,t,i,n){for(;t!==e.root&&t!==Ml;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function Ul(e,t){let i=0,n=0;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(i=Ol((t=t.parent).left)-t.size_left,n=Pl(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n;t!==e.root&&(0!==i||0!==n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}function Kl(e){return e<0?0:e>255?255:0|e}function jl(e){return e<0?0:e>4294967295?4294967295:0|e}Ml.parent=Ml,Ml.left=Ml,Ml.right=Ml,Ml.color=0;class $l{constructor(e){let t=Kl(e);this._defaultValue=t,this._asciiMap=$l._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=Kl(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class ql{constructor(){this._actual=new $l(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}}class Gl extends $l{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const Zl=function(e){let t={};return i=>(t.hasOwnProperty(i)||(t[i]=e(i)),t[i])}((e=>new Gl(e)));class Jl{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,i=e.length;t<i;t++){if(92===e.charCodeAt(t)){if(t++,t>=i)break;const n=e.charCodeAt(t);if(110===n||114===n||87===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=ro(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(n){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new Ql(t,this.wordSeparators?Zl(this.wordSeparators):null,i?this.searchString:null)}}class Ql{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}function Yl(e,t,i){if(!i)return new ga(e,null);let n=[];for(let o=0,s=t.length;o<s;o++)n[o]=t[o];return new ga(e,n)}class Xl{constructor(e){let t=[],i=0;for(let n=0,o=e.length;n<o;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){const o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class ed{static findMatches(e,t,i,n,o){const s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new id(s.wordSeparators,s.regex),n,o):this._doFindMatchesLineByLine(e,i,s,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,s){let r,a,l=0;if(n?(l=n.findLineFeedCountBeforeOffset(o),r=t+o+l):r=t+o,n){let e=n.findLineFeedCountBeforeOffset(o+s.length)-l;a=r+s.length+e}else a=r+s.length;const d=e.getPositionAt(r),c=e.getPositionAt(a);return new br(d.lineNumber,d.column,c.lineNumber,c.column)}static _doFindMatchesMultiline(e,t,i,n,o){const s=e.getOffsetAt(t.getStartPosition()),r=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new Xl(r):null,l=[];let d,c=0;for(i.reset(0);d=i.next(r);)if(l[c++]=Yl(this._getMultilineMatchRange(e,s,r,a,d.index,d[0]),d,n),c>=o)return l;return l}static _doFindMatchesLineByLine(e,t,i,n,o){const s=[];let r=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o),s}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o);for(let l=t.startLineNumber+1;l<t.endLineNumber&&r<o;l++)r=this._findMatchesInLine(i,e.getLineContent(l),l,0,r,s,n,o);if(r<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);r=this._findMatchesInLine(i,a,t.endLineNumber,0,r,s,n,o)}return s}static _findMatchesInLine(e,t,i,n,o,s,r,a){const l=e.wordSeparators;if(!r&&e.simpleSearch){const r=e.simpleSearch,d=r.length,c=t.length;let h=-d;for(;-1!==(h=t.indexOf(r,h+d));)if((!l||td(l,t,c,h,d))&&(s[o++]=new ga(new br(i,h+1+n,i,h+1+d+n),null),o>=a))return o;return o}const d=new id(e.wordSeparators,e.regex);let c;d.reset(0);do{if(c=d.next(t),c&&(s[o++]=Yl(new br(i,c.index+1+n,i,c.index+1+c[0].length+n),c,r),o>=a))return o}while(c);return o}static findNextMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new id(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,n):this._doFindNextMatchLineByLine(e,i,s,n)}static _doFindNextMatchMultiline(e,t,i,n){const o=new Rn(t.lineNumber,1),s=e.getOffsetAt(o),r=e.getLineCount(),a=e.getValueInRange(new br(o.lineNumber,o.column,r,e.getLineMaxColumn(r)),1),l="\r\n"===e.getEOL()?new Xl(a):null;i.reset(t.column-1);let d=i.next(a);return d?Yl(this._getMultilineMatchRange(e,s,a,l,d.index,d[0]),d,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new Rn(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s),a=this._findFirstMatchInLine(i,r,s,t.column,n);if(a)return a;for(let l=1;l<=o;l++){const t=(s+l-1)%o,r=e.getLineContent(t+1),a=this._findFirstMatchInLine(i,r,t+1,1,n);if(a)return a}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);const s=e.next(t);return s?Yl(new br(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new id(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,n):this._doFindPreviousMatchLineByLine(e,i,s,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const o=this._doFindMatchesMultiline(e,new br(1,1,t.lineNumber,t.column),i,n,9990);if(o.length>0)return o[o.length-1];const s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new Rn(s,e.getLineMaxColumn(s)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s).substring(0,t.column-1),a=this._findLastMatchInLine(i,r,s,n);if(a)return a;for(let l=1;l<=o;l++){const t=(o+s-l-1)%o,r=e.getLineContent(t+1),a=this._findLastMatchInLine(i,r,t+1,n);if(a)return a}return null}static _findLastMatchInLine(e,t,i,n){let o,s=null;for(e.reset(0);o=e.next(t);)s=Yl(new br(i,o.index+1,i,o.index+1+o[0].length),o,n);return s}}function td(e,t,i,n,o){return function(e,t,i,n,o){if(0===n)return!0;const s=t.charCodeAt(n-1);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n);if(0!==e.get(i))return!0}return!1}(e,t,0,n,o)&&function(e,t,i,n,o){if(n+o===i)return!0;const s=t.charCodeAt(n+o);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n+o-1);if(0!==e.get(i))return!0}return!1}(e,t,i,n,o)}class id{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(i=this._searchRegex.exec(e),!i)return null;const n=i.index,o=i[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength){if(0===o){Lo(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||td(this._wordSeparators,e,t,n,o))return i}while(i);return null}}function nd(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class od{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function sd(e,t=!0){let i=[0],n=1;for(let o=0,s=e.length;o<s;o++){const t=e.charCodeAt(o);13===t?o+1<s&&10===e.charCodeAt(o+1)?(i[n++]=o+2,o++):i[n++]=o+1:10===t&&(i[n++]=o+1)}return t?nd(i):i}class rd{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class ad{constructor(e,t){this.buffer=e,this.lineStarts=t}}class ld{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Ml&&e.iterate(e.root,(e=>(e!==Ml&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class dd{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let o=i[n];(null===o.node.parent||o.nodeStartOffset>=e)&&(i[n]=null,t=!0)}if(t){let e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class cd{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new ad("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Ml,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=sd(e[o].buffer));let t=new rd(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,t)}this._searchCache=new dd(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=65535-Math.floor(21845),i=2*t,n="",o=0,s=[];if(this.iterate(this.root,(r=>{let a=this.getNodeContent(r),l=a.length;if(o<=t||o+l<i)return n+=a,o+=l,!0;let d=n.replace(/\r\n|\r|\n/g,e);return s.push(new ad(d,sd(d))),n=a,o=l,!0})),o>0){let t=n.replace(/\r\n|\r|\n/g,e);s.push(new ad(t,sd(t)))}this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new ld(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==Ml;)if(n.left!==Ml&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e){return i+=n.size_left,i+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1)}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==Ml;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,0===o.index){let e=this.getOffsetAt(i+1,1);return new Rn(i+1,n-e+1)}return new Rn(i+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===Ml){let t=this.getOffsetAt(i+1,1);return new Rn(i+1,n-e-t+1)}t=t.right}return new Rn(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(o+e.remainder,o+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),s=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==Ml;){let e=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=e.substring(n,n+t.remainder);break}s+=e.substr(n,i.piece.length),i=i.next()}return s}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,(o=>{if(o===Ml)return!0;const s=o.piece;let r=s.length;if(0===r)return!0;const a=this._buffers[s.bufferIndex].buffer,l=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,c=s.end.line;let h=l[d]+s.start.column;if(n&&(10===a.charCodeAt(h)&&(h++,r--),e[t++]=i,i="",n=!1,0===r))return!0;if(d===c)return this._EOLNormalized||13!==a.charCodeAt(h+r-1)?i+=a.substr(h,r):(n=!0,i+=a.substr(h,r-1)),!0;i+=this._EOLNormalized?a.substring(h,Math.max(h,l[d+1]-this._EOLLength)):a.substring(h,l[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=d+1;n<c;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[c]+s.end.column-1)?i=a.substr(l[c],s.end.column):(n=!0,0===s.end.column?t--:i=a.substr(l[c],s.end.column-1)),!0})),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}{let t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,s,r,a,l,d,c){let h,u,g,m=this._buffers[e.piece.bufferIndex],p=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),f=this.offsetInBuffer(e.piece.bufferIndex,o),_=this.offsetInBuffer(e.piece.bufferIndex,s),b={line:0,column:0};t._wordSeparators?(u=m.buffer.substring(f,_),g=e=>e+f,t.reset(0)):(u=m.buffer,g=e=>e,t.reset(f));do{if(h=t.next(u),h){if(g(h.index)>=_)return d;this.positionInBuffer(e,g(h.index)-p,b);let t=this.getLineFeedCnt(e.piece.bufferIndex,o,b),s=b.line===o.line?b.column-o.column+n:b.column+1,r=s+h[0].length;if(c[d++]=Yl(new br(i+t,s,i+t,r),h,a),g(h.index)+h[0].length>=_)return d;if(d>=l)return d}}while(h);return d}findMatchesLineByLine(e,t,i,n){const o=[];let s=0;const r=new id(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];let l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let d=this.positionInBuffer(a.node,a.remainder),c=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,r,e.startLineNumber,e.startColumn,d,c,t,i,n,s,o),o;let h=e.startLineNumber,u=a.node;for(;u!==l.node;){let l=this.getLineFeedCnt(u.piece.bufferIndex,d,u.piece.end);if(l>=1){let a=this._buffers[u.piece.bufferIndex].lineStarts,c=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),g=a[d.line+l],m=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(u,r,h,m,d,this.positionInBuffer(u,g-c),t,i,n,s,o),s>=n)return o;h+=l}let c=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const a=this.getLineContent(h).substring(c,e.endColumn-1);return s=this._findMatchesInLine(t,r,a,e.endLineNumber,c,s,o,i,n),o}if(s=this._findMatchesInLine(t,r,this.getLineContent(h).substr(c),h,c,s,o,i,n),s>=n)return o;h++,a=this.nodeAt2(h,1),u=a.node,d=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){let a=h===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(h).substring(a,e.endColumn-1);return s=this._findMatchesInLine(t,r,l,e.endLineNumber,a,s,o,i,n),o}let g=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(l.node,r,h,g,d,c,t,i,n,s,o),o}_findMatchesInLine(e,t,i,n,o,s,r,a,l){const d=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,c=i.length;let h=-a;for(;-1!==(h=i.indexOf(t,h+a));)if((!d||td(d,i,c,h,a))&&(r[s++]=new ga(new br(n,h+1+o,n,h+1+a+o),null),s>=l))return s;return s}let c;t.reset(0);do{if(c=t.next(i),c&&(r[s++]=Yl(new br(n,c.index+1+o,n,c.index+1+c[0].length+o),c,a),s>=l))return s}while(c);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Ml){let{node:i,remainder:n,nodeStartOffset:o}=this.nodeAt(e),s=i.piece,r=s.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&o+s.length===e&&t.length<65535)return this.appendToNode(i,t),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(o+i.piece.length>e){let e=[],o=new rd(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),this.offsetInBuffer(r,s.end)-this.offsetInBuffer(r,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(i,n)){let e={line:o.start.line+1,column:0};o=new rd(o.bufferIndex,e,o.end,this.getLineFeedCnt(o.bufferIndex,e,o.end),o.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(i,n-1)){let o=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,o),t="\r"+t,0===i.piece.length&&e.push(i)}else this.deleteNodeTail(i,a)}else this.deleteNodeTail(i,a);let l=this.createNewPieces(t);o.length>0&&this.rbInsertRight(i,o);let d=i;for(let t=0;t<l.length;t++)d=this.rbInsertRight(d,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,i)}else{let e=this.createNewPieces(t),i=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)i=this.rbInsertRight(i,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Ml)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,s=n.node;if(o===s){let s=this.positionInBuffer(o,i.remainder),r=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){let e=o.next();return Vl(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,r),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return i.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,s),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,s,r),void this.computeBufferMetadata())}let r=[],a=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,a),this._searchCache.validate(e),0===o.piece.length&&r.push(o);let l=this.positionInBuffer(s,n.remainder);this.deleteNodeHead(s,l),0===s.piece.length&&r.push(s);for(let c=o.next();c!==Ml&&c!==s;c=c.next())r.push(c);let d=0===o.piece.length?o.prev():o;this.deleteNodes(r),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let n=t.piece,o={line:n.start.line+1,column:0},s=new rd(n.bufferIndex,o,n.end,this.getLineFeedCnt(n.bufferIndex,o,n.end),n.length-1);t.piece=s,e+="\n",zl(this,t,-1,-1),0===t.piece.length&&i.push(t)}let n=this.createNewPieces(e),o=this.rbInsertLeft(t,n[n.length-1]);for(let s=n.length-2;s>=0;s--)o=this.rbInsertLeft(o,n[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),o=n;for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,r=s[n.start.line]+n.start.column+t,a=n.start.line,l=n.end.line,d=0,c=0,h=0;for(;a<=l&&(d=a+(l-a)/2|0,h=s[d],d!==l);)if(c=s[d+1],r<h)l=d-1;else{if(!(r>=c))break;a=d+1}return i?(i.line=d,i.column=r-h,null):{line:d,column:r-h}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let o=n[i.line+1],s=n[i.line]+i.column;if(o>s+1)return i.line-t.line;let r=s-1;return 13===this._buffers[e].buffer.charCodeAt(r)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)Vl(this,e[t])}createNewPieces(e){if(e.length>65535){let t=[];for(;e.length>65535;){const i=e.charCodeAt(65534);let n;13===i||i>=55296&&i<=56319?(n=e.substring(0,65534),e=e.substring(65534)):(n=e.substring(0,65535),e=e.substring(65535));let o=sd(n);t.push(new rd(this._buffers.length,{line:0,column:0},{line:o.length-1,column:n.length-o[o.length-1]},o.length-1,n.length)),this._buffers.push(new ad(n,o))}let i=sd(e);return t.push(new rd(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new ad(e,i)),t}let t=this._buffers[0].buffer.length;const i=sd(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let e=0;e<i.length;e++)i[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<i.length;e++)i[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length;let s=this._buffers[0].lineStarts.length-1,r={line:s,column:o-this._buffers[0].lineStarts[s]},a=new rd(0,n,r,this.getLineFeedCnt(0,n,r),o-t);return this._lastChangeBufferPos=r,[a]}getLineRawContent(e,t=0){let i=this.root,n="",o=this._searchCache.get2(e);if(o){i=o.node;let s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),r=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e){let n=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return r.substring(a+s,a+n-t)}n=r.substring(a+s,a+i.piece.length)}else{let o=0;const s=e;for(;i!==Ml;)if(i.left!==Ml&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let n=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:s-(e-1-i.lf_left)}),a.substring(l+n,l+r-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(i,e-i.lf_left-2),o=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=o.substring(s+t,s+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==Ml;){let e=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(i,0),s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(s,s+o-t),n}{let t=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=e.substr(t,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==Ml;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(t!==o)return{index:t,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,r=this.offsetInBuffer(i.bufferIndex,s),a=this.getLineFeedCnt(i.bufferIndex,i.start,s),l=a-n,d=r-o,c=i.length+d;e.piece=new rd(i.bufferIndex,i.start,s,a,c),zl(this,e,d,l)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,r=this.getLineFeedCnt(i.bufferIndex,s,i.end),a=r-n,l=o-this.offsetInBuffer(i.bufferIndex,s),d=i.length+l;e.piece=new rd(i.bufferIndex,s,i.end,r,d),zl(this,e,l,a)}shrinkNode(e,t,i){const n=e.piece,o=n.start,s=n.end,r=n.length,a=n.lineFeedCnt,l=t,d=this.getLineFeedCnt(n.bufferIndex,n.start,l),c=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new rd(n.bufferIndex,n.start,l,d,c),zl(this,e,c-r,d-a);let h=new rd(n.bufferIndex,i,s,this.getLineFeedCnt(n.bufferIndex,i,s),this.offsetInBuffer(n.bufferIndex,s)-this.offsetInBuffer(n.bufferIndex,i)),u=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(u)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=sd(t,!1);for(let h=0;h<o.length;h++)o[h]+=n;if(i){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const s=this._buffers[0].lineStarts.length-1,r={line:s,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[s]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,r),c=d-l;e.piece=new rd(e.piece.bufferIndex,e.piece.start,r,d,a),this._lastChangeBufferPos=r,zl(this,e,t.length,c)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==Ml;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;let i={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==Ml;)if(i.left!==Ml&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==Ml;){if(i.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,e),nodeStartOffset:n}}if(i.piece.length>=t-1){return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)}}t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===Ml||0===e.piece.lineFeedCnt)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n!==i.length-1&&(!(i[n+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==Ml&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i,n=[],o=this._buffers[e.piece.bufferIndex].lineStarts;i=0===e.piece.end.column?{line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,r=e.piece.lineFeedCnt-1;e.piece=new rd(e.piece.bufferIndex,e.piece.start,i,r,s),zl(this,e,-1,-1),0===e.piece.length&&n.push(e);let a={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new rd(t.piece.bufferIndex,a,t.piece.end,d,l),zl(this,t,-1,-1),0===t.piece.length&&n.push(t);let c=this.createNewPieces("\r\n");this.rbInsertRight(e,c[0]);for(let h=0;h<n.length;h++)Vl(this,n[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)Vl(this,i);else{const e=i.piece,t={line:e.start.line+1,column:0},n=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);i.piece=new rd(e.bufferIndex,t,e.end,o,n),zl(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Ml)return t(Ml);let i=this.iterate(e.left,t);return i?t(e)&&this.iterate(e.right,t):i}getNodeContent(e){if(e===Ml)return"";let t,i=this._buffers[e.piece.bufferIndex],n=e.piece,o=this.offsetInBuffer(n.bufferIndex,n.start),s=this.offsetInBuffer(n.bufferIndex,n.end);return t=i.buffer.substring(o,s),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new Tl(t,1);if(i.left=Ml,i.right=Ml,i.parent=Ml,i.size_left=0,i.lf_left=0,this.root===Ml)this.root=i,i.color=0;else if(e.right===Ml)e.right=i,i.parent=e;else{let t=Al(e.right);t.left=i,i.parent=t}return Hl(this,i),i}rbInsertLeft(e,t){let i=new Tl(t,1);if(i.left=Ml,i.right=Ml,i.parent=Ml,i.size_left=0,i.lf_left=0,this.root===Ml)this.root=i,i.color=0;else if(e.left===Ml)e.left=i,i.parent=e;else{let t=Rl(e.left);t.right=i,i.parent=t}return Hl(this,i),i}}function hd(e,t=0){return e[e.length-(1+t)]}function ud(e,t,i=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function gd(e,t,i){let n=0,o=e.length-1;for(;n<=o;){const s=(n+o)/2|0,r=i(e[s],t);if(r<0)n=s+1;else{if(!(r>0))return s;o=s-1}}return-(n+1)}function md(e,t){let i=0,n=e.length;if(0===n)return 0;for(;i<n;){const o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}function pd(e,t,i){if((e|=0)>=t.length)throw new TypeError("invalid index");let n=t[Math.floor(t.length*Math.random())],o=[],s=[],r=[];for(let a of t){const e=i(a,n);e<0?o.push(a):e>0?s.push(a):r.push(a)}return e<o.length?pd(e,o,i):e<o.length+r.length?r[0]:pd(e-(o.length+r.length),s,i)}function fd(e,t){const i=[];let n;for(const o of e.slice(0).sort(t))n&&0===t(n[0],o)?n.push(o):(n=[o],i.push(n));return i}function _d(e){return e.filter((e=>!!e))}function bd(e){return!Array.isArray(e)||0===e.length}function vd(e){return Array.isArray(e)&&e.length>0}function wd(e,t=(e=>e)){const i=new Set;return e.filter((e=>{const n=t(e);return!i.has(n)&&(i.add(n),!0)}))}function Cd(e,t){return e.length>0?e[0]:t}function yd(e){return[].concat(...e)}function Sd(e,t){let i="number"==typeof t?e:0;"number"==typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let o=i;o<t;o++)n.push(o);else for(let o=i;o>t;o--)n.push(o);return n}function kd(e,t,i){const n=e.slice(0,t),o=e.slice(t);return n.concat(i,o)}function xd(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function Ld(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function Dd(e){return Array.isArray(e)?e:[e]}function Ed(e,t,i,n){const o=Nd(e,t),s=e.splice(o,i);return function(e,t,i){const n=Nd(e,t),o=e.length,s=i.length;e.length=o+s;for(let r=o-1;r>=n;r--)e[r+s]=e[r];for(let r=0;r<s;r++)e[r+n]=i[r]}(e,o,n),s}function Nd(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}class Id{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){return this.items[this.firstIdx]}}function Td(e){return Md(e,0)}function Md(e,t){switch(typeof e){case"object":return null===e?Ad(349,t):Array.isArray(e)?(i=e,n=Ad(104579,n=t),i.reduce(((e,t)=>Md(t,e)),n)):function(e,t){return t=Ad(181387,t),Object.keys(e).sort().reduce(((t,i)=>(t=Rd(i,t),Md(e[i],t))),t)}(e,t);case"string":return Rd(e,t);case"boolean":return function(e,t){return Ad(e?433:863,t)}(e,t);case"number":return Ad(e,t);case"undefined":return Ad(937,t);default:return Ad(617,t)}var i,n}function Ad(e,t){return(t<<5)-t+e|0}function Rd(e,t){t=Ad(149417,t);for(let i=0,n=e.length;i<n;i++)t=Ad(e.charCodeAt(i),t);return t}function Od(e,t,i=32){const n=i-t;return(e<<t|(~((1<<n)-1)&e)>>>n)>>>0}function Pd(e,t=0,i=e.byteLength,n=0){for(let o=0;o<i;o++)e[t+o]=n}function Fd(e,t=32){return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join(""):function(e,t,i="0"){for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}class Bd{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let n,o,s=this._buffLen,r=this._leftoverHighSurrogate;for(0!==r?(n=r,o=-1,r=0):(n=e.charCodeAt(0),o=0);;){let a=n;if(So(n)){if(!(o+1<t)){r=n;break}{const t=e.charCodeAt(o+1);ko(t)?(o++,a=xo(n,t)):a=65533}}else ko(n)&&(a=65533);if(s=this._push(i,s,a),o++,!(o<t))break;n=e.charCodeAt(o)}this._buffLen=s,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Fd(this._h0)+Fd(this._h1)+Fd(this._h2)+Fd(this._h3)+Fd(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Pd(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Pd(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Bd._bigBlock32,t=this._buffDV;for(let c=0;c<64;c+=4)e.setUint32(c,t.getUint32(c,!1),!1);for(let c=64;c<320;c+=4)e.setUint32(c,Od(e.getUint32(c-12,!1)^e.getUint32(c-32,!1)^e.getUint32(c-56,!1)^e.getUint32(c-64,!1),1),!1);let i,n,o,s=this._h0,r=this._h1,a=this._h2,l=this._h3,d=this._h4;for(let c=0;c<80;c++)c<20?(i=r&a|~r&l,n=1518500249):c<40?(i=r^a^l,n=1859775393):c<60?(i=r&a|r&l|a&l,n=2400959708):(i=r^a^l,n=3395469782),o=Od(s,5)+i+d+n+e.getUint32(4*c,!1)&4294967295,d=l,l=a,a=Od(r,30),r=s,s=o;this._h0=this._h0+s&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+d&4294967295}}var Wd,Vd;Bd._bigBlock32=new DataView(new ArrayBuffer(320));class Hd{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class zd{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?mo(e,this._value,0,e.length,this._from,this._to):fo(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Ud{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?mo(e,this._value,0,e.length,this._from,this._to):fo(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Kd{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Ud(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return po(e,this._value.scheme);if(2===this._states[this._stateIdx])return po(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return go(e,this._value.query);if(5===this._states[this._stateIdx])return go(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class jd{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return null!==(t=null===(e=this.left)||void 0===e?void 0:e.height)&&void 0!==t?t:0}get heightRight(){var e,t;return null!==(t=null===(e=this.right)||void 0===e?void 0:e.height)&&void 0!==t?t:0}}class $d{constructor(e){this._iter=e}static forUris(e=(()=>!1)){return new $d(new Kd(e))}static forStrings(){return new $d(new Hd)}static forConfigKeys(){return new $d(new zd)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;this._root||(this._root=new jd,this._root.segment=i.value());const o=[];for(n=this._root;;){const e=i.cmp(n.segment);if(e>0)n.left||(n.left=new jd,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(e<0)n.right||(n.right=new jd,n.right.segment=i.value()),o.push([1,n]),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new jd,n.mid.segment=i.value()),o.push([0,n]),n=n.mid}}const s=n.value;n.value=t,n.key=e;for(let r=o.length-1;r>=0;r--){const e=o[r][1];e.updateHeight();const t=e.balanceFactor();if(t<-1||t>1){const t=o[r][0],i=o[r+1][0];if(1===t&&1===i)o[r][1]=e.rotateLeft();else if(-1===t&&-1===i)o[r][1]=e.rotateRight();else if(1===t&&-1===i)e.right=o[r+1][1]=o[r+1][1].rotateRight(),o[r][1]=e.rotateLeft();else{if(-1!==t||1!==i)throw new Error;e.left=o[r+1][1]=o[r+1][1].rotateLeft(),o[r][1]=e.rotateRight()}if(r>0)switch(o[r-1][0]){case-1:o[r-1][1].left=o[r][1];break;case 1:o[r-1][1].right=o[r][1];break;case 0:o[r-1][1].mid=o[r][1]}else this._root=o[0][1]}}return s}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),i=i.mid}}return i}has(e){const t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const n=this._iter.reset(e),o=[];let s=this._root;for(;s;){const e=n.cmp(s.segment);if(e>0)o.push([-1,s]),s=s.left;else if(e<0)o.push([1,s]),s=s.right;else{if(!n.hasNext())break;n.next(),o.push([0,s]),s=s.mid}}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const e=this._min(s.right),{key:t,value:i,segment:n}=e;this._delete(e.key,!1),s.key=t,s.value=i,s.segment=n}else{const e=null!==(i=s.left)&&void 0!==i?i:s.right;if(o.length>0){const[t,i]=o[o.length-1];switch(t){case-1:i.left=e;break;case 0:i.mid=e;break;case 1:i.right=e}}else this._root=e}for(let e=o.length-1;e>=0;e--){const t=o[e][1];t.updateHeight();const i=t.balanceFactor();if(i>1?(t.right.balanceFactor()>=0||(t.right=o[e+1][1]=o[e+1][1].rotateRight()),o[e][1]=t.rotateLeft()):i<-1&&(t.left.balanceFactor()<=0||(t.left=o[e+1][1]=o[e+1][1].rotateLeft()),o[e][1]=t.rotateRight()),e>0)switch(o[e-1][0]){case-1:o[e-1][1].left=o[e][1];break;case 1:o[e-1][1].right=o[e][1];break;case 0:o[e-1][1].mid=o[e][1]}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i,n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),i=n.value||i,n=n.mid}}return n&&n.value||i}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())return i.mid?this._entries(i.mid):void 0;t.next(),i=i.mid}}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}}class qd{constructor(e,t){this.uri=e,this.value=t}}class Gd{constructor(e,t){this[Wd]="ResourceMap",e instanceof Gd?(this.map=new Map(e.map),this.toKey=null!=t?t:Gd.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:Gd.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new qd(e,t)),this}get(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(Wd=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}}Gd.defaultToKey=e=>e.toString();class Zd{constructor(){this[Vd]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return 0!==t&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:default:this.addItemLast(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.key,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.value,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:[i.key,i.value],done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}[(Vd=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,i)=>{e.push([i,t])})),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class Jd extends Zd{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}function Qd(e,t,i){return Math.min(Math.max(e,t),i)}class Yd{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}get value(){return this._val}}const Xd=/\//g;function ec(e){switch(e){case 0:return"";case 1:return"[^/\\\\]*?";default:return"(?:[/\\\\]|[^/\\\\]+[/\\\\]|[/\\\\][^/\\\\]+)*?"}}function tc(e,t){if(!e)return[];const i=[];let n=!1,o=!1,s="";for(const r of e){switch(r){case t:if(!n&&!o){i.push(s),s="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":o=!0;break;case"]":o=!1}s+=r}return s&&i.push(s),i}function ic(e){if(!e)return"";let t="";const i=tc(e,"/");if(i.every((e=>"**"===e)))t=".*";else{let e=!1;i.forEach(((n,o)=>{if("**"===n)return void(e||(t+=ec(2),e=!0));let s=!1,r="",a=!1,l="";for(const e of n)if("}"!==e&&s)r+=e;else if(!a||"]"===e&&l)switch(e){case"{":s=!0;continue;case"[":a=!0;continue;case"}":const i=`(?:${tc(r,",").map((e=>ic(e))).join("|")})`;t+=i,s=!1,r="";break;case"]":t+="["+l+"]",a=!1,l="";break;case"?":t+="[^/\\\\]";continue;case"*":t+=ec(1);continue;default:t+=io(e)}else{let t;t="-"===e?e:"^"!==e&&"!"!==e||l?"/"===e?"":io(e):"^",l+=t}o<i.length-1&&("**"!==i[o+1]||o+2<i.length)&&(t+="[/\\\\]"),e=!1}))}return t}const nc=/^\*\*\/\*\.[\w\.-]+$/,oc=/^\*\*\/([\w\.-]+)\/?$/,sc=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,rc=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,ac=/^\*\*((\/[\w\.-]+)+)\/?$/,lc=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,dc=new Jd(1e4),cc=function(){return!1},hc=function(){return null};function uc(e,t){if(!e)return hc;let i;i="string"!=typeof e?e.pattern:e,i=i.trim();const n=`${i}_${!!t.trimForExclusions}`;let o,s=dc.get(n);if(s)return gc(s,e);if(nc.test(i)){const e=i.substr(4);s=function(t,n){return"string"==typeof t&&t.endsWith(e)?i:null}}else s=(o=oc.exec(mc(i,t)))?function(e,t){const i=`/${e}`,n=`\\${e}`,o=function(o,s){return"string"!=typeof o?null:s?s===e?t:null:o===e||o.endsWith(i)||o.endsWith(n)?t:null},s=[e];return o.basenames=s,o.patterns=[t],o.allBasenames=s,o}(o[1],i):(t.trimForExclusions?rc:sc).test(i)?function(e,t){const i=_c(e.slice(1,-1).split(",").map((e=>uc(e,t))).filter((e=>e!==hc)),e),n=i.length;if(!n)return hc;if(1===n)return i[0];const o=function(t,n){for(let o=0,s=i.length;o<s;o++)if(i[o](t,n))return e;return null},s=i.find((e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);r.length&&(o.allPaths=r);return o}(i,t):(o=ac.exec(mc(i,t)))?pc(o[1].substr(1),i,!0):(o=lc.exec(mc(i,t)))?pc(o[1],i,!1):function(e){try{const t=new RegExp(`^${ic(e)}$`);return function(i){return t.lastIndex=0,"string"==typeof i&&t.test(i)?e:null}}catch(t){return hc}}(i);return dc.set(n,s),gc(s,e)}function gc(e,t){return"string"==typeof t?e:function(i,n){return function(e,t,i,n=jt){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!wo(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===n&&i--,e.charAt(i)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}(i,t.base)?e(Ht(t.base,i),n):null}}function mc(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function pc(e,t,i){const n=jt===Bt.sep,o=n?e:e.replace(Xd,jt),s=jt+o,r=Bt.sep+e,a=i?function(i,a){return"string"!=typeof i||i!==o&&!i.endsWith(s)&&(n||i!==e&&!i.endsWith(r))?null:t}:function(i,s){return"string"!=typeof i||i!==o&&(n||i!==e)?null:t};return a.allPaths=[(i?"*/":"./")+e],a}function fc(e,t={}){if(!e)return cc;if("string"==typeof e||function(e){const t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const i=uc(e,t);if(i===hc)return cc;const n=function(e,t){return!!i(e,t)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,t){const i=_c(Object.getOwnPropertyNames(e).map((i=>function(e,t,i){if(!1===t)return hc;const n=uc(e,i);if(n===hc)return hc;if("boolean"==typeof t)return n;if(t){const i=t.when;if("string"==typeof i){const t=(t,o,s,r)=>{if(!r||!n(t,o))return null;const a=r(i.replace("$(basename)",s));return(l=a)&&"function"==typeof l.then?a.then((t=>t?e:null)):a?e:null;var l};return t.requiresSiblings=!0,t}}return n}(i,e[i],t))).filter((e=>e!==hc))),n=i.length;if(!n)return hc;if(!i.some((e=>!!e.requiresSiblings))){if(1===n)return i[0];const e=function(e,t){for(let n=0,o=i.length;n<o;n++){const o=i[n](e,t);if(o)return o}return null},t=i.find((e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const o=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return o.length&&(e.allPaths=o),e}const o=function(e,t,n){let o;for(let s=0,r=i.length;s<r;s++){const r=i[s];r.requiresSiblings&&n&&(t||(t=Ut(e)),o||(o=t.substr(0,t.length-Kt(e).length)));const a=r(e,t,o,n);if(a)return a}return null},s=i.find((e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);r.length&&(o.allPaths=r);return o}(e,t)}function _c(e,t){const i=e.filter((e=>!!e.basenames));if(i.length<2)return e;const n=i.reduce(((e,t)=>{const i=t.basenames;return i?e.concat(i):e}),[]);let o;if(t){o=[];for(let e=0,i=n.length;e<i;e++)o.push(t)}else o=i.reduce(((e,t)=>{const i=t.patterns;return i?e.concat(i):e}),[]);const s=function(e,t){if("string"!=typeof e)return null;if(!t){let i;for(i=e.length;i>0;i--){const t=e.charCodeAt(i-1);if(47===t||92===t)break}t=e.substr(i)}const i=n.indexOf(t);return-1!==i?o[i]:null};s.basenames=n,s.patterns=o,s.allBasenames=n;const r=e.filter((e=>!e.basenames));return r.push(s),r}function bc(e,t,i,n){if(Array.isArray(e)){let o=0;for(const s of e){const e=bc(s,t,i,n);if(10===e)return e;e>o&&(o=e)}return o}if("string"==typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:a,pattern:l,scheme:d,hasAccessToAllModels:c}=e;if(!n&&!c)return 0;let h=0;if(d)if(d===t.scheme)h=10;else{if("*"!==d)return 0;h=5}if(a)if(a===i)h=10;else{if("*"!==a)return 0;h=Math.max(h,5)}if(l){let e;if(e="string"==typeof l?l:Object.assign(Object.assign({},l),{base:Wt(l.base)}),e!==t.fsPath&&(o=e,s=t.fsPath,!o||"string"!=typeof s||!fc(o)(s,void 0,r)))return 0;h=10}return h}return 0;var o,s,r}function vc(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(vc):!!e.exclusive)}class wc{constructor(){this._clock=0,this._entries=[],this._onDidChange=new X}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),_((()=>{if(i){let e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,(e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))})),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=bc(t.selector,e.uri,e.getLanguageId(),Pn(e)),vc(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(wc._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}const Cc=new WeakMap;let yc=0;class Sc{constructor(e,t,i=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=i,this._cache=new Jd(50,.7)}_key(e){return e.id+this._registry.all(e).reduce(((e,t)=>Md(function(e){let t=Cc.get(e);return void 0===t&&(t=++yc,Cc.set(e,t)),t}(t),e)),0)}_clamp(e){return void 0===e?this.min:Math.min(this.max,Math.max(this.min,Math.floor(1.3*e)))}get(e){const t=this._key(e),i=this._cache.get(t);return this._clamp(null==i?void 0:i.value)}update(e,t){const i=this._key(e);let n=this._cache.get(i);return n||(n=new Yd,this._cache.set(i,n)),n.update(t),this.get(e)}}class kc{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let o=`color: ${t[i]};`;return 1&n&&(o+="font-style: italic;"),2&n&&(o+="font-weight: bold;"),4&n&&(o+="text-decoration: underline;"),o}}const xc=function(){let e=Object.create(null);return e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues",function(t){const i=e[t];let n=i&&jn.get(i);return n||(console.info("No codicon found for CompletionItemKind "+t),n=qn.symbolProperty),n.classNames}}();let Lc=function(){let e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26,function(t,i){let n=e[t];return void 0!==n||i||(n=9),n}}();var Dc,Ec,Nc,Ic,Tc,Mc,Ac,Rc,Oc;(Ec=Dc||(Dc={}))[Ec.Automatic=0]="Automatic",Ec[Ec.Explicit=1]="Explicit",(Ic=Nc||(Nc={}))[Ic.Invoke=1]="Invoke",Ic[Ic.TriggerCharacter=2]="TriggerCharacter",Ic[Ic.ContentChange=3]="ContentChange",(Mc=Tc||(Tc={}))[Mc.Text=0]="Text",Mc[Mc.Read=1]="Read",Mc[Mc.Write=2]="Write",function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const i=new Map;i.set(0,"file"),i.set(1,"module"),i.set(2,"namespace"),i.set(3,"package"),i.set(4,"class"),i.set(5,"method"),i.set(6,"property"),i.set(7,"field"),i.set(8,"constructor"),i.set(9,"enum"),i.set(10,"interface"),i.set(11,"function"),i.set(12,"variable"),i.set(13,"constant"),i.set(14,"string"),i.set(15,"number"),i.set(16,"boolean"),i.set(17,"array"),i.set(18,"object"),i.set(19,"key"),i.set(20,"null"),i.set(21,"enum-member"),i.set(22,"struct"),i.set(23,"event"),i.set(24,"operator"),i.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return i.get(e)},e.toCssClassName=function(e,t){const n=i.get(e);let o=n&&jn.get("symbol-"+n);return o||(console.info("No codicon found for SymbolKind "+e),o=qn.symbolProperty),`${t?"inline":"block"} ${o.classNames}`}}(Ac||(Ac={}));class Pc{constructor(e){this.value=e}}Pc.Comment=new Pc("comment"),Pc.Imports=new Pc("imports"),Pc.Region=new Pc("region"),(Oc=Rc||(Rc={}))[Oc.Other=0]="Other",Oc[Oc.Type=1]="Type",Oc[Oc.Parameter=2]="Parameter";const Fc=new wc,Bc=new wc,Wc=new wc,Vc=new wc,Hc=new wc,zc=new wc,Uc=new wc,Kc=new wc,jc=new wc,$c=new wc,qc=new wc,Gc=new wc,Zc=new wc,Jc=new wc,Qc=new wc,Yc=new wc,Xc=new wc,eh=new wc,th=new wc,ih=new wc,nh=new wc,oh=new wc,sh=new wc,rh=new wc,ah=new wc,lh=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new X,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),_((()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))}))}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then((t=>{this._promises.delete(e),!n&&t&&(i=this.register(e,t))}))),_((()=>{n=!0,i&&i.dispose()}))}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then((t=>this.get(e))):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class dh{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){const i=dh.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new dh(n,e,t)}equals(e){return e instanceof dh&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const n=t<<1,o=n+(i<<1);for(let s=n;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)],i=kc.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return kc.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return kc.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return kc.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[1+(e<<1)];return kc.getInlineStyleFromMetadata(i,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return dh.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new ch(this,e,t,i)}static convertToEndOffset(e,t){const i=(e.length>>>1)-1;for(let n=0;n<i;n++)e[n<<1]=e[n+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const o=i+Math.floor((n-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(n=o)}return i}withInserted(e){if(0===e.length)return this;let t=0,i=0,n="";const o=new Array;let s=0;for(;;){let r=t<this._tokensCount?this._tokens[t<<1]:-1,a=i<e.length?e[i]:null;if(-1!==r&&(null===a||r<=a.offset)){n+=this._text.substring(s,r);const e=this._tokens[1+(t<<1)];o.push(n.length,e),t++,s=r}else{if(!a)break;if(a.offset>s){n+=this._text.substring(s,a.offset);const e=this._tokens[1+(t<<1)];o.push(n.length,e),s=a.offset}n+=a.text,o.push(n.length,a.tokenMetadata),i++}}return new dh(new Uint32Array(o),n,this._languageIdCodec)}}dh.defaultTokenMetadata=16793600;class ch{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s;o++){if(e.getStartOffset(o)>=i)break;this._tokensCount++}}equals(e){return e instanceof ch&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}function hh(e){let t=0,i=0,n=0,o=0;for(let s=0,r=e.length;s<r;s++){const a=e.charCodeAt(s);13===a?(0===t&&(i=s),t++,s+1<r&&10===e.charCodeAt(s+1)?(o|=2,s++):o|=3,n=s+1):10===a&&(o|=1,0===t&&(i=s),t++,n=s+1)}return 0===t&&(i=e.length),[t,i,e.length-n,o]}function uh(e){return(16384|e<<0|2<<23)>>>0}const gh=new Uint32Array(0).buffer;class mh{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e)return void i.tokens.push(t)}this.tokens.push(new bh(e,[t]))}}class ph{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new br(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else{if(!(o>e)){let o=n;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let s=n;for(;s<i&&this._getDeltaLine(s+1)===e;)s++;return new fh(this._tokens.subarray(4*o,4*s+4))}i=n-1}}return this._getDeltaLine(t)===e?new fh(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const o=this._tokens,s=this._tokenCount;let r=0,a=!1,l=0;for(let d=0;d<s;d++){const s=4*d,c=o[s],h=o[s+1],u=o[s+2],g=o[s+3];if((c>e||c===e&&u>=t)&&(c<i||c===i&&h<=n))a=!0;else{if(0===r&&(l=c),a){const e=4*r;o[e]=c-l,o[e+1]=h,o[e+2]=u,o[e+3]=g}r++}}return this._tokenCount=r,l}split(e,t,i,n){const o=this._tokens,s=this._tokenCount;let r=[],a=[],l=r,d=0,c=0;for(let h=0;h<s;h++){const s=4*h,r=o[s],u=o[s+1],g=o[s+2],m=o[s+3];if(r>e||r===e&&g>=t){if(r<i||r===i&&u<=n)continue;l!==a&&(l=a,d=0,c=r)}l[d++]=r-c,l[d++]=u,l[d++]=g,l[d++]=m}return[new ph(new Uint32Array(r)),new ph(new Uint32Array(a)),c]}acceptDeleteRange(e,t,i,n,o){const s=this._tokens,r=this._tokenCount,a=n-t;let l=0,d=!1;for(let c=0;c<r;c++){const h=4*c;let u=s[h],g=s[h+1],m=s[h+2];const p=s[h+3];if(u<t||u===t&&m<=i){l++;continue}if(u===t&&g<i)u===n&&m>o?m-=o-i:m=i;else if(u===t&&g===i){if(!(u===n&&m>o)){d=!0;continue}m-=o-i}else if(u<n||u===n&&g<o){if(!(u===n&&m>o)){d=!0;continue}u===t?(g=i,m=g+(m-o)):(g=0,m=g+(m-o))}else if(u>n){if(0===a&&!d){l=r;break}u-=a}else{if(!(u===n&&g>=o))throw new Error("Not possible!");e&&0===u&&(g+=e,m+=e),u-=a,g-=o-i,m-=o-i}const f=4*l;s[f]=u,s[f+1]=g,s[f+2]=m,s[f+3]=p,l++}this._tokenCount=l}acceptInsertText(e,t,i,n,o,s){const r=0===i&&1===n&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),a=this._tokens,l=this._tokenCount;for(let d=0;d<l;d++){const s=4*d;let l=a[s],c=a[s+1],h=a[s+2];if(!(l<e||l===e&&h<t)){if(l===e&&h===t){if(!r)continue;h+=1}else if(l===e&&c<t&&t<h)0===i?h+=n:h=t;else{if(l===e&&c===t&&r)continue;if(l===e)if(l+=i,0===i)c+=n,h+=n;else{const e=h-c;c=o+(c-t),h=c+e}else l+=i}a[s]=l,a[s+1]=c,a[s+2]=h}}}}class fh{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class _h{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e?new br(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[n,o,s]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new _h(this.startLineNumber,n),new _h(this.startLineNumber+s,o)]}applyEdit(e,t){const[i,n,o]=hh(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new Rn(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0){const e=i-t;return void(this.startLineNumber-=e)}const n=this.tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){const n=-t;this.startLineNumber-=n,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(0===t&&0===i)return;const s=e.lineNumber-this.startLineNumber;if(s<0)return void(this.startLineNumber+=t);s>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(s,e.column-1,t,i,n,o)}}class bh{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function vh(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class wh{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const n=t[0].getRange(),o=t[t.length-1].getRange();if(!n||!o)return e;i=e.plusRange(n).plusRange(o)}let n=null;for(let o=0,s=this._pieces.length;o<s;o++){const e=this._pieces[o];if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};break}if(e.removeTokens(i),e.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};continue}const[t,r]=e.split(i);t.isEmpty()?n=n||{index:o}:r.isEmpty()||(this._pieces.splice(o,1,t,r),o++,s++,n=n||{index:o})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=kd(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){const i=this._pieces;if(0===i.length)return t;const n=i[wh._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;const o=t.getCount(),s=n.getCount();let r=0,a=[],l=0,d=0;const c=(e,t)=>{e!==d&&(d=e,a[l++]=e,a[l++]=t)};for(let h=0;h<s;h++){const e=n.getStartCharacter(h),i=n.getEndCharacter(h),s=n.getMetadata(h),a=((1&s?2048:0)|(2&s?4096:0)|(4&s?8192:0)|(8&s?8372224:0)|(16&s?4286578688:0))>>>0,l=~a>>>0;for(;r<o&&t.getEndOffset(r)<=e;)c(t.getEndOffset(r),t.getMetadata(r)),r++;for(r<o&&t.getStartOffset(r)<e&&c(e,t.getMetadata(r));r<o&&t.getEndOffset(r)<i;)c(t.getEndOffset(r),t.getMetadata(r)&l|s&a),r++;if(r<o)c(i,t.getMetadata(r)&l|s&a),t.getEndOffset(r)===i&&r++;else{const e=Math.min(Math.max(0,r-1),o-1);c(i,t.getMetadata(e)&l|s&a)}}for(;r<o;)c(t.getEndOffset(r),t.getMetadata(r)),r++;return new dh(new Uint32Array(a),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}n=o-1}}return i}acceptEdit(e,t,i,n,o){for(const s of this._pieces)s.acceptEdit(e,t,i,n,o)}}class Ch{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==gh)return new dh(vh(n),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=uh(this._languageIdCodec.encodeLanguageId(e)),new dh(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const n=i?vh(i):null;if(0===t){let t=!1;if(n&&n.length>1&&(t=kc.getLanguageId(n[1])!==e),!t)return gh}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=t,i[1]=uh(e),i.buffer}return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=kd(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){const s=Ch._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);const r=this._lineTokens[t];return this._lineTokens[t]=s,!!o&&!Ch._equals(r,s)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=vh(e),n=vh(t);if(i.length!==n.length)return!1;for(let o=0,s=i.length;o<s;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new Rn(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=Ch._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=Ch._deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=Ch._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Ch._append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const n=e.lineNumber-1;n>=this._len||(0!==t?(this._lineTokens[n]=Ch._deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=Ch._insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=Ch._insert(this._lineTokens[n],e.column-1,i))}static _deleteBeginning(e,t){return null===e||e===gh?e:Ch._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===gh)return e;const i=vh(e),n=i[i.length-2];return Ch._delete(e,t,n)}static _delete(e,t,i){if(null===e||e===gh||t===i)return e;const n=vh(e),o=n.length>>>1;if(0===t&&n[n.length-2]===i)return gh;const s=dh.findIndexInTokensArray(n,t),r=s>0?n[s-1<<1]:0;if(i<n[s<<1]){const r=i-t;for(let e=s;e<o;e++)n[e<<1]-=r;return e}let a,l;r!==t?(n[s<<1]=t,a=s+1<<1,l=t):(a=s<<1,l=r);const d=i-t;for(let h=s+1;h<o;h++){const e=n[h<<1]-d;e>l&&(n[a++]=e,n[a++]=n[1+(h<<1)],l=e)}if(a===n.length)return e;let c=new Uint32Array(a);return c.set(n.subarray(0,a),0),c.buffer}static _append(e,t){if(t===gh)return e;if(e===gh)return t;if(null===e)return e;if(null===t)return null;const i=vh(e),n=vh(t),o=n.length>>>1;let s=new Uint32Array(i.length+n.length);s.set(i,0);let r=i.length;const a=i[i.length-2];for(let l=0;l<o;l++)s[r++]=n[l<<1]+a,s[r++]=n[1+(l<<1)];return s.buffer}static _insert(e,t,i){if(null===e||e===gh)return e;const n=vh(e),o=n.length>>>1;let s=dh.findIndexInTokensArray(n,t);if(s>0){n[s-1<<1]===t&&s--}for(let r=s;r<o;r++)n[r<<1]+=i;return e}}class yh extends v{constructor(e,t,i,n,o,s,r){super(),this._onDidChangeContent=this._register(new X),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new cd(e,i,r)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t;const n=this.getPositionAt(e),o=this.getPositionAt(i);return new br(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,o=e.endLineNumber;for(let t=n;t<=o;t++){const s=this.getLineContent(t),r=t===n?e.startColumn-1:0,a=t===o?e.endColumn-1:s.length;for(let e=r;e<a;e++)So(s.charCodeAt(e))?(i+=1,e+=1):i+=1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=co(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=uo(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,r=!0,a=[];for(let m=0;m<e.length;m++){let t=e[m];r&&t._isTracked&&(r=!1);let i=t.range;if(t.text){let e=!0;s||(e=!Ao(t.text),s=e),!n&&e&&(n=Io(t.text)),!o&&e&&(o=Oo(t.text))}let l="",d=0,c=0,h=0;if(t.text){let e;[d,c,h,e]=hh(t.text);const i=this.getEOL(),n="\r\n"===i?2:1;l=0===e||e===n?t.text:t.text.replace(/\r\n|\r|\n/g,i)}a[m]={sortIndex:m,identifier:t.identifier||null,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i),text:l,eolCount:d,firstLineLength:c,lastLineLength:h,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}a.sort(yh._sortOpsAscending);let l=!1;for(let m=0,p=a.length-1;m<p;m++){let e=a[m].range.getEndPosition(),t=a[m+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}r&&(a=this._reduceOperations(a));let d=i||t?yh._getInverseEditRanges(a):[],c=[];if(t)for(let m=0;m<a.length;m++){let e=a[m],t=d[m];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let i=t.startLineNumber;i<=t.endLineNumber;i++){let n="";i===t.startLineNumber&&(n=this.getLineContent(e.range.startLineNumber),-1!==co(n))||c.push({lineNumber:i,oldContent:n})}}let h=null;if(i){let e=0;h=[];for(let t=0;t<a.length;t++){const i=a[t],n=d[t],o=this.getValueInRange(i.range),s=i.rangeOffset+e;e+=i.text.length-o.length,h[t]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:o,textChange:new Wa(i.rangeOffset,o,s,i.text)}}l||h.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;const u=this._doApplyEdits(a);let g=null;if(t&&c.length>0){c.sort(((e,t)=>t.lineNumber-e.lineNumber)),g=[];for(let e=0,t=c.length;e<t;e++){let t=c[e].lineNumber;if(e>0&&c[e-1].lineNumber===t)continue;let i=c[e].oldContent,n=this.getLineContent(t);0!==n.length&&n!==i&&-1===co(n)&&g.push(t)}}return this._onDidChangeContent.fire(),new _a(h,u,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,o=new br(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let s=i.startLineNumber,r=i.startColumn;const a=[];for(let u=0,g=e.length;u<g;u++){const i=e[u],n=i.range;t=t||i.forceMoveMarkers,a.push(this.getValueInRange(new br(s,r,n.startLineNumber,n.startColumn))),i.text.length>0&&a.push(i.text),s=n.endLineNumber,r=n.endColumn}const l=a.join(""),[d,c,h]=hh(l);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:l,eolCount:d,firstLineLength:c,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(yh._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i];const o=n.range.startLineNumber,s=n.range.startColumn,r=n.range.endLineNumber,a=n.range.endColumn;if(o===r&&s===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new br(o,s,r,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,o=null;for(let s=0,r=e.length;s<r;s++){let r,a,l,d=e[s];if(o?o.range.endLineNumber===d.range.startLineNumber?(r=i,a=n+(d.range.startColumn-o.range.endColumn)):(r=i+(d.range.startLineNumber-o.range.endLineNumber),a=d.range.startColumn):(r=d.range.startLineNumber,a=d.range.startColumn),d.text.length>0){const e=d.eolCount+1;l=1===e?new br(r,a,r,a+d.firstLineLength):new br(r,a,r+e-1,d.lastLineLength+1)}else l=new br(r,a,r,a);i=l.endLineNumber,n=l.endColumn,t.push(l),o=d}return t}static _sortOpsAscending(e,t){let i=br.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=br.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class Sh{constructor(e,t,i,n,o,s,r,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=r,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":i>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let o=0,s=i.length;o<s;o++){let e=i[o].buffer.replace(/\r\n|\r|\n/g,t),n=sd(e);i[o]=new ad(e,n)}const n=new yh(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}class kh{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&Wo(e)&&(this.BOM=Bo,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let i=1,n=0,o=0,s=0,r=!0;for(let l=0,d=t.length;l<d;l++){const a=t.charCodeAt(l);13===a?l+1<d&&10===t.charCodeAt(l+1)?(s++,e[i++]=l+2,l++):(n++,e[i++]=l+1):10===a?(o++,e[i++]=l+1):r&&9!==a&&(a<32||a>126)&&(r=!1)}const a=new od(nd(e),n,o,s,r);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new ad(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=Io(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=Oo(e))}finish(e=!0){return this._finish(),new Sh(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=sd(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class xh{constructor(){this.changeType=1}}class Lh{constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",n=0;for(const o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Lh(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Lh(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber)),t}}class Dh{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class Eh{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Nh{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class Ih{constructor(){this.changeType=5}}class Th{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new Th(i,n,o,s)}}class Mh{constructor(e){this.changes=e}}class Ah{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=Th.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Ah._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Ah(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}class Rh{constructor(e,t,i){this._tokenBrand=void 0,this.offset=0|e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class Oh{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class Ph{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}const Fh=new class{clone(){return this}equals(e){return this===e}},Bh="vs.editor.nullMode";function Wh(e,t,i,n){return new Oh([new Rh(n,"",e)],i)}function Vh(e,t,i,n){let o=new Uint32Array(2);return o[0]=n,o[1]=(16384|e<<0|2<<23)>>>0,new Ph(o,null===i?Fh:i)}class Hh{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const i=[],n=[];for(let o=0;o<t;o++)i[o]=null,n[o]=!1;this._beginState=kd(this._beginState,e,i),this._valid=kd(this._valid,e,n),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const n=this.getBeginState(t+1);if(null===n||!i.equals(n))return this._setBeginState(t+1,i),void this._invalidateLine(t+1);let o=t+1;for(;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const i=e.endLineNumber-e.startLineNumber,n=t;for(let o=Math.min(i,n);o>=0;o--)this._invalidateLine(e.startLineNumber+o-1);this._acceptDeleteRange(e),this._acceptInsertText(new Rn(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class zh extends v{constructor(e,t){super(),this._textModel=e,this._languageIdCodec=t,this._isDisposed=!1,this._tokenizationStateStore=new Hh,this._tokenizationSupport=null,this._register(lh.onDidChange((e=>{const t=this._textModel.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&(this._resetTokenizationState(),this._textModel.clearTokens())}))),this._register(this._textModel.onDidChangeContentFast((e=>{if(e.isFlush)this._resetTokenizationState();else{for(let t=0,i=e.changes.length;t<i;t++){const i=e.changes[t],[n]=hh(i.text);this._tokenizationStateStore.applyEdits(i.range,n)}this._beginBackgroundTokenization()}}))),this._register(this._textModel.onDidChangeAttached((()=>{this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeLanguage((()=>{this._resetTokenizationState(),this._textModel.clearTokens()}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=function(e){const t=e.getLanguageId();let i=e.isTooLargeForTokenization()?null:lh.get(t),o=null;if(i)try{o=i.getInitialState()}catch(G1){n(G1),i=null}return[i,o]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&K((()=>{this._isDisposed||this._revalidateTokensNow()}))}_revalidateTokensNow(){const e=this._textModel.getLineCount(),t=new mh,i=J.create(!1);let n=-1;for(;this._hasLinesToTokenize()&&!(i.elapsed()>1)&&(n=this._tokenizeOneInvalidLine(t),!(n>=e)););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}tokenizeViewport(e,t){const i=new mh;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new mh;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),o=t-1;for(let s=this._tokenizationStateStore.invalidLineStartIndex;s<=o;s++){const t=this._textModel.getLineContent(s+1),o=this._tokenizationStateStore.getBeginState(s),r=Uh(this._languageIdCodec,i,this._tokenizationSupport,t,!0,o);e.add(s+1,r.tokens),this._tokenizationStateStore.setEndState(n,s,r.endState),s=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationSupport)return;if(i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,i);let n=this._textModel.getLineFirstNonWhitespaceColumn(t);const o=[];let s=null;for(let l=t-1;n>1&&l>=1;l--){const e=this._textModel.getLineFirstNonWhitespaceColumn(l);if(0!==e&&e<n){if(s=this._tokenizationStateStore.getBeginState(l-1),s)break;o.push(this._textModel.getLineContent(l)),n=e}}s||(s=this._tokenizationSupport.getInitialState());const r=this._textModel.getLanguageId();let a=s;for(let l=o.length-1;l>=0;l--){a=Uh(this._languageIdCodec,r,this._tokenizationSupport,o[l],!1,a).endState}for(let l=t;l<=i;l++){const t=this._textModel.getLineContent(l),i=Uh(this._languageIdCodec,r,this._tokenizationSupport,t,!0,a);e.add(l,i.tokens),this._tokenizationStateStore.setFakeTokens(l-1),a=i.endState}}}function Uh(e,t,i,o,s,r){let a=null;if(i)try{a=i.tokenize2(o,s,r.clone(),0)}catch(G1){n(G1)}return a||(a=Vh(e.encodeLanguageId(t),0,r,0)),dh.convertToEndOffset(a.tokens,o.length),a}var Kh,jh;(jh=Kh||(Kh={}))[jh.None=0]="None",jh[jh.Indent=1]="Indent",jh[jh.IndentOutdent=2]="IndentOutdent",jh[jh.Outdent=3]="Outdent";class $h{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}}class qh{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)Gh(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),Gh(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),Gh(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),Gh(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&Gh(this.autoClosingPairsCloseSingleChar,t.close,t)}}function Gh(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}function Zh(e,t){let i=e.getCount(),n=e.findTokenIndexAtOffset(t),o=e.getLanguageId(n),s=n;for(;s+1<i&&e.getLanguageId(s+1)===o;)s++;let r=n;for(;r>0&&e.getLanguageId(r-1)===o;)r--;return new Jh(e,o,r,s+1,e.getStartOffset(r),e.getEndOffset(s))}class Jh{constructor(e,t,i,n,o,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function Qh(e){return 0!=(7&e)}class Yh{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new $h(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new $h({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=Xh(e.colorizedBracketPairs.map((e=>[e[0],e[1]]))):e.brackets?this._colorizedBracketPairs=Xh(e.brackets.map((e=>[e[0],e[1]])).filter((e=>!("<"===e[0]&&">"===e[1])))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new $h({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:Yh.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){if(0===t.getTokenCount())return!0;const n=t.findTokenIndexAtOffset(i-2),o=t.getStandardTokenType(n);return e.isOK(o)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}function Xh(e){return e.filter((([e,t])=>""!==e&&""!==t))}Yh.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";class eu{constructor(e,t,i,n,o,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=s,this._openSet=eu._toSet(this.open),this._closeSet=eu._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class tu{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const i=[];for(let r=0;r<t;r++)i[r]=r;const n=(e,t)=>{const[i,n]=e,[o,s]=t;return i===o||i===s||n===o||n===s},o=(e,n)=>{const o=Math.min(e,n),s=Math.max(e,n);for(let r=0;r<t;r++)i[r]===s&&(i[r]=o)};for(let r=0;r<t;r++){const s=e[r];for(let a=r+1;a<t;a++)n(s,e[a])&&o(i[r],i[a])}const s=[];for(let r=0;r<t;r++){let n=[],o=[];for(let s=0;s<t;s++)if(i[s]===r){const[t,i]=e[s];n.push(t),o.push(i)}n.length>0&&s.push({open:n,close:o})}return s}(t);this.brackets=i.map(((t,n)=>new eu(e,n,t.open,t.close,function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let s=0,r=o.length;s<r;s++)iu(o[s],i,n,o);return o=ou(o),o.sort(nu),o.reverse(),ru(o)}(t.open,t.close,i,n),function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let s=0,r=o.length;s<r;s++)iu(o[s],i,n,o);return o=ou(o),o.sort(nu),o.reverse(),ru(o.map(au))}(t.open,t.close,i,n)))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=ou(t),ru(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=ou(t),ru(t.map(au))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const n of this.brackets){for(const e of n.open)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of n.close)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function iu(e,t,i,n){for(let o=0,s=t.length;o<s;o++){if(o===i)continue;const s=t[o];for(const t of s.open)t.indexOf(e)>=0&&n.push(t);for(const t of s.close)t.indexOf(e)>=0&&n.push(t)}}function nu(e,t){return e.length-t.length}function ou(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function su(e){const t=/^[\w ]+$/.test(e);return e=io(e),t?`\\b${e}\\b`:e}function ru(e){return ro(`(${e.map(su).join(")|(")})`,!0)}const au=function(){let e=null,t=null;return function(i){return e!==i&&(e=i,t=function(e){if(Ma){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return Ta().decode(t)}{let t=[],i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charAt(n);return t.join("")}}(e)),t}}();class lu{static _findPrevBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=i.length-(o.index||0),r=o[0].length,a=n+s;return new br(t,a-r+1,t,a+1)}static findPrevBracketInRange(e,t,i,n,o){const s=au(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,s,n)}static findNextBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=o.index||0,r=o[0].length;if(0===r)return null;let a=n+s;return new br(t,a+1,t,a+1+r)}static findNextBracketInRange(e,t,i,n,o){const s=i.substring(n,o);return this.findNextBracketInText(e,t,s,n)}}class du{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return e=e.filter(((e,t,i)=>i.indexOf(e)===t)),e}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if(Qh(t.getStandardTokenType(n)))return null;const o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,r=lu.findPrevBracketInRange(o,1,s,0,s.length);if(!r)return null;const a=s.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(r.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}function cu(e){return e.global&&(e.lastIndex=0),!0}class hu{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&cu(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&cu(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&cu(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&cu(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class uu{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=uu._createOpenBracketRegExp(e[0]),i=uu._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){let e=this._regExpRules[o];if([{reg:e.beforeText,text:i},{reg:e.afterText,text:n},{reg:e.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)))))return e.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,s=this._brackets.length;o<s;o++){let e=this._brackets[o];if(e.openRegExp.test(i)&&e.closeRegExp.test(n))return{indentAction:Kh.IndentOutdent}}if(e>=2&&i.length>0)for(let o=0,s=this._brackets.length;o<s;o++){if(this._brackets[o].openRegExp.test(i))return{indentAction:Kh.Indent}}return null}static _createOpenBracketRegExp(e){let t=io(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",uu._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=io(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,uu._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return n(t),null}}}const gu="base.contributions.json";const mu=new class{constructor(){this._onDidChangeSchema=new X,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};Ss.add(gu,mu);const pu="base.contributions.configuration",fu={properties:{},patternProperties:{}},_u={properties:{},patternProperties:{}},bu={properties:{},patternProperties:{}},vu={properties:{},patternProperties:{}},wu={properties:{},patternProperties:{}},Cu={properties:{},patternProperties:{}},yu=Ss.as(gu);const Su=new RegExp("\\[.*\\]$");function ku(e){return e.substring(1,e.length-1)}const xu=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new X,this._onDidUpdateConfiguration=new X,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:t("vs/platform/configuration/common/configurationRegistry","defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},yu.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=this.doRegisterConfigurations(e,t);yu.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach((e=>{i.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),i}validateAndRegisterProperties(e,t=!0,i,n=3){var o;n=Se(e.scope)?n:e.scope;let s=[],r=e.properties;if(r)for(let l in r){if(t&&Lu(l)){delete r[l];continue}const e=r[l];this.updatePropertyDefaultValue(l,e),Su.test(l)?e.scope=void 0:(e.scope=Se(e.scope)?n:e.scope,e.restricted=Se(e.restricted)?!!(null===(o=null==i?void 0:i.restrictedConfigurations)||void 0===o?void 0:o.includes(l)):e.restricted),!r[l].hasOwnProperty("included")||r[l].included?(this.configurationProperties[l]=r[l],!r[l].deprecationMessage&&r[l].markdownDeprecationMessage&&(r[l].deprecationMessage=r[l].markdownDeprecationMessage),s.push(l)):(this.excludedConfigurationProperties[l]=r[l],delete r[l])}let a=e.allOf;if(a)for(let l of a)s.push(...this.validateAndRegisterProperties(l,t,i,n));return s}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let i=e.properties;if(i)for(const t in i)this.updateSchema(t,i[t]);let n=e.allOf;n&&n.forEach(t)};t(e)}updateSchema(e,t){switch(fu.properties[e]=t,t.scope){case 1:_u.properties[e]=t;break;case 2:bu.properties[e]=t;break;case 6:vu.properties[e]=t;break;case 3:wu.properties[e]=t;break;case 4:Cu.properties[e]=t;break;case 5:Cu.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const i=`[${e}]`,n={type:"object",description:t("vs/platform/configuration/common/configurationRegistry","overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:t("vs/platform/configuration/common/configurationRegistry","overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:"vscode://schemas/settings/resourceLanguage"};this.updatePropertyDefaultValue(i,n),fu.properties[i]=n,_u.properties[i]=n,bu.properties[i]=n,vu.properties[i]=n,wu.properties[i]=n,Cu.properties[i]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];Ce(i)&&(i=t.default),Ce(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i}};function Lu(e){return e.trim()?Su.test(e)?t("vs/platform/configuration/common/configurationRegistry","config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==xu.getConfigurationProperties()[e]?t("vs/platform/configuration/common/configurationRegistry","config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null:t("vs/platform/configuration/common/configurationRegistry","config.property.empty","Cannot register an empty property")}Ss.add(pu,xu);const Du=Tn("configurationService");function Eu(e,t){const i=Object.create(null);for(let n in e)Nu(i,n,e[n],t);return i}function Nu(e,t,i,n){const o=t.split("."),s=o.pop();let r=e;for(let a=0;a<o.length;a++){let e=o[a],i=r[e];switch(typeof i){case"undefined":i=r[e]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${o.slice(0,a+1).join(".")} is ${JSON.stringify(i)}`)}r=i}if("object"==typeof r&&null!==r)try{r[s]=i}catch(G1){n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(r)}`)}else n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(r)}`)}function Iu(e,t){Tu(e,t.split("."))}function Tu(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!=typeof n||Array.isArray(n)||(Tu(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}const Mu=Tn("modeService");class Au{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const Ru=[];function Ou(e,t,i){t instanceof Au||(t=new Au(t,[],i)),Ru.push([e,t])}var Pu=function(e,t){return function(i,n){t(i,n,e)}};class Fu{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const Bu=Tn("languageConfigurationService");let Wu=class extends v{constructor(e,t){super(),this.configurationService=e,this.modeService=t,this.onDidChangeEmitter=this._register(new X),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(Vu));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>i.has(e))),n=e.change.overrides.filter((([e,t])=>t.some((e=>i.has(e))))).map((([e])=>this.modeService.validateLanguageId(e)));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new Fu(void 0));else for(const i of n)i&&(this.configurations.delete(i),this.onDidChangeEmitter.fire(new Fu(i)))}))),this._register(Uu.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new Fu(e.languageId))})))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,i){let n=Uu.getLanguageConfiguration(e);if(!n){const t=i.validateLanguageId(e);if(!t)throw new Error("Unexpected languageId");n=new qu(t,{})}const o=function(e,t){const i=t.getValue(Vu.brackets,{overrideIdentifier:e}),n=t.getValue(Vu.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:Hu(i),colorizedBracketPairs:Hu(n)}}(n.languageId,t),s=ju([n.underlyingConfig,o]);return new qu(n.languageId,s)}(e,this.configurationService,this.modeService),this.configurations.set(e,t)),t}};Wu=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Pu(0,Du),Pu(1,Mu)],Wu);const Vu={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Hu(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}class zu{constructor(e){this.languageId=e}}const Uu=new class{constructor(){this._entries=new Map,this._onDidChange=new X,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let n=this._entries.get(e);n||(n=new Ku(e),this._entries.set(e,n));const o=n.register(t,i);return this._onDidChange.fire(new zu(e)),_((()=>{o.dispose(),this._onDidChange.fire(new zu(e))}))}getLanguageConfiguration(e){let t=this._entries.get(e);return(null==t?void 0:t.getResolvedConfiguration())||null}getIndentationRules(e){const t=this.getLanguageConfiguration(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let n=Zh(t,i-1),o=this._getElectricCharacterSupport(n.languageId);return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}getComments(e){let t=this.getLanguageConfiguration(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new qh(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():Yh.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){const n=Zh(t,i-1);return Yh.shouldAutoClosePair(e,n,i-n.firstCharOffset)}getWordDefinition(e){let t=this.getLanguageConfiguration(e);return Cr(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this.getLanguageConfiguration(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let o,s=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==n)return s;let t=e.getLineContent(o);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return o;s=o}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;const o=this.getIndentRulesSupport(t.getLanguageId());if(!o)return null;if(i<=1)return{indentation:"",action:null};const s=this.getPrecedingValidLine(t,i,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};const r=t.getLineContent(s);if(o.shouldIncrease(r)||o.shouldIndentNextLine(r))return{indentation:ho(r),action:Kh.Indent,line:s};if(o.shouldDecrease(r))return{indentation:ho(r),action:null,line:s};{if(1===s)return{indentation:ho(t.getLineContent(s)),action:null,line:s};const e=s-1,i=o.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!o.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:ho(t.getLineContent(i+1)),action:null,line:i+1}}if(n)return{indentation:ho(t.getLineContent(s)),action:null,line:s};for(let n=s;n>0;n--){const e=t.getLineContent(n);if(o.shouldIncrease(e))return{indentation:ho(e),action:Kh.Indent,line:n};if(o.shouldIndentNextLine(e)){let e=0;for(let i=n-1;i>0;i--)if(!o.shouldIndentNextLine(t.getLineContent(n))){e=i;break}return{indentation:ho(t.getLineContent(e+1)),action:null,line:e+1}}if(o.shouldDecrease(e))return{indentation:ho(e),action:null,line:n}}return{indentation:ho(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,o){if(e<4)return null;const s=this.getLanguageConfiguration(i);if(!s)return null;const r=this.getIndentRulesSupport(i);if(!r)return null;const a=this.getInheritIndentForLine(e,t,n),l=t.getLineContent(n);if(a){const i=a.line;if(void 0!==i){const n=s.onEnter(e,"",t.getLineContent(i),"");if(n){let e=ho(t.getLineContent(i));return n.removeText&&(e=e.substring(0,e.length-n.removeText)),n.indentAction===Kh.Indent||n.indentAction===Kh.IndentOutdent?e=o.shiftIndent(e):n.indentAction===Kh.Outdent&&(e=o.unshiftIndent(e)),r.shouldDecrease(l)&&(e=o.unshiftIndent(e)),n.appendText&&(e+=n.appendText),ho(e)}}return r.shouldDecrease(l)?a.action===Kh.Indent?a.indentation:o.unshiftIndent(a.indentation):a.action===Kh.Indent?o.shiftIndent(a.indentation):a.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);const o=t.getLineTokens(i.startLineNumber),s=Zh(o,i.startColumn-1),r=s.getLineContent();let a,l,d=!1;if(s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(d=!0,a=r.substr(0,i.startColumn-1-s.firstCharOffset)):a=o.getLineContent().substring(0,i.startColumn-1),i.isEmpty())l=r.substr(i.startColumn-1-s.firstCharOffset);else{l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset)}const c=this.getIndentRulesSupport(s.languageId);if(!c)return null;const h=a,u=ho(a),g={getLineTokens:e=>t.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i),getLineContent:e=>e===i.startLineNumber?h:t.getLineContent(e)},m=ho(o.getLineContent()),p=this.getInheritIndentForLine(e,g,i.startLineNumber+1);if(!p){const e=d?m:u;return{beforeEnter:e,afterEnter:e}}let f=d?m:p.indentation;return p.action===Kh.Indent&&(f=n.shiftIndent(f)),c.shouldDecrease(l)&&(f=n.unshiftIndent(f)),{beforeEnter:d?m:u,afterEnter:f}}getIndentActionForType(e,t,i,n,o){if(e<4)return null;const s=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(s.firstCharOffset)return null;const r=this.getIndentRulesSupport(s.languageId);if(!r)return null;const a=s.getLineContent(),l=a.substr(0,i.startColumn-1-s.firstCharOffset);let d;if(i.isEmpty())d=a.substr(i.startColumn-1-s.firstCharOffset);else{d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset)}if(!r.shouldDecrease(l+d)&&r.shouldDecrease(l+n+d)){const n=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!n)return null;let s=n.indentation;return n.action!==Kh.Indent&&(s=o.unshiftIndent(s)),s}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageId());return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,i){const n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),o=this.getLanguageConfiguration(n.languageId);if(!o)return null;const s=n.getLineContent(),r=s.substr(0,i.startColumn-1-n.firstCharOffset);let a;if(i.isEmpty())a=s.substr(i.startColumn-1-n.firstCharOffset);else{a=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset)}let l="";if(i.startLineNumber>1&&0===n.firstCharOffset){const e=this.getScopedLineTokens(t,i.startLineNumber-1);e.languageId===n.languageId&&(l=e.getLineContent())}const d=o.onEnter(e,l,r,a);if(!d)return null;const c=d.indentAction;let h=d.appendText;const u=d.removeText||0;h?c===Kh.Indent&&(h="\t"+h):h=c===Kh.Indent||c===Kh.IndentOutdent?"\t":"";let g=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return u&&(g=g.substring(0,g.length-u)),{indentAction:c,appendText:h,removeText:u,indentation:g}}getIndentationAtPosition(e,t,i){let n=ho(e.getLineContent(t));return n.length>i-1&&(n=n.substring(0,i-1)),n}getScopedLineTokens(e,t,i){e.forceTokenization(t);return Zh(e.getLineTokens(t),void 0===i?e.getLineMaxColumn(t)-1:i-1)}};class Ku{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new $u(e,t,++this._order);return this._entries.push(i),this._resolved=null,_((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===i){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new qu(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort($u.cmp),ju(this._entries.map((e=>e.configuration))))}}function ju(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const i of e)t={comments:i.comments||t.comments,brackets:i.brackets||t.brackets,wordPattern:i.wordPattern||t.wordPattern,indentationRules:i.indentationRules||t.indentationRules,onEnterRules:i.onEnterRules||t.onEnterRules,autoClosingPairs:i.autoClosingPairs||t.autoClosingPairs,surroundingPairs:i.surroundingPairs||t.surroundingPairs,autoCloseBefore:i.autoCloseBefore||t.autoCloseBefore,folding:i.folding||t.folding,colorizedBracketPairs:i.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:i.__electricCharacterSupport||t.__electricCharacterSupport};return t}class $u{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class qu{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new uu(this.underlyingConfig):null,this.comments=qu._handleComments(this.underlyingConfig),this.characterPair=new Yh(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||wr,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new hu(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return Cr(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new tu(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new du(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}function Gu(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}Ou(Bu,Wu);class Zu{constructor(e,t,i,n=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=Gu(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class Ju{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=Gu(Math.max(Math.min(1,t),0),3),this.l=Gu(Math.max(Math.min(1,i),0),3),this.a=Gu(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,s=Math.max(t,i,n),r=Math.min(t,i,n);let a=0,l=0;const d=(r+s)/2,c=s-r;if(c>0){switch(l=Math.min(d<=.5?c/(2*d):c/(2-2*d),1),s){case t:a=(i-n)/c+(i<n?6:0);break;case i:a=(n-t)/c+2;break;case n:a=(t-i)/c+4}a*=60,a=Math.round(a)}return new Ju(a,l,d,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:o}=e;let s,r,a;if(0===i)s=r=a=n;else{const e=n<.5?n*(1+i):n+i-n*i,o=2*n-e;s=Ju._hue2rgb(o,e,t+1/3),r=Ju._hue2rgb(o,e,t),a=Ju._hue2rgb(o,e,t-1/3)}return new Zu(Math.round(255*s),Math.round(255*r),Math.round(255*a),o)}}class Qu{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=Gu(Math.max(Math.min(1,t),0),3),this.v=Gu(Math.max(Math.min(1,i),0),3),this.a=Gu(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),s=o-Math.min(t,i,n),r=0===o?0:s/o;let a;return a=0===s?0:o===t?((i-n)/s%6+6)%6:o===i?(n-t)/s+2:(t-i)/s+4,new Qu(Math.round(60*a),r,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:o}=e,s=n*i,r=s*(1-Math.abs(t/60%2-1)),a=n-s;let[l,d,c]=[0,0,0];return t<60?(l=s,d=r):t<120?(l=r,d=s):t<180?(d=s,c=r):t<240?(d=r,c=s):t<300?(l=r,c=s):t<=360&&(l=s,c=r),l=Math.round(255*(l+a)),d=Math.round(255*(d+a)),c=Math.round(255*(c+a)),new Zu(l,d,c,o)}}class Yu{constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof Zu)this.rgba=e;else if(e instanceof Ju)this._hsla=e,this.rgba=Ju.toRGBA(e);else{if(!(e instanceof Qu))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=Qu.toRGBA(e)}}static fromHex(e){return Yu.Format.CSS.parseHex(e)||Yu.red}get hsla(){return this._hsla?this._hsla:Ju.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Qu.fromRGBA(this.rgba)}equals(e){return!!e&&Zu.equals(this.rgba,e.rgba)&&Ju.equals(this.hsla,e.hsla)&&Qu.equals(this.hsva,e.hsva)}getRelativeLuminance(){return Gu(.2126*Yu._relativeLuminanceForComponent(this.rgba.r)+.7152*Yu._relativeLuminanceForComponent(this.rgba.g)+.0722*Yu._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new Yu(new Ju(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new Yu(new Ju(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:o}=this.rgba;return new Yu(new Zu(t,i,n,o*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new Yu(new Zu(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=Yu.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance();return i=i*(n-t.getRelativeLuminance())/n,e.darken(i)}}var Xu,eg;Yu.white=new Yu(new Zu(255,255,255,1)),Yu.black=new Yu(new Zu(0,0,0,1)),Yu.red=new Yu(new Zu(255,0,0,1)),Yu.blue=new Yu(new Zu(0,0,255,1)),Yu.cyan=new Yu(new Zu(0,255,255,1)),Yu.lightgrey=new Yu(new Zu(211,211,211,1)),Yu.transparent=new Yu(new Zu(0,0,0,0)),Xu=Yu||(Yu={}),function(e){function t(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function i(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}e.formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:Xu.Format.CSS.formatRGBA(e)},e.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},e.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:Xu.Format.CSS.formatHSLA(e)},e.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},e.formatHex=function(e){return`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}`},e.formatHexA=function(e,i=!1){return i&&1===e.rgba.a?Xu.Format.CSS.formatHex(e):`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}${t(Math.round(255*e.rgba.a))}`},e.format=function(e){return e.isOpaque()?Xu.Format.CSS.formatHex(e):Xu.Format.CSS.formatRGBA(e)},e.parseHex=function(e){const t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){const t=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),n=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6));return new Xu(new Zu(t,n,o,1))}if(9===t){const t=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),n=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6)),s=16*i(e.charCodeAt(7))+i(e.charCodeAt(8));return new Xu(new Zu(t,n,o,s/255))}if(4===t){const t=i(e.charCodeAt(1)),n=i(e.charCodeAt(2)),o=i(e.charCodeAt(3));return new Xu(new Zu(16*t+t,16*n+n,16*o+o))}if(5===t){const t=i(e.charCodeAt(1)),n=i(e.charCodeAt(2)),o=i(e.charCodeAt(3)),s=i(e.charCodeAt(4));return new Xu(new Zu(16*t+t,16*n+n,16*o+o,(16*s+s)/255))}return null}}((eg=Xu.Format||(Xu.Format={})).CSS||(eg.CSS={}));const tg=Tn("undoRedoService");class ig{constructor(e,t){this.resource=e,this.elements=t}}class ng{constructor(){this.id=ng._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}ng._ID=0,ng.None=new ng;class og{constructor(){this.id=og._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}og._ID=0,og.None=new og;class sg{constructor(e,t,i){this.range=e,this.nestingLevel=t,this.isInvalid=i}}class rg extends class{constructor(e,t,i,n){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n}}{constructor(e,t,i,n,o){super(e,t,i,n),this.minVisibleColumnIndentation=o}}class ag{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}const lg=Math.pow(2,26);function dg(e,t){return e*lg+t}function cg(e){const t=e,i=Math.floor(t/lg);return new ag(i,t-i*lg)}function hg(e,t){return t<lg?e+t:e-e%lg+t}function ug(e,t){return e<t}function gg(e,t){return e<=t}function mg(e,t){return e>=t}function pg(e){return dg(e.lineNumber-1,e.column-1)}function fg(e,t){const i=e,n=Math.floor(i/lg),o=i-n*lg,s=t,r=Math.floor(s/lg);return new br(n+1,o+1,r+1,s-r*lg+1)}class _g{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}}class bg{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>vg.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx];return function(e,t){const i=e,n=t;if(n-i<=0)return 0;const o=Math.floor(i/lg),s=Math.floor(n/lg),r=n-s*lg;if(o===s)return dg(0,r-(i-o*lg));return dg(s-o,r)}(e,t?this.translateOldToCur(t.offsetObj):this.documentLength)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?dg(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):dg(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=cg(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?dg(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):dg(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(!gg(i,e))break;{this.nextEditIdx++;const e=cg(i),n=cg(this.translateOldToCur(t.endOffsetBeforeObj)),o=e.lineCount-n.lineCount;this.deltaOldToNewLineCount+=o;const s=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,r=e.columnCount-n.columnCount;this.deltaOldToNewColumnCount=s+r,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class vg{constructor(e,t,i){this.endOffsetBeforeObj=cg(t),this.endOffsetAfterObj=cg(hg(e,i)),this.offsetObj=cg(e)}static from(e){return new vg(e.startOffset,e.endOffset,e.newLength)}}class wg{static visibleColumnFromColumn(e,t,i){const n=e.length,o=t-1<n?t-1:n;let s=0,r=0;for(;r<o;){const t=Lo(e,o,r);if(r+=t>=65536?2:1,9===t)s=wg.nextRenderTabStop(s,i);else{let i=Ho(t);for(;r<o;){const t=Lo(e,o,r),n=Ho(t);if(zo(i,n))break;r+=t>=65536?2:1,i=n}Po(t)||Fo(t)?s+=2:s+=1}}return s}static visibleColumnsByColumns(e,t){const i=e.length;let n=new Array;n.push(-1);let o=0,s=0;for(;s<i;){const r=Lo(e,i,s);if(s+=r>=65536?2:1,n.push(o),r>=65536&&n.push(o),9===r)o=wg.nextRenderTabStop(o,t);else{let t=Ho(r);for(;s<i;){const a=Lo(e,i,s),l=Ho(a);if(zo(t,l))break;s+=a>=65536?2:1,n.push(o),r>=65536&&n.push(o),t=l}Po(r)||Fo(r)?o+=2:o+=1}}return n.push(o),n}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const n=e.length;let o=0,s=1,r=0;for(;r<n;){const a=Lo(e,n,r);let l;if(r+=a>=65536?2:1,9===a)l=wg.nextRenderTabStop(o,i);else{let t=Ho(a);for(;r<n;){const i=Lo(e,n,r),o=Ho(i);if(zo(t,o))break;r+=i>=65536?2:1,t=o}l=Po(a)||Fo(a)?o+2:o+1}const d=r+1;if(l>=t){return l-t<t-o?d:s}o=l,s=d}return n+1}static columnFromVisibleColumn2(e,t,i,n){let o=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize),s=t.getLineMinColumn(i);if(o<s)return s;let r=t.getLineMaxColumn(i);return o>r?r:o}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}const Cg=new Array;class yg{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&0===t.length){let i=yg.cache[e];return i||(i=new yg(e,t),yg.cache[e]=i),i}return new yg(e,t)}static getEmpty(){return this.empty}add(e,t){const i=t.getKey(e);let n=i>>5;if(0===n){const e=1<<i|this.items;return e===this.items?this:yg.create(e,this.additionalItems)}n--;const o=this.additionalItems.slice(0);for(;o.length<n;)o.push(0);return o[n]|=1<<(31&i),yg.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===Cg&&e.additionalItems===Cg)return t===this.items?this:t===e.items?e:yg.create(t,Cg);const i=new Array;for(let n=0;n<Math.max(this.additionalItems.length,e.additionalItems.length);n++){const t=this.additionalItems[n]||0,o=e.additionalItems[n]||0;i.push(t|o)}return yg.create(t,i)}intersects(e){if(0!=(this.items&e.items))return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!=(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}yg.cache=new Array(129),yg.empty=yg.create(0,Cg);const Sg={getKey:e=>e};class kg{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class xg{constructor(e){this._length=e}get length(){return this._length}}class Lg extends xg{constructor(e,t,i,n,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}static create(e,t,i){let n=e.length;return t&&(n=hg(n,t.length)),i&&(n=hg(n,i.length)),new Lg(n,e,t,i,t?t.missingOpeningBracketIds:yg.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new Lg(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(hg(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Dg extends xg{constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,n=!1){let o=e.length,s=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=hg(o,t.length),s=s.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=hg(o,i.length),s=s.merge(i.missingOpeningBracketIds)}return n?new Ng(o,e.listHeight+1,e,t,i,s):new Eg(o,e.listHeight+1,e,t,i,s)}static getEmpty(){return new Tg(0,0,[],yg.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){this.throwIfImmutable();if(0===this.childrenLength)return;const e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t,i=this;for(;4===i.kind&&(t=i.childrenLength)>0;)i=i.getChild(t-1);return i.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){const e=this.getChild(n);t=hg(t,e.length),i=i.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let o=0;o<this.childrenLength;o++){const e=this.getChild(o);e&&(i=Math.min(i,e.computeMinIndentation(n,t)),n=hg(n,e.length))}return this.cachedMinIndentation=i,i}}class Eg extends Dg{constructor(e,t,i,n,o,s){super(e,t,s),this._item1=i,this._item2=n,this._item3=o}get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Eg(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Ng extends Eg{toMutable(){return new Eg(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Ig extends Dg{constructor(e,t,i,n){super(e,t,n),this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Ig(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class Tg extends Ig{toMutable(){return new Ig(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const Mg=[];class Ag extends xg{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Mg}deepClone(){return this}}class Rg extends Ag{get kind(){return 0}get missingOpeningBracketIds(){return yg.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=cg(e),n=(0===i.columnCount?i.lineCount:i.lineCount+1)+1,o=(s=hg(e,this.length),Math.floor(s/lg)+1);var s;let r=Number.MAX_SAFE_INTEGER;for(let a=n;a<=o;a++){const e=t.getLineFirstNonWhitespaceColumn(a),i=t.getLineContent(a);if(0===e)continue;const n=wg.visibleColumnFromColumn(i,e,t.getOptions().tabSize);r=Math.min(r,n)}return r}}class Og extends Ag{constructor(e){super(e)}static create(e){const t=e,i=Og.cacheByLength.get(t);if(i)return i;const n=new Og(e);return Og.cacheByLength.set(t,n),n}get kind(){return 1}get missingOpeningBracketIds(){return yg.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}Og.cacheByLength=new Map;class Pg extends Ag{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Fg{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}}class Bg{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new Wg(this.textModel,this.bracketTokens),this._offset=0,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return dg(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=hg(this._offset,e);const t=cg(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=hg(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Wg{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=e.length,e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const n=this.lineTokens,o=n.getCount();let s=null;if(this.lineTokenOffset<o){const r=n.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&r===n.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=0===kc.getTokenType(r),l=n.getEndOffset(this.lineTokenOffset);if(a&&l!==this.lineCharOffset){const e=n.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,l),i=this.bracketTokens.getSingleLanguageBracketTokens(e),o=i.regExpGlobal;if(o){o.lastIndex=0;const e=o.exec(t);e&&(s=i.getToken(e[0]),s&&(this.lineCharOffset+=e.index))}}if(i+=l-this.lineCharOffset,s){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=s;break}return this.lineCharOffset+=s.length,s}this.lineTokenOffset++,this.lineCharOffset=l}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3)break}if(i>1500)break}const n=(o=e,s=t,r=this.lineIdx,a=this.lineCharOffset,o!==r?dg(r-o,a):dg(0,a-s));var o,s,r,a;return new Fg(n,0,-1,yg.getEmpty(),new Rg(n))}}class Vg{constructor(e,t){this.text=e,this._offset=0,this.idx=0;const i=t.getRegExpStr()?new RegExp(t.getRegExpStr()+"|\n","g"):null,n=[];let o,s=0,r=0,a=0,l=0;const d=new Array;for(let u=0;u<60;u++)d.push(new Fg(dg(0,u),0,-1,yg.getEmpty(),new Rg(dg(0,u))));const c=new Array;for(let u=0;u<60;u++)c.push(new Fg(dg(1,u),0,-1,yg.getEmpty(),new Rg(dg(1,u))));if(i)for(i.lastIndex=0;null!==(o=i.exec(e));){const e=o.index,i=o[0];if("\n"===i)s++,r=e+1;else{if(a!==e){let t;if(l===s){const i=e-a;if(i<d.length)t=d[i];else{const e=dg(0,i);t=new Fg(e,0,-1,yg.getEmpty(),new Rg(e))}}else{const i=s-l,n=e-r;if(1===i&&n<c.length)t=c[n];else{const e=dg(i,n);t=new Fg(e,0,-1,yg.getEmpty(),new Rg(e))}}n.push(t)}n.push(t.getToken(i)),a=e+i.length,l=s}}const h=e.length;if(a!==h){const e=l===s?dg(0,h-a):dg(s-l,h-r);n.push(new Fg(e,0,-1,yg.getEmpty(),new Rg(e)))}this.length=dg(s,h-r),this.tokens=n}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new d}}class Hg{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(e,i){return t.getKey(`${e}:::${i}`)}const n=e.characterPair.getColorizedBrackets(),o=new Map,s=new Set;for(const[a,l]of n){s.add(a);let t=o.get(l);const n=i(e.languageId,a);t||(t={openingBrackets:yg.getEmpty(),first:n},o.set(l,t)),t.openingBrackets=t.openingBrackets.add(n,Sg)}const r=new Map;for(const[a,l]of o){const e=dg(0,a.length);r.set(a,new Fg(e,2,l.first,l.openingBrackets,Og.create(e)))}for(const a of s){const t=dg(0,a.length),n=i(e.languageId,a);r.set(a,new Fg(t,1,n,yg.getEmpty().add(n,Sg),Og.create(t)))}return new Hg(r)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>function(e){const t=io(e);return/^[\w ]+$/.test(e)?`\\b${t}\\b`:t}(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e)}get isEmpty(){return 0===this.map.size}}class zg{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){const t=this.languageIdToBracketTokens.get(e);if(!t)return!1;const i=Hg.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==i}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Hg.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function Ug(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let i=e.length;for(;i>3;){const n=i>>1;for(let o=0;o<n;o++){const n=o<<1;e[o]=Dg.create23(e[n],e[n+1],n+3===i?e[n+2]:null,t)}i=n}return Dg.create23(e[0],e[1],i>=3?e[2]:null,t)}function Kg(e,t){return Math.abs(e.listHeight-t.listHeight)}function jg(e,t){return e.listHeight===t.listHeight?Dg.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){let i=e=e.toMutable();const n=new Array;let o;for(;;){if(t.listHeight===i.listHeight){o=t;break}if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeLastElementMutable()}for(let s=n.length-1;s>=0;s--){const e=n[s];o?e.childrenLength>=3?o=Dg.create23(e.unappendChild(),o,null,!1):(e.appendChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?Dg.create23(e,o,null,!1):e}(e,t):function(e,t){let i=e=e.toMutable();const n=new Array;for(;t.listHeight!==i.listHeight;){if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeFirstElementMutable()}let o=t;for(let s=n.length-1;s>=0;s--){const e=n[s];o?e.childrenLength>=3?o=Dg.create23(o,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?Dg.create23(o,e,null,!1):e}(t,e)}class $g{constructor(e){this.lastOffset=0,this.nextNodes=[e],this.offsets=[0],this.idxs=[]}readLongestNodeAt(e,t){if(ug(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=Gg(this.nextNodes);if(!i)return;const n=Gg(this.offsets);if(ug(e,n))return;if(ug(n,e))if(hg(n,i.length)<=e)this.nextNodeAfterCurrent();else{const e=qg(i);-1!==e?(this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const e=qg(i);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)}}}}nextNodeAfterCurrent(){for(;;){const e=Gg(this.offsets),t=Gg(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const i=Gg(this.nextNodes),n=qg(i,this.idxs[this.idxs.length-1]);if(-1!==n){this.nextNodes.push(i.getChild(n)),this.offsets.push(hg(e,t.length)),this.idxs[this.idxs.length-1]=n;break}this.idxs.pop()}}}function qg(e,t=-1){for(;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function Gg(e){return e.length>0?e[e.length-1]:void 0}function Zg(e,t,i,n){return new Jg(e,t,i,n).parseDocument()}class Jg{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new $g(i):void 0,this.positionMapper=new bg(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(yg.getEmpty());return e||(e=Dg.getEmpty()),e}parseList(e){const t=new Array;for(;;){const i=this.tokenizer.peek();if(!i||2===i.kind&&i.bracketIds.intersects(e))break;const n=this.parseChild(e);4===n.kind&&0===n.childrenLength||t.push(n)}return this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function i(){if(t>=e.length)return null;const i=t,n=e[i].listHeight;for(t++;t<e.length&&e[t].listHeight===n;)t++;return t-i>=2?Ug(0===i&&t===e.length?e:e.slice(i,t),!1):e[i]}let n=i(),o=i();if(!o)return n;for(let s=i();s;s=i())Kg(n,o)<=Kg(o,s)?(n=jg(n,o),o=s):o=jg(o,s);return jg(n,o)}(t):Ug(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(0!==t){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(i=>{if(!ug(i.length,t))return!1;return i.canBeReused(e)}));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new Pg(t.bracketIds,t.length);case 0:return t.astNode;case 1:const i=e.merge(t.bracketIds),n=this.parseList(i),o=this.tokenizer.peek();return o&&2===o.kind&&(o.bracketId===t.bracketId||o.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),Lg.create(t.astNode,n,o.astNode)):Lg.create(t.astNode,n,null);default:throw new Error("unexpected")}}}class Qg extends v{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.cache=this._register(new w),this.onDidChangeEmitter=new X,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(e.onDidChangeOptions((e=>{this.cache.clear(),this.updateCache()}))),this._register(e.onDidChangeLanguage((e=>{this.cache.clear(),this.updateCache()}))),this._register(this.languageConfigurationService.onDidChange((e=>{var t;e.languageId&&!(null===(t=this.cache.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(this.cache.clear(),this.updateCache())})))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const i=new b;this.cache.value=(e=i.add(new Yg(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),t=i,{object:e,dispose:()=>null==t?void 0:t.dispose()}),i.add(this.cache.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire();var e,t}handleContentChanged(e){var t;null===(t=this.cache.value)||void 0===t||t.object.handleContentChanged(e)}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketsInRange(e))||[]}}class Yg extends v{constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new X,this.denseKeyProvider=new kg,this.brackets=new zg(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(e.onBackgroundTokenizationStateChanged((()=>{if(2===e.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}))),this._register(e.onDidChangeTokens((({ranges:e})=>{const t=e.map((e=>new _g(dg(e.fromLineNumber-1,0),dg(e.toLineNumber,0),dg(e.toLineNumber-e.fromLineNumber+1,0))));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}))),0===e.backgroundTokenizationState){const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new Vg(this.textModel.getValue(),e);this.initialAstWithoutTokens=Zg(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===e.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===e.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleContentChanged(e){const t=e.changes.map((e=>{const t=br.lift(e.range);return new _g(pg(t.getStartPosition()),pg(t.getEndPosition()),function(e){const t=lo(e);return dg(t.length-1,t[t.length-1].length)}(e.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){const n=t;return Zg(new Bg(this.textModel,this.brackets),e,n,i)}getBracketsInRange(e){const t=dg(e.startLineNumber-1,e.startColumn-1),i=dg(e.endLineNumber-1,e.endColumn-1),n=new Array,o=this.initialAstWithoutTokens||this.astWithTokens;return Xg(o,0,o.length,t,i,n),n}getBracketPairsInRange(e,t){const i=new Array,n=pg(e.getStartPosition()),o=pg(e.getEndPosition()),s=this.initialAstWithoutTokens||this.astWithTokens,r=new em(i,t,this.textModel);return tm(s,0,s.length,n,o,r),i}}function Xg(e,t,i,n,o,s,r=0){if(1===e.kind){const e=fg(t,i);s.push(new sg(e,r-1,!1))}else if(3===e.kind){const e=fg(t,i);s.push(new sg(e,r-1,!0))}else if(4===e.kind)for(const a of e.children)i=hg(t,a.length),gg(t,o)&&mg(i,n)&&Xg(a,t,i,n,o,s,r),t=i;else if(2===e.kind){r++;{const a=e.openingBracket;i=hg(t,a.length),gg(t,o)&&mg(i,n)&&Xg(a,t,i,n,o,s,r),t=i}if(e.child){const a=e.child;i=hg(t,a.length),gg(t,o)&&mg(i,n)&&Xg(a,t,i,n,o,s,r),t=i}if(e.closingBracket){const a=e.closingBracket;i=hg(t,a.length),gg(t,o)&&mg(i,n)&&Xg(a,t,i,n,o,s,r),t=i}}}class em{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}function tm(e,t,i,n,o,s,r=0){var a;if(2===e.kind){const n=hg(t,e.openingBracket.length);let o=-1;s.includeMinIndentation&&(o=e.computeMinIndentation(t,s.textModel)),s.result.push(new rg(fg(t,i),fg(t,n),e.closingBracket?fg(hg(n,(null===(a=e.child)||void 0===a?void 0:a.length)||0),i):void 0,r,o)),r++}let l=t;for(const d of e.children){const e=l;l=hg(l,d.length),gg(e,o)&&gg(n,l)&&tm(d,e,l,n,o,s,r)}}const im="base.contributions.colors";const nm=new class{constructor(){this._onDidChangeSchema=new X,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){let s={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=s;let r={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(r.deprecationMessage=o),this.colorSchema.properties[e]=r,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){return t_(i.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{let i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function om(e,t,i,n,o){return nm.registerColor(e,t,i,n,o)}Ss.add(im,nm);const sm=om("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},t("vs/platform/theme/common/colorRegistry","foreground","Overall foreground color. This color is only used if not overridden by a component.")),rm=om("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},t("vs/platform/theme/common/colorRegistry","errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),am=om("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},t("vs/platform/theme/common/colorRegistry","iconForeground","The default color for icons in the workbench.")),lm=om("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},t("vs/platform/theme/common/colorRegistry","focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),dm=om("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},t("vs/platform/theme/common/colorRegistry","contrastBorder","An extra border around elements to separate them from others for greater contrast.")),cm=om("contrastActiveBorder",{light:null,dark:null,hc:lm},t("vs/platform/theme/common/colorRegistry","activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),hm=om("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},t("vs/platform/theme/common/colorRegistry","textLinkForeground","Foreground color for links in text.")),um=om("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},t("vs/platform/theme/common/colorRegistry","textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),gm=om("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:Yu.black},t("vs/platform/theme/common/colorRegistry","textCodeBlockBackground","Background color for code blocks in text.")),mm=om("widget.shadow",{dark:Yf(Yu.black,.36),light:Yf(Yu.black,.16),hc:null},t("vs/platform/theme/common/colorRegistry","widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),pm=om("input.background",{dark:"#3C3C3C",light:Yu.white,hc:Yu.black},t("vs/platform/theme/common/colorRegistry","inputBoxBackground","Input box background.")),fm=om("input.foreground",{dark:sm,light:sm,hc:sm},t("vs/platform/theme/common/colorRegistry","inputBoxForeground","Input box foreground.")),_m=om("input.border",{dark:null,light:null,hc:dm},t("vs/platform/theme/common/colorRegistry","inputBoxBorder","Input box border.")),bm=om("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:dm},t("vs/platform/theme/common/colorRegistry","inputBoxActiveOptionBorder","Border color of activated options in input fields.")),vm=om("inputOption.activeBackground",{dark:Yf(lm,.4),light:Yf(lm,.2),hc:Yu.transparent},t("vs/platform/theme/common/colorRegistry","inputOption.activeBackground","Background color of activated options in input fields.")),wm=om("inputOption.activeForeground",{dark:Yu.white,light:Yu.black,hc:null},t("vs/platform/theme/common/colorRegistry","inputOption.activeForeground","Foreground color of activated options in input fields.")),Cm=om("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:Yu.black},t("vs/platform/theme/common/colorRegistry","inputValidationInfoBackground","Input validation background color for information severity.")),ym=om("inputValidation.infoForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","inputValidationInfoForeground","Input validation foreground color for information severity.")),Sm=om("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:dm},t("vs/platform/theme/common/colorRegistry","inputValidationInfoBorder","Input validation border color for information severity.")),km=om("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:Yu.black},t("vs/platform/theme/common/colorRegistry","inputValidationWarningBackground","Input validation background color for warning severity.")),xm=om("inputValidation.warningForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","inputValidationWarningForeground","Input validation foreground color for warning severity.")),Lm=om("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:dm},t("vs/platform/theme/common/colorRegistry","inputValidationWarningBorder","Input validation border color for warning severity.")),Dm=om("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:Yu.black},t("vs/platform/theme/common/colorRegistry","inputValidationErrorBackground","Input validation background color for error severity.")),Em=om("inputValidation.errorForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","inputValidationErrorForeground","Input validation foreground color for error severity.")),Nm=om("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:dm},t("vs/platform/theme/common/colorRegistry","inputValidationErrorBorder","Input validation border color for error severity.")),Im=om("dropdown.background",{dark:"#3C3C3C",light:Yu.white,hc:Yu.black},t("vs/platform/theme/common/colorRegistry","dropdownBackground","Dropdown background.")),Tm=om("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:Yu.white},t("vs/platform/theme/common/colorRegistry","dropdownForeground","Dropdown foreground.")),Mm=om("button.foreground",{dark:Yu.white,light:Yu.white,hc:Yu.white},t("vs/platform/theme/common/colorRegistry","buttonForeground","Button foreground color.")),Am=om("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},t("vs/platform/theme/common/colorRegistry","buttonBackground","Button background color.")),Rm=om("button.hoverBackground",{dark:Qf(Am,.2),light:Jf(Am,.2),hc:null},t("vs/platform/theme/common/colorRegistry","buttonHoverBackground","Button background color when hovering.")),Om=om("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:Yu.black},t("vs/platform/theme/common/colorRegistry","badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Pm=om("badge.foreground",{dark:Yu.white,light:"#333",hc:Yu.white},t("vs/platform/theme/common/colorRegistry","badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Fm=om("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},t("vs/platform/theme/common/colorRegistry","scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Bm=om("scrollbarSlider.background",{dark:Yu.fromHex("#797979").transparent(.4),light:Yu.fromHex("#646464").transparent(.4),hc:Yf(dm,.6)},t("vs/platform/theme/common/colorRegistry","scrollbarSliderBackground","Scrollbar slider background color.")),Wm=om("scrollbarSlider.hoverBackground",{dark:Yu.fromHex("#646464").transparent(.7),light:Yu.fromHex("#646464").transparent(.7),hc:Yf(dm,.8)},t("vs/platform/theme/common/colorRegistry","scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Vm=om("scrollbarSlider.activeBackground",{dark:Yu.fromHex("#BFBFBF").transparent(.4),light:Yu.fromHex("#000000").transparent(.6),hc:dm},t("vs/platform/theme/common/colorRegistry","scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Hm=om("progressBar.background",{dark:Yu.fromHex("#0E70C0"),light:Yu.fromHex("#0E70C0"),hc:dm},t("vs/platform/theme/common/colorRegistry","progressBarBackground","Background color of the progress bar that can show for long running operations.")),zm=om("editorError.background",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Um=om("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},t("vs/platform/theme/common/colorRegistry","editorError.foreground","Foreground color of error squigglies in the editor.")),Km=om("editorError.border",{dark:null,light:null,hc:Yu.fromHex("#E47777").transparent(.8)},t("vs/platform/theme/common/colorRegistry","errorBorder","Border color of error boxes in the editor.")),jm=om("editorWarning.background",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),$m=om("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},t("vs/platform/theme/common/colorRegistry","editorWarning.foreground","Foreground color of warning squigglies in the editor.")),qm=om("editorWarning.border",{dark:null,light:null,hc:Yu.fromHex("#FFCC00").transparent(.8)},t("vs/platform/theme/common/colorRegistry","warningBorder","Border color of warning boxes in the editor.")),Gm=om("editorInfo.background",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Zm=om("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},t("vs/platform/theme/common/colorRegistry","editorInfo.foreground","Foreground color of info squigglies in the editor.")),Jm=om("editorInfo.border",{dark:null,light:null,hc:Yu.fromHex("#3794FF").transparent(.8)},t("vs/platform/theme/common/colorRegistry","infoBorder","Border color of info boxes in the editor.")),Qm=om("editorHint.foreground",{dark:Yu.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},t("vs/platform/theme/common/colorRegistry","editorHint.foreground","Foreground color of hint squigglies in the editor.")),Ym=om("editorHint.border",{dark:null,light:null,hc:Yu.fromHex("#eeeeee").transparent(.8)},t("vs/platform/theme/common/colorRegistry","hintBorder","Border color of hint boxes in the editor.")),Xm=om("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:Yu.black},t("vs/platform/theme/common/colorRegistry","editorBackground","Editor background color.")),ep=om("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:Yu.white},t("vs/platform/theme/common/colorRegistry","editorForeground","Editor default foreground color.")),tp=om("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},t("vs/platform/theme/common/colorRegistry","editorWidgetBackground","Background color of editor widgets, such as find/replace.")),ip=om("editorWidget.foreground",{dark:sm,light:sm,hc:sm},t("vs/platform/theme/common/colorRegistry","editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),np=om("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:dm},t("vs/platform/theme/common/colorRegistry","editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),op=om("editorWidget.resizeBorder",{light:null,dark:null,hc:null},t("vs/platform/theme/common/colorRegistry","editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),sp=om("quickInput.background",{dark:tp,light:tp,hc:tp},t("vs/platform/theme/common/colorRegistry","pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),rp=om("quickInput.foreground",{dark:ip,light:ip,hc:ip},t("vs/platform/theme/common/colorRegistry","pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),ap=om("quickInputTitle.background",{dark:new Yu(new Zu(255,255,255,.105)),light:new Yu(new Zu(0,0,0,.06)),hc:"#000000"},t("vs/platform/theme/common/colorRegistry","pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),lp=om("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:Yu.white},t("vs/platform/theme/common/colorRegistry","pickerGroupForeground","Quick picker color for grouping labels.")),dp=om("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:Yu.white},t("vs/platform/theme/common/colorRegistry","pickerGroupBorder","Quick picker color for grouping borders.")),cp=om("keybindingLabel.background",{dark:new Yu(new Zu(128,128,128,.17)),light:new Yu(new Zu(221,221,221,.4)),hc:Yu.transparent},t("vs/platform/theme/common/colorRegistry","keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),hp=om("keybindingLabel.foreground",{dark:Yu.fromHex("#CCCCCC"),light:Yu.fromHex("#555555"),hc:Yu.white},t("vs/platform/theme/common/colorRegistry","keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),up=om("keybindingLabel.border",{dark:new Yu(new Zu(51,51,51,.6)),light:new Yu(new Zu(204,204,204,.4)),hc:new Yu(new Zu(111,195,223))},t("vs/platform/theme/common/colorRegistry","keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),gp=om("keybindingLabel.bottomBorder",{dark:new Yu(new Zu(68,68,68,.6)),light:new Yu(new Zu(187,187,187,.4)),hc:new Yu(new Zu(111,195,223))},t("vs/platform/theme/common/colorRegistry","keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),mp=om("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},t("vs/platform/theme/common/colorRegistry","editorSelectionBackground","Color of the editor selection.")),pp=om("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},t("vs/platform/theme/common/colorRegistry","editorSelectionForeground","Color of the selected text for high contrast.")),fp=om("editor.inactiveSelectionBackground",{light:Yf(mp,.5),dark:Yf(mp,.5),hc:Yf(mp,.5)},t("vs/platform/theme/common/colorRegistry","editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),_p=om("editor.selectionHighlightBackground",{light:e_(mp,Xm,.3,.6),dark:e_(mp,Xm,.3,.6),hc:null},t("vs/platform/theme/common/colorRegistry","editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),bp=om("editor.selectionHighlightBorder",{light:null,dark:null,hc:cm},t("vs/platform/theme/common/colorRegistry","editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),vp=om("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},t("vs/platform/theme/common/colorRegistry","editorFindMatch","Color of the current search match.")),wp=om("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},t("vs/platform/theme/common/colorRegistry","findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Cp=om("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},t("vs/platform/theme/common/colorRegistry","findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),yp=om("editor.findMatchBorder",{light:null,dark:null,hc:cm},t("vs/platform/theme/common/colorRegistry","editorFindMatchBorder","Border color of the current search match.")),Sp=om("editor.findMatchHighlightBorder",{light:null,dark:null,hc:cm},t("vs/platform/theme/common/colorRegistry","findMatchHighlightBorder","Border color of the other search matches.")),kp=om("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Yf(cm,.4)},t("vs/platform/theme/common/colorRegistry","findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),xp=om("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},t("vs/platform/theme/common/colorRegistry","hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Lp=om("editorHoverWidget.background",{light:tp,dark:tp,hc:tp},t("vs/platform/theme/common/colorRegistry","hoverBackground","Background color of the editor hover.")),Dp=om("editorHoverWidget.foreground",{light:ip,dark:ip,hc:ip},t("vs/platform/theme/common/colorRegistry","hoverForeground","Foreground color of the editor hover.")),Ep=om("editorHoverWidget.border",{light:np,dark:np,hc:np},t("vs/platform/theme/common/colorRegistry","hoverBorder","Border color of the editor hover.")),Np=om("editorHoverWidget.statusBarBackground",{dark:Qf(Lp,.2),light:Jf(Lp,.05),hc:tp},t("vs/platform/theme/common/colorRegistry","statusBarBackground","Background color of the editor hover status bar.")),Ip=om("editorLink.activeForeground",{dark:"#4E94CE",light:Yu.blue,hc:Yu.cyan},t("vs/platform/theme/common/colorRegistry","activeLinkForeground","Color of active links.")),Tp=om("editorInlayHint.foreground",{dark:Yf(Pm,.8),light:Yf(Pm,.8),hc:Pm},t("vs/platform/theme/common/colorRegistry","editorInlayHintForeground","Foreground color of inline hints")),Mp=om("editorInlayHint.background",{dark:Yf(Om,.6),light:Yf(Om,.3),hc:Om},t("vs/platform/theme/common/colorRegistry","editorInlayHintBackground","Background color of inline hints")),Ap=om("editorInlayHint.typeForeground",{dark:Tp,light:Tp,hc:Tp},t("vs/platform/theme/common/colorRegistry","editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Rp=om("editorInlayHint.typeBackground",{dark:Mp,light:Mp,hc:Mp},t("vs/platform/theme/common/colorRegistry","editorInlayHintBackgroundTypes","Background color of inline hints for types")),Op=om("editorInlayHint.parameterForeground",{dark:Tp,light:Tp,hc:Tp},t("vs/platform/theme/common/colorRegistry","editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Pp=om("editorInlayHint.parameterBackground",{dark:Mp,light:Mp,hc:Mp},t("vs/platform/theme/common/colorRegistry","editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Fp=om("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},t("vs/platform/theme/common/colorRegistry","editorLightBulbForeground","The color used for the lightbulb actions icon.")),Bp=om("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},t("vs/platform/theme/common/colorRegistry","editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Wp=new Yu(new Zu(155,185,85,.2)),Vp=new Yu(new Zu(255,0,0,.2)),Hp=om("diffEditor.insertedTextBackground",{dark:Wp,light:Wp,hc:null},t("vs/platform/theme/common/colorRegistry","diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),zp=om("diffEditor.removedTextBackground",{dark:Vp,light:Vp,hc:null},t("vs/platform/theme/common/colorRegistry","diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Up=om("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},t("vs/platform/theme/common/colorRegistry","diffEditorInsertedOutline","Outline color for the text that got inserted.")),Kp=om("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},t("vs/platform/theme/common/colorRegistry","diffEditorRemovedOutline","Outline color for text that got removed.")),jp=om("diffEditor.border",{dark:null,light:null,hc:dm},t("vs/platform/theme/common/colorRegistry","diffEditorBorder","Border color between the two text editors.")),$p=om("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},t("vs/platform/theme/common/colorRegistry","diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),qp=om("list.focusBackground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gp=om("list.focusForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zp=om("list.focusOutline",{dark:lm,light:lm,hc:cm},t("vs/platform/theme/common/colorRegistry","listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Jp=om("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},t("vs/platform/theme/common/colorRegistry","listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Qp=om("list.activeSelectionForeground",{dark:Yu.white,light:Yu.white,hc:null},t("vs/platform/theme/common/colorRegistry","listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Yp=om("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Xp=om("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},t("vs/platform/theme/common/colorRegistry","listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ef=om("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),tf=om("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),nf=om("list.inactiveFocusBackground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),of=om("list.inactiveFocusOutline",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sf=om("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},t("vs/platform/theme/common/colorRegistry","listHoverBackground","List/Tree background when hovering over items using the mouse.")),rf=om("list.hoverForeground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),af=om("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},t("vs/platform/theme/common/colorRegistry","listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),lf=om("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:lm},t("vs/platform/theme/common/colorRegistry","highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),df=om("list.focusHighlightForeground",{dark:lf,light:(cf=Jp,hf=lf,uf="#9DDDFF",{op:5,if:cf,then:hf,else:uf}),hc:lf},t("vs/platform/theme/common/colorRegistry","listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));var cf,hf,uf;const gf=om("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:Yu.black},t("vs/platform/theme/common/colorRegistry","listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),mf=om("listFilterWidget.outline",{dark:Yu.transparent,light:Yu.transparent,hc:"#f38518"},t("vs/platform/theme/common/colorRegistry","listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),pf=om("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:dm},t("vs/platform/theme/common/colorRegistry","listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),ff=om("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},t("vs/platform/theme/common/colorRegistry","treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),_f=om("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},t("vs/platform/theme/common/colorRegistry","treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),bf=om("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,t("vs/platform/theme/common/colorRegistry","quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),vf=om("quickInputList.focusForeground",{dark:Qp,light:Qp,hc:Qp},t("vs/platform/theme/common/colorRegistry","quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),wf=om("quickInputList.focusIconForeground",{dark:Yp,light:Yp,hc:Yp},t("vs/platform/theme/common/colorRegistry","quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Cf=om("quickInputList.focusBackground",{dark:Xf(bf,Jp),light:Xf(bf,Jp),hc:null},t("vs/platform/theme/common/colorRegistry","quickInput.listFocusBackground","Quick picker background color for the focused item.")),yf=om("menu.border",{dark:null,light:null,hc:dm},t("vs/platform/theme/common/colorRegistry","menuBorder","Border color of menus.")),Sf=om("menu.foreground",{dark:Tm,light:sm,hc:Tm},t("vs/platform/theme/common/colorRegistry","menuForeground","Foreground color of menu items.")),kf=om("menu.background",{dark:Im,light:Im,hc:Im},t("vs/platform/theme/common/colorRegistry","menuBackground","Background color of menu items.")),xf=om("menu.selectionForeground",{dark:Qp,light:Qp,hc:Qp},t("vs/platform/theme/common/colorRegistry","menuSelectionForeground","Foreground color of the selected menu item in menus.")),Lf=om("menu.selectionBackground",{dark:Jp,light:Jp,hc:Jp},t("vs/platform/theme/common/colorRegistry","menuSelectionBackground","Background color of the selected menu item in menus.")),Df=om("menu.selectionBorder",{dark:null,light:null,hc:cm},t("vs/platform/theme/common/colorRegistry","menuSelectionBorder","Border color of the selected menu item in menus.")),Ef=om("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:dm},t("vs/platform/theme/common/colorRegistry","menuSeparatorBackground","Color of a separator menu item in menus.")),Nf=om("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},t("vs/platform/theme/common/colorRegistry","toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),If=om("editor.snippetTabstopHighlightBackground",{dark:new Yu(new Zu(124,124,124,.3)),light:new Yu(new Zu(10,50,100,.2)),hc:new Yu(new Zu(124,124,124,.3))},t("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Tf=om("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Mf=om("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Af=om("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new Yu(new Zu(10,50,100,.5)),hc:"#525252"},t("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Rf=om("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},t("vs/platform/theme/common/colorRegistry","overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Of=om("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},t("vs/platform/theme/common/colorRegistry","overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Pf=om("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},t("vs/platform/theme/common/colorRegistry","minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ff=om("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},t("vs/platform/theme/common/colorRegistry","minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Bf=om("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},t("vs/platform/theme/common/colorRegistry","minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Wf=om("minimap.errorHighlight",{dark:new Yu(new Zu(255,18,18,.7)),light:new Yu(new Zu(255,18,18,.7)),hc:new Yu(new Zu(255,50,50,1))},t("vs/platform/theme/common/colorRegistry","minimapError","Minimap marker color for errors.")),Vf=om("minimap.warningHighlight",{dark:$m,light:$m,hc:qm},t("vs/platform/theme/common/colorRegistry","overviewRuleWarning","Minimap marker color for warnings.")),Hf=om("minimap.background",{dark:null,light:null,hc:null},t("vs/platform/theme/common/colorRegistry","minimapBackground","Minimap background color.")),zf=om("minimap.foregroundOpacity",{dark:Yu.fromHex("#000f"),light:Yu.fromHex("#000f"),hc:Yu.fromHex("#000f")},t("vs/platform/theme/common/colorRegistry","minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Uf=om("minimapSlider.background",{light:Yf(Bm,.5),dark:Yf(Bm,.5),hc:Yf(Bm,.5)},t("vs/platform/theme/common/colorRegistry","minimapSliderBackground","Minimap slider background color.")),Kf=om("minimapSlider.hoverBackground",{light:Yf(Wm,.5),dark:Yf(Wm,.5),hc:Yf(Wm,.5)},t("vs/platform/theme/common/colorRegistry","minimapSliderHoverBackground","Minimap slider background color when hovering.")),jf=om("minimapSlider.activeBackground",{light:Yf(Vm,.5),dark:Yf(Vm,.5),hc:Yf(Vm,.5)},t("vs/platform/theme/common/colorRegistry","minimapSliderActiveBackground","Minimap slider background color when clicked on.")),$f=om("problemsErrorIcon.foreground",{dark:Um,light:Um,hc:Um},t("vs/platform/theme/common/colorRegistry","problemsErrorIconForeground","The color used for the problems error icon.")),qf=om("problemsWarningIcon.foreground",{dark:$m,light:$m,hc:$m},t("vs/platform/theme/common/colorRegistry","problemsWarningIconForeground","The color used for the problems warning icon.")),Gf=om("problemsInfoIcon.foreground",{dark:Zm,light:Zm,hc:Zm},t("vs/platform/theme/common/colorRegistry","problemsInfoIconForeground","The color used for the problems info icon."));function Zf(e,t){var i,n,o;switch(e.op){case 0:return null===(i=t_(e.value,t))||void 0===i?void 0:i.darken(e.factor);case 1:return null===(n=t_(e.value,t))||void 0===n?void 0:n.lighten(e.factor);case 2:return null===(o=t_(e.value,t))||void 0===o?void 0:o.transparent(e.factor);case 3:for(const i of e.values){const e=t_(i,t);if(e)return e}return;case 5:return t_(t.defines(e.if)?e.then:e.else,t);case 4:const s=t_(e.value,t);if(!s)return;const r=t_(e.background,t);return r?s.isDarkerThan(r)?Yu.getLighterColor(s,r,e.factor).transparent(e.transparency):Yu.getDarkerColor(s,r,e.factor).transparent(e.transparency):s.transparent(e.factor*e.transparency);default:throw function(e,t="Unreachable"){throw new Error(t)}()}}function Jf(e,t){return{op:0,value:e,factor:t}}function Qf(e,t){return{op:1,value:e,factor:t}}function Yf(e,t){return{op:2,value:e,factor:t}}function Xf(...e){return{op:3,values:e}}function e_(e,t,i,n){return{op:4,value:e,background:t,factor:i,transparency:n}}function t_(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?Yu.fromHex(e):t.getColor(e):e instanceof Yu?e:"object"==typeof e?Zf(e,t):void 0}let i_=Ss.as(gu);i_.registerSchema("vscode://schemas/workbench-colors",nm.getColorSchema());const n_=new Ct((()=>i_.notifySchemaChanged("vscode://schemas/workbench-colors")),200);nm.onDidChangeSchema((()=>{n_.isScheduled()||n_.schedule()}));const o_=om("editor.lineHighlightBackground",{dark:null,light:null,hc:null},t("vs/editor/common/view/editorColorRegistry","lineHighlight","Background color for the highlight of line at the cursor position.")),s_=om("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},t("vs/editor/common/view/editorColorRegistry","lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),r_=om("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},t("vs/editor/common/view/editorColorRegistry","rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),a_=om("editor.rangeHighlightBorder",{dark:null,light:null,hc:cm},t("vs/editor/common/view/editorColorRegistry","rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),l_=om("editor.symbolHighlightBackground",{dark:wp,light:wp,hc:null},t("vs/editor/common/view/editorColorRegistry","symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),d_=om("editor.symbolHighlightBorder",{dark:null,light:null,hc:cm},t("vs/editor/common/view/editorColorRegistry","symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),c_=om("editorCursor.foreground",{dark:"#AEAFAD",light:Yu.black,hc:Yu.white},t("vs/editor/common/view/editorColorRegistry","caret","Color of the editor cursor.")),h_=om("editorCursor.background",null,t("vs/editor/common/view/editorColorRegistry","editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),u_=om("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},t("vs/editor/common/view/editorColorRegistry","editorWhitespaces","Color of whitespace characters in the editor.")),g_=om("editorIndentGuide.background",{dark:u_,light:u_,hc:u_},t("vs/editor/common/view/editorColorRegistry","editorIndentGuides","Color of the editor indentation guides.")),m_=om("editorIndentGuide.activeBackground",{dark:u_,light:u_,hc:u_},t("vs/editor/common/view/editorColorRegistry","editorActiveIndentGuide","Color of the active editor indentation guides.")),p_=om("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:Yu.white},t("vs/editor/common/view/editorColorRegistry","editorLineNumbers","Color of editor line numbers.")),f_=om("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:cm},t("vs/editor/common/view/editorColorRegistry","editorActiveLineNumber","Color of editor active line number"),!1,t("vs/editor/common/view/editorColorRegistry","deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),__=om("editorLineNumber.activeForeground",{dark:f_,light:f_,hc:f_},t("vs/editor/common/view/editorColorRegistry","editorActiveLineNumber","Color of editor active line number")),b_=om("editorRuler.foreground",{dark:"#5A5A5A",light:Yu.lightgrey,hc:Yu.white},t("vs/editor/common/view/editorColorRegistry","editorRuler","Color of the editor rulers.")),v_=om("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},t("vs/editor/common/view/editorColorRegistry","editorCodeLensForeground","Foreground color of editor CodeLens")),w_=om("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},t("vs/editor/common/view/editorColorRegistry","editorBracketMatchBackground","Background color behind matching brackets")),C_=om("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:dm},t("vs/editor/common/view/editorColorRegistry","editorBracketMatchBorder","Color for matching brackets boxes")),y_=om("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},t("vs/editor/common/view/editorColorRegistry","editorOverviewRulerBorder","Color of the overview ruler border.")),S_=om("editorOverviewRuler.background",null,t("vs/editor/common/view/editorColorRegistry","editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),k_=om("editorGutter.background",{dark:Xm,light:Xm,hc:Xm},t("vs/editor/common/view/editorColorRegistry","editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),x_=om("editorUnnecessaryCode.border",{dark:null,light:null,hc:Yu.fromHex("#fff").transparent(.8)},t("vs/editor/common/view/editorColorRegistry","unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),L_=om("editorUnnecessaryCode.opacity",{dark:Yu.fromHex("#000a"),light:Yu.fromHex("#0007"),hc:null},t("vs/editor/common/view/editorColorRegistry","unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),D_=om("editorGhostText.border",{dark:null,light:null,hc:Yu.fromHex("#fff").transparent(.8)},t("vs/editor/common/view/editorColorRegistry","editorGhostTextBorder","Border color of ghost text in the editor.")),E_=om("editorGhostText.foreground",{dark:Yu.fromHex("#ffffff56"),light:Yu.fromHex("#0007"),hc:null},t("vs/editor/common/view/editorColorRegistry","editorGhostTextForeground","Foreground color of the ghost text in the editor.")),N_=new Yu(new Zu(0,122,204,.6)),I_=om("editorOverviewRuler.rangeHighlightForeground",{dark:N_,light:N_,hc:N_},t("vs/editor/common/view/editorColorRegistry","overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),T_=om("editorOverviewRuler.errorForeground",{dark:new Yu(new Zu(255,18,18,.7)),light:new Yu(new Zu(255,18,18,.7)),hc:new Yu(new Zu(255,50,50,1))},t("vs/editor/common/view/editorColorRegistry","overviewRuleError","Overview ruler marker color for errors.")),M_=om("editorOverviewRuler.warningForeground",{dark:$m,light:$m,hc:qm},t("vs/editor/common/view/editorColorRegistry","overviewRuleWarning","Overview ruler marker color for warnings.")),A_=om("editorOverviewRuler.infoForeground",{dark:Zm,light:Zm,hc:Jm},t("vs/editor/common/view/editorColorRegistry","overviewRuleInfo","Overview ruler marker color for infos.")),R_=om("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},t("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),O_=om("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},t("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),P_=om("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},t("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),F_=om("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),B_=om("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),W_=om("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),V_=om("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Yu(new Zu(255,18,18,.8)),light:new Yu(new Zu(255,18,18,.8)),hc:new Yu(new Zu(255,50,50,1))},t("vs/editor/common/view/editorColorRegistry","editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),H_=om("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),z_=om("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),U_=om("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),K_=om("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),j_=om("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),$_=om("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),q_=om("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),G_=om("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Z_=om("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),J_=om("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Q_=om("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Y_=om("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},t("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));As(((e,t)=>{const i=e.getColor(Xm);i&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${i}; }`);const n=e.getColor(ep);n&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${n}; }`);const o=e.getColor(k_);o&&t.addRule(`.monaco-editor .margin { background-color: ${o}; }`);const s=e.getColor(r_);s&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${s}; }`);const r=e.getColor(a_);r&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${r}; }`);const a=e.getColor(l_);a&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=e.getColor(d_);l&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${l}; }`);const d=e.getColor(u_);d&&(t.addRule(`.monaco-editor .mtkw { color: ${d} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${d} !important; }`))}));class X_ extends v{constructor(e){super(),this.textModel=e,this.colorProvider=new eb,this.onDidChangeEmitter=new X,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.onDidChangeOptions((t=>{this.colorizationOptions=e.getOptions().bracketPairColorizationOptions}))),this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}getDecorationsInRange(e,t,i){if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];const n=new Array,o=this.textModel.bracketPairs.getBracketsInRange(e);for(const s of o)n.push({id:`bracket${s.range.toString()}-${s.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(s)},ownerId:0,range:s.range});return n}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new br(1,1,this.textModel.getLineCount(),1),e,t):[]}}class eb{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}As(((e,t)=>{const i=[R_,O_,P_,F_,B_,W_],n=new eb;t.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${e.getColor(V_)}; }`);let o=i.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let s=0;s<30;s++){const e=o[s%o.length];t.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(s)} { color: ${e}; }`)}}));var tb=function(e,t){return function(i,n){t(i,n,e)}};function ib(e){const t=new kh;return t.acceptChunk(e),t.finish()}function nb(e,t){return("string"==typeof e?ib(e):e).create(t)}let ob=0;class sb{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;for(;;){let n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=65536)return e.join("")}}}const rb=()=>{throw new Error("Invalid change accessor")};class ab{constructor(){this._searchCanceledBrand=void 0}}function lb(e){return e instanceof ab?null:e}ab.INSTANCE=new ab;let db=class e extends v{constructor(t,i,n,o=null,s,r,a){super(),this._undoRedoService=s,this._modeService=r,this._languageConfigurationService=a,this._onWillDispose=this._register(new X),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new yb((e=>this.handleBeforeFireDecorationsChangedEvent(e)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new X),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new X),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new X),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new X),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new X),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new X),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new Sb),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new X),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent((e=>{this._onDidChangeContentOrInjectedText.fire(e.rawContentChangedEvent)}))),ob++,this.id="$model"+ob,this.isForSimpleWidget=i.isForSimpleWidget,this._associatedResource=null==o?Yt.parse("inmemory://model/"+ob):o,this._attachedEditorCount=0;const{textBuffer:l,disposable:d}=nb(t,i.defaultEOL);this._buffer=l,this._bufferDisposable=d,this._options=e.resolveOptions(this._buffer,i);const c=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new br(1,1,c,this._buffer.getLineLength(c)+1),0);i.largeFileOptimizations?this._isTooLargeForTokenization=h>e.LARGE_FILE_SIZE_THRESHOLD||c>e.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=h>e.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=n||Bh,this._languageRegistryListener=this._languageConfigurationService.onDidChange((e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._instanceId=Vo(ob),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new gb,this._commandManager=new sl(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Ch(this._modeService.languageIdCodec),this._tokens2=new wh(this._modeService.languageIdCodec),this._tokenization=new zh(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new Qg(this,this._languageConfigurationService)),this._decorationProvider=this._register(new X_(this)),this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})))}static resolveOptions(e,t){if(t.detectIndentation){const i=ll(e,t.tabSize,t.insertSpaces);return new ua({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new ua({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent((t=>e(t.contentChangedEvent)))}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(2===this._backgroundTokenizationState)return;const t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new yh([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._bracketPairColorizer.handleContentChanged(t),this._isDisposing||this._eventEmitter.fire(new Ah(e,t))}setValue(e){if(this._assertNotDisposed(),null===e)return;const{textBuffer:t,disposable:i}=nb(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,s,r){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:r}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new gb,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Th([new xh],this._versionId,!1,!1),this._createContentChanged2(new br(1,1,o,s),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Th([new Ih],this._versionId,!1,!1),this._createContentChanged2(new br(1,1,o,s),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range,s=n.cachedAbsoluteStart-n.start,r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);n.cachedAbsoluteStart=r,n.cachedAbsoluteEnd=a,n.cachedVersionId=e,n.start=r-s,n.end=a-s,El(n)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=1e4?t+=i:e+=i}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,i=void 0!==e.indentSize?e.indentSize:this._options.indentSize,n=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=void 0!==e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,r=new ua({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:s});if(this._options.equals(r))return;let a=this._options.createChangeEvent(r);this._options=r,this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();let i=ll(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let n=0;for(let s=0;s<e.length;s++)"\t"===e.charAt(s)?n+=t:n++;let o="";if(!i){let e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)o+="\t"}for(let s=0;s<n;s++)o+=" ";return o}static normalizeIndentation(t,i,n){let o=co(t);return-1===o&&(o=t.length),e._normalizeIndentationFromWhitespace(t.substring(0,o),i,n)+t.substring(o)}normalizeIndentation(t){return this._assertNotDisposed(),e.normalizeIndentation(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(Ro.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new sb(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o=Math.floor("number"!=typeof i||isNaN(i)?1:i),s=Math.floor("number"!=typeof n||isNaN(n)?1:n);if(o<1)o=1,s=1;else if(o>t)o=t,s=this.getLineMaxColumn(o);else if(s<=1)s=1;else{const e=this.getLineMaxColumn(o);s>=e&&(s=e)}const r=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof r||isNaN(r)?1:r),d=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(l<1)l=1,d=1;else if(l>t)l=t,d=this.getLineMaxColumn(l);else if(d<=1)d=1;else{const e=this.getLineMaxColumn(l);d>=e&&(d=e)}return i===o&&n===s&&r===l&&a===d&&e instanceof br&&!(e instanceof vr)?e:new br(o,s,l,d)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){if(So(this._buffer.getLineCharCode(e,t-2)))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=Math.floor("number"!=typeof t||isNaN(t)?1:t),s=this._buffer.getLineCount();if(n<1)return new Rn(1,1);if(n>s)return new Rn(s,this.getLineMaxColumn(s));if(o<=1)return new Rn(n,1);const r=this.getLineMaxColumn(n);if(o>=r)return new Rn(n,r);if(1===i){if(So(this._buffer.getLineCharCode(n,o-2)))return new Rn(n,o-1)}return new Rn(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof Rn&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(o,s,0))return!1;if(1===t){const e=n>1?this._buffer.getLineCharCode(i,n-2):0,t=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,r=So(e),a=So(t);return!r&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof br&&!(e instanceof vr)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,o=t.column,s=i.lineNumber,r=i.column;{const e=o>1?this._buffer.getLineCharCode(n,o-2):0,t=r>1&&r<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,r-2):0,i=So(e),a=So(t);return i||a?n===s&&o===r?new br(n,o-1,s,r-1):i&&a?new br(n,o-1,s,r+1):i?new br(n,o-1,s,r):new br(n,o,s,r+1):new br(n,o,s,r)}}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new br(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,s,r=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>br.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let d;if(l.push(a.reduce(((e,t)=>br.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!i&&e.indexOf("\n")<0){const t=new Jl(e,i,n,o).parseSearchRequest();if(!t)return[];d=e=>this.findMatchesLineByLine(e,t,s,r)}else d=t=>ed.findMatches(this,new Jl(e,i,n,o),t,s,r);return l.map(d).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const t=new Jl(e,i,n,o).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new br(r.lineNumber,r.column,a,this.getLineMaxColumn(a)),d=this.findMatchesLineByLine(l,t,s,1);return ed.findNextMatch(this,new Jl(e,i,n,o),r,s),d.length>0?d[0]:(l=new br(1,1,r.lineNumber,this.getLineMaxColumn(r.lineNumber)),d=this.findMatchesLineByLine(l,t,s,1),d.length>0?d[0]:null)}return ed.findNextMatch(this,new Jl(e,i,n,o),r,s)}findPreviousMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);return ed.findPreviousMatch(this,new Jl(e,i,n,o),r,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof fa?e:new fa(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let i=t.map((e=>({range:this.validateRange(e.range),text:e.text}))),n=!0;if(e)for(let t=0,o=e.length;t<o;t++){let o=e[t],s=!1;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,n=t.startLineNumber>o.endLineNumber,r=o.startLineNumber>t.endLineNumber;if(!n&&!r){s=!0;break}}if(!s){n=!1;break}}if(n)for(let e=0,o=this._trimAutoWhitespaceLines.length;e<o;e++){let n=this._trimAutoWhitespaceLines[e],o=this.getLineMaxColumn(n),s=!0;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,r=i[e].text;if(!(n<t.startLineNumber||n>t.endLineNumber)&&!(n===t.startLineNumber&&t.startColumn===o&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(0)||n===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(r.length-1))){s=!1;break}}if(s){const e=new br(n,1,n,o);t.push(new fa(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new br(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}}));this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new br(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}}));this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),s=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,0!==s.length){for(let i=0,n=s.length;i<n;i++){const e=s[i],[t,n,o]=hh(e.text);this._tokens.acceptEdit(e.range,t,n),this._tokens2.acceptEdit(e.range,t,n,o,e.text.length>0?e.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(e.rangeOffset,e.rangeLength,e.text.length,e.forceMoveMarkers)}let e=[];this._increaseVersionId();let t=i;for(let i=0,n=s.length;i<n;i++){const n=s[i],[r]=hh(n.text);this._onDidChangeDecorations.fire();const a=n.range.startLineNumber,l=n.range.endLineNumber,d=l-a,c=r,h=Math.min(d,c),u=c-d,g=o-t-u+a,m=g,p=g+c,f=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Rn(m,1)),this.getOffsetAt(new Rn(p,this.getLineMaxColumn(p))),0),_=Lh.fromDecorations(f),b=new Id(_);for(let t=h;t>=0;t--){const i=a+t,n=g+t;b.takeFromEndWhile((e=>e.lineNumber>n));const o=b.takeFromEndWhile((e=>e.lineNumber===n));e.push(new Dh(i,this.getLineContent(n),o))}if(h<d){const t=a+h;e.push(new Eh(t+1,l))}if(h<c){const i=new Id(_),n=a+h,s=c-h,r=o-t-s+n+1;let l=[],d=[];for(let e=0;e<s;e++){let t=r+e;d[e]=this.getLineContent(t),i.takeWhile((e=>e.lineNumber<t)),l[e]=i.takeWhile((e=>e.lineNumber===t))}e.push(new Nh(n+1,a+c,d,l))}t+=u}this._emitContentChangedEvent(new Th(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===n.reverseEdits?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=[...e].map((e=>new Dh(e,this.getLineContent(e),this._getInjectedTextInLine(e))));this._onDidChangeContentOrInjectedText.fire(new Mh(t))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,Cb(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)},o=null;try{o=t(i)}catch(G1){n(G1)}return i.addDecoration=rb,i.changeDecoration=rb,i.changeDecorationOptions=rb,i.removeDecoration=rb,i.deltaDecorations=rb,o}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:wb[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),r=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,r,o),n.setOptions(wb[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let o=this.getLineCount(),s=Math.min(o,Math.max(1,e)),r=Math.min(o,Math.max(1,t)),a=this.getLineMaxColumn(r);const l=new br(s,1,r,a),d=this._getDecorationsInRange(l,i,n);return d.push(...this._decorationProvider.getDecorationsInRange(l,i,n)),d}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e);const o=this._getDecorationsInRange(n,t,i);return o.push(...this._decorationProvider.getDecorationsInRange(n,t,i)),o}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Lh.fromDecorations(n).filter((t=>t.lineNumber===e))}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){const n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(i.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),s=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(i.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const n=this.getVersionId(),o=t.length;let s=0;const r=i.length;let a=0,l=new Array(r);for(;s<o||a<r;){let d=null;if(s<o){do{d=this._decorations[t[s++]]}while(!d&&s<o);if(d){if(d.options.after){const e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(d.options.before){const e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(d),this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(a<r){if(!d){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;d=new _l(t,0,0),this._decorations[t]=d}const t=i[a],o=this._validateRangeRelaxedNoAllocations(t.range),s=Cb(t.options),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);d.ownerId=e,d.reset(n,r,c,o),d.setOptions(s),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(s),this._decorationsTree.insert(d),l[a]=d.id,a++}else d&&delete this._decorations[d.id]}return l}setTokens(e,t=!1){if(0!==e.length){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];let o=0,s=0,r=!1;for(let e=0,t=n.tokens.length;e<t;e++){const t=n.startLineNumber+e;if(r)this._tokens.setTokens(this._languageId,t-1,this._buffer.getLineLength(t),n.tokens[e],!1),s=t;else{this._tokens.setTokens(this._languageId,t-1,this._buffer.getLineLength(t),n.tokens[e],!0)&&(r=!0,o=t,s=t)}}r&&t.push({fromLineNumber:o,toLineNumber:s})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._tokens2.addSemanticTokens(e,i)}getLanguageId(){return this._languageId}setMode(e){if(this._languageId===e)return;let t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const i=this.validatePosition(new Rn(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(t){this._assertNotDisposed();const i=this.validatePosition(t),n=this.getLineContent(i.lineNumber),o=this._getLineTokens(i.lineNumber),s=o.findTokenIndexAtOffset(i.column-1),[r,a]=e._findLanguageBoundaries(o,s),l=Sr(i.column,this.getLanguageConfiguration(o.getLanguageId(s)).getWordDefinition(),n.substring(r,a),r);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn)return l;if(s>0&&r===i.column-1){const[r,a]=e._findLanguageBoundaries(o,s-1),l=Sr(i.column,this.getLanguageConfiguration(o.getLanguageId(s-1)).getWordDefinition(),n.substring(r,a),r);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn)return l}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)n=e.getStartOffset(s);let o=e.getLineContent().length;for(let s=t,r=e.getCount();s<r&&e.getLanguageId(s)===i;s++)o=e.getEndOffset(s);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let i=e.toLowerCase(),n=this.validatePosition(t),o=this._getLineTokens(n.lineNumber),s=o.getLanguageId(o.findTokenIndexAtOffset(n.column-1)),r=this.getLanguageConfiguration(s).brackets;if(!r)return null;let a=r.textIsBracket[i];return a?lb(this._findMatchingBracketUp(a,n,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_establishBracketSearchOffsets(e,t,i,n){const o=t.getCount(),s=t.getLanguageId(n);let r=Math.max(0,e.column-1-i.maxBracketLength);for(let l=n-1;l>=0;l--){const e=t.getEndOffset(l);if(e<=r)break;if(Qh(t.getStandardTokenType(l))||t.getLanguageId(l)!==s){r=e;break}}let a=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let l=n+1;l<o;l++){const e=t.getStartOffset(l);if(e>=a)break;if(Qh(t.getStandardTokenType(l))||t.getLanguageId(l)!==s){a=e;break}}return{searchStartOffset:r,searchEndOffset:a}}_matchBracket(e){const t=e.lineNumber,i=this._getLineTokens(t),n=this._buffer.getLineContent(t),o=i.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const s=this.getLanguageConfiguration(i.getLanguageId(o)).brackets;if(s&&!Qh(i.getStandardTokenType(o))){let{searchStartOffset:r,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,s,o),l=null;for(;;){const i=lu.findNextBracketInRange(s.forwardRegex,t,n,r,a);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=n.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),t=this._matchFoundBracket(i,s.textIsBracket[e],s.textIsOpenBracket[e],null);if(t){if(t instanceof ab)return null;l=t}}r=i.endColumn-1}if(l)return l}if(o>0&&i.getStartOffset(o)===e.column-1){const s=o-1,r=this.getLanguageConfiguration(i.getLanguageId(s)).brackets;if(r&&!Qh(i.getStandardTokenType(s))){let{searchStartOffset:o,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,r,s);const l=lu.findPrevBracketInRange(r.reversedRegex,t,n,o,a);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn){const e=n.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),t=this._matchFoundBracket(l,r.textIsBracket[e],r.textIsOpenBracket[e],null);if(t)return t instanceof ab?null:t}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof ab?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const n=e.languageId,o=e.reversedRegex;let s=-1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100==0&&!i())return ab.INSTANCE;const d=lu.findPrevBracketInRange(o,t,n,a,l);if(!d)break;const c=n.substring(d.startColumn-1,d.endColumn-1).toLowerCase();if(e.isOpen(c)?s++:e.isClose(c)&&s--,0===s)return d;l=d.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this._getLineTokens(l),i=e.getCount(),o=this._buffer.getLineContent(l);let s=i-1,r=o.length,d=o.length;l===t.lineNumber&&(s=e.findTokenIndexAtOffset(t.column-1),r=t.column-1,d=t.column-1);let c=!0;for(;s>=0;s--){const t=e.getLanguageId(s)===n&&!Qh(e.getStandardTokenType(s));if(t)c?r=e.getStartOffset(s):(r=e.getStartOffset(s),d=e.getEndOffset(s));else if(c&&r!==d){const e=a(l,o,r,d);if(e)return e}c=t}if(c&&r!==d){const e=a(l,o,r,d);if(e)return e}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageId,o=e.forwardRegex;let s=1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100==0&&!i())return ab.INSTANCE;const d=lu.findNextBracketInRange(o,t,n,a,l);if(!d)break;const c=n.substring(d.startColumn-1,d.endColumn-1).toLowerCase();if(e.isOpen(c)?s++:e.isClose(c)&&s--,0===s)return d;a=d.endColumn-1}return null},l=this.getLineCount();for(let d=t.lineNumber;d<=l;d++){const e=this._getLineTokens(d),i=e.getCount(),o=this._buffer.getLineContent(d);let s=0,r=0,l=0;d===t.lineNumber&&(s=e.findTokenIndexAtOffset(t.column-1),r=t.column-1,l=t.column-1);let c=!0;for(;s<i;s++){const t=e.getLanguageId(s)===n&&!Qh(e.getStandardTokenType(s));if(t)c||(r=e.getStartOffset(s)),l=e.getEndOffset(s);else if(c&&r!==l){const e=a(d,o,r,l);if(e)return e}c=t}if(c&&r!==l){const e=a(d,o,r,l);if(e)return e}}return null}findPrevBracket(e){const t=this.validatePosition(e);let i=null,n=null;for(let o=t.lineNumber;o>=1;o--){const e=this._getLineTokens(o),s=e.getCount(),r=this._buffer.getLineContent(o);let a=s-1,l=r.length,d=r.length;if(o===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,d=t.column-1;const o=e.getLanguageId(a);i!==o&&(i=o,n=this.getLanguageConfiguration(i).brackets)}let c=!0;for(;a>=0;a--){const t=e.getLanguageId(a);if(i!==t){if(n&&c&&l!==d){const e=lu.findPrevBracketInRange(n.reversedRegex,o,r,l,d);if(e)return this._toFoundBracket(n,e);c=!1}i=t,n=this.getLanguageConfiguration(i).brackets}const s=!!n&&!Qh(e.getStandardTokenType(a));if(s)c?l=e.getStartOffset(a):(l=e.getStartOffset(a),d=e.getEndOffset(a));else if(n&&c&&l!==d){const e=lu.findPrevBracketInRange(n.reversedRegex,o,r,l,d);if(e)return this._toFoundBracket(n,e)}c=s}if(n&&c&&l!==d){const e=lu.findPrevBracketInRange(n.reversedRegex,o,r,l,d);if(e)return this._toFoundBracket(n,e)}}return null}findNextBracket(e){const t=this.validatePosition(e),i=this.getLineCount();let n=null,o=null;for(let s=t.lineNumber;s<=i;s++){const e=this._getLineTokens(s),i=e.getCount(),r=this._buffer.getLineContent(s);let a=0,l=0,d=0;if(s===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,d=t.column-1;const i=e.getLanguageId(a);n!==i&&(n=i,o=this.getLanguageConfiguration(n).brackets)}let c=!0;for(;a<i;a++){const t=e.getLanguageId(a);if(n!==t){if(o&&c&&l!==d){const e=lu.findNextBracketInRange(o.forwardRegex,s,r,l,d);if(e)return this._toFoundBracket(o,e);c=!1}n=t,o=this.getLanguageConfiguration(n).brackets}const i=!!o&&!Qh(e.getStandardTokenType(a));if(i)c||(l=e.getStartOffset(a)),d=e.getEndOffset(a);else if(o&&c&&l!==d){const e=lu.findNextBracketInRange(o.forwardRegex,s,r,l,d);if(e)return this._toFoundBracket(o,e)}c=i}if(o&&c&&l!==d){const e=lu.findNextBracketInRange(o.forwardRegex,s,r,l,d);if(e)return this._toFoundBracket(o,e)}}return null}findEnclosingBrackets(e,t){let i;if(void 0===t)i=null;else{const e=Date.now();i=()=>Date.now()-e<=t}const n=this.validatePosition(e),o=this.getLineCount(),s=new Map;let r=[];const a=(e,t)=>{if(!s.has(e)){let i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;s.set(e,i)}r=s.get(e)};let l=0;const d=(e,t,n,o,s)=>{for(;;){if(i&&++l%100==0&&!i())return ab.INSTANCE;const a=lu.findNextBracketInRange(e.forwardRegex,t,n,o,s);if(!a)break;const d=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),c=e.textIsBracket[d];if(c&&(c.isOpen(d)?r[c.index]++:c.isClose(d)&&r[c.index]--,-1===r[c.index]))return this._matchFoundBracket(a,c,!1,i);o=a.endColumn-1}return null};let c=null,h=null;for(let u=n.lineNumber;u<=o;u++){const e=this._getLineTokens(u),t=e.getCount(),i=this._buffer.getLineContent(u);let o=0,s=0,r=0;if(u===n.lineNumber){o=e.findTokenIndexAtOffset(n.column-1),s=n.column-1,r=n.column-1;const t=e.getLanguageId(o);c!==t&&(c=t,h=this.getLanguageConfiguration(c).brackets,a(c,h))}let l=!0;for(;o<t;o++){const t=e.getLanguageId(o);if(c!==t){if(h&&l&&s!==r){const e=d(h,u,i,s,r);if(e)return lb(e);l=!1}c=t,h=this.getLanguageConfiguration(c).brackets,a(c,h)}const n=!!h&&!Qh(e.getStandardTokenType(o));if(n)l||(s=e.getStartOffset(o)),r=e.getEndOffset(o);else if(h&&l&&s!==r){const e=d(h,u,i,s,r);if(e)return lb(e)}l=n}if(h&&l&&s!==r){const e=d(h,u,i,s,r);if(e)return lb(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.getValueInRange(t);i=i.toLowerCase();let n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}static computeIndentLevel(e,t){let i=0,n=0,o=e.length;for(;n<o;){let o=e.charCodeAt(n);if(32===o)i++;else{if(9!==o)break;i=i-i%t+t}n++}return n===o?-1:i}_computeIndentLevel(t){return e.computeIndentLevel(this._buffer.getLineContent(t+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this._languageId).foldingRules,s=Boolean(o&&o.offSide);let r=-2,a=-1,l=-2,d=-1;const c=e=>{if(-1!==r&&(-2===r||r>e-1)){r=-1,a=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){r=t,a=e;break}}}if(-2===l){l=-1,d=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){l=t,d=e;break}}}};let h=-2,u=-1,g=-2,m=-1;const p=e=>{if(-2===h){h=-1,u=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){h=t,u=e;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,m=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){g=t,m=e;break}}}};let f=0,_=!0,b=0,v=!0,w=0,C=0;for(let y=0;_||v;y++){const o=e-y,r=e+y;y>1&&(o<1||o<t)&&(_=!1),y>1&&(r>n||r>i)&&(v=!1),y>5e4&&(_=!1,v=!1);let g=-1;if(_){const e=this._computeIndentLevel(o-1);e>=0?(l=o-1,d=e,g=Math.ceil(e/this._options.indentSize)):(c(o),g=this._getIndentLevelForWhitespaceLine(s,a,d))}let S=-1;if(v){const e=this._computeIndentLevel(r-1);e>=0?(h=r-1,u=e,S=Math.ceil(e/this._options.indentSize)):(p(r),S=this._getIndentLevelForWhitespaceLine(s,u,m))}if(0!==y){if(1===y){if(r<=n&&S>=0&&C+1===S){_=!1,f=r,b=r,w=S;continue}if(o>=1&&g>=0&&g-1===C){v=!1,f=o,b=o,w=g;continue}if(f=e,b=e,w=C,0===w)return{startLineNumber:f,endLineNumber:b,indent:w}}_&&(g>=w?f=o:_=!1),v&&(S>=w?b=r:v=!1)}else C=g}return{startLineNumber:f,endLineNumber:b,indent:w}}getLinesBracketGuides(e,t,i,n){var o,s,r,a,l;const d=[],c=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new br(e,1,t,this.getLineMaxColumn(t)));let h;if(i&&c.length>0){h=null===(o=function(e,t){const i=function(e,t){for(let i=e.length-1;i>=0;i--)if(t(e[i]))return i;return-1}(e,t);if(-1!==i)return e[i]}(e<=i.lineNumber&&i.lineNumber<=t?c.filter((e=>e.range.containsPosition(i))):this._bracketPairColorizer.getBracketPairsInRange(br.fromPositions(i)),(e=>e.range.startLineNumber!==e.range.endLineNumber)))||void 0===o?void 0:o.range}const u=new Id(c),g=new Array,m=new Array,p=new cb;for(let f=e;f<=t;f++){let e=new Array;m.length>0&&(e=e.concat(m),m.length=0),d.push(e);for(const i of u.takeWhile((e=>e.openingBracketRange.startLineNumber<=f))||[]){if(i.range.startLineNumber===i.range.endLineNumber)continue;const e=Math.min(this.getVisibleColumnFromPosition(i.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(r=null===(s=i.closingBracketRange)||void 0===s?void 0:s.getStartPosition())&&void 0!==r?r:i.range.getEndPosition()),i.minVisibleColumnIndentation+1);let t=!1;if(i.closingBracketRange){co(this.getLineContent(i.closingBracketRange.startLineNumber))<i.closingBracketRange.startColumn-1&&(t=!0)}const n=i.openingBracketRange.getStartPosition(),o=null!==(l=null===(a=i.closingBracketRange)||void 0===a?void 0:a.getStartPosition())&&void 0!==l?l:i.range.getEndPosition();void 0===i.closingBracketRange?g[i.nestingLevel]=null:g[i.nestingLevel]={nestingLevel:i.nestingLevel,guideVisibleColumn:e,start:n,visibleStartColumn:this.getVisibleColumnFromPosition(n),end:o,visibleEndColumn:this.getVisibleColumnFromPosition(o),bracketPair:i,renderHorizontalEndLineAtTheBottom:t}}for(const i of g){if(!i)continue;const t=h&&i.bracketPair.range.equalsRange(h),o=p.getInlineClassNameOfLevel(i.nestingLevel)+(n.highlightActive&&t?" "+p.activeClassName:"");(t&&n.horizontalGuides!==ca.Disabled||n.includeInactive&&n.horizontalGuides===ca.Enabled)&&(i.start.lineNumber===f&&i.guideVisibleColumn<i.visibleStartColumn&&e.push(new ma(i.guideVisibleColumn,o,new pa(!1,i.start.column))),i.end.lineNumber===f+1&&i.guideVisibleColumn<i.visibleEndColumn&&m.push(new ma(i.guideVisibleColumn,o,new pa(!i.renderHorizontalEndLineAtTheBottom,i.end.column))))}let t=Number.MAX_SAFE_INTEGER;for(let i=g.length-1;i>=0;i--){const o=g[i];if(!o)continue;const s=n.highlightActive&&h&&o.bracketPair.range.equalsRange(h),r=p.getInlineClassNameOfLevel(o.nestingLevel)+(s?" "+p.activeClassName:"");(s||n.includeInactive)&&o.renderHorizontalEndLineAtTheBottom&&o.end.lineNumber===f+1&&m.push(new ma(o.guideVisibleColumn,r,null)),o.end.lineNumber<=f||o.start.lineNumber>=f||(o.guideVisibleColumn>=t&&!s||(t=o.guideVisibleColumn,(s||n.includeInactive)&&e.push(new ma(o.guideVisibleColumn,r,null))))}e.sort(((e,t)=>e.visibleColumn-t.visibleColumn))}return d}getVisibleColumnFromPosition(e){return wg.visibleColumnFromColumn(this.getLineContent(e.lineNumber),e.column,this._options.tabSize)+1}getLinesIndentGuides(e,t){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=this.getLanguageConfiguration(this._languageId).foldingRules,o=Boolean(n&&n.offSide);let s=new Array(t-e+1),r=-2,a=-1,l=-2,d=-1;for(let c=e;c<=t;c++){let t=c-e;const n=this._computeIndentLevel(c-1);if(n>=0)r=c-1,a=n,s[t]=Math.ceil(n/this._options.indentSize);else{if(-2===r){r=-1,a=-1;for(let e=c-2;e>=0;e--){let t=this._computeIndentLevel(e);if(t>=0){r=e,a=t;break}}}if(-1!==l&&(-2===l||l<c-1)){l=-1,d=-1;for(let e=c;e<i;e++){let t=this._computeIndentLevel(e);if(t>=0){l=e,d=t;break}}}s[t]=this._getIndentLevelForWhitespaceLine(o,a,d)}}return s}_getIndentLevelForWhitespaceLine(e,t,i){return-1===t||-1===i?0:t<i?1+Math.floor(t/this._options.indentSize):t===i||e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const i of e){if(" "!==i&&"\t"!==i)break;t++}return t}(this.getLineContent(e))+1}};db.MODEL_SYNC_LIMIT=52428800,db.LARGE_FILE_SIZE_THRESHOLD=20971520,db.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,db.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Zr.tabSize,indentSize:Zr.indentSize,insertSpaces:Zr.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Zr.trimAutoWhitespace,largeFileOptimizations:Zr.largeFileOptimizations,bracketPairColorizationOptions:Zr.bracketPairColorizationOptions},db=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([tb(4,tg),tb(5,Mu),tb(6,Bu)],db);class cb{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}function hb(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function ub(e){return!!e.options.after||!!e.options.before}class gb{constructor(){this._decorationsTree0=new vl,this._decorationsTree1=new vl,this._injectedTextDecorationsTree=new vl}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o){const s=e.getVersionId(),r=this._intervalSearch(t,i,n,o,s);return this._ensureNodesHaveRanges(e,r)}_intervalSearch(e,t,i,n,o){const s=this._decorationsTree0.intervalSearch(e,t,i,n,o),r=this._decorationsTree1.intervalSearch(e,t,i,n,o),a=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o);return s.concat(r).concat(a)}getInjectedTextInInterval(e,t,i,n){const o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o);return this._ensureNodesHaveRanges(e,s).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAllInjectedText(e,t){const i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,n).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAll(e,t,i,n){const o=e.getVersionId(),s=this._search(t,i,n,o);return this._ensureNodesHaveRanges(e,s)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{const i=this._decorationsTree0.search(e,t,n),o=this._decorationsTree1.search(e,t,n),s=this._injectedTextDecorationsTree.search(e,t,n);return i.concat(o).concat(s)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){ub(e)?this._injectedTextDecorationsTree.insert(e):hb(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){ub(e)?this._injectedTextDecorationsTree.delete(e):hb(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){ub(e)?this._injectedTextDecorationsTree.resolveNode(e,t):hb(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}}function mb(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class pb{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class fb extends pb{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:ra.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}}class _b extends pb{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?Yu.fromHex(e):t.getColor(e.id)}}class bb{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof bb?e:new bb(e)}}class vb{constructor(e){this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?mb(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new fb(e.overviewRuler):null,this.minimap=e.minimap?new _b(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?mb(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?mb(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?mb(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?mb(e.marginClassName):null,this.inlineClassName=e.inlineClassName?mb(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?mb(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?mb(e.afterContentClassName):null,this.after=e.after?bb.from(e.after):null,this.before=e.before?bb.from(e.before):null}static register(e){return new vb(e)}static createDynamic(e){return new vb(e)}}vb.EMPTY=vb.register({description:"empty"});const wb=[vb.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),vb.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),vb.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),vb.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Cb(e){return e instanceof vb?e:vb.createDynamic(e)}class yb extends v{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new X),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}null===(e=this._affectedInjectedTextLines)||void 0===e||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Sb extends v{constructor(){super(),this._fastEmitter=this._register(new X),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new X),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}const kb=()=>!0,xb=()=>!1,Lb=e=>" "===e||"\t"===e;class Db{constructor(e,t,i){this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const n=i.options,o=n.get(129);this.readOnly=n.get(80),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=n.get(103),this.lineHeight=n.get(58),this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=n.get(114),this.wordSeparators=n.get(115),this.emptySelectionClipboard=n.get(32),this.copyWithSyntaxHighlighting=n.get(21),this.multiCursorMergeOverlapping=n.get(68),this.multiCursorPaste=n.get(70),this.autoClosingBrackets=n.get(5),this.autoClosingQuotes=n.get(8),this.autoClosingDelete=n.get(6),this.autoClosingOvertype=n.get(7),this.autoSurround=n.get(11),this.autoIndent=n.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:Db._getShouldAutoClose(e,this.autoClosingQuotes),bracket:Db._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=Uu.getAutoClosingPairs(e);let s=Db._getSurroundingPairs(e);if(s)for(const r of s)this.surroundingPairs[r.open]=r.close}static shouldRecreate(e){return e.hasChanged(129)||e.hasChanged(115)||e.hasChanged(32)||e.hasChanged(68)||e.hasChanged(70)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(114)||e.hasChanged(58)||e.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=Db._getElectricCharacters(this._languageId);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return db.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return Uu.getElectricCharacters(e)}catch(G1){return n(G1),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return Lb;case"languageDefined":return Db._getLanguageDefinedShouldAutoClose(e);case"always":return kb;case"never":return xb}}static _getLanguageDefinedShouldAutoClose(e){try{const t=Uu.getAutoCloseBeforeSet(e);return e=>-1!==t.indexOf(e)}catch(G1){return n(G1),xb}}static _getSurroundingPairs(e){try{return Uu.getSurroundingPairs(e)}catch(G1){return n(G1),null}}}class Eb{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=Eb._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new Eb(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new Rn(t,i),n):new Eb(new br(t,i,t,i),n,new Rn(t,i),n)}static _computeSelection(e,t){let i,n,o,s;return e.isEmpty()?(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,s=t.column):t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,n=e.endColumn,o=t.lineNumber,s=t.column):(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,s=t.column),new vr(i,n,o,s)}}class Nb{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}class Ib{constructor(e){this.modelState=e,this.viewState=null}}class Tb{constructor(e){this.modelState=null,this.viewState=e}}class Mb{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new Ib(e)}static fromViewState(e){return new Tb(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,i=e.selectionStartColumn,n=e.positionLineNumber,o=e.positionColumn,s=new Eb(new br(t,i,t,i),0,new Rn(n,o),0);return Mb.fromModelState(s)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class Ab{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function Rb(e){return"'"===e||'"'===e||"`"===e}class Ob{static columnSelect(e,t,i,n,o,s){let r=Math.abs(o-i)+1,a=i>o,l=n>s,d=n<s,c=[];for(let h=0;h<r;h++){let o=i+(a?-h:h),r=wg.columnFromVisibleColumn2(e,t,o,n),u=wg.columnFromVisibleColumn2(e,t,o,s),g=wg.visibleColumnFromColumn2(e,t,new Rn(o,r)),m=wg.visibleColumnFromColumn2(e,t,new Rn(o,u));if(d){if(g>s)continue;if(m<n)continue}if(l){if(m>n)continue;if(g<s)continue}c.push(new Eb(new br(o,r,o,r),0,new Rn(o,u),0))}if(0===c.length)for(let h=0;h<r;h++){const e=i+(a?-h:h),n=t.getLineMaxColumn(e);c.push(new Eb(new br(e,n,e,n),0,new Rn(e,n),0))}return{viewStates:c,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,Ob.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let a=o;a<=s;a++){const i=t.getLineMaxColumn(a),o=wg.visibleColumnFromColumn2(e,t,new Rn(a,i));n=Math.max(n,o)}let r=i.toViewVisualColumn;return r<n&&r++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectUp(e,t,i,n){const o=n?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const o=n?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}}class Pb{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new vr(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)}}class Fb{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return new vr(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}}class Bb{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new vr(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)}}class Wb{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new vr(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)}}class Vb{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class Hb{static whitespaceVisibleColumn(e,t,i){const n=e.length;let o=0,s=-1,r=-1;for(let a=0;a<n;a++){if(a===t)return[s,r,o];o%i==0&&(s=a,r=o);switch(e.charCodeAt(a)){case 32:o+=1;break;case 9:o=wg.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===n?[s,r,o]:[-1,-1,-1]}static atomicPosition(e,t,i,n){const o=e.length,[s,r,a]=Hb.whitespaceVisibleColumn(e,t,i);if(-1===a)return-1;let l;switch(n){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%i==0)return t;l=a%i<=i/2}if(l){if(-1===s)return-1;let t=r;for(let n=s;n<o;++n){if(t===r+i)return s;switch(e.charCodeAt(n)){case 32:t+=1;break;case 9:t=wg.nextRenderTabStop(t,i);break;default:return-1}}return t===r+i?s:-1}const d=wg.nextRenderTabStop(a,i);let c=a;for(let h=t;h<o;h++){if(c===d)return h;switch(e.charCodeAt(h)){case 32:c+=1;break;case 9:c=wg.nextRenderTabStop(c,i);break;default:return-1}}return c===d?o:-1}}class zb{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class Ub{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-function(e,t){const i=Uo.getInstance(),n=t,o=Do(e,t);t-=o>=65536?2:1;let s=i.getGraphemeBreakType(o);for(;t>0;){const n=Do(e,t),o=i.getGraphemeBreakType(n);if(zo(o,s))break;t-=n>=65536?2:1,s=o}return n-t}(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new Rn(i,e.getLineMaxColumn(i))}return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const n=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=Hb.atomicPosition(o,t.column-1,i,0);if(-1!==s&&s+1>=n)return new Rn(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){const n=e.stickyTabStops?Ub.leftPositionAtomicSoftTabs(t,i,e.tabSize):Ub.leftPosition(t,i);return new zb(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.startLineNumber,r=i.selection.startColumn;else{const n=i.position.delta(void 0,-(o-1)),a=t.normalizePosition(Ub.clipPositionColumn(n,t),0),l=Ub.left(e,t,a);s=l.lineNumber,r=l.column}return i.move(n,s,r,0)}static clipPositionColumn(e,t){return new Rn(e.lineNumber,Ub.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=Eo(e.getLineContent(t),i-1):t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new Rn(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,o){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),s=Hb.atomicPosition(o,i-1,n,1);if(-1!==s)return new Rn(t,s+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const n=e.stickyTabStops?Ub.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):Ub.rightPosition(t,i.lineNumber,i.column);return new zb(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.endLineNumber,r=i.selection.endColumn;else{const n=i.position.delta(void 0,o-1),a=t.normalizePosition(Ub.clipPositionColumn(n,t),1),l=Ub.right(e,t,a);s=l.lineNumber,r=l.column}return i.move(n,s,r,0)}static vertical(e,t,i,n,o,s,r){const a=wg.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,l=t.getLineCount(),d=1===i&&1===n,c=i===l&&n===t.getLineMaxColumn(i),h=s<i?d:c;return(i=s)<1?(i=1,n=r?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),n)):i>l?(i=l,n=r?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=wg.columnFromVisibleColumn2(e,t,i,a),o=h?0:a-wg.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),new zb(i,n,o)}static down(e,t,i,n,o,s,r){return this.vertical(e,t,i,n,o,i+s,r)}static moveDown(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.endLineNumber,r=i.selection.endColumn):(s=i.position.lineNumber,r=i.position.column);let a=Ub.down(e,t,s,r,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,i){let n=i.selection,o=Ub.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=Ub.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Eb(new br(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new Rn(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,n,o,s,r){return this.vertical(e,t,i,n,o,i-s,r)}static moveUp(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.startLineNumber,r=i.selection.startColumn):(s=i.position.lineNumber,r=i.position.column);let a=Ub.up(e,t,s,r,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,i){let n=i.selection,o=Ub.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=Ub.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Eb(new br(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new Rn(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){const o=t.getLineCount();let s=i.position.lineNumber;for(;s<o&&this._isBlankLine(t,s);)s++;for(;s<o&&!this._isBlankLine(t,s);)s++;return i.move(n,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,n){let o,s=i.position.lineNumber,r=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||r;return o=i.position.column===a?r:a,i.move(n,s,o,0)}static moveToEndOfLine(e,t,i,n,o){let s=i.position.lineNumber,r=t.getLineMaxColumn(s);return i.move(n,s,r,o?1073741824-r:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(n,o,s,0)}}class Kb{static deleteRight(e,t,i,n){let o=[],s=3!==e;for(let r=0,a=n.length;r<a;r++){const e=n[r];let a=e;if(a.isEmpty()){let n=e.getPosition(),o=Ub.right(t,i,n);a=new br(o.lineNumber,o.column,n.lineNumber,n.column)}a.isEmpty()?o[r]=null:(a.startLineNumber!==a.endLineNumber&&(s=!0),o[r]=new Pb(a,""))}return[s,o]}static isAutoClosingPairDelete(e,t,i,n,o,s,r){if("never"===t&&"never"===i)return!1;if("never"===e)return!1;for(let a=0,l=s.length;a<l;a++){const l=s[a],d=l.getPosition();if(!l.isEmpty())return!1;const c=o.getLineContent(d.lineNumber);if(d.column<2||d.column>=c.length+1)return!1;const h=c.charAt(d.column-2),u=n.get(h);if(!u)return!1;if(Rb(h)){if("never"===i)return!1}else if("never"===t)return!1;const g=c.charAt(d.column-1);let m=!1;for(const e of u)e.open===h&&e.close===g&&(m=!0);if(!m)return!1;if("auto"===e){let e=!1;for(let t=0,i=r.length;t<i;t++){const i=r[t];if(d.lineNumber===i.startLineNumber&&d.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){const e=i[o].getPosition(),t=new br(e.lineNumber,e.column-1,e.lineNumber,e.column+1);n[o]=new Pb(t,"")}return[!0,n]}static deleteLeft(e,t,i,n,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,o))return this._runAutoClosingPairDelete(t,i,n);const s=[];let r=2!==e;for(let a=0,l=n.length;a<l;a++){let e=Kb.getDeleteRange(n[a],i,t);e.isEmpty()?s[a]=null:(e.startLineNumber!==e.endLineNumber&&(r=!0),s[a]=new Pb(e,""))}return[r,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const n=e.getPosition();if(i.useTabStops&&n.column>1){const e=t.getLineContent(n.lineNumber),o=co(e),s=-1===o?e.length+1:o+1;if(n.column<=s){const e=wg.visibleColumnFromColumn2(i,t,n),o=wg.prevIndentTabStop(e,i.indentSize),s=wg.columnFromVisibleColumn2(i,t,n.lineNumber,o);return new br(n.lineNumber,s,n.lineNumber,n.column)}}return br.fromPositions(Kb.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=Ko(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}if(e.lineNumber>1){const i=e.lineNumber-1;return new Rn(i,t.getLineMaxColumn(i))}return e}static cut(e,t,i){let n=[],o=null;i.sort(((e,t)=>Rn.compare(e.getStartPosition(),t.getEndPosition())));for(let s=0,r=i.length;s<r;s++){const r=i[s];if(r.isEmpty())if(e.emptySelectionClipboard){let e,i,a,l,d=r.getPosition();d.lineNumber<t.getLineCount()?(e=d.lineNumber,i=1,a=d.lineNumber+1,l=1):d.lineNumber>1&&(null==o?void 0:o.endLineNumber)!==d.lineNumber?(e=d.lineNumber-1,i=t.getLineMaxColumn(d.lineNumber-1),a=d.lineNumber,l=t.getLineMaxColumn(d.lineNumber)):(e=d.lineNumber,i=1,a=d.lineNumber,l=t.getLineMaxColumn(d.lineNumber));let c=new br(e,i,a,l);o=c,c.isEmpty()?n[s]=null:n[s]=new Pb(c,"")}else n[s]=null;else n[s]=new Pb(r,"")}return new Ab(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class jb{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){let i=e.charCodeAt(o),s=t.get(i);if(0===s){if(2===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(2===s){if(1===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(1===s&&0!==n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let o=e.length;for(let s=n;s<o;s++){let n=e.charCodeAt(s),o=t.get(n);if(1===o)return s;if(1===i&&2===o)return s;if(2===i&&0===o)return s}return o}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,o=e.length;for(let s=i.column-1;s<o;s++){let i=e.charCodeAt(s),o=t.get(i);if(0===o){if(2===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){let n=e.charCodeAt(o),s=t.get(n);if(1===s)return o+1;if(1===i&&2===s)return o+1;if(2===i&&0===s)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,s=i.column;1===s&&o>1&&(o-=1,s=t.getLineMaxColumn(o));let r=jb._findPreviousWordOnLine(e,t,new Rn(o,s));if(0===n)return new Rn(o,r?r.start+1:1);if(1===n)return r&&2===r.wordType&&r.end-r.start==1&&0===r.nextCharClass&&(r=jb._findPreviousWordOnLine(e,t,new Rn(o,r.start+1))),new Rn(o,r?r.start+1:1);if(3===n){for(;r&&2===r.wordType;)r=jb._findPreviousWordOnLine(e,t,new Rn(o,r.start+1));return new Rn(o,r?r.start+1:1)}return r&&s<=r.end+1&&(r=jb._findPreviousWordOnLine(e,t,new Rn(o,r.start+1))),new Rn(o,r?r.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(1===t.column)return i>1?new Rn(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let s=t.column-1;s>1;s--){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95===e&&95!==t)return new Rn(i,s);if(_o(e)&&bo(t))return new Rn(i,s);if(bo(e)&&bo(t)&&s+1<n){if(_o(o.charCodeAt(s)))return new Rn(i,s)}}return new Rn(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,s=i.column,r=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(r=!0,o+=1,s=1);let a=jb._findNextWordOnLine(e,t,new Rn(o,s));if(2===n)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=jb._findNextWordOnLine(e,t,new Rn(o,a.end+1))),s=a?a.end+1:t.getLineMaxColumn(o);else if(3===n){for(r&&(s=0);a&&(2===a.wordType||a.start+1<=s);)a=jb._findNextWordOnLine(e,t,new Rn(o,a.end+1));s=a?a.start+1:t.getLineMaxColumn(o)}else a&&!r&&s>=a.start+1&&(a=jb._findNextWordOnLine(e,t,new Rn(o,a.end+1))),s=a?a.start+1:t.getLineMaxColumn(o);return new Rn(o,s)}static _moveWordPartRight(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new Rn(i+1,1):t;const o=e.getLineContent(i);for(let s=t.column+1;s<n;s++){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95!==e&&95===t)return new Rn(i,s);if(_o(e)&&bo(t))return new Rn(i,s);if(bo(e)&&bo(t)&&s+1<n){if(_o(o.charCodeAt(s)))return new Rn(i,s)}}return new Rn(i,n)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-2,o=uo(i,n);return o+1<n?new br(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(Kb.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new br(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const r=new Rn(o.positionLineNumber,o.positionColumn);let a=r.lineNumber,l=r.column;if(1===a&&1===l)return null;if(s){let e=this._deleteWordLeftWhitespace(n,r);if(e)return e}let d=jb._findPreviousWordOnLine(i,n,r);return 0===t?d?l=d.start+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a)):(d&&l<=d.end+1&&(d=jb._findPreviousWordOnLine(i,n,new Rn(a,d.start+1))),d?l=d.end+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a))),new br(a,l,r.lineNumber,r.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const n=new Rn(i.positionLineNumber,i.positionColumn);let o=this._deleteInsideWordWhitespace(t,n);return o||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return 32===i||9===i}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=i.length;if(0===n)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let s=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,s))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;s+1<n&&this._charAtIsWhitespace(i,s+1);)s++;return new br(t.lineNumber,o+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),o=n.length;if(0===o)return i.lineNumber>1?new br(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new br(i.lineNumber,1,i.lineNumber+1,1):new br(i.lineNumber,1,i.lineNumber,1);const s=e=>e.start+1<=i.column&&i.column<=e.end+1,r=(e,t)=>(e=Math.min(e,i.column),t=Math.max(t,i.column),new br(i.lineNumber,e,i.lineNumber,t)),a=e=>{let t=e.start+1,i=e.end+1,s=!1;for(;i-1<o&&this._charAtIsWhitespace(n,i-1);)s=!0,i++;if(!s)for(;t>1&&this._charAtIsWhitespace(n,t-2);)t--;return r(t,i)},l=jb._findPreviousWordOnLine(e,t,i);if(l&&s(l))return a(l);const d=jb._findNextWordOnLine(e,t,i);return d&&s(d)?a(d):l&&d?r(l.end+1,d.start+1):l?r(l.start+1,l.end+1):d?r(d.start+1,d.end+1):r(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=jb._moveWordPartLeft(e,i);return new br(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let t=e.charAt(n);if(" "!==t&&"\t"!==t)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new br(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;const r=new Rn(o.positionLineNumber,o.positionColumn);let a=r.lineNumber,l=r.column;const d=n.getLineCount(),c=n.getLineMaxColumn(a);if(a===d&&l===c)return null;if(s){let e=this._deleteWordRightWhitespace(n,r);if(e)return e}let h=jb._findNextWordOnLine(i,n,r);return 2===t?h?l=h.end+1:l<c||a===d?l=c:(a++,h=jb._findNextWordOnLine(i,n,new Rn(a,1)),l=h?h.start+1:n.getLineMaxColumn(a)):(h&&l>=h.start+1&&(h=jb._findNextWordOnLine(i,n,new Rn(a,h.end+1))),h?l=h.start+1:l<c||a===d?l=c:(a++,h=jb._findNextWordOnLine(i,n,new Rn(a,1)),l=h?h.start+1:n.getLineMaxColumn(a))),new br(a,l,r.lineNumber,r.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=jb._moveWordPartRight(e,i);return new br(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new br(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=Zl(t),o=jb._findPreviousWordOnLine(n,e,i);if(o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end)return jb._createWordAtPosition(e,i.lineNumber,o);const s=jb._findNextWordOnLine(n,e,i);return s&&1===s.wordType&&s.start<=i.column-1&&i.column-1<=s.end?jb._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,n,o){const s=Zl(e.wordSeparators);let r,a,l=jb._findPreviousWordOnLine(s,t,o),d=jb._findNextWordOnLine(s,t,o);if(!n){let e,i;return l&&1===l.wordType&&l.start<=o.column-1&&o.column-1<=l.end?(e=l.start+1,i=l.end+1):d&&1===d.wordType&&d.start<=o.column-1&&o.column-1<=d.end?(e=d.start+1,i=d.end+1):(e=l?l.end+1:1,i=d?d.start+1:t.getLineMaxColumn(o.lineNumber)),new Eb(new br(o.lineNumber,e,o.lineNumber,i),0,new Rn(o.lineNumber,i),0)}l&&1===l.wordType&&l.start<o.column-1&&o.column-1<l.end?(r=l.start+1,a=l.end+1):d&&1===d.wordType&&d.start<o.column-1&&o.column-1<d.end?(r=d.start+1,a=d.end+1):(r=o.column,a=o.column);let c,h=o.lineNumber;if(i.selectionStart.containsPosition(o))c=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){c=r;let e=new Rn(h,c);i.selectionStart.containsPosition(e)&&(c=i.selectionStart.endColumn)}else{c=a;let e=new Rn(h,c);i.selectionStart.containsPosition(e)&&(c=i.selectionStart.startColumn)}return i.move(!0,h,c,0)}}class $b extends jb{static deleteWordPartLeft(e){const t=qb([jb.deleteWordLeft(e,0),jb.deleteWordLeft(e,2),jb._deleteWordPartLeft(e.model,e.selection)]);return t.sort(br.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=qb([jb.deleteWordRight(e,0),jb.deleteWordRight(e,2),jb._deleteWordPartRight(e.model,e.selection)]);return t.sort(br.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const n=qb([jb.moveWordLeft(e,t,i,0),jb.moveWordLeft(e,t,i,2),jb._moveWordPartLeft(t,i)]);return n.sort(Rn.compare),n[2]}static moveWordPartRight(e,t,i){const n=qb([jb.moveWordRight(e,t,i,0),jb.moveWordRight(e,t,i,2),jb._moveWordPartRight(t,i)]);return n.sort(Rn.compare),n[0]}}function qb(e){return e.filter((e=>Boolean(e)))}class Gb{static addCursorDown(e,t,i){let n=[],o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];n[o++]=new Mb(r.modelState,r.viewState),n[o++]=i?Mb.fromModelState(Ub.translateDown(e.cursorConfig,e.model,r.modelState)):Mb.fromViewState(Ub.translateDown(e.cursorConfig,e,r.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];n[o++]=new Mb(r.modelState,r.viewState),n[o++]=i?Mb.fromModelState(Ub.translateUp(e.cursorConfig,e.model,r.modelState)):Mb.fromViewState(Ub.translateUp(e.cursorConfig,e,r.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=this._moveToLineStart(e,s,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,o=n===t.modelState.position.column,s=t.viewState.position.lineNumber,r=e.getLineFirstNonWhitespaceColumn(s);return o||n===r?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return Mb.fromViewState(Ub.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return Mb.fromModelState(Ub.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=this._moveToLineEnd(e,r,i,n)}return o}static _moveToLineEnd(e,t,i,n){const o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),r=o.column===s,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),d=s-o.column==l-a.column;return r||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return Mb.fromViewState(Ub.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return Mb.fromModelState(Ub.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.selection.startLineNumber,r=e.model.getLineCount();let a,l=o.modelState.selection.endLineNumber;l===r?a=e.model.getLineMaxColumn(r):(l++,a=1),i[n]=Mb.fromModelState(new Eb(new br(s,1,s,1),0,new Rn(l,a),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=Mb.fromModelState(Ub.moveToBeginningOfBuffer(e.cursorConfig,e.model,s.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=Mb.fromModelState(Ub.moveToEndOfBuffer(e.cursorConfig,e.model,s.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return Mb.fromModelState(new Eb(new br(1,1,1,1),0,new Rn(i,n),0))}static line(e,t,i,n,o){const s=e.model.validatePosition(n),r=o?e.coordinatesConverter.validateViewPosition(new Rn(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i||!t.modelState.hasSelection()){const t=e.model.getLineCount();let i=s.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),Mb.fromModelState(new Eb(new br(s.lineNumber,1,i,n),0,new Rn(i,n),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<a)return Mb.fromViewState(t.viewState.move(t.modelState.hasSelection(),r.lineNumber,1,0));if(s.lineNumber>a){const i=e.getLineCount();let n=r.lineNumber+1,o=1;return n>i&&(n=i,o=e.getLineMaxColumn(n)),Mb.fromViewState(t.viewState.move(t.modelState.hasSelection(),n,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return Mb.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,i,n){const o=e.model.validatePosition(n);return Mb.fromModelState(jb.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Mb(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return Mb.fromViewState(new Eb(new br(i,n,i,n),0,new Rn(i,n),0))}static moveTo(e,t,i,n,o){const s=e.model.validatePosition(n),r=o?e.coordinatesConverter.validateViewPosition(new Rn(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return Mb.fromViewState(t.viewState.move(i,r.lineNumber,r.column,0))}static simpleMove(e,t,i,n,o,s){switch(i){case 0:return 4===s?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return 4===s?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return 2===s?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return 2===s?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return 2===s?t.map((t=>Mb.fromViewState(Ub.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>Mb.fromModelState(Ub.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 5:return 2===s?t.map((t=>Mb.fromViewState(Ub.moveToNextBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>Mb.fromModelState(Ub.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){const s=e.getCompletelyVisibleViewRange(),r=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{const i=this._firstLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 13:{const i=this._lastLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 12:{const i=Math.round((r.startLineNumber+r.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 14:{let i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=this.findPositionInViewportIfOutside(e,r,s,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new Mb(t.modelState,t.viewState);{let s;s=o>i.endLineNumber-1?i.endLineNumber-1:o<i.startLineNumber?i.startLineNumber:o;const r=Ub.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,s,!1);return Mb.fromViewState(t.viewState.move(n,r.lineNumber,r.column,r.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map((t=>Mb.fromViewState(Ub.moveLeft(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineLeft(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round(e.getLineContent(r).length/2);n[o]=Mb.fromViewState(Ub.moveLeft(e.cursorConfig,e,s.viewState,i,a))}return n}static _moveRight(e,t,i,n){return t.map((t=>Mb.fromViewState(Ub.moveRight(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineRight(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round(e.getLineContent(r).length/2);n[o]=Mb.fromViewState(Ub.moveRight(e.cursorConfig,e,s.viewState,i,a))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Mb.fromViewState(Ub.moveDown(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Mb.fromModelState(Ub.moveDown(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Mb.fromViewState(Ub.moveUp(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Mb.fromModelState(Ub.moveUp(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return Mb.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return Mb.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMinColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(r)+e.getLineMinColumn(r))/2);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMaxColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}}var Zb,Jb;(Jb=Zb||(Zb={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!be(e))return!1;let t=e;return!(!_e(t.to)||!Ce(t.select)&&!we(t.select)||!Ce(t.by)&&!_e(t.by)||!Ce(t.value)&&!ve(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},Jb.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},Jb.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},Jb.parse=function(e){if(!e.to)return null;let t;switch(e.to){case Jb.RawDirection.Left:t=0;break;case Jb.RawDirection.Right:t=1;break;case Jb.RawDirection.Up:t=2;break;case Jb.RawDirection.Down:t=3;break;case Jb.RawDirection.PrevBlankLine:t=4;break;case Jb.RawDirection.NextBlankLine:t=5;break;case Jb.RawDirection.WrappedLineStart:t=6;break;case Jb.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case Jb.RawDirection.WrappedLineColumnCenter:t=8;break;case Jb.RawDirection.WrappedLineEnd:t=9;break;case Jb.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case Jb.RawDirection.ViewPortTop:t=11;break;case Jb.RawDirection.ViewPortBottom:t=13;break;case Jb.RawDirection.ViewPortCenter:t=12;break;case Jb.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let i=0;switch(e.by){case Jb.RawUnit.Line:i=1;break;case Jb.RawUnit.WrappedLine:i=2;break;case Jb.RawUnit.Character:i=3;break;case Jb.RawUnit.HalfLine:i=4}return{direction:t,unit:i,select:!!e.select,value:e.value||1}};const Qb=Object.create(null);function Yb(e,t){if(t<=0)return"";Qb[e]||(Qb[e]=["",e]);const i=Qb[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}class Xb{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,o){const s=wg.visibleColumnFromColumn(e,t,i);if(o){const e=Yb(" ",n);return Yb(e,wg.prevIndentTabStop(s,n)/n)}return Yb("\t",wg.prevRenderTabStop(s,i)/i)}static shiftIndent(e,t,i,n,o){const s=wg.visibleColumnFromColumn(e,t,i);if(o){const e=Yb(" ",n);return Yb(e,wg.nextIndentTabStop(s,n)/n)}return Yb("\t",wg.nextRenderTabStop(s,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let n=this._selection.endLineNumber;1===this._selection.endColumn&&i!==n&&(n-=1);const{tabSize:o,indentSize:s,insertSpaces:r}=this._opts,a=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,d=0;for(let c=i;c<=n;c++,l=d){d=0;let n,h=e.getLineContent(c),u=co(h);if((!this._opts.isUnshift||0!==h.length&&0!==u)&&(a||this._opts.isUnshift||0!==h.length)){if(-1===u&&(u=h.length),c>1){if(wg.visibleColumnFromColumn(h,u+1,o)%s!=0&&e.isCheapToTokenize(c-1)){let t=Uu.getEnterAction(this._opts.autoIndent,e,new br(c-1,e.getLineMaxColumn(c-1),c-1,e.getLineMaxColumn(c-1)));if(t){if(d=l,t.appendText)for(let e=0,i=t.appendText.length;e<i&&d<s&&32===t.appendText.charCodeAt(e);e++)d++;t.removeText&&(d=Math.max(0,d-t.removeText));for(let e=0;e<d&&(0!==u&&32===h.charCodeAt(u-1));e++)u--}}}this._opts.isUnshift&&0===u||(n=this._opts.isUnshift?Xb.unshiftIndent(h,u+1,o,s,r):Xb.shiftIndent(h,u+1,o,s,r),this._addEditOperation(t,new br(c,1,c,u+1),n),c!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=u+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);const o=r?Yb(" ",s):"\t";for(let r=i;r<=n;r++){const n=e.getLineContent(r);let l=co(n);if((!this._opts.isUnshift||0!==n.length&&0!==l)&&((a||this._opts.isUnshift||0!==n.length)&&(-1===l&&(l=n.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,s);for(let e=0;e<l;e++){if(9===n.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new br(r,1,r,l+1),"")}else this._addEditOperation(t,new br(r,1,r,1),o),r!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let e=t.getInverseEditOperations()[0];return new vr(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let e=this._selection.startColumn;return i.startColumn<=e?i:0===i.getDirection()?new vr(i.startLineNumber,e,i.endLineNumber,i.endColumn):new vr(i.endLineNumber,i.endColumn,i.startLineNumber,e)}return i}}class ev{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new br(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new br(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new vr(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class tv{static indent(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new Xb(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new Xb(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return i=i||1,Xb.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,Xb.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let o=[];for(let s=0,r=i.length;s<r;s++)o[s]=new Pb(i[s],n[s]);return new Ab(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){let s=[];for(let r=0,a=i.length;r<a;r++){const e=i[r];let t=e.getPosition();if(o&&!e.isEmpty()&&(o=!1),o&&n.indexOf("\n")!==n.length-1&&(o=!1),o){let i=new br(t.lineNumber,1,t.lineNumber,1);s[r]=new Vb(i,n,e,!0)}else s[r]=new Pb(e,n)}return new Ab(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,o){if(n)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));let e=lo(i);if(e.length===t.length)return e}return null}static paste(e,t,i,n,o,s){const r=this._distributePasteToCursors(e,i,n,o,s);return r?(i=i.sort(br.compareRangesUsingStarts),this._distributedPaste(e,t,i,r)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,o="";const s=Uu.getInheritIndentForLine(e.autoIndent,t,i,!1);if(s)n=s.action,o=s.indentation;else if(i>1){let n;for(n=i-1;n>=1;n--){if(uo(t.getLineContent(n))>=0)break}if(n<1)return null;const s=t.getLineMaxColumn(n),r=Uu.getEnterAction(e.autoIndent,t,new br(n,s,n,s));r&&(o=r.indentation+r.appendText)}return n&&(n===Kh.Indent&&(o=tv.shiftIndent(e,o)),n===Kh.Outdent&&(o=tv.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,n){let o="",s=i.getStartPosition();if(e.insertSpaces){let i=wg.visibleColumnFromColumn2(e,t,s),n=e.indentSize,r=n-i%n;for(let e=0;e<r;e++)o+=" "}else o="\t";return new Pb(i,o,n)}static tab(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o];if(s.isEmpty()){let i=t.getLineContent(s.startLineNumber);if(/^\s*$/.test(i)&&t.isCheapToTokenize(s.startLineNumber)){let r=this._goodIndentForLine(e,t,s.startLineNumber);r=r||"\t";let a=e.normalizeIndentation(r);if(!i.startsWith(a)){n[o]=new Pb(new br(s.startLineNumber,1,s.startLineNumber,i.length+1),a,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,s,!0)}else{if(s.startLineNumber===s.endLineNumber){let i=t.getLineMaxColumn(s.startLineNumber);if(1!==s.startColumn||s.endColumn!==i){n[o]=this._replaceJumpToNextIndent(e,t,s,!1);continue}}n[o]=new Xb(s,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static compositionType(e,t,i,n,o,s,r,a){const l=n.map((e=>this._compositionType(i,e,o,s,r,a)));return new Ab(4,l,{shouldPushStackElementBefore:ov(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,s){if(!t.isEmpty())return null;const r=t.getPosition(),a=Math.max(1,r.column-n),l=Math.min(e.getLineMaxColumn(r.lineNumber),r.column+o),d=new br(r.lineNumber,a,r.lineNumber,l);return e.getValueInRange(d)===i&&0===s?null:new Wb(d,i,0,s)}static _typeCommand(e,t,i){return i?new Bb(e,t,!0):new Pb(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return tv._typeCommand(n,"\n",i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){let o=ho(t.getLineContent(n.startLineNumber)).substring(0,n.startColumn-1);return tv._typeCommand(n,"\n"+e.normalizeIndentation(o),i)}const o=Uu.getEnterAction(e.autoIndent,t,n);if(o){if(o.indentAction===Kh.None)return tv._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Kh.Indent)return tv._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Kh.IndentOutdent){const t=e.normalizeIndentation(o.indentation),s=e.normalizeIndentation(o.indentation+o.appendText),r="\n"+s+"\n"+t;return i?new Bb(n,r,!0):new Wb(n,r,-1,s.length-t.length,!0)}if(o.indentAction===Kh.Outdent){const t=tv.unshiftIndent(e,o.indentation);return tv._typeCommand(n,"\n"+e.normalizeIndentation(t+o.appendText),i)}}const s=ho(t.getLineContent(n.startLineNumber)).substring(0,n.startColumn-1);if(e.autoIndent>=4){const o=Uu.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:t=>tv.unshiftIndent(e,t),shiftIndent:t=>tv.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(o){let s=wg.visibleColumnFromColumn2(e,t,n.getEndPosition());const r=n.endColumn,a=co(t.getLineContent(n.endLineNumber));if(n=a>=0?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,a+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new Bb(n,"\n"+e.normalizeIndentation(o.afterEnter),!0);{let t=0;return r<=a+1&&(e.insertSpaces||(s=Math.ceil(s/e.indentSize)),t=Math.min(s+1-e.normalizeIndentation(o.afterEnter).length-1,0)),new Wb(n,"\n"+e.normalizeIndentation(o.afterEnter),0,t,!0)}}}return tv._typeCommand(n,"\n"+e.normalizeIndentation(s),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const o=Uu.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),s=Uu.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:t=>tv.shiftIndent(e,t),unshiftIndent:t=>tv.unshiftIndent(e,t)});if(null===s)return null;if(s!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===o?tv._typeCommand(new br(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+n,!1):tv._typeCommand(new br(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(o-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let s=0,r=i.length;s<r;s++){const r=i[s];if(!r.isEmpty())return!1;const a=r.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==o)return!1;const d=Rb(o);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&d)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a.lineNumber===i.startLineNumber&&a.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){let s=[];for(let r=0,a=n.length;r<a;r++){const e=n[r].getPosition(),t=new br(e.lineNumber,e.column,e.lineNumber,e.column+1);s[r]=new Pb(t,o)}return new Ab(4,s,{shouldPushStackElementBefore:ov(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=n.some((e=>t.startsWith(e.open))),r=o.some((e=>t.startsWith(e.close)));return!s&&r}static _findAutoClosingPairOpen(e,t,i,n){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let s=null;for(const r of o)if(null===s||r.open.length>s.open.length){let e=!0;for(const o of i){if(t.getValueInRange(new br(o.lineNumber,o.column-r.open.length+1,o.lineNumber,o.column))+n!==r.open){e=!1;break}}e&&(s=r)}return s}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";const i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const s of n)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!o||s.open.length>o.open.length)&&(o=s);return o?o.close:""}static _getAutoClosingPairClose(e,t,i,o,s){const r=Rb(o),a=r?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===a)return null;const l=this._findAutoClosingPairOpen(e,t,i.map((e=>e.getPosition())),o);if(!l)return null;const d=this._findSubAutoClosingPairClose(e,l);let c=!0;const h=r?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let u=0,g=i.length;u<g;u++){const r=i[u];if(!r.isEmpty())return null;const g=r.getPosition(),m=t.getLineContent(g.lineNumber),p=m.substring(g.column-1);if(p.startsWith(d)||(c=!1),m.length>g.column-1){const t=m.charAt(g.column-1);if(!tv._isBeforeClosingBrace(e,p)&&!h(t))return null}if(!t.isCheapToTokenize(g.lineNumber))return null;if(1===l.open.length&&("'"===o||'"'===o)&&"always"!==a){const t=Zl(e.wordSeparators);if(s&&g.column>1&&0===t.get(m.charCodeAt(g.column-2)))return null;if(!s&&g.column>2&&0===t.get(m.charCodeAt(g.column-3)))return null}t.forceTokenization(g.lineNumber);const f=t.getLineTokens(g.lineNumber);let _=!1;try{_=Uu.shouldAutoClosePair(l,f,s?g.column:g.column-1)}catch(G1){n(G1)}if(!_)return null}return c?l.close.substring(0,l.close.length-d.length):l.close}static _runAutoClosingOpenCharType(e,t,i,n,o,s,r){let a=[];for(let l=0,d=n.length;l<d;l++){const e=n[l];a[l]=new iv(e,o,s,r)}return new Ab(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Rb(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!tv._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const o=Rb(n);for(let s=0,r=i.length;s<r;s++){const e=i[s];if(e.isEmpty())return!1;let n=!0;for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const o=t.getLineContent(i),s=i===e.startLineNumber?e.startColumn-1:0,r=i===e.endLineNumber?e.endColumn-1:o.length,a=o.substring(s,r);if(/[^ \t]/.test(a)){n=!1;break}}if(n)return!1;if(o&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){if(Rb(t.getValueInRange(e)))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){let s=[];for(let r=0,a=n.length;r<a;r++){const e=n[r],i=t.surroundingPairs[o];s[r]=new ev(e,o,i)}return new Ab(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,o,s){if(!t.electricChars.hasOwnProperty(s)||!o.isEmpty())return null;let r=o.getPosition();i.forceTokenization(r.lineNumber);let a,l=i.getLineTokens(r.lineNumber);try{a=Uu.onElectricCharacter(s,l,r.column)}catch(G1){return n(G1),null}if(!a)return null;if(a.matchOpenBracket){let n=(l.getLineContent()+s).lastIndexOf(a.matchOpenBracket)+1,o=i.findMatchingBracketUp(a.matchOpenBracket,{lineNumber:r.lineNumber,column:n});if(o){if(o.startLineNumber===r.lineNumber)return null;let n=ho(i.getLineContent(o.startLineNumber)),a=t.normalizeIndentation(n),l=i.getLineContent(r.lineNumber),d=i.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,c=a+l.substring(d-1,r.column-1)+s,h=new br(r.lineNumber,1,r.lineNumber,r.column);const u=new Pb(h,c);return new Ab(nv(c,e),[u],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,s){if(!n||vr.selectionsArrEqual(n,o))return null;let r=null;for(const l of o){if(!l.isEmpty())return null;const e=l.getPosition(),t=i.getValueInRange(new br(e.lineNumber,e.column-1,e.lineNumber,e.column));if(null===r)r=t;else if(r!==t)return null}if(!r)return null;if(this._isAutoClosingOvertype(t,i,o,s,r)){const e=o.map((e=>new Pb(new br(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new Ab(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const a=this._getAutoClosingPairClose(t,i,o,r,!1);return null!==a?this._runAutoClosingOpenCharType(e,t,i,o,r,!1,a):null}static typeWithInterceptors(e,t,i,n,o,s,r){if(!e&&"\n"===r){let e=[];for(let t=0,s=o.length;t<s;t++)e[t]=tv._enter(i,n,!1,o[t]);return new Ab(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){let e=[],t=!1;for(let s=0,a=o.length;s<a;s++)if(e[s]=this._runAutoIndentType(i,n,o[s],r),!e[s]){t=!0;break}if(!t)return new Ab(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,o,s,r))return this._runAutoClosingOvertype(t,i,n,o,r);if(!e){const e=this._getAutoClosingPairClose(i,n,o,r,!0);if(e)return this._runAutoClosingOpenCharType(t,i,n,o,r,!0,e)}if(this._isSurroundSelectionType(i,n,o,r))return this._runSurroundSelectionType(t,i,n,o,r);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){const e=this._typeInterceptorElectricChar(t,i,n,o[0],r);if(e)return e}let a=[];for(let d=0,c=o.length;d<c;d++)a[d]=new Pb(o[d],r);const l=nv(r,t);return new Ab(l,a,{shouldPushStackElementBefore:ov(t,l),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){let s=[];for(let a=0,l=n.length;a<l;a++)s[a]=new Pb(n[a],o);const r=nv(o,e);return new Ab(r,s,{shouldPushStackElementBefore:ov(e,r),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,s=i.length;o<s;o++){let s=i[o].positionLineNumber;if(1===s)n[o]=new Bb(new br(1,1,1,1),"\n");else{s--;let i=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new br(s,i,s,i))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o].positionLineNumber;let r=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new br(s,r,s,r))}return n}static lineBreakInsert(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class iv extends Wb{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new br(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new br(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}function nv(e,t){return" "===e?5===t||6===t?6:5:4}function ov(e,t){return!(!rv(e)||rv(t))||5!==e&&sv(e)!==sv(t)}function sv(e){return 6===e||5===e?"space":e}function rv(e){return 4===e||5===e||6===e}var av,lv;(lv=av||(av={})).editorSimpleInput=new fs("editorSimpleInput",!1,!0),lv.editorTextFocus=new fs("editorTextFocus",!1,t("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),lv.focus=new fs("editorFocus",!1,t("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),lv.textInputFocus=new fs("textInputFocus",!1,t("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),lv.readOnly=new fs("editorReadonly",!1,t("editorReadonly","Whether the editor is read only")),lv.inDiffEditor=new fs("inDiffEditor",!1,t("inDiffEditor","Whether the context is a diff editor")),lv.columnSelection=new fs("editorColumnSelection",!1,t("editorColumnSelection","Whether `editor.columnSelection` is enabled")),lv.writable=lv.readOnly.toNegated(),lv.hasNonEmptySelection=new fs("editorHasSelection",!1,t("editorHasSelection","Whether the editor has text selected")),lv.hasOnlyEmptySelection=lv.hasNonEmptySelection.toNegated(),lv.hasMultipleSelections=new fs("editorHasMultipleSelections",!1,t("editorHasMultipleSelections","Whether the editor has multiple selections")),lv.hasSingleSelection=lv.hasMultipleSelections.toNegated(),lv.tabMovesFocus=new fs("editorTabMovesFocus",!1,t("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),lv.tabDoesNotMoveFocus=lv.tabMovesFocus.toNegated(),lv.isInWalkThroughSnippet=new fs("isInEmbeddedEditor",!1,!0),lv.canUndo=new fs("canUndo",!1,!0),lv.canRedo=new fs("canRedo",!1,!0),lv.hoverVisible=new fs("editorHoverVisible",!1,t("editorHoverVisible","Whether the editor hover is visible")),lv.inCompositeEditor=new fs("inCompositeEditor",void 0,t("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),lv.notInCompositeEditor=lv.inCompositeEditor.toNegated(),lv.languageId=new fs("editorLangId","",t("editorLangId","The language identifier of the editor")),lv.hasCompletionItemProvider=new fs("editorHasCompletionItemProvider",!1,t("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),lv.hasCodeActionsProvider=new fs("editorHasCodeActionsProvider",!1,t("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),lv.hasCodeLensProvider=new fs("editorHasCodeLensProvider",!1,t("editorHasCodeLensProvider","Whether the editor has a code lens provider")),lv.hasDefinitionProvider=new fs("editorHasDefinitionProvider",!1,t("editorHasDefinitionProvider","Whether the editor has a definition provider")),lv.hasDeclarationProvider=new fs("editorHasDeclarationProvider",!1,t("editorHasDeclarationProvider","Whether the editor has a declaration provider")),lv.hasImplementationProvider=new fs("editorHasImplementationProvider",!1,t("editorHasImplementationProvider","Whether the editor has an implementation provider")),lv.hasTypeDefinitionProvider=new fs("editorHasTypeDefinitionProvider",!1,t("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),lv.hasHoverProvider=new fs("editorHasHoverProvider",!1,t("editorHasHoverProvider","Whether the editor has a hover provider")),lv.hasDocumentHighlightProvider=new fs("editorHasDocumentHighlightProvider",!1,t("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),lv.hasDocumentSymbolProvider=new fs("editorHasDocumentSymbolProvider",!1,t("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),lv.hasReferenceProvider=new fs("editorHasReferenceProvider",!1,t("editorHasReferenceProvider","Whether the editor has a reference provider")),lv.hasRenameProvider=new fs("editorHasRenameProvider",!1,t("editorHasRenameProvider","Whether the editor has a rename provider")),lv.hasSignatureHelpProvider=new fs("editorHasSignatureHelpProvider",!1,t("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),lv.hasInlayHintsProvider=new fs("editorHasInlayHintsProvider",!1,t("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),lv.hasDocumentFormattingProvider=new fs("editorHasDocumentFormattingProvider",!1,t("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),lv.hasDocumentSelectionFormattingProvider=new fs("editorHasDocumentSelectionFormattingProvider",!1,t("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),lv.hasMultipleDocumentFormattingProvider=new fs("editorHasMultipleDocumentFormattingProvider",!1,t("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),lv.hasMultipleDocumentSelectionFormattingProvider=new fs("editorHasMultipleDocumentSelectionFormattingProvider",!1,t("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"));class dv extends ir{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}var cv,hv,uv,gv,mv;(hv=cv||(cv={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!be(e))return!1;const t=e;return!(!_e(t.to)||!Ce(t.by)&&!_e(t.by)||!Ce(t.value)&&!ve(t.value)||!Ce(t.revealCursor)&&!we(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},hv.RawDirection={Up:"up",Down:"down"},hv.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},hv.parse=function(e){let t,i;switch(e.to){case hv.RawDirection.Up:t=1;break;case hv.RawDirection.Down:t=2;break;default:return null}switch(e.by){case hv.RawUnit.Line:i=1;break;case hv.RawUnit.WrappedLine:i=2;break;case hv.RawUnit.Page:i=3;break;case hv.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:t,unit:i,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(gv=uv||(uv={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!be(e))return!1;const t=e;return!(!ve(t.lineNumber)&&!_e(t.lineNumber)||!Ce(t.at)&&!_e(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},gv.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class pv{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(An).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(e,i,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const i=e.get(An).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))}))}_runEditorCommand(e,t,i){const n=this.runEditorCommand(e,t,i);return n||!0}}!function(e){class i extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[Gb.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=rr(new i({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=rr(new i({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class n extends dv{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,i.viewStates.map((e=>Mb.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=rr(new class extends n{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){const o=e.model.validatePosition(n.position),s=e.coordinatesConverter.validateViewPosition(new Rn(n.viewPosition.lineNumber,n.viewPosition.column),o);let r=n.doColumnSelect?i.fromViewLineNumber:s.lineNumber,a=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return Ob.columnSelect(e.cursorConfig,e,r,a,s.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=rr(new class extends n{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return Ob.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=rr(new class extends n{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return Ob.columnSelectRight(e.cursorConfig,e,i)}});class o extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return Ob.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=rr(new o({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=rr(new o({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3595,linux:{primary:0}}}));class s extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return Ob.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=rr(new s({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=rr(new s({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3596,linux:{primary:0}}}));class r extends dv{constructor(){super({id:"cursorMove",precondition:void 0,description:Zb.description})}runCoreEditorCommand(e,t){const i=Zb.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,r._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){const n=i.select,o=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Gb.simpleMove(e,t,i.direction,n,o,i.unit);case 11:case 13:case 12:case 14:return Gb.viewportMove(e,t,i.direction,n,o);default:return null}}}e.CursorMoveImpl=r,e.CursorMove=rr(new r);class a extends dv{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,Gb.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=rr(new a({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=rr(new a({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1039}})),e.CursorRight=rr(new a({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=rr(new a({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1041}})),e.CursorUp=rr(new a({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=rr(new a({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=rr(new a({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:11}})),e.CursorPageUpSelect=rr(new a({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1035}})),e.CursorDown=rr(new a({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=rr(new a({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=rr(new a({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:12}})),e.CursorPageDownSelect=rr(new a({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1036}})),e.CreateCursor=rr(new class extends dv{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let i;i=t.wholeLine?Gb.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):Gb.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(n.length>1){const o=i.modelState?i.modelState.position:null,s=i.viewState?i.viewState.position:null;for(let i=0,r=n.length;i<r;i++){const r=n[i];if((!o||r.modelState.selection.containsPosition(o))&&(!s||r.viewState.selection.containsPosition(s)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=rr(new class extends dv{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=Gb.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class l extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,Gb.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=rr(new l({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=rr(new l({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class d extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=n.modelState.position.lineNumber;t[i]=Mb.fromModelState(n.modelState.move(this._inSelectionMode,o,1,0))}return t}}e.CursorLineStart=rr(new d({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=rr(new d({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,Gb.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=rr(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:av.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:t("vs/editor/browser/controller/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=rr(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:av.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:t("vs/editor/browser/controller/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class h extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.position.lineNumber,r=e.model.getLineMaxColumn(s);i[n]=Mb.fromModelState(o.modelState.move(this._inSelectionMode,s,r,0))}return i}}e.CursorLineEnd=rr(new h({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=rr(new h({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:0,mac:{primary:1315}}}));class u extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,Gb.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=rr(new u({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=rr(new u({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3086,mac:{primary:3088}}}));class g extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,Gb.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=rr(new g({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=rr(new g({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:3085,mac:{primary:3090}}}));class m extends dv{constructor(){super({id:"editorScroll",precondition:void 0,description:cv.description})}runCoreEditorCommand(e,t){const i=cv.parse(t);i&&this._runEditorScroll(e,t.source,i)}_runEditorScroll(e,t,i){const n=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const o=e.getCompletelyVisibleViewRangeAtScrollTop(n);e.setCursorStates(t,3,[Gb.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,i.select)])}e.setScrollTop(n,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.getCompletelyVisibleViewRange(),n=e.coordinatesConverter.convertViewRangeToModelRange(i);let o;o=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);const s=e.coordinatesConverter.convertModelPositionToViewPosition(new Rn(o,1));return e.getVerticalOffsetForLineNumber(s.lineNumber)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const n=(1===t.direction?-1:1)*i;return e.getScrollTop()+n*e.cursorConfig.lineHeight}}e.EditorScrollImpl=m,e.EditorScroll=rr(new m),e.ScrollLineUp=rr(new class extends dv{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=rr(new class extends dv{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=rr(new class extends dv{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=rr(new class extends dv{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class p extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[Gb.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=rr(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=rr(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=rr(new class extends dv{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0),s=n[i];o[i]=Gb.word(e,s,s.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class f extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[Gb.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=rr(new f({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=rr(new f({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class _ extends dv{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=Gb.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=rr(new _({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=rr(new _({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=rr(new class extends dv{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,Gb.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=rr(new class extends dv{constructor(){super({id:"cancelSelection",precondition:av.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[Gb.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=rr(new class extends dv{constructor(){super({id:"removeSecondaryCursors",precondition:av.hasMultipleSelections,kbOpts:{weight:1,kbExpr:av.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,i){e.model.pushStackElement(),e.setCursorStates(i.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(i.source,!0),xn(t("vs/editor/browser/controller/coreCommands","removedCursor","Removed secondary cursors"))}}),e.RevealLine=rr(new class extends dv{constructor(){super({id:"revealLine",precondition:void 0,description:uv.description})}runCoreEditorCommand(e,t){const i=t,n=i.lineNumber||0;let o="number"==typeof n?n+1:parseInt(n)+1;o<1&&(o=1);const s=e.model.getLineCount();o>s&&(o=s);const r=new br(o,1,o,e.model.getLineMaxColumn(o));let a=0;if(i.at)switch(i.at){case uv.RawAtArgument.Top:a=3;break;case uv.RawAtArgument.Center:a=1;break;case uv.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(r);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends pv{constructor(){super(_r)}runDOMCommand(){de&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[Gb.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=rr(new class extends dv{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[Mb.fromModelSelection(t.selection)])}})}(mv||(mv={}));const fv=Jo.and(av.textInputFocus,av.columnSelection);function _v(e,t){Us.registerKeybindingRule({id:e,primary:t,when:fv,weight:1})}function bv(e){return e.register(),e}var vv;_v(mv.CursorColumnSelectLeft.id,1039),_v(mv.CursorColumnSelectRight.id,1041),_v(mv.CursorColumnSelectUp.id,1040),_v(mv.CursorColumnSelectPageUp.id,1035),_v(mv.CursorColumnSelectDown.id,1042),_v(mv.CursorColumnSelectPageDown.id,1036),function(e){class t extends ir{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=rr(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:av.writable,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,tv.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=rr(new class extends t{constructor(){super({id:"outdent",precondition:av.writable,kbOpts:{weight:0,kbExpr:Jo.and(av.editorTextFocus,av.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,tv.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=rr(new class extends t{constructor(){super({id:"tab",precondition:av.writable,kbOpts:{weight:0,kbExpr:Jo.and(av.editorTextFocus,av.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,tv.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=rr(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[n,o]=Kb.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=rr(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:av.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[n,o]=Kb.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends pv{constructor(){super(pr)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().undo()}},e.Redo=new class extends pv{constructor(){super(fr)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().redo()}}}(vv||(vv={}));class wv extends Xs{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(An).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function Cv(e,t){bv(new wv("default:"+e,e)),bv(new wv(e,e,t))}Cv("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),Cv("replacePreviousChar"),Cv("compositionType"),Cv("compositionStart"),Cv("compositionEnd"),Cv("paste"),Cv("cut");const yv=Tn("markerDecorationsService");let Sv=class{constructor(e,t){}dispose(){}};var kv,xv;Sv.ID="editor.contrib.markerDecorations",Sv=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(kv=1,xv=yv,function(e,t){xv(e,t,kv)})],Sv),cr(Sv.ID,Sv);class Lv{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class Dv{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=this._bareFontInfo.getMassagedFontFamily(ue?Gr.fontFamily:null),t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const i=document.createElement("div");i.style.fontFamily=e,i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);const n=document.createElement("div");n.style.fontFamily=e,n.style.fontWeight="bold",n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);const o=document.createElement("div");o.style.fontFamily=e,o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",t.appendChild(o);const s=[];for(const r of this._requests){let e;0===r.type&&(e=i),2===r.type&&(e=n),1===r.type&&(e=o),e.appendChild(document.createElement("br"));const t=document.createElement("span");Dv._render(t,r),e.appendChild(t),s.push(t)}this._container=t,this._testElements=s}static _render(e,t){if(" "===t.chr){let t=" ";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}}class Ev extends v{constructor(e,t,i){super(),this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver((e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()})),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval((()=>this.observe()),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,e&&this.changeCallback())}}const Nv=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new X,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Iv=B?1.5:1.35;class Tv{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i,n){const o=e.get(42),s=e.get(46),r=e.get(45),a=e.get(44),l=e.get(58),d=e.get(55);return Tv._create(o,s,r,a,l,d,t,i,n)}static _create(e,t,i,n,o,s,r,a,l){0===o?o=Iv*i:o<8&&(o*=i),(o=Math.round(o))<8&&(o=8);const d=1+(l?0:.1*Nv.getZoomLevel());return new Tv({zoomLevel:r,pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i*=d,fontFeatureSettings:n,lineHeight:o*=d,letterSpacing:s})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(e){const t=Tv._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}class Mv extends Tv{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}const Av=Object.prototype.hasOwnProperty;class Rv{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}const Ov=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new X,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},Pv=Object.hasOwnProperty;class Fv{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Bv{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Wv{static readOptions(e){const t=e,i=new Bv;for(const n of Jr){const e="_never_"===n.name?void 0:t[n.name];i._write(n.id,e)}return i}static validateOptions(e){const t=new Lr;for(const i of Jr)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){const i=new Fv;for(const n of Jr)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&ud(e,t);for(let i in e)if(!Wv._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const o of Jr){const s=!Wv._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(n=!0)}return n?new xr(i):null}}function Vv(e){const t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");const i=e.lineNumbers;!0===i?e.lineNumbers="on":!1===i&&(e.lineNumbers="off");!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never");"visible"===e.cursorBlinking&&(e.cursorBlinking="solid");const n=e.renderWhitespace;!0===n?e.renderWhitespace="boundary":!1===n&&(e.renderWhitespace="none");const o=e.renderLineHighlight;!0===o?e.renderLineHighlight="line":!1===o&&(e.renderLineHighlight="none");const s=e.acceptSuggestionOnEnter;!0===s?e.acceptSuggestionOnEnter="on":!1===s&&(e.acceptSuggestionOnEnter="off");const r=e.tabCompletion;!1===r?e.tabCompletion="off":!0===r&&(e.tabCompletion="onlySnippets");const a=e.suggest;if(a&&"object"==typeof a.filteredTypes&&a.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};(function(e,t){for(let i in e)if(Av.call(e,i)&&!1===t({key:i,value:e[i]},(function(){delete e[i]})))return})(e,(e=>{const t=a.filteredTypes[e.key];!1===t&&(a[e.value]=t)}))}const l=e.hover;!0===l?e.hover={enabled:!0}:!1===l&&(e.hover={enabled:!1});const d=e.parameterHints;!0===d?e.parameterHints={enabled:!0}:!1===d&&(e.parameterHints={enabled:!1});const c=e.autoIndent;!0===c?e.autoIndent="full":!1===c&&(e.autoIndent="advanced");const h=e.matchBrackets;!0===h?e.matchBrackets="always":!1===h&&(e.matchBrackets="never");const{renderIndentGuides:u,highlightActiveIndentGuide:g}=e;e.guides||(e.guides={}),void 0!==u&&(e.guides.indentation=!!u),void 0!==g&&(e.guides.highlightActiveIndentation=!!g)}function Hv(e){const t=Xr(e);return Vv(t),t}class zv extends v{constructor(e,t){super(),this._onDidChange=this._register(new X),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new X),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new Dr,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=Hv(t),this._readOptions=Wv.readOptions(this._rawOptions),this._validatedOptions=Wv.validateOptions(this._readOptions),this._register(Nv.onDidChangeZoomLevel((e=>this._recomputeOptions()))),this._register(Ov.onDidChangeTabFocus((e=>this._recomputeOptions())))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(e){const i=Wv.checkEquals(e,t);if(null===i)return;this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i)}else this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=Tv.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:Ov.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Wv.computeOptions(this._validatedOptions,i)}static _subsetEquals(e,t){for(const i in t)if(Pv.call(t,i)){const n=t[i],o=e[i];if(o===n)continue;if(Array.isArray(o)&&Array.isArray(n)){if(!ud(o,n))return!1;continue}if(o&&"object"==typeof o&&n&&"object"==typeof n){if(!this._subsetEquals(o,n))return!1;continue}return!1}return!0}updateOptions(e){if(void 0===e)return;const t=Hv(e);zv._subsetEquals(this._rawOptions,t)||(this._rawOptions=na(this._rawOptions,t||{}),this._readOptions=Wv.readOptions(this._rawOptions),this._validatedOptions=Wv.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=zv._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const Uv=Object.freeze({id:"editor",order:5,type:"object",title:t("vs/editor/common/config/commonEditorConfig","editorConfigurationTitle","Editor"),scope:5}),Kv=Ss.as(pu),jv=Object.assign(Object.assign({},Uv),{properties:{"editor.tabSize":{type:"number",default:Zr.tabSize,minimum:1,markdownDescription:t("vs/editor/common/config/commonEditorConfig","tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Zr.insertSpaces,markdownDescription:t("vs/editor/common/config/commonEditorConfig","insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Zr.detectIndentation,markdownDescription:t("vs/editor/common/config/commonEditorConfig","detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Zr.trimAutoWhitespace,description:t("vs/editor/common/config/commonEditorConfig","trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Zr.largeFileOptimizations,description:t("vs/editor/common/config/commonEditorConfig","largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:t("vs/editor/common/config/commonEditorConfig","wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[t("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),t("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),t("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:t("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[t("vs/editor/common/config/commonEditorConfig","semanticHighlighting.true","Semantic highlighting enabled for all color themes."),t("vs/editor/common/config/commonEditorConfig","semanticHighlighting.false","Semantic highlighting disabled for all color themes."),t("vs/editor/common/config/commonEditorConfig","semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:t("vs/editor/common/config/commonEditorConfig","semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:t("vs/editor/common/config/commonEditorConfig","stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:t("vs/editor/common/config/commonEditorConfig","maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:t("vs/editor/common/config/commonEditorConfig","schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:t("vs/editor/common/config/commonEditorConfig","schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:t("vs/editor/common/config/commonEditorConfig","schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:t("vs/editor/common/config/commonEditorConfig","schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:t("vs/editor/common/config/commonEditorConfig","schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:t("vs/editor/common/config/commonEditorConfig","schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:t("vs/editor/common/config/commonEditorConfig","maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:t("vs/editor/common/config/commonEditorConfig","maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:t("vs/editor/common/config/commonEditorConfig","sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:t("vs/editor/common/config/commonEditorConfig","ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:t("vs/editor/common/config/commonEditorConfig","renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:t("vs/editor/common/config/commonEditorConfig","codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[t("vs/editor/common/config/commonEditorConfig","wordWrap.off","Lines will never wrap."),t("vs/editor/common/config/commonEditorConfig","wordWrap.on","Lines will wrap at the viewport width."),t("vs/editor/common/config/commonEditorConfig","wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(const Z1 of Jr){const e=Z1.schema;if(void 0!==e)if(void 0!==($v=e).type||void 0!==$v.anyOf)jv.properties[`editor.${Z1.name}`]=e;else for(let t in e)Pv.call(e,t)&&(jv.properties[t]=e[t])}var $v;let qv=null;function Gv(){return null===qv&&(qv=Object.create(null),Object.keys(jv.properties).forEach((e=>{qv[e]=!0}))),qv}Kv.registerConfiguration(jv);class Zv{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}class Jv extends v{constructor(){super(),this._onDidChange=this._register(new X),this.onDidChange=this._onDidChange.event,this._cache=new Zv,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new Zv,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=Jv._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new Mv({zoomLevel:se(),pixelRatio:ae(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,n){const o=new Lv(e,t);return i.push(o),n&&n.push(o),o}static _actualReadConfiguration(e){const t=[],i=[],n=this.createRequest("n",0,t,i),o=this.createRequest("ｍ",0,t,null),s=this.createRequest(" ",0,t,i),r=this.createRequest("0",0,t,i),a=this.createRequest("1",0,t,i),l=this.createRequest("2",0,t,i),d=this.createRequest("3",0,t,i),c=this.createRequest("4",0,t,i),h=this.createRequest("5",0,t,i),u=this.createRequest("6",0,t,i),g=this.createRequest("7",0,t,i),m=this.createRequest("8",0,t,i),p=this.createRequest("9",0,t,i),f=this.createRequest("→",0,t,i),_=this.createRequest("￫",0,t,null),b=this.createRequest("·",0,t,i),v=this.createRequest(String.fromCharCode(11825),0,t,null),w="|/-_ilm%";for(let L=0,D=w.length;L<D;L++)this.createRequest(w.charAt(L),0,t,i),this.createRequest(w.charAt(L),1,t,i),this.createRequest(w.charAt(L),2,t,i);!function(e,t){new Dv(e,t).read()}(e,t);const C=Math.max(r.width,a.width,l.width,d.width,c.width,h.width,u.width,g.width,m.width,p.width);let y=e.fontFeatureSettings===zr.OFF;const S=i[0].width;for(let L=1,D=i.length;y&&L<D;L++){const e=S-i[L].width;if(e<-.001||e>.001){y=!1;break}}let k=!0;y&&_.width!==S&&(k=!1),_.width>f.width&&(k=!1);const x=oe.INSTANCE.getTimeSinceLastZoomLevelChanged()>2e3;return new Mv({zoomLevel:se(),pixelRatio:ae(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:y,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:k,spaceWidth:s.width,middotWidth:b.width,wsmiddotWidth:v.width,maxDigitWidth:C},x)}}Jv.INSTANCE=new Jv;class Qv extends zv{constructor(e,t,i=null,n){super(e,t),this.accessibilityService=n,this._elementSizeObserver=this._register(new Ev(i,t.dimension,(()=>this._recomputeOptions()))),this._register(Jv.INSTANCE.onDidChange((()=>this._recomputeOptions()))),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(re((e=>this._recomputeOptions()))),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions()))),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(ue?Gr.fontFamily:null),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily(ue?Gr.fontFamily:null)),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return ue||ge||(e+="no-user-select "),ue&&(e+="no-minimap-shadow "),B&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:Qv._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:ce||de,pixelRatio:ae(),zoomLevel:se(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return Jv.INSTANCE.readConfiguration(e)}}class Yv{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Xv(e){return new Yv(e)}function ew(e,t,i){let n=null,o=null;if("function"==typeof i.value?(n="value",o=i.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof i.get&&(n="get",o=i.get),!o)throw new Error("not supported");const s=`$memoize$${t}`;i[n]=function(...e){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,e)}),this[s]}}var tw,iw;(iw=tw||(tw={})).Tap="-monaco-gesturetap",iw.Change="-monaco-gesturechange",iw.Start="-monaco-gesturestart",iw.End="-monaco-gesturesend",iw.Contextmenu="-monaco-gesturecontextmenu";class nw extends v{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(_i(document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),this._register(_i(document,"touchend",(e=>this.onTouchEnd(e)))),this._register(_i(document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}static addTarget(e){return nw.isTouchDevice()?(nw.INSTANCE||(nw.INSTANCE=new nw),nw.INSTANCE.targets.push(e),{dispose:()=>{nw.INSTANCE.targets=nw.INSTANCE.targets.filter((t=>t!==e))}}):v.None}static ignoreTarget(e){return nw.isTouchDevice()?(nw.INSTANCE||(nw.INSTANCE=new nw),nw.INSTANCE.ignoreTargets.push(e),{dispose:()=>{nw.INSTANCE.ignoreTargets=nw.INSTANCE.ignoreTargets.filter((t=>t!==e))}}):v.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){let n=e.targetTouches.item(i);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:t,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[t],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};let o=this.newGestureEvent(tw.Start,n.target);o.pageX=n.pageX,o.pageY=n.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,o=e.changedTouches.length;n<o;n++){let o=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}let s=this.activeTouches[o.identifier],r=Date.now()-s.initialTimeStamp;if(r<nw.HOLD_DELAY&&Math.abs(s.initialPageX-hd(s.rollingPageX))<30&&Math.abs(s.initialPageY-hd(s.rollingPageY))<30){let e=this.newGestureEvent(tw.Tap,s.initialTarget);e.pageX=hd(s.rollingPageX),e.pageY=hd(s.rollingPageY),this.dispatchEvent(e)}else if(r>=nw.HOLD_DELAY&&Math.abs(s.initialPageX-hd(s.rollingPageX))<30&&Math.abs(s.initialPageY-hd(s.rollingPageY))<30){let e=this.newGestureEvent(tw.Contextmenu,s.initialTarget);e.pageX=hd(s.rollingPageX),e.pageY=hd(s.rollingPageY),this.dispatchEvent(e)}else if(1===i){let e=hd(s.rollingPageX),i=hd(s.rollingPageY),n=hd(s.rollingTimestamps)-s.rollingTimestamps[0],o=e-s.rollingPageX[0],r=i-s.rollingPageY[0];const a=this.targets.filter((e=>s.initialTarget instanceof Node&&e.contains(s.initialTarget)));this.inertia(a,t,Math.abs(o)/n,o>0?1:-1,e,Math.abs(r)/n,r>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(tw.End,s.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===tw.Tap){const t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>nw.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==tw.Change&&e.type!==tw.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach((t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}))}inertia(e,t,i,n,o,s,r,a){this.handle=ki((()=>{let l=Date.now(),d=l-t,c=0,h=0,u=!0;i+=nw.SCROLL_FRICTION*d,s+=nw.SCROLL_FRICTION*d,i>0&&(u=!1,c=n*i*d),s>0&&(u=!1,h=r*s*d);let g=this.newGestureEvent(tw.Change);g.translationX=c,g.translationY=h,e.forEach((e=>e.dispatchEvent(g))),u||this.inertia(e,l,i,n,o+c,s,r,a+h)}))}onTouchMove(e){let t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){let n=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}let o=this.activeTouches[n.identifier],s=this.newGestureEvent(tw.Change,o.initialTarget);s.translationX=n.pageX-hd(o.rollingPageX),s.translationY=n.pageY-hd(o.rollingPageY),s.pageX=n.pageX,s.pageY=n.pageY,this.dispatchEvent(s),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(n.pageX),o.rollingPageY.push(n.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}function ow(e,t){let i=new nt(t);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}nw.SCROLL_FRICTION=-.005,nw.HOLD_DELAY=700,nw.CLEAR_TAP_COUNT_TIME=400,function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);s>3&&r&&Object.defineProperty(t,i,r)}([ew],nw,"isTouchDevice",null);class sw{constructor(){this._hooks=new b,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,n,o){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=o;const s=it.getSameOriginWindowChain(),r=z?"pointermove":"mousemove",a=s.map((e=>e.window.document)),l=$i(e);l&&a.unshift(l);for(const d of a)this._hooks.add(Ni(d,r,(e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)}),((e,t)=>this._mouseMoveEventMerger(e,t)))),this._hooks.add(_i(d,"mouseup",(e=>this.stopMonitoring(!0))));if(it.hasDifferentOriginAncestor()){let e=s[s.length-1];this._hooks.add(_i(e.window.document,"mouseout",(e=>{"html"===new nt(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(_i(e.window.document,"mouseover",(e=>{"html"===new nt(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(_i(e.window.document.body,"mouseleave",(e=>{this.stopMonitoring(!0)})))}}}class rw{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new aw(this.x-Pi.scrollX,this.y-Pi.scrollY)}}class aw{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new rw(this.clientX+Pi.scrollX,this.clientY+Pi.scrollY)}}class lw{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}function dw(e){const t=Oi(e);return new lw(t.left,t.top,t.width,t.height)}class cw extends nt{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new rw(this.posx,this.posy),this.editorPos=dw(t)}}class hw{constructor(e){this._editorViewDomNode=e}_create(e){return new cw(e,this._editorViewDomNode)}onContextMenu(e,t){return _i(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return _i(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return _i(e,"mousedown",(e=>{t(this._create(e))}))}onMouseLeave(e,t){return yi(e,(e=>{t(this._create(e))}))}onMouseMoveThrottled(e,t,i,n){return Ni(e,"mousemove",t,((e,t)=>i(e,this._create(t))),n)}}class uw{constructor(e){this._editorViewDomNode=e}_create(e){return new cw(e,this._editorViewDomNode)}onPointerUp(e,t){return _i(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return _i(e,"pointerdown",(e=>{t(this._create(e))}))}onPointerLeave(e,t){return n=e=>{t(this._create(e))},_i(i=e,"pointerout",(e=>{let t=e.relatedTarget;for(;t&&t!==i;)t=t.parentNode;t!==i&&n(e)}));var i,n}onPointerMoveThrottled(e,t,i,n){return Ni(e,"pointermove",t,((e,t)=>i(e,this._create(t))),n)}}class gw extends v{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new sw),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=vi(document,"keydown",(e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0);this._globalMouseMoveMonitor.startMonitoring(e,t,((e,t)=>i(e,new cw(t,this._editorViewDomNode))),n,(e=>{this._keydownListener.dispose(),o(e)}))}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class mw extends v{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let n=e[i];switch(n.type){case 0:this.onCompositionStart(n)&&(t=!0);break;case 1:this.onCompositionEnd(n)&&(t=!0);break;case 2:this.onConfigurationChanged(n)&&(t=!0);break;case 3:this.onCursorStateChanged(n)&&(t=!0);break;case 4:this.onDecorationsChanged(n)&&(t=!0);break;case 5:this.onFlushed(n)&&(t=!0);break;case 6:this.onFocusChanged(n)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 8:this.onLineMappingChanged(n)&&(t=!0);break;case 9:this.onLinesChanged(n)&&(t=!0);break;case 10:this.onLinesDeleted(n)&&(t=!0);break;case 11:this.onLinesInserted(n)&&(t=!0);break;case 12:this.onRevealRangeRequest(n)&&(t=!0);break;case 13:this.onScrollChanged(n)&&(t=!0);break;case 15:this.onTokensChanged(n)&&(t=!0);break;case 14:this.onThemeChanged(n)&&(t=!0);break;case 16:this.onTokensColorsChanged(n)&&(t=!0);break;case 17:this.onZonesChanged(n)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(n)}}t&&(this._shouldRender=!0)}}class pw extends mw{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class fw{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=i[n-s-1];return o}}class _w extends class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class bw{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class vw{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){const n=e[i];t[i]=new vw(n.left,n.width)}return t}toString(){return`[${this.left},${this.width}]`}}class ww{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class Cw{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class yw{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class Sw{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,n),s.getClientRects()}catch(G1){return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(ww.compare);let t=[],i=0,n=e[0];for(let o=1,s=e.length;o<s;o++){const s=e[o];n.left+n.width+.9>=s.left?n.width=Math.max(n.width,s.left+s.width-n.left):(t[i++]=n,n=s)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];i[n]=new ww(Math.max(0,o.left-t),o.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,n,o,s,r){const a=e.children.length-1;if(0>a)return null;if((t=Math.min(a,Math.max(0,t)))===(n=Math.min(a,Math.max(0,n)))&&i===o&&0===i&&!e.children[t].firstChild){const i=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(i,s)}t!==n&&n>0&&0===o&&(n--,o=1073741824);let l=e.children[t].firstChild,d=e.children[n].firstChild;if(l&&d||(!l&&0===i&&t>0&&(l=e.children[t-1].firstChild,i=1073741824),!d&&0===o&&n>0&&(d=e.children[n-1].firstChild,o=1073741824)),!l||!d)return null;i=Math.min(l.textContent.length,Math.max(0,i)),o=Math.min(d.textContent.length,Math.max(0,o));const c=this._readClientRects(l,i,d,o,r);return this._createHorizontalRangesFromClientRects(c,s)}}class kw{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!kw._equals(e[n],t[n]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const n=t+1,o=i+1,s=i-t,r=[];let a=0;for(const l of e)l.endColumn<=n||l.startColumn>=o||(r[a++]=new kw(Math.max(1,l.startColumn-n+1),Math.min(s+1,l.endColumn-n+1),l.className,l.type));return r}static filter(e,t,i,n){if(0===e.length)return[];let o=[],s=0;for(let r=0,a=e.length;r<a;r++){const a=e[r],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const d=l.startLineNumber===t?l.startColumn:i,c=l.endLineNumber===t?l.endColumn:n;o[s++]=new kw(d,c,a.inlineClassName,a.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=kw._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class xw{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class Lw{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new xw(t,this.stopOffsets[e],this.classNames.join(" "),Lw._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new xw(t,e-1,this.classNames.join(" "),Lw._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class Dw{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class Ew{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Nw{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m,p,f,_,b){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=r,this.lineTokens=a,this.lineDecorations=l.sort(kw.compare),this.tabSize=d,this.startVisibleColumn=c,this.spaceWidth=h,this.stopRenderingLineAfter=m,this.renderWhitespace="all"===p?4:"boundary"===p?1:"selection"===p?2:"trailing"===p?3:0,this.renderControlCharacters=f,this.fontLigatures=_,this.selectionsOnLine=b&&b.sort(((e,t)=>e.startOffset<t.startOffset?-1:1));Math.abs(g-h)<Math.abs(u-h)?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=u,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&kw.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class Iw{constructor(e,t){this.partIndex=e,this.charIndex=t}}class Tw{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,i,n){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=Tw.getPartIndex(t),n=Tw.getCharIndex(t);return new Iw(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;let n=(e<<16|i<<0)>>>0,o=0,s=this.length-1;for(;o+1<s;){let e=o+s>>>1,t=this._data[e];if(t===n)return e;t>n?s=e:o=e}if(o===s)return o;let r=this._data[o],a=this._data[s];if(r===n)return o;if(a===n)return s;let l,d=Tw.getPartIndex(r),c=Tw.getCharIndex(r);return l=d!==Tw.getPartIndex(a)?t:Tw.getCharIndex(a),i-c<=l-i?o:s}}class Mw{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function Aw(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let i=0,n=0,o=0;for(const r of e.lineDecorations)1!==r.type&&2!==r.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(r.className),t.appendASCIIString('"></span>'),1===r.type&&(o|=1,i++),2===r.type&&(o|=2,n++));t.appendASCIIString("</span>");const s=new Tw(1,i+n);return s.setColumnInfo(1,i,0,0),new Mw(s,!1,o)}return t.appendASCIIString("<span><span></span></span>"),new Mw(new Tw(0,0),!1,0)}return function(e,t){const i=e.fontIsMonospace,n=e.canUseHalfwidthRightwardsArrow,o=e.containsForeignElements,s=e.lineContent,r=e.len,a=e.isOverflowing,l=e.parts,d=e.fauxIndentLength,c=e.tabSize,h=e.startVisibleColumn,u=e.containsRTL,g=e.spaceWidth,m=e.renderSpaceCharCode,p=e.renderWhitespace,f=e.renderControlCharacters,_=new Tw(r+1,l.length);let b=!1,v=0,w=h,C=0,y=0,S=0,k=0;u?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let x=0,L=l.length;x<L;x++){k+=S;const e=l[x],a=e.endIndex,h=e.type,u=0!==p&&e.isWhitespace(),L=u&&!i&&("mtkw"===h||!o),D=v===a&&e.isPseudoAfter();if(C=0,t.appendASCIIString('<span class="'),t.appendASCIIString(L?"mtkz":h),t.appendASCII(34),u){let e=0;{let t=v,i=w;for(;t<a;t++){const n=0|(9===s.charCodeAt(t)?c-i%c:1);e+=n,t>=d&&(i+=n)}}for(L&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(g*e)),t.appendASCIIString('px"')),t.appendASCII(62);v<a;v++){_.setColumnInfo(v+1,x-y,C,k),y=0;let e;if(9===s.charCodeAt(v)){e=c-w%c|0,!n||e>1?t.write1(8594):t.write1(65515);for(let i=2;i<=e;i++)t.write1(160)}else e=1,t.write1(m);C+=e,v>=d&&(w+=e)}S=e}else{let e=0;for(t.appendASCII(62);v<a;v++){_.setColumnInfo(v+1,x-y,C,k),y=0;const i=s.charCodeAt(v);let n=1,o=1;switch(i){case 9:n=c-w%c,o=n;for(let e=1;e<=n;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:f?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:Po(i)&&o++,f&&i<32?t.write1(9216+i):f&&127===i?t.write1(9249):f&&Fw(i)?(t.appendASCIIString("[U+"),t.appendASCIIString(Bw(i)),t.appendASCIIString("]"),n=8):t.write1(i)}C+=n,e+=n,v>=d&&(w+=o)}S=e}D?y++:y=0,v>=r&&!b&&e.isPseudoAfter()&&(b=!0,_.setColumnInfo(v+1,x,C,k)),t.appendASCIIString("</span>")}b||_.setColumnInfo(r+1,l.length-1,C,k);a&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new Mw(_,u,o)}(function(e){const t=e.lineContent;let i,n;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,n=e.stopRenderingLineAfter):(i=!1,n=t.length);let o=function(e,t,i){let n=[],o=0;t>0&&(n[o++]=new Dw(t,"",0));for(let s=0,r=e.getCount();s<r;s++){const r=e.getEndOffset(s);if(r<=t)continue;const a=e.getClassName(s);if(r>=i){n[o++]=new Dw(i,a,0);break}n[o++]=new Dw(r,a,0)}return n}(e.lineTokens,e.fauxIndentLength,n);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(o=function(e,t,i,n){const o=e.continuesWithWrappedLine,s=e.fauxIndentLength,r=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,d=e.selectionsOnLine,c=1===e.renderWhitespace,h=3===e.renderWhitespace,u=e.renderSpaceWidth!==e.spaceWidth;let g=[],m=0,p=0,f=n[p].type,_=n[p].endIndex;const b=n.length;let v,w=!1,C=co(t);-1===C?(w=!0,C=i,v=i):v=uo(t);let y=!1,S=0,k=d&&d[S],x=a%r;for(let D=s;D<i;D++){const e=t.charCodeAt(D);let o;if(k&&D>=k.endOffset&&(S++,k=d&&d[S]),D<C||D>v)o=!0;else if(9===e)o=!0;else if(32===e)if(c)if(y)o=!0;else{const e=D+1<i?t.charCodeAt(D+1):0;o=32===e||9===e}else o=!0;else o=!1;if(o&&d&&(o=!!k&&k.startOffset<=D&&k.endOffset>D),o&&h&&(o=w||D>v),y){if(!o||!l&&x>=r){if(u){for(let e=(m>0?g[m-1].endIndex:s)+1;e<=D;e++)g[m++]=new Dw(e,"mtkw",1)}else g[m++]=new Dw(D,"mtkw",1);x%=r}}else(D===_||o&&D>s)&&(g[m++]=new Dw(D,f,0),x%=r);for(9===e?x=r:Po(e)?x+=2:x++,y=o;D===_&&(p++,p<b);)f=n[p].type,_=n[p].endIndex}let L=!1;if(y)if(o&&c){let e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0;32===e&&32!==n&&9!==n||(L=!0)}else L=!0;if(L)if(u){for(let e=(m>0?g[m-1].endIndex:s)+1;e<=i;e++)g[m++]=new Dw(e,"mtkw",1)}else g[m++]=new Dw(i,"mtkw",1);else g[m++]=new Dw(i,f,0);return g}(e,t,n,o));let s=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type||1===i.type?s|=1:2===i.type&&(s|=2)}o=function(e,t,i,n){n.sort(kw.compare);const o=class{static normalize(e,t){if(0===t.length)return[];let i=[];const n=new Lw;let o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];let a=r.startColumn,l=r.endColumn;const d=r.className,c=1===r.type?2:2===r.type?4:0;a>1&&So(e.charCodeAt(a-2))&&a--,l>1&&So(e.charCodeAt(l-2))&&l--;const h=a-1,u=l-2;o=n.consumeLowerThan(h,o,i),0===n.count&&(o=h),n.insert(u,d,c)}return n.consumeLowerThan(1073741824,o,i),i}}.normalize(e,n),s=o.length;let r=0,a=[],l=0,d=0;for(let h=0,u=i.length;h<u;h++){const e=i[h],t=e.endIndex,n=e.type,c=e.metadata;for(;r<s&&o[r].startOffset<t;){const e=o[r];if(e.startOffset>d&&(d=e.startOffset,a[l++]=new Dw(d,n,c)),!(e.endOffset+1<=t)){d=t,a[l++]=new Dw(d,n+" "+e.className,c|e.metadata);break}d=e.endOffset+1,a[l++]=new Dw(d,n+" "+e.className,c|e.metadata),r++}t>d&&(d=t,a[l++]=new Dw(d,n,c))}const c=i[i.length-1].endIndex;if(r<s&&o[r].startOffset===c)for(;r<s&&o[r].startOffset===c;){const e=o[r];a[l++]=new Dw(d,e.className,e.metadata),r++}return a}(t,0,o,e.lineDecorations)}e.containsRTL||(o=function(e,t,i){let n=0,o=[],s=0;if(i)for(let r=0,a=t.length;r<a;r++){const i=t[r],a=i.endIndex;if(n+50<a){const t=i.type,r=i.metadata;let l=-1,d=n;for(let i=n;i<a;i++)32===e.charCodeAt(i)&&(l=i),-1!==l&&i-d>=50&&(o[s++]=new Dw(l+1,t,r),d=l+1,l=-1);d!==a&&(o[s++]=new Dw(a,t,r))}else o[s++]=i;n=a}else for(let r=0,a=t.length;r<a;r++){const e=t[r],i=e.endIndex;let a=i-n;if(a>50){const t=e.type,r=e.metadata,l=Math.ceil(a/50);for(let e=1;e<l;e++){let i=n+50*e;o[s++]=new Dw(i,t,r)}o[s++]=new Dw(i,t,r)}else o[s++]=e;n=i}return o}(t,o,!e.isBasicASCII||e.fontLigatures));e.renderControlCharacters&&!e.isBasicASCII&&(o=function(e,t){let i=[],n=new Dw(0,"",0),o=0;for(const s of t){const t=s.endIndex;for(;o<t;o++){Fw(e.charCodeAt(o))&&(o>n.endIndex&&(n=new Dw(o,s.type,s.metadata),i.push(n)),n=new Dw(o+1,"mtkcontrol",s.metadata),i.push(n))}o>n.endIndex&&(n=new Dw(t,s.type,s.metadata),i.push(n))}return i}(t,o));return new Pw(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,n,i,o,s,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class Rw{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function Ow(e){let t=Aa(1e4),i=Aw(e,t);return new Rw(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class Pw{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=s,this.containsForeignElements=r,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=d,this.containsRTL=c,this.spaceWidth=h,this.renderSpaceCharCode=u,this.renderWhitespace=g,this.renderControlCharacters=m}}function Fw(e){return e<32?9!==e:127===e||(e>=8234&&e<=8238||e>=8294&&e<=8297||e>=8206&&e<=8207||1564===e)}function Bw(e){return e.toString(16).toUpperCase().padStart(4,"0")}const Ww=!!V||!(W||de||ue);let Vw=!0;class Hw{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class zw{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(43);this.renderWhitespace=i.get(87),this.renderControlCharacters=i.get(82),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(58),this.stopRenderingLineAfter=i.get(104),this.fontLigatures=i.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Uw{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Xv(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(this._options.themeType===ks.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),s=this._options,r=kw.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let a=null;if(s.themeType===ks.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const t=i.selections;for(const i of t){if(i.endLineNumber<e||i.startLineNumber>e)continue;const t=i.startLineNumber===e?i.startColumn:o.minColumn,n=i.endLineNumber===e?i.endColumn:o.maxColumn;t<n&&(s.themeType===ks.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?r.push(new kw(t,n,"inline-selected-text",0)):(a||(a=[]),a.push(new Ew(t-1,n-1))))}}const l=new Nw(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,r,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==zr.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(Uw.CLASS_NAME),n.appendASCIIString('">');const d=Aw(l,n);n.appendASCIIString("</div>");let c=null;return Vw&&Ww&&o.isBasicASCII&&s.useMonospaceOptimizations&&0===d.containsForeignElements&&o.content.length<300&&l.lineTokens.getCount()<100&&(c=new Kw(this._renderedViewLine?this._renderedViewLine.domNode:null,l,d.characterMapping)),c||(c=qw(this._renderedViewLine?this._renderedViewLine.domNode:null,l,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=c,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof Kw}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Kw?this._renderedViewLine.monospaceAssumptionsAreValid():Vw}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Kw&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t|=0,i|=0,t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const o=0|this._renderedViewLine.input.stopRenderingLineAfter;let s=!1;-1!==o&&t>o+1&&i>o+1&&(s=!0),-1!==o&&t>o+1&&(t=o+1),-1!==o&&i>o+1&&(i=o+1);const r=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return r&&r.length>0?new yw(s,r):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}Uw.CLASS_NAME="view-line";class Kw{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Vw;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Vw=!1),Vw}toSlowRenderedLine(){return qw(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){const o=this._getCharPosition(t),s=this._getCharPosition(i);return[new ww(o,s-o)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new Iw(o,i),n)}}class jw{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const o=this._readPixelOffset(this.domNode,e,t,n);if(-1===o)return null;const s=this._readPixelOffset(this.domNode,e,i,n);return-1===s?null:[new ww(o,s-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,o){if(i===n){const n=this._readPixelOffset(e,t,i,o);return-1===n?null:[new ww(n,0)]}return this._readRawVisibleRangesForRange(e,i,n,o)}_readPixelOffset(e,t,i,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const o=this._pixelOffsetCache[i];if(-1!==o)return o;const s=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(0===this._characterMapping.length){const t=Sw.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.endNode);return t&&0!==t.length?t[0].left:-1}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const o=this._characterMapping.getDomPosition(i),s=Sw.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n.clientRectDeltaLeft,n.endNode);if(!s||0===s.length)return-1;const r=s[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getAbsoluteOffset(i),t=Math.round(this.input.spaceWidth*e);if(Math.abs(t-r)<=1)return t}return r}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new ww(0,this.getWidth())];const o=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return Sw.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,s.partIndex,s.charIndex,n.clientRectDeltaLeft,n.endNode)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new Iw(o,i),n)}}class $w extends jw{_readVisibleRangesForRange(e,t,i,n,o){const s=super._readVisibleRangesForRange(e,t,i,n,o);if(!s||0===s.length||i===n||1===i&&n===this._characterMapping.length)return s;if(!this.input.containsRTL){const i=this._readPixelOffset(e,t,n,o);if(-1!==i){const e=s[s.length-1];e.left<i&&(e.width=i-e.left)}}return s}}const qw=ce?Gw:Zw;function Gw(e,t,i,n,o){return new $w(e,t,i,n,o)}function Zw(e,t,i,n,o){return new jw(e,t,i,n,o)}class Jw{constructor(e=null){this.hitTarget=e,this.type=0}}class Qw{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var Yw;(Yw||(Yw={})).createFromDOMInfo=function(e,t,i){const n=e.getPositionFromDOMInfo(t,i);return n?new Qw(n,t,null):new Jw(t)};class Xw{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class eC{constructor(e,t,i=0,n=null,o=null,s=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,!o&&n&&(o=new br(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=s}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return eC.toString(this)}}class tC{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class iC{constructor(e,t,i){this.model=e.model;const n=e.configuration.options;this.layoutInfo=n.get(129),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(58),this.stickyTabStops=n.get(103),this.typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return iC.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const n=i.verticalOffset+i.height/2,o=e.model.getLineCount();let s,r=null,a=null;return i.afterLineNumber!==o&&(a=new Rn(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new Rn(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),s=null===a?r:null===r?a:t<n?r:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:a,position:s}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new br(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new br(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return iC._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class nC extends class{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,rC._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,i,n){super(e,t,i),this._ctx=e,n?(this.target=n,this.targetPath=fw.collect(n,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,n=null){let o=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(o=wg.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new eC(this.target,e,o,t,i,n)}withTarget(e){return new nC(this._ctx,this.editorPos,this.pos,e)}}const oC={isAfterLines:!0};function sC(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class rC{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=fw.collect(t,this._viewHelper.viewDomNode);return!(!tC.isChildOfContentWidgets(i)&&!tC.isChildOfOverflowingContentWidgets(i))||!!tC.isChildOfOverlayWidgets(i)}createMouseTarget(e,t,i,n){const o=new iC(this._context,this._viewHelper,e),s=new nC(o,t,i,n);try{return rC._createMouseTarget(o,s,!1)}catch(r){return s.fulfill(0)}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfill(0);const n=rC._doHitTest(e,t);return 1===n.type?rC.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}const n=t;let o=null;return o=o||rC._hitTestContentWidget(e,n),o=o||rC._hitTestOverlayWidget(e,n),o=o||rC._hitTestMinimap(e,n),o=o||rC._hitTestScrollbarSlider(e,n),o=o||rC._hitTestViewZone(e,n),o=o||rC._hitTestMargin(e,n),o=o||rC._hitTestViewCursor(e,n),o=o||rC._hitTestTextArea(e,n),o=o||rC._hitTestViewLines(e,n,i),o=o||rC._hitTestScrollbar(e,n),o||t.fulfill(0)}static _hitTestContentWidget(e,t){if(tC.isChildOfContentWidgets(t.targetPath)||tC.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(tC.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const e of i)if(t.target===e.domNode)return t.fulfill(6,e.position,null,{mightBeForeignElement:!1})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const s of i){if(n<s.contentLeft)continue;if(n>s.contentLeft+s.width)continue;const i=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(i<=o&&o<=i+s.height)return t.fulfill(6,s.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const e=t.isInContentArea?8:5;return t.fulfill(e,i.position,null,i)}return null}static _hitTestTextArea(e,t){return tC.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let o=Math.abs(t.pos.x-t.editorPos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,n,i.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,n,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,n,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!tC.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new Rn(1,1),null,oC);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return t.fulfill(7,new Rn(i,n),null,oC)}if(i){if(tC.isStrictChildOfViewLines(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(i)){const n=e.getLineWidth(i),o=sC(t.mouseContentHorizontalOffset-n);return t.fulfill(7,new Rn(i,1),null,o)}const n=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=n){const o=sC(t.mouseContentHorizontalOffset-n),s=new Rn(i,e.model.getLineMaxColumn(i));return t.fulfill(7,s,null,o)}}return t.fulfill(0)}const n=rC._doHitTest(e,t);return 1===n.type?rC.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(tC.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Rn(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(tC.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Rn(i,n))}}return null}static _hitTestScrollbar(e,t){if(tC.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Rn(i,n))}return null}getMouseColumn(e,t){const i=this._context.configuration.options,n=i.get(129),o=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-n.contentLeft;return rC._getMouseColumn(o,i.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){const s=n.lineNumber,r=n.column,a=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>a){const e=sC(t.mouseContentHorizontalOffset-a);return t.fulfill(7,n,null,e)}const l=e.visibleRangeForPosition(s,r);if(!l)return t.fulfill(0,n);const d=l.left;if(t.mouseContentHorizontalOffset===d)return t.fulfill(6,n,null,{mightBeForeignElement:!!o});const c=[];if(c.push({offset:l.left,column:r}),r>1){const t=e.visibleRangeForPosition(s,r-1);t&&c.push({offset:t.left,column:r-1})}if(r<e.model.getLineMaxColumn(s)){const t=e.visibleRangeForPosition(s,r+1);t&&c.push({offset:t.left,column:r+1})}c.sort(((e,t)=>e.offset-t.offset));const h=t.pos.toClientCoordinates(),u=i.getBoundingClientRect(),g=u.left<=h.clientX&&h.clientX<=u.right;for(let m=1;m<c.length;m++){const e=c[m-1],i=c[m];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=i.offset){const r=new br(s,e.column,s,i.column);return t.fulfill(6,n,r,{mightBeForeignElement:!g||!!o})}}return t.fulfill(6,n,null,{mightBeForeignElement:!g||!!o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let o=t.pos.y+(n-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+e.layoutInfo.height&&(o=t.editorPos.y+e.layoutInfo.height-1);const s=new rw(t.pos.x,o),r=this._actualDoHitTestWithCaretRangeFromPoint(e,s.toClientCoordinates());return 1===r.type?r:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=$i(e.viewDomNode);let n;if(n=i?void 0===i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let o=e.elementFromPoint(t,i);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;const e=o.getBoundingClientRect(),i=window.getComputedStyle(o,null).getPropertyValue("font"),s=o.innerText;let r,a=e.left,l=0;if(t>e.left+e.width)l=s.length;else{const e=aC.getInstance();for(let n=0;n<s.length+1;n++){if(r=e.getCharWidth(s.charAt(n),i)/2,a+=r,t<a){l=n;break}a+=r}}n.setStart(o.firstChild,l),n.setEnd(o.firstChild,l)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new Jw;const o=n.startContainer;if(o.nodeType===o.TEXT_NODE){const t=o.parentNode,i=t?t.parentNode:null,s=i?i.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===Uw.CLASS_NAME?Yw.createFromDOMInfo(e,t,n.startOffset):new Jw(o.parentNode)}if(o.nodeType===o.ELEMENT_NODE){const t=o.parentNode,i=t?t.parentNode:null;return(i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===Uw.CLASS_NAME?Yw.createFromDOMInfo(e,o,o.textContent.length):new Jw(o)}return new Jw}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const t=i.offsetNode.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===Uw.CLASS_NAME?Yw.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Jw(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const t=i.offsetNode.parentNode,n=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,o=t?t.parentNode:null,s=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(n===Uw.CLASS_NAME){const t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t)return Yw.createFromDOMInfo(e,t,0)}else if(s===Uw.CLASS_NAME)return Yw.createFromDOMInfo(e,i.offsetNode,0)}return new Jw(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:n}=t.getTextModelOptions(),o=Hb.atomicPosition(i,e.column-1,n,2);return-1!==o?new Rn(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new Jw;if("function"==typeof document.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===i.type){const t=e.model.getInjectedTextAt(i.position),n=e.model.normalizePosition(i.position,2);!t&&n.equals(i.position)||(i=new Qw(n,i.spanNode,t))}return 1===i.type&&e.stickyTabStops&&(i=new Qw(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}}class aC{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return aC._INSTANCE||(aC._INSTANCE=new aC),aC._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const o=n.measureText(e).width;return this._cache[i]=o,o}}function lC(e){return function(t,i){let n=!1;return e&&(n=e.mouseTargetIsWidget(i)),n||i.preventDefault(),i}}aC._INSTANCE=null;class dC extends mw{constructor(e,t,i){super(),this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new rC(this._context,i),this._mouseDownOperation=this._register(new cC(this._context,this.viewController,this.viewHelper,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const n=new hw(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),lC(this.mouseTargetFactory),dC.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))));this._register(_i(this.viewHelper.viewDomNode,en.MOUSE_WHEEL,(e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(67))return;const t=new ot(e);if(B?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){const e=Nv.getZoomLevel(),i=t.deltaY>0?1:-1;Nv.setZoomLevel(e+i),t.preventDefault(),t.stopPropagation()}}),{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const e=this._context.configuration.options.get(129).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const i=new aw(e,t).toPageCoordinates(),n=dw(this.viewHelper.viewDomNode);return i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,i,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const t=$i(this.viewHelper.viewDomNode);t&&(i=t.elementsFromPoint(e.posx,e.posy).find((e=>this.viewHelper.viewDomNode.contains(e))))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),i=6===t.type||7===t.type,n=2===t.type||3===t.type||4===t.type,o=3===t.type,s=this._context.configuration.options.get(97),r=8===t.type||5===t.type,a=9===t.type;let l=e.leftButton||e.middleButton;B&&e.leftButton&&e.ctrlKey&&(l=!1);const d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(l&&(i||o&&s))d(),this._mouseDownOperation.start(t.type,e);else if(n)e.preventDefault();else if(r){const i=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(i.viewZoneId)&&(d(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else a&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}dC.MOUSE_MOVE_MINIMUM_TIME=100;class cC extends v{constructor(e,t,i,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new gw(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new vt),this._mouseState=new hC,this._currentSelection=new vr(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const n=this._context.configuration.options;if(!n.get(80)&&n.get(31)&&!n.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,lC(null),(e=>this._onMouseDownThenMove(e)),(e=>{const t=this._findMousePosition(this._lastMouseEvent,!0);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,lC(null),(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet((()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))}),10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const i=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),s=iC.getZoneAtCoord(this._context,i);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return new eC(null,13,o,e)}const r=n.getLineNumberAtVerticalOffset(i);return new eC(null,13,o,new Rn(r,1))}if(e.posy>t.y+t.height){const s=n.getCurrentScrollTop()+(e.posy-t.y),r=iC.getZoneAtCoord(this._context,s);if(r){const e=this._helpPositionJumpOverViewZone(r);if(e)return new eC(null,13,o,e)}const a=n.getLineNumberAtVerticalOffset(s);return new eC(null,13,o,new Rn(a,i.getLineMaxColumn(a)))}const s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new eC(null,13,o,new Rn(s,1)):e.posx>t.x+t.width?new eC(null,13,o,new Rn(s,i.getLineMaxColumn(s))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const e=this._helpPositionJumpOverViewZone(n.detail);if(e)return new eC(n.element,n.type,n.mouseColumn,e,null,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new Rn(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class hC{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>hC.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}var uC,gC;hC.CLEAR_MOUSE_DOWN_COUNT_TIME=400,(gC=uC||(uC={})).text="text/plain",gC.binary="application/octet-stream",gC.unknown="application/unknown",gC.markdown="text/markdown",gC.latex="text/latex";let mC=[],pC=[],fC=[];function _C(e,t=!1){const i=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?fc(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(Bt.sep)>=0}}(e);mC.push(i),i.userConfigured?fC.push(i):pC.push(i),t&&!i.userConfigured&&mC.forEach((e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))}))}function bC(e,t){let i;if(e)switch(e.scheme){case di.file:i=e.fsPath;break;case di.data:i=Ya.parseMetaData(e).get(Ya.META_DATA_LABEL);break;default:i=e.path}if(!i)return[uC.unknown];i=i.toLowerCase();const n=Ut(i),o=vC(i,n,fC);if(o)return[o,uC.text];const s=vC(i,n,pC);if(s)return[s,uC.text];if(t){const e=function(e){Wo(e)&&(e=e.substr(1));if(e.length>0)for(let t=mC.length-1;t>=0;t--){const i=mC[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i.mime}return null}(t);if(e)return[e,uC.text]}return[uC.unknown]}function vC(e,t,i){var n;let o=null,s=null,r=null;for(let a=i.length-1;a>=0;a--){const l=i[a];if(t===l.filenameLowercase){o=l;break}if(l.filepattern&&(!s||l.filepattern.length>s.filepattern.length)){const i=l.filepatternOnPath?e:t;(null===(n=l.filepatternLowercase)||void 0===n?void 0:n.call(l,i))&&(s=l)}l.extension&&(!r||l.extension.length>r.extension.length)&&t.endsWith(l.extensionLowercase)&&(r=l)}return o?o.mime:s?s.mime:r?r.mime:null}class wC{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new wC(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new wC(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)n++;return[e,i*t.length,n]}static selectedText(e){return new wC(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};let n=e.value,o=e.selectionStart,s=e.selectionEnd,r=t.value,a=t.selectionStart,l=t.selectionEnd;const d=yo(n.substring(s),r.substring(l));r=r.substring(0,r.length-d),n=n.substring(0,n.length-d);const c=n.substring(0,o),h=Co(c,r.substring(0,a));if(r=r.substring(h),n=n.substring(h),a-=h,o-=h,l-=h,s-=h,i&&a===l&&n.length>0){let e=null;if(a===r.length?r.startsWith(n)&&(e=r.substring(n.length)):r.endsWith(n)&&(e=r.substring(0,r.length-n.length)),null!==e&&e.length>0&&(/\uFE0F/.test(e)||(u=e,To.test(u))))return{text:e,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}var u;if(a===l){if(n===r&&0===o&&s===n.length&&a===r.length&&-1===r.indexOf("\n")&&function(e){for(let t=0,i=e.length;t<i;t++)if(Po(e.charCodeAt(t)))return!0;return!1}(r))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};return{text:r,replacePrevCharCnt:c.length-h,replaceNextCharCnt:0,positionDelta:0}}return{text:r,replacePrevCharCnt:s-o,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(Co(e.value,t.value),e.selectionEnd),n=Math.min(yo(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-n),s=t.value.substring(i,t.value.length-n);e.selectionStart;const r=e.selectionEnd-i;t.selectionStart;const a=t.selectionEnd-i;return{text:s,replacePrevCharCnt:r,replaceNextCharCnt:o.length-r,positionDelta:a-s.length}}}wC.EMPTY=new wC("",0,0,null,null);class CC{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t;return new br(i+1,1,i+t+1,1)}static fromEditorSelection(e,t,i,n,o){const s=CC._getPageOfLine(i.startLineNumber,n),r=CC._getRangeForPage(s,n),a=CC._getPageOfLine(i.endLineNumber,n),l=CC._getRangeForPage(a,n),d=r.intersectRanges(new br(1,1,i.startLineNumber,i.startColumn));let c=t.getValueInRange(d,1);const h=t.getLineCount(),u=t.getLineMaxColumn(h),g=l.intersectRanges(new br(i.endLineNumber,i.endColumn,h,u));let m,p=t.getValueInRange(g,1);if(s===a||s+1===a)m=t.getValueInRange(i,1);else{const e=r.intersectRanges(i),n=l.intersectRanges(i);m=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(n,1)}if(o){const e=500;c.length>e&&(c=c.substring(c.length-e,c.length)),p.length>e&&(p=p.substring(0,e)),m.length>2*e&&(m=m.substring(0,e)+String.fromCharCode(8230)+m.substring(m.length-e,m.length))}return new wC(c+m+p,c.length,c.length+m.length,new Rn(i.startLineNumber,i.startColumn),new Rn(i.endLineNumber,i.endColumn))}}var yC;(yC||(yC={})).Tap="-monaco-textarea-synthetic-tap";const SC={forceCopyWithSyntaxHighlighting:!1};class kC{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}kC.INSTANCE=new kC;class xC extends v{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new X),this.onFocus=this._onFocus.event,this._onBlur=this._register(new X),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new X),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new X),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new X),this.onCut=this._onCut.event,this._onPaste=this._register(new X),this.onPaste=this._onPaste.event,this._onType=this._register(new X),this.onType=this._onType.event,this._onCompositionStart=this._register(new X),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new X),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new X),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new X),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new DC(t)),this._asyncTriggerCut=this._register(new Ct((()=>this._onCut.fire()),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new Ct((()=>this.writeScreenReaderContent("asyncFocusGain")),0)),this._textAreaState=wC.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(vi(t.domNode,"keydown",(e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),i=e,this._onKeyDown.fire(e)}))),this._register(vi(t.domNode,"keyup",(e=>{this._onKeyUp.fire(e)}))),this._register(_i(t.domNode,"compositionstart",(e=>{if(!this._isDoingComposition){if(this._isDoingComposition=!0,B&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data){if(i&&i.equals(109)&&("ArrowRight"===i.code||"ArrowLeft"===i.code)||de)return this._textAreaState=new wC(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new Rn(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1})}me?this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart}):(this._setAndWriteTextAreaState("compositionstart",wC.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0}))}})));const n=e=>{const t=this._textAreaState,i=wC.readFromTextArea(this._textArea);return[i,wC.deduceInput(t,i,e)]},o=()=>{const e=this._textAreaState,t=wC.readFromTextArea(this._textArea);return[t,wC.deduceAndroidCompositionInput(e,t)]},s=e=>{const t=this._textAreaState,i=wC.selectedText(e);return[i,{text:i.value,replacePrevCharCnt:t.selectionEnd-t.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(_i(t.domNode,"compositionupdate",(e=>{if(me){const[t,i]=o();return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const[t,i]=s(e.data||"");this._textAreaState=t,this._onType.fire(i),this._onCompositionUpdate.fire(e)}))),this._register(_i(t.domNode,"compositionend",(e=>{if(!this._isDoingComposition)return;if(this._isDoingComposition=!1,me){const[e,t]=o();return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const[t,i]=s(e.data||"");this._textAreaState=t,this._onType.fire(i),(he||de)&&(this._textAreaState=wC.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()}))),this._register(_i(t.domNode,"input",(()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[e,t]=n(B);0===t.replacePrevCharCnt&&1===t.text.length&&So(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""===t.text&&0===t.replacePrevCharCnt||this._onType.fire(t):(""===t.text&&0===t.replacePrevCharCnt||this._firePaste(t.text,null),this._nextCommand=0))}))),this._register(_i(t.domNode,"cut",(e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(_i(t.domNode,"copy",(e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(_i(t.domNode,"paste",(e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),LC.canUseTextData(e)){const[t,i]=LC.getTextData(e);""!==t&&this._firePaste(t,i)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",wC.EMPTY),this._nextCommand=1}))),this._register(_i(t.domNode,"focus",(()=>{const e=this._hasFocus;this._setHasFocus(!0),ue&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()}))),this._register(_i(t.domNode,"blur",(()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(_i(t.domNode,yC.Tap,(()=>{me&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return _i(document,"selectionchange",(t=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!he)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const r=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===r&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(r),d=this._host.deduceModelPosition(l[0],l[1],l[2]),c=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(c[0],c[1],c[2]),u=new vr(d.lineNumber,d.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(u)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=$i(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):pi(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(LC.canUseTextData(e)),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};kC.INSTANCE.set(de?t.text.replace(/\r\n/g,"\n"):t.text,i),LC.canUseTextData(e)?LC.setTextData(e,t.text,t.html,i):this._setAndWriteTextAreaState("copy or cut",wC.selectedText(t.text))}_firePaste(e,t){t||(t=kC.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class LC{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const i=e.clipboardData.getData(uC.text);let n=null;const o=e.clipboardData.getData("vscode-editor-data");if("string"==typeof o)try{n=JSON.parse(o),1!==n.version&&(n=null)}catch(t){}return[i,n]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,n){if(e.clipboardData)return e.clipboardData.setData(uC.text,t),"string"==typeof i&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(n)),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class DC extends v{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,t,i){const n=this._actual.domNode;let o=null;const s=$i(n);o=s?s.activeElement:document.activeElement;const r=o===n,a=n.selectionStart,l=n.selectionEnd;if(r&&a===t&&l===i)de&&window.parent!==window&&n.focus();else{if(r)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(de&&window.parent!==window&&n.focus());try{const e=function(e){let t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),function(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}(n,e)}catch(G1){}}}}class EC extends dC{constructor(e,t,i){super(e,t,i),this._register(nw.addTarget(this.viewHelper.linesContentDomNode)),this._register(_i(this.viewHelper.linesContentDomNode,tw.Tap,(e=>this.onTap(e)))),this._register(_i(this.viewHelper.linesContentDomNode,tw.Change,(e=>this.onChange(e)))),this._register(_i(this.viewHelper.linesContentDomNode,tw.Contextmenu,(e=>this._onContextMenu(new cw(e,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(_i(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const n=new uw(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),lC(this.mouseTargetFactory),dC.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new cw(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e)}}class NC extends dC{constructor(e,t,i){super(e,t,i),this._register(nw.addTarget(this.viewHelper.linesContentDomNode)),this._register(_i(this.viewHelper.linesContentDomNode,tw.Tap,(e=>this.onTap(e)))),this._register(_i(this.viewHelper.linesContentDomNode,tw.Change,(e=>this.onChange(e)))),this._register(_i(this.viewHelper.linesContentDomNode,tw.Contextmenu,(e=>this._onContextMenu(new cw(e,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new cw(e,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(yC.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class IC extends v{constructor(e,t,i){super(),z&&Ie?this.handler=this._register(new EC(e,t,i)):window.TouchEvent?this.handler=this._register(new NC(e,t,i)):this.handler=this._register(new dC(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class TC extends mw{}class MC extends TC{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Rn(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const t=e.get(59);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83);const i=e.get(129);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Rn(e,1));if(1!==t.column)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===e?'<span class="relative-current-line-number">'+i+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=W?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+MC.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',s=this._context.model.getLineCount(),r=[];for(let a=i;a<=n;a++){const e=a-i;if(!this._renderFinalNewline&&a===s&&0===this._context.model.getLineLength(a)){r[e]="";continue}const n=this._getLineRenderLineNumber(a);n?a===this._activeLineNumber?r[e]='<div class="active-line-number '+MC.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+n+"</div>":r[e]=o+n+"</div>":r[e]=""}this._renderResult=r}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}MC.CLASS_NAME="line-numbers",As(((e,t)=>{const i=e.getColor(p_);i&&t.addRule(`.monaco-editor .line-numbers { color: ${i}; }`);const n=e.getColor(__);n&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${n}; }`)}));class AC extends pw{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=Xv(document.createElement("div")),this._domNode.setClassName(AC.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Xv(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(AC.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}AC.CLASS_NAME="glyph-margin",AC.OUTER_CLASS_NAME="margin";class RC{constructor(e,t,i){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=i}setWidth(e){return new RC(this.top,this.left,e)}}const OC=de;class PC extends pw{constructor(e,i,n){super(e),this._primaryCursorPosition=new Rn(1,1),this._primaryCursorVisibleRange=null,this._viewController=i,this._viewHelper=n,this._scrollLeft=0,this._scrollTop=0;const o=this._context.configuration.options,s=o.get(129);this._setAccessibilityOptions(o),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._contentHeight=s.height,this._fontInfo=o.get(43),this._lineHeight=o.get(58),this._emptySelectionClipboard=o.get(32),this._copyWithSyntaxHighlighting=o.get(21),this._visibleTextArea=null,this._selections=[new vr(1,1,1,1)],this._modelSelections=[new vr(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Xv(document.createElement("textarea")),fw.write(this.textArea,6),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",t("vs/editor/browser/controller/textAreaHandler","editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),o.get(30)&&o.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Xv(document.createElement("div")),this.textAreaCover.setPosition("absolute");const r={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)},a={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,F),i=this._context.model.getEOL(),n=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),o=Array.isArray(t)?t:null,s=Array.isArray(t)?t.join(i):t;let r,a=null;if(e&&(SC.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&s.length<65536)){const e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(r=e.html,a=e.mode)}return{isFromEmptySelection:n,multicursorText:o,text:s,html:r,mode:a}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(B){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new wC(i,i.length,i.length,t,t)}}return wC.EMPTY}if(me){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[i,n]=this._getAndroidWordAtPosition(t);if(i.length>0)return new wC(i,n,n,t,t)}return wC.EMPTY}return CC.fromEditorSelection(e,r,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)};this._textAreaInput=this._register(new xC(a,this.textArea)),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta):this._viewController.type(e.text)}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this._selections[0].startLineNumber,i=this._selections[0].startColumn+e.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new br(t,i,t,i),0,1);const n=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,i);n&&(this._visibleTextArea=new RC(this._context.viewLayout.getVerticalOffsetForLineNumber(t),n.left,OC?0:1),this._render()),this.textArea.setClassName("inputarea monaco-mouse-cursor-text ime-input"),this._viewController.compositionStart(),this._context.model.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(function(e,t){const i=document.createElement("canvas").getContext("2d");i.font=(n=t,o="normal",s=n.fontWeight,r=n.fontSize,a=n.lineHeight,l=n.fontFamily,`${o} normal ${s} ${r}px / ${a}px ${l}`);var n,o,s,r,a,l;const d=i.measureText(e);return de?d.width+2:d.width}(e.data,this._fontInfo)),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.model.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.model.setHasFocus(!1)})))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=Zl('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let n=!0,o=e.column,s=!0,r=e.column,a=0;for(;a<50&&(n||s);){if(n&&o<=1&&(n=!1),n){const e=t.charCodeAt(o-2);0!==i.get(e)?n=!1:o--}if(s&&r>t.length&&(s=!1),s){const e=t.charCodeAt(r-1);0!==i.get(e)?s=!1:r++}a++}return[t.substring(o-1,r-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=Zl(this._context.configuration.options.get(115));let n=e.column,o=0;for(;n>1;){const s=t.charCodeAt(n-2);if(0!==i.get(s)||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!So(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?t("vs/editor/browser/controller/textAreaHandler","accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",W?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===Yr.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(43),this._lineHeight=t.get(58),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(t.get(30)&&t.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Rn(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():B?this._renderInsideEditor(this._primaryCursorPosition,t,e,OC?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,OC?0:1,OC?0:1)}_renderInsideEditor(e,t,i,n,o){this._lastRenderPosition=e;const s=this.textArea,r=this.textAreaCover;Qv.applyFontInfo(s,this._fontInfo),s.setTop(t),s.setLeft(i),s.setWidth(n),s.setHeight(o),r.setTop(0),r.setLeft(0),r.setWidth(0),r.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(Qv.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),OC)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(49)?t.setClassName("monaco-editor-background textAreaCover "+AC.OUTER_CLASS_NAME):0!==i.get(59).renderType?t.setClassName("monaco-editor-background textAreaCover "+MC.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}class FC{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){mv.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Rn(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=W&&t.get(95),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){mv.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){mv.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),mv.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),mv.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){mv.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){mv.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){mv.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){mv.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){mv.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){mv.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){mv.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){mv.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){mv.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class BC{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return BC.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new WC(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class WC{constructor(e,t,i,n,o,s){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,this.range=o,this.detail=s}toString(){return eC.toString(this)}}var VC;class HC{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const i=t-e+1;return this._rendLineNumberStart-=i,null}if(e>n)return null;let o=0,s=0;for(let r=i;r<=n;r++){const i=r-this._rendLineNumberStart;e<=r&&r<=t&&(0===s?(o=i,s=1):s++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(o,s)}onLinesChanged(e,t){if(0===this.getCount())return!1;const i=this.getStartLineNumber(),n=this.getEndLineNumber();let o=!1;for(let s=e;s<=t;s++)s>=i&&s<=n&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o){return this._lines.splice(e-this._rendLineNumberStart,o-e+1)}const s=[];for(let c=0;c<i;c++)s[c]=this._createLine();const r=e-this._rendLineNumberStart,a=this._lines.slice(0,r),l=this._lines.slice(r,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(s).concat(l),d}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=0,s=e.length;o<s;o++){const s=e[o];if(s.toLineNumber<t||s.fromLineNumber>i)continue;const r=Math.max(t,s.fromLineNumber),a=Math.min(i,s.toLineNumber);for(let e=r;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),n=!0}}return n}}class zC{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new HC((()=>this._host.createVisibleLine()))}_createDomNode(){const e=Xv(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new UC(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class UC{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let e=t;e<=i;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){const e=t,s=Math.min(i,o.rendLineNumberStart-1);e<=s&&(this._insertLinesBefore(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart<t){const e=Math.min(o.linesLength,t-o.rendLineNumberStart);e>0&&(this._removeLinesBefore(o,e),o.linesLength-=e)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const e=o.rendLineNumberStart+o.linesLength,s=i;e<=s&&(this._insertLinesAfter(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const e=Math.max(0,i-o.rendLineNumberStart+1),t=o.linesLength-1-e+1;t>0&&(this._removeLinesAfter(o,t),o.linesLength-=t)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){const s=e.rendLineNumberStart,r=e.lines;for(let a=t;a<=i;a++){const e=s+a;r[a].layoutLine(e,n[e-o])}}_insertLinesBefore(e,t,i,n,o){const s=[];let r=0;for(let a=t;a<=i;a++)s[r++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const t=e.lines[i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const s=[];let r=0;for(let a=t;a<=i;a++)s[r++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const t=e.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){UC._ttPolicy&&(i=UC._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let r=e.linesLength-1;r>=0;r--){const t=e.lines[r];n[r]&&(t.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");UC._ttPolicy&&(t=UC._ttPolicy.createHTML(t)),n.innerHTML=t;for(let o=0;o<e.linesLength;o++){const t=e.lines[o];if(i[o]){const e=n.firstChild,i=t.getDomNode();i.parentNode.replaceChild(e,i),t.setDomNode(e)}}}_finishRendering(e,t,i){const n=UC._sb,o=e.linesLength,s=e.lines,r=e.rendLineNumberStart,a=[];{n.reset();let l=!1;for(let e=0;e<o;e++){const t=s[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+r,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=s[e];if(l[e]=!1,a[e])continue;o.renderLine(e+r,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}UC._ttPolicy=null===(VC=window.trustedTypes)||void 0===VC?void 0:VC.createPolicy("editorViewLayer",{createHTML:e=>e}),UC._sb=Aa(1e5);class KC extends pw{constructor(e){super(e),this._visibleLines=new zC(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new jC(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){this._visibleLines.getVisibleLine(n).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class jC{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Xv(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,t,i,n){let o="";for(let s=0,r=this._dynamicOverlays.length;s<r;s++){o+=this._dynamicOverlays[s].render(i.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class $C extends KC{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class qC extends KC{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Qv.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(e){const t=this._context.configuration.options;Qv.applyFontInfo(this.domNode,t.get(43));const i=t.get(129);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class GC{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class ZC extends pw{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=Xv(document.createElement("div")),fw.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Xv(document.createElement("div")),fw.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new JC(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class JC{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Xv(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(129);this._fixedOverflowWidgets=n.get(36),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(58),e.hasChanged(129)){const e=t.get(129);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,n,o){const s=e.top,r=s,a=t.top+this._lineHeight,l=s-n,d=r>=n,c=a,h=o.viewportHeight-a>=n;let u=e.left,g=t.left;return u+i>o.scrollLeft+o.viewportWidth&&(u=o.scrollLeft+o.viewportWidth-i),g+i>o.scrollLeft+o.viewportWidth&&(g=o.scrollLeft+o.viewportWidth-i),u<o.scrollLeft&&(u=o.scrollLeft),g<o.scrollLeft&&(g=o.scrollLeft),{fitsAbove:d,aboveTop:l,aboveLeft:u,fitsBelow:h,belowTop:c,belowLeft:g}}_layoutHorizontalSegmentInPage(e,t,i,n){const o=Math.max(0,t.left-n),s=Math.min(t.left+t.width+n,e.width);let r=t.left+i-Pi.scrollX;if(r+n>s){const e=r-(s-n);r-=e,i-=e}if(r<o){const e=r-o;r-=e,i-=e}return[i,r]}_layoutBoxInPage(e,t,i,n,o){const s=e.top-n,r=t.top+this._lineHeight,a=Oi(this._viewDomNode.domNode),l=a.top+s-Pi.scrollY,d=a.top+r-Pi.scrollY,c=Ti(document.body),[h,u]=this._layoutHorizontalSegmentInPage(c,a,e.left-o.scrollLeft+this._contentLeft,i),[g,m]=this._layoutHorizontalSegmentInPage(c,a,t.left-o.scrollLeft+this._contentLeft,i),p=l>=22,f=d+n<=c.height-22;return this._fixedOverflowWidgets?{fitsAbove:p,aboveTop:Math.max(l,22),aboveLeft:u,fitsBelow:f,belowTop:d,belowLeft:m}:{fitsAbove:p,aboveTop:s,aboveLeft:h,fitsBelow:f,belowTop:r,belowLeft:g}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new GC(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const d of t)d.lineNumber<i.lineNumber&&(i=d),d.lineNumber>n.lineNumber&&(n=d);let o=1073741824;for(const d of i.ranges)d.left<o&&(o=d.left);let s=1073741824;for(const d of n.ranges)d.left<s&&(s=d.left);const r=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,a=new GC(r,o),l=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop;return[a,new GC(l,s)]}_prepareRenderWidget(e){const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=QC(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeClientWidth=e.width,this._cachedDomNodeClientHeight=e.height;else{const e=this.domNode.domNode;this._cachedDomNodeClientWidth=e.clientWidth,this._cachedDomNodeClientHeight=e.clientHeight}}let n;if(n=this.allowEditorOverflow?this._layoutBoxInPage(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let o=1;o<=2;o++)for(const e of this._preference)if(1===e){if(!n)return null;if(2===o||n.fitsAbove)return{coordinate:new GC(n.aboveTop,n.aboveLeft),position:1}}else{if(2!==e)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};if(!n)return null;if(2===o||n.fitsBelow)return{coordinate:new GC(n.belowTop,n.belowLeft),position:2}}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&QC(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&QC(this._actual.afterRender,this._actual,this._renderData.position)}}function QC(e,t,...i){try{return e.call(t,...i)}catch(n){return null}}let YC=!0;class XC extends TC{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new vr(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=YC?this._selections.slice(0,1):this._selections,i=t.map((e=>e.positionLineNumber));i.sort(((e,t)=>e-t)),ud(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const n=t.every((e=>e.isEmpty()));return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let s=0;const r=[];for(let a=i;a<=n;a++){const e=a-i;for(;s<o&&this._cursorLineNumbers[s]<a;)s++;s<o&&this._cursorLineNumbers[s]===a?r[e]=t:r[e]=""}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}}class ey extends XC{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class ty extends XC{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}As(((e,t)=>{YC=!1;const i=e.getColor(o_);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||e.defines(s_)){const i=e.getColor(s_);i&&(YC=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class iy extends TC{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(i[n++]=e)}i=i.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const i=e.options.className,n=t.options.className;return i<n?-1:i>n?1:br.compareRangesUsingStarts(e.range,t.range)}));const o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,r=[];for(let a=o;a<=s;a++){r[a-o]=""}this._renderWholeLineDecorations(e,i,r),this._renderNormalDecorations(e,i,r),this._renderResult=r}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let r=0,a=t.length;r<a;r++){const e=t[r];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(e.range.startLineNumber,o),d=Math.min(e.range.endLineNumber,s);for(let t=l;t<=d;t++){i[t-o]+=a}}}_renderNormalDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber;let s=null,r=!1,a=null;for(let l=0,d=t.length;l<d;l++){const d=t[l];if(d.options.isWholeLine)continue;const c=d.options.className,h=Boolean(d.options.showIfCollapsed);let u=d.range;h&&1===u.endColumn&&u.endLineNumber!==u.startLineNumber&&(u=new br(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.model.getLineMaxColumn(u.endLineNumber-1))),s===c&&r===h&&br.areIntersectingOrTouching(a,u)?a=br.plusRange(a,u):(null!==s&&this._renderNormalDecoration(e,a,s,r,n,o,i),s=c,r=h,a=u)}null!==s&&this._renderNormalDecoration(e,a,s,r,n,o,i)}_renderNormalDecoration(e,t,i,n,o,s,r){const a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(let l=0,d=a.length;l<d;l++){const e=a[l];if(e.outsideRenderedLine)continue;const t=e.lineNumber-s;if(n&&1===e.ranges.length){const t=e.ranges[0];0===t.width&&(e.ranges[0]=new vw(t.left,this._typicalHalfwidthCharacterWidth))}for(let n=0,s=e.ranges.length;n<s;n++){const s=e.ranges[n],a='<div class="cdr '+i+'" style="left:'+String(s.left)+"px;width:"+String(s.width)+"px;height:"+o+'px;"></div>';r[t]+=a}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class ny extends v{onclick(e,t){this._register(_i(e,en.CLICK,(e=>t(new nt(e)))))}onmousedown(e,t){this._register(_i(e,en.MOUSE_DOWN,(e=>t(new nt(e)))))}onmouseover(e,t){this._register(_i(e,en.MOUSE_OVER,(e=>t(new nt(e)))))}onnonbubblingmouseout(e,t){this._register(yi(e,(e=>t(new nt(e)))))}onkeydown(e,t){this._register(_i(e,en.KEY_DOWN,(e=>t(new Ye(e)))))}onkeyup(e,t){this._register(_i(e,en.KEY_UP,(e=>t(new Ye(e)))))}oninput(e,t){this._register(_i(e,en.INPUT,t))}onblur(e,t){this._register(_i(e,en.BLUR,t))}onfocus(e,t){this._register(_i(e,en.FOCUS,t))}ignoreGesture(e){nw.ignoreTarget(e)}}class oy extends ny{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new sw),this.onmousedown(this.bgDomNode,(e=>this._arrowMouseDown(e))),this.onmousedown(this.domNode,(e=>this._arrowMouseDown(e))),this._mousedownRepeatTimer=this._register(new wt),this._mousedownScheduleRepeatTimer=this._register(new vt)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((()=>{this._mousedownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,ow,(e=>{}),(()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()}}class sy extends v{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new vt)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)}),0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}class ry extends ny{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new sy(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new sw),this._shouldRender=!0,this.domNode=Xv(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,(e=>this._domNodeMouseDown(e)))}_createArrow(e){const t=this._register(new oy(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=Xv(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))})),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);i<=o&&o<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{}))):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{const n=Oi(this.domNode.domNode);t=e.posx-n.left,i=e.posy-n.top}const n=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,ow,(e=>{const t=this._sliderOrthogonalMousePosition(e),s=Math.abs(t-n);if(F&&s>140)return void this._setDesiredScrollPositionNow(o.getScrollPosition());const r=this._sliderMousePosition(e)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(r))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class ay{constructor(e,t,i,n,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new ay(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){const s=Math.max(0,i-e),r=Math.max(0,s-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(i*r/n))),d=(r-l)/(n-i),c=o*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:d,computedSliderPosition:Math.round(c)}}_refreshComputedValues(){const e=ay._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}const ly=$n("scrollbar-button-left",qn.triangleLeft),dy=$n("scrollbar-button-right",qn.triangleRight);class cy extends ry{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new ay(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-11)/2,i=(t.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:ly,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new ot(null,1,0))}),this._createArrow({className:"scra",icon:dy,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new ot(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}const hy=$n("scrollbar-button-up",qn.triangleUp),uy=$n("scrollbar-button-down",qn.triangleDown);class gy extends ry{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new ay(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-11)/2,i=(t.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:hy,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new ot(null,0,1))}),this._createArrow({className:"scra",icon:uy,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new ot(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class my{constructor(e,t,i,n,o,s){this._scrollStateBrand=void 0,e|=0,t|=0,i|=0,n|=0,o|=0,s|=0,this.rawScrollLeft=i,this.rawScrollTop=s,e<0&&(e=0),i+e>t&&(i=t-e),i<0&&(i=0),n<0&&(n=0),s+n>o&&(s=o-n),s<0&&(s=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=n,this.scrollHeight=o,this.scrollTop=s}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new my(void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new my(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,r=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:r,scrollTopChanged:a}}}class py extends v{constructor(e,t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new X),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new my(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;n=t?new by(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=by.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class fy{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function _y(e,t){const i=t-e;return function(t){return e+i*(1-function(e){return Math.pow(e,3)}(1-t))}}class by{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,a;return e<t?(r=e+.75*i,a=t-.75*i):(r=e-.75*i,a=t+.75*i),n=_y(e,r),o=_y(a,t),s=.33,function(e){return e<s?n(e/s):o((e-s)/(1-s))}}var n,o,s;return _y(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),i=this.scrollTop(t);return new fy(e,i,!1)}return new fy(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return by.start(e,t,i)}static start(e,t,i){i+=10;const n=Date.now()-10;return new by(e,t,n,i)}}class vy{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class wy{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const n=new vy(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return(-1!==this._front||-1!==this._rear)&&this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}wy.INSTANCE=new wy;class Cy extends ny{constructor(e,t,i){super(),this._onScroll=this._register(new X),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new X),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,B&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const n={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new gy(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new cy(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Xv(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Xv(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Xv(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onnonbubblingmouseout(this._listenOnDomNode,(e=>this._onMouseOut(e))),this._hideTimeout=this._register(new vt),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=p(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,B&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=p(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new ot(e))};this._mouseWheelToDispose.push(_i(this._listenOnDomNode,en.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=wy.INSTANCE;{const i=window.devicePixelRatio/oe.INSTANCE.getZoomFactor();F||W?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let n=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(n)>=Math.abs(o)?o=0:n=0),this._options.flipAxes&&([n,o]=[o,n]);const s=!B&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!s||o||(o=n,n=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,n*=this._options.fastScrollSensitivity);const r=this._scrollable.getFutureScrollPosition();let a={};if(n){const e=50*n,t=r.scrollTop-(e<0?Math.floor(e):Math.ceil(e));this._verticalScrollbar.writeScrollPosition(a,t)}if(o){const e=50*o,t=r.scrollLeft-(e<0?Math.floor(e):Math.ceil(e));this._horizontalScrollbar.writeScrollPosition(a,t)}if(a=this._scrollable.validateScrollPosition(a),r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),i=!0}}let n=i;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class yy extends Cy{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new py(0,(e=>ki(e)));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Sy extends Cy{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class ky extends yy{constructor(e,t){super(e,t),this._element=e,this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)})),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class xy extends pw{constructor(e,t,i,n){super(e);const o=this._context.configuration.options,s=o.get(91),r=o.get(66),a=o.get(34),l=o.get(94),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+Is(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new Sy(t.domNode,d,this._context.viewLayout.getScrollable())),fw.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=Xv(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(e,t,i)=>{const n={};if(t){const t=e.scrollTop;t&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(i){const t=e.scrollLeft;t&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.model.setScrollPosition(n,1)};this._register(_i(i.domNode,"scroll",(e=>c(i.domNode,!0,!0)))),this._register(_i(t.domNode,"scroll",(e=>c(t.domNode,!0,!1)))),this._register(_i(n.domNode,"scroll",(e=>c(n.domNode,!0,!1)))),this._register(_i(this.scrollbarDomNode.domNode,"scroll",(e=>c(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(129);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(64).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const e=this._context.configuration.options,t=e.get(91),i=e.get(66),n=e.get(34),o=e.get(94),s={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:o};this.scrollbar.updateOptions(s)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+Is(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}As(((e,t)=>{const i=e.getColor(Fm);i&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${i} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${i} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${i} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const n=e.getColor(Bm);n&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${n};\n\t\t\t}\n\t\t`);const o=e.getColor(Wm);o&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${o};\n\t\t\t}\n\t\t`);const s=e.getColor(Vm);s&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${s};\n\t\t\t}\n\t\t`)}));class Ly{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class Dy extends TC{_render(e,t,i){const n=[];for(let r=e;r<=t;r++){n[r-e]=[]}if(0===i.length)return n;i.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let o=null,s=0;for(let r=0,a=i.length;r<a;r++){const a=i[r],l=a.className;let d=Math.max(a.startLineNumber,e)-e;const c=Math.min(a.endLineNumber,t)-e;o===l?(d=Math.max(s+1,d),s=Math.max(s,c)):(o=l,s=c);for(let e=d;e<=s;e++)n[e].push(o)}return n}}class Ey extends Dy{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.glyphMarginClassName;s&&(i[n++]=new Ly(e.range.startLineNumber,e.range.endLineNumber,s))}return i}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),s='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+'px;"></div>',r=[];for(let a=t;a<=i;a++){const e=a-t,i=n[e];0===i.length?r[e]="":r[e]='<div class="cgmr codicon '+i.join(" ")+s}this._renderResult=r}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class Ny extends TC{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(130),n=t.get(43);this._lineHeight=t.get(58),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(130),n=t.get(43);return this._lineHeight=t.get(58),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const i=e.selections[0].getPosition();return!(null===(t=this._primaryPosition)||void 0===t?void 0:t.equals(i))&&(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=e.scrollWidth,l=this._lineHeight,d=this._primaryPosition,c=this.getGuidesByLine(s,r,d),h=[];for(let u=s;u<=r;u++){const r=u-s,d=c[r];let g="";const m=null!==(i=null===(t=e.visibleRangeForPosition(new Rn(u,1)))||void 0===t?void 0:t.left)&&void 0!==i?i:0;for(const t of d){const i=m+(t.visibleColumn-1)*this._spaceWidth;if(i>a||this._maxIndentLeft>0&&i>this._maxIndentLeft)break;const s=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",r=t.horizontalLine?(null!==(o=null===(n=e.visibleRangeForPosition(new Rn(u,t.horizontalLine.endColumn)))||void 0===n?void 0:n.left)&&void 0!==o?o:i+this._spaceWidth)-i:this._spaceWidth;g+=`<div class="core-guide ${t.className} ${s}" style="left:${i}px;height:${l}px;width:${r}px"></div>`}h[r]=g}this._renderResult=h}getGuidesByLine(e,t,i){const n=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?ca.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?ca.EnabledForActive:ca.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,o=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null;let s=0,r=0,a=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&i){const n=this._context.model.getActiveIndentGuide(i.lineNumber,e,t);s=n.startLineNumber,r=n.endLineNumber,a=n.indent}const{indentSize:l}=this._context.model.getTextModelOptions(),d=[];for(let c=e;c<=t;c++){const t=new Array;d.push(t);const i=n?n[c-e]:[],h=new Id(i),u=o?o[c-e]:[];for(let e=1;e<=u;e++){const n=(e-1)*l+1,o=0===i.length&&s<=c&&c<=r&&e===a;t.push(...h.takeWhile((e=>e.visibleColumn<n))||[]);const d=h.peek();d&&d.visibleColumn===n&&!d.horizontalLine||t.push(new ma(n,o?"core-guide-indent-active":"core-guide-indent",null))}t.push(...h.takeWhile((e=>!0))||[])}return d}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function Iy(e){if(!e||!e.isTransparent())return e}As(((e,t)=>{const i=e.getColor(g_);i&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=e.getColor(m_)||i;n&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${n} inset; }`);const o=[{bracketColor:R_,guideColor:H_,guideColorActive:q_},{bracketColor:O_,guideColor:z_,guideColorActive:G_},{bracketColor:P_,guideColor:U_,guideColorActive:Z_},{bracketColor:F_,guideColor:K_,guideColorActive:J_},{bracketColor:B_,guideColor:j_,guideColorActive:Q_},{bracketColor:W_,guideColor:$_,guideColorActive:Y_}],s=new cb;let r=o.map((t=>{var i,n;const o=e.getColor(t.bracketColor),s=e.getColor(t.guideColor),r=e.getColor(t.guideColorActive),a=Iy(null!==(i=Iy(s))&&void 0!==i?i:null==o?void 0:o.transparent(.3)),l=Iy(null!==(n=Iy(r))&&void 0!==n?n:o);if(a&&l)return{guideColor:a,guideColorActive:l}})).filter(ye);if(r.length>0){for(let e=0;e<30;e++){const i=r[e%r.length];t.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(e).replace(/ /g,".")} { --guide-color: ${i.guideColor}; --guide-color-active: ${i.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}));class Ty{constructor(){this._currentVisibleRange=new br(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class My{constructor(e,t,i,n,o,s){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=o,this.scrollType=s,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class Ay{constructor(e,t,i,n){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=n,this.type="selections";let o=e[0].startLineNumber,s=e[0].endLineNumber;for(let r=1,a=e.length;r<a;r++){const t=e[r];o=Math.min(o,t.startLineNumber),s=Math.max(s,t.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=s}}class Ry extends pw{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new zC(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,o=n.get(43),s=n.get(130);this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),this._viewLineOptions=new zw(i,this._context.theme.type),fw.write(this.domNode,7),this.domNode.setClassName("view-lines monaco-mouse-cursor-text"),Qv.applyFontInfo(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ct((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new Ct((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new Ty,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Uw(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(43),n=t.get(130);return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),Qv.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new zw(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let t=e;t<=i;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new My(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new Ay(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,n),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(null===i)return null;const n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new Rn(n,1);const o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(n<o||n>s)return null;let r=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t);const a=this._context.model.getLineMinColumn(n);return r<a&&(r=a),new Rn(n,r)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===Uw.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=br.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let o=[],s=0;const r=new Hw(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Rn(n.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let c=n.startLineNumber;c<=n.endLineNumber;c++){if(c<l||c>d)continue;const e=c===n.startLineNumber?n.startColumn:1,h=c===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(c),u=this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(c,e,h,r);if(u){if(t&&c<i){const e=a;a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Rn(c+1,1)).lineNumber,e!==a&&(u.ranges[u.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new bw(u.outsideRenderedLine,c,vw.from(u.ranges))}}return 0===s?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new Hw(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new Cw(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let s=t;s<=i;s++){const t=this._visibleLines.getVisibleLine(s);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth()):o=!1}return o&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){const i=this._visibleLines.getVisibleLine(o);if(i.needsMonospaceFontCheck()){const n=i.getWidth();n>t&&(t=n,e=o)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++){this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),W&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++){if(this._visibleLines.getVisibleLine(i).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o){const s=e.top,r=e.height,a=s+r;let l,d,c;if(n&&n.length>0){let e=n[0].startLineNumber,t=n[0].endLineNumber;for(let i=1,o=n.length;i<o;i++){const o=n[i];e=Math.min(e,o.startLineNumber),t=Math.max(t,o.endLineNumber)}l=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(e),c=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!i)return-1;l=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),c=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight}if(!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){const e=Math.min(r/this._lineHeight/2,this._cursorSurroundingLines);d-=e*this._lineHeight,c+=Math.max(0,e-1)*this._lineHeight}let h;if(0!==o&&4!==o||(c+=this._lineHeight),c-d>r){if(!l)return-1;h=d}else if(5===o||6===o)if(6===o&&s<=d&&c<=a)h=s;else{const e=d-Math.max(5*this._lineHeight,.2*r),t=c-r;h=Math.max(t,e)}else if(1===o||2===o)if(2===o&&s<=d&&c<=a)h=s;else{const e=(d+c)/2;h=Math.max(0,e-r/2)}else h=this._computeMinimumScrolling(s,a,d,c,3===o,4===o);return h}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width;let o=1073741824,s=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)o=Math.min(o,Math.round(e.left)),s=Math.max(s,Math.round(e.left+e.width))}else for(const r of e.selections){if(r.startLineNumber!==r.endLineNumber)return null;const e=this._visibleRangesForLineRange(r.startLineNumber,r.startColumn,r.endColumn);if(!e)return null;for(const t of e.ranges)o=Math.min(o,Math.round(t.left)),s=Math.max(s,Math.round(t.left+t.width))}if(o=Math.max(0,o-Ry.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding,"selections"===e.type&&s-o>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(i,n,o,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,i,n,o,s){o=!!o,s=!!s;const r=(t|=0)-(e|=0);return(n|=0)-(i|=0)<r?o?i:s?Math.max(0,n-r):i<e?i:n>t?Math.max(0,n-r):e:i}}Ry.HORIZONTAL_EXTRA_PX=30;class Oy extends Dy{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(129);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.linesDecorationsClassName;s&&(i[n++]=new Ly(e.range.startLineNumber,e.range.endLineNumber,s));const r=e.options.firstLineDecorationClassName;r&&(i[n++]=new Ly(e.range.startLineNumber,e.range.startLineNumber,r))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',s=[];for(let r=t;r<=i;r++){const e=r-t,i=n[e];let a="";for(let t=0,n=i.length;t<n;t++)a+='<div class="cldr '+i[t]+o;s[e]=a}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Py extends Dy{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.marginClassName;s&&(i[n++]=new Ly(e.range.startLineNumber,e.range.endLineNumber,s))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let s=t;s<=i;s++){const e=s-t,i=n[e];let r="";for(let t=0,n=i.length;t<n;t++)r+='<div class="cmdr '+i[t]+'" style=""></div>';o[e]=r}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Fy{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=Fy._clamp(e),this.g=Fy._clamp(t),this.b=Fy._clamp(i),this.a=Fy._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}Fy.Empty=new Fy(0,0,0,0);class By extends v{constructor(){super(),this._onDidChange=new X,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(lh.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()})))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new By),this._INSTANCE}_updateColorMap(){const e=lh.getColorMap();if(!e)return this._colors=[Fy.Empty],void(this._backgroundIsLight=!0);this._colors=[Fy.Empty];for(let i=1;i<e.length;i++){const t=e[i].rgba;this._colors[i]=new Fy(t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}By._INSTANCE=null;class Wy{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class Vy{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){const i=this.outputLineIndex>0?t:0;return new Rn(e+this.outputLineIndex,i+this.outputOffset+1)}}class Hy{constructor(e,t,i,n,o){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i,this.injectionOffsets=n,this.injectionOptions=o}getInputOffsetOfOutputPosition(e,t){let i=0;if(i=0===e?t:this.breakOffsets[e-1]+t,null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&i>this.injectionOffsets[n];n++)i<this.injectionOffsets[n]+this.injectionOptions[n].content.length?i=this.injectionOffsets[n]:i-=this.injectionOptions[n].content.length;return i}getOutputPositionOfInputOffset(e,t=2){let i=0;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n])&&(1===t||e!==this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return e+=i,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,s=0;for(;i<=n;){o=i+(n-i)/2|0;const r=this.breakOffsets[o];if(s=o>0?this.breakOffsets[o-1]:0,0===t)if(e<=s)n=o-1;else{if(!(e>r))break;i=o+1}else if(e<s)n=o-1;else{if(!(e>=r))break;i=o+1}}return new Vy(o,e-s)}outputPositionToOffsetInUnwrappedLine(e,t){let i=(e>0?this.breakOffsets[e-1]:0)+t;return e>0&&(i-=this.wrappedTextIndentLength),i}normalizeOffsetAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t)return e===i.offsetInUnwrappedLine+i.length?i.offsetInUnwrappedLine+i.length:i.offsetInUnwrappedLine;if(1===t){let e=i.offsetInUnwrappedLine+i.length,t=i.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}let n=i.offsetInUnwrappedLine,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)n-=this.injectionOptions[o-1].content.length,o++;return n}getInjectedText(e,t){const i=this.outputPositionToOffsetInUnwrappedLine(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let o=0;o<t.length;o++){const s=i[o].content.length,r=t[o]+n,a=t[o]+n+s;if(r>e)break;if(e<=a)return{injectedTextIndex:o,offsetInUnwrappedLine:r,length:s};n+=s}}}}class zy{constructor(e,t){this.tabSize=e,this.data=t}}class Uy{constructor(e,t,i,n,o,s,r){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=s,this.inlineDecorations=r}}class Ky{constructor(e,t,i,n,o,s,r,a,l,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=Ky.isBasicASCII(i,s),this.containsRTL=Ky.containsRTL(i,this.isBasicASCII,o),this.tokens=r,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=d}static isBasicASCII(e,t){return!t||Ao(e)}static containsRTL(e,t,i){return!(t||!i)&&Io(e)}}class jy{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class $y{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new jy(new br(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class qy{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class Gy{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}const Zy=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();class Jy{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Jy.soften(e,.8),this.charDataLight=Jy.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=Kl(e[n]*t);return i}renderChar(e,t,i,n,o,s,r,a,l,d,c){const h=1*this.scale,u=2*this.scale,g=c?1:u;if(t+h>e.width||i+g>e.height)return void console.warn("bad render request outside image data");const m=d?this.charDataLight:this.charDataNormal,p=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(n,l),f=4*e.width,_=r.r,b=r.g,v=r.b,w=o.r-_,C=o.g-b,y=o.b-v,S=Math.max(s,a),k=e.data;let x=p*h*u,L=i*f+4*t;for(let D=0;D<g;D++){let e=L;for(let t=0;t<h;t++){const t=m[x++]/255*(s/255);k[e++]=_+w*t,k[e++]=b+C*t,k[e++]=v+y*t,k[e++]=S}L+=f}}blockRenderChar(e,t,i,n,o,s,r,a){const l=1*this.scale,d=2*this.scale,c=a?1:d;if(t+l>e.width||i+c>e.height)return void console.warn("bad render request outside image data");const h=4*e.width,u=o/255*.5,g=s.r,m=s.g,p=s.b,f=g+(n.r-g)*u,_=m+(n.g-m)*u,b=p+(n.b-p)*u,v=Math.max(o,r),w=e.data;let C=i*h+4*t;for(let y=0;y<c;y++){let e=C;for(let t=0;t<l;t++)w[e++]=f,w[e++]=_,w[e++]=b,w[e++]=v;C+=h}}}const Qy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Yy=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=Qy[e[i]]<<4|15&Qy[e[i+1]];return t},Xy={1:c((()=>Yy("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:c((()=>Yy("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class eS{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=Xy[e]?new Jy(Xy[e](),e):eS.createFromSampleData(eS.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const o of Zy)i.fillText(String.fromCharCode(o),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");let i=eS._downsample(e,t);return new Jy(i,t)}static _downsampleChar(e,t,i,n,o){const s=1*o,r=2*o;let a=n,l=0;for(let d=0;d<r;d++){const n=d/r*16,o=(d+1)/r*16;for(let r=0;r<s;r++){const d=r/s*10,c=(r+1)/s*10;let h=0,u=0;for(let i=n;i<o;i++){const n=t+3840*Math.floor(i),o=1-(i-Math.floor(i));for(let t=d;t<c;t++){const i=1-(t-Math.floor(t)),s=n+4*Math.floor(t),r=i*o;u+=r,h+=e[s]*e[s+3]/255*r}}const g=h/u;l=Math.max(l,g),i[a++]=Kl(g)}}return l}static _downsample(e,t){const i=2*t*1*t,n=96*i,o=new Uint8ClampedArray(n);let s=0,r=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,r,o,s,t)),s+=i,r+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)o[t]*=e}return o}}class tS{constructor(e,t,i){const n=e.options,o=n.get(127),s=n.get(129),r=s.minimap,a=n.get(43),l=n.get(64);this.renderMinimap=r.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=r.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(93),this.showSlider=l.showSlider,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(58),this.minimapLeft=r.minimapLeft,this.minimapWidth=r.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=r.minimapCanvasInnerWidth,this.canvasInnerHeight=r.minimapCanvasInnerHeight,this.canvasOuterWidth=r.minimapCanvasOuterWidth,this.canvasOuterHeight=r.minimapCanvasOuterHeight,this.isSampling=r.minimapIsSampling,this.editorHeight=s.height,this.fontScale=r.minimapScale,this.minimapLineHeight=r.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=c((()=>eS.create(this.fontScale,a.fontFamily))),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=tS._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=tS._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(Hf);return i?new Fy(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(zf);return t?Fy._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class iS{constructor(e,t,i,n,o,s,r,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=s,this.startLineNumber=r,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,s,r,a,l,d,c){const h=e.pixelRatio,u=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/u),m=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=a*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),i=Math.max(1,Math.floor(o*o/t)),n=Math.max(0,e.minimapHeight-i),s=n/(d-o),c=l*s,h=n>0,u=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new iS(l,d,h,s,c,i,1,Math.min(r,u))}let p,f;if(s&&i!==r){const e=i-t+1;p=Math.floor(e*u/h)}else{const e=o/m;p=Math.floor(e*u/h)}f=e.scrollBeyondLastLine?(r-1)*u/h:Math.max(0,r*u/h-p),f=Math.min(e.minimapHeight-p,f);const _=f/(d-o),b=l*_;let v=0;if(e.scrollBeyondLastLine){v=o/m-1}if(g>=r+v){return new iS(l,d,f>0,_,b,p,1,r)}{let e=Math.max(1,Math.floor(t-b*h/u));c&&c.scrollHeight===d&&(c.scrollTop>l&&(e=Math.min(e,c.startLineNumber)),c.scrollTop<l&&(e=Math.max(e,c.startLineNumber)));const i=Math.min(r,e+g-1);return new iS(l,d,!0,_,(t-e+(l-n)/m)*u/h,p,e,i)}}}class nS{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}nS.INVALID=new nS(-1);class oS{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new HC((()=>nS.INVALID)),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let i=0,n=t.length;i<n;i++)if(-1===t[i].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class sS{constructor(e,t,i,n){this._backgroundFillData=sS._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,s=i.b,r=i.a,a=new Uint8ClampedArray(e*t*4);let l=0;for(let d=0;d<t;d++)for(let t=0;t<e;t++)a[l]=n,a[l+1]=o,a[l+2]=s,a[l+3]=r,l+=4;return a}}class rS{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const n=e.pixelRatio,o=e.lineHeight,s=e.scrollBeyondLastLine,{minimapLineCount:r}=Kr.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:s,height:e.editorHeight,lineHeight:o,pixelRatio:n}),a=t/r,l=a/2;if(!i||0===i.minimapLines.length){let e=[];if(e[0]=1,r>1){for(let t=0,i=r-1;t<i;t++)e[t]=Math.round(t*a+l);e[r-1]=t}return[new rS(a,e),[]]}const d=i.minimapLines,c=d.length;let h=[],u=0,g=0,m=1;let p=[],f=null;for(let _=0;_<r;_++){const e=Math.max(m,Math.round(_*a)),i=Math.max(e,Math.round((_+1)*a));for(;u<c&&d[u]<e;){if(p.length<10){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},p.push(f)),g--}u++}let n;if(u<c&&d[u]<=i)n=d[u],u++;else if(n=0===_?1:_+1===r?t:Math.round(_*a+l),p.length<10){const e=u+1+g;f&&"inserted"===f.type&&f._i===_-1?f.insertToLineNumber++:(f={type:"inserted",_i:_,insertFromLineNumber:e,insertToLineNumber:e},p.push(f)),g++}h[_]=n,m=n}if(p.length<10)for(;u<c;){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},p.push(f)),g--,u++}else p=[{type:"flush"}];return[new rS(a,h),p]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class aS extends pw{constructor(e){super(e),this.tokensColorTracker=By.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new tS(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=rS.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new lS(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new tS(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=rS.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?n[o]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new vr(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new br(n,1,o,this._context.model.getLineMaxColumn(o))}else i=new br(e,1,t,this._context.model.getLineMaxColumn(t));const n=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),o=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new qy(new br(n,i.startColumn,o,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new br(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class lS extends v{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Bf),this._domNode=Xv(document.createElement("div")),fw.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Xv(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Xv(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Xv(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Xv(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Xv(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=vi(this._domNode.domNode,"mousedown",(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const t=Oi(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e.buttons,e.posx,i,e.posy,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let n=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber;n=Math.min(n,this._model.getLineCount()),this._model.revealLineNumber(n)})),this._sliderMouseMoveMonitor=new sw,this._sliderMouseDownListener=vi(this._slider.domNode,"mousedown",(e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)})),this._gestureDisposable=nw.addTarget(this._domNode.domNode),this._sliderTouchStartListener=_i(this._domNode.domNode,tw.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=_i(this._domNode.domNode,tw.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=vi(this._domNode.domNode,tw.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,i,n,o){this._slider.toggleClassName("active",!0);const s=(e,n)=>{const s=Math.abs(n-t);if(F&&s>140)return void this._model.setScrollTop(o.scrollTop);const r=e-i;this._model.setScrollTop(o.getDesiredScrollTopFromDelta(r))};n!==i&&s(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,ow,(e=>s(e.posy,e.posx)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new sS(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Bf),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=iS.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(br.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort(((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0)));const{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,r=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,o);const d=new dS(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(l,t,d,e,s),this._renderDecorationsLineHighlights(l,i,d,e,s);const c=new dS(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(l,t,c,e,s,a,r,n),this._renderDecorationsHighlights(l,i,c,e,s,a,r,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,r=0;for(const a of t){const t=Math.max(n.startLineNumber,a.startLineNumber),l=Math.min(n.endLineNumber,a.endLineNumber);if(t>l)continue;for(let e=t;e<=l;e++)i.set(e,!0);const d=(t-n.startLineNumber)*o,c=(l-n.startLineNumber)*o+o;r>=d||(r>s&&e.fillRect(8,s,e.canvas.width,r-s),s=d),r=c}r>s&&e.fillRect(8,s,e.canvas.width,r-s)}_renderDecorationsLineHighlights(e,t,i,n,o){const s=new Map;for(let r=t.length-1;r>=0;r--){const a=t[r],l=a.options.minimap;if(!l||l.position!==la.Inline)continue;const d=Math.max(n.startLineNumber,a.range.startLineNumber),c=Math.min(n.endLineNumber,a.range.endLineNumber);if(d>c)continue;const h=l.getColor(this._theme);if(!h||h.isTransparent())continue;let u=s.get(h.toString());u||(u=h.transparent(.5).toString(),s.set(h.toString(),u)),e.fillStyle=u;for(let t=d;t<=c;t++){if(i.has(t))continue;i.set(t,!0);const s=(d-n.startLineNumber)*o;e.fillRect(8,s,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,s,r,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const l of t){const t=Math.max(n.startLineNumber,l.startLineNumber),d=Math.min(n.endLineNumber,l.endLineNumber);if(!(t>d))for(let c=t;c<=d;c++)this.renderDecorationOnLine(e,i,l,this._selectionColor,n,c,o,o,s,r,a)}}_renderDecorationsHighlights(e,t,i,n,o,s,r,a){for(const l of t){const t=l.options.minimap;if(!t)continue;const d=Math.max(n.startLineNumber,l.range.startLineNumber),c=Math.min(n.endLineNumber,l.range.endLineNumber);if(d>c)continue;const h=t.getColor(this._theme);if(h&&!h.isTransparent())for(let u=d;u<=c;u++)switch(t.position){case la.Inline:this.renderDecorationOnLine(e,i,l.range,h,n,u,o,o,s,r,a);continue;case la.Gutter:const t=(u-n.startLineNumber)*o,d=2;this.renderDecoration(e,h,d,t,2,o);continue}}}renderDecorationOnLine(e,t,i,n,o,s,r,a,l,d,c){const h=(s-o.startLineNumber)*a;if(h+r<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:u,endLineNumber:g}=i,m=u===s?i.startColumn:1,p=g===s?i.endColumn:this._model.getLineMaxColumn(s),f=this.getXOffsetForPosition(t,s,m,l,d,c),_=this.getXOffsetForPosition(t,s,p,l,d,c);this.renderDecoration(e,n,f,h,_-f,r)}getXOffsetForPosition(e,t,i,n,o,s){if(1===i)return 8;if((i-1)*o>=s)return s;let r=e.get(t);if(!r){const i=this._model.getLineContent(t);r=[8];let a=8;for(let e=1;e<i.length+1;e++){const t=i.charCodeAt(e-1),l=a+(9===t?n*o:Po(t)?2*o:o);if(l>=s){r[e]=s;break}r[e]=l,a=l}e.set(t,r)}return i-1<r.length?r[i-1]:s}renderDecoration(e,t,i,n,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new oS(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;let[s,r,a]=lS._renderUntouchedLines(o,t,i,n,this._lastRenderData);const l=this._model.getMinimapLinesRenderingData(t,i,a),d=this._model.getOptions().tabSize,c=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,u=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,m=g.backgroundIsLight(),p=this._model.options.renderMinimap,f=this._model.options.charRenderer(),_=this._model.options.fontScale,b=this._model.options.minimapCharWidth,v=(1===p?2:3)*_,w=n>v?Math.floor((n-v)/2):0,C=h.a/255,y=new Fy(Math.round((h.r-c.r)*C+c.r),Math.round((h.g-c.g)*C+c.g),Math.round((h.b-c.b)*C+c.b),255);let S=0;const k=[];for(let D=0,E=i-t+1;D<E;D++)a[D]&&lS._renderLine(o,y,h.a,m,p,b,g,u,f,S,w,d,l[D],_,n),k[D]=new nS(S),S+=n;const x=-1===s?0:s,L=(-1===r?o.height:r)-x;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,x,o.width,L),new oS(e,o,k)}static _renderUntouchedLines(e,t,i,n,o){const s=[];if(!o){for(let e=0,n=i-t+1;e<n;e++)s[e]=!0;return[-1,-1,s]}const r=o._get(),a=r.imageData.data,l=r.rendLineNumberStart,d=r.lines,c=d.length,h=e.width,u=e.data,g=(i-t+1)*n*h*4;let m=-1,p=-1,f=-1,_=-1,b=-1,v=-1,w=0;for(let C=t;C<=i;C++){const e=C-t,i=C-l,o=i>=0&&i<c?d[i].dy:-1;if(-1===o){s[e]=!0,w+=n;continue}const r=o*h*4,y=(o+n)*h*4,S=w*h*4,k=(w+n)*h*4;_===r&&v===S?(_=y,v=k):(-1!==f&&(u.set(a.subarray(f,_),b),-1===m&&0===f&&f===b&&(m=_),-1===p&&_===g&&f===b&&(p=f)),f=r,_=y,b=S,v=k),s[e]=!1,w+=n}-1!==f&&(u.set(a.subarray(f,_),b),-1===m&&0===f&&f===b&&(m=_),-1===p&&_===g&&f===b&&(p=f));return[-1===m?-1:m/(4*h),-1===p?-1:p/(4*h),s]}static _renderLine(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m){const p=u.content,f=u.tokens,_=e.width-s,b=1===m;let v=8,w=0,C=0;for(let y=0,S=f.getCount();y<S;y++){const u=f.getEndOffset(y),m=f.getForeground(y),S=r.getColor(m);for(;w<u;w++){if(v>_)return;const r=p.charCodeAt(w);if(9===r){const e=h-(w+C)%h;C+=e-1,v+=e*s}else if(32===r)v+=s;else{const h=Po(r)?2:1;for(let u=0;u<h;u++)if(2===o?l.blockRenderChar(e,v,d+c,S,a,t,i,b):l.renderChar(e,v,d+c,r,S,a,t,i,g,n,b),v+=s,v>_)return}}}}}class dS{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,o=this._endLineNumber-this._startLineNumber+1;n<o;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}As(((e,t)=>{const i=e.getColor(Uf);i&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${i}; }`);const n=e.getColor(Kf);n&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${n}; }`);const o=e.getColor(jf);o&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${o}; }`);const s=e.getColor(Fm);s&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)}));class cS extends pw{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=Xv(document.createElement("div")),fw.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=Xv(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._renderWidget(this._widgets[e])}}}class hS{constructor(e,t){const i=e.options;this.lineHeight=i.get(58),this.pixelRatio=i.get(127),this.overviewRulerLanes=i.get(73),this.renderBorder=i.get(72);const n=t.getColor(y_);this.borderColor=n?n.toString():null,this.hideCursor=i.get(51);const o=t.getColor(c_);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(64),r=s.enabled,a=s.side,l=r?t.getColor(S_)||lh.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:Yu.Format.CSS.formatHex(l);const d=i.get(129).overviewRuler;this.top=d.top,this.right=d.right,this.domWidth=d.width,this.domHeight=d.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[c,h]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=c,this.w=h}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),o=n-t-i,s=e+t;return[[0,e,s,e,e+t+o,e,s,e],[0,t,o,t+o,i,t+o+i,o+i,t+o+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class uS extends pw{constructor(e){super(e),this._domNode=Xv(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=lh.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new hS(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(Rn.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=t/this._context.viewLayout.getScrollHeight(),s=this._context.model.getAllOverviewRulerDecorations(this._context.theme),r=6*this._settings.pixelRatio|0,a=r/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const d=this._settings.x,c=this._settings.w;s.sort(Gy.cmp);for(const h of s){const e=h.color,s=h.data;l.fillStyle=e;let u=0,g=0,m=0;for(let h=0,p=s.length/3;h<p;h++){const e=s[3*h],p=s[3*h+1],f=s[3*h+2];let _=n.getVerticalOffsetForLineNumber(p)*o|0,b=(n.getVerticalOffsetForLineNumber(f)+i)*o|0;if(b-_<r){let e=(_+b)/2|0;e<a?e=a:e+a>t&&(e=t-a),_=e-a,b=e+a}_>m+1||e!==u?(0!==h&&l.fillRect(d[u],g,c[u],m-g),u=e,g=_,m=b):b>m&&(m=b)}l.fillRect(d[u],g,c[u],m-g)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,i=e/2|0,s=this._settings.x[7],r=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,d=-100;for(let c=0,h=this._cursorPositions.length;c<h;c++){const h=this._cursorPositions[c];let u=n.getVerticalOffsetForLineNumber(h.lineNumber)*o|0;u<i?u=i:u+i>t&&(u=t-i);const g=u-i,m=g+e;g>d+1?(0!==c&&l.fillRect(s,a,r,d-a),a=g,d=m):m>d&&(d=m)}l.fillRect(s,a,r,d-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}class gS{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class mS{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class pS{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(mS.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=i/Math.floor(this._outerHeight),o=Math.floor(4*this._pixelRatio/2);let s=[];for(let r=0,a=this._zones.length;r<a;r++){const a=this._zones[r];if(!e){const e=a.getColorZones();if(e){s.push(e);continue}}const l=Math.floor(n*this._getVerticalOffsetForLine(a.startLineNumber)),d=Math.floor(n*(this._getVerticalOffsetForLine(a.endLineNumber)+t));let c=Math.floor((l+d)/2),h=d-c;h<o&&(h=o),c-h<0&&(c=h),c+h>i&&(c=i-h);const u=a.color;let g=this._color2Id[u];g||(g=++this._lastAssignedId,this._color2Id[u]=g,this._id2Color[g]=u);const m=new gS(c-h,c+h,g);a.setColorZone(m),s.push(m)}return this._colorZonesInvalid=!1,s.sort(gS.compare),s}}class fS extends mw{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=Xv(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new pS((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(58)),this._zoneManager.setPixelRatio(i.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(t.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(t.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,s=0,r=0;for(const a of t){const t=a.colorId,l=a.from,d=a.to;t!==o?(e.fillRect(0,s,n,r-s),o=t,e.fillStyle=i[o],s=l,r=d):r>=l?r=Math.max(r,d):(e.fillRect(0,s,n,r-s),s=l,r=d)}e.fillRect(0,s,n,r-s)}}class _S extends pw{constructor(e){super(e),this.domNode=Xv(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.model.getTextModelOptions(),n=i;let o=t-e;for(;o>0;){const e=Xv(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}As(((e,t)=>{const i=e.getColor(b_);i&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)}));class bS extends pw{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(91);this._useShadows=t.useShadows,this._domNode=Xv(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(129);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(91);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}As(((e,t)=>{const i=e.getColor(Fm);i&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)}));class vS{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class wS{constructor(e,t){this.lineNumber=e,this.ranges=t}}function CS(e){return new vS(e)}function yS(e){return new wS(e.lineNumber,e.ranges.map(CS))}class SS extends TC{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,s=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===n&&(o=i[e].ranges[0]);const r=t[t.length-1].lineNumber;if(r===e.endLineNumber)for(let e=i.length-1;!s&&e>=0;e--)i[e].lineNumber===r&&(s=i[e].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let r=0,a=t.length;r<a;r++){const e=t[r].ranges[0],i=e.left,l=e.left+e.width,d={top:0,bottom:0},c={top:0,bottom:0};if(r>0){const e=t[r-1].ranges[0].left,o=t[r-1].ranges[0].left+t[r-1].ranges[0].width;kS(i-e)<n?d.top=2:i>e&&(d.top=1),kS(l-o)<n?c.top=2:e<l&&l<o&&(c.top=1)}else o&&(d.top=o.startStyle.top,c.top=o.endStyle.top);if(r+1<a){const e=t[r+1].ranges[0].left,o=t[r+1].ranges[0].left+t[r+1].ranges[0].width;kS(i-e)<n?d.bottom=2:e<i&&i<o&&(d.bottom=1),kS(l-o)<n?c.bottom=2:l<o&&(c.bottom=1)}else s&&(d.bottom=s.startStyle.bottom,c.bottom=s.endStyle.bottom);e.startStyle=d,e.endStyle=c}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(yS);return!this._visibleRangesHaveGaps(n)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const o=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let d=0,c=n.length;d<c;d++){const c=n[d],h=c.lineNumber,u=h-t,g=i&&(h===l||h===a)?r:s,m=i&&h===a?1:0;let p="",f="";for(let e=0,t=c.ranges.length;e<t;e++){const t=c.ranges[e];if(o){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){p+=this._createSelectionPiece(m,g,SS.SELECTION_CLASS_NAME,t.left-SS.ROUNDED_PIECE_WIDTH,SS.ROUNDED_PIECE_WIDTH);let i=SS.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+SS.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+SS.SELECTION_BOTTOM_RIGHT),p+=this._createSelectionPiece(m,g,i,t.left-SS.ROUNDED_PIECE_WIDTH,SS.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){p+=this._createSelectionPiece(m,g,SS.SELECTION_CLASS_NAME,t.left+t.width,SS.ROUNDED_PIECE_WIDTH);let e=SS.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+SS.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+SS.SELECTION_BOTTOM_LEFT),p+=this._createSelectionPiece(m,g,e,t.left+t.width,SS.ROUNDED_PIECE_WIDTH)}}let i=SS.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+SS.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+SS.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+SS.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+SS.SELECTION_BOTTOM_RIGHT)}f+=this._createSelectionPiece(m,g,i,t.left,t.width)}e[u][0]+=p,e[u][1]+=f}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let s=i;s<=n;s++){t[s-i]=["",""]}const o=[];for(let s=0,r=this._selections.length;s<r;s++){const n=this._selections[s];if(n.isEmpty()){o[s]=null;continue}const r=this._getVisibleRangesWithStyle(n,e,this._previousFrameVisibleRangesWithStyle[s]);o[s]=r,this._actualRenderOneSelection(t,i,this._selections.length>1,r)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function kS(e){return e<0?-e:e}SS.SELECTION_CLASS_NAME="selected-text",SS.SELECTION_TOP_LEFT="top-left-radius",SS.SELECTION_BOTTOM_LEFT="bottom-left-radius",SS.SELECTION_TOP_RIGHT="top-right-radius",SS.SELECTION_BOTTOM_RIGHT="bottom-right-radius",SS.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",SS.ROUNDED_PIECE_WIDTH=10,As(((e,t)=>{const i=e.getColor(mp);i&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${i}; }`);const n=e.getColor(fp);n&&t.addRule(`.monaco-editor .selected-text { background-color: ${n}; }`);const o=e.getColor(pp);o&&!o.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)}));class xS{constructor(e,t,i,n,o,s){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=s}}class LS{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(43);this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Xv(document.createElement("div")),this._domNode.setClassName("cursor monaco-mouse-cursor-text"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Qv.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new Rn(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(43);return this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),Qv.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===Vr.Line||this._cursorStyle===Vr.LineThin){const i=e.visibleRangeForPosition(this._position);if(!i||i.outsideRenderedLine)return null;let n;if(this._cursorStyle===Vr.Line){if(n=mn(this._lineCursorWidth>0?this._lineCursorWidth:2),n>2){const e=this._context.model.getLineContent(this._position.lineNumber),i=Eo(e,this._position.column-1);t=e.substr(this._position.column-1,i)}}else n=mn(1);let o=i.left;n>=2&&o>=1&&(o-=1);const s=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new xS(s,o,n,this._lineHeight,t,"")}const i=this._context.model.getLineContent(this._position.lineNumber),n=Eo(i,this._position.column-1),o=e.linesVisibleRangesForRange(new br(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+n),!1);if(!o||0===o.length)return null;const s=o[0];if(s.outsideRenderedLine||0===s.ranges.length)return null;const r=s.ranges[0],a=r.width<1?this._typicalHalfwidthCharacterWidth:r.width;let l="";if(this._cursorStyle===Vr.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=i.substr(this._position.column-1,n);const o=e.tokens.findTokenIndexAtOffset(this._position.column-1);l=e.tokens.getClassName(o)}let d=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,c=this._lineHeight;return this._cursorStyle!==Vr.Underline&&this._cursorStyle!==Vr.UnderlineThin||(d+=this._lineHeight-2,c=2),new xS(d,r.left,a,c,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor monaco-mouse-cursor-text ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class DS extends pw{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new LS(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=Xv(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new vt,this._cursorFlatBlinkInterval=new wt,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new LS(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){const t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),DS.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),DS.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Vr.Line:e+=" cursor-line-style";break;case Vr.Block:e+=" cursor-block-style";break;case Vr.Underline:e+=" cursor-underline-style";break;case Vr.LineThin:e+=" cursor-line-thin-style";break;case Vr.BlockOutline:e+=" cursor-block-outline-style";break;case Vr.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,s=this._secondaryCursors.length;o<s;o++){const n=this._secondaryCursors[o].render(e);n&&(t[i++]=n)}this._renderData=t}getLastRenderData(){return this._renderData}}DS.BLINK_INTERVAL=500,As(((e,t)=>{const i=e.getColor(c_);if(i){let n=e.getColor(h_);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}}));const ES=()=>{throw new Error("Invalid change accessor")};class NS extends pw{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=Xv(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Xv(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of e)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace((e=>{const n=Object.keys(this._zones);for(let o=0,s=n.length;o<s;o++){const s=n[o],r=this._zones[s],a=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=a.isInHiddenArea;const l=t.get(s);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(s,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(r.delegate,a.heightInPx),i=!0)}})),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Rn(i,this._context.model.getModelLineMaxColumn(i))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),o=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace((i=>{const o={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{e(t)}catch(G1){n(G1)}}(e,o),o.addZone=ES,o.removeZone=ES,o.layoutZone=ES})),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:Xv(t.domNode),marginDomNode:t.marginDomNode?Xv(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(G1){n(G1)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(G1){n(G1)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(const s of t)this._zones[s.id].isInHiddenArea||(i[s.id]=s,n=!0);const o=Object.keys(this._zones);for(let s=0,r=o.length;s<r;s++){const t=o[s],n=this._zones[t];let r=0,a=0,l="none";i.hasOwnProperty(t)?(r=i[t].verticalOffset-e.bigNumbersDelta,a=i[t].height,l="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(i[t].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(r),n.domNode.setHeight(a),n.domNode.setDisplay(l),n.marginDomNode&&(n.marginDomNode.setTop(r),n.marginDomNode.setHeight(a),n.marginDomNode.setDisplay(l))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class IS{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class TS{constructor(e,t,i){this.configuration=e,this.theme=new IS(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class MS{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new br(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class AS extends mw{constructor(e,t,i,n,o,s){super(),this._selections=[new vr(1,1,1,1)],this._renderAnimationFrame=null;const r=new FC(t,n,o,e);this._context=new TS(t,i.getColorTheme(),n),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange((e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)}))),this._viewParts=[],this._textAreaHandler=new PC(this._context,r,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Xv(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Xv(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Xv(document.createElement("div")),fw.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new xy(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Ry(this._context,this._linesContent),this._viewZones=new NS(this._context),this._viewParts.push(this._viewZones);const a=new uS(this._context);this._viewParts.push(a);const l=new bS(this._context);this._viewParts.push(l);const d=new $C(this._context);this._viewParts.push(d),d.addDynamicOverlay(new ey(this._context)),d.addDynamicOverlay(new SS(this._context)),d.addDynamicOverlay(new Ny(this._context)),d.addDynamicOverlay(new iy(this._context));const c=new qC(this._context);this._viewParts.push(c),c.addDynamicOverlay(new ty(this._context)),c.addDynamicOverlay(new Ey(this._context)),c.addDynamicOverlay(new Py(this._context)),c.addDynamicOverlay(new Oy(this._context)),c.addDynamicOverlay(new MC(this._context));const h=new AC(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(c.getDomNode()),this._viewParts.push(h),this._contentWidgets=new ZC(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new DS(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new cS(this._context),this._viewParts.push(this._overlayWidgets);const u=new _S(this._context);this._viewParts.push(u);const g=new aS(this._context);if(this._viewParts.push(g),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(u.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new IC(this._context,r,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new Xw(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Rn(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Rn(e,t)))}}_applyLayout(){const e=this._context.configuration.options.get(129);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+Is(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=Si(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(G1){n(G1)}}((()=>this._actualRender()))}_getViewPartsToRender(){let e=[],t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!pi(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new MS(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new _w(this._context.viewLayout,i,this._viewLines);for(const o of e)o.prepareRender(n);for(const o of e)o.render(n),o.onDidRender();Math.abs(ae()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new Rn(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?BC.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new fS(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const i=e.position?e.position.position:null;null!==i&&(t=new br(i.lineNumber,i.column,i.lineNumber,i.column))}const i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class RS{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Eb(new br(1,1,1,1),0,new Rn(1,1),0),new Eb(new br(1,1,1,1),0,new Rn(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Mb(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new vr(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new vr(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),r=this._validatePositionWithCache(e,n,i,s),a=this._validatePositionWithCache(e,o,n,r);return i.equals(s)&&n.equals(r)&&o.equals(a)?t:new Eb(br.fromPositions(r,a),t.selectionStartLeftoverVisibleColumns+n.column-r.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=RS._validateViewState(e.viewModel,i)),t){const i=e.model.validateRange(t.selectionStart),n=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),s=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new Eb(i,n,o,s)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Eb(n,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Eb(n,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new Rn(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new Rn(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new br(n.lineNumber,n.column,o.lineNumber,o.column),r=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Eb(s,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class OS{constructor(e){this.context=e,this.primaryCursor=new RS(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;i.isBefore(e)&&(e=i)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(i)&&(e=i)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(Mb.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,i=e.length;if(t<i){let e=i-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>i){let e=t-i;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let n=0;n<i;n++)this.secondaryCursors[n].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new RS(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0===this.secondaryCursors.length)return;let e=this._getAll(),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],s=n.selection,r=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=r.isEmpty()||s.isEmpty()?r.getStartPosition().isBeforeOrEqual(s.getEndPosition()):r.getStartPosition().isBefore(s.getEndPosition()),a){const s=n.index<o.index?i:i+1,r=n.index<o.index?i+1:i,a=t[r].index,l=t[s].index,d=t[r].selection,c=t[s].selection;if(!d.equalsSelection(c)){const i=d.plusRange(c),n=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn,o=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn;let r,h;a===this.lastAddedCursorIndex?(r=n,this.lastAddedCursorIndex=l):r=o,h=r?new vr(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new vr(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn),t[s].selection=h;const u=Mb.fromModelSelection(h);e[l].setState(this.context,u.modelState,u.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(r,1),this._removeSecondaryCursor(a-1),i--}}}}class PS{constructor(){this.type=0}}class FS{constructor(){this.type=1}}class BS{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class WS{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class VS{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class HS{constructor(){this.type=5}}class zS{constructor(e){this.type=6,this.isFocused=e}}class US{constructor(){this.type=7}}class KS{constructor(){this.type=8}}class jS{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class $S{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class qS{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class GS{constructor(e,t,i,n,o,s){this.type=12,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=o,this.scrollType=s}}class ZS{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class JS{constructor(){this.type=14}}class QS{constructor(e){this.type=15,this.ranges=e}}class YS{constructor(){this.type=16}}class XS{constructor(){this.type=17}}class ek extends v{constructor(){super(),this._onEvent=this._register(new X),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new tk),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class tk{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class ik{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new ik(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class nk{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new nk(this.oldHasFocus,e.hasFocus)}}class ok{constructor(e,t,i,n,o,s,r,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=r,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new ok(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class sk{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class rk{constructor(e,t,i,n,o,s,r){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=s,this.reachedMaxCursorCount=r}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return rk._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 6!==e.kind?this:new rk(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class ak{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class lk{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class dk{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(br.compareRangesUsingStarts),e.sort(br.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class ck extends v{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Nb(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new OS(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=p(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Nb(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;null!==n&&n.length>ck.MAX_CURSOR_COUNT&&(n=n.slice(0,ck.MAX_CURSOR_COUNT),o=!0);const s=new lk(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,s,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,n);else{const s=o[0],r=new br(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,r,null,0,i,n)}}_revealPrimaryCursor(e,t,i,n,o){const s=this._cursors.getViewPositions();if(s.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,n,o);else{const r=s[0],a=new br(r.lineNumber,r.column,r.lineNumber,r.column);this._emitCursorRevealRange(e,t,a,null,i,n,o)}}_emitCursorRevealRange(e,t,i,n,o,s,r){e.emitViewEvent(new GS(t,i,n,o,s,r))}saveState(){let e=[];const t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const e=t[n];let o=1,s=1;e.position&&e.position.lineNumber&&(o=e.position.lineNumber),e.position&&e.position.column&&(s=e.position.column);let r=o,a=s;e.selectionStart&&e.selectionStart.lineNumber&&(r=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),i.push({selectionStartLineNumber:r,selectionStartColumn:a,positionLineNumber:o,positionColumn:s})}this.setStates(e,"restoreState",0,Mb.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof Mh){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new OS(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const i=Mb.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,i)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Mb.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:wg.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:wg.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,Mb.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let r=0,a=e.length;r<a;r++)i.push({range:e[r],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[r],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],n);this._autoClosedActions.push(new dk(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=class{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let s=0,r=n.trackedRanges.length;s<r;s++)n.model._setTrackedRange(n.trackedRanges[s],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let s=[];for(let l=0,d=n.length;l<d;l++)o.hasOwnProperty(n[l].identifier.major.toString())||s.push(n[l]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let r=e.model.pushEditOperations(e.selectionsBefore,s,(i=>{let n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);const o=(e,t)=>e.identifier.minor-t.identifier.minor;let s=[];for(let r=0;r<e.selectionsBefore.length;r++)n[r].length>0?(n[r].sort(o),s[r]=t[r].computeCursorState(e.model,{getInverseEditOperations:()=>n[r],getTrackedSelection:t=>{const i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new vr(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new vr(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):s[r]=e.selectionsBefore[r];return s}));r||(r=e.selectionsBefore);let a=[];for(let l in o)o.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)r.splice(l,1);return r}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,s=t.length;o<s;o++){const s=t[o];if(s){const t=this._getEditOperationsFromCommand(e,o,s);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let o=[],s=0;const r=(e,n,r=!1)=>{br.isEmpty(e)&&""===n||o.push({identifier:{major:t,minor:s++},range:e,text:n,forceMoveMarkers:r,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const l=(e,t,i)=>{a=!0,r(e,t,i)},d={addEditOperation:r,addTrackedEditOperation:l,trackSelection:(t,i)=>{const n=vr.liftSelection(t);let o;if(n.isEmpty())if("boolean"==typeof i)o=i?2:3;else{const t=e.model.getLineMaxColumn(n.startLineNumber);o=n.startColumn===t?2:3}else o=1;const s=e.trackedRanges.length,r=e.model._setTrackedRange(null,n,o);return e.trackedRanges[s]=r,e.trackedRangesDirection[s]=n.getDirection(),s.toString()}};try{i.getEditOperations(e.model,d)}catch(G1){return n(G1),{operations:[],hadTrackedEditOperation:!1}}return{operations:o,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-br.compareRangesUsingEnds(e.range,t.range)));let t={};for(let i=1;i<e.length;i++){const n=e[i-1],o=e[i];if(br.getStartPosition(n.range).isBefore(br.getEndPosition(o.range))){let s;s=n.identifier.major>o.identifier.major?n.identifier.major:o.identifier.major,t[s.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===s&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let t=0;t<e.commands.length;t++){const o=e.commands[t];o instanceof iv&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),n.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const s=new lk(this._model,this);if(s.equals(n))return!1;const r=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new WS(a,r)),!n||n.cursorState.length!==s.cursorState.length||s.cursorState.some(((e,t)=>!e.modelState.equals(n.cursorState[t].modelState)))){const a=n?n.cursorState.map((e=>e.modelState.selection)):null,l=n?n.modelVersionId:0;e.emitOutgoingEvent(new rk(a,r,l,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;const o=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const s=o[1],r=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(s);if(!r||1!==r.length)return null;const a=r[0].open,l=n.text.length-o[2].length-1,d=n.text.lastIndexOf(a,l-1);if(-1===d)return null;t.push([d,l])}return t}executeEdits(e,t,i,n){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let s=[],r=[];const a=this._model.pushEditOperations(this.getSelections(),i,(e=>{if(o)for(let i=0,n=o.length;i<n;i++){const[t,n]=o[i],a=e[i],l=a.range.startLineNumber,d=a.range.startColumn-1+t,c=a.range.startColumn-1+n;s.push(new br(l,c+1,l,c+2)),r.push(new br(l,d+1,l,c+2))}const t=n(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),s.length>0&&this._pushAutoClosedAction(s,r)}_executeEdit(e,t,i,o=0){if(this.context.cursorConfig.readOnly)return;const s=new lk(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(r){n(r)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,o,s,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return dk.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit((()=>{"keyboard"===t&&(this._executeEditOperation(tv.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)}),e,t)}type(e,t,i){this._executeEdit((()=>{if("keyboard"===i){const e=t.length;let i=0;for(;i<e;){const e=Eo(t,i),n=t.substr(i,e);this._executeEditOperation(tv.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),n)),i+=e}}else this._executeEditOperation(tv.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,i)}compositionType(e,t,i,n,o,s){if(0!==t.length||0!==i||0!==n)this._executeEdit((()=>{this._executeEditOperation(tv.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))}),e,s);else if(0!==o){const t=this.getSelections().map((e=>{const t=e.getPosition();return new vr(t.lineNumber,t.column+o,t.lineNumber,t.column+o)}));this.setSelections(e,s,t,0)}}paste(e,t,i,n,o){this._executeEdit((()=>{this._executeEditOperation(tv.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))}),e,o,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(Kb.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,i){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Ab(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}executeCommands(e,t,i){this._executeEdit((()=>{this._executeEditOperation(new Ab(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}}ck.MAX_CURSOR_COUNT=1e4;class hk{constructor(e,t,i,n,o,s){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=s}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}const uk={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},gk={getInitialState:()=>Fh,tokenize2:(e,t,i,n)=>Vh(0,0,i,n)};function mk(e,t,i=gk){return function(e,t,i){let n='<div class="monaco-tokenized-source">';const o=lo(e);let s=i.getInitialState();for(let r=0,a=o.length;r<a;r++){const e=o[r];r>0&&(n+="<br/>");const a=i.tokenize2(e,!0,s,0);dh.convertToEndOffset(a.tokens,e.length);const l=new dh(a.tokens,e,t).inflate();let d=0;for(let t=0,i=l.getCount();t<i;t++){const i=l.getClassName(t),o=l.getEndOffset(t);n+=`<span class="${i}">${to(e.substring(d,o))}</span>`,d=o}s=a.endState}return n+="</div>",n}(e,t,i||gk)}function pk(e,t,i,n,o,s,r){let a="<div>",l=n,d=0,c=!0;for(let h=0,u=t.getCount();h<u;h++){const u=t.getEndOffset(h);if(u<=n)continue;let g="";for(;l<u&&l<o;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=s-(l+d)%s;for(d+=e-1;e>0;)r&&c?(g+="&#160;",c=!1):(g+=" ",c=!0),e--;break;case 60:g+="&lt;",c=!1;break;case 62:g+="&gt;",c=!1;break;case 38:g+="&amp;",c=!1;break;case 0:g+="&#00;",c=!1;break;case 65279:case 8232:case 8233:case 133:g+="�",c=!1;break;case 13:g+="&#8203",c=!1;break;case 32:r&&c?(g+="&#160;",c=!1):(g+=" ",c=!0);break;default:g+=String.fromCharCode(t),c=!1}}if(a+=`<span style="${t.getInlineStyle(h,i)}">${g}</span>`,u>o||l>=o)break}return a+="</div>",a}class fk{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class _k{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}class bk{constructor(e,t,i,n){this._instanceId=Vo(++bk.INSTANCE_COUNT),this._pendingChanges=new fk,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){const s=n+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:n=s+1:t<e[s].afterLineNumber?o=s:n=s+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,n,o)=>{t=!0,e|=0,i|=0,n|=0,o|=0;const s=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new _k(s,e,i,n,o)),s},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const a of i)n.add(a.id);const o=new Map;for(const a of t)o.set(a.id,a);const s=e=>{let t=[];for(const i of e)if(!n.has(i.id)){if(o.has(i.id)){const e=o.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},r=s(this._arr).concat(s(e));r.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=r,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=bk.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const o=i+((n-i|0)/2|0)|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;i=o+1|0}else n=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),t=(e|=0)>1?this._lineHeight*(e-1):0;return t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,o=t;for(;n<o;){const t=(n+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(t);if(e>=s+i)n=t+1;else{if(e>=s)return t;o=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),o=0|this.getVerticalOffsetForLineNumber(n);let s=0|this._lineCount,r=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,d;-1===r?(r=a,d=s+1,l=0):(d=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));let c=o,h=c;const u=5e5;let g=0;o>=u&&(g=Math.floor(o/u)*u,g=Math.floor(g/i)*i,h-=g);const m=[],p=e+(t-e)/2;let f=-1;for(let w=n;w<=s;w++){if(-1===f){const e=c,t=c+i;(e<=p&&p<t||e>p)&&(f=w)}for(c+=i,m[w-n]=h,h+=i;d===w;)h+=l,c+=l,r++,r>=a?d=s+1:(d=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));if(c>=t){s=w;break}}-1===f&&(f=s);const _=0|this.getVerticalOffsetForLineNumber(s);let b=n,v=s;return b<v&&o<e&&b++,b<v&&_+i>t&&v--,{bigNumbersDelta:g,startLineNumber:n,endLineNumber:s,relativeVerticalOffset:m,centeredLineNumber:f,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:v}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return i=t>=1?this._lineHeight*t:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const n=Math.floor((t+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(n);if(e>=o+this.getHeightForWhitespaceIndex(n))t=n+1;else{if(e>=o)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let o=[];for(let s=i;s<=n;s++){const e=this.getVerticalOffsetForWhitespaceIndex(s),i=this.getHeightForWhitespaceIndex(s);if(e>=t)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:e,height:i})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}bk.INSTANCE_COUNT=0;class vk{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class wk extends v{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new X),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new vk(0,0,0,0),this._scrollable=this._register(new py(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new ik(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class Ck extends v{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,o=n.get(129),s=n.get(74);this._linesLayout=new bk(t,n.get(58),s.top,s.bottom),this._scrollable=this._register(new wk(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new vk(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(t.get(58)),e.hasChanged(74)){const e=t.get(74);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(129)){const e=t.get(129),i=e.contentWidth,n=e.height,o=this._scrollable.getScrollDimensions(),s=o.contentWidth;this._scrollable.setScrollDimensions(new vk(i,o.contentWidth,n,this._getContentHeight(i,n,s)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options.get(91);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(93)?o+=Math.max(0,t-n.get(58)-n.get(74).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new vk(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new Wy(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new Wy(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(130),n=t.get(43);if(i.isViewportWrapping){const i=t.get(129),o=t.get(64);return e>i.contentWidth+n.typicalHalfwidthCharacterWidth&&o.enabled&&"right"===o.side?e+i.verticalScrollbarWidth:e}{const i=t.get(92)*n.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i,o)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new vk(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class yk{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class Sk{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=jl(e);const i=this.values,n=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=jl(e),t=jl(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=jl(e),t=jl(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;let o=i.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=jl(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],s=o-this.values[n],e<s)i=n-1;else{if(!(e>=o))break;t=n+1}return new yk(n,e-s)}}class kk{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class xk{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],i=e>0?this._modelToView[e-1]:0;this._modelToView[e]=i+t;for(let n=0;n<t;n++)this._viewToModel[i+n]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=kd(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],i=t>0?this._modelToView[t-1]:0;return new yk(t,e-i)}}class Lk{constructor(e,t,i,n,o,s,r,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=s,this.wrappingStrategy=r,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new kk(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=i.length,s=this.createLineBreaksComputer(),r=new Id(Lh.fromDecorations(n));for(let m=0;m<o;m++){const e=r.takeWhile((e=>e.lineNumber===m+1));s.addRequest(i[m],e,t?t[m]:null)}const a=s.finalize();let l=[],d=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(br.compareRangesUsingStarts),c=1,h=0,u=-1,g=u+1<d.length?h+1:o+2;for(let m=0;m<o;m++){let e=m+1;e===g&&(u++,c=d[u].startLineNumber,h=d[u].endLineNumber,g=u+1<d.length?h+1:o+2);let t=e>=c&&e<=h,i=Ok(a[m],!t);l[m]=i.getViewLineCount(),this.lines[m]=i}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new xk(l)}getHiddenAreas(){return this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e)))}_reduceRanges(e){if(0===e.length)return[];let t=e.map((e=>this.model.validateRange(e))).sort(br.compareRangesUsingStarts),i=[],n=t[0].startLineNumber,o=t[0].endLineNumber;for(let s=1,r=t.length;s<r;s++){let e=t[s];e.startLineNumber>o+1?(i.push(new br(n,1,o,1)),n=e.startLineNumber,o=e.endLineNumber):e.endLineNumber>o&&(o=e.endLineNumber)}return i.push(new br(n,1,o,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e),i=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(br.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}let n=[];for(const c of t)n.push({range:c,options:vb.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,n);let o=t,s=1,r=0,a=-1,l=a+1<o.length?r+1:this.lines.length+2,d=!1;for(let c=0;c<this.lines.length;c++){let e=c+1;e===l&&(a++,s=o[a].startLineNumber,r=o[a].endLineNumber,l=a+1<o.length?r+1:this.lines.length+2);let t=!1;if(e>=s&&e<=r?this.lines[c].isVisible()&&(this.lines[c]=this.lines[c].setVisible(!1),t=!0):(d=!0,this.lines[c].isVisible()||(this.lines[c]=this.lines[c].setVisible(!0),t=!0)),t){let e=this.lines[c].getViewLineCount();this.prefixSumComputer.changeValue(c,e)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const o=this.fontInfo.equals(e),s=this.wrappingStrategy===t,r=this.wrappingColumn===i,a=this.wrappingIndent===n;if(o&&s&&r&&a)return!1;const l=o&&s&&!r&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let d=null;if(l){d=[];for(let e=0,t=this.lines.length;e<t;e++)d[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,d),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new $S(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.lines[t-2].isVisible();let s=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,r=0,a=[],l=[];for(let d=0,c=n.length;d<c;d++){let e=Ok(n[d],!o);a.push(e);let t=e.getViewLineCount();r+=t,l[d]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new qS(s,s+r-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,o=this.lines[n].getViewLineCount(),s=Ok(i,this.lines[n].isVisible());this.lines[n]=s;let r=this.lines[n].getViewLineCount(),a=!1,l=0,d=-1,c=0,h=-1,u=0,g=-1;o>r?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=l+r-1,u=d+1,g=u+(o-r)-1,a=!0):o<r?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=l+o-1,c=d+1,h=c+(r-o)-1,a=!0):(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=l+r-1),this.prefixSumComputer.changeValue(n,r);return[a,l<=d?new jS(l,d):null,c<=h?new qS(c,h):null,u<=g?new $S(u,g):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),r=this.model.getActiveIndentGuide(n.lineNumber,o.lineNumber,s.lineNumber),a=this.convertModelPositionToViewPosition(r.startLineNumber,1),l=this.convertModelPositionToViewPosition(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:r.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return new Dk(i+1,n)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Rn(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Rn(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),o=new Array;let s=this.getModelStartPositionOfViewLine(i),r=new Array;for(let a=i.modelLineNumber;a<=n.modelLineNumber;a++){const e=this.lines[a-1];if(e.isVisible()){let t=a===i.modelLineNumber?i.modelLineWrappedLineIdx:0,o=a===n.modelLineNumber?n.modelLineWrappedLineIdx+1:e.getViewLineCount();for(let e=t;e<o;e++)r.push(new Dk(a,e))}if(!e.isVisible()&&s){const e=new Rn(a-1,this.model.getLineMaxColumn(a-1)+1),t=br.fromPositions(s,e);o.push(new Ek(t,r)),r=[],s=null}else e.isVisible()&&!s&&(s=new Rn(a,1))}if(s){const e=br.fromPositions(s,this.getModelEndPositionOfViewLine(n));o.push(new Ek(e,r))}return o}getViewLinesBracketGuides(e,t,i,n){const o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(const r of this.getViewLineInfosGroupedByModelRanges(e,t)){const e=r.modelRange.startLineNumber,t=this.model.getLinesBracketGuides(e,r.modelRange.endLineNumber,o,n);for(const i of r.viewLines)if(i.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(i))s.push([]);else{let n=t[i.modelLineNumber-e];n=n.map((e=>e.horizontalLine?new ma(e.visibleColumn,e.className,new pa(e.horizontalLine.top,this.convertModelPositionToViewPosition(i.modelLineNumber,e.horizontalLine.endColumn).column)):e)),s.push(n)}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[],s=[],r=[];const a=i.lineNumber-1,l=n.lineNumber-1;let d=null;for(let g=a;g<=l;g++){const e=this.lines[g];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,g===a?i.column:1),n=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),o=n-t+1,l=0;o>1&&1===e.getViewLineMinColumn(this.model,g+1,n)&&(l=0===t?1:2),s.push(o),r.push(l),null===d&&(d=new Rn(g+1,0))}else null!==d&&(o=o.concat(this.model.getLinesIndentGuides(d.lineNumber,g)),d=null)}null!==d&&(o=o.concat(this.model.getLinesIndentGuides(d.lineNumber,n.lineNumber)),d=null);const c=t-e+1;let h=new Array(c),u=0;for(let g=0,m=o.length;g<m;g++){let e,t=o[g],i=Math.min(c-u,s[g]),n=r[g];e=2===n?0:1===n?1:i;for(let o=0;o<i;o++)o===e&&(t=0),h[u++]=t}return h}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.prefixSumComputer.getIndexOf(e-1),o=e,s=n.index,r=n.remainder,a=[];for(let l=s,d=this.model.getLineCount();l<d;l++){let n=this.lines[l];if(!n.isVisible())continue;let d=l===s?r:0,c=n.getViewLineCount()-d,h=!1;o+c>t&&(h=!0,c=t-o+1);let u=d+c;if(n.getViewLinesData(this.model,l+1,d,u,o-e,i,a),o+=c,h)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),o=n.index,s=n.remainder,r=this.lines[o],a=r.getViewLineMinColumn(this.model,o+1,s),l=r.getViewLineMaxColumn(this.model,o+1,s);t<a&&(t=a),t>l&&(t=l);let d=r.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new Rn(o+1,d)).equals(i)?new Rn(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new br(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),n=i.index,o=i.remainder,s=this.lines[n].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new Rn(n+1,s))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new br(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const n=this.model.validatePosition(new Rn(e,t)),o=n.lineNumber,s=n.column;let r=o-1,a=!1;for(;r>0&&!this.lines[r].isVisible();)r--,a=!0;if(0===r&&!this.lines[r].isVisible())return new Rn(1,1);const l=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));let d;return d=a?this.lines[r].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(r+1),i):this.lines[o-1].getViewPositionOfModelPosition(l,s,i),d}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return br.fromPositions(i)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new br(t.lineNumber,t.column,i.lineNumber,i.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const e=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(e,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;const n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new br(n.lineNumber,1,o.lineNumber,o.column),t,i);let s=[];const r=n.lineNumber-1,a=o.lineNumber-1;let l=null;for(let u=r;u<=a;u++){if(this.lines[u].isVisible())null===l&&(l=new Rn(u+1,u===r?n.column:1));else if(null!==l){const e=this.model.getLineMaxColumn(u);s=s.concat(this.model.getDecorationsInRange(new br(l.lineNumber,l.column,u,e),t,i)),l=null}}null!==l&&(s=s.concat(this.model.getDecorationsInRange(new br(l.lineNumber,l.column,o.lineNumber,o.column),t,i)),l=null),s.sort(((e,t)=>{const i=br.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i}));let d=[],c=0,h=null;for(const u of s){const e=u.id;h!==e&&(h=e,d[c++]=u)}return d}getInjectedTextAt(e){const t=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index,o=i.remainder;return this.lines[n].getInjectedTextAt(o,e.column)}normalizePosition(e,t){const i=this._toValidViewLineNumber(e.lineNumber),n=this.prefixSumComputer.getIndexOf(i-1),o=n.index,s=n.remainder;return this.lines[o].normalizePosition(this.model,o+1,s,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index;return 0===i.remainder?this.model.getLineIndentColumn(n+1):0}}class Dk{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class Ek{constructor(e,t){this.modelRange=e,this.viewLines=t}}class Nk{constructor(){}isVisible(){return!0}setVisible(e){return e?this:Ik.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),o=n.getLineContent();return new Uy(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,s,r){s[o]?r[o]=this.getViewLineData(e,t,0):r[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Rn(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i,n,o){return n}getInjectedTextAt(e,t){return null}}Nk.INSTANCE=new Nk;class Ik{constructor(){}isVisible(){return!1}setVisible(e){return e?Nk.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,s,r){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i,n,o){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}Ik.INSTANCE=new Ik;class Tk{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0,o=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let s;if(null!==this._lineBreakData.injectionOffsets){const i=this._lineBreakData.injectionOffsets.map(((e,t)=>new Lh(0,0,e+1,this._lineBreakData.injectionOptions[t],0)));s=Lh.applyInjectedText(e.getLineContent(t),i).substring(n,o)}else s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=Ak(this._lineBreakData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0;let o=(i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-n;return i>0&&(o=this._lineBreakData.wrappedTextIndentLength+o),o}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(i)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,i)+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=this._lineBreakData,o=i>0?n.wrappedTextIndentLength:0,s=n.injectionOffsets,r=n.injectionOptions;let a,l,d;if(s){const c=e.getLineTokens(t).withInserted(s.map(((e,t)=>({offset:e,text:r[t].content,tokenMetadata:dh.defaultTokenMetadata})))),h=i>0?n.breakOffsets[i-1]:0,u=n.breakOffsets[i];a=c.getLineContent().substring(h,u),l=c.sliceAndInflate(h,u,o),d=new Array;let g=0;for(let e=0;e<s.length;e++){const t=r[e].content.length,o=s[e]+g,a=s[e]+g+t;if(o>u)break;if(h<a){const t=r[e];if(t.inlineClassName){const e=i>0?n.wrappedTextIndentLength:0,s=e+Math.max(o-h,0),r=e+Math.min(a-h,u);s!==r&&d.push(new $y(s,r,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing))}}g+=t}}else{const n=this.getInputStartOffsetOfOutputLineIndex(i),s=this.getInputEndOffsetOfOutputLineIndex(e,t,i),r=e.getLineTokens(t);a=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:s+1}),l=r.sliceAndInflate(n,s,o),d=null}i>0&&(a=Ak(n.wrappedTextIndentLength)+a);const c=i>0?n.wrappedTextIndentLength+1:1,h=a.length+1,u=i+1<this.getViewLineCount(),g=0===i?0:n.breakOffsetsVisibleColumn[i-1];return new Uy(a,u,c,h,g,l,d)}getViewLinesData(e,t,i,n,o,s,r){if(!this._isVisible)throw new Error("Not supported");for(let a=i;a<n;a++){let n=o+a-i;s[n]?r[n]=this.getViewLineData(e,t,a):r[n]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return e>0&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,i)+1}getViewPositionOfModelPosition(e,t,i=2){if(!this._isVisible)throw new Error("Not supported");let n=this._lineBreakData.getOutputPositionOfInputOffset(t-1,i),o=n.outputLineIndex,s=n.outputOffset+1;return o>0&&(s+=this._lineBreakData.wrappedTextIndentLength),new Rn(e+o,s)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+this._lineBreakData.getOutputPositionOfInputOffset(t-1).outputLineIndex}normalizePosition(e,t,i,n,o){if(null!==this._lineBreakData.injectionOffsets){const e=n.lineNumber-i,t=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(i,n.column-1),s=this._lineBreakData.normalizeOffsetAroundInjections(t,o);if(s!==t)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(s,o).toPosition(e,this._lineBreakData.wrappedTextIndentLength)}if(0===o){if(i>0&&n.column===this._getViewLineMinColumn(i))return new Rn(n.lineNumber-1,this.getViewLineMaxColumn(e,t,i-1))}else if(1===o){if(i<this.getViewLineCount()-1&&n.column===this.getViewLineMaxColumn(e,t,i))return new Rn(n.lineNumber+1,this._getViewLineMinColumn(i+1))}return n}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let Mk=[""];function Ak(e){if(e>=Mk.length)for(let t=1;t<=e;t++)Mk[t]=Rk(t);return Mk[e]}function Rk(e){return new Array(e+1).join(" ")}function Ok(e,t){return null===e?t?Nk.INSTANCE:Ik.INSTANCE:new Tk(e,t)}class Pk{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class Fk{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new Pk(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new $S(t,i)}onModelLinesInserted(e,t,i,n){return new qS(t,i)}onModelLineChanged(e,t,i){return[!1,new jS(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1;let n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new Uy(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let o=[];for(let s=e;s<=t;s++){let t=s-e;i[t]||(o[t]=null),o[t]=this.getViewLineData(s)}return o}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class Bk{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,o=e.options;let s;if(o.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new Rn(n.startLineNumber,1),0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new Rn(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);s=new br(e.lineNumber,e.column,t.lineNumber,t.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new qy(s,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,jr(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber;let o=[],s=0,r=[];for(let a=i;a<=n;a++)r[a-i]=[];for(let a=0,l=t.length;a<l;a++){let e=t[a],l=e.options,d=this._getOrCreateViewModelDecoration(e),c=d.range;if(o[s++]=d,l.inlineClassName){let e=new jy(c,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(i,c.startLineNumber),o=Math.min(n,c.endLineNumber);for(let n=t;n<=o;n++)r[n-i].push(e)}if(l.beforeContentClassName&&i<=c.startLineNumber&&c.startLineNumber<=n){let e=new jy(new br(c.startLineNumber,c.startColumn,c.startLineNumber,c.startColumn),l.beforeContentClassName,1);r[c.startLineNumber-i].push(e)}if(l.afterContentClassName&&i<=c.endLineNumber&&c.endLineNumber<=n){let e=new jy(new br(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn),l.afterContentClassName,2);r[c.endLineNumber-i].push(e)}}return{decorations:o,inlineDecorations:r}}}const Wk=new class{constructor(){this._onDidChangeLanguages=new X,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};Ss.add("editor.modesRegistry",Wk);Wk.registerLanguage({id:"plaintext",extensions:[".txt"],aliases:[t("vs/editor/common/modes/modesRegistry","plainText.alias","Plain Text"),"text"],mimetypes:[uC.text]}),Uu.register("plaintext",{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);class Vk extends v{constructor(e,t,i,n,o,s){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new ek,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Db(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new Ct((()=>this.tokenizeViewport()),50)),this._updateConfigurationViewLineCount=this._register(new Ct((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new Fk(this.model);else{const e=this._configuration.options,t=e.get(43),i=e.get(123),s=e.get(130),r=e.get(122);this._lines=new Lk(this._editorId,this.model,n,o,t,this.model.getOptions().tabSize,i,s.wrappingColumn,r)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ck(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Ck(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new ZS(e)),this._eventDispatcher.emitOutgoingEvent(new ok(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new Bk(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(By.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new YS)}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new br(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(const n of i)this.model.tokenizeViewport(n.startLineNumber,n.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new zS(e)),this._eventDispatcher.emitOutgoingEvent(new nk(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new PS)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new FS)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new JS)}_onConfigurationChanged(e,t){let i=null;if(-1!==this._viewportStartLine){let e=new Rn(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let n=!1;const o=this._configuration.options,s=o.get(43),r=o.get(123),a=o.get(130),l=o.get(122);if(this._lines.setWrappingSettings(s,r,a.wrappingColumn,l)&&(e.emitViewEvent(new HS),e.emitViewEvent(new KS),e.emitViewEvent(new VS(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new VS(null))),e.emitViewEvent(new BS(t)),this.viewLayout.onConfigurationChanged(t),n&&i){const e=this.coordinatesConverter.convertModelPositionToViewPosition(i),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}Db.shouldRecreate(t)&&(this.cursorConfig=new Db(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const o=e.changes,s=e instanceof Th?e.versionId:null,r=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const i=e.detail[t];let n=e.injectedTexts[t];n&&(n=n.filter((e=>!e.ownerId||e.ownerId===this._editorId))),r.addRequest(i,n,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter((e=>!e.ownerId||e.ownerId===this._editorId))),r.addRequest(e.detail,t,null);break}}const a=r.finalize();let l=0;for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new HS),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(s,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=a.slice(l,l+e.detail.length);l+=e.detail.length;const o=this._lines.onModelLinesInserted(s,e.fromLineNumber,e.toLineNumber,n);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),i=!0;break}case 2:{const i=a[l];l++;const[o,r,d,c]=this._lines.onModelLineChanged(s,e.lineNumber,i);n=o,r&&t.emitViewEvent(r),d&&(t.emitViewEvent(d),this.viewLayout.onLinesInserted(d.fromLineNumber,d.toLineNumber)),c&&(t.emitViewEvent(c),this.viewLayout.onLinesDeleted(c.fromLineNumber,c.toLineNumber));break}}null!==s&&this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new KS),t.emitViewEvent(new VS(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(this.model.onDidChangeTokens((e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Rn(n.fromLineNumber,1)).lineNumber,s=this.coordinatesConverter.convertModelPositionToViewPosition(new Rn(n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:s}}this._eventDispatcher.emitSingleViewEvent(new QS(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new US),this.cursorConfig=new Db(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new Db(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new HS),e.emitViewEvent(new KS),e.emitViewEvent(new VS(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Db(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new VS(e))})))}setHiddenAreas(e){let t=!1;try{const i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new HS),i.emitViewEvent(new KS),i.emitViewEvent(new VS(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new sk)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),t=this._configuration.options.get(58),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new br(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];let n=[],o=0,s=t.startLineNumber,r=t.startColumn,a=t.endLineNumber,l=t.endColumn;for(let d=0,c=i.length;d<c;d++){const e=i[d].startLineNumber,t=i[d].endLineNumber;t<s||(e>a||(s<e&&(n[o++]=new br(s,r,e-1,this.model.getLineMaxColumn(e-1))),s=t+1,r=1))}return(s<a||s===a&&r<l)&&(n[o++]=new br(s,r,a,l)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new br(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new br(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new Rn(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new Rn(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new br(n.lineNumber,n.column,n.lineNumber,n.column),1);const o=this.viewLayout.getVerticalOffsetForLineNumber(e),s=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=s-o}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=co(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=uo(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(t),r=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return s.inlineDecorations&&(r=[...r,...s.inlineDecorations.map((e=>e.toInlineDecoration(t)))]),new Ky(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,n,s.tokens,r,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new zy(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,jr(this._configuration.options)),i=new Hk;for(const n of t){const t=n.options,o=t.overviewRuler;if(!o)continue;const s=o.position;if(0===s)continue;const r=o.getColor(e),a=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),l=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(r,t.zIndex,a,l,s)}return i.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(o)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(br.compareRangesUsingStarts);let o=!1,s=!1;for(const a of e)a.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";const i=e.map((e=>e.startLineNumber));let o="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(o+=this.model.getLineContent(i[e])+n);return o}if(o&&t){let t=[],n=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,i?2:0)),n=e}return 1===t.length?t[0]:t}let r=[];for(const a of e)a.isEmpty()||r.push(this.model.getValueInRange(a,i?2:0));return 1===r.length?r[0]:r}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if("plaintext"===i)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new br(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(43),s=this._getColorMap();let r;if(/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===Gr.fontFamily)r=Gr.fontFamily;else{r=o.fontFamily,r=r.replace(/"/g,"'");if(!/[,']/.test(r)){/[+ ]/.test(r)&&(r=`'${r}'`)}r=`${r}, ${Gr.fontFamily}`}return{mode:i,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${r};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,s)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,r=this.getTabSize();let a="";for(let l=i;l<=o;l++){const e=this.model.getLineTokens(l),d=e.getLineContent(),c=l===i?n-1:0,h=l===o?s-1:d.length;a+=""===d?"<br>":pk(d,e.inflate(),t,c,h,r,F)}return a}_getColorMap(){let e=lh.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=Yu.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector((n=>this._cursor.setStates(n,e,t,i)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector((n=>this._cursor.setSelections(n,e,t,i)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new ak):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit((n=>this._cursor.executeEdits(n,e,t,i)))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((i=>this._cursor.type(i,e,t)))}compositionType(e,t,i,n,o){this._executeCursorEdit((s=>this._cursor.compositionType(s,e,t,i,n,o)))}paste(e,t,i,n){this._executeCursorEdit((o=>this._cursor.paste(o,e,t,i,n)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((i=>this._cursor.executeCommand(i,e,t)))}executeCommands(e,t){this._executeCursorEdit((i=>this._cursor.executeCommands(i,e,t)))}revealPrimaryCursor(e,t){this._withViewEventsCollector((i=>this._cursor.revealPrimary(i,e,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new br(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new GS(e,i,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new br(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new GS(e,i,null,0,!0,0))))}revealRange(e,t,i,n,o){this._withViewEventsCollector((s=>s.emitViewEvent(new GS(e,i,null,n,t,o))))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new XS),this._eventDispatcher.emitOutgoingEvent(new sk))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Hk{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){const s=this._asMap[e];if(s){const e=s.data,t=e[e.length-3],r=e[e.length-1];if(t===o&&r+1>=i)return void(n>r&&(e[e.length-1]=n));e.push(o,i,n)}else{const s=new Gy(e,t,[o,i,n]);this._asMap[e]=s,this.asArray.push(s)}}}class zk{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}var Uk,Kk;(Kk=Uk||(Uk={}))[Kk.Ignore=0]="Ignore",Kk[Kk.Info=1]="Info",Kk[Kk.Warning=2]="Warning",Kk[Kk.Error=3]="Error",function(e){const t="error",i="warning",n="info";e.fromValue=function(o){return o?vo(t,o)?e.Error:vo(i,o)||vo("warn",o)?e.Warning:vo(n,o)?e.Info:e.Ignore:e.Ignore},e.toString=function(o){switch(o){case e.Error:return t;case e.Warning:return i;case e.Info:return n;default:return"ignore"}}}(Uk||(Uk={}));var jk=Uk;const $k=Tn("notificationService");const qk=Tn("accessibilityService"),Gk=new fs("accessibilityModeEnabled",!1);class Zk extends $l{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Jk=[],Qk=[];class Yk{constructor(e,t){this.classifier=new Zk(e,t)}static create(e){return new Yk(e.get(118),e.get(117))}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;const o=[],s=[],r=[];return{addRequest:(e,t,i)=>{o.push(e),s.push(t),r.push(i)},finalize:()=>{const a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let l=[];for(let e=0,d=o.length;e<d;e++){const d=s[e],c=r[e];!c||c.injectionOptions||d?l[e]=ex(this.classifier,o[e],d,t,i,a,n):l[e]=Xk(this.classifier,c,o[e],t,i,a,n)}return Jk.length=0,Qk.length=0,l}}}}function Xk(e,t,i,n,o,s,r){if(-1===o)return null;const a=i.length;if(a<=1)return null;const l=t.breakOffsets,d=t.breakOffsetsVisibleColumn,c=ox(i,n,o,s,r),h=o-c;let u=Jk,g=Qk,m=0,p=0,f=0,_=o;const b=l.length;let v=0;if(v>=0){let e=Math.abs(d[v]-_);for(;v+1<b;){const t=Math.abs(d[v+1]-_);if(t>=e)break;e=t,v++}}for(;v<b;){let t=v<0?0:l[v],o=v<0?0:d[v];p>t&&(t=p,o=f);let r=0,c=0,w=0,C=0;if(o<=_){let f=o,b=0===t?0:i.charCodeAt(t-1),v=0===t?0:e.get(b),y=!0;for(let o=t;o<a;o++){const t=o,a=i.charCodeAt(o);let l,d;if(So(a)?(o++,l=0,d=2):(l=e.get(a),d=tx(a,f,n,s)),t>p&&nx(b,v,a,l)&&(r=t,c=f),f+=d,f>_){t>p?(w=t,C=f-d):(w=o+1,C=f),f-c>h&&(r=0),y=!1;break}b=a,v=l}if(y){m>0&&(u[m]=l[l.length-1],g[m]=d[l.length-1],m++);break}}if(0===r){let a=o,l=i.charCodeAt(t),d=e.get(l),u=!1;for(let n=t-1;n>=p;n--){const t=n+1,o=i.charCodeAt(n);if(9===o){u=!0;break}let g,m;if(ko(o)?(n--,g=0,m=2):(g=e.get(o),m=Po(o)?s:1),a<=_){if(0===w&&(w=t,C=a),a<=_-h)break;if(nx(o,g,l,d)){r=t,c=a;break}}a-=m,l=o,d=g}if(0!==r){const e=h-(C-c);if(e<=n){const t=i.charCodeAt(w);let o;o=So(t)?2:tx(t,C,n,s),e-o<0&&(r=0)}}if(u){v--;continue}}if(0===r&&(r=w,c=C),r<=p){const e=i.charCodeAt(p);So(e)?(r=p+2,c=f+2):(r=p+1,c=f+tx(e,f,n,s))}for(p=r,u[m]=r,f=c,g[m]=c,m++,_=c+h;v<0||v<b&&d[v]<c;)v++;let y=Math.abs(d[v]-_);for(;v+1<b;){const e=Math.abs(d[v+1]-_);if(e>=y)break;y=e,v++}}return 0===m?null:(u.length=m,g.length=m,Jk=t.breakOffsets,Qk=t.breakOffsetsVisibleColumn,t.breakOffsets=u,t.breakOffsetsVisibleColumn=g,t.wrappedTextIndentLength=c,t)}function ex(e,t,i,n,o,s,r){const a=Lh.applyInjectedText(t,i);let l,d;if(i&&i.length>0?(l=i.map((e=>e.options)),d=i.map((e=>e.column-1))):(l=null,d=null),-1===o)return l?new Hy([a.length],[],0,d,l):null;const c=a.length;if(c<=1)return l?new Hy([a.length],[],0,d,l):null;const h=ox(a,n,o,s,r),u=o-h;let g=[],m=[],p=0,f=0,_=0,b=o,v=a.charCodeAt(0),w=e.get(v),C=tx(v,0,n,s),y=1;So(v)&&(C+=1,v=a.charCodeAt(1),w=e.get(v),y++);for(let S=y;S<c;S++){const t=S,i=a.charCodeAt(S);let o,r;So(i)?(S++,o=0,r=2):(o=e.get(i),r=tx(i,C,n,s)),nx(v,w,i,o)&&(f=t,_=C),C+=r,C>b&&((0===f||C-_>u)&&(f=t,_=C-r),g[p]=f,m[p]=_,p++,b=_+u,f=0),v=i,w=o}return 0!==p||i&&0!==i.length?(g[p]=c,m[p]=C,new Hy(g,m,h,d,l)):null}function tx(e,t,i,n){return 9===e?i-t%i:Po(e)||e<32?n:1}function ix(e,t){return t-e%t}function nx(e,t,i,n){return 32!==i&&(2===t||3===t&&2!==n||1===n||3===n&&1!==t)}function ox(e,t,i,n,o){let s=0;if(0!==o){const r=co(e);if(-1!==r){for(let i=0;i<r;i++){s+=9===e.charCodeAt(i)?ix(s,t):1}const a=3===o?2:2===o?1:0;for(let e=0;e<a;e++){s+=ix(s,t)}s+n>i&&(s=0)}}return s}var sx;const rx=null===(sx=window.trustedTypes)||void 0===sx?void 0:sx.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class ax{static create(){return new ax}constructor(){}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let o=[],s=[];return{addRequest:(e,t,i)=>{o.push(e),s.push(t)},finalize:()=>function(e,t,i,n,o,s){var r;function a(t){const i=s[t];if(i){const n=Lh.applyInjectedText(e[t],i),o=i.map((e=>e.options)),s=i.map((e=>e.column-1));return new Hy([n.length],[],0,s,o)}return null}if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=a(i);return t}const l=Math.round(n*t.typicalHalfwidthCharacterWidth),d=3===o?2:2===o?1:0,c=Math.round(i*d),h=Math.ceil(t.spaceWidth*c),u=document.createElement("div");Qv.applyFontInfoSlow(u,t);const g=Aa(1e4),m=[],p=[],f=[],_=[],b=[];for(let k=0;k<e.length;k++){const n=Lh.applyInjectedText(e[k],s[k]);let r=0,a=0,d=l;if(0!==o)if(r=co(n),-1===r)r=0;else{for(let t=0;t<r;t++){a+=9===n.charCodeAt(t)?i-a%i:1}const e=Math.ceil(t.spaceWidth*a);e+t.typicalFullwidthCharacterWidth>l?(r=0,a=0):d=l-e}const c=n.substr(r),u=lx(c,a,i,d,g,h);m[k]=r,p[k]=a,f[k]=c,_[k]=u[0],b[k]=u[1]}const v=g.build(),w=null!==(r=null==rx?void 0:rx.createHTML(v))&&void 0!==r?r:v;u.innerHTML=w,u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);let C=document.createRange();const y=Array.prototype.slice.call(u.children,0);let S=[];for(let k=0;k<e.length;k++){const e=dx(C,y[k],f[k],_[k]);if(null===e){S[k]=a(k);continue}const t=m[k],i=p[k]+c,n=b[k],o=[];for(let s=0,a=e.length;s<a;s++)o[s]=n[e[s]];if(0!==t)for(let s=0,a=e.length;s<a;s++)e[s]+=t;let r,l;const d=s[k];d?(r=d.map((e=>e.options)),l=d.map((e=>e.column-1))):(r=null,l=null),S[k]=new Hy(e,o,i,l,r)}return document.body.removeChild(u),S}(o,e,t,i,n,s)}}}function lx(e,t,i,n,o,s){if(0!==s){let e=String(s);o.appendASCIIString('<div style="text-indent: -'),o.appendASCIIString(e),o.appendASCIIString("px; padding-left: "),o.appendASCIIString(e),o.appendASCIIString("px; box-sizing: border-box; width:")}else o.appendASCIIString('<div style="width:');o.appendASCIIString(String(n)),o.appendASCIIString('px;">');const r=e.length;let a=t,l=0,d=[],c=[],h=0<r?e.charCodeAt(0):0;o.appendASCIIString("<span>");for(let u=0;u<r;u++){0!==u&&u%16384==0&&o.appendASCIIString("</span><span>"),d[u]=l,c[u]=a;const t=h;h=u+1<r?e.charCodeAt(u+1):0;let n=1,s=1;switch(t){case 9:n=i-a%i,s=n;for(let e=1;e<=n;e++)e<n?o.write1(160):o.appendASCII(32);break;case 32:32===h?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:Po(t)&&s++,t<32?o.write1(9216+t):o.write1(t)}l+=n,a+=s}return o.appendASCIIString("</span>"),d[e.length]=l,c[e.length]=a,o.appendASCIIString("</div>"),[d,c]}function dx(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),s=[];try{cx(e,o,n,0,null,i.length-1,null,s)}catch(r){return console.log(r),null}return 0===s.length?null:(s.push(i.length),s)}function cx(e,t,i,n,o,s,r,a){if(n===s)return;if(o=o||hx(e,t,i[n],i[n+1]),r=r||hx(e,t,i[s],i[s+1]),Math.abs(o[0].top-r[0].top)<=.1)return;if(n+1===s)return void a.push(s);const l=n+(s-n)/2|0,d=hx(e,t,i[l],i[l+1]);cx(e,t,i,n,o,l,d,a),cx(e,t,i,l,d,s,r,a)}function hx(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}var ux=function(e,t){return function(i,n){t(i,n,e)}};let gx=0;class mx{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){p(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let px=class e extends v{constructor(e,t,i,o,s,r,a,l,d,c){super(),this._onDidDispose=this._register(new X),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new X),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new X),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new X),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new X),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new X),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new X),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new X),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new X),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new X),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new X),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new X),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new fx),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new fx),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new X),this.onWillType=this._onWillType.event,this._onDidType=this._register(new X),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new X),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new X),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new X),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new X),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new X),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new X),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new X),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new X),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new X),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new X),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new X),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new X),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new X),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new X),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new X),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new X),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new X),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new X),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const h=Object.assign({},t);let u;this._domElement=e,this._overflowWidgetsDomNode=h.overflowWidgetsDomNode,delete h.overflowWidgetsDomNode,this._id=++gx,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(h,c)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(129)){const e=t.get(129);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=d,this._codeEditorService=s,this._commandService=r,this._themeService=l,this._register(new _x(this,this._contextKeyService)),this._register(new bx(this,this._contextKeyService)),this._instantiationService=o.createChild(new zk([_s,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new vx(e),this._register(this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}))),this._contentWidgets={},this._overlayWidgets={},u=Array.isArray(i.contributions)?i.contributions:hr.getEditorContributions();for(const m of u)if(this._contributions[m.id])n(new Error(`Cannot have two contributions with the same id ${m.id}`));else try{const e=this._instantiationService.createInstance(m.ctor,this);this._contributions[m.id]=e}catch(g){n(g)}hr.getEditorActions().forEach((e=>{if(this._actions[e.id])return void n(new Error(`Cannot have two actions with the same id ${e.id}`));const t=new hk(e.id,e.label,e.alias,Ne(e.precondition),(()=>this._instantiationService.invokeFunction((t=>Promise.resolve(e.runEditorCommand(t,this,null))))),this._contextKeyService);this._actions[t.id]=t})),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new Qv(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return uk.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const i=e[t];this._contributions[i].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?jb.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const n=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((e=>br.lift(e))))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return wg.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Rn.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!br.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new br(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!Rn.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new br(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=vr.isISelection(e),i=br.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){const t={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(t)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new vr(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new br(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!br.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(br.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!vr.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const i of t){const t=this._contributions[i];"function"==typeof t.saveViewState&&(e[i]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const i=t.contributionsState||{},n=Object.keys(this._contributions);for(let t=0,s=n.length;t<s;t++){const e=n[t],o=this._contributions[e];"function"==typeof o.restoreViewState&&o.restoreViewState(i[e])}const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._actions[n])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=i;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=i;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=i;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=i;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const o=this.getAction(t);o?Promise.resolve(o.run()).then(void 0,n):this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||0===t.length)return;const s=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);const r=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new br(s.lineNumber,s.column,r.lineNumber,r.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const o=hr.getEditorCommand(t);return!!o&&((i=i||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(o.runEditorCommand(e,this,i)).then(void 0,n)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(80)&&(this._modelData.model.pushStackElement(),!0))}popUndoStop(){return!!this._modelData&&(!this._configuration.options.get(80)&&(this._modelData.model.popStackElement(),!0))}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(80))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,jr(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const i=this._modelData.model.validatePosition(t),n=this._configuration.options,o=n.get(129);return{top:e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:n.get(58)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Qv.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(!e)return void(this._modelData=null);const i=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const n=new Vk(this._id,this._configuration,e,ax.create(),Yk.create(this._configuration.options),(e=>ki(e)));i.push(e.onDidChangeDecorations((e=>this._onDidChangeModelDecorations.fire(e)))),i.push(e.onDidChangeLanguage((t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t)}))),i.push(e.onDidChangeLanguageConfiguration((e=>this._onDidChangeModelLanguageConfiguration.fire(e)))),i.push(e.onDidChangeContent((e=>this._onDidChangeModelContent.fire(e)))),i.push(e.onDidChangeOptions((e=>this._onDidChangeModelOptions.fire(e)))),i.push(e.onWillDispose((()=>this.setModel(null)))),i.push(n.onEvent((e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{e.reachedMaxCursorCount&&this._notificationService.warn(t("vs/editor/browser/widget/codeEditorWidget","cursors.maximum","The number of cursors has been limited to {0}.",ck.MAX_CURSOR_COUNT));const i=[];for(let t=0,s=e.selections.length;t<s;t++)i[t]=e.selections[t].getPosition();const n={position:i[0],secondaryPositions:i.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(n);const o={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(o);break}}})));const[o,s]=this._createView(n);if(s){this._domElement.appendChild(o.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];o.addContentWidget(this._contentWidgets[i])}t=Object.keys(this._overlayWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];o.addOverlayWidget(this._overlayWidgets[i])}o.render(!1,!0),o.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new mx(e,n,o,s,i)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,i,n)=>{this._compositionType("keyboard",e,t,i,n)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{const o={text:e,pasteOnNewLine:t,multicursorText:i,mode:n};this._commandService.executeCommand("paste",o)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,i,n)=>{if(i||n){const o={text:e,replacePrevCharCnt:t,replaceNextCharCnt:i,positionDelta:n};this._commandService.executeCommand("compositionType",o)}else{const i={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",i)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new BC(e.coordinatesConverter);i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new AS(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};px=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ux(3,Nn),ux(4,An),ux(5,Jn),ux(6,_s),ux(7,Ls),ux(8,$k),ux(9,qk)],px);class fx extends v{constructor(){super(),this._onDidChangeToTrue=this._register(new X),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new X),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class _x extends v{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=av.editorSimpleInput.bindTo(t),this._editorFocus=av.focus.bindTo(t),this._textInputFocus=av.textInputFocus.bindTo(t),this._editorTextFocus=av.editorTextFocus.bindTo(t),this._editorTabMovesFocus=av.tabMovesFocus.bindTo(t),this._editorReadonly=av.readOnly.bindTo(t),this._inDiffEditor=av.inDiffEditor.bindTo(t),this._editorColumnSelection=av.columnSelection.bindTo(t),this._hasMultipleSelections=av.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=av.hasNonEmptySelection.bindTo(t),this._canUndo=av.canUndo.bindTo(t),this._canRedo=av.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class bx extends v{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=av.languageId.bindTo(t),this._hasCompletionItemProvider=av.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=av.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=av.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=av.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=av.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=av.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=av.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=av.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=av.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=av.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=av.hasReferenceProvider.bindTo(t),this._hasRenameProvider=av.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=av.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=av.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=av.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=av.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=av.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=av.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=av.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(Wc.onDidChange(i)),this._register(Yc.onDidChange(i)),this._register(Jc.onDidChange(i)),this._register($c.onDidChange(i)),this._register(qc.onDidChange(i)),this._register(Gc.onDidChange(i)),this._register(Zc.onDidChange(i)),this._register(zc.onDidChange(i)),this._register(Kc.onDidChange(i)),this._register(Uc.onDidChange(i)),this._register(Fc.onDidChange(i)),this._register(Bc.onDidChange(i)),this._register(Xc.onDidChange(i)),this._register(eh.onDidChange(i)),this._register(Hc.onDidChange(i)),this._register(Qc.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(Wc.has(e)),this._hasCodeActionsProvider.set(Yc.has(e)),this._hasCodeLensProvider.set(Jc.has(e)),this._hasDefinitionProvider.set($c.has(e)),this._hasDeclarationProvider.set(qc.has(e)),this._hasImplementationProvider.set(Gc.has(e)),this._hasTypeDefinitionProvider.set(Zc.has(e)),this._hasHoverProvider.set(zc.has(e)),this._hasDocumentHighlightProvider.set(Kc.has(e)),this._hasDocumentSymbolProvider.set(Uc.has(e)),this._hasReferenceProvider.set(Fc.has(e)),this._hasRenameProvider.set(Bc.has(e)),this._hasSignatureHelpProvider.set(Hc.has(e)),this._hasInlayHintsProvider.set(Qc.has(e)),this._hasDocumentFormattingProvider.set(Xc.has(e)||eh.has(e)),this._hasDocumentSelectionFormattingProvider.set(eh.has(e)),this._hasMultipleDocumentFormattingProvider.set(Xc.all(e).length+eh.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(eh.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===di.walkThroughSnippet)})):this.reset()}}class vx extends v{constructor(e){super(),this._onChange=this._register(new X),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(on(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}const wx=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Cx=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function yx(e){return wx+encodeURIComponent(e.toString())+Cx}const Sx=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),kx=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');As(((e,t)=>{const i=e.getColor(Km);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`);const n=e.getColor(Um);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${yx(n)}") repeat-x bottom left; }`);const o=e.getColor(zm);o&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${o}; }`);const s=e.getColor(qm);s&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${s}; }`);const r=e.getColor($m);r&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${yx(r)}") repeat-x bottom left; }`);const a=e.getColor(jm);a&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=e.getColor(Jm);l&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const d=e.getColor(Zm);d&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${yx(d)}") repeat-x bottom left; }`);const c=e.getColor(Gm);c&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${c}; }`);const h=e.getColor(Ym);h&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${h}; }`);const u=e.getColor(Qm);var g;u&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${g=u,Sx+encodeURIComponent(g.toString())+kx}") no-repeat bottom left; }`);const m=e.getColor(L_);m&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${m.rgba.a}; }`);const p=e.getColor(x_);p&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${p}; }`);const f=e.getColor(ep)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${f}}`)}));class xx{constructor(e,t,i){const n=e=>this.emitter.fire(e);this.emitter=new X({onFirstListenerAdd:()=>e.addEventListener(t,n,i),onLastListenerRemove:()=>e.removeEventListener(t,n,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Lx(e){return e.preventDefault(),e.stopPropagation(),e}var Dx=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};var Ex,Nx;(Nx=Ex||(Ex={})).North="north",Nx.South="south",Nx.East="east",Nx.West="west";const Ix=new X;const Tx=new X;class Mx{constructor(){this.disposables=new b}get onPointerMove(){return this.disposables.add(new xx(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new xx(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Dx([ew],Mx.prototype,"onPointerMove",null),Dx([ew],Mx.prototype,"onPointerUp",null);class Ax{constructor(e){this.el=e,this.disposables=new b}get onPointerMove(){return this.disposables.add(new xx(this.el,tw.Change)).event}get onPointerUp(){return this.disposables.add(new xx(this.el,tw.End)).event}dispose(){this.disposables.dispose()}}Dx([ew],Ax.prototype,"onPointerMove",null),Dx([ew],Ax.prototype,"onPointerUp",null);class Rx{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Dx([ew],Rx.prototype,"onPointerMove",null),Dx([ew],Rx.prototype,"onPointerUp",null);class Ox extends v{constructor(e,t,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new mt(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new X),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new X),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new X),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new X),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new X),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new b),this.orthogonalStartDragHandleDisposables=this._register(new b),this.orthogonalEndSashDisposables=this._register(new b),this.orthogonalEndDragHandleDisposables=this._register(new b),this.el=sn(e,hn(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),B&&this.el.classList.add("mac");const n=this._register(new xx(this.el,"mousedown")).event;this._register(n((e=>this.onPointerStart(e,new Mx)),this));const o=this._register(new xx(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const s=this._register(new xx(this.el,"mouseenter")).event;this._register(s((()=>Ox.onMouseEnter(this))));const r=this._register(new xx(this.el,"mouseleave")).event;this._register(r((()=>Ox.onMouseLeave(this)))),this._register(nw.addTarget(this.el));const a=Q.map(this._register(new xx(this.el,tw.Start)).event,(e=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(a((e=>this.onPointerStart(e,new Ax(this.el))),this));const l=this._register(new xx(this.el,tw.Tap)).event,d=Q.map(Q.filter(Q.debounce(l,((e,t)=>{var i;return{event:t,count:(null!==(i=null==e?void 0:e.count)&&void 0!==i?i:0)+1}}),250),(({count:e})=>2===e)),(({event:e})=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(d(this.onPointerDoublePress,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(Ix.event((e=>{this.size=e,this.layout()})))),this._register(Tx.event((e=>this.hoverDelay=e))),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=sn(this.el,hn(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(_((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new xx(this._orthogonalStartDragHandle,"mouseenter")).event((()=>Ox.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new xx(this._orthogonalStartDragHandle,"mouseleave")).event((()=>Ox.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=sn(this.el,hn(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(_((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new xx(this._orthogonalEndDragHandle,"mouseenter")).event((()=>Ox.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new xx(this._orthogonalEndDragHandle,"mouseleave")).event((()=>Ox.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){tn(e);let i=!1;if(!e.__orthogonalSashEvent){const n=this.getOrthogonalSash(e);n&&(i=!0,e.__orthogonalSashEvent=!0,n.onPointerStart(e,new Rx(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new Rx(t))),!this.state)return;const n=(o="iframe",Array.prototype.slice.call(document.getElementsByTagName(o),0));var o;for(const u of n)u.style.pointerEvents="none";const s=e.pageX,r=e.pageY,a=e.altKey,l={startX:s,currentX:s,startY:r,currentY:r,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const d=Gi(this.el),c=()=>{let e="";e=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":B?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":B?"col-resize":"ew-resize",d.textContent=`* { cursor: ${e} !important; }`},h=new b;c(),i||this.onDidEnablementChange(c,null,h);t.onPointerMove((e=>{tn(e,!1);const t={startX:s,currentX:e.pageX,startY:r,currentY:e.pageY,altKey:a};this._onDidChange.fire(t)}),null,h),t.onPointerUp((e=>{tn(e,!1),this.el.removeChild(d),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(const t of n)t.style.pointerEvents="auto"}),null,h),h.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&Ox.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&Ox.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Ox.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}const Px=Tn("IEditorCancelService"),Fx=new fs("cancellableOperation",!1,t("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Ou(Px,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext((e=>({key:Fx.bindTo(e.get(_s)),tokens:new S}))),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class Bx extends dt{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext((t=>t.get(Px).add(e,this)))}dispose(){this._unregister(),super.dispose()}}rr(new class extends ir{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Fx})}runEditorCommand(e,t){e.get(Px).cancel(t)}});class Wx{constructor(e,t){if(this.flags=t,0!=(1&this.flags)){const t=e.getModel();this.modelVersionId=t?eo("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof Wx))return!1;const t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))}validate(e){return this._equals(new Wx(e,this.flags))}}class Vx extends Bx{constructor(e,t,i,n){super(e,n),this._listener=new b,4&t&&this._listener.add(e.onDidChangeCursorPosition((e=>{i&&br.containsPosition(i,e.position)||this.cancel()}))),2&t&&this._listener.add(e.onDidChangeCursorSelection((e=>{i&&br.containsRange(i,e.selection)||this.cancel()}))),8&t&&this._listener.add(e.onDidScrollChange((e=>this.cancel()))),1&t&&(this._listener.add(e.onDidChangeModel((e=>this.cancel()))),this._listener.add(e.onDidChangeModelContent((e=>this.cancel()))))}dispose(){this._listener.dispose(),super.dispose()}}class Hx extends dt{constructor(e,t){super(t),this._listener=e.onDidChangeContent((()=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}class zx{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new zx(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}const Ux={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:uC.text,TERMINALS:"Terminals"};class Kx{constructor(e){this.data=e}update(){}getData(){return this.data}}const jx={CurrentDragAndDropData:void 0};class $x extends v{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Wn&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Vn)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(nw.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,de&&this._register(_i(e,en.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(Ux.TEXT,this._action.label)})))),this._register(_i(t,tw.Tap,(e=>this.onClick(e,!0)))),this._register(_i(t,en.MOUSE_DOWN,(e=>{i||tn(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")}))),B&&this._register(_i(t,en.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register(_i(t,en.CLICK,(e=>{tn(e,!0),this.options&&this.options.isMenu||this.onClick(e)}))),this._register(_i(t,en.DBLCLICK,(e=>{tn(e,!0)}))),[en.MOUSE_UP,en.MOUSE_OUT].forEach((e=>{this._register(_i(t,e,(e=>{tn(e),t.classList.remove("active")})))}))}onClick(e,t=!1){var i;tn(e,!0);const n=Se(this._context)?(null===(i=this.options)||void 0===i?void 0:i.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class qx extends $x{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=sn(this.element,hn("a.action-label"))),this.label&&(this._action.id===Hn.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(sn(this.element,hn("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=t("vs/base/browser/ui/actionbar/actionViewItems",{key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var Gx=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Zx extends v{constructor(e,t={}){var i,n,o,s,r,a;let l,d;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new X),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new X({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new X),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new X),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(n=this.options.orientation)&&void 0!==n?n:0,this._triggerKeys={keyDown:null!==(s=null===(o=this.options.triggerKeys)||void 0===o?void 0:o.keyDown)&&void 0!==s&&s,keys:null!==(a=null===(r=this.options.triggerKeys)||void 0===r?void 0:r.keys)&&void 0!==a?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Vn,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._register(this._actionRunner.onBeforeRun((e=>this._onBeforeRun.fire(e)))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:l=[15],d=[17];break;case 1:l=[16],d=[18],this.domNode.className+=" vertical"}this._register(_i(this.domNode,en.KEY_DOWN,(e=>{const t=new Ye(e);let i=!0;const n="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;l&&(t.equals(l[0])||t.equals(l[1]))?i=this.focusPrevious():d&&(t.equals(d[0])||t.equals(d[1]))?i=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?i=this.focusFirst():t.equals(13)?i=this.focusLast():t.equals(2)&&n instanceof $x&&n.trapsArrowNavigation?i=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:i=!1,i&&(t.preventDefault(),t.stopPropagation())}))),this._register(_i(this.domNode,en.KEY_UP,(e=>{const t=new Ye(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(on(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{qi()!==this.domNode&&Hi(qi(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((i=>{t=t||e.equals(i)})),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Hi(qi(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach((t=>t.actionRunner=e)))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let n=ve(t.index)?t.index:null;i.forEach((e=>{const i=document.createElement("li");let o;i.className="action-item",i.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(_i(i,en.CONTEXT_MENU,(e=>{tn(e,!0)}))),this.options.actionViewItemProvider&&(o=this.options.actionViewItemProvider(e)),o||(o=new qx(this.context,e,t)),o.actionRunner=this._actionRunner,o.setActionContext(this.context),o.render(i),this.focusable&&o instanceof $x&&0===this.viewItems.length&&o.setFocusable(!0),null===n||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(o),this._actionIds.push(e.id)):(this.actionsList.insertBefore(i,this.actionsList.children[n]),this.viewItems.splice(n,0,o),this._actionIds.splice(n,0,e.id),n++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){p(this.viewItems),this.viewItems=[],this._actionIds=[],mi(this.actionsList)}length(){return this.viewItems.length}focus(e){let t,i=!1;if(void 0===e?i=!0:"number"==typeof e?t=e:"boolean"==typeof e&&(i=e),i&&void 0===this.focusedItem){const e=this.viewItems.findIndex((e=>e.isEnabled()));this.focusedItem=-1===e?void 0:e,this.updateFocus()}else void 0!==t&&(this.focusedItem=t),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],o=n;if(i===this.focusedItem){let i=!0;Le(o.focus)||(i=!1),this.options.focusOnlyEnabledItems&&Le(n.isEnabled)&&!n.isEnabled()&&(i=!1),i?o.focus(e):this.actionsList.focus({preventScroll:t})}else Le(o.blur)&&o.blur()}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof $x){const i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i)}}run(e,t){return Gx(this,void 0,void 0,(function*(){yield this._actionRunner.run(e,t)}))}dispose(){p(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const Jx=new class{constructor(){this._onDidChange=new X,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:t("vs/platform/theme/common/iconRegistry","iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:t("vs/platform/theme/common/iconRegistry","iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Gn.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=i),this._onDidChange.fire()}return o}let s={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=s;let r={$ref:"#/definitions/icons"};return n&&(r.deprecationMessage=n),i&&(r.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=r,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;Es.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return`codicon codicon-${e?e.id:""}`};let i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const o of n.filter((e=>!!e.description)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${Es.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of n.filter((e=>!Es.isThemeIcon(e.defaults))).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join("\n")}};function Qx(e,t,i,n){return Jx.registerIcon(e,t,i,n)}Ss.add("base.contributions.icons",Jx),function(){for(const e of jn.all)Jx.registerIcon(e.id,e.definition,e.description);jn.onDidRegister((e=>Jx.registerIcon(e.id,e.definition,e.description)))}();let Yx=Ss.as(gu);Yx.registerSchema("vscode://schemas/icons",Jx.getIconSchema());const Xx=new Ct((()=>Yx.notifySchemaChanged("vscode://schemas/icons")),200);Jx.onDidChange((()=>{Xx.isScheduled()||Xx.schedule()}));const eL=Qx("widget-close",qn.close,t("vs/platform/theme/common/iconRegistry","widgetClose","Icon for the close action in widgets."));var tL,iL=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class nL{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class oL{constructor(e){this.entries=e}}const sL=Qx("diff-review-insert",qn.add,t("vs/editor/browser/widget/diffReview","diffReviewInsertIcon","Icon for 'Insert' in diff review.")),rL=Qx("diff-review-remove",qn.remove,t("vs/editor/browser/widget/diffReview","diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),aL=Qx("diff-review-close",qn.close,t("vs/editor/browser/widget/diffReview","diffReviewCloseIcon","Icon for 'Close' in diff review."));let lL=class e extends v{constructor(e,i){super(),this._modeService=i,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=Xv(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=Xv(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Zx(this.actionBarContainer.domNode)),this._actionBar.push(new Wn("diffreview.close",t("vs/editor/browser/widget/diffReview","label.close","Close"),"close-diff-review "+Es.asClassName(aL),!0,(()=>iL(this,void 0,void 0,(function*(){return this.hide()})))),{label:!1,icon:!0}),this.domNode=Xv(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=Xv(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new ky(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff((()=>{this._isVisible&&(this._diffs=this._compute(),this._render())}))),this._register(e.getModifiedEditor().onDidChangeCursorPosition((()=>{this._isVisible&&this._render()}))),this._register(vi(this.domNode.domNode,"click",(e=>{e.preventDefault();let t=zi(e.target,"diff-review-row");t&&this._goToRow(t)}))),this._register(vi(this.domNode.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Rn(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Rn(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new Rn(e,1)),this._diffEditor.revealPosition(new Rn(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];const i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return i&&n?e._mergeAdjacent(t,i.getLineCount(),n.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];let n=[],o=0;for(let l=0,d=e.length;l<d;l++){const s=e[l],r=s.originalStartLineNumber,a=s.originalEndLineNumber,c=s.modifiedStartLineNumber,h=s.modifiedEndLineNumber;let u=[],g=0;{const t=0===a?r:r-1,i=0===h?c:c-1;let n=1,o=1;if(l>0){const t=e[l-1];n=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,o=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let s=t-3+1,d=i-3+1;if(s<n){const e=n-s;s+=e,d+=e}if(d<o){const e=o-d;s+=e,d+=e}u[g++]=new nL(s,t,d,i)}0!==a&&(u[g++]=new nL(r,a,0,0)),0!==h&&(u[g++]=new nL(0,0,c,h));{const n=0===a?r+1:a+1,o=0===h?c+1:h+1;let s=t,m=i;if(l+1<d){const t=e[l+1];s=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,m=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let p=n+3-1,f=o+3-1;if(p>s){const e=s-p;p+=e,f+=e}if(f>m){const e=m-f;p+=e,f+=e}u[g++]=new nL(n,p,o,f)}n[o++]=new oL(u)}let s=n[0].entries,r=[],a=0;for(let l=1,d=n.length;l<d;l++){const e=n[l].entries,t=s[s.length-1],i=e[0];0===t.getType()&&0===i.getType()&&i.originalLineStart<=t.originalLineEnd?(s[s.length-1]=new nL(t.originalLineStart,i.originalLineEnd,t.modifiedLineStart,i.modifiedLineEnd),s=s.concat(e.slice(1))):(r[a++]=new oL(s),s=e)}return r[a++]=new oL(s),r}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){const e=this._diffs[i].entries;if(t<=e[e.length-1].modifiedLineEnd)return i}return 0}_render(){const i=this._diffEditor.getOriginalEditor().getOptions(),n=this._diffEditor.getModifiedEditor().getOptions(),o=this._diffEditor.getOriginalEditor().getModel(),s=this._diffEditor.getModifiedEditor().getModel(),r=o.getOptions(),a=s.getOptions();if(!this._isVisible||!o||!s)return mi(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const l=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[l]===this._currentDiff)return;this._currentDiff=this._diffs[l];const d=this._diffs[l].entries;let c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Qv.applyFontInfoSlow(c,n.get(43));let h=0,u=0,g=0,m=0;for(let e=0,t=d.length;e<t;e++){const t=d[e],i=t.originalLineStart,n=t.originalLineEnd,o=t.modifiedLineStart,s=t.modifiedLineEnd;0!==i&&(0===h||i<h)&&(h=i),0!==n&&(0===u||n>u)&&(u=n),0!==o&&(0===g||o<g)&&(g=o),0!==s&&(0===m||s>m)&&(m=s)}let p=document.createElement("div");p.className="diff-review-row";let f=document.createElement("div");f.className="diff-review-cell diff-review-summary";const _=u-h+1,b=m-g+1;f.appendChild(document.createTextNode(`${l+1}/${this._diffs.length}: @@ -${h},${_} +${g},${b} @@`)),p.setAttribute("data-line",String(g));const v=e=>0===e?t("vs/editor/browser/widget/diffReview","no_lines_changed","no lines changed"):1===e?t("vs/editor/browser/widget/diffReview","one_line_changed","1 line changed"):t("vs/editor/browser/widget/diffReview","more_lines_changed","{0} lines changed",e),w=v(_),C=v(b);p.setAttribute("aria-label",t("vs/editor/browser/widget/diffReview",{key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",l+1,this._diffs.length,h,w,g,C)),p.appendChild(f),p.setAttribute("role","listitem"),c.appendChild(p);const y=n.get(58);let S=g;for(let t=0,k=d.length;t<k;t++){const l=d[t];e._renderSection(c,l,S,y,this._width,i,o,r,n,s,a,this._modeService.languageIdCodec),0!==l.modifiedLineStart&&(S=l.modifiedLineEnd)}mi(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(i,n,o,s,r,a,l,d,c,h,u,g){const m=n.getType();let p="diff-review-row",f="";let _=null;switch(m){case 1:p="diff-review-row line-insert",f=" char-insert",_=sL;break;case 2:p="diff-review-row line-delete",f=" char-delete",_=rL}const b=n.originalLineStart,v=n.originalLineEnd,w=n.modifiedLineStart,C=n.modifiedLineEnd,y=Math.max(C-w,v-b),S=a.get(129),k=S.glyphMarginWidth+S.lineNumbersWidth,x=c.get(129),L=10+x.glyphMarginWidth+x.lineNumbersWidth;for(let D=0;D<=y;D++){const n=0===b?0:b+D,v=0===w?0:w+D,C=document.createElement("div");C.style.minWidth=r+"px",C.className=p,C.setAttribute("role","listitem"),0!==v&&(o=v),C.setAttribute("data-line",String(o));let y=document.createElement("div");y.className="diff-review-cell",y.style.height=`${s}px`,C.appendChild(y);const S=document.createElement("span");S.style.width=k+"px",S.style.minWidth=k+"px",S.className="diff-review-line-number"+f,0!==n?S.appendChild(document.createTextNode(String(n))):S.innerText=" ",y.appendChild(S);const x=document.createElement("span");x.style.width=L+"px",x.style.minWidth=L+"px",x.style.paddingRight="10px",x.className="diff-review-line-number"+f,0!==v?x.appendChild(document.createTextNode(String(v))):x.innerText=" ",y.appendChild(x);const E=document.createElement("span");if(E.className="diff-review-spacer",_){const e=document.createElement("span");e.className=Es.asClassName(_),e.innerText="  ",E.appendChild(e)}else E.innerText="  ";let N;if(y.appendChild(E),0!==v){let t=this._renderLine(h,c,u.tabSize,v,g);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),y.insertAdjacentHTML("beforeend",t),N=h.getLineContent(v)}else{let t=this._renderLine(l,a,d.tabSize,n,g);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),y.insertAdjacentHTML("beforeend",t),N=l.getLineContent(n)}0===N.length&&(N=t("vs/editor/browser/widget/diffReview","blankLine","blank"));let I="";switch(m){case 0:I=n===v?t("vs/editor/browser/widget/diffReview",{key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",N,n):t("vs/editor/browser/widget/diffReview","equalLine","{0} original line {1} modified line {2}",N,n,v);break;case 1:I=t("vs/editor/browser/widget/diffReview","insertLine","+ {0} modified line {1}",N,v);break;case 2:I=t("vs/editor/browser/widget/diffReview","deleteLine","- {0} original line {1}",N,n)}C.setAttribute("aria-label",I),i.appendChild(C)}}static _renderLine(e,t,i,n,o){const s=e.getLineContent(n),r=t.get(43),a=dh.createEmpty(s,o),l=Ky.isBasicASCII(s,e.mightContainNonBasicASCII()),d=Ky.containsRTL(s,l,e.mightContainRTL());return Ow(new Nw(r.isMonospace&&!t.get(29),r.canUseHalfwidthRightwardsArrow,s,!1,l,d,0,a,[],i,0,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,t.get(104),t.get(87),t.get(82),t.get(44)!==zr.OFF,null)).html}};lL._ttPolicy=null===(tL=window.trustedTypes)||void 0===tL?void 0:tL.createPolicy("diffReview",{createHTML:e=>e}),lL=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,Mu)],lL),As(((e,t)=>{const i=e.getColor(p_);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const n=e.getColor(Fm);n&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)}));function dL(e){const t=e.get(An),i=t.listDiffEditors(),n=t.getActiveCodeEditor();if(!n)return null;for(let o=0,s=i.length;o<s;o++){const e=i[o];if(e.getModifiedEditor().getId()===n.getId()||e.getOriginalEditor().getId()===n.getId())return e}return null}ar(class extends nr{constructor(){super({id:"editor.action.diffReview.next",label:t("vs/editor/browser/widget/diffReview","editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Jo.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=dL(e);i&&i.diffReviewNext()}}),ar(class extends nr{constructor(){super({id:"editor.action.diffReview.prev",label:t("vs/editor/browser/widget/diffReview","editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Jo.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=dL(e);i&&i.diffReviewPrev()}});const cL=Tn("editorWorkerService"),hL=Tn("contextViewService"),uL=Tn("contextMenuService");var gL=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class mL extends v{constructor(e,i,n,o,s,r){super(),this._viewZoneId=e,this._marginDomNode=i,this.editor=n,this.diff=o,this._contextMenuService=s,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=qn.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=n.getOption(58),l=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const d=[],c=0===o.modifiedEndLineNumber;d.push(new Wn("diff.clipboard.copyDeletedContent",c?o.originalEndLineNumber>o.modifiedStartLineNumber?t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):o.originalEndLineNumber>o.modifiedStartLineNumber?t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,(()=>gL(this,void 0,void 0,(function*(){const e=new br(o.originalStartLineNumber,1,o.originalEndLineNumber+1,1),t=o.originalModel.getValueInRange(e);yield this._clipboardService.writeText(t)})))));let h,u=0;o.originalEndLineNumber>o.modifiedStartLineNumber&&(h=new Wn("diff.clipboard.copyDeletedLineContent",c?t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber):t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",o.originalStartLineNumber),void 0,!0,(()=>gL(this,void 0,void 0,(function*(){const e=o.originalModel.getLineContent(o.originalStartLineNumber+u);if(""===e){const e=o.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===e?"\n":"\r\n")}else yield this._clipboardService.writeText(e)})))),d.push(h));n.getOption(80)||d.push(new Wn("diff.inline.revertChange",t("vs/editor/browser/widget/inlineDiffMargin","diff.inline.revertChange.label","Revert this change"),void 0,!0,(()=>gL(this,void 0,void 0,(function*(){const e=new br(o.originalStartLineNumber,1,o.originalEndLineNumber,o.originalModel.getLineMaxColumn(o.originalEndLineNumber)),t=o.originalModel.getValueInRange(e);if(0===o.modifiedEndLineNumber){const e=n.getModel().getLineMaxColumn(o.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new br(o.modifiedStartLineNumber,e,o.modifiedStartLineNumber,e),text:l+t}])}else{const e=n.getModel().getLineMaxColumn(o.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new br(o.modifiedStartLineNumber,1,o.modifiedEndLineNumber,e),text:t}])}})))));const g=(e,i)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:i}),getActions:()=>(h&&(h.label=c?t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber+u):t("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",o.originalStartLineNumber+u)),d),autoSelectFirstItem:!0})};this._register(vi(this._diffActions,"mousedown",(e=>{const{top:t,height:i}=Oi(this._diffActions);let n=Math.floor(a/3);e.preventDefault(),g(e.posx,t+i+n)}))),this._register(n.onMouseMove((e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,u=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,a)):this.visibility=!1}else this.visibility=!1}))),this._register(n.onMouseDown((e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,a),g(e.event.posx,e.event.posy+a))}})))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){const{top:n}=Oi(e),o=t-n,s=Math.floor(o/i),r=s*i;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let e=0;for(let t=0;t<this.diff.viewLineCounts.length;t++)if(e+=this.diff.viewLineCounts[t],s<e)return t}return s}}const pL=Tn("clipboardService");class fL{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}fL.None=Object.freeze({report(){}});const _L=Tn("editorProgressService");var bL,vL=function(e,t){return function(i,n){t(i,n,e)}};class wL{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter((e=>!this._zonesMap[String(e.id)]))}clean(e){this._zones.length>0&&e.changeViewZones((e=>{for(const t of this._zones)e.removeZone(t)})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){const o=n?zx.capture(e):null;e.changeViewZones((t=>{var n;for(const e of this._zones)t.removeZone(e);for(const e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let o=0,s=i.zones.length;o<s;o++){const s=i.zones[o];s.suppressMouseDown=!0;const r=t.addZone(s);this._zones.push(r),this._zonesMap[String(r)]=!0,i.zones[o].diff&&s.marginDomNode&&(s.suppressMouseDown=!1,0!==(null===(n=i.zones[o].diff)||void 0===n?void 0:n.originalModel.getValueLength())&&this._inlineDiffMargins.push(new mL(r,s.marginDomNode,e,i.zones[o].diff,this._contextMenuService,this._clipboardService)))}})),o&&o.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let CL=0;const yL=Qx("diff-insert",qn.add,t("vs/editor/browser/widget/diffEditorWidget","diffInsertIcon","Line decoration for inserts in the diff editor.")),SL=Qx("diff-remove",qn.remove,t("vs/editor/browser/widget/diffEditorWidget","diffRemoveIcon","Line decoration for removals in the diff editor.")),kL=null===(bL=window.trustedTypes)||void 0===bL?void 0:bL.createPolicy("diffEditorWidget",{createHTML:e=>e});let xL=class e extends v{constructor(t,i,o,s,r,a,l,d,c,h,u,g){super(),this._editorProgressService=g,this._onDidDispose=this._register(new X),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new X),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new X),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=r,this._codeEditorService=d,this._contextKeyService=this._register(a.createScoped(t)),this._instantiationService=l.createChild(new zk([_s,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=h,this._id=++CL,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._options=WL(i,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),void 0!==i.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Ct((()=>this._updateDecorations()),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=Xv(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(vi(this._overviewDomElement,"mousedown",(e=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new wL(u,s),this._modifiedEditorState=new wL(u,s),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ev(this._containerDomElement,i.dimension,(()=>this._onDidContainerSizeChanged()))),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,o.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,o.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=l.createInstance(lL,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new TL(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new AL(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange((t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)})));const m=hr.getDiffEditorContributions();for(const e of m)try{this._register(l.createInstance(e.ctor,this))}catch(p){n(p)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Is(e.type),i}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(n.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(n.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(n.onDidChangeConfiguration((e=>{n.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(n.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(n.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})));const o=this._contextKeyService.createKey("isInDiffLeftEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget((()=>o.set(!0)))),this._register(n.onDidBlurEditorWidget((()=>o.set(!1)))),this._register(n.onDidContentSizeChange((t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),n}_createRightHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(n.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(n.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(n.onDidChangeConfiguration((e=>{n.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(n.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(n.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}))),this._register(n.onDidChangeModelOptions((e=>{e.tabSize&&this._updateDecorationsRunner.schedule()})));const o=this._contextKeyService.createKey("isInDiffRightEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget((()=>o.set(!0)))),this._register(n.onDidBlurEditorWidget((()=>o.set(!1)))),this._register(n.onDidContentSizeChange((t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),n}_createInnerEditor(e,t,i,n){return e.createInstance(px,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return uk.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const i=WL(t,this._options),n=(o=this._options,s=i,{enableSplitViewResizing:o.enableSplitViewResizing!==s.enableSplitViewResizing,renderSideBySide:o.renderSideBySide!==s.renderSideBySide,maxComputationTime:o.maxComputationTime!==s.maxComputationTime,maxFileSize:o.maxFileSize!==s.maxFileSize,ignoreTrimWhitespace:o.ignoreTrimWhitespace!==s.ignoreTrimWhitespace,renderIndicators:o.renderIndicators!==s.renderIndicators,originalEditable:o.originalEditable!==s.originalEditable,diffCodeLens:o.diffCodeLens!==s.diffCodeLens,renderOverviewRuler:o.renderOverviewRuler!==s.renderOverviewRuler,diffWordWrap:o.diffWordWrap!==s.diffWordWrap});var o,s;this._options=i;const r=n.ignoreTrimWhitespace||n.renderIndicators,a=this._isVisible&&(n.maxComputationTime||n.maxFileSize);r?this._beginUpdateDecorations():a&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),n.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new TL(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new AL(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),n.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler)return;if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((()=>this._beginUpdateDecorations()),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const i=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(!i||!n)return;this._diffComputationToken++;const o=this._diffComputationToken,s=1024*this._options.maxFileSize*1024,r=e=>{const t=e.getValueLength();return 0===s||t<=s};r(i)&&r(n)?(this._setState(1),this._editorWorkerService.computeDiff(i.uri,n.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then((e=>{o===this._diffComputationToken&&i===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())}),(e=>{o===this._diffComputationToken&&i===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}))):e._equals(i.uri,this._lastOriginalWarning)&&e._equals(n.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=i.uri,this._lastModifiedWarning=n.uri,this._notificationService.warn(t("vs/editor/browser/widget/diffEditorWidget","diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=Yr.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:o,height:i-n}),this._modifiedEditor.layout({width:t-o-(this._options.renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-0),s=i>0?o/i:0;return{height:Math.max(0,Math.floor(e.height*s)),top:Math.floor(t*s)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){const s=Math.floor((n+o)/2),r=t(i[s]),a=s+1<=o?t(i[s+1]):1073741824;e<r?o=s-1:e>=a?n=s+1:(n=s,o=s)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.originalStartLineNumber));if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,r=e-i;return r<=o?n+Math.min(r,s):n+s-o+r}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.modifiedStartLineNumber));if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,r=e-n;return r<=s?i+Math.min(r,o):i+o-s+r}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};xL.ONE_OVERVIEW_WIDTH=15,xL.ENTIRE_DIFF_OVERVIEW_WIDTH=30,xL.UPDATE_DIFF_DECORATIONS_DELAY=200,xL=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([vL(3,pL),vL(4,cL),vL(5,_s),vL(6,Nn),vL(7,An),vL(8,Ls),vL(9,$k),vL(10,uL),vL(11,_L)],xL);class LL extends v{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(Hp)||Wp).transparent(2),i=(e.getColor(zp)||Vp).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o){o=o.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber)),n=n.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber));const s=this._getViewZones(e,n,o,i),r=this._getOriginalEditorDecorations(e,t,i),a=this._getModifiedEditorDecorations(e,t,i);return{original:{decorations:r.decorations,overviewZones:r.overviewZones,zones:s.original},modified:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.modified}}}}class DL{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class EL{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){const n=e.getModel(),o=e._getViewModel();if(n&&o){const e=BL(n,o,t,i);return e.endLineNumber-e.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(58),t=this._modifiedEditor.getOption(58),i=-1!==this._originalEditor.getOption(130).wrappingColumn,n=-1!==this._modifiedEditor.getOption(130).wrappingColumn,o=i||n,s=this._originalEditor.getModel(),r=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],d=[];let c=0,h=0,u=0,g=0,m=0,p=0;const f=(e,t)=>e.afterLineNumber-t.afterLineNumber,_=(e,t)=>{if(null===t.domNode&&e.length>0){const i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},b=new DL(this._modifiedForeignVZ),v=new DL(this._originalForeignVZ);let w=1,C=1;for(let y=0,S=this._lineChanges.length;y<=S;y++){const i=y<S?this._lineChanges[y]:null;null!==i?(u=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),g=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),h=i.originalEndLineNumber>0?EL._getViewLineCount(this._originalEditor,i.originalStartLineNumber,i.originalEndLineNumber):0,c=i.modifiedEndLineNumber>0?EL._getViewLineCount(this._modifiedEditor,i.modifiedStartLineNumber,i.modifiedEndLineNumber):0,m=Math.max(i.originalStartLineNumber,i.originalEndLineNumber),p=Math.max(i.modifiedStartLineNumber,i.modifiedEndLineNumber)):(u+=1e7+h,g+=1e7+c,m=u,p=g);let n=[],k=[];if(o){let e;e=i?i.originalEndLineNumber>0?i.originalStartLineNumber-w:i.modifiedStartLineNumber-C:s.getLineCount()-w;for(let t=0;t<e;t++){const e=w+t,i=C+t,o=r.getModelLineViewLineCount(e),s=a.getModelLineViewLineCount(i);o<s?n.push({afterLineNumber:e,heightInLines:s-o,domNode:null,marginDomNode:null}):o>s&&k.push({afterLineNumber:i,heightInLines:o-s,domNode:null,marginDomNode:null})}i&&(w=(i.originalEndLineNumber>0?i.originalEndLineNumber:i.originalStartLineNumber)+1,C=(i.modifiedEndLineNumber>0?i.modifiedEndLineNumber:i.modifiedStartLineNumber)+1)}for(;b.current&&b.current.afterLineNumber<=p;){let e;e=b.current.afterLineNumber<=g?u-g+b.current.afterLineNumber:m;let o=null;i&&i.modifiedStartLineNumber<=b.current.afterLineNumber&&b.current.afterLineNumber<=i.modifiedEndLineNumber&&(o=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),n.push({afterLineNumber:e,heightInLines:b.current.height/t,domNode:null,marginDomNode:o}),b.advance()}for(;v.current&&v.current.afterLineNumber<=m;){let t;t=v.current.afterLineNumber<=u?g-u+v.current.afterLineNumber:p,k.push({afterLineNumber:t,heightInLines:v.current.height/e,domNode:null}),v.advance()}if(null!==i&&OL(i)){const e=this._produceOriginalFromDiff(i,h,c);e&&n.push(e)}if(null!==i&&PL(i)){const e=this._produceModifiedFromDiff(i,h,c);e&&k.push(e)}let x=0,L=0;for(n=n.sort(f),k=k.sort(f);x<n.length&&L<k.length;){const e=n[x],t=k[L],i=e.afterLineNumber-u,o=t.afterLineNumber-g;i<o?(_(l,e),x++):o<i?(_(d,t),L++):e.shouldNotShrink?(_(l,e),x++):t.shouldNotShrink?(_(d,t),L++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,L++):(t.heightInLines-=e.heightInLines,x++)}for(;x<n.length;)_(l,n[x]),x++;for(;L<k.length;)_(d,k[L]),L++}return{original:EL._ensureDomNodes(l),modified:EL._ensureDomNodes(d)}}static _ensureDomNodes(e){return e.map((e=>(e.domNode||(e.domNode=FL()),e)))}}function NL(e,t,i,n,o){return{range:new br(e,t,i,n),options:o}}const IL={charDelete:vb.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:vb.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:vb.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:vb.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:vb.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:vb.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Es.asClassName(yL),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:vb.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:vb.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Es.asClassName(SL),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:vb.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class TL extends LL{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new Ox(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart((()=>this._onSashDragStart())),this._sash.onDidChange((e=>this._onSashDrag(e))),this._sash.onDidEnd((()=>this._onSashDragEnd())),this._sash.onDidReset((()=>this._onSashReset()))}setEnableSplitViewResizing(e){const t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xL.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let i=Math.floor((e||.5)*t);const n=Math.floor(.5*t);return i=this._disableSash?n:i||n,t>2*TL.MINIMUM_EDITOR_WIDTH?(i<TL.MINIMUM_EDITOR_WIDTH&&(i=TL.MINIMUM_EDITOR_WIDTH),i>t-TL.MINIMUM_EDITOR_WIDTH&&(i=t-TL.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xL.ENTIRE_DIFF_OVERVIEW_WIDTH:0),i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){const n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new ML(e,t,i,n,o).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=this._dataSource.getOriginalEditor(),o=String(this._removeColor),s={decorations:[],overviewZones:[]},r=n.getModel(),a=n._getViewModel();for(const l of e)if(PL(l)){s.decorations.push({range:new br(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:i?IL.lineDeleteWithSign:IL.lineDelete}),OL(l)&&l.charChanges||s.decorations.push(NL(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824,IL.charDeleteWholeLine));const e=BL(r,a,l.originalStartLineNumber,l.originalEndLineNumber);if(s.overviewZones.push(new mS(e.startLineNumber,e.endLineNumber,o)),l.charChanges)for(const i of l.charChanges)if(PL(i))if(t)for(let e=i.originalStartLineNumber;e<=i.originalEndLineNumber;e++){let t,n;t=e===i.originalStartLineNumber?i.originalStartColumn:r.getLineFirstNonWhitespaceColumn(e),n=e===i.originalEndLineNumber?i.originalEndColumn:r.getLineLastNonWhitespaceColumn(e),s.decorations.push(NL(e,t,e,n,IL.charDelete))}else s.decorations.push(NL(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn,IL.charDelete))}return s}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor(),o=String(this._insertColor),s={decorations:[],overviewZones:[]},r=n.getModel(),a=n._getViewModel();for(const l of e)if(OL(l)){s.decorations.push({range:new br(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:i?IL.lineInsertWithSign:IL.lineInsert}),PL(l)&&l.charChanges||s.decorations.push(NL(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,IL.charInsertWholeLine));const e=BL(r,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(s.overviewZones.push(new mS(e.startLineNumber,e.endLineNumber,o)),l.charChanges)for(const i of l.charChanges)if(OL(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:r.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:r.getLineLastNonWhitespaceColumn(e),s.decorations.push(NL(e,t,e,n,IL.charInsert))}else s.decorations.push(NL(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,IL.charInsert))}return s}}TL.MINIMUM_EDITOR_WIDTH=100;class ML extends EL{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class AL extends LL{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange((t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())})))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){const o=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new RL(e,t,i,o,s,n).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=String(this._removeColor),o={decorations:[],overviewZones:[]},s=this._dataSource.getOriginalEditor(),r=s.getModel(),a=s._getViewModel();for(const l of e)if(PL(l)){o.decorations.push({range:new br(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:IL.lineDeleteMargin});const e=BL(r,a,l.originalStartLineNumber,l.originalEndLineNumber);o.overviewZones.push(new mS(e.startLineNumber,e.endLineNumber,n))}return o}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor(),o=String(this._insertColor),s={decorations:[],overviewZones:[]},r=n.getModel(),a=n._getViewModel();for(const l of e)if(OL(l)){s.decorations.push({range:new br(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:i?IL.lineInsertWithSign:IL.lineInsert});const e=BL(r,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(s.overviewZones.push(new mS(e.startLineNumber,e.endLineNumber,o)),l.charChanges){for(const i of l.charChanges)if(OL(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:r.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:r.getLineLastNonWhitespaceColumn(e),s.decorations.push(NL(e,t,e,n,IL.charInsert))}else s.decorations.push(NL(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,IL.charInsert))}else s.decorations.push(NL(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,IL.charInsertWholeLine))}return s}layout(){return Math.max(5,this._decorationsLeft)}}class RL extends EL{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._originalModel=n.getModel(),this._renderIndicators=s,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){const n=document.createElement("div");n.className="view-lines line-delete monaco-mouse-cursor-text";const o=document.createElement("div");o.className="inline-deleted-margin-view-zone";const s={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let r=e.originalStartLineNumber;r<=e.originalEndLineNumber;r++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(r),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(s),s}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(43),o=t.get(29),s=n.typicalHalfwidthCharacterWidth,r=t.get(92),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),d=t.get(58),c=t.get(129).decorationsWidth,h=t.get(104),u=t.get(87),g=t.get(82),m=t.get(44),p=this._lineBreaksComputer.finalize();let f=0;for(let _=0;_<this._pendingLineChange.length;_++){const t=this._pendingLineChange[_],b=this._pendingViewZones[_],v=b.domNode;Qv.applyFontInfoSlow(v,n);const w=b.marginDomNode;Qv.applyFontInfoSlow(w,n);const C=[];if(t.charChanges)for(const e of t.charChanges)PL(e)&&C.push(new jy(new br(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));const y=C.length>0,S=Aa(1e4);let k=0,x=0,L=null;for(let s=t.originalStartLineNumber;s<=t.originalEndLineNumber;s++){const r=s-t.originalStartLineNumber,_=this._originalModel.getLineTokens(s),v=_.getLineContent(),D=p[f++],E=kw.filter(C,s,1,v.length+1);if(D){let t=0;for(const e of D.breakOffsets){const s=_.sliceAndInflate(t,e,0),r=v.substring(t,e);k=Math.max(k,this._renderOriginalLine(x++,r,s,kw.extractWrapped(E,t,e),y,a,l,n,o,d,c,h,u,g,m,i,S,w)),t=e}for(L||(L=[]);L.length<r;)L[L.length]=1;L[r]=D.breakOffsets.length,b.heightInLines+=D.breakOffsets.length-1;const p=document.createElement("div");p.className="line-delete",e.original.push({afterLineNumber:s,afterColumn:0,heightInLines:D.breakOffsets.length-1,domNode:FL(),marginDomNode:p})}else k=Math.max(k,this._renderOriginalLine(x++,v,_,E,y,a,l,n,o,d,c,h,u,g,m,i,S,w))}k+=r;const D=S.build(),E=kL?kL.createHTML(D):D;if(v.innerHTML=E,b.minWidthInPx=k*s,L){const e=t.originalEndLineNumber-t.originalStartLineNumber;for(;L.length<=e;)L[L.length]=1}b.diff.viewLineCounts=L}e.original.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber))}_renderOriginalLine(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m,p,f,_){f.appendASCIIString('<div class="view-line'),o||f.appendASCIIString(" char-delete"),f.appendASCIIString('" style="top:'),f.appendASCIIString(String(e*d)),f.appendASCIIString('px;width:1000000px;">');const b=Ky.isBasicASCII(t,s),v=Ky.containsRTL(t,b,r),w=Aw(new Nw(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,b,v,0,i,n,p,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,h,u,g,m!==zr.OFF,null),f);if(f.appendASCIIString("</div>"),this._renderIndicators){const t=document.createElement("div");t.className=`delete-sign ${Es.asClassName(SL)}`,t.setAttribute("style",`position:absolute;top:${e*d}px;width:${c}px;height:${d}px;right:0;`),_.appendChild(t)}return w.characterMapping.getAbsoluteOffset(w.characterMapping.length)}}function OL(e){return e.modifiedEndLineNumber>0}function PL(e){return e.originalEndLineNumber>0}function FL(){const e=document.createElement("div");return e.className="diagonal-fill",e}function BL(e,t,i,n){const o=e.getLineCount();return i=Math.min(o,Math.max(1,i)),n=Math.min(o,Math.max(1,n)),t.coordinatesConverter.convertModelRangeToViewRange(new br(i,e.getLineMinColumn(i),n,e.getLineMaxColumn(n)))}function WL(e,t){return{enableSplitViewResizing:Tr(e.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:Tr(e.renderSideBySide,t.renderSideBySide),maxComputationTime:Ar(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:Ar(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:Tr(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:Tr(e.renderIndicators,t.renderIndicators),originalEditable:Tr(e.originalEditable,t.originalEditable),diffCodeLens:Tr(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:Tr(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:(i=e.diffWordWrap,n=t.diffWordWrap,Fr(i,n,["off","on","inherit"]))};var i,n}As(((e,t)=>{const i=e.getColor(Hp);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const n=e.getColor(zp);n&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${n}; }`));const o=e.getColor(Up);o&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; }`);const s=e.getColor(Kp);s&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${s}; }`);const r=e.getColor(Fm);r&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${r}; }`);const a=e.getColor(jp);a&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=e.getColor(Bm);l&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const d=e.getColor(Wm);d&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${d};\n\t\t\t}\n\t\t`);const c=e.getColor(Vm);c&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${c};\n\t\t\t}\n\t\t`);const h=e.getColor($p);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${h} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${h} 50%, ${h} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)}));const VL={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class HL extends v{constructor(e,t={}){super(),this._onDidUpdate=this._register(new X),this._editor=e,this._options=na(t,VL,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose((()=>this.dispose()))),this._register(this._editor.onDidUpdateDiff((()=>this._onDiffUpdated()))),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((e=>{this.ignoreSelectionChange||(this.nextIdx=-1)}))),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel((e=>{this.revealFirst=!0}))),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach((e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((e=>{this.ranges.push({rhs:!0,range:new br(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):0===e.modifiedEndLineNumber?this.ranges.push({rhs:!0,range:new br(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new br(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber+1,1)})})),this.ranges.sort(((e,t)=>br.compareRangesUsingStarts(e.range,t.range))),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(i){for(let n=0,o=this.ranges.length;n<o&&!t;n++){let o=this.ranges[n].range;i.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(ys(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let e=i.range.getStartPosition();this._editor.setPosition(e),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}function zL(...e){return function(t,i){for(let n=0,o=e.length;n<o;n++){const o=e[n](t,i);if(o)return o}return null}}const UL=function(e,t,i){if(!i||i.length<t.length)return null;let n;n=e?wo(i,t):0===i.indexOf(t);if(!n)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function KL(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1===i?null:[{start:i,end:i+e.length}]}function jL(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]===t[n]){let o=null;return(o=jL(e,t,i+1,n+1))?XL({start:n,end:n+1},o):null}return jL(e,t,i,n+1)}function $L(e){return 97<=e&&e<=122}function qL(e){return 65<=e&&e<=90}function GL(e){return 48<=e&&e<=57}function ZL(e){return 32===e||9===e||10===e||13===e}const JL=new Set;function QL(e){return ZL(e)||JL.has(e)}function YL(e){return $L(e)||qL(e)||GL(e)}function XL(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function eD(e,t){for(let i=t;i<e.length;i++){const t=e.charCodeAt(i);if(qL(t)||GL(t)||i>0&&!YL(e.charCodeAt(i-1)))return i}return e.length}function tD(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;{let o=null,s=n+1;for(o=tD(e,t,i+1,n+1);!o&&(s=eD(t,s))<t.length;)o=tD(e,t,i+1,s),s++;return null===o?null:XL({start:n,end:n+1},o)}}function iD(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,i=0,n=0,o=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s),qL(n)&&t++,$L(n)&&i++,ZL(n)&&o++;return 0!==t&&0!==i||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const i=function(e){let t=0,i=0,n=0,o=0,s=0;for(let r=0;r<e.length;r++)s=e.charCodeAt(r),qL(s)&&t++,$L(s)&&i++,YL(s)&&n++,GL(s)&&o++;return{upperPercent:t/e.length,lowerPercent:i/e.length,alphaPercent:n/e.length,numericPercent:o/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:o}=e;return i>.2&&t<.8&&n>.6&&o<.2}(i)){if(!function(e){const{upperPercent:t,lowerPercent:i}=e;return 0===i&&t>.6}(i))return null;t=t.toLowerCase()}let n=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(n=tD(e,t,0,o));)o=eD(t,o+1);return n}function nD(e,t,i,n,o){if(i===e.length)return[];if(n===t.length)return null;if(s=e.charCodeAt(i),r=t.charCodeAt(n),s===r||QL(s)&&QL(r)){let s=null,r=n+1;if(s=nD(e,t,i+1,n+1,o),!o)for(;!s&&(r=oD(t,r))<t.length;)s=nD(e,t,i+1,r,o),r++;return null===s?null:XL({start:n,end:n+1},s)}return null;var s,r}function oD(e,t){for(let i=t;i<e.length;i++)if(QL(e.charCodeAt(i))||i>0&&QL(e.charCodeAt(i-1)))return i;return e.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach((e=>JL.add(e.charCodeAt(0))));const sD=zL(UL,iD,KL),rD=zL(UL,iD,(function(e,t){return jL(e.toLowerCase(),t.toLowerCase(),0,0)})),aD=new Jd(1e4);function lD(e,t,i=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=aD.get(e);n||(n=new RegExp(e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*"),"i"),aD.set(e,n));const o=n.exec(t);return o?[{start:o.index,end:o.index+o[0].length}]:i?rD(e,t):sD(e,t)}function dD(e,t,i,n,o,s){const r=Math.min(13,e.length);for(;i<r;i++){const r=SD(e,t,i,n,o,s,!1);if(r)return r}return[0,s]}function cD(e){if(void 0===e)return[];const t=[],i=e[1];for(let n=e.length-1;n>1;n--){const o=e[n]+i,s=t[t.length-1];s&&s.end===o?s.end=o+1:t.push({start:o,end:o+1})}return t}function hD(){const e=[],t=[];for(let i=0;i<=128;i++)t[i]=0;for(let i=0;i<=128;i++)e.push(t.slice(0));return e}function uD(e){const t=[];for(let i=0;i<=e;i++)t[i]=0;return t}const gD=uD(256),mD=uD(256),pD=hD(),fD=hD(),_D=hD();function bD(e,t){if(t<0||t>=e.length)return!1;const i=e.codePointAt(t);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!Fo(i)}}function vD(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function wD(e,t,i){return t[e]!==i[e]}var CD,yD;function SD(e,t,i,n,o,s,r){const a=e.length>128?128:e.length,l=n.length>128?128:n.length;if(i>=a||s>=l||a-i>l-s)return;if(!function(e,t,i,n,o,s,r=!1){for(;t<i&&o<s;)e[t]===n[o]&&(r&&(gD[t]=o),t+=1),o+=1;return t===i}(t,i,a,o,s,l,!0))return;!function(e,t,i,n,o,s){let r=e-1,a=t-1;for(;r>=i&&a>=n;)o[r]===s[a]&&(mD[r]=a,r--),a--}(a,l,i,s,t,o);let d=1,c=1,h=i,u=s;const g=[!1];for(d=1,h=i;h<a;d++,h++){const r=gD[h],m=mD[h],p=h+1<a?mD[h+1]:l;for(c=r-s+1,u=r;u<p;c++,u++){let a=Number.MIN_SAFE_INTEGER,p=!1;u<=m&&(a=kD(e,t,h,i,n,o,u,l,s,0===pD[d-1][c-1],g));let f=0;a!==Number.MAX_SAFE_INTEGER&&(p=!0,f=a+fD[d-1][c-1]);const _=u>r,b=_?fD[d][c-1]+(pD[d][c-1]>0?-5:0):0,v=u>r+1&&pD[d][c-1]>0,w=v?fD[d][c-2]+(pD[d][c-2]>0?-5:0):0;if(v&&(!_||w>=b)&&(!p||w>=f))fD[d][c]=w,_D[d][c]=3,pD[d][c]=0;else if(_&&(!p||b>=f))fD[d][c]=b,_D[d][c]=2,pD[d][c]=0;else{if(!p)throw new Error("not possible");fD[d][c]=f,_D[d][c]=1,pD[d][c]=pD[d-1][c-1]+1}}}if(!g[0]&&!r)return;d--,c--;const m=[fD[d][c],s];let p=0,f=0;for(;d>=1;){let e=c;do{const t=_D[d][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);p>1&&t[i+d-1]===o[s+c-1]&&!wD(e+s-1,n,o)&&p+1>pD[d][e]&&(e=c),e===c?p++:p=1,f||(f=e),d--,c=e-1,m.push(c)}l===a&&(m[0]+=2);const _=f-a;return m[0]-=_,m}function kD(e,t,i,n,o,s,r,a,l,d,c){if(t[i]!==s[r])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return r===i-n?h=e[i]===o[r]?7:5:!wD(r,o,s)||0!==r&&wD(r-1,o,s)?!bD(s,r)||0!==r&&bD(s,r-1)?(bD(s,r-1)||vD(s,r-1))&&(h=5,u=!0):h=5:(h=e[i]===o[r]?7:5,u=!0),h>1&&i===n&&(c[0]=!0),u||(u=wD(r,o,s)||bD(s,r-1)||vD(s,r-1)),i===n?r>l&&(h-=u?3:5):h+=d?u?2:0:u?0:1,r+1===a&&(h-=u?3:5),h}function xD(e,t,i,n,o,s,r){return function(e,t,i,n,o,s,r,a){let l=SD(e,t,i,n,o,s,a);if(l&&!r)return l;if(e.length>=3){const t=Math.min(7,e.length-1);for(let r=i+1;r<t;r++){const t=LD(e,r);if(t){const e=SD(t,t.toLowerCase(),i,n,o,s,a);e&&(e[0]-=3,(!l||e[0]>l[0])&&(l=e))}}}return l}(e,t,i,n,o,s,!0,r)}function LD(e,t){if(t+1>=e.length)return;const i=e[t],n=e[t+1];return i!==n?e.slice(0,t)+n+i+e.slice(t+2):void 0}(yD=CD||(CD={})).Default=[-100,0],yD.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]};const DD=new RegExp(`\\$\\(${Gn.iconNameExpression}(?:${Gn.iconModifierExpression})?\\)`,"g"),ED=new RegExp(`(\\\\)?${DD.source}`,"g");const ND=new RegExp(`\\\\${DD.source}`,"g");const ID=new RegExp(`(\\s)?(\\\\)?${DD.source}(\\s)?`,"g");function TD(e){return-1===e.indexOf("$(")?e:e.replace(ID,((e,t,i,n)=>i?e:t||n||""))}function MD(e){const t=e.indexOf("$(");return-1===t?{text:e}:function(e,t){const i=[];let n="";function o(e){if(e){n+=e;for(const t of e)i.push(d)}}let s,r,a=-1,l="",d=0,c=t;const h=e.length;o(e.substr(0,t));for(;c<h;){if(s=e[c],r=e[c+1],s==="$("[0]&&r==="$("[1])a=c,o(l),l="$(",c++;else if(")"===s&&-1!==a){d+=c-a+1,a=-1,l=""}else-1!==a?/^[a-z0-9\-]$/i.test(s)?l+=s:(o(l),a=-1,l=""):o(s);c++}return o(l),{text:n,iconOffsets:i}}(e,t)}function AD(e,t,i=!1){const{text:n,iconOffsets:o}=t;if(!o||0===o.length)return lD(e,n,i);const s=oo(n," "),r=n.length-s.length,a=lD(e,s,i);if(a)for(const l of a){const e=o[l.start+r]+r;l.start+=e,l.end+=e}return a}class RD{constructor(e="",t=!1){var i,n,o;if(this.value=e,"string"!=typeof this.value)throw l("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(i=t.isTrusted)&&void 0!==i?i:void 0,this.supportThemeIcons=null!==(n=t.supportThemeIcons)&&void 0!==n&&n,this.supportHtml=null!==(o=t.supportHtml)&&void 0!==o&&o)}appendText(e,t=0){var i;return this.value+=function(e){return e.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(i=e,i.replace(ED,((e,t)=>t?e:`\\${e}`))):e).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}function OD(e){return PD(e)?!e.value:!Array.isArray(e)||e.every(OD)}function PD(e){return e instanceof RD||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function FD(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}var BD=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const WD=new fs("selectionAnchorSet",!1);let VD=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=WD.bindTo(t),this.modelChangeListener=e.onDidChangeModel((()=>this.selectionAnchorSetContextKey.reset()))}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),i=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(i,[{range:vr.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new RD).appendText(t("vs/editor/contrib/anchorSelect/anchorSelect","selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),kn(t("vs/editor/contrib/anchorSelect/anchorSelect","anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(vr.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};VD.ID="editor.contrib.selectionAnchorController",VD=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,_s)],VD);cr(VD.ID,VD),ar(class extends nr{constructor(){super({id:"editor.action.setSelectionAnchor",label:t("vs/editor/contrib/anchorSelect/anchorSelect","setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2080),weight:100}})}run(e,t){return BD(this,void 0,void 0,(function*(){VD.get(t).setSelectionAnchor()}))}}),ar(class extends nr{constructor(){super({id:"editor.action.goToSelectionAnchor",label:t("vs/editor/contrib/anchorSelect/anchorSelect","goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:WD})}run(e,t){return BD(this,void 0,void 0,(function*(){VD.get(t).goToSelectionAnchor()}))}}),ar(class extends nr{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:t("vs/editor/contrib/anchorSelect/anchorSelect","selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:WD,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2089),weight:100}})}run(e,t){return BD(this,void 0,void 0,(function*(){VD.get(t).selectFromAnchorToCursor()}))}}),ar(class extends nr{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:t("vs/editor/contrib/anchorSelect/anchorSelect","cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:WD,kbOpts:{kbExpr:av.editorTextFocus,primary:9,weight:100}})}run(e,t){return BD(this,void 0,void 0,(function*(){VD.get(t).cancelSelectionAnchor()}))}});const HD=om("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},t("vs/editor/contrib/bracketMatching/bracketMatching","overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class zD{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class UD extends v{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new Ct((()=>this._updateBrackets()),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition((e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelContent((e=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModel((e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelLanguageConfiguration((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))),this._register(e.onDidBlurEditorWidget((()=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidFocusEditorWidget((()=>{this._updateBracketsSoon.schedule()})))}static get(e){return e.getContribution(UD.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map((t=>{const i=t.getStartPosition(),n=e.matchBracket(i);let o=null;if(n)n[0].containsPosition(i)?o=n[1].getStartPosition():n[1].containsPosition(i)&&(o=n[0].getStartPosition());else{const t=e.findEnclosingBrackets(i);if(t)o=t[0].getStartPosition();else{const t=e.findNextBracket(i);t&&t.range&&(o=t.range.getStartPosition())}}return o?new vr(o.lineNumber,o.column,o.lineNumber,o.column):new vr(i.lineNumber,i.column,i.lineNumber,i.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach((n=>{const o=n.getStartPosition();let s=t.matchBracket(o);if(!s&&(s=t.findEnclosingBrackets(o),!s)){const e=t.findNextBracket(o);e&&e.range&&(s=t.matchBracket(e.range.getStartPosition()))}let r=null,a=null;if(s){s.sort(br.compareRangesUsingStarts);const[t,i]=s;if(r=e?t.getStartPosition():t.getEndPosition(),a=e?i.getEndPosition():i.getStartPosition(),i.containsPosition(o)){const e=r;r=a,a=e}}r&&a&&i.push(new vr(r.lineNumber,r.column,a.lineNumber,a.column))})),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const i of this._lastBracketsData){let n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),i=t.getVersionId();let n=[];this._lastVersionId===i&&(n=this._lastBracketsData);let o=[],s=0;for(let c=0,h=e.length;c<h;c++){let t=e[c];t.isEmpty()&&(o[s++]=t.getStartPosition())}o.length>1&&o.sort(Rn.compare);let r=[],a=0,l=0,d=n.length;for(let c=0,h=o.length;c<h;c++){let e=o[c];for(;l<d&&n[l].position.isBefore(e);)l++;if(l<d&&n[l].position.equals(e))r[a++]=n[l];else{let i=t.matchBracket(e),n=UD._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;i||"always"!==this._matchBrackets||(i=t.findEnclosingBrackets(e,20),n=UD._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),r[a++]=new zD(e,i,n)}}this._lastBracketsData=r,this._lastVersionId=i}}UD.ID="editor.contrib.bracketMatchingController",UD._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=vb.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Ns(HD),position:ra.Center}}),UD._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=vb.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),cr(UD.ID,UD),ar(class extends nr{constructor(){super({id:"editor.action.selectToBracket",label:t("vs/editor/contrib/bracketMatching/bracketMatching","smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){const n=UD.get(t);if(!n)return;let o=!0;i&&!1===i.selectBrackets&&(o=!1),n.selectToBracket(o)}}),ar(class extends nr{constructor(){super({id:"editor.action.jumpToBracket",label:t("vs/editor/contrib/bracketMatching/bracketMatching","smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:3160,weight:100}})}run(e,t){let i=UD.get(t);i&&i.jumpToBracket()}}),As(((e,t)=>{const i=e.getColor(w_);i&&t.addRule(`.monaco-editor .bracket-match { background-color: ${i}; }`);const n=e.getColor(C_);n&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)})),Ws.appendMenuItem(Fs.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:t("vs/editor/contrib/bracketMatching/bracketMatching",{key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class KD{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||o!==e.getLineMaxColumn(i)))if(this._isMovingLeft){const s=new br(i,n-1,i,n),r=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new br(i,o,i,o),r)}else{const s=new br(i,o,i,o+1),r=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new br(i,n,i,n),r)}}computeCursorState(e,t){return this._isMovingLeft?new vr(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new vr(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class jD extends nr{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let i=[],n=t.getSelections();for(const o of n)i.push(new KD(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}ar(class extends jD{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:t("vs/editor/contrib/caretOperations/caretOperations","caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:av.writable})}}),ar(class extends jD{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:t("vs/editor/contrib/caretOperations/caretOperations","caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:av.writable})}});ar(class extends nr{constructor(){super({id:"editor.action.transposeLetters",label:t("vs/editor/contrib/caretOperations/transpose","transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=[],o=t.getSelections();for(let s of o){if(!s.isEmpty())continue;let e=s.startLineNumber,t=s.startColumn,o=i.getLineMaxColumn(e);if(1===e&&(1===t||2===t&&2===o))continue;let r=t===o?s.getPosition():Ub.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),a=Ub.leftPosition(i,r),l=Ub.leftPosition(i,a),d=i.getValueInRange(br.fromPositions(l,a)),c=i.getValueInRange(br.fromPositions(a,r)),h=br.fromPositions(l,r);n.push(new Pb(h,c+d))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}});var $D=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const qD=V||document.queryCommandSupported("cut"),GD=V||document.queryCommandSupported("copy"),ZD=void 0!==navigator.clipboard&&!de||document.queryCommandSupported("paste");function JD(e){return e.register(),e}const QD=qD?JD(new er({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:V?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Fs.MenubarEditMenu,group:"2_ccp",title:t("vs/editor/contrib/clipboard/clipboard",{key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Fs.EditorContext,group:"9_cutcopypaste",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.cutLabel","Cut"),when:av.writable,order:1},{menuId:Fs.CommandPalette,group:"",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.cutLabel","Cut"),order:1},{menuId:Fs.SimpleEditorContext,group:"9_cutcopypaste",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.cutLabel","Cut"),when:av.writable,order:1}]})):void 0,YD=GD?JD(new er({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:V?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Fs.MenubarEditMenu,group:"2_ccp",title:t("vs/editor/contrib/clipboard/clipboard",{key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Fs.EditorContext,group:"9_cutcopypaste",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.copyLabel","Copy"),order:2},{menuId:Fs.CommandPalette,group:"",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.copyLabel","Copy"),order:1},{menuId:Fs.SimpleEditorContext,group:"9_cutcopypaste",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Ws.appendMenuItem(Fs.MenubarEditMenu,{submenu:Fs.MenubarCopy,title:{value:t("vs/editor/contrib/clipboard/clipboard","copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),Ws.appendMenuItem(Fs.EditorContext,{submenu:Fs.EditorContextCopy,title:{value:t("vs/editor/contrib/clipboard/clipboard","copy as","Copy As"),original:"Copy As"},group:"9_cutcopypaste",order:3});const XD=ZD?JD(new er({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:V?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Fs.MenubarEditMenu,group:"2_ccp",title:t("vs/editor/contrib/clipboard/clipboard",{key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Fs.EditorContext,group:"9_cutcopypaste",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.pasteLabel","Paste"),when:av.writable,order:4},{menuId:Fs.CommandPalette,group:"",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Fs.SimpleEditorContext,group:"9_cutcopypaste",title:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.pasteLabel","Paste"),when:av.writable,order:4}]})):void 0;class eE extends nr{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:t("vs/editor/contrib/clipboard/clipboard","actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:av.textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;!t.getOption(32)&&t.getSelection().isEmpty()||(SC.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),SC.forceCopyWithSyntaxHighlighting=!1)}}function tE(e,t){e&&(e.addImplementation(1e4,"code-editor",((e,i)=>{const n=e.get(An).getFocusedCodeEditor();if(n&&n.hasTextFocus()){const e=n.getOption(32),i=n.getSelection();return i&&i.isEmpty()&&!e||document.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",((e,i)=>(document.execCommand(t),!0))))}tE(QD,"cut"),tE(YD,"copy"),XD&&(XD.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(An),n=e.get(pL),o=i.getFocusedCodeEditor();if(o&&o.hasTextFocus()){return!(!document.execCommand("paste")&&H)||$D(void 0,void 0,void 0,(function*(){const e=yield n.readText();if(""!==e){const t=kC.INSTANCE.get(e);let i=!1,n=null,s=null;t&&(i=o.getOption(32)&&!!t.isFromEmptySelection,n=void 0!==t.multicursorText?t.multicursorText:null,s=t.mode),o.trigger("keyboard","paste",{text:e,pasteOnNewLine:i,multicursorText:n,mode:s})}}))}return!1})),XD.addImplementation(0,"generic-dom",((e,t)=>(document.execCommand("paste"),!0)))),GD&&ar(eE);class iE{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}const nE=Tn("IWorkspaceEditService");class oE{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(be(t=e)&&Yt.isUri(t.resource)&&be(t.edit))return new sE(e.resource,e.edit,e.modelVersionId,e.metadata);var t;if(function(e){return be(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}(e))return new rE(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")}))}}class sE extends oE{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}}class rE extends oE{constructor(e,t,i,n){super(n),this.oldResource=e,this.newResource=t,this.options=i}}class aE{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+aE.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new aE(this.value+aE.sep+e)}}function lE(e,t,i){return!!t.contains(e)&&(!i||!t.contains(i))}aE.sep=".",aE.None=new aE("@@none@@"),aE.Empty=new aE(""),aE.QuickFix=new aE("quickfix"),aE.Refactor=new aE("refactor"),aE.Source=new aE("source"),aE.SourceOrganizeImports=aE.Source.append("organizeImports"),aE.SourceFixAll=aE.Source.append("fixAll");class dE{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return e&&"object"==typeof e?new dE(dE.getKindFromUser(e,t.kind),dE.getApplyFromUser(e,t.apply),dE.getPreferredUser(e)):new dE(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new aE(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}var cE=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class hE{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return cE(this,void 0,void 0,(function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(i){o(i)}t&&(this.action.edit=t.edit)}return this}))}}class uE extends v{constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(uE.codeActionsComparator),this.validActions=this.allActions.filter((({action:e})=>!e.disabled))}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:vd(e.diagnostics)?vd(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:vd(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some((({action:e})=>!!e.kind&&aE.QuickFix.contains(new aE(e.kind))&&!!e.isPreferred))}}const gE={actions:[],documentation:void 0};function mE(e,t,i,n,s){var a;const l=i.filter||{},d={only:null===(a=l.include)||void 0===a?void 0:a.value,trigger:i.type},c=new Hx(e,s),h=function(e,t){return Yc.all(e).filter((e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some((e=>function(e,t){return!(e.include&&!e.include.intersects(t)||e.excludes&&e.excludes.some((i=>lE(t,i,e.include)))||!e.includeSourceActions&&aE.Source.contains(t))}(t,new aE(e))))))}(e,l),u=new b,g=h.map((i=>cE(this,void 0,void 0,(function*(){try{n.report(i);const o=yield i.provideCodeActions(e,t,d,c.token);if(o&&u.add(o),c.token.isCancellationRequested)return gE;const s=((null==o?void 0:o.actions)||[]).filter((e=>e&&function(e,t){const i=t.kind?new aE(t.kind):void 0;return!(!(!e.include||i&&e.include.contains(i))||e.excludes&&i&&e.excludes.some((t=>lE(i,t,e.include)))||!e.includeSourceActions&&i&&aE.Source.contains(i)||e.onlyIncludePreferredActions&&!t.isPreferred)}(l,e))),r=function(e,t,i){if(!e.documentation)return;const n=e.documentation.map((e=>({kind:new aE(e.kind),command:e.command})));if(i){let e;for(const t of n)t.kind.contains(i)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null==e?void 0:e.command}for(const o of t)if(o.kind)for(const e of n)if(e.kind.contains(new aE(o.kind)))return e.command;return}(i,s,l.include);return{actions:s.map((e=>new hE(e,i))),documentation:r}}catch(s){if(r(s))throw s;return o(s),gE}})))),m=Yc.onDidChange((()=>{ud(Yc.all(e),h)||c.cancel()}));return Promise.all(g).then((e=>{const t=yd(e.map((e=>e.actions))),i=_d(e.map((e=>e.documentation)));return new uE(t,i,u)})).finally((()=>{m.dispose(),c.dispose()}))}Qn.registerCommand("_executeCodeActionProvider",(function(e,t,i,n,o){return cE(this,void 0,void 0,(function*(){if(!(t instanceof Yt))throw l();const s=e.get(On).getModel(t);if(!s)throw l();const r=vr.isISelection(i)?vr.liftSelection(i):br.isIRange(i)?s.validateRange(i):void 0;if(!r)throw l();const a="string"==typeof n?new aE(n):void 0,d=yield mE(s,r,{type:1,filter:{includeSourceActions:!0,include:a}},fL.None,rt.None),c=[],h=Math.min(d.validActions.length,"number"==typeof o?o:0);for(let e=0;e<h;e++)c.push(d.validActions[e].resolve(rt.None));try{return yield Promise.all(c),d.validActions.map((e=>e.action))}finally{setTimeout((()=>d.dispose()),100)}}))}));let pE=class e{constructor(t,i){this._messageWidget=new w,this._messageListeners=new b,this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i),this._editorListener=this._editor.onDidAttemptReadOnlyEdit((()=>this._onDidAttemptReadOnlyEdit()))}static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;kn(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new fE(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidDispose((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeModel((()=>this.closeMessage()))),this._messageListeners.add(new vt((()=>this.closeMessage()),3e3)),this._messageListeners.add(this._editor.onMouseMove((e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new br(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(fE.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(t("vs/editor/contrib/message/messageController","editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};pE.ID="editor.contrib.messageController",pE.MESSAGE_VISIBLE=new fs("messageVisible",!1,t("vs/editor/contrib/message/messageController","messageVisible","Whether the editor is currently showing an inline message")),pE=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,_s)],pE);rr(new(ir.bindToContribution(pE.get))({id:"leaveEditorMessage",precondition:pE.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class fE{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const s=document.createElement("div");s.classList.add("message"),s.textContent=n,this._domNode.appendChild(s);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}cr(pE.ID,pE),As(((e,t)=>{const i=e.getColor(Sm);if(i){let n=e.type===ks.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${n}px solid ${i}; }`)}const n=e.getColor(Cm);n&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`);const o=e.getColor(ym);o&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${o}; }`)}));const _E=Tn("keybindingService");var bE=function(e,t){return function(i,n){t(i,n,e)}},vE=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class wE extends Wn{constructor(e,t){super(e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,t),this.action=e}}let CE=class extends v{constructor(e,t,i,n){super(),this._editor=e,this._delegate=t,this._contextMenuService=i,this._visible=!1,this._showingActions=this._register(new w),this._keybindingResolver=new yE({getKeybindings:()=>n.getKeybindings()})}get isVisible(){return this._visible}show(e,t,i,n){return vE(this,void 0,void 0,(function*(){const o=n.includeDisabledActions?t.allActions:t.validActions;if(!o.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,a();this._visible=!0,this._showingActions.value=t;const s=this.getMenuActions(e,o,t.documentation),r=Rn.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},l=this._keybindingResolver.getResolver(),d=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:d?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>s,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof wE?l(e.action):void 0})}))}getMenuActions(e,t,i){var n,o;const s=e=>new wE(e.action,(()=>this._delegate.onSelectCodeAction(e))),r=t.map(s),a=[...i],l=this._editor.getModel();if(l&&r.length)for(const d of Yc.all(l))d._getAdditionalMenuItems&&a.push(...d._getAdditionalMenuItems({trigger:e.type,only:null===(o=null===(n=e.filter)||void 0===n?void 0:n.include)||void 0===o?void 0:o.value},t.map((e=>e.action))));return a.length&&r.push(new Hn,...a.map((e=>s(new hE({title:e.title,command:e},void 0))))),r}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=Oi(this._editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height}}};CE=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([bE(2,uL),bE(3,_E)],CE);class yE{constructor(e){this._keybindingProvider=e}getResolver(){const e=new iE((()=>this._keybindingProvider.getKeybindings().filter((e=>yE.codeActionCommands.indexOf(e.command)>=0)).filter((e=>e.resolvedKeybinding)).map((e=>{let t=e.commandArgs;return"editor.action.organizeImports"===e.command?t={kind:aE.SourceOrganizeImports.value}:"editor.action.fixAll"===e.command&&(t={kind:aE.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},dE.fromUser(t,{kind:aE.None,apply:"never"}))}))));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.getValue());return null==i?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new aE(e.kind);return t.filter((e=>e.kind.contains(i))).filter((t=>!t.preferred||e.isPreferred)).reduceRight(((e,t)=>e?e.kind.contains(t.kind)?t:e:t),void 0)}}yE.codeActionCommands=["editor.action.refactor","editor.action.codeAction","editor.action.sourceAction","editor.action.organizeImports","editor.action.fixAll"];var SE;!function(e){e.Hidden={type:0};e.Showing=class{constructor(e,t,i,n){this.actions=e,this.trigger=t,this.editorPosition=i,this.widgetPosition=n,this.type=1}}}(SE||(SE={}));let kE=class e extends v{constructor(e,t,i,n){var o;super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new X),this.onClick=this._onClick.event,this._state=SE.Hidden,this._domNode=document.createElement("div"),this._domNode.className=qn.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()}))),nw.ignoreTarget(this._domNode),this._register(wi(this._domNode,bi((e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:i}=Oi(this._domNode),n=this._editor.getOption(58);let o=Math.floor(n/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(o+=n),this._onClick.fire({x:e.posx,y:t+i+o,actions:this.state.actions,trigger:this.state.trigger})})),o)),this._register(_i(this._domNode,"mouseenter",(e=>{if(1!=(1&e.buttons))return;this.hide();const t=new sw;t.startMonitoring(e.target,e.buttons,ow,(()=>{}),(()=>{t.dispose()}))}))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()}))),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,i,n){if(t.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(56).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:r,column:a}=s.validatePosition(n),l=s.getOptions().tabSize,d=o.get(43),c=s.getLineContent(r),h=db.computeIndentLevel(c,l),u=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let g=r;if(!(d.spaceWidth*h>22))if(r>1&&!u(r-1))g-=1;else if(u(r+1)){if(a*d.spaceWidth<22)return this.hide()}else g+=1;this.state=new SE.Showing(t,i,n,{position:{lineNumber:g,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=SE.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...qn.lightBulb.classNamesArray),this._domNode.classList.add(...qn.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=t("vs/editor/contrib/codeAction/lightBulbWidget","preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...qn.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...qn.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?t("vs/editor/contrib/codeAction/lightBulbWidget","codeActionWithKb","Show Code Actions ({0})",e.getLabel()):t("vs/editor/contrib/codeAction/lightBulbWidget","codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};kE._posPref=[0],kE=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(3,_E)],kE),As(((e,t)=>{var i;const n=null===(i=e.getColor(Xm))||void 0===i?void 0:i.transparent(.7),o=e.getColor(Fp);o&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${qn.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${n};\n\t\t}`);const s=e.getColor(Bp);s&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${qn.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${n};\n\t\t}`)}));var xE,LE=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let DE=class extends v{constructor(e,t,i,n,o){super(),this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new w),xE.set(this,!1),this._codeActionWidget=new iE((()=>this._register(o.createInstance(CE,this._editor,{onSelectCodeAction:e=>LE(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0)}))})))),this._lightBulbWidget=new iE((()=>{const e=this._register(o.createInstance(kE,this._editor,t,i));return this._register(e.onClick((e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1})))),e}))}dispose(){!function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?o.call(e,i):o?o.value=i:t.set(e,i)}(this,xE,!0,"f"),super.dispose()}update(e){var t,i,o;return LE(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let s;try{s=yield e.actions}catch(G1){return void n(G1)}if(!function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}(this,xE,"f"))if(this._lightBulbWidget.getValue().update(s,e.trigger,e.position),1===e.trigger.type){if(null===(i=e.trigger.filter)||void 0===i?void 0:i.include){const t=this.tryGetValidActionToApply(e.trigger,s);if(t){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(t,!1)}finally{s.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,s);if(t&&t.action.disabled)return pE.get(this._editor).showMessage(t.action.disabled,e.trigger.context.position),void s.dispose()}}const t=!!(null===(o=e.trigger.filter)||void 0===o?void 0:o.include);if(e.trigger.context&&(!s.allActions.length||!t&&!s.validActions.length))return pE.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=s,void s.dispose();this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(e.trigger,s,e.position,{includeDisabledActions:t})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((({action:e})=>e.disabled)):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,i,n){return LE(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,i,n)}))}};var EE,NE,IE;xE=new WeakMap,DE=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(4,Nn)],DE),(NE=EE||(EE={}))[NE.Hint=1]="Hint",NE[NE.Info=2]="Info",NE[NE.Warning=4]="Warning",NE[NE.Error=8]="Error",function(e){e.compare=function(e,t){return t-e};const i=Object.create(null);i[e.Error]=t("vs/platform/markers/common/markers","sev.error","Error"),i[e.Warning]=t("vs/platform/markers/common/markers","sev.warning","Warning"),i[e.Info]=t("vs/platform/markers/common/markers","sev.info","Info"),e.toString=function(e){return i[e]||""},e.fromSeverity=function(t){switch(t){case jk.Error:return e.Error;case jk.Warning:return e.Warning;case jk.Info:return e.Info;case jk.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return jk.Error;case e.Warning:return jk.Warning;case e.Info:return jk.Info;case e.Hint:return jk.Ignore}}}(EE||(EE={})),function(e){const t="";function i(e,i){let n=[t];return e.source?n.push(e.source.replace("¦","\\¦")):n.push(t),e.code?"string"==typeof e.code?n.push(e.code.replace("¦","\\¦")):n.push(e.code.value.replace("¦","\\¦")):n.push(t),void 0!==e.severity&&null!==e.severity?n.push(EE.toString(e.severity)):n.push(t),e.message&&i?n.push(e.message.replace("¦","\\¦")):n.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?n.push(e.startLineNumber.toString()):n.push(t),void 0!==e.startColumn&&null!==e.startColumn?n.push(e.startColumn.toString()):n.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?n.push(e.endLineNumber.toString()):n.push(t),void 0!==e.endColumn&&null!==e.endColumn?n.push(e.endColumn.toString()):n.push(t),n.push(t),n.join("¦")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(IE||(IE={}));const TE=Tn("markerService");var ME,AE=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};const RE=new fs("supportedCodeAction","");class OE extends v{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new vt),this._register(this._markerService.onMarkerChanged((e=>this._onMarkerChanges(e)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._onCursorChange())))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((e=>ja(e,t.uri)))&&this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const i of this._markerService.read({resource:t.uri})){const n=t.validateRange(i);if(br.intersectRanges(n,e))return br.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&2===e.type){const{lineNumber:e,column:n}=i.getPosition(),o=t.getLineContent(e);if(0===o.length)return;if(1===n){if(/\s/.test(o[0]))return}else if(n===t.getLineMaxColumn(e)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[n-2])&&/\s/.test(o[n-1]))return}return i}_createEventAndSignalChange(e,t){const i=this._editor.getModel();if(!t||!i)return void this._signalChange(void 0);const n=this._getRangeOfMarker(t),o=n?n.getStartPosition():t.getStartPosition(),s={trigger:e,selection:t,position:o};return this._signalChange(s),s}}var PE;!function(e){e.Empty={type:0};e.Triggered=class{constructor(e,t,i,n){this.trigger=e,this.rangeOrSelection=t,this.position=i,this._cancellablePromise=n,this.type=1,this.actions=n.catch((e=>{if(r(e))return FE;throw e}))}cancel(){this._cancellablePromise.cancel()}}}(PE||(PE={}));const FE={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class BE extends v{constructor(e,t,i,n){super(),this._editor=e,this._markerService=t,this._progressService=n,this._codeActionOracle=this._register(new w),this._state=PE.Empty,this._onDidChangeState=this._register(new X),this.onDidChangeState=this._onDidChangeState.event,ME.set(this,!1),this._supportedCodeActions=RE.bindTo(i),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register(Yc.onDidChange((()=>this._update()))),this._update()}dispose(){AE(this,ME,"f")||(!function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?o.call(e,i):o?o.value=i:t.set(e,i)}(this,ME,!0,"f"),super.dispose(),this.setState(PE.Empty,!0))}_update(){if(AE(this,ME,"f"))return;this._codeActionOracle.value=void 0,this.setState(PE.Empty);const e=this._editor.getModel();if(e&&Yc.has(e)&&!this._editor.getOption(80)){const t=[];for(const i of Yc.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new OE(this._editor,this._markerService,(t=>{var i;if(!t)return void this.setState(PE.Empty);const n=ht((i=>mE(e,t.selection,t.trigger,fL.None,i)));1===t.trigger.type&&(null===(i=this._progressService)||void 0===i||i.showWhile(n,250)),this.setState(new PE.Triggered(t.trigger,t.selection,t.position,n))}),void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||AE(this,ME,"f")||this._onDidChangeState.fire(e))}}ME=new WeakMap;var WE=function(e,t){return function(i,n){t(i,n,e)}},VE=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function HE(e){return Jo.regex(RE.keys()[0],new RegExp("(\\s|^)"+io(e.value)+"\\b"))}const zE={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t("vs/editor/contrib/codeAction/codeActionCommands","args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:t("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply.first","Always apply the first returned code action."),t("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),t("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:t("vs/editor/contrib/codeAction/codeActionCommands","args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let UE=class e extends v{constructor(e,t,i,n,o){super(),this._instantiationService=o,this._editor=e,this._model=this._register(new BE(this._editor,t,i,n)),this._register(this._model.onDidChangeState((e=>this.update(e)))),this._ui=new iE((()=>this._register(new DE(e,$E.Id,qE.Id,{applyCodeAction:(e,t)=>VE(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e)}finally{t&&this._trigger({type:2,filter:{}})}}))},this._instantiationService))))}static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,i){if(!this._editor.hasModel())return;pE.get(this._editor).closeMessage();const n=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:i,context:{notAvailableMessage:e,position:n}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(KE,e,this._editor)}};function KE(e,i,n){return VE(this,void 0,void 0,(function*(){const o=e.get(nE),s=e.get(Jn),r=e.get(js),a=e.get($k);if(r.publicLog2("codeAction.applyCodeAction",{codeActionTitle:i.action.title,codeActionKind:i.action.kind,codeActionIsPreferred:!!i.action.isPreferred}),yield i.resolve(rt.None),i.action.edit&&(yield o.apply(oE.convert(i.action.edit),{editor:n,label:i.action.title})),i.action.command)try{yield s.executeCommand(i.action.command.id,...i.action.command.arguments||[])}catch(l){const e=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(l);a.error("string"==typeof e?e:t("vs/editor/contrib/codeAction/codeActionCommands","applyCodeActionFailed","An unknown error occurred while applying the code action"))}}))}function jE(e,t,i,n){if(e.hasModel()){const o=UE.get(e);o&&o.manualTriggerAtCurrentPosition(t,i,n)}}UE.ID="editor.contrib.quickFixController",UE=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([WE(1,TE),WE(2,_s),WE(3,_L),WE(4,Nn)],UE);class $E extends nr{constructor(){super({id:$E.Id,label:t("vs/editor/contrib/codeAction/codeActionCommands","quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Jo.and(av.writable,av.hasCodeActionsProvider),kbOpts:{kbExpr:av.editorTextFocus,primary:2132,weight:100}})}run(e,i){return jE(i,t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}$E.Id="editor.action.quickFix";class qE extends nr{constructor(){super({id:qE.Id,label:t("vs/editor/contrib/codeAction/codeActionCommands","autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Jo.and(av.writable,HE(aE.QuickFix)),kbOpts:{kbExpr:av.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,i){return jE(i,t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.autoFix.noneMessage","No auto fixes available"),{include:aE.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}qE.Id="editor.action.autoFix",cr(UE.ID,UE),ar($E),ar(class extends nr{constructor(){super({id:"editor.action.refactor",label:t("vs/editor/contrib/codeAction/codeActionCommands","refactor.label","Refactor..."),alias:"Refactor...",precondition:Jo.and(av.writable,av.hasCodeActionsProvider),kbOpts:{kbExpr:av.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Jo.and(av.writable,HE(aE.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:zE}]}})}run(e,i,n){const o=dE.fromUser(n,{kind:aE.Refactor,apply:"never"});return jE(i,"string"==typeof(null==n?void 0:n.kind)?o.preferred?t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):o.preferred?t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage","No refactorings available"),{include:aE.Refactor.contains(o.kind)?o.kind:aE.None,onlyIncludePreferredActions:o.preferred},o.apply)}}),ar(class extends nr{constructor(){super({id:"editor.action.sourceAction",label:t("vs/editor/contrib/codeAction/codeActionCommands","source.label","Source Action..."),alias:"Source Action...",precondition:Jo.and(av.writable,av.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Jo.and(av.writable,HE(aE.Source))},description:{description:"Source Action...",args:[{name:"args",schema:zE}]}})}run(e,i,n){const o=dE.fromUser(n,{kind:aE.Source,apply:"never"});return jE(i,"string"==typeof(null==n?void 0:n.kind)?o.preferred?t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):o.preferred?t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage.preferred","No preferred source actions available"):t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage","No source actions available"),{include:aE.Source.contains(o.kind)?o.kind:aE.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}),ar(class extends nr{constructor(){super({id:"editor.action.organizeImports",label:t("vs/editor/contrib/codeAction/codeActionCommands","organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Jo.and(av.writable,HE(aE.SourceOrganizeImports)),kbOpts:{kbExpr:av.editorTextFocus,primary:1581,weight:100}})}run(e,i){return jE(i,t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.organize.noneMessage","No organize imports action available"),{include:aE.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}),ar(qE),ar(class extends nr{constructor(){super({id:"editor.action.fixAll",label:t("vs/editor/contrib/codeAction/codeActionCommands","fixAll.label","Fix All"),alias:"Fix All",precondition:Jo.and(av.writable,HE(aE.SourceFixAll))})}run(e,i){return jE(i,t("vs/editor/contrib/codeAction/codeActionCommands","fixAll.noneMessage","No fix all action available"),{include:aE.SourceFixAll,includeSourceActions:!0},"ifSingle")}}),rr(new class extends ir{constructor(){super({id:"editor.action.codeAction",precondition:Jo.and(av.writable,av.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:zE}]}})}runEditorCommand(e,i,n){const o=dE.fromUser(n,{kind:aE.Empty,apply:"ifSingle"});return jE(i,"string"==typeof(null==n?void 0:n.kind)?o.preferred?t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):o.preferred?t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):t("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}});var GE=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class ZE{constructor(){this.lenses=[],this._disposables=new b}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function JE(e,t){return GE(this,void 0,void 0,(function*(){const i=Jc.ordered(e),n=new Map,s=new ZE,r=i.map(((i,r)=>GE(this,void 0,void 0,(function*(){n.set(i,r);try{const n=yield Promise.resolve(i.provideCodeLenses(e,t));n&&s.add(n,i)}catch(a){o(a)}}))));return yield Promise.all(r),s.lenses=s.lenses.sort(((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:n.get(e.provider)<n.get(t.provider)?-1:n.get(e.provider)>n.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0)),s}))}Qn.registerCommand("_executeCodeLensProvider",(function(e,...t){let[i,n]=t;ke(Yt.isUri(i)),ke("number"==typeof n||!n);const o=e.get(On).getModel(i);if(!o)throw l();const s=[],r=new b;return JE(o,rt.None).then((e=>{r.add(e);let t=[];for(const i of e.lenses)null==n||Boolean(i.symbol.command)?s.push(i.symbol):n-- >0&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(o,i.symbol,rt.None)).then((e=>s.push(e||i.symbol))));return Promise.all(t)})).then((()=>s)).finally((()=>{setTimeout((()=>r.dispose()),100)}))}));var QE,YE,XE=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};(YE=QE||(QE={}))[YE.None=0]="None",YE[YE.Initialized=1]="Initialized",YE[YE.Closed=2]="Closed";class eN extends v{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new X),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=QE.None,this.cache=new Map,this.flushDelayer=new pt(eN.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((e=>this.onDidChangeItemsExternal(e))))}onDidChangeItemsExternal(e){var t,i;null===(t=e.changed)||void 0===t||t.forEach(((e,t)=>this.accept(t,e))),null===(i=e.deleted)||void 0===i||i.forEach((e=>this.accept(e,void 0)))}accept(e,t){if(this.state===QE.Closed)return;let i=!1;if(Se(t))i=this.cache.delete(e);else{this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0)}i&&this._onDidChangeStorage.fire(e)}get(e,t){const i=this.cache.get(e);return Se(i)?t:i}getBoolean(e,t){const i=this.get(e);return Se(i)?t:"true"===i}getNumber(e,t){const i=this.get(e);return Se(i)?t:parseInt(i,10)}set(e,t){return XE(this,void 0,void 0,(function*(){if(this.state===QE.Closed)return;if(Se(t))return this.delete(e);const i=String(t);return this.cache.get(e)!==i?(this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}delete(e){return XE(this,void 0,void 0,(function*(){if(this.state===QE.Closed)return;return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return XE(this,void 0,void 0,(function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally((()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()}))}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}eN.DEFAULT_FLUSH_DELAY=100;class tN{constructor(){this.onDidChangeItemsExternal=Q.None,this.items=new Map}updateItems(e){return XE(this,void 0,void 0,(function*(){e.insert&&e.insert.forEach(((e,t)=>this.items.set(t,e))),e.delete&&e.delete.forEach((e=>this.items.delete(e)))}))}}const iN="__$__targetStorageMarker",nN=Tn("storageService");var oN,sN;(sN=oN||(oN={}))[sN.NONE=0]="NONE",sN[sN.SHUTDOWN=1]="SHUTDOWN";class rN extends v{constructor(e={flushInterval:rN.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new ee),this._onDidChangeTarget=this._register(new ee),this._onWillSaveState=this._register(new X),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===iN?(0===e?this._globalKeyTargets=void 0:1===e&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getNumber(e,i)}store(e,t,i,n){Se(t)?this.remove(e,i):this.withPausedEmitters((()=>{var o;this.updateKeyTarget(e,i,n),null===(o=this.getStorage(i))||void 0===o||o.set(e,t)}))}remove(e,t){this.withPausedEmitters((()=>{var i;this.updateKeyTarget(e,t,void 0),null===(i=this.getStorage(t))||void 0===i||i.delete(e)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var n,o;const s=this.getKeyTargets(t);"number"==typeof i?s[e]!==i&&(s[e]=i,null===(n=this.getStorage(t))||void 0===n||n.set(iN,JSON.stringify(s))):"number"==typeof s[e]&&(delete s[e],null===(o=this.getStorage(t))||void 0===o||o.set(iN,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return 0===e?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(iN,e);if(t)try{return JSON.parse(t)}catch(i){}return Object.create(null)}}rN.DEFAULT_FLUSH_INTERVAL=6e4;class aN extends rN{constructor(){super(),this.globalStorage=this._register(new eN(new tN)),this.workspaceStorage=this._register(new eN(new tN)),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.globalStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e))))}getStorage(e){return 0===e?this.globalStorage:this.workspaceStorage}}const lN=Tn("ICodeLensCache");class dN{constructor(e,t){this.lineCount=e,this.data=t}}let cN=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Jd(20,.75);yt((()=>e.remove("codelens/cache",1)));const t="codelens/cache2",i=e.get(t,1,"{}");this._deserialize(i),c(e.onWillSaveState)((i=>{i.reason===oN.SHUTDOWN&&e.store(t,this._serialize(),1,1)}))}put(e,t){const i=t.lenses.map((e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),n=new ZE;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new dN(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const n=new Set;for(const e of i.data.lenses)n.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const i=t[e],n=[];for(const e of i.lines)n.push({range:new br(e,1,e,11)});const o=new ZE;o.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(e,new dN(i.lineCount,o))}}catch(t){}}};cN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,nN)],cN),Ou(lN,cN);const hN=new RegExp(`(\\\\)?\\$\\((${Gn.iconNameExpression}(?:${Gn.iconModifierExpression})?)\\)`,"g");function uN(e){const t=new Array;let i,n=0,o=0;for(;null!==(i=hN.exec(e));){o=i.index||0,t.push(e.substring(n,o)),n=(i.index||0)+i[0].length;const[,s,r]=i;t.push(s?`$(${r})`:gN({id:r}))}return n<e.length&&t.push(e.substring(n)),t}function gN(e){const t=hn("span");return t.classList.add(...Gn.asClassNameArray(e)),t}class mN{constructor(e,t,i){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class pN{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+pN._idPool++,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let i=[],n=!1;for(let o=0;o<e.length;o++){const t=e[o];if(t&&(n=!0,t.command)){const n=uN(t.command.title.trim());t.command.id?(i.push(hn("a",{id:String(o),title:t.command.tooltip},...n)),this._commands.set(String(o),t.command)):i.push(hn("span",{title:t.command.tooltip},...n)),o+1<e.length&&i.push(hn("span",void 0," | "))}}n?(rn(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):rn(this._domNode,hn("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}pN._idPool=0;class fN{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}}class _N{constructor(e,t,i,n,o,s,r){let a;this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let l=[];this._data.forEach(((e,t)=>{e.symbol.command&&l.push(e.symbol),n.addDecoration({range:e.symbol.range,options:vb.EMPTY},(e=>this._decorationIds[t]=e)),a=a?br.plusRange(a,e.symbol.range):br.lift(e.symbol.range)})),this._viewZone=new mN(a.startLineNumber-1,s,r),this._viewZoneId=o.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new pN(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some(((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!(!i||br.isEmpty(n.range)!==i.isEmpty())}))}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach(((e,i)=>{t.addDecoration({range:e.symbol.range,options:vb.EMPTY},(e=>this._decorationIds[i]=e))}))}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:e}=this._data[t];e.command=i.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}As(((e,t)=>{const i=e.getColor(v_);i&&(t.addRule(`.monaco-editor .codelens-decoration { color: ${i}; }`),t.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${i}; }`));const n=e.getColor(Ip);n&&(t.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${n} !important; }`),t.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${n} !important; }`))}));const bN={ctrlCmd:!1,alt:!1};var vN,wN,CN,yN;(wN=vN||(vN={}))[wN.Blur=1]="Blur",wN[wN.Gesture=2]="Gesture",wN[wN.Other=3]="Other",(yN=CN||(CN={}))[yN.NONE=0]="NONE",yN[yN.FIRST=1]="FIRST",yN[yN.SECOND=2]="SECOND",yN[yN.LAST=3]="LAST";const SN=Tn("quickInputService");var kN=function(e,t){return function(i,n){t(i,n,e)}},xN=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let LN=class{constructor(e,t,i,n){this._editor=e,this._commandService=t,this._notificationService=i,this._codeLensCache=n,this._disposables=new b,this._localToDispose=new b,this._lenses=[],this._getCodeLensModelDelays=new Sc(Jc,250,2500),this._oldCodeLensModels=new b,this._resolveCodeLensesDelays=new Sc(Jc,250,2500),this._resolveCodeLensesScheduler=new Ct((()=>this._resolveCodeLensesInViewport()),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(43)||e.hasChanged(16)||e.hasChanged(15))&&this._updateLensStyle(),e.hasChanged(14)&&this._onModelChange()}))),this._disposables.add(Jc.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+Td(this._editor.getId()).toString(16),this._styleElement=Gi(ji(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(16);return!t||t<5?(t=.9*this._editor.getOption(45)|0,e=this._editor.getOption(58)):e=t*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(15),n=this._editor.getOption(43),o=`--codelens-font-family${this._styleClassName}`,s=`--codelens-font-features${this._styleClassName}`;let r=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${s}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;i&&(r+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o}), ${Gr.fontFamily}}`),this._styleElement.textContent=r,this._editor.getContainerDomNode().style.setProperty(o,null!=i?i:"inherit"),this._editor.getContainerDomNode().style.setProperty(s,n.fontFeatureSettings),this._editor.changeViewZones((t=>{for(let i of this._lenses)i.updateHeight(e,t)}))}_localDispose(){var e,t,i;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(i=this._currentCodeLensModel)||void 0===i||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!Jc.has(e))return void(t&&this._localToDispose.add(_t((()=>{const i=this._codeLensCache.get(e);t===i&&(this._codeLensCache.delete(e),this._onModelChange())}),3e4)));for(const n of Jc.all(e))if("function"==typeof n.onDidChange){let e=n.onDidChange((()=>i.schedule()));this._localToDispose.add(e)}const i=new Ct((()=>{var t;const o=Date.now();null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=ht((t=>JE(e,t))),this._getCodeLensModelPromise.then((t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);const n=this._getCodeLensModelDelays.update(e,Date.now()-o);i.delay=n,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewportSoon()}),n)}),this._getCodeLensModelDelays.get(e));this._localToDispose.add(i),this._localToDispose.add(_((()=>this._resolveCodeLensesScheduler.cancel()))),this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{let i=[],n=-1;this._lenses.forEach((e=>{e.isValid()&&n!==e.getLineNumber()?(e.update(t),n=e.getLineNumber()):i.push(e)}));let o=new fN;i.forEach((e=>{e.dispose(o,t),this._lenses.splice(this._lenses.indexOf(e),1)})),o.commit(e)}))})),i.schedule()}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((()=>{i.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((()=>{this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(_((()=>{if(this._editor.getModel()){const e=zx.capture(this._editor);this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{this._disposeAllLenses(e,t)}))})),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null==t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null==t?void 0:t.tagName))for(const i of this._lenses){let e=i.getCommand(t);if(e){this._commandService.executeCommand(e.id,...e.arguments||[]).catch((e=>this._notificationService.error(e)));break}}}))),i.schedule()}_disposeAllLenses(e,t){const i=new fN;for(const n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t,i=this._editor.getModel().getLineCount(),n=[];for(let r of e.lenses){let e=r.symbol.range.startLineNumber;e<1||e>i||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(r):(t=[r],n.push(t)))}const o=zx.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const i=new fN;let o=0,r=0;for(;r<n.length&&o<this._lenses.length;){let e=n[r][0].symbol.range.startLineNumber,a=this._lenses[o].getLineNumber();a<e?(this._lenses[o].dispose(i,t),this._lenses.splice(o,1)):a===e?(this._lenses[o].updateCodeLensSymbols(n[r],i),r++,o++):(this._lenses.splice(o,0,new _N(n[r],this._editor,this._styleClassName,i,t,s.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),o++,r++)}for(;o<this._lenses.length;)this._lenses[o].dispose(i,t),this._lenses.splice(o,1);for(;r<n.length;)this._lenses.push(new _N(n[r],this._editor,this._styleClassName,i,t,s.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),r++;i.commit(e)}))})),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],s=[];if(this._lenses.forEach((e=>{const n=e.computeIfNecessary(t);n&&(i.push(n),s.push(e))})),0===i.length)return;const r=Date.now(),a=ht((e=>{const n=i.map(((i,n)=>{const r=new Array(i.length),a=i.map(((i,n)=>i.symbol.command||"function"!=typeof i.provider.resolveCodeLens?(r[n]=i.symbol,Promise.resolve(void 0)):Promise.resolve(i.provider.resolveCodeLens(t,i.symbol,e)).then((e=>{r[n]=e}),o)));return Promise.all(a).then((()=>{e.isCancellationRequested||s[n].isDisposed()||s[n].updateCommands(r)}))}));return Promise.all(n)}));this._resolveCodeLensesPromise=a,this._resolveCodeLensesPromise.then((()=>{const e=this._resolveCodeLensesDelays.update(t,Date.now()-r);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}),(e=>{n(e),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}))}getLenses(){return this._lenses}};function DN(e,t,i,n){return Promise.resolve(i.provideColorPresentations(e,t,n))}LN.ID="css.editor.codeLens",LN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([kN(1,Jn),kN(2,$k),kN(3,lN)],LN),cr(LN.ID,LN),ar(class extends nr{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:av.hasCodeLensProvider,label:t("vs/editor/contrib/codelens/codelensController","showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return xN(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(SN),n=e.get(Jn),o=e.get($k),s=t.getSelection().positionLineNumber,r=t.getContribution(LN.ID),a=[];for(let e of r.getLenses())if(e.getLineNumber()===s)for(let t of e.getItems()){const{command:e}=t.symbol;e&&a.push({label:e.title,command:e})}if(0===a.length)return;const l=yield i.pick(a,{canPickMany:!1});if(l)try{yield n.executeCommand(l.command.id,...l.command.arguments||[])}catch(d){o.error(d)}}))}}),Qn.registerCommand("_executeDocumentColorProvider",(function(e,...t){const[i]=t;if(!(i instanceof Yt))throw l();const n=e.get(On).getModel(i);if(!n)throw l();const o=[],s=nh.ordered(n).reverse().map((e=>Promise.resolve(e.provideDocumentColors(n,rt.None)).then((e=>{if(Array.isArray(e))for(let t of e)o.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})}))));return Promise.all(s).then((()=>o))})),Qn.registerCommand("_executeColorPresentationProvider",(function(e,...t){const[i,n]=t,{uri:o,range:s}=n;if(!(o instanceof Yt&&Array.isArray(i)&&4===i.length&&br.isIRange(s)))throw l();const[r,a,d,c]=i,h=e.get(On).getModel(o);if(!h)throw l();const u={range:s,color:{red:r,green:a,blue:d,alpha:c}},g=[],m=nh.ordered(h).reverse().map((e=>Promise.resolve(e.provideColorPresentations(h,u,rt.None)).then((e=>{Array.isArray(e)&&g.push(...e)}))));return Promise.all(m).then((()=>g))}));var EN=function(e,t){return function(i,n){t(i,n,e)}};let NN=class e extends v{constructor(e,t,i){super(),this._editor=e,this._codeEditorService=t,this._configurationService=i,this._localToDispose=this._register(new b),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(e.onDidChangeModel((()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()}))),this._register(e.onDidChangeModelLanguage((()=>this.onModelChanged()))),this._register(nh.onDidChange((()=>this.onModelChanged()))),this._register(e.onDidChangeConfiguration((()=>{let e=this._isEnabled;this._isEnabled=this.isEnabled(),e!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())}))),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&"object"==typeof i){const e=i.colorDecorators;if(e&&void 0!==e.enable&&!e.enable)return e.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();t&&nh.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._timeoutTimer||(this._timeoutTimer=new vt,this._timeoutTimer.cancelAndSet((()=>{this._timeoutTimer=null,this.beginCompute()}),e.RECOMPUTE_TIME))}))),this.beginCompute())}beginCompute(){this._computePromise=ht((e=>{const t=this._editor.getModel();return t?function(e,t){const i=[],n=nh.ordered(e).reverse().map((n=>Promise.resolve(n.provideDocumentColors(e,t)).then((e=>{if(Array.isArray(e))for(let t of e)i.push({colorInfo:t,provider:n})}))));return Promise.all(n).then((()=>i))}(t,e):Promise.resolve([])})),this._computePromise.then((e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}),n)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map((e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:vb.EMPTY})));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach(((t,i)=>this._colorDatas.set(t,e[i])))}updateColorDecorators(e){let t=[],i={};for(let n=0;n<e.length&&t.length<500;n++){const{red:o,green:s,blue:r,alpha:a}=e[n].colorInfo.color,l=new Zu(Math.round(255*o),Math.round(255*s),Math.round(255*r),a);let d=Td(`rgba(${l.r},${l.g},${l.b},${l.a})`).toString(16),c=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,h="colorBox-"+d;this._decorationsTypes.has(h)||i[h]||this._codeEditorService.registerDecorationType("color-detector-color",h,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:c},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),i[h]=!0,t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(h,!0)})}this._decorationsTypes.forEach((e=>{i[e]||this._codeEditorService.removeDecorationType(e)})),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach((e=>{this._codeEditorService.removeDecorationType(e)}))}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(br.fromPositions(e,e)).filter((e=>this._colorDatas.has(e.id)));return 0===i.length?null:this._colorDatas.get(i[0].id)}};NN.ID="editor.contrib.colorDetector",NN.RECOMPUTE_TIME=1e3,NN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([EN(1,An),EN(2,Du)],NN),cr(NN.ID,NN);function IN(e,t){return!!e[t]}class TN{constructor(e,t){this.target=e.target,this.hasTriggerModifier=IN(e.event,t.triggerModifier),this.hasSideBySideModifier=IN(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class MN{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=IN(e,t.triggerModifier)}}class AN{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function RN(e){return"altKey"===e?B?new AN(57,"metaKey",6,"altKey"):new AN(5,"ctrlKey",6,"altKey"):B?new AN(6,"altKey",57,"metaKey"):new AN(6,"altKey",5,"ctrlKey")}class ON extends v{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new X),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new X),this.onExecute=this._onExecute.event,this._onCancel=this._register(new X),this.onCancel=this._onCancel.event,this._editor=e,this._opts=RN(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((e=>{if(e.hasChanged(69)){const e=RN(this._editor.getOption(69));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((e=>this._onEditorMouseMove(new TN(e,this._opts))))),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(new TN(e,this._opts))))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(new TN(e,this._opts))))),this._register(this._editor.onKeyDown((e=>this._onEditorKeyDown(new MN(e,this._opts))))),this._register(this._editor.onKeyUp((e=>this._onEditorKeyUp(new MN(e,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((e=>this._onDidChangeCursorSelection(e)))),this._register(this._editor.onDidChangeModel((e=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()})))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var PN=function(e,t){return function(i,n){t(i,n,e)}};let FN=class extends px{constructor(e,t,i,n,o,s,r,a,l,d){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,o,s,r,a,l,d),this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration((e=>this._onParentConfigurationChanged(e))))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){na(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};FN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([PN(3,Nn),PN(4,An),PN(5,Jn),PN(6,_s),PN(7,Ls),PN(8,$k),PN(9,qk)],FN);class BN{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const WN=new BN("id#");const VN=new Yu(new Zu(0,122,204)),HN={showArrow:!0,showFrame:!0,className:"",frameColor:VN,arrowColor:VN,keepEditorSelection:!1};class zN{constructor(e,t,i,n,o,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class UN{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class KN{constructor(e){this._editor=e,this._ruleName=KN._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),Yi(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){Yi(this._ruleName),Qi(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:br.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}KN._IdGenerator=new BN(".arrow-decoration-");class jN extends Vn{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new X),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=sn(e,hn(".monaco-dropdown")),this._label=sn(this._element,hn(".dropdown-label"));let i=t.labelRenderer;i||(i=e=>(e.textContent=t.label||"",null));for(const o of[en.CLICK,en.MOUSE_DOWN,tw.Tap])this._register(_i(this.element,o,(e=>tn(e,!0))));for(const o of[en.MOUSE_DOWN,tw.Tap])this._register(_i(this._label,o,(e=>{e instanceof MouseEvent&&e.detail>1||(this.visible?this.hide():this.show())})));this._register(_i(this._label,en.KEY_UP,(e=>{const t=new Ye(e);(t.equals(3)||t.equals(10))&&(tn(e,!0),this.visible?this.hide():this.show())})));const n=i(this._label);n&&this._register(n),this._register(nw.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class $N extends jN{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class qN extends $x{constructor(e,t,i,n=Object.create(null)){super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new X),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=sn(e,hn("a.action-label"));let t=[];return"string"==typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter((e=>!!e)):this.options.classNames&&(t=this.options.classNames),t.find((e=>"icon"===e))||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new $N(e,i)),this._register(this.dropdownMenu.onDidChangeVisibility((e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded",`${e}`),this._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const i=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",i),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",i)}}class GN{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=i(s);if(null===r)return null;n[o]=YN(s,r,this.modifierLabels[e])}return n.join(" ")}}const ZN=new GN({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:t("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:t("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:t("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:t("vs/base/common/keybindingLabels",{key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:t("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:t("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:t("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:t("vs/base/common/keybindingLabels",{key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),JN=new GN({ctrlKey:t("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:t("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:t("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:t("vs/base/common/keybindingLabels",{key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:t("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:t("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:t("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:t("vs/base/common/keybindingLabels",{key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:t("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:t("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:t("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:t("vs/base/common/keybindingLabels",{key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),QN=new GN({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function YN(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}var XN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},eI=function(e,t){return function(i,n){t(i,n,e)}},tI=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function iI(e,t,i,n,o,s,r){const a=e.getActions(t);return function(e,t,i,n=(e=>"navigation"===e),o=Number.MAX_SAFE_INTEGER,s=(()=>!1),r=!1){let a,l;Array.isArray(t)?(a=t,l=t):(a=t.primary,l=t.secondary);const d=new Set;for(const[c,h]of e){let e;n(c)?(e=a,e.length>0&&r&&e.push(new Hn)):(e=l,e.length>0&&e.push(new Hn));for(let t of h){i&&(t=t instanceof Hs&&t.alt?t.alt:t);const n=e.push(t);t instanceof zn&&d.add({group:c,action:t,index:n-1})}}for(const{group:c,action:h,index:u}of d){const e=n(c)?a:l,t=h.actions;(t.length<=1||e.length+t.length-2<=o)&&s(h,c,e.length)&&e.splice(u,1,...t)}if(a!==l&&a.length>o){const e=a.splice(o,a.length-o);l.unshift(...e,new Hn)}}(a,i,!1,"string"==typeof n?e=>e===n:n,o,s,r),function(e){const t=new b;for(const[,i]of e)for(const e of i)t.add(e);return t}(a)}let nI=class extends qx{constructor(e,t,i,n,o){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable}),this._keybindingService=i,this._notificationService=n,this._contextKeyService=o,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w),this._altKey=bn.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return tI(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(F||W)&&this._altKey.keyStatus.shiftKey;const n=()=>{const e=t&&i;e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((e=>{i=e.altKey||(F||W)&&e.shiftKey,n()}))),this._register(_i(e,"mouseleave",(e=>{t=!1,n()}))),this._register(_i(e,"mouseenter",(e=>{t=!0,n()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=i?t("vs/platform/actions/browser/menuEntryActionViewItem","titleAndKb","{0} ({1})",n,i):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,i=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),n=i&&i.getLabel(),s=n?t("vs/platform/actions/browser/menuEntryActionViewItem","titleAndKb","{0} ({1})",e,n):e;o+=`\n[${ZN.modifierLabels[j].altKey}] ${s}`}this.label.title=o}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:n}=this;if(!i||!n)return;const o=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(o)if(Es.isThemeIcon(o)){const e=Es.asClassNameArray(o);n.classList.add(...e),this._itemClassDispose.value=_((()=>{n.classList.remove(...e)}))}else o.light&&n.style.setProperty("--menu-entry-icon-light",fn(o.light)),o.dark&&n.style.setProperty("--menu-entry-icon-dark",fn(o.dark)),n.classList.add("icon"),this._itemClassDispose.value=_((()=>{n.classList.remove("icon"),n.style.removeProperty("--menu-entry-icon-light"),n.style.removeProperty("--menu-entry-icon-dark")}))}};nI=XN([eI(2,_E),eI(3,$k),eI(4,_s)],nI);let oI=class extends qN{constructor(e,t,i){var n,o;const s=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null!==(n=null==t?void 0:t.menuAsChild)&&void 0!==n&&n,classNames:null!==(o=null==t?void 0:t.classNames)&&void 0!==o?o:Es.isThemeIcon(e.item.icon)?Es.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,s)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!Es.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",fn(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",fn(t.dark)))}}};oI=XN([eI(2,uL)],oI);let sI=class extends $x{constructor(e,t,i,n,o,s,r,a){var l,d,c;let h;super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=s,this._instaService=r,this._storageService=a,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let u=a.get(this._storageKey,1);u&&(h=e.actions.find((e=>u===e.id))),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(nI,h,void 0);const g=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null===(l=null==t?void 0:t.menuAsChild)||void 0===l||l,classNames:null!==(d=null==t?void 0:t.classNames)&&void 0!==d?d:["codicon","codicon-chevron-down"],actionRunner:null!==(c=null==t?void 0:t.actionRunner)&&void 0!==c?c:new Vn});this._dropdown=new qN(e,e.actions,this._contextMenuService,g),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof Hs&&this.update(e.action)}))}update(e){var t,i;this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(nI,e,void 0),this._defaultAction.actionRunner=new class extends Vn{runAction(e,t){return tI(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render((t=this._container,i=hn(".action-container"),t.insertBefore(i,t.firstChild),i))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=hn(".action-container");this._defaultAction.render(sn(this._container,t)),this._register(_i(t,en.KEY_DOWN,(e=>{const t=new Ye(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const i=hn(".dropdown-action-container");this._dropdown.render(sn(this._container,i)),this._register(_i(i,en.KEY_DOWN,(e=>{var t;const i=new Ye(e);i.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),i.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function rI(e,t,i){return t instanceof Hs?e.createInstance(nI,t,void 0):t instanceof Vs?t.item.rememberDefaultAction?e.createInstance(sI,t,i):e.createInstance(oI,t,i):void 0}sI=XN([eI(2,_E),eI(3,$k),eI(4,uL),eI(5,Bs),eI(6,Nn),eI(7,nN)],sI);var aI=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},lI=function(e,t){return function(i,n){t(i,n,e)}};const dI=Tn("IPeekViewService");var cI,hI;Ou(dI,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))}))})}}),(hI=cI||(cI={})).inPeekEditor=new fs("inReferenceSearchEditor",!0,t("vs/editor/contrib/peekView/peekView","inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),hI.notInPeekEditor=hI.inPeekEditor.toNegated();let uI=class{constructor(e,t){e instanceof FN&&cI.inPeekEditor.bindTo(t)}dispose(){}};uI.ID="editor.contrib.referenceController",uI=aI([lI(1,_s)],uI),cr(uI.ID,uI);const gI={headerBackgroundColor:Yu.white,primaryHeadingColor:Yu.fromHex("#333333"),secondaryHeadingColor:Yu.fromHex("#6c6c6cb3")};let mI=class extends class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new b,this.container=null,this._isShowing=!1,this.editor=e,this.options=Xr(t),na(this.options,HN,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)})))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new KN(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const i=t.getDecorationRange(e);return i?i.getStartPosition():void 0}show(e,t){const i=br.isIRange(e)?br.lift(e):br.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:vb.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(58),t=0;if(this.options.showArrow){t+=2*Math.round(e/3)}if(this.options.showFrame){t+=2*Math.round(e/9)}return t}_showImpl(e,t){const i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";const s=document.createElement("div");s.style.overflow="hidden";const r=this.editor.getOption(58),a=Math.max(12,this.editor.getLayoutInfo().height/r*.8);t=Math.min(t,a);let l=0,d=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(r/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(d=Math.round(r/9)),this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new zN(s,i.lineNumber,i.column,t,(e=>this._onViewZoneTop(e)),(e=>this._onViewZoneHeight(e))),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new UN("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}let c=t*r-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=c+"px",this.container.style.overflow="hidden"),this._doLayout(c,o),this.options.keepEditorSelection||this.editor.setSelection(e);const h=this.editor.getModel();if(h){const t=e.endLineNumber+1;t<=h.getLineCount()?this.revealLine(t,!1):this.revealLine(h.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new Ox(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((t=>{if(e){let i=(t.currentY-e.startY)/this.editor.getOption(58),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new X,this.onDidClose=this._onDidClose.event,na(this.options,gI,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=hn(".head"),this._bodyElement=hn(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,i){const n=hn(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),vi(n,"click",(e=>this._onTitleClick(e)))),sn(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=hn("span.filename"),this._secondaryHeading=hn("span.dirname"),this._metaHeading=hn("span.meta"),sn(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const o=hn(".peekview-actions");sn(this._headElement,o);const s=this._getActionBarOptions();this._actionbarWidget=new Zx(o,s),this._disposables.add(this._actionbarWidget),i||this._actionbarWidget.push(new Wn("peekview.close",t("vs/editor/contrib/peekView/peekView","label.close","Close"),qn.close.classNames,!0,(()=>(this.dispose(),Promise.resolve()))),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:rI.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:mi(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,un(this._metaHeading)):gn(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(58)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};mI=aI([lI(2,Nn)],mI);const pI=om("peekViewTitle.background",{dark:Yf(Zm,.1),light:Yf(Zm,.1),hc:null},t("vs/editor/contrib/peekView/peekView","peekViewTitleBackground","Background color of the peek view title area.")),fI=om("peekViewTitleLabel.foreground",{dark:Yu.white,light:Yu.black,hc:Yu.white},t("vs/editor/contrib/peekView/peekView","peekViewTitleForeground","Color of the peek view title.")),_I=om("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},t("vs/editor/contrib/peekView/peekView","peekViewTitleInfoForeground","Color of the peek view title info.")),bI=om("peekView.border",{dark:Zm,light:Zm,hc:dm},t("vs/editor/contrib/peekView/peekView","peekViewBorder","Color of the peek view borders and arrow.")),vI=om("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:Yu.black},t("vs/editor/contrib/peekView/peekView","peekViewResultsBackground","Background color of the peek view result list.")),wI=om("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:Yu.white},t("vs/editor/contrib/peekView/peekView","peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),CI=om("peekViewResult.fileForeground",{dark:Yu.white,light:"#1E1E1E",hc:Yu.white},t("vs/editor/contrib/peekView/peekView","peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),yI=om("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},t("vs/editor/contrib/peekView/peekView","peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),SI=om("peekViewResult.selectionForeground",{dark:Yu.white,light:"#6C6C6C",hc:Yu.white},t("vs/editor/contrib/peekView/peekView","peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),kI=om("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:Yu.black},t("vs/editor/contrib/peekView/peekView","peekViewEditorBackground","Background color of the peek view editor.")),xI=om("peekViewEditorGutter.background",{dark:kI,light:kI,hc:kI},t("vs/editor/contrib/peekView/peekView","peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),LI=om("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},t("vs/editor/contrib/peekView/peekView","peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),DI=om("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},t("vs/editor/contrib/peekView/peekView","peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),EI=om("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:cm},t("vs/editor/contrib/peekView/peekView","peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));function NI(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===uk.ICodeEditor}function II(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===uk.IDiffEditor}function TI(e){return NI(e)?e:II(e)?e.getModifiedEditor():null}var MI;class AI{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach((n=>n.splice(e,t,i)))}}class RI extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function OI(e,t){const i=[];for(let n of t){if(e.start>=n.range.end)continue;if(e.end<n.range.start)break;const t=MI.intersect(e,n.range);MI.isEmpty(t)||i.push({range:t,size:n.size})}return i}function PI({start:e,end:t},i){return{start:e+i,end:t+i}}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function i(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=i,e.intersects=function(e,n){return!i(t(e,n))},e.relativeComplement=function(e,t){const n=[],o={start:e.start,end:Math.min(t.start,e.end)},s={start:Math.max(t.end,e.start),end:e.end};return i(o)||n.push(o),i(s)||n.push(s),n}}(MI||(MI={}));class FI{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t,o=OI({start:0,end:e},this.groups),s=OI({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:PI(e.range,n),size:e.size}))),r=i.map(((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size})));this.groups=function(...e){return function(e){const t=[];let i=null;for(let n of e){const e=n.range.start,o=n.range.end,s=n.size;i&&s===i.size?i.range.end=o:(i={range:{start:e,end:o},size:s},t.push(i))}return t}(e.reduce(((e,t)=>e.concat(t)),[]))}(o,r,s),this._size=this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,s=i+o*n.size;if(e<s)return t+Math.floor((e-i)/n.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,s=i+o;if(e<s)return t+(e-i)*n.size;t+=o*n.size,i=s}return-1}}class BI{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=hn(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(G1){}}(t));this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const i of e){this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}})),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var WI=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};const VI={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class HI{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class zI{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class UI{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class KI{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,i)=>i,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class jI{constructor(e,t,i,n=VI){if(this.virtualDelegate=t,this.domId="list_id_"+ ++jI.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new mt(50),this.splicing=!1,this.dragOverAnimationStopDisposable=v.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=v.None,this.onDragLeaveTimeout=v.None,this.disposables=new b,this._onDidChangeContentHeight=new X,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new FI;for(const o of i)this.renderers.set(o.templateId,o);this.cache=this.disposables.add(new BI(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=sa(n,(e=>e.horizontalScrolling),VI.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===n.additionalScrollHeight?0:n.additionalScrollHeight,this.accessibilityProvider=new KI(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";sa(n,(e=>e.transformOptimization),VI.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(nw.addTarget(this.rowsContainer)),this.scrollable=new py(sa(n,(e=>e.smoothScrolling),!1)?125:0,(e=>ki(e))),this.scrollableElement=this.disposables.add(new Sy(this.rowsContainer,{alwaysConsumeMouseWheel:sa(n,(e=>e.alwaysConsumeMouseWheel),VI.alwaysConsumeMouseWheel),horizontal:1,vertical:sa(n,(e=>e.verticalScrollMode),VI.verticalScrollMode),useShadows:sa(n,(e=>e.useShadows),VI.useShadows),mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(_i(this.rowsContainer,tw.Change,(e=>this.onTouchChange(e)))),this.disposables.add(_i(this.scrollableElement.getDomNode(),"scroll",(e=>e.target.scrollTop=0))),this.disposables.add(_i(this.domNode,"dragover",(e=>this.onDragOver(this.toDragEvent(e))))),this.disposables.add(_i(this.domNode,"drop",(e=>this.onDrop(this.toDragEvent(e))))),this.disposables.add(_i(this.domNode,"dragleave",(e=>this.onDragLeave(this.toDragEvent(e))))),this.disposables.add(_i(this.domNode,"dragend",(e=>this.onDragEnd(e)))),this.setRowLineHeight=sa(n,(e=>e.setRowLineHeight),VI.setRowLineHeight),this.setRowHeight=sa(n,(e=>e.setRowHeight),VI.setRowHeight),this.supportDynamicHeights=sa(n,(e=>e.supportDynamicHeights),VI.supportDynamicHeights),this.dnd=sa(n,(e=>e.dnd),VI.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Bi(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=MI.intersect(n,o),r=new Map;for(let v=s.start;v<s.end;v++){const e=this.items[v];if(e.dragStartDisposable.dispose(),e.row){let t=r.get(e.templateId);t||(t=[],r.set(e.templateId,t));const i=this.renderers.get(e.templateId);i&&i.disposeElement&&i.disposeElement(e.element,v,e.row.templateData,e.size),t.push(e.row)}e.row=null}const a={start:e+t,end:this.items.length},l=MI.intersect(a,n),d=MI.relativeComplement(a,n),c=i.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:v.None})));let h;0===e&&t>=this.items.length?(this.rangeMap=new FI,this.rangeMap.splice(0,0,c),h=this.items,this.items=c):(this.rangeMap.splice(e,t,c),h=this.items.splice(e,t,...c));const u=i.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),m=PI(l,u),p=MI.intersect(g,m);for(let v=p.start;v<p.end;v++)this.updateItemInDOM(this.items[v],v);const f=MI.relativeComplement(m,g);for(const v of f)for(let e=v.start;e<v.end;e++)this.removeItemFromDOM(e);const _=d.map((e=>PI(e,u))),b=[{start:e,end:e+i.length},..._].map((e=>MI.intersect(g,e))),w=this.getNextToLastElement(b);for(const v of b)for(let e=v.start;e<v.end;e++){const t=this.items[e],i=r.get(t.templateId),n=null==i?void 0:i.pop();this.insertItemInDOM(e,w,n)}for(const v of r.values())for(const e of v)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=ki((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:"number"==typeof e?e:Wi(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:Bi(this.domNode)})}render(e,t,i,n,o,s=!1){const r=this.getRenderRange(t,i),a=MI.relativeComplement(r,e),l=MI.relativeComplement(e,r),d=this.getNextToLastElement(a);if(s){const t=MI.intersect(e,r);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const c of a)for(let e=c.start;e<c.end;e++)this.insertItemInDOM(e,d);for(const c of l)for(let e=c.start;e<c.end;e++)this.removeItemFromDOM(e);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];n.row||(n.row=null!=i?i:this.cache.alloc(n.templateId));const o=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",o);const s=this.accessibilityProvider.isChecked(n.element);void 0!==s&&n.row.domNode.setAttribute("aria-checked",String(!!s)),n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const r=this.renderers.get(n.templateId);if(!r)throw new Error(`No renderer found for template id ${n.templateId}`);r&&r.renderElement(n.element,e,n.row.templateData,n.size);const a=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!a,a&&(n.dragStartDisposable=_i(n.row.domNode,"dragstart",(e=>this.onDragStart(n.element,a,e)))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=de?"-moz-fit-content":"fit-content",e.width=Bi(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2==0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return Q.map(this.disposables.add(new xx(this.domNode,"click")).event,(e=>this.toMouseEvent(e)))}get onMouseDblClick(){return Q.map(this.disposables.add(new xx(this.domNode,"dblclick")).event,(e=>this.toMouseEvent(e)))}get onMouseMiddleClick(){return Q.filter(Q.map(this.disposables.add(new xx(this.domNode,"auxclick")).event,(e=>this.toMouseEvent(e))),(e=>1===e.browserEvent.button))}get onMouseDown(){return Q.map(this.disposables.add(new xx(this.domNode,"mousedown")).event,(e=>this.toMouseEvent(e)))}get onContextMenu(){return Q.any(Q.map(this.disposables.add(new xx(this.domNode,"contextmenu")).event,(e=>this.toMouseEvent(e))),Q.map(this.disposables.add(new xx(this.domNode,tw.Contextmenu)).event,(e=>this.toGestureEvent(e))))}get onTouchStart(){return Q.map(this.disposables.add(new xx(this.domNode,"touchstart")).event,(e=>this.toTouchEvent(e)))}get onTap(){return Q.map(this.disposables.add(new xx(this.rowsContainer,tw.Tap)).event,(e=>this.toGestureEvent(e)))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Ux.TEXT,t),i.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(n,i)),void 0===e&&(e=String(n.length));const t=hn(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),i.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>document.body.removeChild(t)),0)}this.currentDragData=new HI(n),jx.CurrentDragAndDropData=new zI(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),jx.CurrentDragAndDropData&&"vscode-ui"===jx.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(jx.CurrentDragAndDropData)this.currentDragData=jx.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new UI}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",i="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],i=wd(i).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),i=-1===i[0]?[-1]:i,n=this.currentDragFeedback,o=i,Array.isArray(n)&&Array.isArray(o)?ud(n,o):n===o)return!0;var n,o;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=_((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const e of i){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=_((()=>{for(const e of i){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=_t((()=>this.clearDragOverFeedback()),100),this.currentDragData&&(null===(i=(t=this.dnd).onDragLeave)||void 0===i||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,jx.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,jx.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=v.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=Ri(this.domNode).top;this.dragOverAnimationDisposable=function(e){const t=()=>{e(),i=ki(t)};let i=ki(t);return _((()=>i.dispose()))}(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=_t((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const e=i.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let o,s;e===this.elementTop(n.start)?(o=n.start,s=0):n.end-n.start>1&&(o=n.start+1,s=this.elementTop(o)-e);let r=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),r+=t,l=l||0!==t}if(!l){0!==r&&this.eventuallyUpdateScrollDimensions();const t=MI.relativeComplement(n,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=MI.relativeComplement(a,n);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,i=e<this.items.length?this.items[e].row:null,n=i?i.domNode:null;this.insertItemInDOM(t,n)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"==typeof o){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,n=this.elementTop(o)-s+t;this.setScrollTop(n,i)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const e=this.virtualDelegate.getDynamicHeight(t.element);if(null!==e){const i=t.size;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-i}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row){let e=t.row.domNode.offsetHeight;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-i}const n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,n.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),p(this.disposables)}}jI.InstanceCount=0,WI([ew],jI.prototype,"onMouseClick",null),WI([ew],jI.prototype,"onMouseDblClick",null),WI([ew],jI.prototype,"onMouseMiddleClick",null),WI([ew],jI.prototype,"onMouseDown",null),WI([ew],jI.prototype,"onContextMenu",null),WI([ew],jI.prototype,"onTouchStart",null),WI([ew],jI.prototype,"onTap",null);var $I,qI,GI=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},ZI=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class JI{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex((e=>e.templateData===i));if(n>=0){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else{const e={index:t,templateData:i};this.renderedElements.push(e)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex((t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}class QI{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new X,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new JI(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,s=e+t,r=[...this.sortedIndexes.filter((t=>t<e)),...i.map(((t,i)=>t?i+e:-1)).filter((e=>-1!==e)),...this.sortedIndexes.filter((e=>e>=s)).map((e=>e+o))],a=this.length+o;if(this.sortedIndexes.length>0&&0===r.length&&a>0){const t=null!==(n=this.sortedIndexes.find((t=>t>=e)))&&void 0!==n?n:a-1;r.push(Math.min(t,a-1))}this.renderer.splice(e,t,i.length),this._set(r,r),this.length=a}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(mT),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const s=gT(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return gd(this.sortedIndexes,e,mT)>=0}dispose(){p(this._onChange)}}GI([ew],QI.prototype,"renderer",null);class YI extends QI{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class XI{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map((()=>!1)));const n=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString())),o=i.map((e=>n.indexOf(this.identityProvider.getId(e).toString())>-1));this.trait.splice(e,t,o)}}function eT(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function tT(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&(!!e.parentElement&&tT(e.parentElement))}class iT{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new b,this.multipleSelectionDisposables=new b,this.onKeyDown.filter((e=>3===e.keyCode)).on(this.onEnter,this,this.disposables),this.onKeyDown.filter((e=>16===e.keyCode)).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter((e=>18===e.keyCode)).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter((e=>11===e.keyCode)).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter((e=>12===e.keyCode)).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter((e=>9===e.keyCode)).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter((e=>(B?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return Q.chain(this.disposables.add(new xx(this.view.domNode,"keydown")).event).filter((e=>!eT(e.target))).map((e=>new Ye(e)))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter((e=>(B?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Sd(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}GI([ew],iT.prototype,"onKeyDown",null),(qI=$I||($I={}))[qI.Idle=0]="Idle",qI[qI.Typing=1]="Typing";const nT=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class oT{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=$I.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new b,this.disposables=new b,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=Q.chain(this.enabledDisposables.add(new xx(this.view.domNode,"keydown")).event).filter((e=>!eT(e.target))).filter((()=>this.automaticKeyboardNavigation||this.triggered)).map((e=>new Ye(e))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach((e=>{e.stopPropagation(),e.preventDefault()})).map((e=>e.browserEvent.key)).event,t=Q.debounce(e,(()=>null),800);Q.reduce(Q.any(e,t),((e,t)=>null===t?null:(e||"")+t))(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&kn(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=$I.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===$I.Idle?1:0;this.state=$I.Typing;for(let o=0;o<this.list.length;o++){const t=(i+o+n)%this.list.length,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),r=s&&s.toString();if(void 0===r||UL(e,r))return this.previouslyFocused=i,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class sT{constructor(e,t){this.list=e,this.view=t,this.disposables=new b;Q.chain(this.disposables.add(new xx(t.domNode,"keydown")).event).filter((e=>!eT(e.target))).map((e=>new Ye(e))).filter((e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey))).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!(n&&n instanceof HTMLElement&&-1!==n.tabIndex))return;const o=window.getComputedStyle(n);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function rT(e){return B?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function aT(e){return e.browserEvent.shiftKey}const lT={isSelectionSingleChangeEvent:rT,isSelectionRangeChangeEvent:aT};class dT{constructor(e){this.list=e,this.disposables=new b,this._onPointer=new X,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||lT),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(nw.addTarget(e.getHTMLElement()))),Q.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||lT))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){tT(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(tT(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(eT(e.browserEvent.target)||tT(e.browserEvent.target))return;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),(i=e.browserEvent)instanceof MouseEvent&&2===i.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var i}onDoubleClick(e){if(eT(e.browserEvent.target)||tT(e.browserEvent.target))return;if(this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===i){const e=this.list.getFocus()[0];i=null!=e?e:t,this.list.setAnchor(i)}const n=Sd(Math.min(i,t),Math.max(i,t)+1),o=this.list.getSelection(),s=function(e,t){const i=e.indexOf(t);if(-1===i)return[];const n=[];let o=i-1;for(;o>=0&&e[o]===t-(i-o);)n.push(e[o--]);n.reverse(),o=i;for(;o<e.length&&e[o]===t+(o-i);)n.push(e[o++]);return n}(gT(o,[i]),i);if(0===s.length)return;const r=gT(n,function(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){n++,o++;continue}e[n]<t[o]?i.push(e[n++]):o++}return i}(o,s));this.list.setSelection(r,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const i=this.list.getSelection(),n=i.filter((e=>e!==t));this.list.setFocus([t]),this.list.setAnchor(t),i.length===n.length?this.list.setSelection([...n,t],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class cT{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):B||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),this.styleElement.textContent=i.join("\n")}}const hT={listFocusBackground:Yu.fromHex("#7FB0D0"),listActiveSelectionBackground:Yu.fromHex("#0E639C"),listActiveSelectionForeground:Yu.fromHex("#FFFFFF"),listActiveSelectionIconForeground:Yu.fromHex("#FFFFFF"),listFocusAndSelectionBackground:Yu.fromHex("#094771"),listFocusAndSelectionForeground:Yu.fromHex("#FFFFFF"),listInactiveSelectionBackground:Yu.fromHex("#3F3F46"),listInactiveSelectionIconForeground:Yu.fromHex("#FFFFFF"),listHoverBackground:Yu.fromHex("#2A2D2E"),listDropBackground:Yu.fromHex("#383B3D"),treeIndentGuidesStroke:Yu.fromHex("#a9a9a9"),tableColumnsBorder:Yu.fromHex("#cccccc").transparent(.2)},uT={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function gT(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){i.push(e[n]),n++,o++;continue}e[n]<t[o]?i.push(e[n++]):i.push(t[o++])}return i}const mT=(e,t)=>e-t;class pT{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,i,n){let o=0;for(const s of this.renderers)s.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){let o=0;for(const s of this.renderers)s.disposeElement&&s.disposeElement(e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class fT{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof o?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class _T{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,s;null===(s=(o=this.dnd).onDragLeave)||void 0===s||s.call(o,e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class bT{constructor(e,t,i,n,o=uT){var s;this.user=e,this._options=o,this.focus=new QI("focused"),this.anchor=new QI("anchor"),this.eventBufferer=new ie,this._ariaLabel="",this.disposables=new b,this._onDidDispose=new X,this.onDidDispose=this._onDidDispose.event;const r=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(s=this._options.accessibilityProvider)||void 0===s?void 0:s.getWidgetRole():"list";this.selection=new YI("listbox"!==r),na(o,hT,!1);const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(a.push(new fT(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map((e=>new pT(e.templateId,[...a,e])));const l=Object.assign(Object.assign({},o),{dnd:o.dnd&&new _T(this,o.dnd)});if(this.view=new jI(t,i,n,l),this.view.domNode.setAttribute("role",r),o.styleController)this.styleController=o.styleController(this.view.domId);else{const e=Gi(this.view.domNode);this.styleController=new cT(e,this.view.domId)}if(this.spliceable=new AI([new XI(this.focus,this.view,o.identityProvider),new XI(this.selection,this.view,o.identityProvider),new XI(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new sT(this,this.view)),("boolean"!=typeof o.keyboardSupport||o.keyboardSupport)&&(this.keyboardController=new iT(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||nT;this.typeLabelController=new oT(this,this.view,o.keyboardNavigationLabelProvider,e),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return Q.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)))}get onDidChangeSelection(){return Q.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Q.chain(this.disposables.add(new xx(this.view.domNode,"keydown")).event).map((e=>new Ye(e))).filter((t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode)).map(Lx).filter((()=>!1)).event,i=Q.chain(this.disposables.add(new xx(this.view.domNode,"keyup")).event).forEach((()=>e=!1)).map((e=>new Ye(e))).filter((e=>58===e.keyCode||e.shiftKey&&68===e.keyCode)).map(Lx).map((({browserEvent:e})=>{const t=this.getFocus(),i=t.length?t[0]:void 0;return{index:i,element:void 0!==i?this.view.element(i):void 0,anchor:void 0!==i?this.view.domElement(i):this.view.domNode,browserEvent:e}})).event,n=Q.chain(this.view.onContextMenu).filter((t=>!e)).map((({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.pageX+1,y:i.pageY},browserEvent:i}))).event;return Q.any(t,i,n)}get onKeyDown(){return this.disposables.add(new xx(this.view.domNode,"keydown")).event}get onDidFocus(){return Q.signal(this.disposables.add(new xx(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new dT(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(t=this.keyboardController)||void 0===t||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new RI(this.user,`Invalid start index: ${e}`);if(t<0)throw new RI(this.user,`Invalid delete count: ${t}`);0===t&&0===i.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,i)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new RI(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new RI(this.user,`Invalid index ${e}`);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return Cd(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new RI(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,n);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);s>-1&&this.setFocus([s],i)}focusNextPage(e,t){return ZI(this,void 0,void 0,(function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.view.element(i),o=this.getFocusedElements()[0];if(o!==n){const n=this.findPreviousIndex(i,!1,t);n>-1&&o!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const n=this.view.getScrollTop();this.view.setScrollTop(n+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==n&&(this.setFocus([]),yield ft(0),yield this.focusNextPage(e,t))}}))}focusPreviousPage(e,t){return ZI(this,void 0,void 0,(function*(){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const o=this.view.element(i),s=this.getFocusedElements()[0];if(s!==o){const n=this.findNextIndex(i,!1,t);n>-1&&s!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const i=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==i&&(this.setFocus([]),yield ft(0),yield this.focusPreviousPage(e,t))}}))}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){if(e<0||e>=this.length)throw new RI(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(ve(t)){const e=o-this.view.renderHeight;this.view.setScrollTop(e*Qd(t,0,1)+n)}else{const e=n+o,t=i+this.view.renderHeight;n<i&&e>=t||(n<i||e>=t&&o>=this.view.renderHeight?this.view.setScrollTop(n):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new RI(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight)return null;const o=n-this.view.renderHeight;return Math.abs((t-i)/o)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map((e=>this.view.element(e))),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}GI([ew],bT.prototype,"onDidChangeFocus",null),GI([ew],bT.prototype,"onDidChangeSelection",null),GI([ew],bT.prototype,"onContextMenu",null),GI([ew],bT.prototype,"onKeyDown",null),GI([ew],bT.prototype,"onDidFocus",null);class vT{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:v.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);const s=new dt,r=o.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),r.then((t=>this.renderer.renderElement(t,e,i.data,n)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class wT{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}const CT={separatorBorder:Yu.transparent};class yT{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=Qd(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class ST extends yT{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class kT extends yT{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var xT,LT,DT,ET;(LT=xT||(xT={}))[LT.Idle=0]="Idle",LT[LT.Busy=1]="Busy",(ET=DT||(DT={})).Distribute={type:"distribute"},ET.Split=function(e){return{type:"split",index:e}},ET.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class NT extends v{constructor(e,t={}){var i,n;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=xT.Idle,this._onDidSashChange=this._register(new X),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new X),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=Ce(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!Ce(t.proportionalLayout)||!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=sn(this.el,hn(".sash-container")),this.viewContainer=hn(".split-view-container"),this.scrollable=new py(125,ki),this.scrollableElement=this._register(new Sy(this.viewContainer,{vertical:0===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2,horizontal:1===this.orientation?null!==(n=t.scrollbarVisibility)&&void 0!==n?n:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft}))),sn(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||CT),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=Ce(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.doAddView(n,i,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){const t=this.viewItems[n];t.size=Qd(Math.round(this.proportions[n]*e),t.minimumSize,t.maximumSize)}else{const t=Sd(this.viewItems.length),n=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-i,void 0,n,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.size/this.contentSize)))}onSashStart({sash:e,start:t,alt:i}){for(const r of this.viewItems)r.enabled=!1;const n=this.sashItems.findIndex((t=>t.sash===e)),o=f(_i(document.body,"keydown",(e=>s(this.sashDragState.current,e.altKey))),_i(document.body,"keyup",(()=>s(this.sashDragState.current,!1)))),s=(e,t)=>{const i=this.viewItems.map((e=>e.size));let s,r,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(n===this.sashItems.length-1){const e=this.viewItems[n];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{const e=this.viewItems[n+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){const e=Sd(n,-1),t=Sd(n+1,this.viewItems.length),o=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),a=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t])),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),d=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize)),0),c=Math.max(o,d),h=Math.min(l,a),u=this.findFirstSnapIndex(e),g=this.findFirstSnapIndex(t);if("number"==typeof u){const e=this.viewItems[u],t=Math.floor(e.viewMinimumSize/2);s={index:u,limitDelta:e.visible?c-t:c+t,size:e.size}}if("number"==typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);r={index:g,limitDelta:e.visible?h+t:h-t,size:e.size}}}this.sashDragState={start:e,current:e,index:n,sizes:i,minDelta:a,maxDelta:l,alt:t,snapBefore:s,snapAfter:r,disposable:o}};s(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:o,minDelta:s,maxDelta:r,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const d=e-i,c=this.resize(t,d,n,void 0,void 0,s,r,a,l);if(o){const e=t===this.sashItems.length-1,i=this.viewItems.map((e=>e.size)),n=e?t:t+1,o=this.viewItems[n],s=o.size-o.maximumSize,r=o.size-o.minimumSize,a=e?t-1:t+1;this.resize(a,-c,i,void 0,void 0,s,r)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=Qd(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==xT.Idle)throw new Error("Cant modify splitview");if(this.state=xT.Busy,e<0||e>=this.viewItems.length)return;const i=Sd(this.viewItems.length).filter((t=>t!==e)),n=[...i.filter((e=>1===this.viewItems[e].priority)),e],o=i.filter((e=>2===this.viewItems[e].priority)),s=this.viewItems[e];t=Qd(t=Math.round(t),s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,o),this.state=xT.Idle}distributeViewSizes(){const e=[];let t=0;for(const r of this.viewItems)r.maximumSize-r.minimumSize>0&&(e.push(r),t+=r.size);const i=Math.floor(t/e.length);for(const r of e)r.size=Qd(i,r.minimumSize,r.maximumSize);const n=Sd(this.viewItems.length),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==xT.Idle)throw new Error("Cant modify splitview");this.state=xT.Busy;const o=hn(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const s=f(e.onDidChange((e=>this.onViewChange(a,e))),_((()=>this.viewContainer.removeChild(o))));let r;r="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const a=0===this.orientation?new ST(o,e,r,s):new kT(o,e,r,s);if(this.viewItems.splice(i,0,a),this.viewItems.length>1){let e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const t=0===this.orientation?new Ox(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new Ox(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),n=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),o=f(Q.map(t.onDidStart,n)(this.onSashStart,this),Q.map(t.onDidChange,n)(this.onSashChange,this),Q.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t))))(this.onSashEnd,this),t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),i=Sd(e,-1),n=Sd(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),s=this.findFirstSnapIndex(n);("number"!=typeof o||this.viewItems[o].visible)&&("number"!=typeof s||this.viewItems[s].visible)&&this._onDidSashReset.fire(e)})),t),s={sash:t,disposable:o};this.sashItems.splice(i-1,0,s)}let l;o.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(l=[t.index]),n||this.relayout([i],l),this.state=xT.Idle,n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map((e=>e.size)),n,o,s=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,a,l){if(e<0||e>=this.viewItems.length)return 0;const d=Sd(e,-1),c=Sd(e+1,this.viewItems.length);if(o)for(const y of o)xd(d,y),xd(c,y);if(n)for(const y of n)Ld(d,y),Ld(c,y);const h=d.map((e=>this.viewItems[e])),u=d.map((e=>i[e])),g=c.map((e=>this.viewItems[e])),m=c.map((e=>i[e])),p=d.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),f=d.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-i[t])),0),_=0===c.length?Number.POSITIVE_INFINITY:c.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),b=0===c.length?Number.NEGATIVE_INFINITY:c.reduce(((e,t)=>e+(i[t]-this.viewItems[t].maximumSize)),0),v=Math.max(p,b,s),w=Math.min(_,f,r);let C=!1;if(a){const e=this.viewItems[a.index],i=t>=a.limitDelta;C=i!==e.visible,e.setVisible(i,a.size)}if(!C&&l){const e=this.viewItems[l.index],i=t<l.limitDelta;C=i!==e.visible,e.setVisible(i,l.size)}if(C)return this.resize(e,t,i,n,o,s,r);for(let y=0,S=t=Qd(t,v,w);y<h.length;y++){const e=h[y],t=Qd(u[y]+S,e.minimumSize,e.maximumSize);S-=t-u[y],e.size=t}for(let y=0,S=t;y<g.length;y++){const e=g[y],t=Qd(m[y]-S,e.minimumSize,e.maximumSize);S+=t-m[y],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const n=Sd(this.viewItems.length-1,-1),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));for(const r of s)xd(n,r);for(const r of o)Ld(n,r);"number"==typeof e&&Ld(n,e);for(let r=0;0!==i&&r<n.length;r++){const e=this.viewItems[n[r]],t=Qd(e.size+i,e.minimumSize,e.maximumSize);i-=t-e.size,e.size=t}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),n=[...this.viewItems].reverse();e=!1;const o=n.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const s=n.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let r=0;for(let a=0;a<this.sashItems.length;a++){const{sash:e}=this.sashItems[a];r+=this.viewItems[a].size;const n=!(t[a]&&s[a+1]),l=!(i[a]&&o[a+1]);if(n&&l){const i=Sd(a,-1),n=Sd(a+1,this.viewItems.length),s=this.findFirstSnapIndex(i),l=this.findFirstSnapIndex(n),d="number"==typeof s&&!this.viewItems[s].visible,c="number"==typeof l&&!this.viewItems[l].visible;d&&o[a]&&(r>0||this.startSnappingEnabled)?e.state=1:c&&t[a]&&(r<this.contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=n&&!l?1:!n&&l?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach((e=>e.dispose())),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[]}}var IT,TT;class MT{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=MT.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const o of e){const e=n.get(o.templateId);if(!e)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=sn(e,hn(".monaco-table-tr")),i=[],n=[];for(let s=0;s<this.columns.length;s++){const e=this.renderers[s],o=sn(t,hn(".monaco-table-td",{"data-col-index":s}));o.style.width=`${this.getColumnSize(s)}px`,i.push(o),n.push(e.renderTemplate(o))}const o={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const s=this.columns[o].project(e);this.renderers[o].renderElement(s,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const s=this.renderers[o];if(s.disposeElement){const r=this.columns[o].project(e);s.disposeElement(r,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}mi(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}MT.TemplateId="row";class AT{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new X,this.onDidLayout=this._onDidLayout.event,this.element=hn(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:Q.None}layout(e){this._onDidLayout.fire([this.index,e])}}class RT{constructor(e,t,i,n,o,s){this.virtualDelegate=i,this.domId="table_id_"+ ++RT.InstanceCount,this.cachedHeight=0,this.domNode=sn(t,hn(`.monaco-table.${this.domId}`));const r=n.map(((e,t)=>new AT(e,t))),a={size:r.reduce(((e,t)=>e+t.column.weight),0),views:r.map((e=>({size:e.column.weight,view:e})))};this.splitview=new NT(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a}),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const l=new MT(n,o,(e=>this.splitview.getViewSize(e)));var d;this.list=new bT(e,this.domNode,(d=i,{getHeight:e=>d.getHeight(e),getTemplateId:()=>MT.TemplateId}),[l],s),this.columnLayoutDisposable=Q.any(...r.map((e=>e.onDidLayout)))((([e,t])=>l.layoutColumn(e,t))),this.styleElement=Gi(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}RT.InstanceCount=0,(TT=IT||(IT={}))[TT.Unknown=0]="Unknown",TT[TT.Twistie=1]="Twistie",TT[TT.Element=2]="Element";class OT extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class PT{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}class FT{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class BT{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function WT(e,t,i){return new UT(new BT(e),new BT(t)).ComputeDiff(i).changes}class VT{static Assert(e,t){if(!e)throw new Error(t)}}class HT{static Copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}static Copy2(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}}class zT{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new FT(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class UT{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,o,s]=UT._getElements(e),[r,a,l]=UT._getElements(t);this._hasStrings=s&&l,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=r,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(UT._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=Rd(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;return UT._getStrictElement(this._originalSequence,e)===UT._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const s=[!1];let r=this.ComputeDiffRecursive(e,t,i,n,s);return o&&(r=this.PrettifyChanges(r)),{quitEarly:s[0],changes:r}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let o;return i<=n?(VT.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new FT(e,0,i,n-i+1)]):e<=t?(VT.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[new FT(e,t-e+1,i,0)]):(VT.Assert(e===t+1,"originalStart should only be one more than originalEnd"),VT.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}const s=[0],r=[0],a=this.ComputeRecursionPoint(e,t,i,n,s,r,o),l=s[0],d=r[0];if(null!==a)return a;if(!o[0]){const s=this.ComputeDiffRecursive(e,l,i,d,o);let r=[];return r=o[0]?[new FT(l+1,t-(l+1)+1,d+1,n-(d+1)+1)]:this.ComputeDiffRecursive(l+1,t,d+1,n,o),this.ConcatenateChanges(s,r)}return[new FT(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m,p,f,_){let b=null,v=null,w=new zT,C=t,y=i,S=u[0]-p[0]-n,k=-1073741824,x=this.m_forwardHistory.length-1;do{const t=S+e;t===C||t<y&&l[t-1]<l[t+1]?(g=(c=l[t+1])-S-n,c<k&&w.MarkNextChange(),k=c,w.AddModifiedElement(c+1,g),S=t+1-e):(g=(c=l[t-1]+1)-S-n,c<k&&w.MarkNextChange(),k=c-1,w.AddOriginalElement(c,g+1),S=t-1-e),x>=0&&(e=(l=this.m_forwardHistory[x])[0],C=1,y=l.length-1)}while(--x>=-1);if(b=w.getReverseChanges(),_[0]){let e=u[0]+1,t=p[0]+1;if(null!==b&&b.length>0){const i=b[b.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}v=[new FT(e,h-e+1,t,m-t+1)]}else{w=new zT,C=s,y=r,S=u[0]-p[0]-a,k=1073741824,x=f?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=S+o;e===C||e<y&&d[e-1]>=d[e+1]?(g=(c=d[e+1]-1)-S-a,c>k&&w.MarkNextChange(),k=c+1,w.AddOriginalElement(c+1,g+1),S=e+1-o):(g=(c=d[e-1])-S-a,c>k&&w.MarkNextChange(),k=c,w.AddModifiedElement(c+1,g+1),S=e-1-o),x>=0&&(o=(d=this.m_reverseHistory[x])[0],C=1,y=d.length-1)}while(--x>=-1);v=w.getChanges()}return this.ConcatenateChanges(b,v)}ComputeRecursionPoint(e,t,i,n,o,s,r){let a=0,l=0,d=0,c=0,h=0,u=0;e--,i--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(n-i),m=g+1,p=new Int32Array(m),f=new Int32Array(m),_=n-i,b=t-e,v=e-i,w=t-n,C=(b-_)%2==0;p[_]=e,f[b]=t,r[0]=!1;for(let y=1;y<=g/2+1;y++){let g=0,S=0;d=this.ClipDiagonalBound(_-y,y,_,m),c=this.ClipDiagonalBound(_+y,y,_,m);for(let e=d;e<=c;e+=2){a=e===d||e<c&&p[e-1]<p[e+1]?p[e+1]:p[e-1]+1,l=a-(e-_)-v;const i=a;for(;a<t&&l<n&&this.ElementsAreEqual(a+1,l+1);)a++,l++;if(p[e]=a,a+l>g+S&&(g=a,S=l),!C&&Math.abs(e-b)<=y-1&&a>=f[e])return o[0]=a,s[0]=l,i<=f[e]&&y<=1448?this.WALKTRACE(_,d,c,v,b,h,u,w,p,f,a,t,o,l,n,s,C,r):null}const k=(g-e+(S-i)-y)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(g,k))return r[0]=!0,o[0]=g,s[0]=S,k>0&&y<=1448?this.WALKTRACE(_,d,c,v,b,h,u,w,p,f,a,t,o,l,n,s,C,r):(e++,i++,[new FT(e,t-e+1,i,n-i+1)]);h=this.ClipDiagonalBound(b-y,y,b,m),u=this.ClipDiagonalBound(b+y,y,b,m);for(let m=h;m<=u;m+=2){a=m===h||m<u&&f[m-1]>=f[m+1]?f[m+1]-1:f[m-1],l=a-(m-b)-w;const g=a;for(;a>e&&l>i&&this.ElementsAreEqual(a,l);)a--,l--;if(f[m]=a,C&&Math.abs(m-_)<=y&&a<=p[m])return o[0]=a,s[0]=l,g>=p[m]&&y<=1448?this.WALKTRACE(_,d,c,v,b,h,u,w,p,f,a,t,o,l,n,s,C,r):null}if(y<=1447){let e=new Int32Array(c-d+2);e[0]=_-d+1,HT.Copy2(p,d,e,1,c-d+1),this.m_forwardHistory.push(e),e=new Int32Array(u-h+2),e[0]=b-h+1,HT.Copy2(f,h,e,1,u-h+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(_,d,c,v,b,h,u,w,p,f,a,t,o,l,n,s,C,r)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,r=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!r||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const e=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!e)break;i.originalStart++,i.modifiedStart++}let a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const i=e[t-1];n=i.originalStart+i.originalLength,o=i.modifiedStart+i.modifiedLength}const s=i.originalLength>0,r=i.modifiedLength>0;let a=0,l=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){const t=i.originalStart-e,d=i.modifiedStart-e;if(t<n||d<o)break;if(s&&!this.OriginalElementsAreEqual(t,t+i.originalLength))break;if(r&&!this.ModifiedElementsAreEqual(d,d+i.modifiedLength))break;const c=(t===n&&d===o?5:0)+this._boundaryScore(t,i.originalLength,d,i.modifiedLength);c>l&&(l=c,a=e)}i.originalStart-=a,i.modifiedStart-=a;const d=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],d)&&(e[t-1]=d[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const i=e[t-1],n=e[t],o=n.originalStart-i.originalStart-i.originalLength,s=i.originalStart,r=n.originalStart+n.originalLength,a=r-s,l=i.modifiedStart,d=n.modifiedStart+n.modifiedLength,c=d-l;if(o<5&&a<20&&c<20){const e=this._findBetterContiguousSequence(s,a,l,c,o);if(e){const[t,s]=e;t===i.originalStart+i.originalLength&&s===i.modifiedStart+i.modifiedLength||(i.originalLength=t-i.originalStart,i.modifiedLength=s-i.modifiedStart,n.originalStart=t+o,n.modifiedStart=s+o,n.originalLength=r-n.originalStart,n.modifiedLength=d-n.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;const s=e+t-o+1,r=i+n-o+1;let a=0,l=0,d=0;for(let c=e;c<s;c++)for(let e=i;e<r;e++){const t=this._contiguousSequenceScore(c,e,o);t>0&&t>a&&(a=t,l=c,d=e)}return a>0?[l,d]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){let i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return HT.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],HT.Copy(t,1,n,e.length,t.length-1),n}{const i=new Array(e.length+t.length);return HT.Copy(e,0,i,0,e.length),HT.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,i){if(VT.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),VT.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const n=e.originalStart;let o=e.originalLength;const s=e.modifiedStart;let r=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(r=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new FT(n,o,s,r),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=t%2==0;if(e<0){return o===(i%2==0)?0:1}return o===((n-i-1)%2==0)?n-1:n-2}}function KT(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function jT(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function $T(e){return"boolean"==typeof e.collapsible}class qT{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new ie,this._onDidChangeCollapseState=new X,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new X,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new X,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=h.empty(),n={}){if(0===e.length)throw new OT(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,s){var r;void 0===n&&(n=h.empty()),void 0===s&&(s=null!==(r=o.diffDepth)&&void 0!==r?r:0);const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,n,o);const l=[...n],d=t[t.length-1],c=new UT({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,d),...l,...a.children.slice(d+i)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(c.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,o);const u=t.slice(0,-1),g=(t,i,n)=>{if(s>0)for(let r=0;r<n;r++)t--,i--,this.spliceSmart(e,[...u,t,0],Number.MAX_SAFE_INTEGER,l[i].children,o,s-1)};let m=Math.min(a.children.length,d+i),p=l.length;for(const f of c.changes.sort(((e,t)=>t.originalStart-e.originalStart)))g(m,p,m-(f.originalStart+f.originalLength)),m=f.originalStart,p=f.modifiedStart-d,this.spliceSimple([...u,m],f.originalLength,h.slice(l,p,p+f.modifiedLength),o);g(m,p,m)}spliceSimple(e,t,i=h.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:s}){const{parentNode:r,listIndex:a,revealed:l,visible:d}=this.getParentNodeWithListIndex(e),c=[],u=h.map(i,(e=>this.createTreeNode(e,r,r.visible?1:0,l,c,n))),g=e[e.length-1],m=r.children.length>0;let p=0;for(let h=g;h>=0&&h<r.children.length;h--){const e=r.children[h];if(e.visible){p=e.visibleChildIndex;break}}const f=[];let _=0,b=0;for(const h of u)f.push(h),b+=h.renderNodeCount,h.visible&&(h.visibleChildIndex=p+_++);const v=Ed(r.children,g,t,f);s?r.lastDiffIds?Ed(r.lastDiffIds,g,t,f.map((e=>s.getId(e.element).toString()))):r.lastDiffIds=r.children.map((e=>s.getId(e.element).toString())):r.lastDiffIds=void 0;let w=0;for(const h of v)h.visible&&w++;if(0!==w)for(let h=g+f.length;h<r.children.length;h++){const e=r.children[h];e.visible&&(e.visibleChildIndex-=w)}if(r.visibleChildrenCount+=_-w,l&&d){const e=v.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(r,b-e),this.list.splice(a,e,c)}if(v.length>0&&o){const e=t=>{o(t),t.children.forEach(e)};v.forEach(e)}const C=r.children.length>0;m!==C&&this.setCollapsible(e.slice(0,-1),C),this._onDidSplice.fire({insertedNodes:f,deletedNodes:v});let y=r;for(;y;){if(2===y.visibility){this.refilter();break}y=y.parent}}rerender(e){if(0===e.length)throw new OT(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,n)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!$T(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(n>-1){n=-1;break}n=e}}n>-1&&this._setCollapseState([...e,n],t)}return s}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const s=e.renderNodeCount,r=this.updateNodeAfterCollapseChange(e),a=s-(-1===t?0:1);return this.list.splice(t+1,a,r.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:($T(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!$T(t)&&t.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,n,o,s){const r={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(r,i);r.visibility=a,n&&o.push(r);const l=e.children||h.empty(),d=n&&0!==a&&!r.collapsed,c=h.map(l,(e=>this.createTreeNode(e,r,a,d,o,s)));let u=0,g=1;for(const h of c)r.children.push(h),g+=h.renderNodeCount,h.visible&&(h.visibleChildIndex=u++);return r.collapsible=r.collapsible||r.children.length>0,r.visibleChildrenCount=u,r.visible=2===a?u>0:1===a,r.visible?r.collapsed||(r.renderNodeCount=g):(r.renderNodeCount=0,n&&o.pop()),s&&s(r),r}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const s=i.length;e.renderNodeCount=e===this.root?0:1;let r=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const s of e.children)r=this._updateNodeAfterFilterChange(s,o,i,n&&!e.collapsed)||r,s.visible&&(s.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?r:1===o,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):KT(i)?(e.filterData=i.data,jT(i.visibility)):(e.filterData=void 0,jT(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new OT(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new OT(this.user,"Invalid tree location");const r=t.children[s];return{node:r,listIndex:i,revealed:n,visible:o&&r.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){const[s,...r]=e;if(s<0||s>t.children.length)throw new OT(this.user,"Invalid tree location");for(let a=0;a<s;a++)i+=t.children[a].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,0===r.length?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(r,t.children[s],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}}const GT=$n("tree-item-expanded",qn.chevronDown),ZT=$n("tree-filter-on-type-on",qn.listFilter),JT=$n("tree-filter-on-type-off",qn.listSelection),QT=$n("tree-filter-clear",qn.close),YT=$n("tree-item-loading",qn.loading);var XT,eM;class tM extends HI{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function iM(e){return e instanceof HI?new tM(e):e}class nM{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=v.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(iM(e),t)}onDragOver(e,t,i,n,o=!0){const s=this.dnd.onDragOver(iM(e),t&&t.element,i,n),r=this.autoExpandNode!==t;if(r&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return s;if(r&&"boolean"!=typeof s&&s.autoExpand&&(this.autoExpandDisposable=_t((()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof s||!s.accept||void 0===s.bubble||s.feedback){if(!o){return{accept:"boolean"==typeof s?s:s.accept,effect:"boolean"==typeof s?void 0:s.effect,feedback:[i]}}return s}if(1===s.bubble){const i=this.modelProvider(),o=i.getNodeLocation(t),s=i.getParentNodeLocation(o),r=i.getNode(s),a=s&&i.getListIndex(s);return this.onDragOver(e,r,a,n,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),d=a.getListIndex(l),c=a.getListRenderCount(l);return Object.assign(Object.assign({},s),{feedback:Sd(d,d+c)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(iM(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class oM{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}(eM=XT||(XT={})).None="none",eM.OnHover="onHover",eM.Always="always";class sM{constructor(e,t=[]){this._elements=t,this.onDidChange=Q.forEach(e,(e=>this._elements=e))}get elements(){return this._elements}}class rM{constructor(e,t,i,n,o={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=rM.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Rv,this.activeIndentNodes=new Set,this.indentGuidesDisposable=v.None,this.disposables=new b,this.templateId=e.templateId,this.updateOptions(o),Q.map(i,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=Qd(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==XT.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new b;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=sn(e,hn(".monaco-tl-row")),i=sn(t,hn(".monaco-tl-indent")),n=sn(t,hn(".monaco-tl-twistie")),o=sn(t,hn(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:v.None,templateData:s}}renderElement(e,t,i,n){"number"==typeof n&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));const o=rM.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,i),"number"==typeof n&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),"number"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...GT.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...GT.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(mi(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new b,n=this.modelProvider();let o=e;for(;;){const e=n.getNodeLocation(o),s=n.getParentNodeLocation(e);if(!s)break;const r=n.getNode(s),a=hn(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(r)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(r,a),i.add(_((()=>this.renderedIndentGuides.delete(r,a)))),o=r}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach((e=>{const n=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(n);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(o){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),p(this.disposables)}}rM.DefaultIndent=8;class aM{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new b,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;let n;if(n="boolean"==typeof i?i?1:0:KT(i)?jT(i.visibility):i,0===n)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:CD.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=Array.isArray(i)?i:[i];for(const o of n){const e=o&&o.toString();if(void 0===e)return{data:CD.Default,visibility:!0};const t=SD(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,!0);if(t)return this._matchCount++,1===n.length?{data:t,visibility:!0}:{data:{label:e,score:t},visibility:!0}}return this.tree.options.filterOnType?2:{data:CD.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){p(this.disposables)}}class lM{constructor(e,i,n,o,s){this.tree=e,this.view=n,this.filter=o,this.keyboardNavigationDelegate=s,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new X,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new X,this.enabledDisposables=new b,this.disposables=new b,this.domNode=hn(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(_i(this.domNode,"dragstart",(()=>this.onDragStart()))),this.messageDomNode=sn(n.getHTMLElement(),hn(".monaco-list-type-filter-message")),this.labelDomNode=sn(this.domNode,hn("span.label"));const r=sn(this.domNode,hn(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=sn(r,hn("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(_i(this.filterOnTypeDomNode,"input",(()=>this.onDidChangeFilterOnType()))),this.clearDomNode=sn(r,hn("button.clear"+QT.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=t("vs/base/browser/ui/tree/abstractTree","clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,i.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new xx(this.view.getHTMLElement(),"keydown")),t=Q.chain(e.event).filter((e=>!eT(e.target)||e.target===this.filterOnTypeDomNode)).filter((e=>"Dead"!==e.key&&!/^Media/.test(e.key))).map((e=>new Ye(e))).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter((()=>this.automaticKeyboardNavigation||this.triggered)).filter((e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(B?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey)).forEach((e=>{e.stopPropagation(),e.preventDefault()})).event,i=this.enabledDisposables.add(new xx(this.clearDomNode,"click"));Q.chain(Q.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(B?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(e=>!CD.isDefault(e.filterData)));const i=this.tree.getFocus();if(i.length>0){const e=i[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=Oi(e),i=e.clientWidth,n=i/2,o=this.domNode.clientWidth,s=new b;let r=this.positionClassName;const a=()=>{switch(r){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=i-o-6+"px"}},l=()=>{this.positionClassName=r,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",p(s)};a(),this.domNode.classList.remove(r),this.domNode.classList.add("dragging"),s.add(_((()=>this.domNode.classList.remove("dragging")))),s.add(_i(document,"dragover",(e=>(e=>{e.preventDefault();const i=e.clientX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),r=i<n?"nw":"ne",a()})(e)))),s.add(_i(this.domNode,"dragend",(()=>l()))),jx.CurrentDragAndDropData=new Kx("vscode-ui"),s.add(_((()=>jx.CurrentDragAndDropData=void 0)))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...JT.classNamesArray),this.filterOnTypeDomNode.classList.add(...ZT.classNamesArray),this.filterOnTypeDomNode.title=t("vs/base/browser/ui/tree/abstractTree","disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...ZT.classNamesArray),this.filterOnTypeDomNode.classList.add(...JT.classNamesArray),this.filterOnTypeDomNode.title=t("vs/base/browser/ui/tree/abstractTree","enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=t("vs/base/browser/ui/tree/abstractTree","empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=t("vs/base/browser/ui/tree/abstractTree","found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!CD.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),p(this.disposables)}}function dM(e){let t=IT.Unknown;return Ui(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=IT.Twistie:Ui(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=IT.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function cM(e,t){t(e),e.children.forEach((e=>cM(e,t)))}class hM{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new X,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var i;!(null===(i=t)||void 0===i?void 0:i.__forceEvent)&&ud(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach((e=>cM(e,i))),void this.set([...e.values()])}const i=new Set,n=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>cM(e,n)));const o=new Map,s=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>cM(e,s)));const r=[];for(const a of this.nodes){const e=this.identityProvider.getId(a.element).toString();if(i.has(e)){const t=o.get(e);t&&r.push(t)}else r.push(a)}if(this.nodes.length>0&&0===r.length){const e=this.getFirstViewElementWithTrait();e&&r.push(e)}this._set(r,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class uM extends dT{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(eT(e.browserEvent.target)||tT(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(o="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,o&&!n&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const i=this.tree.model,s=i.getNodeLocation(t),r=e.browserEvent.altKey;if(this.tree.setFocus([s]),i.setCollapsed(s,void 0,r),o&&n)return}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class gM extends bT{constructor(e,t,i,n,o,s,r,a){super(e,t,i,n,a),this.focusTrait=o,this.selectionTrait=s,this.anchorTrait=r}createMouseController(e){return new uM(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const n=[],o=[];let s;i.forEach(((t,i)=>{this.focusTrait.has(t)&&n.push(e+i),this.selectionTrait.has(t)&&o.push(e+i),this.anchorTrait.has(t)&&(s=e+i)})),n.length>0&&super.setFocus(wd([...super.getFocus(),...n])),o.length>0&&super.setSelection(wd([...super.getSelection(),...o])),"number"==typeof s&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class mM{constructor(e,t,i,n,o={}){this._options=o,this.eventBufferer=new ie,this.disposables=new b,this._onWillRefilter=new X,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new X;const s=new oM(i),r=new ne,a=new ne,l=new sM(a.event);this.renderers=n.map((e=>new rM(e,(()=>this.model),r.event,l,o)));for(let g of this.renderers)this.disposables.add(g);let d;var c,h;o.keyboardNavigationLabelProvider&&(d=new aM(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:d}),this.disposables.add(d)),this.focus=new hM((()=>this.view.getFocusedElements()[0]),o.identityProvider),this.selection=new hM((()=>this.view.getSelectedElements()[0]),o.identityProvider),this.anchor=new hM((()=>this.view.getAnchorElement()),o.identityProvider),this.view=new gM(e,t,s,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(c=()=>this.model,(h=o)&&Object.assign(Object.assign({},h),{identityProvider:h.identityProvider&&{getId:e=>h.identityProvider.getId(e.element)},dnd:h.dnd&&new nM(c,h.dnd),multipleSelectionController:h.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>h.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>h.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:h.accessibilityProvider&&Object.assign(Object.assign({},h.accessibilityProvider),{getSetSize(e){const t=c(),i=t.getNodeLocation(e),n=t.getParentNodeLocation(i);return t.getNode(n).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:h.accessibilityProvider&&h.accessibilityProvider.isChecked?e=>h.accessibilityProvider.isChecked(e.element):void 0,getRole:h.accessibilityProvider&&h.accessibilityProvider.getRole?e=>h.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>h.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>h.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:h.accessibilityProvider&&h.accessibilityProvider.getWidgetRole?()=>h.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:h.accessibilityProvider&&h.accessibilityProvider.getAriaLevel?e=>h.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:h.accessibilityProvider.getActiveDescendantId&&(e=>h.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:h.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},h.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>h.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:h.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,o),r.input=this.model.onDidChangeCollapseState;const u=Q.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}));if(u((()=>null),null,this.disposables),a.input=Q.chain(Q.any(u,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]})).event,!1!==o.keyboardSupport){const e=Q.chain(this.view.onKeyDown).filter((e=>!eT(e.target))).map((e=>new Ye(e)));e.filter((e=>15===e.keyCode)).on(this.onLeftArrow,this,this.disposables),e.filter((e=>17===e.keyCode)).on(this.onRightArrow,this,this.disposables),e.filter((e=>10===e.keyCode)).on(this.onSpace,this,this.disposables)}if(o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||nT;this.typeFilterController=new lM(this,this.model,this.view,d,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=Gi(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===XT.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Q.map(this.view.onMouseDblClick,dM)}get onPointer(){return Q.map(this.view.onPointer,dM)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===XT.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join("\n"),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map((e=>this.model.getNode(e)));this.selection.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map((e=>this.model.getNode(e)));this.focus.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const e=this.model.getParentNodeLocation(n);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){p(this.disposables),this.view.dispose()}}class pM{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new qT(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=h.empty(),i={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=h.empty(),i){const n=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{var t;if(null===e.element)return;const s=e;if(n.add(s.element),this.nodes.set(s.element,s),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();o.add(e),this.nodesByIdentity.set(e,s)}null===(t=i.onDidCreateNode)||void 0===t||t.call(i,s)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const s=e;if(n.has(s.element)||this.nodes.delete(s.element),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}null===(t=i.onDidDeleteNode)||void 0===t||t.call(i,s)}}))}preserveCollapseState(e=h.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),h.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const i="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,n=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new OT(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new OT(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new OT(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new OT(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function fM(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:h.map(h.from(e.children),fM),collapsible:e.collapsible,collapsed:e.collapsed}}function _M(e){const t=[e.element],i=e.incompressible||!1;let n,o;for(;[o,n]=h.consume(h.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:h.map(h.concat(o,n),_M),collapsible:e.collapsible,collapsed:e.collapsed}}function bM(e,t=0){let i;return i=t<e.element.elements.length-1?[bM(e,t+1)]:h.map(h.from(e.children),(e=>bM(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:i,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:i,collapsible:e.collapsible,collapsed:e.collapsed}}function vM(e){return bM(e,0)}function wM(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:h.map(h.from(e.children),(e=>wM(e,t,i)))})}class CM{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new pM(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=h.empty(),i){const n=i.diffIdentityProvider&&(o=i.diffIdentityProvider,{getId:e=>e.elements.map((e=>o.getId(e).toString())).join("\0")});var o;if(null===e){const e=h.map(t,this.enabled?_M:fM);return void this._setChildren(null,e,{diffIdentityProvider:n,diffDepth:1/0})}const s=this.nodes.get(e);if(!s)throw new Error("Unknown compressed tree node");const r=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),d=wM(vM(r),e,t),c=(this.enabled?_M:fM)(d),u=l.children.map((e=>e===r?c:e));this._setChildren(l.element,u,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=h.map(t,vM),n=h.map(i,e?_M:fM);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{for(const t of e.element.elements)n.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)n.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new OT(this.user,`Tree element not found: ${e}`);return t}}const yM=e=>e[e.length-1];class SM{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new SM(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class kM{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||yM;const n=e=>this.elementMapper(e.elements);this.nodeMapper=new PT((e=>new SM(n,e))),this.model=new CM(e,function(e,t){return{splice(i,n,o){t.splice(i,n,o.map((t=>e.map(t))))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},filter:t.filter&&{filter:(i,n)=>t.filter.filter(e(i),n)}})}(n,i))}get onDidSplice(){return Q.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return Q.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return Q.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}setChildren(e,t=h.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}class xM extends mM{constructor(e,t,i,n,o={}){super(e,t,i,n,o)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=h.empty(),i){this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new pM(e,t,i)}}class LM{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);s>3&&r&&Object.defineProperty(t,i,r)}([ew],LM.prototype,"compressedTreeNodeProvider",null);class DM extends xM{constructor(e,t,i,n,o={}){const s=()=>this;super(e,t,i,n.map((e=>new LM(s,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}(s,o))}setChildren(e,t=h.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new kM(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var EM=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function NM(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function IM(e,t){return!!t.parent&&(t.parent===e||IM(e,t.parent))}class TM{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new TM(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class MM{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...YT.classNamesArray),!0):(t.classList.remove(...YT.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function AM(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function RM(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class OM extends HI{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function PM(e){return e instanceof HI?new OM(e):e}class FM{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(PM(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(PM(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(PM(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function BM(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new FM(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function WM(e,t){t(e),e.children.forEach((e=>WM(e,t)))}class VM{constructor(e,t,i,n,o,s={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new X,this._onDidChangeNodeSlowState=new X,this.nodeMapper=new PT((e=>new TM(e))),this.disposables=new b,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=void 0!==s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,n,s),this.root=NM({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return Q.map(this.tree.onDidChangeFocus,AM)}get onDidChangeSelection(){return Q.map(this.tree.onDidChangeSelection,AM)}get onMouseDblClick(){return Q.map(this.tree.onMouseDblClick,RM)}get onPointer(){return Q.map(this.tree.onPointer,RM)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){const s=new oM(i),r=n.map((e=>new MM(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=BM(o)||{};return new xM(e,t,s,r,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return EM(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return EM(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new OT(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Q.toPromise(this._onDidRender.event));const s=this.getDataNode(e);if(yield this.refreshAndRenderNode(s,t,n,o),i)try{this.tree.rerender(s)}catch(r){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return EM(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new OT(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Q.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield Q.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield Q.toPromise(this._onDidRender.event)),n}))}setSelection(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new OT(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return EM(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)}))}refreshNode(e,t,i){return EM(this,void 0,void 0,(function*(){let n;return this.subTreeRefreshPromises.forEach(((o,s)=>{!n&&function(e,t){return e===t||IM(e,t)||IM(t,e)}(s,e)&&(n=o.then((()=>this.refreshNode(e,t,i))))})),n||this.doRefreshSubTree(e,t,i)}))}doRefreshSubTree(e,t,i){return EM(this,void 0,void 0,(function*(){let n;e.refreshPromise=new Promise((e=>n=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield kt.settled(o.map((e=>this.doRefreshSubTree(e,t,i))))}finally{n()}}))}doRefreshNode(e,t,i){return EM(this,void 0,void 0,(function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=ft(800);t.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),n=this.doGetChildren(e).finally((()=>t.cancel()))}else n=Promise.resolve(h.empty());try{const o=yield n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),r(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=ht((()=>EM(this,void 0,void 0,(function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(n))}setChildren(e,t,i,n){const o=[...t];if(0===e.children.length&&0===o.length)return[];const s=new Map,r=new Map;for(const d of e.children)if(s.set(d.element,d),this.identityProvider){const e=this.tree.isCollapsed(d);r.set(d.id,{node:d,collapsed:e})}const a=[],l=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=NM({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,a.push(i)),i}const l=this.identityProvider.getId(t).toString(),d=r.get(l);if(d){const e=d.node;return s.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?d.collapsed?(e.children.forEach((e=>WM(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const c=NM({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(c),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(c),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?a.push(c):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(c.collapsedByDefault=!1,a.push(c)),c}));for(const d of s.values())WM(d,(e=>this.nodes.delete(e.element)));for(const d of l)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t,i){const n=e.children.map((e=>this.asTreeElement(e,t))),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?h.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class HM{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new HM(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class zM{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...YT.classNamesArray),!0):(t.classList.remove(...YT.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=p(this.disposables)}}class UM extends VM{constructor(e,t,i,n,o,s,r={}){super(e,t,i,o,s,r),this.compressionDelegate=n,this.compressibleNodeMapper=new PT((e=>new HM(e))),this.filter=r.filter}createTree(e,t,i,n,o){const s=new oM(i),r=n.map((e=>new zM(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&BM(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(o)||{};return new DM(e,t,s,r,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),n=e=>{const t=new Set;for(const n of e){const e=this.tree.getCompressedTreeNode(n===this.root?null:n);if(e.element)for(const n of e.element.elements)t.add(i(n.element))}return t},o=n(this.tree.getSelection()),s=n(this.tree.getFocus());super.render(e,t);const r=this.getSelection();let a=!1;const l=this.getFocus();let d=!1;const c=e=>{const t=e.element;if(t)for(let n=0;n<t.elements.length;n++){const e=i(t.elements[n].element),c=t.elements[t.elements.length-1].element;o.has(e)&&-1===r.indexOf(c)&&(r.push(c),a=!0),s.has(e)&&-1===l.indexOf(c)&&(l.push(c),d=!0)}e.children.forEach(c)};c(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(r),d&&this.setFocus(l)}processChildren(e){return this.filter&&(e=h.filter(e,(e=>{const t=this.filter.filter(e,1),i="boolean"==typeof(n=t)?n?1:0:KT(n)?jT(n.visibility):jT(n);var n;if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i}))),super.processChildren(e)}}class KM extends mM{constructor(e,t,i,n,o,s={}){super(e,t,i,n,s),this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new pM(e,t,i)}}const jM=new fs("isWindows",F,t("isWindows","Whether the operating system is Windows"));function $M(e,t){const i=Object.create(null);for(let n in t){const o=t[n];o&&(i[n]=t_(o,e))}return i}function qM(e,t,i){function n(){const n=$M(e.getColorTheme(),t);"function"==typeof i?i(n):i.style(n)}return n(),e.onDidColorThemeChange(n)}function GM(e,t,i){return qM(t,Object.assign(Object.assign({},ZM),i||{}),e)}const ZM={listFocusBackground:qp,listFocusForeground:Gp,listFocusOutline:Zp,listActiveSelectionBackground:Jp,listActiveSelectionForeground:Qp,listActiveSelectionIconForeground:Yp,listFocusAndSelectionBackground:Jp,listFocusAndSelectionForeground:Qp,listInactiveSelectionBackground:Xp,listInactiveSelectionIconForeground:tf,listInactiveSelectionForeground:ef,listInactiveFocusBackground:nf,listInactiveFocusOutline:of,listHoverBackground:sf,listHoverForeground:rf,listDropBackground:af,listSelectionOutline:cm,listHoverOutline:cm,listFilterWidgetBackground:gf,listFilterWidgetOutline:mf,listFilterWidgetNoMatchesOutline:pf,listMatchesShadow:mm,treeIndentGuidesStroke:ff,tableColumnsBorder:_f},JM={shadowColor:mm,borderColor:yf,foregroundColor:Sf,backgroundColor:kf,selectionForegroundColor:xf,selectionBackgroundColor:Lf,selectionBorderColor:Df,separatorColor:Ef};var QM=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},YM=function(e,t){return function(i,n){t(i,n,e)}};const XM=Tn("listService");let eA=class{constructor(e){this._themeService=e,this.disposables=new b,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new cT(Gi(),"");this.disposables.add(GM(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),f(e.onDidFocus((()=>this._lastFocusedWidget=e)),_((()=>this.lists.splice(this.lists.indexOf(i),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==i)),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)})))}dispose(){this.disposables.dispose()}};eA=QM([YM(0,Ls)],eA);const tA=new fs("listFocus",!0),iA=new fs("listSupportsMultiselect",!0),nA=Jo.and(tA,Jo.not("inputFocus")),oA=new fs("listHasSelectionOrFocus",!1),sA=new fs("listDoubleSelection",!1),rA=new fs("listMultiSelection",!1),aA=new fs("listSelectionNavigation",!1);function lA(e,t){const i=e.createScoped(t.getHTMLElement());return tA.bindTo(i),i}const dA="workbench.list.horizontalScrolling",cA="workbench.tree.indent",hA="workbench.list.smoothScrolling",uA="workbench.list.mouseWheelScrollSensitivity",gA="workbench.list.fastScrollSensitivity",mA="workbench.tree.expandMode";function pA(e){return"alt"===e.getValue("workbench.list.multiSelectModifier")}class fA extends v{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=pA(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this.useAltAsMultipleSelectionModifier=pA(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:rT(e)}isSelectionRangeChangeEvent(e){return aT(e)}}function _A(e,t,i){var n;const o=new b;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>i.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(t.getValue(hA)),mouseWheelScrollSensitivity:t.getValue(uA),fastScrollSensitivity:t.getValue(gA),multipleSelectionController:null!==(n=e.multipleSelectionController)&&void 0!==n?n:o.add(new fA(t))}),o]}let bA=class extends bT{constructor(e,t,i,n,o,s,r,a,l,d){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(l.getValue(dA)),[h,u]=_A(o,l,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},$M(a.getColorTheme(),ZM)),h),{horizontalScrolling:c})),this.disposables.add(u),this.contextKeyService=lA(s,this),this.themeService=a,this.listSupportsMultiSelect=iA.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);aA.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=oA.bindTo(this.contextKeyService),this.listDoubleSelection=sA.bindTo(this.contextKeyService),this.listMultiSelection=rA.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=pA(l),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=pA(l));let t={};if(e.affectsConfiguration(dA)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(dA));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(hA)){const e=Boolean(l.getValue(hA));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(uA)){const e=l.getValue(uA);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(gA)){const e=l.getValue(gA);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new yA(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=GM(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};bA=QM([YM(5,_s),YM(6,XM),YM(7,Ls),YM(8,Du),YM(9,_E)],bA);let vA=class extends class{constructor(e,t,i,n,o={}){const s=()=>this.model,r=n.map((e=>new vT(e,s)));this.list=new bT(e,t,i,r,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new wT(e,t.accessibilityProvider)})}(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Q.map(this.list.onMouseDblClick,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onPointer(){return Q.map(this.list.onPointer,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onDidChangeSelection(){return Q.map(this.list.onDidChangeSelection,(({elements:e,indexes:t,browserEvent:i})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:i})))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Sd(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((e=>this.model.get(e)))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,i,n,o,s,r,a,l,d){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(l.getValue(dA)),[h,u]=_A(o,l,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},$M(a.getColorTheme(),ZM)),h),{horizontalScrolling:c})),this.disposables=new b,this.disposables.add(u),this.contextKeyService=lA(s,this),this.themeService=a,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=iA.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);aA.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=pA(l),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add(GM(this,a,o.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=pA(l));let t={};if(e.affectsConfiguration(dA)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(dA));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(hA)){const e=Boolean(l.getValue(hA));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(uA)){const e=l.getValue(uA);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(gA)){const e=l.getValue(gA);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new yA(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=GM(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};vA=QM([YM(5,_s),YM(6,XM),YM(7,Ls),YM(8,Du),YM(9,_E)],vA);let wA=class extends RT{constructor(e,t,i,n,o,s,r,a,l,d,c){const h=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(d.getValue(dA)),[u,g]=_A(s,d,c);super(e,t,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},$M(l.getColorTheme(),ZM)),u),{horizontalScrolling:h})),this.disposables=new b,this.disposables.add(g),this.contextKeyService=lA(r,this),this.themeService=l,this.listSupportsMultiSelect=iA.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport);aA.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=oA.bindTo(this.contextKeyService),this.listDoubleSelection=sA.bindTo(this.contextKeyService),this.listMultiSelection=rA.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=pA(d),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(d.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=pA(d));let t={};if(e.affectsConfiguration(dA)&&void 0===this.horizontalScrolling){const e=Boolean(d.getValue(dA));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(hA)){const e=Boolean(d.getValue(hA));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(uA)){const e=d.getValue(uA);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(gA)){const e=d.getValue(gA);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new SA(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=GM(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};wA=QM([YM(6,_s),YM(7,XM),YM(8,Ls),YM(9,Du),YM(10,_E)],wA);class CA extends v{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new X),this.onDidOpen=this._onDidOpen.event,this._register(Q.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode")),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode"))})))):this.openOnSingleClick=null===(i=null==t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!=typeof t.preserveFocus||t.preserveFocus,n="boolean"==typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,i,n,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,n,t)}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class yA extends CA{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class SA extends CA{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class kA extends CA{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function xA(e,t){let i=!1;return n=>{if(i)return i=!1,!1;const o=t.softDispatch(n,e);return o&&o.enterChord?(i=!0,!1):(i=!1,!0)}}let LA=class extends xM{constructor(e,t,i,n,o,s,r,a,l,d,c){const{options:h,getAutomaticKeyboardNavigation:u,disposable:g}=TA(t,o,s,l,d,c);super(e,t,i,n,h),this.disposables.add(g),this.internals=new MA(this,o,u,o.overrideStyles,s,r,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};LA=QM([YM(5,_s),YM(6,XM),YM(7,Ls),YM(8,Du),YM(9,_E),YM(10,qk)],LA);let DA=class extends DM{constructor(e,t,i,n,o,s,r,a,l,d,c){const{options:h,getAutomaticKeyboardNavigation:u,disposable:g}=TA(t,o,s,l,d,c);super(e,t,i,n,h),this.disposables.add(g),this.internals=new MA(this,o,u,o.overrideStyles,s,r,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};DA=QM([YM(5,_s),YM(6,XM),YM(7,Ls),YM(8,Du),YM(9,_E),YM(10,qk)],DA);let EA=class extends KM{constructor(e,t,i,n,o,s,r,a,l,d,c,h){const{options:u,getAutomaticKeyboardNavigation:g,disposable:m}=TA(t,s,r,d,c,h);super(e,t,i,n,o,u),this.disposables.add(m),this.internals=new MA(this,s,g,s.overrideStyles,r,a,l,d,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};EA=QM([YM(6,_s),YM(7,XM),YM(8,Ls),YM(9,Du),YM(10,_E),YM(11,qk)],EA);let NA=class extends VM{constructor(e,t,i,n,o,s,r,a,l,d,c,h){const{options:u,getAutomaticKeyboardNavigation:g,disposable:m}=TA(t,s,r,d,c,h);super(e,t,i,n,o,u),this.disposables.add(m),this.internals=new MA(this,s,g,s.overrideStyles,r,a,l,d,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};NA=QM([YM(6,_s),YM(7,XM),YM(8,Ls),YM(9,Du),YM(10,_E),YM(11,qk)],NA);let IA=class extends UM{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u){const{options:g,getAutomaticKeyboardNavigation:m,disposable:p}=TA(t,r,a,c,h,u);super(e,t,i,n,o,s,g),this.disposables.add(p),this.internals=new MA(this,r,m,r.overrideStyles,a,l,d,c,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function TA(e,t,i,n,o,s){var r;const a=()=>{let e=Boolean(i.getContextKeyValue("listAutomaticKeyboardNavigation"));return e&&(e=Boolean(n.getValue("workbench.list.automaticKeyboardNavigation"))),e},l=s.isScreenReaderOptimized(),d=t.simpleKeyboardNavigation||l?"simple":n.getValue("workbench.list.keyboardNavigation"),c=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(dA)),[h,u]=_A(t,n,o),g=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:u,options:Object.assign(Object.assign({keyboardSupport:!1},h),{indent:"number"==typeof n.getValue(cA)?n.getValue(cA):void 0,renderIndentGuides:n.getValue("workbench.tree.renderIndentGuides"),smoothScrolling:Boolean(n.getValue(hA)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:"simple"===d,filterOnType:"filter"===d,horizontalScrolling:c,keyboardNavigationEventFilter:xA(e,o),additionalScrollHeight:g,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(r=t.expandOnlyOnTwistieClick)&&void 0!==r?r:"doubleClick"===n.getValue(mA)})}}IA=QM([YM(7,_s),YM(8,XM),YM(9,Ls),YM(10,Du),YM(11,_E),YM(12,qk)],IA);let MA=class{constructor(e,t,i,n,o,s,r,a,l){this.tree=e,this.themeService=r,this.disposables=[],this.contextKeyService=lA(o,e),this.listSupportsMultiSelect=iA.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);aA.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=oA.bindTo(this.contextKeyService),this.hasDoubleSelection=sA.bindTo(this.contextKeyService),this.hasMultiSelection=rA.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=pA(a);const d=new Set;d.add("listAutomaticKeyboardNavigation");const c=()=>{const t=l.isScreenReaderOptimized()?"simple":a.getValue("workbench.list.keyboardNavigation");e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(n),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0)})),a.onDidChangeConfiguration((n=>{let o={};if(n.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=pA(a)),n.affectsConfiguration(cA)){const e=a.getValue(cA);o=Object.assign(Object.assign({},o),{indent:e})}if(n.affectsConfiguration("workbench.tree.renderIndentGuides")){const e=a.getValue("workbench.tree.renderIndentGuides");o=Object.assign(Object.assign({},o),{renderIndentGuides:e})}if(n.affectsConfiguration(hA)){const e=Boolean(a.getValue(hA));o=Object.assign(Object.assign({},o),{smoothScrolling:e})}if(n.affectsConfiguration("workbench.list.keyboardNavigation")&&c(),n.affectsConfiguration("workbench.list.automaticKeyboardNavigation")&&(o=Object.assign(Object.assign({},o),{automaticKeyboardNavigation:i()})),n.affectsConfiguration(dA)&&void 0===t.horizontalScrolling){const e=Boolean(a.getValue(dA));o=Object.assign(Object.assign({},o),{horizontalScrolling:e})}if(n.affectsConfiguration(mA)&&void 0===t.expandOnlyOnTwistieClick&&(o=Object.assign(Object.assign({},o),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(mA)})),n.affectsConfiguration(uA)){const e=a.getValue(uA);o=Object.assign(Object.assign({},o),{mouseWheelScrollSensitivity:e})}if(n.affectsConfiguration(gA)){const e=a.getValue(gA);o=Object.assign(Object.assign({},o),{fastScrollSensitivity:e})}Object.keys(o).length>0&&e.updateOptions(o)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(d)&&e.updateOptions({automaticKeyboardNavigation:i()})})),l.onDidChangeScreenReaderOptimized((()=>c()))),this.navigator=new kA(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){p(this.styler),this.styler=e?GM(this.tree,this.themeService,e):v.None}dispose(){this.disposables=p(this.disposables),p(this.styler),this.styler=void 0}};MA=QM([YM(4,_s),YM(5,XM),YM(6,Ls),YM(7,Du),YM(8,qk)],MA);Ss.as(pu).registerConfiguration({id:"workbench",order:7,title:t("vs/platform/list/browser/listService","workbenchConfigurationTitle","Workbench"),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[t("vs/platform/list/browser/listService","multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),t("vs/platform/list/browser/listService","multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:t("vs/platform/list/browser/listService",{key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:t("vs/platform/list/browser/listService",{key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[dA]:{type:"boolean",default:!1,description:t("vs/platform/list/browser/listService","horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[cA]:{type:"number",default:8,minimum:0,maximum:40,description:t("vs/platform/list/browser/listService","tree indent setting","Controls tree indentation in pixels.")},"workbench.tree.renderIndentGuides":{type:"string",enum:["none","onHover","always"],default:"onHover",description:t("vs/platform/list/browser/listService","render tree indent guides","Controls whether the tree should render indent guides.")},[hA]:{type:"boolean",default:!1,description:t("vs/platform/list/browser/listService","list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[uA]:{type:"number",default:1,description:t("vs/platform/list/browser/listService","Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[gA]:{type:"number",default:5,description:t("vs/platform/list/browser/listService","Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},"workbench.list.keyboardNavigation":{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[t("vs/platform/list/browser/listService","keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),t("vs/platform/list/browser/listService","keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),t("vs/platform/list/browser/listService","keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:t("vs/platform/list/browser/listService","keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},"workbench.list.automaticKeyboardNavigation":{type:"boolean",default:!0,markdownDescription:t("vs/platform/list/browser/listService","automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[mA]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:t("vs/platform/list/browser/listService","expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});var AA=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class RA{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=WN.nextId()}get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const i=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return i?t("vs/editor/contrib/gotoSymbol/referencesModel",{key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",qa(this.uri),this.range.startLineNumber,this.range.startColumn,i.value):t("vs/editor/contrib/gotoSymbol/referencesModel","aria.oneReference","symbol in {0} on line {1} at column {2}",qa(this.uri),this.range.startLineNumber,this.range.startColumn)}}class OA{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:n,startColumn:o,endLineNumber:s,endColumn:r}=e,a=i.getWordUntilPosition({lineNumber:n,column:o-t}),l=new br(n,a.startColumn,n,o),d=new br(s,r,s,1073741824),c=i.getValueInRange(l).replace(/^\s+/,""),h=i.getValueInRange(e);return{value:c+h+i.getValueInRange(d).replace(/\s+$/,""),highlight:{start:c.length,end:c.length+h.length}}}}class PA{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Gd}dispose(){p(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?t("vs/editor/contrib/gotoSymbol/referencesModel","aria.fileReferences.1","1 symbol in {0}, full path {1}",qa(this.uri),this.uri.fsPath):t("vs/editor/contrib/gotoSymbol/referencesModel","aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,qa(this.uri),this.uri.fsPath)}resolve(e){return AA(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(let i of this.children)if(!this._previews.has(i.uri))try{const t=yield e.createModelReference(i.uri);this._previews.set(i.uri,new OA(t))}catch(t){n(t)}return this}))}}class FA{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new X,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;let n;e.sort(FA._compareReferences);for(let o of e)if(n&&Ka.isEqual(n.uri,o.uri,!0)||(n=new PA(this,o.uri),this.groups.push(n)),0===n.children.length||0!==FA._compareReferences(o,n.children[n.children.length-1])){const e=new RA(i===o,n,o,(e=>this._onDidChangeReferenceRange.fire(e)));this.references.push(e),n.children.push(e)}}dispose(){p(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new FA(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?t("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.0","No results found"):1===this.references.length?t("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?t("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):t("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,n=i.children.indexOf(e),o=i.children.length,s=i.parent.groups.length;return 1===s||t&&n+1<o||!t&&n>0?(n=t?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%s,i.parent.groups[n].children[0]):(n=(n+s-1)%s,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){const i=this.references.map(((i,n)=>({idx:n,prefixLen:Co(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)}))).sort(((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0))[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&br.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Ka.compare(e.uri,t.uri)||br.compareRangesUsingStarts(e.range,t.range)}}const BA={badgeBackground:Yu.fromHex("#4D4D4D"),badgeForeground:Yu.fromHex("#FFFFFF")};class WA{constructor(e,t){this.count=0,this.options=t||Object.create(null),na(this.options,BA,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=sn(e,hn(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=eo(this.countFormat,this.count),this.element.title=eo(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}class VA{constructor(e,t){this.supportIcons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=VA.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&oa(this.highlights,t)||(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const n=this.text.substring(t,i.start);e.push(hn("span",void 0,...this.supportIcons?uN(n):[n])),t=i.end}const n=this.text.substring(i.start,i.end),o=hn("span.highlight",void 0,...this.supportIcons?uN(n):[n]);i.extraClasses&&o.classList.add(i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(hn("span",void 0,...this.supportIcons?uN(i):[i]))}rn(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,((e,o)=>{n="\r\n"===e?-1:0,o+=i;for(const i of t)i.end<=o||(i.start>=o&&(i.start+=n),i.end>=o&&(i.end+=n));return i+=n,"⏎"}))}}var HA=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class zA{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,i){var n;return HA(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(void 0===e||_e(e)||e instanceof HTMLElement)o=e;else if(Le(e.markdown)){this._hoverWidget||this.show(t("iconLabel.loading","Loading..."),i),this._cancellationTokenSource=new dt;const n=this._cancellationTokenSource.token;if(o=yield e.markdown(n),this.isDisposed||n.isCancellationRequested)return}else o=null!==(n=e.markdown)&&void 0!==n?n:e.markdownNotSupportedFallback;this.show(o,i)}))}show(e,t){const i=this._hoverWidget;if(this.hasContent(e)){const n={content:e,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i};this._hoverWidget=this.hoverDelegate.showHover(n,t)}null==i||i.dispose()}hasContent(e){return!!e&&(!PD(e)||!!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}class UA{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class KA extends v{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new UA(sn(e,hn(".monaco-icon-label")))),this.labelContainer=sn(this.domNode.element,hn(".monaco-icon-label-container"));const i=sn(this.labelContainer,hn("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new UA(sn(this.labelContainer,hn("span.monaco-icon-description-container")))),(null==t?void 0:t.supportHighlights)||(null==t?void 0:t.supportIcons)?this.nameNode=new $A(i,!!t.supportIcons):this.nameNode=new jA(i),(null==t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new VA(sn(this.descriptionContainer.element,hn("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new UA(sn(this.descriptionContainer.element,hn("span.label-description")))),this.hoverDelegate=null==t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover((null==i?void 0:i.descriptionTitle)?this.labelContainer:this.element,null==i?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof VA?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==i?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==i?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const i=function(e,t,i){let n,o;const s=(t,i)=>{var s;t&&(null==o||o.dispose(),o=void 0),i&&(null==n||n.dispose(),n=void 0),null===(s=e.onDidHideHover)||void 0===s||s.call(e)},r=(n,s,r)=>new vt((()=>HA(this,void 0,void 0,(function*(){o&&!o.isDisposed||(o=new zA(e,r||t,n>0),yield o.update(i,s))}))),n),a=_i(t,en.MOUSE_OVER,(()=>{if(n)return;const i=new b;i.add(_i(t,en.MOUSE_LEAVE,(e=>s(!1,e.fromElement===t)),!0)),i.add(_i(t,en.MOUSE_DOWN,(()=>s(!0,!0)),!0));const o={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>o.x=e.x+10;i.add(_i(t,en.MOUSE_MOVE,e,!0))}i.add(r(e.delay,!1,o)),n=i}),!0);return{show:e=>{s(!1,!0),r(0,e)},hide:()=>{s(!0,!0)},update:e=>HA(this,void 0,void 0,(function*(){i=e,yield null==o?void 0:o.update(i)})),dispose:()=>{a.dispose(),s(!0,!0)}}}(this.hoverDelegate,e,t);i&&this.customHovers.set(e,i)}else!function(e,t){_e(t)?e.title=t:(null==t?void 0:t.markdownNotSupportedFallback)?e.title=t.markdownNotSupportedFallback:e.removeAttribute("title")}(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class jA{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!oa(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=sn(this.container,hn("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const n=e[i],o=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${i}`;sn(this.container,hn("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&sn(this.container,hn("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class $A{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!oa(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new VA(sn(this.container,hn("a.label-name",{id:null==t?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(null==t?void 0:t.separator)||"/",n=function(e,t,i){if(!i)return;let n=0;return e.map((e=>{const o={start:n,end:n+e.length},s=i.map((e=>MI.intersect(o,e))).filter((e=>!MI.isEmpty(e))).map((({start:e,end:t})=>({start:e-n,end:t-n})));return n=o.end+t.length,s}))}(e,i,null==t?void 0:t.matches);for(let o=0;o<e.length;o++){const s=e[o],r=n?n[o]:void 0,a=hn("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${o}`,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new VA(sn(this.container,a),this.supportIcons).set(s,r,void 0,null==t?void 0:t.labelEscapeNewLines),o<e.length-1&&sn(a,hn("span.label-separator",void 0,i))}}}}function qA(e){if(!e)return;"string"==typeof e&&(e=Yt.file(e));const t=qa(e)||(e.scheme===di.file?e.fsPath:e.path);return F&&function(e){const t=Wt(e);return F?!(e.length>3)&&za(t)&&(2===e.length||92===t.charCodeAt(2)):t===Bt.sep}(t)?GA(t):t}function GA(e){return za(e)?e.charAt(0).toUpperCase()+e.slice(1):e}const ZA=Tn("labelService");var JA=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},QA=function(e,t){return function(i,n){t(i,n,e)}};let YA=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof FA||e instanceof PA}getChildren(e){if(e instanceof FA)return e.groups;if(e instanceof PA)return e.resolve(this._resolverService).then((e=>e.children));throw new Error("bad tree")}};YA=JA([QA(0,Fn)],YA);class XA{getHeight(){return 23}getTemplateId(e){return e instanceof PA?nR.id:sR.id}}let eR=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof RA){const i=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(i)return i.value}return qa(e.uri)}};eR=JA([QA(0,_E)],eR);class tR{getId(e){return e instanceof RA?e.id:e.uri}}let iR=class extends v{constructor(e,t,i){super(),this._uriLabel=t;const n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new KA(n,{supportHighlights:!0})),this.badge=new WA(sn(n,hn(".count"))),this._register(function(e,t,i){return qM(t,{badgeBackground:(null==i?void 0:i.badgeBackground)||Om,badgeForeground:(null==i?void 0:i.badgeForeground)||Pm,badgeBorder:dm},e)}(this.badge,i)),e.appendChild(n)}set(e,i){let n=Ga(e.uri);this.file.setLabel(qA(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:i});const o=e.children.length;this.badge.setCount(o),o>1?this.badge.setTitleFormat(t("vs/editor/contrib/gotoSymbol/peek/referencesTree","referencesCount","{0} references",o)):this.badge.setTitleFormat(t("vs/editor/contrib/gotoSymbol/peek/referencesTree","referenceCount","{0} reference",o))}};iR=JA([QA(1,ZA),QA(2,Ls)],iR);let nR=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance(iR,e)}renderElement(e,t,i){i.set(e.element,cD(e.filterData))}disposeTemplate(e){e.dispose()}};nR.id="FileReferencesRenderer",nR=JA([QA(0,Nn)],nR);class oR{constructor(e){this.label=new VA(e,!1)}set(e,t){var i;const n=null===(i=e.parent.getPreview(e))||void 0===i?void 0:i.preview(e.range);if(n&&n.value){const{value:e,highlight:i}=n;t&&!CD.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,cD(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[i]))}else this.label.set(`${qa(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class sR{constructor(){this.templateId=sR.id}renderTemplate(e){return new oR(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}sR.id="OneReferenceRenderer";class rR{getWidgetAriaLabel(){return t("vs/editor/contrib/gotoSymbol/peek/referencesTree","treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var aR=function(e,t){return function(i,n){t(i,n,e)}},lR=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class dR{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new b,this._callOnModelChange=new b,this._callOnDispose.add(this._editor.onDidChangeModel((()=>this._onModelChanged()))),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((()=>this._onDecorationChanged())));const t=[],i=[];for(let o=0,s=e.children.length;o<s;o++){let n=e.children[o];this._decorationIgnoreSet.has(n.id)||n.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:n.range,options:dR.DecorationOptions}),i.push(o))}const n=this._editor.deltaDecorations([],t);for(let o=0;o<n.length;o++)this._decorations.set(n[o],e.children[i[o]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[i,n]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let s=!1;if(!br.equalsRange(o,n.range)){if(br.spansMultipleLines(o))s=!0;else{n.range.endColumn-n.range.startColumn!==o.endColumn-o.startColumn&&(s=!0)}s?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o}}for(let t=0,i=e.length;t<i;t++)this._decorations.delete(e[t]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}dR.DecorationOptions=vb.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class cR extends NA{}let hR=class extends mI{constructor(e,t,i,n,o,s,r,a,l,d,c,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=s,this._peekViewService=r,this._uriLabel=a,this._undoRedoService=l,this._keybindingService=d,this._modeService=c,this._languageConfigurationService=h,this._disposeOnNewModel=new b,this._callOnDispose=new b,this._onDidSelectReference=new X,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new Ai(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),p(this._preview),p(this._previewNotAvailableMessage),p(this._tree),p(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(bI)||Yu.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(pI)||Yu.transparent,primaryHeadingColor:e.getColor(fI),secondaryHeadingColor:e.getColor(_I)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=sn(e,hn("div.messages")),gn(this._messageContainer),this._splitView=new NT(e,{orientation:1}),this._previewContainer=sn(e,hn("div.preview.inline"));this._preview=this._instantiationService.createInstance(FN,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),gn(this._previewContainer),this._previewNotAvailableMessage=new db(t("vs/editor/contrib/gotoSymbol/peek/referencesWidget","missingPreviewMessage","no preview available"),db.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=sn(e,hn("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new rR,keyboardNavigationLabelProvider:this._instantiationService.createInstance(eR),identityProvider:new tR,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:vI}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(vi(this._treeContainer,"keydown",(e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(cR,"ReferencesWidget",this._treeContainer,new XA,[this._instantiationService.createInstance(nR),this._instantiationService.createInstance(sR)],this._instantiationService.createInstance(YA),i),this._splitView.addView({onDidChange:Q.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},DT.Distribute),this._splitView.addView({onDidChange:Q.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${e}px`,this._tree.layout(this._dim.height,e)}},DT.Distribute),this._disposables.add(this._splitView.onDidSashChange((()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)}),void 0));let n=(e,t)=>{e instanceof RA&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen((e=>{e.sideBySide?n(e.element,"side"):e.editorOptions.pinned?n(e.element,"goto"):n(e.element,"show")})),gn(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new Ai(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then((()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))}))}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=t("vs/editor/contrib/gotoSymbol/peek/referencesWidget","noResults","No results"),un(this._messageContainer),Promise.resolve(void 0)):(gn(this._messageContainer),this._decorationsManager=new dR(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((e=>this._tree.rerender(e)))),this._disposeOnNewModel.add(this._preview.onMouseDown((e=>{const{event:t,target:i}=e;if(2!==t.detail)return;const n=this._getFocusedReference();n&&this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),un(this._treeContainer),un(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof RA?e:e instanceof PA&&e.children.length>0?e.children[0]:void 0}revealReference(e){return lR(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,i){return lR(this,void 0,void 0,(function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==di.inMemory?this.setTitle($a(e.uri),this._uriLabel.getUriLabel(Ga(e.uri))):this.setTitle(t("vs/editor/contrib/gotoSymbol/peek/referencesWidget","peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(i&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const o=yield n;if(!this._model)return void o.dispose();p(this._previewModelReference);const s=o.object;if(s){const t=this._preview.getModel()===s.textEditorModel?0:1,i=br.lift(e.range).collapseToStart();this._previewModelReference=o,this._preview.setModel(s.textEditorModel),this._preview.setSelection(i),this._preview.revealRangeInCenter(i,t)}else this._preview.setModel(this._previewNotAvailableMessage),o.dispose()}))}};hR=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([aR(3,Ls),aR(4,Fn),aR(5,Nn),aR(6,dI),aR(7,ZA),aR(8,tg),aR(9,_E),aR(10,Mu),aR(11,Bu)],hR),As(((e,t)=>{const i=e.getColor(LI);i&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${i}; }`);const n=e.getColor(DI);n&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${n}; }`);const o=e.getColor(EI);o&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${o}; box-sizing: border-box; }`);const s=e.getColor(cm);s&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${s}; box-sizing: border-box; }`);const r=e.getColor(vI);r&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${r}; }`);const a=e.getColor(wI);a&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${a}; }`);const l=e.getColor(CI);l&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${l}; }`);const d=e.getColor(yI);d&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${d}; }`);const c=e.getColor(SI);c&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${c} !important; }`);const h=e.getColor(kI);h&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: ${h};}`);const u=e.getColor(xI);u&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: ${u};}`)}));var uR=function(e,t){return function(i,n){t(i,n,e)}},gR=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const mR=new fs("referenceSearchVisible",!1,t("vs/editor/contrib/gotoSymbol/peek/referencesController","referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let pR=class e{constructor(e,t,i,n,o,s,r,a){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=s,this._storageService=r,this._configurationService=a,this._disposables=new b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=mR.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,i,n){let o;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&e.containsPosition(o))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>{this.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((()=>{this._ignoreModelChangeEvent||this.closeWidget()})));const s="peekViewLayout",r=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(n){}return{ratio:t||.7,heightInLines:i||18}}}.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(hR,this._editor,this._defaultTreeKeyboardSupport,r),this._widget.setTitle(t("vs/editor/contrib/gotoSymbol/peek/referencesController","labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((()=>{i.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((e=>{let{element:t,kind:i}=e;if(t)switch(i){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":n?this._gotoReference(t):this.openReference(t,!1,!0)}})));const a=++this._requestIdPool;i.then((i=>{var n;if(a===this._requestIdPool&&this._widget)return null===(n=this._model)||void 0===n||n.dispose(),this._model=i,this._widget.setModel(this._model).then((()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(t("vs/editor/contrib/gotoSymbol/peek/referencesController","metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let i=this._editor.getModel().uri,n=new Rn(e.startLineNumber,e.startColumn),o=this._model.nearestReference(i,n);if(o)return this._widget.setSelection(o).then((()=>{this._widget&&"editor"===this._editor.getOption(76)&&this._widget.focusOnPreviewEditor()}))}}));i.dispose()}),(e=>{this._notificationService.error(e)}))}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return gR(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),o?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()}))}revealReference(e){return gR(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){var t,i;null===(t=this._widget)||void 0===t||t.dispose(),null===(i=this._model)||void 0===i||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const i=br.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then((t=>{var n;if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(i),this._widget.focusOnReferenceTree();else{const o=e.get(t),s=this._model.clone();this.closeWidget(),t.focus(),o.toggleWidget(i,ht((e=>Promise.resolve(s))),null!==(n=this._peekMode)&&void 0!==n&&n)}else this.closeWidget()}),(e=>{this._ignoreModelChangeEvent=!1,n(e)}))}openReference(e,t,i){t||this.closeWidget();const{uri:n,range:o}=e;this._editorService.openCodeEditor({resource:n,options:{selection:o,pinned:i}},this._editor,t)}};function fR(e,t){const i=function(e){let t=e.get(An).getFocusedCodeEditor();return t instanceof FN?t.getParentEditor():t}(e);if(!i)return;let n=pR.get(i);n&&t(n)}pR.ID="editor.contrib.referencesController",pR=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([uR(2,_s),uR(3,An),uR(4,$k),uR(5,Nn),uR(6,nN),uR(7,Du)],pR),Us.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Ke(2089,60),when:Jo.or(mR,cI.inPeekEditor),handler(e){fR(e,(e=>{e.changeFocusBetweenPreviewAndReferences()}))}}),Us.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Jo.or(mR,cI.inPeekEditor),handler(e){fR(e,(e=>{e.goToNextOrPreviousReference(!0)}))}}),Us.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Jo.or(mR,cI.inPeekEditor),handler(e){fR(e,(e=>{e.goToNextOrPreviousReference(!1)}))}}),Qn.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Qn.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Qn.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Qn.registerCommand("closeReferenceSearch",(e=>fR(e,(e=>e.closeWidget())))),Us.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Jo.and(cI.inPeekEditor,Jo.not("config.editor.stablePeek"))}),Us.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Jo.and(mR,Jo.not("config.editor.stablePeek"))}),Us.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Jo.and(mR,nA),handler(e){var t;const i=null===(t=e.get(XM).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof RA&&fR(e,(e=>e.revealReference(i[0])))}}),Us.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Jo.and(mR,nA),handler(e){var t;const i=null===(t=e.get(XM).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof RA&&fR(e,(e=>e.openReference(i[0],!0,!0)))}}),Qn.registerCommand("openReference",(e=>{var t;const i=null===(t=e.get(XM).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof RA&&fR(e,(e=>e.openReference(i[0],!1,!0)))}));var _R=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},bR=function(e,t){return function(i,n){t(i,n,e)}};const vR=new fs("hasSymbols",!1,t("vs/editor/contrib/gotoSymbol/symbolNavigation","hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),wR=Tn("ISymbolNavigationService");let CR=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=vR.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new yR(this._editorService),n=i.onDidChange((e=>{if(this._ignoreEditorChange)return;const i=this._editorService.getActiveCodeEditor();if(!i)return;const n=i.getModel(),o=i.getPosition();if(!n||!o)return;let s=!1,r=!1;for(const a of t.references)if(ja(a.uri,n.uri))s=!0,r=r||br.containsPosition(a.range,o);else if(s)break;s&&r||this.reset()}));this._currentState=f(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:br.collapseToStart(t.range),selectionRevealType:3}},e).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const i=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=i?t("vs/editor/contrib/gotoSymbol/symbolNavigation","location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,i.getLabel()):t("vs/editor/contrib/gotoSymbol/symbolNavigation","location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};CR=_R([bR(0,_s),bR(1,An),bR(2,$k),bR(3,_E)],CR),Ou(wR,CR,!0),rr(new class extends ir{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:vR,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(wR).revealNext(t)}}),Us.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:vR,primary:9,handler(e){e.get(wR).reset()}});let yR=class{constructor(e){this._listener=new Map,this._disposables=new b,this._onDidChange=new X,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),p(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,f(e.onDidChangeCursorPosition((t=>this._onDidChange.fire({editor:e}))),e.onDidChangeModelContent((t=>this._onDidChange.fire({editor:e})))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};yR=_R([bR(0,An)],yR);var SR=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function kR(e,t,i,n){const s=i.ordered(e).map((i=>Promise.resolve(n(i,e,t)).then(void 0,(e=>{o(e)}))));return Promise.all(s).then((e=>{const t=[];for(let i of e)Array.isArray(i)?t.push(...i):i&&t.push(i);return t}))}function xR(e,t,i){return kR(e,t,$c,((e,t,n)=>e.provideDefinition(t,n,i)))}function LR(e,t,i){return kR(e,t,qc,((e,t,n)=>e.provideDeclaration(t,n,i)))}function DR(e,t,i){return kR(e,t,Gc,((e,t,n)=>e.provideImplementation(t,n,i)))}function ER(e,t,i){return kR(e,t,Zc,((e,t,n)=>e.provideTypeDefinition(t,n,i)))}function NR(e,t,i,n){return kR(e,t,Fc,((e,t,o)=>SR(this,void 0,void 0,(function*(){const s=yield e.provideReferences(t,o,{includeDeclaration:!0},n);if(!i||!s||2!==s.length)return s;const r=yield e.provideReferences(t,o,{includeDeclaration:!1},n);return r&&1===r.length?r:s}))))}function IR(e){return SR(this,void 0,void 0,(function*(){const t=yield e(),i=new FA(t,""),n=i.references.map((e=>e.link));return i.dispose(),n}))}sr("_executeDefinitionProvider",((e,t)=>IR((()=>xR(e,t,rt.None))))),sr("_executeDeclarationProvider",((e,t)=>IR((()=>LR(e,t,rt.None))))),sr("_executeImplementationProvider",((e,t)=>IR((()=>DR(e,t,rt.None))))),sr("_executeTypeDefinitionProvider",((e,t)=>IR((()=>ER(e,t,rt.None))))),sr("_executeReferenceProvider",((e,t)=>IR((()=>NR(e,t,!1,rt.None)))));var TR,MR,AR,RR,OR,PR,FR,BR,WR=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};Ws.appendMenuItem(Fs.EditorContext,{submenu:Fs.EditorContextPeek,title:t("vs/editor/contrib/gotoSymbol/goToCommands","peek.submenu","Peek"),group:"navigation",order:100});const VR=new Set;function HR(e){const t=new e;return dr(t),VR.add(t.id),t}class zR extends nr{constructor(e,t){super(t),this._configuration=e}run(e,t){if(!t.hasModel())return Promise.resolve(void 0);const i=e.get($k),n=e.get(An),o=e.get(_L),s=e.get(wR),r=t.getModel(),a=t.getPosition(),l=new Vx(t,5),d=ut(this._getLocationModel(r,a,l.token),l.token).then((e=>WR(this,void 0,void 0,(function*(){if(!e||l.token.isCancellationRequested)return;let i;if(kn(e.ariaMessage),e.referenceAt(r.uri,a)){const e=this._getAlternativeCommand(t);e!==this.id&&VR.has(e)&&(i=t.getAction(e))}const o=e.references.length;if(0===o){if(!this._configuration.muteMessage){const e=r.getWordAtPosition(a);pE.get(t).showMessage(this._getNoResultFoundMessage(e),a)}}else{if(1!==o||!i)return this._onResult(n,s,t,e);i.run()}}))),(e=>{i.error(e)})).finally((()=>{l.dispose()}));return o.showWhile(d,250),d}_onResult(e,t,i,n){return WR(this,void 0,void 0,(function*(){const o=this._getGoToPreference(i);if(i instanceof FN||!(this._configuration.openInPeek||"peek"===o&&n.references.length>1)){const s=n.firstReference(),r=n.references.length>1&&"gotoAndPeek"===o,a=yield this._openReference(i,e,s,this._configuration.openToSide,!r);r&&a?this._openInPeek(a,n):n.dispose(),"goto"===o&&t.put(s)}else this._openInPeek(i,n)}))}_openReference(e,t,i,n,o){return WR(this,void 0,void 0,(function*(){let s;var r;if((r=i)&&Yt.isUri(r.uri)&&br.isIRange(r.range)&&(br.isIRange(r.originSelectionRange)||br.isIRange(r.targetSelectionRange))&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;const a=yield t.openCodeEditor({resource:i.uri,options:{selection:br.collapseToStart(s),selectionRevealType:3}},e,n);if(a){if(o){const e=a.getModel(),t=a.deltaDecorations([],[{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout((()=>{a.getModel()===e&&a.deltaDecorations(t,[])}),350)}return a}}))}_openInPeek(e,t){let i=pR.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),ht((e=>Promise.resolve(t))),this._configuration.openInPeek):t.dispose()}}class UR extends zR{_getLocationModel(e,i,n){return WR(this,void 0,void 0,(function*(){return new FA(yield xR(e,i,n),t("vs/editor/contrib/gotoSymbol/goToCommands","def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?t("vs/editor/contrib/gotoSymbol/goToCommands","noResultWord","No definition found for '{0}'",e.word):t("vs/editor/contrib/gotoSymbol/goToCommands","generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleDefinitions}}const KR=H&&!pe?2118:70;HR(((TR=class e extends UR{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Jo.and(av.hasDefinitionProvider,av.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:av.editorTextFocus,primary:KR,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),Qn.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",TR)),HR(((MR=class e extends UR{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Jo.and(av.hasDefinitionProvider,av.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,KR),weight:100}}),Qn.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",MR)),HR(((AR=class e extends UR{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Jo.and(av.hasDefinitionProvider,cI.notInPeekEditor,av.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:av.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Fs.EditorContextPeek,group:"peek",order:2}}),Qn.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",AR));class jR extends zR{_getLocationModel(e,i,n){return WR(this,void 0,void 0,(function*(){return new FA(yield LR(e,i,n),t("vs/editor/contrib/gotoSymbol/goToCommands","decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?t("vs/editor/contrib/gotoSymbol/goToCommands","decl.noResultWord","No declaration found for '{0}'",e.word):t("vs/editor/contrib/gotoSymbol/goToCommands","decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(50).multipleDeclarations}}HR(((RR=class e extends jR{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Jo.and(av.hasDeclarationProvider,av.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?t("vs/editor/contrib/gotoSymbol/goToCommands","decl.noResultWord","No declaration found for '{0}'",e.word):t("vs/editor/contrib/gotoSymbol/goToCommands","decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",RR)),HR(class extends jR{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Jo.and(av.hasDeclarationProvider,cI.notInPeekEditor,av.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Fs.EditorContextPeek,group:"peek",order:3}})}});class $R extends zR{_getLocationModel(e,i,n){return WR(this,void 0,void 0,(function*(){return new FA(yield ER(e,i,n),t("vs/editor/contrib/gotoSymbol/goToCommands","typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?t("vs/editor/contrib/gotoSymbol/goToCommands","goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):t("vs/editor/contrib/gotoSymbol/goToCommands","goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleTypeDefinitions}}HR(((OR=class e extends $R{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Jo.and(av.hasTypeDefinitionProvider,av.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:av.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",OR)),HR(((PR=class e extends $R{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Jo.and(av.hasTypeDefinitionProvider,cI.notInPeekEditor,av.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Fs.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",PR));class qR extends zR{_getLocationModel(e,i,n){return WR(this,void 0,void 0,(function*(){return new FA(yield DR(e,i,n),t("vs/editor/contrib/gotoSymbol/goToCommands","impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?t("vs/editor/contrib/gotoSymbol/goToCommands","goToImplementation.noResultWord","No implementation found for '{0}'",e.word):t("vs/editor/contrib/gotoSymbol/goToCommands","goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(50).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(50).multipleImplementations}}HR(((FR=class e extends qR{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Jo.and(av.hasImplementationProvider,av.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:av.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",FR)),HR(((BR=class e extends qR{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:t("vs/editor/contrib/gotoSymbol/goToCommands","actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Jo.and(av.hasImplementationProvider,cI.notInPeekEditor,av.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:av.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Fs.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",BR));class GR extends zR{_getNoResultFoundMessage(e){return e?t("vs/editor/contrib/gotoSymbol/goToCommands","references.no","No references found for '{0}'",e.word):t("vs/editor/contrib/gotoSymbol/goToCommands","references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(50).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(50).multipleReferences}}HR(class extends GR{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:t("vs/editor/contrib/gotoSymbol/goToCommands","goToReferences.label","Go to References"),alias:"Go to References",precondition:Jo.and(av.hasReferenceProvider,cI.notInPeekEditor,av.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:av.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,i,n){return WR(this,void 0,void 0,(function*(){return new FA(yield NR(e,i,!0,n),t("vs/editor/contrib/gotoSymbol/goToCommands","ref.title","References"))}))}}),HR(class extends GR{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:t("vs/editor/contrib/gotoSymbol/goToCommands","references.action.label","Peek References"),alias:"Peek References",precondition:Jo.and(av.hasReferenceProvider,cI.notInPeekEditor,av.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Fs.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,i,n){return WR(this,void 0,void 0,(function*(){return new FA(yield NR(e,i,!1,n),t("vs/editor/contrib/gotoSymbol/goToCommands","ref.title","References"))}))}});class ZR extends zR{constructor(e,i,n){super(e,{id:"editor.action.goToLocation",label:t("vs/editor/contrib/gotoSymbol/goToCommands","label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Jo.and(cI.notInPeekEditor,av.isInWalkThroughSnippet.toNegated())}),this._references=i,this._gotoMultipleBehaviour=n}_getLocationModel(e,i,n){return WR(this,void 0,void 0,(function*(){return new FA(this._references,t("vs/editor/contrib/gotoSymbol/goToCommands","generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&t("vs/editor/contrib/gotoSymbol/goToCommands","generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}Qn.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Yt},{name:"position",description:"The position at which to start",constraint:Rn.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,i,n,o,s,r)=>WR(void 0,void 0,void 0,(function*(){ke(Yt.isUri(t)),ke(Rn.isIPosition(i)),ke(Array.isArray(n)),ke(void 0===o||"string"==typeof o),ke(void 0===r||"boolean"==typeof r);const a=e.get(An),l=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if(NI(l))return l.setPosition(i),l.revealPositionInCenterIfOutsideViewport(i,0),l.invokeWithinContext((e=>{const t=new class extends ZR{_getNoResultFoundMessage(e){return s||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(s),openInPeek:Boolean(r),openToSide:!1},n,o);e.get(Nn).invokeFunction(t.run.bind(t),l)}))}))}),Qn.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Yt},{name:"position",description:"The position at which to start",constraint:Rn.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,i,n,o)=>WR(void 0,void 0,void 0,(function*(){e.get(Jn).executeCommand("editor.action.goToLocations",t,i,n,o,void 0,!0)}))}),Qn.registerCommand({id:"editor.action.findReferences",handler:(e,i,n)=>{ke(Yt.isUri(i)),ke(Rn.isIPosition(n));const o=e.get(An);return o.openCodeEditor({resource:i},o.getFocusedCodeEditor()).then((e=>{if(!NI(e)||!e.hasModel())return;const i=pR.get(e);if(!i)return;const o=ht((i=>NR(e.getModel(),Rn.lift(n),!1,i).then((e=>new FA(e,t("vs/editor/contrib/gotoSymbol/goToCommands","ref.title","References")))))),s=new br(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(i.toggleWidget(s,o,!1))}))}}),Qn.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Ws.appendMenuItems([{id:Fs.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:t("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Fs.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:t("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Fs.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:t("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Fs.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:t("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Fs.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:t("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var JR=function(e,t){return function(i,n){t(i,n,e)}};let QR=class e{constructor(e,t,i){this.textModelResolverService=t,this.modeService=i,this.toUnhook=new b,this.toUnhookForKeyboard=new b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let o=new ON(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown((([e,t])=>{this.startFindDefinitionFromMouse(e,Ne(t))}))),this.toUnhook.add(o.onExecute((e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((()=>{this.removeLinkDecorations()}),(e=>{this.removeLinkDecorations(),n(e)}))}))),this.toUnhook.add(o.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then((()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var i;this.toUnhookForKeyboard.clear();const o=e?null===(i=this.editor.getModel())||void 0===i?void 0:i.getWordAtPosition(e):null;if(!o)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===o.startColumn&&this.currentWordAtPosition.endColumn===o.endColumn&&this.currentWordAtPosition.word===o.word)return Promise.resolve(0);this.currentWordAtPosition=o;let s=new Wx(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=ht((t=>this.findDefinition(e,t))),this.previousPromise.then((i=>{if(i&&i.length&&s.validate(this.editor))if(i.length>1)this.addDecoration(new br(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn),(new RD).appendText(t("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","multipleResults","Click to show {0} definitions.",i.length)));else{let t=i[0];if(!t.uri)return;this.textModelResolverService.createModelReference(t.uri).then((i=>{if(!i.object||!i.object.textEditorModel)return void i.dispose();const{object:{textEditorModel:n}}=i,{startLineNumber:s}=t.range;if(s<1||s>n.getLineCount())return void i.dispose();const r=this.getPreviewValue(n,s,t);let a;a=t.originSelectionRange?br.lift(t.originSelectionRange):new br(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn);const l=this.modeService.getModeIdByFilepathOrFirstLine(n.uri);this.addDecoration(a,(new RD).appendCodeblock(l||"",r)),i.dispose()}))}else this.removeLinkDecorations()})).then(void 0,n)}getPreviewValue(t,i,n){let o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(t,i);o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,i));return this.stripIndentationFromPreviewRange(t,i,o)}stripIndentationFromPreviewRange(e,t,i){let n=e.getLineFirstNonWhitespaceColumn(t);for(let o=t+1;o<i.endLineNumber;o++){const t=e.getLineFirstNonWhitespaceColumn(o);n=Math.min(n,t)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${n-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,i){const n=t.getLineFirstNonWhitespaceColumn(i),o=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES);let s=i+1;for(;s<o;s++){if(n===t.getLineFirstNonWhitespaceColumn(s))break}return new br(i,1,s+1,1)}getPreviewRangeBasedOnBrackets(t,i){const n=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES),o=[];let s=!0,r=t.findNextBracket(new Rn(i,1));for(;null!==r;){if(0===o.length)o.push(r);else{const e=o[o.length-1];if(e.open[0]===r.open[0]&&e.isOpen&&!r.isOpen?o.pop():o.push(r),0===o.length){if(!s)return new br(i,1,r.range.endLineNumber+1,1);s=!1}}const e=t.getLineMaxColumn(i);let a=r.range.endLineNumber,l=r.range.endColumn;if(e===r.range.endColumn&&(a++,l=1),a>n)return new br(i,1,n+1,1);r=t.findNextBracket(new Rn(a,l))}return new br(i,1,n+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[i])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&$c.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?xR(i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((e=>{const i=!t&&this.editor.getOption(77)&&!this.isInPeekEditor(e);return new UR({openToSide:t,openInPeek:i,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,this.editor)}))}isInPeekEditor(e){const t=e.get(_s);return cI.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};QR.ID="editor.contrib.gotodefinitionatposition",QR.MAX_SOURCE_PREVIEW_LINES=8,QR=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([JR(1,Fn),JR(2,Mu)],QR),cr(QR.ID,QR),As(((e,t)=>{const i=e.getColor(Ip);i&&t.addRule(`.monaco-editor .goto-definition-link { color: ${i} !important; }`)}));const YR=hn;class XR extends v{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new ky(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class eO extends v{constructor(e,t,i){super(),this.actionContainer=sn(e,YR("div.action-container")),this.action=sn(this.actionContainer,YR("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),t.iconClass&&sn(this.action,YR(`span.icon.${t.iconClass}`));sn(this.action,YR("span")).textContent=i?`${t.label} (${i})`:t.label,this._register(_i(this.actionContainer,en.MOUSE_DOWN,(e=>{e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer)}))),this.setEnabled(!0)}static render(e,t,i){return new eO(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}class tO{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new X,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new X,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new X,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}const iO=hn;class nO extends v{constructor(e,i,n){super(),this.model=i,this.domNode=iO(".colorpicker-header"),sn(e,this.domNode),this.pickedColorNode=sn(this.domNode,iO(".picked-color"));const o=t("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",o);const s=sn(this.domNode,iO(".original-color"));s.style.backgroundColor=Yu.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(Lp)||Yu.white,this._register(As(((e,t)=>{this.backgroundColor=e.getColor(Lp)||Yu.white}))),this._register(_i(this.pickedColorNode,en.CLICK,(()=>this.model.selectNextColorPresentation()))),this._register(_i(s,en.CLICK,(()=>{this.model.color=this.model.originalColor,this.model.flushColor()}))),this._register(i.onDidChangeColor(this.onDidChangeColor,this)),this._register(i.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=Yu.Format.CSS.format(i.color)||"",this.pickedColorNode.classList.toggle("light",i.color.rgba.a<.5?this.backgroundColor.isLighter():i.color.isLighter())}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=Yu.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(iO(".codicon.codicon-color-mode"))}}class oO extends v{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this.domNode=iO(".colorpicker-body"),sn(e,this.domNode),this.saturationBox=new sO(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new aO(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new lO(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new Yu(new Qu(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new Yu(new Qu(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=360*(1-e);this.model.color=new Yu(new Qu(360===i?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class sO extends v{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new X,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new X,this.onColorFlushed=this._onColorFlushed.event,this.domNode=iO(".saturation-wrap"),sn(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",sn(this.domNode,this.canvas),this.selection=iO(".saturation-selection"),sn(this.domNode,this.selection),this.layout(),this._register(wi(this.domNode,(e=>this.onMouseDown(e)))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new sw);const t=Oi(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,ow,(e=>this.onDidChangePosition(e.posx-t.left,e.posy-t.top)),(()=>null));const i=Ci(document,(()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)}),!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new Yu(new Qu(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=Yu.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class rO extends v{constructor(e,t){super(),this.model=t,this._onDidChange=new X,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new X,this.onColorFlushed=this._onColorFlushed.event,this.domNode=sn(e,iO(".strip")),this.overlay=sn(this.domNode,iO(".overlay")),this.slider=sn(this.domNode,iO(".slider")),this.slider.style.top="0px",this._register(wi(this.domNode,(e=>this.onMouseDown(e)))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new sw),i=Oi(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,ow,(e=>this.onDidChangeTop(e.posy-i.top)),(()=>null));const n=Ci(document,(()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")}),!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class aO extends rO{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:i,b:n}=e.rgba,o=new Yu(new Zu(t,i,n,1)),s=new Yu(new Zu(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}}class lO extends rO{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class dO extends ny{constructor(e,t,i,n){super(),this.model=t,this.pixelRatio=i,this._register(re((()=>this.layout())));const o=iO(".colorpicker-widget");e.appendChild(o);const s=new nO(o,this.model,n);this.body=new oO(o,this.model,this.pixelRatio),this._register(s),this._register(this.body)}layout(){this.body.layout()}}var cO=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class hO{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let uO=class{constructor(e,t,i){this._editor=e,this._hover=t,this._themeService=i}computeSync(e,t){return[]}computeAsync(e,t,i){return cO(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return[];const e=NN.get(this._editor);for(const i of t){if("color-detector-color"!==i.options.description)continue;const t=e.getColorData(i.range.getStartPosition());if(t){return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}}return[]}))}_createColorHover(e,t,i){return cO(this,void 0,void 0,(function*(){const n=e.getValueInRange(t.range),{red:o,green:s,blue:r,alpha:a}=t.color,l=new Zu(Math.round(255*o),Math.round(255*s),Math.round(255*r),a),d=new Yu(l),c=yield DN(e,t,i,rt.None),h=new tO(d,[],0);return h.colorPresentations=c||[],h.guessColorPresentation(d,n),new hO(this,br.lift(t.range),h,i)}))}renderHoverParts(e,t,i){if(0===e.length||!this._editor.hasModel())return v.None;const n=new b,o=e[0],s=this._editor.getModel(),r=o.model,a=n.add(new dO(t,r,this._editor.getOption(127),this._themeService));let l=new br(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const d=()=>{let e,t;if(r.presentation.textEdit){e=[r.presentation.textEdit],t=new br(r.presentation.textEdit.range.startLineNumber,r.presentation.textEdit.range.startColumn,r.presentation.textEdit.range.endLineNumber,r.presentation.textEdit.range.endColumn);const i=this._editor.getModel()._setTrackedRange(null,t,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e),t=this._editor.getModel()._getTrackedRange(i)||t}else e=[{identifier:null,range:l,text:r.presentation.label,forceMoveMarkers:!1}],t=l.setEndPosition(l.endLineNumber,l.startColumn+r.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e);r.presentation.additionalTextEdits&&(e=[...r.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",e),this._hover.hide()),this._editor.pushUndoStop(),l=t},c=e=>DN(s,{range:l,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},o.provider,rt.None).then((e=>{r.colorPresentations=e||[]}));return n.add(r.onColorFlushed((e=>{c(e).then(d)}))),n.add(r.onDidChangeColor(c)),this._hover.setColorPicker(a),n}};uO=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(2,Ls)],uO);class gO{constructor(e,t,i,n,o){this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new Ct((()=>this._triggerAsyncComputation()),0),this._secondWaitScheduler=new Ct((()=>this._triggerSyncComputation()),0),this._loadingMessageScheduler=new Ct((()=>this._showLoadingMessage()),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=n}setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=ht((e=>this._computer.computeAsync(e))),this._asyncComputationPromise.then((e=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(e)}),(e=>this._onError(e)))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(e){this._completeCallback(e)}_onError(e){this._errorCallback?this._errorCallback(e):n(e)}_onProgress(e){this._progressCallback(e)}start(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}class mO{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}class pO{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}}
/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */var fO=Object.hasOwnProperty,_O=Object.setPrototypeOf,bO=Object.isFrozen,vO=Object.getPrototypeOf,wO=Object.getOwnPropertyDescriptor,CO=Object.freeze,yO=Object.seal,SO=Object.create,kO="undefined"!=typeof Reflect&&Reflect,xO=kO.apply,LO=kO.construct;xO||(xO=function(e,t,i){return e.apply(t,i)}),CO||(CO=function(e){return e}),yO||(yO=function(e){return e}),LO||(LO=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))))});var DO,EO=BO(Array.prototype.forEach),NO=BO(Array.prototype.pop),IO=BO(Array.prototype.push),TO=BO(String.prototype.toLowerCase),MO=BO(String.prototype.match),AO=BO(String.prototype.replace),RO=BO(String.prototype.indexOf),OO=BO(String.prototype.trim),PO=BO(RegExp.prototype.test),FO=(DO=TypeError,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return LO(DO,t)});function BO(e){return function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return xO(e,t,n)}}function WO(e,t){_O&&_O(e,null);for(var i=t.length;i--;){var n=t[i];if("string"==typeof n){var o=TO(n);o!==n&&(bO(t)||(t[i]=o),n=o)}e[n]=!0}return e}function VO(e){var t=SO(null),i=void 0;for(i in e)xO(fO,e,[i])&&(t[i]=e[i]);return t}function HO(e,t){for(;null!==e;){var i=wO(e,t);if(i){if(i.get)return BO(i.get);if("function"==typeof i.value)return BO(i.value)}e=vO(e)}return function(e){return console.warn("fallback value for",e),null}}var zO=CO(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),UO=CO(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),KO=CO(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jO=CO(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$O=CO(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),qO=CO(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),GO=CO(["#text"]),ZO=CO(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),JO=CO(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QO=CO(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),YO=CO(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XO=yO(/\{\{[\s\S]*|[\s\S]*\}\}/gm),eP=yO(/<%[\s\S]*|[\s\S]*%>/gm),tP=yO(/^data-[\-\w.\u00B7-\uFFFF]/),iP=yO(/^aria-[\-\w]+$/),nP=yO(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oP=yO(/^(?:\w+script|data):/i),sP=yO(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function aP(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var lP=function(){return"undefined"==typeof window?null:window},dP=function(e,t){if("object"!==(void 0===e?"undefined":rP(e))||"function"!=typeof e.createPolicy)return null;var i=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(i=t.currentScript.getAttribute(n));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(s){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};var cP=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lP(),i=function(t){return e(t)};if(i.version="2.3.1",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;var n=t.document,o=t.document,s=t.DocumentFragment,r=t.HTMLTemplateElement,a=t.Node,l=t.Element,d=t.NodeFilter,c=t.NamedNodeMap,h=void 0===c?t.NamedNodeMap||t.MozNamedAttrMap:c,u=t.Text,g=t.Comment,m=t.DOMParser,p=t.trustedTypes,f=l.prototype,_=HO(f,"cloneNode"),b=HO(f,"nextSibling"),v=HO(f,"childNodes"),w=HO(f,"parentNode");if("function"==typeof r){var C=o.createElement("template");C.content&&C.content.ownerDocument&&(o=C.content.ownerDocument)}var y=dP(p,n),S=y&&te?y.createHTML(""):"",k=o,x=k.implementation,L=k.createNodeIterator,D=k.createDocumentFragment,E=k.getElementsByTagName,N=n.importNode,I={};try{I=VO(o).documentMode?o.documentMode:{}}catch(Pe){}var T={};i.isSupported="function"==typeof w&&x&&void 0!==x.createHTMLDocument&&9!==I;var M=XO,A=eP,R=tP,O=iP,P=oP,F=sP,B=nP,W=null,V=WO({},[].concat(aP(zO),aP(UO),aP(KO),aP($O),aP(GO))),H=null,z=WO({},[].concat(aP(ZO),aP(JO),aP(QO),aP(YO))),U=null,K=null,j=!0,$=!0,q=!1,G=!1,Z=!1,J=!1,Q=!1,Y=!1,X=!1,ee=!0,te=!1,ie=!0,ne=!0,oe=!1,se={},re=null,ae=WO({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),le=null,de=WO({},["audio","video","img","source","image","track"]),ce=null,he=WO({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",pe=me,fe=!1,_e=null,be=o.createElement("form"),ve=function(e){_e&&_e===e||(e&&"object"===(void 0===e?"undefined":rP(e))||(e={}),e=VO(e),W="ALLOWED_TAGS"in e?WO({},e.ALLOWED_TAGS):V,H="ALLOWED_ATTR"in e?WO({},e.ALLOWED_ATTR):z,ce="ADD_URI_SAFE_ATTR"in e?WO(VO(he),e.ADD_URI_SAFE_ATTR):he,le="ADD_DATA_URI_TAGS"in e?WO(VO(de),e.ADD_DATA_URI_TAGS):de,re="FORBID_CONTENTS"in e?WO({},e.FORBID_CONTENTS):ae,U="FORBID_TAGS"in e?WO({},e.FORBID_TAGS):{},K="FORBID_ATTR"in e?WO({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,j=!1!==e.ALLOW_ARIA_ATTR,$=!1!==e.ALLOW_DATA_ATTR,q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=e.SAFE_FOR_TEMPLATES||!1,Z=e.WHOLE_DOCUMENT||!1,Y=e.RETURN_DOM||!1,X=e.RETURN_DOM_FRAGMENT||!1,ee=!1!==e.RETURN_DOM_IMPORT,te=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,ie=!1!==e.SANITIZE_DOM,ne=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,B=e.ALLOWED_URI_REGEXP||B,pe=e.NAMESPACE||me,G&&($=!1),X&&(Y=!0),se&&(W=WO({},[].concat(aP(GO))),H=[],!0===se.html&&(WO(W,zO),WO(H,ZO)),!0===se.svg&&(WO(W,UO),WO(H,JO),WO(H,YO)),!0===se.svgFilters&&(WO(W,KO),WO(H,JO),WO(H,YO)),!0===se.mathMl&&(WO(W,$O),WO(H,QO),WO(H,YO))),e.ADD_TAGS&&(W===V&&(W=VO(W)),WO(W,e.ADD_TAGS)),e.ADD_ATTR&&(H===z&&(H=VO(H)),WO(H,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&WO(ce,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(re===ae&&(re=VO(re)),WO(re,e.FORBID_CONTENTS)),ne&&(W["#text"]=!0),Z&&WO(W,["html","head","body"]),W.table&&(WO(W,["tbody"]),delete U.tbody),CO&&CO(e),_e=e)},we=WO({},["mi","mo","mn","ms","mtext"]),Ce=WO({},["foreignobject","desc","title","annotation-xml"]),ye=WO({},UO);WO(ye,KO),WO(ye,jO);var Se=WO({},$O);WO(Se,qO);var ke=function(e){var t=w(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var i=TO(e.tagName),n=TO(t.tagName);if(e.namespaceURI===ge)return t.namespaceURI===me?"svg"===i:t.namespaceURI===ue?"svg"===i&&("annotation-xml"===n||we[n]):Boolean(ye[i]);if(e.namespaceURI===ue)return t.namespaceURI===me?"math"===i:t.namespaceURI===ge?"math"===i&&Ce[n]:Boolean(Se[i]);if(e.namespaceURI===me){if(t.namespaceURI===ge&&!Ce[n])return!1;if(t.namespaceURI===ue&&!we[n])return!1;var o=WO({},["title","style","font","a","script"]);return!Se[i]&&(o[i]||!ye[i])}return!1},xe=function(e){IO(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Pe){try{e.outerHTML=S}catch(t){e.remove()}}},Le=function(e,t){try{IO(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(Pe){IO(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!H[e])if(Y||X)try{xe(t)}catch(Pe){}else try{t.setAttribute(e,"")}catch(Pe){}},De=function(e){var t=void 0,i=void 0;if(Q)e="<remove></remove>"+e;else{var n=MO(e,/^[\r\n\t ]+/);i=n&&n[0]}var s=y?y.createHTML(e):e;if(pe===me)try{t=(new m).parseFromString(s,"text/html")}catch(Pe){}if(!t||!t.documentElement){t=x.createDocument(pe,"template",null);try{t.documentElement.innerHTML=fe?"":s}catch(Pe){}}var r=t.body||t.documentElement;return e&&i&&r.insertBefore(o.createTextNode(i),r.childNodes[0]||null),pe===me?E.call(t,Z?"html":"body")[0]:Z?t.documentElement:r},Ee=function(e){return L.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},Ne=function(e){return!(e instanceof u||e instanceof g)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof h&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},Ie=function(e){return"object"===(void 0===a?"undefined":rP(a))?e instanceof a:e&&"object"===(void 0===e?"undefined":rP(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Te=function(e,t,n){T[e]&&EO(T[e],(function(e){e.call(i,t,n,_e)}))},Me=function(e){var t=void 0;if(Te("beforeSanitizeElements",e,null),Ne(e))return xe(e),!0;if(MO(e.nodeName,/[\u0080-\uFFFF]/))return xe(e),!0;var n=TO(e.nodeName);if(Te("uponSanitizeElement",e,{tagName:n,allowedTags:W}),!Ie(e.firstElementChild)&&(!Ie(e.content)||!Ie(e.content.firstElementChild))&&PO(/<[/\w]/g,e.innerHTML)&&PO(/<[/\w]/g,e.textContent))return xe(e),!0;if("select"===n&&PO(/<template/i,e.innerHTML))return xe(e),!0;if(!W[n]||U[n]){if(ne&&!re[n]){var o=w(e)||e.parentNode,s=v(e)||e.childNodes;if(s&&o)for(var r=s.length-1;r>=0;--r)o.insertBefore(_(s[r],!0),b(e))}return xe(e),!0}return e instanceof l&&!ke(e)?(xe(e),!0):"noscript"!==n&&"noembed"!==n||!PO(/<\/no(script|embed)/i,e.innerHTML)?(G&&3===e.nodeType&&(t=e.textContent,t=AO(t,M," "),t=AO(t,A," "),e.textContent!==t&&(IO(i.removed,{element:e.cloneNode()}),e.textContent=t)),Te("afterSanitizeElements",e,null),!1):(xe(e),!0)},Ae=function(e,t,i){if(ie&&("id"===t||"name"===t)&&(i in o||i in be))return!1;if($&&!K[t]&&PO(R,t));else if(j&&PO(O,t));else{if(!H[t]||K[t])return!1;if(ce[t]);else if(PO(B,AO(i,F,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==RO(i,"data:")||!le[e]){if(q&&!PO(P,AO(i,F,"")));else if(i)return!1}else;}return!0},Re=function(e){var t=void 0,n=void 0,o=void 0,s=void 0;Te("beforeSanitizeAttributes",e,null);var r=e.attributes;if(r){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(s=r.length;s--;){var l=t=r[s],d=l.name,c=l.namespaceURI;if(n=OO(t.value),o=TO(d),a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Te("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr&&(Le(d,e),a.keepAttr))if(PO(/\/>/i,n))Le(d,e);else{G&&(n=AO(n,M," "),n=AO(n,A," "));var h=e.nodeName.toLowerCase();if(Ae(h,o,n))try{c?e.setAttributeNS(c,d,n):e.setAttribute(d,n),NO(i.removed)}catch(Pe){}}}Te("afterSanitizeAttributes",e,null)}},Oe=function e(t){var i=void 0,n=Ee(t);for(Te("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)Te("uponSanitizeShadowNode",i,null),Me(i)||(i.content instanceof s&&e(i.content),Re(i));Te("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e,o){var r=void 0,l=void 0,d=void 0,c=void 0,h=void 0;if((fe=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ie(e)){if("function"!=typeof e.toString)throw FO("toString is not a function");if("string"!=typeof(e=e.toString()))throw FO("dirty is not a string, aborting")}if(!i.isSupported){if("object"===rP(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Ie(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||ve(o),i.removed=[],"string"==typeof e&&(oe=!1),oe);else if(e instanceof a)1===(l=(r=De("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?r=l:r.appendChild(l);else{if(!Y&&!G&&!Z&&-1===e.indexOf("<"))return y&&te?y.createHTML(e):e;if(!(r=De(e)))return Y?null:S}r&&Q&&xe(r.firstChild);for(var u=Ee(oe?e:r);d=u.nextNode();)3===d.nodeType&&d===c||Me(d)||(d.content instanceof s&&Oe(d.content),Re(d),c=d);if(c=null,oe)return e;if(Y){if(X)for(h=D.call(r.ownerDocument);r.firstChild;)h.appendChild(r.firstChild);else h=r;return ee&&(h=N.call(n,h,!0)),h}var g=Z?r.outerHTML:r.innerHTML;return G&&(g=AO(g,M," "),g=AO(g,A," ")),y&&te?y.createHTML(g):g},i.setConfig=function(e){ve(e),J=!0},i.clearConfig=function(){_e=null,J=!1},i.isValidAttribute=function(e,t,i){_e||ve({});var n=TO(e),o=TO(t);return Ae(n,o,i)},i.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],IO(T[e],t))},i.removeHook=function(e){T[e]&&NO(T[e])},i.removeHooks=function(e){T[e]&&(T[e]=[])},i.removeAllHooks=function(){T={}},i}();cP.version,cP.isSupported;const hP=cP.sanitize;cP.setConfig,cP.clearConfig,cP.isValidAttribute;const uP=cP.addHook,gP=cP.removeHook;function mP(e,t={}){const i=pP(t);return _P(i,function(e,t){const i={type:1,children:[]};let n=0,o=i;const s=[],r=new fP(e);for(;!r.eos();){let e=r.next();const i="\\"===e&&0!==vP(r.peek(),t);if(i&&(e=r.next()),!i&&bP(e,t)&&e===r.peek()){r.advance(),2===o.type&&(o=s.pop());const i=vP(e,t);if(o.type===i||5===o.type&&6===i)o=s.pop();else{const e={type:i,children:[]};5===i&&(e.index=n,n++),o.children.push(e),s.push(o),o=e}}else if("\n"===e)2===o.type&&(o=s.pop()),o.children.push({type:8});else if(2!==o.type){const t={type:2,content:e};o.children.push(t),s.push(o),o=t}else o.content+=e}2===o.type&&(o=s.pop());return i}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),i}function pP(e){const t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}cP.removeHooks,cP.removeAllHooks;class fP{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function _P(e,t,i,n){let o;if(2===t.type)o=document.createTextNode(t.content||"");else if(3===t.type)o=document.createElement("b");else if(4===t.type)o=document.createElement("i");else if(7===t.type&&n)o=document.createElement("code");else if(5===t.type&&i){const e=document.createElement("a");e.href="#",i.disposables.add(vi(e,"click",(e=>{i.callback(String(t.index),e)}))),o=e}else 8===t.type?o=document.createElement("br"):1===t.type&&(o=e);o&&e!==o&&e.appendChild(o),o&&Array.isArray(t.children)&&t.children.forEach((e=>{_P(o,e,i,n)}))}function bP(e,t){return 0!==vP(e,t)}function vP(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}let wP;!function(){function e(e){wP=e()}var t,i;e.amd=!0,t=this,i=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,i){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,i){if(e){if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,i):void 0}}(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n={exports:{}};function o(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:o,changeDefaults:function(e){n.exports.defaults=e}};var s=/[&<>"']/,r=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(e){return d[e]},h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function u(e){return e.replace(h,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var g=/(^|[^\[])\^/g,m=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,f={},_=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function w(e,t){f[" "+e]||(_.test(e)?f[" "+e]=e+"/":f[" "+e]=C(e,"/",!0));var i=-1===(e=f[" "+e]).indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(b,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(v,"$1")+t:e+t}function C(e,t,i){var n=e.length;if(0===n)return"";for(var o=0;o<n;){var s=e.charAt(n-o-1);if(s!==t||i){if(s===t||!i)break;o++}else o++}return e.substr(0,n-o)}var y=function(e,t){if(t){if(s.test(e))return e.replace(r,c)}else if(a.test(e))return e.replace(l,c);return e},S=u,k=function(e,t){e=e.source||e,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(g,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i},x=function(e,t,i){if(e){var n;try{n=decodeURIComponent(u(i)).replace(m,"").toLowerCase()}catch(G1){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!p.test(i)&&(i=w(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(G1){return null}return i},L={exec:function(){}},D=function(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E=function(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,o=t;--o>=0&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i},N=C,I=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,o=0;o<i;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&--n<0)return o;return-1},T=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},M=function(e,t){if(t<1)return"";for(var i="";t>1;)1&t&&(i+=e),t>>=1,e+=e;return i+e},A=n.exports.defaults,R=N,O=E,P=y,F=I;function B(e,t,i,n){var o=t.href,s=t.title?P(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;var a={type:"link",raw:i,href:o,title:s,text:r,tokens:n.inlineTokens(r,[])};return n.state.inLink=!1,a}return{type:"image",raw:i,href:o,title:s,text:P(r)}}var W=function(){function e(e){this.options=e||A}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:R(i,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=function(e,t){var i=e.match(/^(\s+)(?:```)/);if(null===i)return t;var n=i[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var i=t[2].trim();if(/#$/.test(i)){var n=R(i,"#");this.options.pedantic?i=n.trim():n&&!/ $/.test(n)||(i=n.trim())}var o={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var i,n,o,s,r,a,l,d,c,h,u=t[1].trim(),g=u.length>1,m={type:"list",raw:"",ordered:g,start:g?+u.slice(0,-1):"",loose:!1,items:[]};u=g?"\\d{1,9}\\"+u.slice(-1):"\\"+u,this.options.pedantic&&(u=g?u:"[*+-]");for(var p=new RegExp("^( {0,3}"+u+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");e&&!this.rules.block.hr.test(e)&&(t=p.exec(e));){c=t[2].split("\n"),this.options.pedantic?(s=2,h=c[0].trimLeft()):(s=t[2].search(/[^ ]/),s=t[1].length+(s>4?1:s),h=c[0].slice(s-t[1].length)),a=!1,i=t[0],!c[0]&&/^ *$/.test(c[1])&&(i=t[1]+c.slice(0,2).join("\n")+"\n",m.loose=!0,c=[]);var f=new RegExp("^ {0,"+Math.min(3,s-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(r=1;r<c.length;r++){if(d=c[r],this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),f.test(d)){i=t[1]+c.slice(0,r).join("\n")+"\n";break}if(a){if(!(d.search(/[^ ]/)>=s)&&d.trim()){i=t[1]+c.slice(0,r).join("\n")+"\n";break}h+="\n"+d.slice(s)}else d.trim()||(a=!0),d.search(/[^ ]/)>=s?h+="\n"+d.slice(s):h+="\n"+d}m.loose||(l?m.loose=!0:/\n *\n *$/.test(i)&&(l=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(h))&&(o="[ ] "!==n[0],h=h.replace(/^\[[ xX]\] +/,"")),m.items.push({type:"list_item",raw:i,task:!!n,checked:o,loose:!1,text:h}),m.raw+=i,e=e.slice(i.length)}m.items[m.items.length-1].raw=i.trimRight(),m.items[m.items.length-1].text=h.trimRight(),m.raw=m.raw.trimRight();var _=m.items.length;for(r=0;r<_;r++)this.lexer.state.top=!1,m.items[r].tokens=this.lexer.blockTokens(m.items[r].text,[]),m.items[r].tokens.some((function(e){return"space"===e.type}))&&(m.loose=!0,m.items[r].loose=!0);return m}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t){var i={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):P(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:O(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var n,o,s,r,a=i.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(a=i.rows.length,n=0;n<a;n++)i.rows[n]=O(i.rows[n],i.header.length).map((function(e){return{text:e}}));for(a=i.header.length,o=0;o<a;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(a=i.rows.length,o=0;o<a;o++)for(r=i.rows[o],s=0;s<r.length;s++)r[s].tokens=[],this.lexer.inlineTokens(r[s].text,r[s].tokens);return i}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t){var i={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var i={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t){var i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:P(t[1])}},t.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):P(t[0]):t[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;var n=R(i.slice(0,-1),"\\");if((i.length-n.length)%2==0)return}else{var o=F(t[2],"()");if(o>-1){var s=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,s).trim(),t[3]=""}}var r=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),B(t,{href:r?r.replace(this.rules.inline._escapes,"$1"):r,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0],this.lexer)}},t.reflink=function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var n=(i[2]||i[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return B(i,n,i[0],this.lexer)}},t.emStrong=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=n[1]||n[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){var s,r,a=n[0].length-1,l=a,d=0,c="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+a);null!=(n=c.exec(t));)if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(r=s.length,n[3]||n[4])l+=r;else if(!((n[5]||n[6])&&a%3)||(a+r)%3){if(!((l-=r)>0)){if(r=Math.min(r,r+l+d),Math.min(a,r)%2){var h=e.slice(1,a+n.index+r);return{type:"em",raw:e.slice(0,a+n.index+r+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}var u=e.slice(2,a+n.index+r-1);return{type:"strong",raw:e.slice(0,a+n.index+r+1),text:u,tokens:this.lexer.inlineTokens(u,[])}}}else d+=r}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return n&&o&&(i=i.substring(1,i.length-1)),i=P(i,!0),{type:"codespan",raw:t[0],text:i}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}},t.autolink=function(e,t){var i,n,o=this.rules.inline.autolink.exec(e);if(o)return n="@"===o[2]?"mailto:"+(i=P(this.options.mangle?t(o[1]):o[1])):i=P(o[1]),{type:"link",raw:o[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}},t.url=function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var n,o;if("@"===i[2])o="mailto:"+(n=P(this.options.mangle?t(i[0]):i[0]));else{var s;do{s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(s!==i[0]);n=P(i[0]),o="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}},t.inlineText=function(e,t){var i,n=this.rules.inline.text.exec(e);if(n)return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):P(n[0]):n[0]:P(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}},e}(),V=L,H=k,z=D,U={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};U.def=H(U.def).replace("label",U._label).replace("title",U._title).getRegex(),U.bullet=/(?:[*+-]|\d{1,9}[.)])/,U.listItemStart=H(/^( *)(bull) */).replace("bull",U.bullet).getRegex(),U.list=H(U.list).replace(/bull/g,U.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+U.def.source+")").getRegex(),U._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,U.html=H(U.html,"i").replace("comment",U._comment).replace("tag",U._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U.paragraph=H(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.blockquote=H(U.blockquote).replace("paragraph",U.paragraph).getRegex(),U.normal=z({},U),U.gfm=z({},U.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),U.gfm.table=H(U.gfm.table).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.pedantic=z({},U.normal,{html:H("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",U._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,paragraph:H(U.normal._paragraph).replace("hr",U.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",U.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var K={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};K.punctuation=H(K.punctuation).replace(/punctuation/g,K._punctuation).getRegex(),K.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,K.escapedEmSt=/\\\*|\\_/g,K._comment=H(U._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),K.emStrong.lDelim=H(K.emStrong.lDelim).replace(/punct/g,K._punctuation).getRegex(),K.emStrong.rDelimAst=H(K.emStrong.rDelimAst,"g").replace(/punct/g,K._punctuation).getRegex(),K.emStrong.rDelimUnd=H(K.emStrong.rDelimUnd,"g").replace(/punct/g,K._punctuation).getRegex(),K._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,K._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,K._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,K.autolink=H(K.autolink).replace("scheme",K._scheme).replace("email",K._email).getRegex(),K._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,K.tag=H(K.tag).replace("comment",K._comment).replace("attribute",K._attribute).getRegex(),K._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,K._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,K._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,K.link=H(K.link).replace("label",K._label).replace("href",K._href).replace("title",K._title).getRegex(),K.reflink=H(K.reflink).replace("label",K._label).getRegex(),K.reflinkSearch=H(K.reflinkSearch,"g").replace("reflink",K.reflink).replace("nolink",K.nolink).getRegex(),K.normal=z({},K),K.pedantic=z({},K.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:H(/^!?\[(label)\]\((.*?)\)/).replace("label",K._label).getRegex(),reflink:H(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K._label).getRegex()}),K.gfm=z({},K.normal,{escape:H(K.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),K.gfm.url=H(K.gfm.url,"i").replace("email",K.gfm._extended_email).getRegex(),K.breaks=z({},K.gfm,{br:H(K.br).replace("{2,}","*").getRegex(),text:H(K.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var j={block:U,inline:K},$=W,q=n.exports.defaults,G=j.block,Z=j.inline,J=M;function Q(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Y(e){var t,i,n="",o=e.length;for(t=0;t<o;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}var X=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||q,this.options.tokenizer=this.options.tokenizer||new $,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var t={block:G.normal,inline:Z.normal};this.options.pedantic?(t.block=G.pedantic,t.inline=Z.pedantic):this.options.gfm&&(t.block=G.gfm,this.options.breaks?t.inline=Z.breaks:t.inline=Z.gfm),this.tokenizer.rules=t}t.lex=function(e,i){return new t(i).lex(e)},t.lexInline=function(e,i){return new t(i).inlineTokens(e)};var i,n,o,s=t.prototype;return s.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},s.blockTokens=function(e,t){var i,n,o,s,r=this;for(void 0===t&&(t=[]),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(i=n.call({lexer:r},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?t.push(i):(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(o=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,i=e.slice(1),n=void 0;r.options.extensions.startBlock.forEach((function(e){"number"==typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),this.state.top&&(i=this.tokenizer.paragraph(o)))n=t[t.length-1],s&&"paragraph"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,t},s.inline=function(e,t){this.inlineQueue.push({src:e,tokens:t})},s.inlineTokens=function(e,t){var i,n,o,s=this;void 0===t&&(t=[]);var r,a,l,d=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(d));)c.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,r.index)+"["+J("a",r[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(d));)d=d.slice(0,r.index)+"["+J("a",r[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.escapedEmSt.exec(d));)d=d.slice(0,r.index)+"++"+d.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call({lexer:s},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,d,l))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.autolink(e,Y))e=e.substring(i.raw.length),t.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(e,Y))){if(o=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,i=e.slice(1),n=void 0;s.options.extensions.startInline.forEach((function(e){"number"==typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(o,Q))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),a=!0,(n=t[t.length-1])&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(i.raw.length),t.push(i);return t},i=t,o=[{key:"rules",get:function(){return{block:G,inline:Z}}}],(n=null)&&e(i.prototype,n),o&&e(i,o),t}(),ee=n.exports.defaults,te=x,ie=y,ne=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,n);null!=o&&o!==e&&(i=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+ie(n,!0)+'">'+(i?e:ie(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:ie(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,i){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+ie(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>"},t.image=function(e,t,i){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),oe=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),se=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do{i=e+"-"+ ++n}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i},t.slug=function(e,t){void 0===t&&(t={});var i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)},e}(),re=ne,ae=oe,le=se,de=n.exports.defaults,ce=S,he=X,ue=function(){function e(e){this.options=e||de,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ae,this.slugger=new le}e.parse=function(t,i){return new e(i).parse(t)},e.parseInline=function(t,i){return new e(i).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var i,n,o,s,r,a,l,d,c,h,u,g,m,p,f,_,b,v,w,C="",y=e.length;for(i=0;i<y;i++)if(h=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type])||!1===(w=this.options.extensions.renderers[h.type].call({parser:this},h))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))switch(h.type){case"space":continue;case"hr":C+=this.renderer.hr();continue;case"heading":C+=this.renderer.heading(this.parseInline(h.tokens),h.depth,ce(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":C+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(d="",l="",s=h.header.length,n=0;n<s;n++)l+=this.renderer.tablecell(this.parseInline(h.header[n].tokens),{header:!0,align:h.align[n]});for(d+=this.renderer.tablerow(l),c="",s=h.rows.length,n=0;n<s;n++){for(l="",r=(a=h.rows[n]).length,o=0;o<r;o++)l+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:h.align[o]});c+=this.renderer.tablerow(l)}C+=this.renderer.table(d,c);continue;case"blockquote":c=this.parse(h.tokens),C+=this.renderer.blockquote(c);continue;case"list":for(u=h.ordered,g=h.start,m=h.loose,s=h.items.length,c="",n=0;n<s;n++)_=(f=h.items[n]).checked,b=f.task,p="",f.task&&(v=this.renderer.checkbox(_),m?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v}):p+=v),p+=this.parse(f.tokens,m),c+=this.renderer.listitem(p,b,_);C+=this.renderer.list(c,u,g);continue;case"html":C+=this.renderer.html(h.text);continue;case"paragraph":C+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(c=h.tokens?this.parseInline(h.tokens):h.text;i+1<y&&"text"===e[i+1].type;)c+="\n"+((h=e[++i]).tokens?this.parseInline(h.tokens):h.text);C+=t?this.renderer.paragraph(c):c;continue;default:var S='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(S);throw new Error(S)}else C+=w||"";return C},t.parseInline=function(e,t){t=t||this.renderer;var i,n,o,s="",r=e.length;for(i=0;i<r;i++)if(n=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type])||!1===(o=this.options.extensions.renderers[n.type].call({parser:this},n))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type))switch(n.type){case"escape":s+=t.text(n.text);break;case"html":s+=t.html(n.text);break;case"link":s+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":s+=t.image(n.href,n.title,n.text);break;case"strong":s+=t.strong(this.parseInline(n.tokens,t));break;case"em":s+=t.em(this.parseInline(n.tokens,t));break;case"codespan":s+=t.codespan(n.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(n.tokens,t));break;case"text":s+=t.text(n.text);break;default:var a='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else s+=o||"";return s},e}(),ge=W,me=ne,pe=oe,fe=se,_e=D,be=T,ve=y,we=n.exports.getDefaults,Ce=n.exports.changeDefaults,ye=n.exports.defaults;function Se(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(i=t,t=null),t=_e({},Se.defaults,t||{}),be(t),i){var n,o=t.highlight;try{n=he.lex(e,t)}catch(G1){return i(G1)}var s=function(e){var s;if(!e)try{t.walkTokens&&Se.walkTokens(n,t.walkTokens),s=ue.parse(n,t)}catch(G1){e=G1}return t.highlight=o,e?i(e):i(null,s)};if(!o||o.length<3)return s();if(delete t.highlight,!n.length)return s();var r=0;return Se.walkTokens(n,(function(e){"code"===e.type&&(r++,setTimeout((function(){o(e.text,e.lang,(function(t,i){if(t)return s(t);null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),0==--r&&s()}))}),0))})),void(0===r&&s())}try{var a=he.lex(e,t);return t.walkTokens&&Se.walkTokens(a,t.walkTokens),ue.parse(a,t)}catch(G1){if(G1.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ve(G1.message+"",!0)+"</pre>";throw G1}}return Se.options=Se.setOptions=function(e){return _e(Se.defaults,e),Ce(Se.defaults),Se},Se.getDefaults=we,Se.defaults=ye,Se.use=function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o,s=_e.apply(void 0,[{}].concat(i)),r=Se.defaults.extensions||{renderers:{},childTokens:{}};i.forEach((function(t){if(t.extensions&&(o=!0,t.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=r.renderers?r.renderers[e.name]:null;r.renderers[e.name]=t?function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var s=e.renderer.apply(this,n);return!1===s&&(s=t.apply(this,n)),s}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");r[e.level]?r[e.level].unshift(e.tokenizer):r[e.level]=[e.tokenizer],e.start&&("block"===e.level?r.startBlock?r.startBlock.push(e.start):r.startBlock=[e.start]:"inline"===e.level&&(r.startInline?r.startInline.push(e.start):r.startInline=[e.start]))}e.childTokens&&(r.childTokens[e.name]=e.childTokens)}))),t.renderer&&function(){var e=Se.defaults.renderer||new me,i=function(i){var n=e[i];e[i]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=t.renderer[i].apply(e,s);return!1===a&&(a=n.apply(e,s)),a}};for(var n in t.renderer)i(n);s.renderer=e}(),t.tokenizer&&function(){var e=Se.defaults.tokenizer||new ge,i=function(i){var n=e[i];e[i]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=t.tokenizer[i].apply(e,s);return!1===a&&(a=n.apply(e,s)),a}};for(var n in t.tokenizer)i(n);s.tokenizer=e}(),t.walkTokens){var i=Se.defaults.walkTokens;s.walkTokens=function(n){t.walkTokens.call(e,n),i&&i(n)}}o&&(s.extensions=r),Se.setOptions(s)}))},Se.walkTokens=function(e,t){for(var n,o=function(){var e=n.value;switch(t(e),e.type){case"table":for(var o,s=i(e.header);!(o=s()).done;){var r=o.value;Se.walkTokens(r.tokens,t)}for(var a,l=i(e.rows);!(a=l()).done;)for(var d,c=i(a.value);!(d=c()).done;){var h=d.value;Se.walkTokens(h.tokens,t)}break;case"list":Se.walkTokens(e.items,t);break;default:Se.defaults.extensions&&Se.defaults.extensions.childTokens&&Se.defaults.extensions.childTokens[e.type]?Se.defaults.extensions.childTokens[e.type].forEach((function(i){Se.walkTokens(e[i],t)})):e.tokens&&Se.walkTokens(e.tokens,t)}},s=i(e);!(n=s()).done;)o()},Se.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=_e({},Se.defaults,t||{}),be(t);try{var i=he.lexInline(e,t);return t.walkTokens&&Se.walkTokens(i,t.walkTokens),ue.parseInline(i,t)}catch(G1){if(G1.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ve(G1.message+"",!0)+"</pre>";throw G1}},Se.Parser=ue,Se.parser=ue.parse,Se.Renderer=me,Se.TextRenderer=pe,Se.Lexer=he,Se.lexer=he.lex,Se.Tokenizer=ge,Se.Slugger=fe,Se.parse=Se,Se},"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():e.amd?e(i):(t="undefined"!=typeof globalThis?globalThis:t||self).marked=i()}(),wP.Parser,wP.parser;var CP=wP.Renderer;wP.TextRenderer,wP.Lexer,wP.lexer,wP.Tokenizer,wP.Slugger;var yP=wP.parse;function SP(e){let t=JSON.parse(e);return t=kP(t),t}function kP(e,t=0){if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return Yt.revive(e);case 2:return new RegExp(e.source,e.flags)}if(e instanceof Sa||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let i=0;i<e.length;++i)e[i]=kP(e[i],t+1);else for(const i in e)Object.hasOwnProperty.call(e,i)&&(e[i]=kP(e[i],t+1))}return e}function xP(e,t={},i={}){var o;const s=new b;let r=!1;const a=s.add(new dt),l=pP(t),d=function(t){let i;try{i=SP(decodeURIComponent(t))}catch(G1){}return i?(i=ta(i,(t=>e.uris&&e.uris[t]?Yt.revive(e.uris[t]):void 0)),encodeURIComponent(JSON.stringify(i))):t},c=function(t,i){const n=e.uris&&e.uris[t];if(!n)return t;let o=Yt.revive(n);return i?t.startsWith(di.data+":")?t:gi.asBrowserUri(o).toString(!0):Yt.parse(t).toString()===o.toString()?t:(o.query&&(o=o.with({query:d(o.query)})),o.toString())};let h;const u=new Promise((e=>h=e)),g=new CP;if(g.image=(e,i,n)=>{let o=[],s=[];if(e){({href:e,dimensions:o}=function(e){const t=[],i=e.split("|").map((e=>e.trim()));e=i[0];const n=i[1];if(n){const e=/height=(\d+)/.exec(n),i=/width=(\d+)/.exec(n),o=e?e[1]:"",s=i?i[1]:"",r=isFinite(parseInt(s)),a=isFinite(parseInt(o));r&&t.push(`width="${s}"`),a&&t.push(`height="${o}"`)}return{href:e,dimensions:t}}(e)),e=c(e,!0);try{const i=Yt.parse(e);t.baseUrl&&i.scheme===di.file&&(e=Qa(t.baseUrl,e).toString())}catch(r){}s.push(`src="${e}"`)}return n&&s.push(`alt="${n}"`),i&&s.push(`title="${i}"`),o.length&&(s=s.concat(o)),"<img "+s.join(" ")+">"},g.link=(i,n,o)=>{if(i===o&&(o=FD(o)),i=c(i,!1),t.baseUrl){/^\w[\w\d+.-]*:/.test(i)||(i=Qa(t.baseUrl,i).toString())}return n=FD(n),!(i=FD(i))||i.match(/^data:|javascript:/i)||i.match(/^command:/i)&&!e.isTrusted||i.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?o:`<a href="#" data-href="${i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${n||i}">${o}</a>`},g.paragraph=e=>`<p>${e}</p>`,t.codeBlockRenderer&&(g.code=(e,i)=>{const n=t.codeBlockRenderer(i,e),o=WN.nextId();return ut(Promise.all([n,u]),a.token).then((e=>{var i;if(!r&&e){const n=l.querySelector(`div[data-code="${o}"]`);n&&rn(n,e[0]),null===(i=t.asyncRenderCallback)||void 0===i||i.call(t)}})).catch((()=>{})),`<div class="code" data-code="${o}">${to(e)}</div>`}),t.actionHandler){const e=t.actionHandler.disposables.add(new xx(l,"click")),i=t.actionHandler.disposables.add(new xx(l,"auxclick"));t.actionHandler.disposables.add(Q.any(e.event,i.event)((e=>{const i=new nt(e);if(!i.leftButton&&!i.middleButton)return;let o=i.target;if("A"===o.tagName||(o=o.parentElement,o&&"A"===o.tagName))try{const e=o.dataset.href;e&&t.actionHandler.callback(e,i)}catch(s){n(s)}finally{i.preventDefault()}})))}e.supportHtml||(i.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",i.sanitize=!0,i.silent=!0),i.renderer=g;let m=null!==(o=e.value)&&void 0!==o?o:"";m.length>1e5&&(m=`${m.substr(0,1e5)}…`),e.supportThemeIcons&&(m=m.replace(ND,(e=>`\\${e}`)));let p=yP(m,i);if(e.supportThemeIcons){p=uN(p).map((e=>"string"==typeof e?e:e.outerHTML)).join("")}if(l.innerHTML=function(e,t){const{config:i,allowedSchemes:n}=function(e){const t=[di.http,di.https,di.mailto,di.data,di.file,di.vscodeFileResource,di.vscodeRemote,di.vscodeRemoteResource];e.isTrusted&&t.push(di.command);return{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(e);uP("uponSanitizeAttribute",((e,t)=>{if("style"!==t.attrName&&"class"!==t.attrName);else{if("SPAN"===e.tagName){if("style"===t.attrName)return void(t.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(t.attrValue));if("class"===t.attrName)return void(t.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(t.attrValue))}t.keepAttr=!1}}));const o=document.createElement("a");uP("afterSanitizeAttributes",(e=>{for(const t of["href","src"])e.hasAttribute(t)&&(o.href=e.getAttribute(t),n.includes(o.protocol.replace(/:$/,""))||e.removeAttribute(t))}));try{return hP(t,Object.assign(Object.assign({},i),{RETURN_TRUSTED_TYPE:!0}))}finally{gP("uponSanitizeAttribute"),gP("afterSanitizeAttributes")}}(e,p),h(),t.asyncRenderCallback)for(const n of l.getElementsByTagName("img")){const e=s.add(_i(n,"load",(()=>{e.dispose(),t.asyncRenderCallback()})))}return{element:l,dispose:()=>{r=!0,a.cancel(),s.dispose()}}}var LP=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const DP=Tn("openerService"),EP=Object.freeze({_serviceBrand:void 0,registerOpener:()=>v.None,registerValidator:()=>v.None,registerExternalUriResolver:()=>v.None,setDefaultExternalOpener(){},registerExternalOpener:()=>v.None,open(){return LP(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return LP(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});function NP(e,t){return Yt.isUri(e)?vo(e.scheme,t):wo(e,t+":")}var IP,TP=function(e,t){return function(i,n){t(i,n,e)}},MP=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let AP=class e{constructor(e,t,i){this._options=e,this._modeService=t,this._openerService=i,this._onDidRenderAsync=new X,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e){return{element:document.createElement("span"),dispose:()=>{}}}const n=new b;return{element:n.add(xP(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i)).element,dispose:()=>n.dispose()}}_getRenderOptions(t,i){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(t,i)=>MP(this,void 0,void 0,(function*(){var n,o,s,r;let a;t?a=this._modeService.getModeIdForLanguageName(t):this._options.editor&&(a=null===(n=this._options.editor.getModel())||void 0===n?void 0:n.getLanguageId()),a||(a="plaintext"),this._modeService.triggerMode(a);const l=null!==(o=yield lh.getPromise(a))&&void 0!==o?o:void 0,d=document.createElement("span");if(d.innerHTML=null!==(r=null===(s=e._ttpTokenizer)||void 0===s?void 0:s.createHTML(i,this._modeService.languageIdCodec,l))&&void 0!==r?r:mk(i,this._modeService.languageIdCodec,l),this._options.editor){const e=this._options.editor.getOption(43);Qv.applyFontInfoSlow(d,e)}else this._options.codeBlockFontFamily&&(d.style.fontFamily=this._options.codeBlockFontFamily);return d})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:e=>this._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(n),disposables:i}}}};function RP(e,t,i){const n=zc.ordered(e).map((n=>Promise.resolve(n.provideHover(e,t,i)).then((e=>e&&function(e){const t=void 0!==e.range,i=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&i}(e)?e:void 0),(e=>{o(e)}))));return Promise.all(n).then(_d)}AP._ttpTokenizer=null===(IP=window.trustedTypes)||void 0===IP?void 0:IP.createPolicy("tokenizeToString",{createHTML:(e,t,i)=>mk(e,t,i)}),AP=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([TP(1,Mu),TP(2,DP)],AP),sr("_executeHoverProvider",((e,t)=>RP(e,t,rt.None)));var OP=function(e,t){return function(i,n){t(i,n,e)}},PP=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const FP=hn;class BP{constructor(e,t,i){this.owner=e,this.range=t,this.contents=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let WP=class{constructor(e,t,i,n,o){this._editor=e,this._hover=t,this._modeService=i,this._openerService=n,this._configurationService=o}createLoadingMessage(e){return new BP(this,e.range,[(new RD).appendText(t("modesContentHover.loading","Loading..."))])}computeSync(e,i){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),o=e.range.startLineNumber,s=n.getLineMaxColumn(o),r=[];for(const t of i){const i=t.range.startLineNumber===o?t.range.startColumn:1,n=t.range.endLineNumber===o?t.range.endColumn:s,a=t.options.hoverMessage;if(!a||OD(a))continue;const l=new br(e.range.startLineNumber,i,e.range.startLineNumber,n);r.push(new BP(this,l,Dd(a)))}const a=n.getLineLength(o),l=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:l});return"number"==typeof d&&a>=d&&r.push(new BP(this,e.range,[{value:t("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),r}computeAsync(e,t,i){return PP(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||1!==e.type)return Promise.resolve([]);const t=this._editor.getModel();if(!zc.has(t))return Promise.resolve([]);const n=yield RP(t,new Rn(e.range.startLineNumber,e.range.startColumn),i),o=[];for(const i of n){if(OD(i.contents))continue;const t=i.range?br.lift(i.range):e.range;o.push(new BP(this,t,i.contents))}return o}))}renderHoverParts(e,t,i){const n=new b;for(const o of e)for(const e of o.contents){if(OD(e))continue;const i=FP("div.hover-row.markdown-hover"),o=sn(i,FP("div.hover-contents")),s=n.add(new AP({editor:this._editor},this._modeService,this._openerService));n.add(s.onDidRenderAsync((()=>{o.className="hover-contents code-hover-contents",this._hover.onContentsChanged()})));const r=n.add(s.render(e));o.appendChild(r.element),t.appendChild(i)}return n}};WP=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([OP(2,Mu),OP(3,DP),OP(4,Du)],WP);var VP=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},HP=function(e,t){return function(i,n){t(i,n,e)}};class zP{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let UP=class e{constructor(t,i){this._markerService=i,this._onDidChange=new X,this.onDidChange=this._onDidChange.event,this._dispoables=new b,this._markers=[],this._nextIdx=-1,Yt.isUri(t)?this._resourceFilter=e=>e.toString()===t.toString():t&&(this._resourceFilter=t);const n=()=>{this._markers=this._markerService.read({resource:Yt.isUri(t)?t:void 0,severities:EE.Error|EE.Warning|EE.Info}),"function"==typeof t&&(this._markers=this._markers.filter((e=>this._resourceFilter(e.resource)))),this._markers.sort(e._compareMarker)};n(),this._dispoables.add(i.onMarkerChanged((e=>{this._resourceFilter&&!e.some((e=>this._resourceFilter(e)))||(n(),this._nextIdx=-1,this._onDidChange.fire())})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new zP(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex((t=>t.resource.toString()===e.uri.toString()));o<0&&(o=gd(this._markers,{resource:e.uri},((e,t)=>go(e.resource.toString(),t.resource.toString()))),o<0&&(o=~o));for(let s=o;s<this._markers.length;s++){let i=br.lift(this._markers[s]);if(i.isEmpty()){const t=e.getWordAtPosition(i.getStartPosition());t&&(i=new br(i.startLineNumber,t.startColumn,i.startLineNumber,t.endColumn))}if(t&&(i.containsPosition(t)||t.isBeforeOrEqual(i.getStartPosition()))){this._nextIdx=s,n=!0;break}if(this._markers[s].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;let n=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex((t=>t.resource.toString()===e.toString()));if(!(i<0))for(;i<this._markers.length;i++)if(br.containsPosition(this._markers[i],t))return new zP(this._markers[i],i+1,this._markers.length)}static _compareMarker(e,t){let i=go(e.resource.toString(),t.resource.toString());return 0===i&&(i=EE.compare(e.severity,t.severity)),0===i&&(i=br.compareRangesUsingStarts(e,t)),i}};UP=VP([HP(1,TE)],UP);const KP=Tn("IMarkerNavigationService");let jP=class{constructor(e){this._markerService=e,this._provider=new S}getMarkerList(e){for(let t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new UP(e,this._markerService)}};jP=VP([HP(0,TE)],jP),Ou(KP,jP,!0);var $P;($P||($P={})).className=function(e){switch(e){case jk.Ignore:return"severity-ignore "+qn.info.classNames;case jk.Info:return qn.info.classNames;case jk.Warning:return qn.warning.classNames;case jk.Error:return qn.error.classNames;default:return""}},As(((e,t)=>{const i=e.getColor($f);if(i){const e=qn.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extensions-viewlet > .extensions ${e} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`)}const n=e.getColor(qf);if(n){const e=qn.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.preferences-editor ${e} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const o=e.getColor(Gf);if(o){const e=qn.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}}));var qP=function(e,t){return function(i,n){t(i,n,e)}};class GP{constructor(e,t,i,n,o){this._openerService=n,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new b,this._editor=t;const s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(vi(this._relatedBlock,"click",(e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&i(t)}))),this._scrollable=new yy(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((e=>{s.style.left=`-${e.scrollLeft}px`,s.style.top=`-${e.scrollTop}px`}))),this._disposables.add(this._scrollable)}dispose(){p(this._disposables)}update(e){const{source:t,message:i,relatedInformation:n,code:o}=e;let s=((null==t?void 0:t.length)||0)+"()".length;o&&(s+="string"==typeof o?o.length:o.value.length);const r=lo(i);this._lines=r.length,this._longestLineLength=0;for(const h of r)this._longestLineLength=Math.max(h.length+s,this._longestLineLength);mi(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const h of r)a=document.createElement("div"),a.innerText=h,""===h&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||o){const e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){const i=document.createElement("span");i.innerText=t,i.classList.add("source"),e.appendChild(i)}if(o)if("string"==typeof o){const t=document.createElement("span");t.innerText=`(${o})`,t.classList.add("code"),e.appendChild(t)}else{this._codeLink=hn("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(o.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()};sn(this._codeLink,hn("span")).innerText=o.value,e.appendChild(this._codeLink)}}if(mi(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),vd(n)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(58))}px`,this._lines+=1;for(const t of n){let i=document.createElement("div"),n=document.createElement("a");n.classList.add("filename"),n.innerText=`${qA(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,n.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(n,t);let o=document.createElement("span");o.innerText=t.message,i.appendChild(n),i.appendChild(o),this._lines+=1,e.appendChild(i)}}const l=this._editor.getOption(43),d=Math.ceil(l.typicalFullwidthCharacterWidth*this._longestLineLength*.75),c=l.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:c})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let i="";switch(e.severity){case EE.Error:i=t("vs/editor/contrib/gotoError/gotoErrorWidget","Error","Error");break;case EE.Warning:i=t("vs/editor/contrib/gotoError/gotoErrorWidget","Warning","Warning");break;case EE.Info:i=t("vs/editor/contrib/gotoError/gotoErrorWidget","Info","Info");break;case EE.Hint:i=t("vs/editor/contrib/gotoError/gotoErrorWidget","Hint","Hint")}let n=t("vs/editor/contrib/gotoError/gotoErrorWidget","marker aria","{0} at {1}. ",i,e.startLineNumber+":"+e.startColumn);const o=this._editor.getModel();if(o&&e.startLineNumber<=o.getLineCount()&&e.startLineNumber>=1){n=`${o.getLineContent(e.startLineNumber)}, ${n}`}return n}}let ZP=class e extends mI{constructor(e,t,i,n,o,s,r){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=s,this._labelService=r,this._callOnDispose=new b,this._onDidSelectRelatedInformation=new X,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=EE.Warning,this._backgroundColor=Yu.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(sF);let t=XP,i=eF;this._severity===EE.Warning?(t=tF,i=iF):this._severity===EE.Info&&(t=nF,i=oF);const n=e.getColor(t),o=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:o,primaryHeadingColor:e.getColor(fI),secondaryHeadingColor:e.getColor(_I)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((e=>this.editor.focus())));const i=[],n=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);iI(n,void 0,i),this._actionbarWidget.push(i,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=sn(e,hn(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new GP(this._container,this.editor,(e=>this._onDidSelectRelatedInformation.fire(e)),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,i,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let o=br.lift(e);const s=this.editor.getPosition();let r=s&&o.containsPosition(s)?s:o.getStartPosition();super.show(r,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const e=n>1?t("vs/editor/contrib/gotoError/gotoErrorWidget","problems","{0} of {1} problems",i,n):t("vs/editor/contrib/gotoError/gotoErrorWidget","change","{0} of {1} problem",i,n);this.setTitle(qa(a.uri),e)}this._icon.className=`codicon ${$P.className(EE.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(r,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};ZP.TitleMenu=new Fs("gotoErrorTitleMenu"),ZP=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([qP(1,Ls),qP(2,DP),qP(3,Bs),qP(4,Nn),qP(5,_s),qP(6,ZA)],ZP);let JP=Xf(Um,Km),QP=Xf($m,qm),YP=Xf(Zm,Jm);const XP=om("editorMarkerNavigationError.background",{dark:JP,light:JP,hc:dm},t("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationError","Editor marker navigation widget error color.")),eF=om("editorMarkerNavigationError.headerBackground",{dark:Yf(XP,.1),light:Yf(XP,.1),hc:null},t("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),tF=om("editorMarkerNavigationWarning.background",{dark:QP,light:QP,hc:dm},t("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),iF=om("editorMarkerNavigationWarning.headerBackground",{dark:Yf(tF,.1),light:Yf(tF,.1),hc:"#0C141F"},t("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),nF=om("editorMarkerNavigationInfo.background",{dark:YP,light:YP,hc:dm},t("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationInfo","Editor marker navigation widget info color.")),oF=om("editorMarkerNavigationInfo.headerBackground",{dark:Yf(nF,.1),light:Yf(nF,.1),hc:null},t("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),sF=om("editorMarkerNavigation.background",{dark:Xm,light:Xm,hc:Xm},t("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationBackground","Editor marker navigation widget background."));As(((e,t)=>{const i=e.getColor(hm);i&&t.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${i}; }`);const n=e.getColor(um);n&&t.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${n}; }`)}));var rF=function(e,t){return function(i,n){t(i,n,e)}},aF=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let lF=class e{constructor(e,t,i,n,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=o,this._sessionDispoables=new b,this._editor=e,this._widgetVisible=uF.bindTo(this._contextKeyService)}static get(t){return t.getContribution(e.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(ZP,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e=>{var t,i,n;(null===(t=this._model)||void 0===t?void 0:t.selected)&&br.containsPosition(null===(i=this._model)||void 0===i?void 0:i.selected.marker,e.position)||null===(n=this._model)||void 0===n||n.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:br.lift(e).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new Rn(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,i){return aF(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const n=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(n.move(t,this._editor.getModel(),this._editor.getPosition()),!n.selected)return;if(n.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const o=yield this._editorService.openCodeEditor({resource:n.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:n.selected.marker}},this._editor);o&&(e.get(o).close(),e.get(o).nagivate(t,i))}else this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}}))}};lF.ID="editor.contrib.markerController",lF=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([rF(1,KP),rF(2,_s),rF(3,An),rF(4,Nn)],lF);class dF extends nr{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){return aF(this,void 0,void 0,(function*(){t.hasModel()&&lF.get(t).nagivate(this._next,this._multiFile)}))}}class cF extends dF{constructor(){super(!0,!1,{id:cF.ID,label:cF.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:578,weight:100},menuOpts:{menuId:ZP.TitleMenu,title:cF.LABEL,icon:Qx("marker-navigation-next",qn.arrowDown,t("vs/editor/contrib/gotoError/gotoError","nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}cF.ID="editor.action.marker.next",cF.LABEL=t("vs/editor/contrib/gotoError/gotoError","markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class hF extends dF{constructor(){super(!1,!1,{id:hF.ID,label:hF.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:1602,weight:100},menuOpts:{menuId:ZP.TitleMenu,title:cF.LABEL,icon:Qx("marker-navigation-previous",qn.arrowUp,t("vs/editor/contrib/gotoError/gotoError","previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}hF.ID="editor.action.marker.prev",hF.LABEL=t("vs/editor/contrib/gotoError/gotoError","markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");cr(lF.ID,lF),ar(cF),ar(hF),ar(class extends dF{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:t("vs/editor/contrib/gotoError/gotoError","markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:66,weight:100},menuOpts:{menuId:Fs.MenubarGoMenu,title:t("vs/editor/contrib/gotoError/gotoError",{key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),ar(class extends dF{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:t("vs/editor/contrib/gotoError/gotoError","markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:1090,weight:100},menuOpts:{menuId:Fs.MenubarGoMenu,title:t("vs/editor/contrib/gotoError/gotoError",{key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const uF=new fs("markersNavigationVisible",!1);rr(new(ir.bindToContribution(lF.get))({id:"closeMarkersNavigation",precondition:uF,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:av.focus,primary:9,secondary:[1033]}}));var gF=function(e,t){return function(i,n){t(i,n,e)}};const mF=hn;class pF{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const fF={type:1,filter:{include:aE.QuickFix}};let _F=class{constructor(e,t,i,n){this._editor=e,this._hover=t,this._markerDecorationsService=i,this._openerService=n,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),s=[];for(const r of t){const t=r.range.startLineNumber===n?r.range.startColumn:1,a=r.range.endLineNumber===n?r.range.endColumn:o,l=this._markerDecorationsService.getMarker(i.uri,r);if(!l)continue;const d=new br(e.range.startLineNumber,t,e.range.startLineNumber,a);s.push(new pF(this,d,l))}return s}renderHoverParts(e,t,i){if(!e.length)return v.None;const n=new b;e.forEach((e=>t.appendChild(this.renderMarkerHover(e,n))));const o=1===e.length?e[0]:e.sort(((e,t)=>EE.compare(e.marker.severity,t.marker.severity)))[0];return this.renderMarkerStatusbar(o,i,n),n}renderMarkerHover(e,t){const i=mF("div.hover-row"),o=sn(i,mF("div.marker.hover-contents")),{source:s,message:r,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(o);const d=sn(o,mF("span"));if(d.style.whiteSpace="pre-wrap",d.innerText=r,s||a)if(a&&"string"!=typeof a){const e=mF("span");if(s){sn(e,mF("span")).innerText=s}const i=sn(e,mF("a.code-link"));i.setAttribute("href",a.target.toString()),t.add(_i(i,"click",(e=>{this._openerService.open(a.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()})));sn(i,mF("span")).innerText=a.value;const n=sn(o,e);n.style.opacity="0.6",n.style.paddingLeft="6px"}else{const e=sn(o,mF("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=s&&a?`${s}(${a})`:s||`(${a})`}if(vd(l))for(const{message:c,resource:h,startLineNumber:u,startColumn:g}of l){const e=sn(o,mF("div"));e.style.marginTop="8px";const i=sn(e,mF("a"));i.innerText=`${qa(h)}(${u}, ${g}): `,i.style.cursor="pointer",t.add(_i(i,"click",(e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(h,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:u,startColumn:g}}}).catch(n)})));const s=sn(e,mF("span"));s.innerText=c,this._editor.applyFontInfo(s)}return i}renderMarkerStatusbar(e,i,o){if(e.marker.severity!==EE.Error&&e.marker.severity!==EE.Warning&&e.marker.severity!==EE.Info||i.addAction({label:t("view problem","View Problem"),commandId:cF.ID,run:()=>{this._hover.hide(),lF.get(this._editor).showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(80)){const s=i.append(mF("div"));this.recentMarkerCodeActionsInfo&&(IE.makeKey(this.recentMarkerCodeActionsInfo.marker)===IE.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=t("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?v.None:o.add(_t((()=>s.textContent=t("checkingForQuickFixes","Checking for quick fixes...")),200));s.textContent||(s.textContent=String.fromCharCode(160));const a=this.getCodeActions(e.marker);o.add(_((()=>a.cancel()))),a.then((n=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:n.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return n.dispose(),void(s.textContent=t("noQuickFixes","No quick fixes available"));s.style.display="none";let a=!1;o.add(_((()=>{a||n.dispose()}))),i.addAction({label:t("quick fixes","Quick Fix..."),commandId:$E.Id,run:e=>{a=!0;const t=UE.get(this._editor),i=Oi(e);this._hover.hide(),t.showCodeActions(fF,n,{x:i.left+6,y:i.top+i.height+6})}})}),n)}}getCodeActions(e){return ht((t=>mE(this._editor.getModel(),new br(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),fF,fL.None,t)))}};_F=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([gF(2,yv),gF(3,DP)],_F),As(((e,t)=>{const i=e.getColor(hm);i&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${i}; }`);const n=e.getColor(um);n&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)}));class bF{static insert(e,t){return{range:new br(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}class vF{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(0===this.parts.length)return"";const t=this.parts[this.parts.length-1];return function(e,t){const i=new wF(e),n=t.map((e=>{const t=br.lift(e.range);return{startOffset:i.getOffset(t.getStartPosition()),endOffset:i.getOffset(t.getEndPosition()),text:e.text}}));n.sort(((e,t)=>t.startOffset-e.startOffset));for(const o of n)e=e.substring(0,o.startOffset)+o.text+e.substring(o.endOffset);return e}(e.substr(0,t.column-1),this.parts.map((e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")})))).substring(this.parts[0].column-1)}}class wF{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}class CF{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class yF extends v{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new X,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(105)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()})))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}function SF(e,t,i,n,o=0){if(e.range.startLineNumber!==e.range.endLineNumber)return;const s=t.getLineContent(e.range.startLineNumber),r=ho(s).length;if(e.range.startColumn-1<=r){const t=ho(e.text).length,i=s.substring(e.range.startColumn-1,r),n=br.fromPositions(e.range.getStartPosition().delta(0,i.length),e.range.getEndPosition()),o=e.text.startsWith(i)?e.text.substring(i.length):e.text.substring(t);e={range:n,text:o,command:e.command}}const a=t.getValueInRange(e.range),l=function(e,t){if((null==kF?void 0:kF.originalValue)===e&&(null==kF?void 0:kF.newValue)===t)return null==kF?void 0:kF.changes;{const i=function(e,t){if(e.length>5e3||t.length>5e3)return;function i(e){let t=0;for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);n>t&&(t=n)}return t}const n=Math.max(i(e),i(t));function o(e){if(e<0)throw new Error("unexpected");return n+e+1}function s(e){let t=0,i=0;const n=new Int32Array(e.length);for(let s=0,r=e.length;s<r;s++){const r=100*i+t;"("===e[s]?(n[s]=o(2*r),t++):")"===e[s]?(n[s]=o(2*r+1),1===t&&i++,t=Math.max(t-1,0)):n[s]=e.charCodeAt(s)}return n}const r=s(e),a=s(t);return new UT({getElements:()=>r},{getElements:()=>a}).ComputeDiff(!1).changes}(e,t);return kF={originalValue:e,newValue:t,changes:i},i}}(a,e.text);if(!l)return;const d=e.range.startLineNumber,c=new Array;if("prefix"===i){const e=l.filter((e=>0===e.originalLength));if(e.length>1||1===e.length&&e[0].originalStart!==a.length)return}const h=e.text.length-o;for(const u of l){const t=e.range.startColumn+u.originalStart+u.originalLength;if("subwordSmart"===i&&n&&n.lineNumber===e.range.startLineNumber&&t<n.column)return;if(u.originalLength>0)return;if(0===u.modifiedLength)continue;const o=u.modifiedStart+u.modifiedLength,s=Math.max(u.modifiedStart,Math.min(o,h)),r=e.text.substring(u.modifiedStart,s),a=e.text.substring(s,Math.max(u.modifiedStart,o));if(r.length>0){const e=lo(r);c.push(new CF(t,e,!1))}if(a.length>0){const e=lo(a);c.push(new CF(t,e,!0))}}return new vF(d,c,0)}let kF;var xF=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let LF=class extends v{constructor(e,t,i){super(),this.editor=e,this.cache=t,this.commandService=i,this.onDidChangeEmitter=new X,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new w),this.active=!1,this.disposed=!1,this._register(i.onDidExecuteCommand((t=>{new Set([pr.id,fr.id,vv.Tab.id,vv.DeleteLeft.id,vv.DeleteRight.id,"editor.action.inlineSuggest.commit","acceptSelectedSuggestion"]).has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()}))),this._register(this.editor.onDidType((e=>{this.handleUserInput()}))),this._register(this.editor.onDidChangeCursorPosition((e=>{this.session&&!this.session.isValid&&this.hide()}))),this._register(_((()=>{this.disposed=!0}))),this._register(this.editor.onDidBlurEditorWidget((()=>{this.hide()})))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout((()=>{this.disposed||this.startSessionIfTriggered()}),0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(54).enabled&&(this.session&&this.session.isValid||this.trigger(Dc.Automatic))}trigger(e){this.completionSession.value?e===Dc.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new DF(this.editor,this.editor.getPosition(),(()=>this.active),this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange((()=>{this.onDidChangeEmitter.fire()}))))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return xF(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};LF=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(2,Jn)],LF);class DF extends yF{constructor(e,t,i,n,o,s){let r;super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.cache=o,this.initialTriggerKind=s,this.minReservedLineCount=0,this.updateOperation=this._register(new w),this.updateSoon=this._register(new Ct((()=>{let e=this.initialTriggerKind;return this.initialTriggerKind=Dc.Automatic,this.update(e)}),50)),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange((()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==r){r=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,r)}}))),this._register(_((()=>{this.cache.clear()}))),this._register(this.editor.onDidChangeCursorPosition((e=>{this.cache.value&&this.onDidChangeEmitter.fire()}))),this._register(this.editor.onDidChangeModelContent((e=>{this.scheduleAutomaticUpdate()}))),this._register(Vc.onDidChange((()=>{this.updateSoon.schedule()}))),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex((e=>e.semanticId===this.currentlySelectedCompletionId));return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return xF(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return xF(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return xF(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===Dc.Explicit?yield this.updateOperation.value.promise:yield this.update(Dc.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==Dc.Explicit&&(yield this.update(Dc.Explicit))}))}hasMultipleInlineCompletions(){var e;return xF(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?SF(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return xF(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=ht((i=>xF(this,void 0,void 0,(function*(){let o;try{o=yield TF(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},i)}catch(G1){return void n(G1)}i.isCancellationRequested||(this.cache.setValue(this.editor,o,e),this.onDidChangeEmitter.fire())})))),o=new EF(i,e);this.updateOperation.value=o,yield i,this.updateOperation.value===o&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[bF.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally((()=>{null==t||t.dispose()})).then(void 0,o):null==t||t.dispose(),this.onDidChangeEmitter.fire()}}class EF{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class NF extends v{constructor(e,t,i,o){super(),this.triggerKind=o;const s=e.deltaDecorations([],t.items.map((e=>({range:e.range,options:{description:"inline-completion-tracking-range"}}))));this._register(_((()=>{e.deltaDecorations(s,[])}))),this.completions=t.items.map(((e,t)=>new IF(e,s[t]))),this._register(e.onDidChangeModelContent((()=>{let t=!1;const o=e.getModel();for(const e of this.completions){const i=o.getDecorationRange(e.decorationId);i?e.synchronizedRange.equalsRange(i)||(t=!0,e.synchronizedRange=i):n(new Error("Decoration has no range"))}t&&i()}))),this._register(t)}}class IF{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function TF(e,t,i,n=rt.None){return xF(this,void 0,void 0,(function*(){const o=function(e,t){const i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new br(e.lineNumber,i.startColumn,e.lineNumber,n):br.fromPositions(e,e.with(void 0,n))}(e,t),s=Vc.all(t),r=yield Promise.all(s.map((o=>xF(this,void 0,void 0,(function*(){const s=yield o.provideInlineCompletions(t,e,i,n);return{completions:s,provider:o,dispose:()=>{s&&o.freeInlineCompletions(s)}}}))))),a=new Map;for(const e of r){const t=e.completions;if(t)for(const i of t.items.map((i=>({text:i.text,range:i.range?br.lift(i.range):o,command:i.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:i}))))i.range.startLineNumber===i.range.endLineNumber&&a.set(JSON.stringify({text:i.text,range:i.range}),i)}return{items:[...a.values()],dispose:()=>{for(const e of r)e.dispose()}}}))}function MF(e,t){if(!t)return t;const i=e.getValueInRange(t.range),n=Co(i,t.text),o=e.getOffsetAt(t.range.getStartPosition())+n,s=e.getPositionAt(o),r=yo(i.substr(n),t.text),a=e.getPositionAt(Math.max(o,e.getOffsetAt(t.range.getEndPosition())-r));return{range:br.fromPositions(s,a),text:t.text.substr(n,t.text.length-n-r)}}class AF{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e,t=this.pos,i=0,n=this.value.charCodeAt(t);if(e=AF._table[n],"number"==typeof e)return this.pos+=1,{type:e,pos:t,len:1};if(AF.isDigitCharacter(n)){e=8;do{i+=1,n=this.value.charCodeAt(t+i)}while(AF.isDigitCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}if(AF.isVariableCharacter(n)){e=9;do{n=this.value.charCodeAt(t+ ++i)}while(AF.isVariableCharacter(n)||AF.isDigitCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}e=10;do{i+=1,n=this.value.charCodeAt(t+i)}while(!isNaN(n)&&void 0===AF._table[n]&&!AF.isDigitCharacter(n)&&!AF.isVariableCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}}AF._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class RF{constructor(){this._children=[]}appendChild(e){return e instanceof OF&&this._children[this._children.length-1]instanceof OF?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function e(t,i){for(const n of t)n.parent=i,e(n.children,n)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof UF)return e;e=e.parent}}toString(){return this.children.reduce(((e,t)=>e+t.toString()),"")}len(){return 0}}class OF extends RF{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new OF(this.value)}}class PF extends RF{}class FF extends PF{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof BF?this._children[0]:void 0}clone(){let e=new FF(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}class BF extends RF{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof OF&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new BF;return this.options.forEach(e.appendChild,e),e}}class WF extends RF{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some((e=>e instanceof VF&&Boolean(e.elseValue)))&&(n=this._replace([])),n}_replace(e){let t="";for(const i of this._children)if(i instanceof VF){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){let e=new WF;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((e=>e.clone())),e}}class VF extends RF{constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).join(""):e}clone(){return new VF(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class HF extends PF{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new OF(t)],!0)}clone(){const e=new HF(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}function zF(e,t){const i=[...e];for(;i.length>0;){const e=i.shift();if(!t(e))break;i.unshift(...e.children)}}class UF extends RF{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk((function(i){return i instanceof FF&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk((n=>n===e?(i=!0,!1):(t+=n.len(),!0))),i?t:-1}fullLen(e){let t=0;return zF([e],(e=>(t+=e.len(),!0))),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof FF&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk((t=>(t instanceof HF&&t.resolve(e)&&(this._placeholders=void 0),!0))),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new UF;return this._children=this.children.map((e=>e.clone())),e}walk(e){zF(this.children,e)}}class KF{constructor(){this._scanner=new AF,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();const n=new UF;for(;this._parse(n););const o=new Map,s=[];let r=0;n.walk((e=>(e instanceof FF&&(r+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):s.push(e)),!0)));for(const a of s){const e=o.get(a.index);if(e){const t=new FF(a.index);t.transform=a.transform;for(const i of e)t.appendChild(i.clone());n.replace(a,[t])}}return i||(i=r>0&&t),!o.has(0)&&i&&n.appendChild(new FF(0)),n}_accept(e,t){if(void 0===e||this._token.type===e){let e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new OF(t)),!0)}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new FF(Number(t)):new HF(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const n=new FF(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new OF("${"+t+":")),n.children.forEach(e.appendChild,e),!0}else{if(!(n.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);{const t=new BF;for(;;){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(t),this._accept(4)))return e.appendChild(n),!0}return this._backTo(i),!1}}}}_parseChoiceElement(e){const t=this._token,i=[];for(;2!==this._token.type&&7!==this._token.type;){let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;i.push(e)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new OF(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const n=new HF(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new OF("${"+t+":")),n.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new WF,i="",n="";for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,i+=e;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new OF(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(G1){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new VF(Number(n))),!0;if(this._accept(4))return e.appendChild(new VF(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new VF(Number(n),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){let t=this._until(4);if(t)return e.appendChild(new VF(Number(n),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return e.appendChild(new VF(Number(n),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let i=this._until(4);if(i)return e.appendChild(new VF(Number(n),void 0,t,i)),!0}}else{let t=this._until(4);if(t)return e.appendChild(new VF(Number(n),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new OF(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}const jF=Tn("contextService");class $F{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const qF=new Uint8Array(16),GF=[];for(let Z1=0;Z1<256;Z1++)GF.push(Z1.toString(16).padStart(2,"0"));let ZF;ZF="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e};function JF(e){const t=e;return"string"==typeof(null==t?void 0:t.id)&&Yt.isUri(t.uri)}class QF{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let i=t.resolve(e);if(void 0!==i)return i}}}class YF{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,i=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,i=e.multiline)}if(t&&i&&e.snippet){const i=ho(this._model.getLineContent(this._selection.startLineNumber),0,this._selection.startColumn-1);let n=i;e.snippet.walk((t=>t!==e&&(t instanceof OF&&(n=ho(lo(t.value).pop())),!0)));const o=Co(n,i);t=t.replace(/(\r\n|\r|\n)(.*)/g,((e,t,i)=>`${t}${n.substr(o)}${i}`))}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}class XF{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return Ut(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=Ut(this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t?"."===zt(this._model.uri.fsPath)?"":this._labelService.getUriLabel(Ga(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class eB{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter((e=>!Yn(e)));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}}class tB{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=Uu.getComments(i);if(n)return"LINE_COMMENT"===t?n.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?n.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&n.blockCommentEndToken||void 0}}class iB{constructor(){this._date=new Date}resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===t?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===t?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?iB.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===t?iB.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===t?iB.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?iB.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(this._date.getTime()/1e3)):void 0}}iB.dayNames=[t("vs/editor/contrib/snippet/snippetVariables","Sunday","Sunday"),t("vs/editor/contrib/snippet/snippetVariables","Monday","Monday"),t("vs/editor/contrib/snippet/snippetVariables","Tuesday","Tuesday"),t("vs/editor/contrib/snippet/snippetVariables","Wednesday","Wednesday"),t("vs/editor/contrib/snippet/snippetVariables","Thursday","Thursday"),t("vs/editor/contrib/snippet/snippetVariables","Friday","Friday"),t("vs/editor/contrib/snippet/snippetVariables","Saturday","Saturday")],iB.dayNamesShort=[t("vs/editor/contrib/snippet/snippetVariables","SundayShort","Sun"),t("vs/editor/contrib/snippet/snippetVariables","MondayShort","Mon"),t("vs/editor/contrib/snippet/snippetVariables","TuesdayShort","Tue"),t("vs/editor/contrib/snippet/snippetVariables","WednesdayShort","Wed"),t("vs/editor/contrib/snippet/snippetVariables","ThursdayShort","Thu"),t("vs/editor/contrib/snippet/snippetVariables","FridayShort","Fri"),t("vs/editor/contrib/snippet/snippetVariables","SaturdayShort","Sat")],iB.monthNames=[t("vs/editor/contrib/snippet/snippetVariables","January","January"),t("vs/editor/contrib/snippet/snippetVariables","February","February"),t("vs/editor/contrib/snippet/snippetVariables","March","March"),t("vs/editor/contrib/snippet/snippetVariables","April","April"),t("vs/editor/contrib/snippet/snippetVariables","May","May"),t("vs/editor/contrib/snippet/snippetVariables","June","June"),t("vs/editor/contrib/snippet/snippetVariables","July","July"),t("vs/editor/contrib/snippet/snippetVariables","August","August"),t("vs/editor/contrib/snippet/snippetVariables","September","September"),t("vs/editor/contrib/snippet/snippetVariables","October","October"),t("vs/editor/contrib/snippet/snippetVariables","November","November"),t("vs/editor/contrib/snippet/snippetVariables","December","December")],iB.monthNamesShort=[t("vs/editor/contrib/snippet/snippetVariables","JanuaryShort","Jan"),t("vs/editor/contrib/snippet/snippetVariables","FebruaryShort","Feb"),t("vs/editor/contrib/snippet/snippetVariables","MarchShort","Mar"),t("vs/editor/contrib/snippet/snippetVariables","AprilShort","Apr"),t("vs/editor/contrib/snippet/snippetVariables","MayShort","May"),t("vs/editor/contrib/snippet/snippetVariables","JuneShort","Jun"),t("vs/editor/contrib/snippet/snippetVariables","JulyShort","Jul"),t("vs/editor/contrib/snippet/snippetVariables","AugustShort","Aug"),t("vs/editor/contrib/snippet/snippetVariables","SeptemberShort","Sep"),t("vs/editor/contrib/snippet/snippetVariables","OctoberShort","Oct"),t("vs/editor/contrib/snippet/snippetVariables","NovemberShort","Nov"),t("vs/editor/contrib/snippet/snippetVariables","DecemberShort","Dec")];class nB{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(i=this._workspaceService.getWorkspace()).configuration?{id:i.id,configPath:i.configuration}:1===i.folders.length?{id:i.id,uri:i.folders[0].uri}:void 0;var i;return t?"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0:void 0}_resolveWorkspaceName(e){if(JF(e))return Ut(e.uri.path);let t=Ut(e.configPath.path);return t.endsWith("code-workspace")&&(t=t.substr(0,t.length-"code-workspace".length-1)),t}_resoveWorkspacePath(e){if(JF(e))return GA(e.uri.fsPath);let t=Ut(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?GA(i):"/"}}class oB{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?function(){ZF(qF),qF[6]=15&qF[6]|64,qF[8]=63&qF[8]|128;let e=0,t="";return t+=GF[qF[e++]],t+=GF[qF[e++]],t+=GF[qF[e++]],t+=GF[qF[e++]],t+="-",t+=GF[qF[e++]],t+=GF[qF[e++]],t+="-",t+=GF[qF[e++]],t+=GF[qF[e++]],t+="-",t+=GF[qF[e++]],t+=GF[qF[e++]],t+="-",t+=GF[qF[e++]],t+=GF[qF[e++]],t+=GF[qF[e++]],t+=GF[qF[e++]],t+=GF[qF[e++]],t+=GF[qF[e++]],t}():void 0}}As(((e,t)=>{function i(t){const i=e.getColor(t);return i?i.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${i(If)}; outline-color: ${i(Tf)}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${i(Mf)}; outline-color: ${i(Af)}; }`)}));class sB{constructor(e,t,i,n){this._editor=e,this._snippet=t,this._offset=i,this._snippetLineLeadingWhitespace=n,this._nestingLevel=1,this._placeholderGroups=fd(t.placeholders,FF.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations((t=>{for(const i of this._snippet.placeholders){const n=this._snippet.offset(i),o=this._snippet.fullLen(i),s=br.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),r=i.isFinalTabstop?sB._decor.inactiveFinal:sB._decor.inactive,a=t.addDecoration(s,r);this._placeholderDecorations.set(i,a)}}))}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const i=this._placeholderDecorations.get(t),n=this._editor.getModel().getDecorationRange(i),o=this._editor.getModel().getValueInRange(n),s=t.transform.resolve(o).split(/\r\n|\r|\n/);for(let e=1;e<s.length;e++)s[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+s[e]);e.push(bF.replace(n,s.join(this._editor.getModel().getEOL())))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations((e=>{const i=new Set,n=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const s=this._placeholderDecorations.get(o),r=this._editor.getModel().getDecorationRange(s);n.push(new vr(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(o),e.changeDecorationOptions(s,o.isFinalTabstop?sB._decor.activeFinal:sB._decor.active),i.add(o);for(const t of this._snippet.enclosingPlaceholders(o)){const n=this._placeholderDecorations.get(t);e.changeDecorationOptions(n,t.isFinalTabstop?sB._decor.activeFinal:sB._decor.active),i.add(t)}}for(const[t,o]of this._placeholderDecorations)i.has(t)||e.changeDecorationOptions(o,t.isFinalTabstop?sB._decor.inactiveFinal:sB._decor.inactive);return n}));return t?this.move(e):null!=i?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof FF){const e=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(e).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));const t=this._placeholderDecorations.get(n),o=this._editor.getModel().getDecorationRange(t);if(!o){e.delete(n.index);break}i.push(o)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((i=>{for(const n of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(!o._placeholderDecorations);const s=o._snippet.placeholderInfo.last.index;for(const e of o._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=n.index+(s+1)/this._nestingLevel:e.index=n.index+e.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);const r=this._placeholderDecorations.get(n);i.removeDecoration(r),this._placeholderDecorations.delete(n);for(const e of o._snippet.placeholders){const n=o._snippet.offset(e),s=o._snippet.fullLen(e),r=br.fromPositions(t.getPositionAt(o._offset+n),t.getPositionAt(o._offset+n+s)),a=i.addDecoration(r,sB._decor.inactive);this._placeholderDecorations.set(e,a)}}this._placeholderGroups=fd(this._snippet.placeholders,FF.compareByIndex)}))}}sB._decor={active:vb.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:vb.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:vb.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:vb.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const rB={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class aB{constructor(e,t,i=rB){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,n,o){const s=ho(e.getLineContent(t.lineNumber),0,t.column-1);let r;return i.walk((t=>{if(!(t instanceof OF)||t.parent instanceof BF)return!0;const o=t.value.split(/\r\n|\r|\n/);if(n){const n=i.offset(t);if(0===n)o[0]=e.normalizeIndentation(o[0]);else{r=null!=r?r:i.toString();let t=r.charCodeAt(n-1);10!==t&&13!==t||(o[0]=e.normalizeIndentation(s+o[0]))}for(let t=1;t<o.length;t++)o[t]=e.normalizeIndentation(s+o[t])}const a=o.join(e.getEOL());return a!==t.value&&(t.parent.replace(t,[new OF(a)]),r=void 0),!0})),s}static adjustSelection(e,t,i,n){if(0!==i||0!==n){const{positionLineNumber:o,positionColumn:s}=t,r=s-i,a=s+n,l=e.validateRange({startLineNumber:o,startColumn:r,endLineNumber:o,endColumn:a});t=vr.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,i,n,o,s,r,a){const l=[],d=[];if(!e.hasModel())return{edits:l,snippets:d};const c=e.getModel(),h=e.invokeWithinContext((e=>e.get(jF))),u=e.invokeWithinContext((e=>new XF(e.get(ZA),c))),g=()=>r;let m=0,p=c.getValueInRange(aB.adjustSelection(c,e.getSelection(),i,0)),f=c.getValueInRange(aB.adjustSelection(c,e.getSelection(),0,n)),_=c.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const b=e.getSelections().map(((e,t)=>({selection:e,idx:t}))).sort(((e,t)=>br.compareRangesUsingStarts(e.selection,t.selection)));for(const{selection:v,idx:w}of b){let r=aB.adjustSelection(c,v,i,0),C=aB.adjustSelection(c,v,0,n);p!==c.getValueInRange(r)&&(r=v),f!==c.getValueInRange(C)&&(C=v);const y=v.setStartPosition(r.startLineNumber,r.startColumn).setEndPosition(C.endLineNumber,C.endColumn),S=(new KF).parse(t,!0,o),k=y.getStartPosition(),x=aB.adjustWhitespace(c,k,S,s||w>0&&_!==c.getLineFirstNonWhitespaceColumn(v.positionLineNumber),!0);S.resolveVariables(new QF([u,new eB(g,w,b.length,"spread"===e.getOption(70)),new YF(c,v,w,a),new tB(c,v),new iB,new nB(h),new oB]));const L=c.getOffsetAt(k)+m;m+=S.toString().length-c.getValueLengthInRange(y),l[w]=bF.replace(y,S.toString()),l[w].identifier={major:w,minor:0},d[w]=new sB(e,S,L,x)}return{edits:l,snippets:d}}dispose(){p(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=aB.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,(e=>this._snippets[0].hasPlaceholder?this._move(!0):e.filter((e=>!!e.identifier)).map((e=>vr.fromPositions(e.range.getEndPosition()))))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=rB){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:n}=aB.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,(e=>{for(const t of this._snippets)t.merge(n);return console.assert(0===n.length),this._snippets[0].hasPlaceholder?this._move(void 0):e.filter((e=>!!e.identifier)).map((e=>vr.fromPositions(e.range.getEndPosition())))}))}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const i of this._snippets){const n=i.computePossibleSelections();if(0===t.size)for(const[i,o]of n){o.sort(br.compareRangesUsingStarts);for(const n of e)if(o[0].containsRange(n)){t.set(i,[]);break}}if(0===t.size)return!1;t.forEach(((e,t)=>{e.push(...n.get(t))}))}e.sort(br.compareRangesUsingStarts);for(let[i,n]of t)if(n.length===e.length){n.sort(br.compareRangesUsingStarts);for(let o=0;o<n.length;o++)n[o].containsRange(e[o])||t.delete(i)}else t.delete(i);return t.size>0}}var lB=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const dB={Visible:new fs("suggestWidgetVisible",!1,t("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new fs("suggestWidgetDetailsVisible",!1,t("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new fs("suggestWidgetMultipleSuggestions",!1,t("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new fs("suggestionMakesTextEdit",!0,t("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new fs("acceptSuggestionOnEnter",!0,t("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new fs("suggestionHasInsertAndReplaceRange",!1,t("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new fs("suggestionInsertMode",void 0,{type:"string",description:t("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new fs("suggestionCanResolve",!1,t("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},cB=new Fs("suggestWidgetStatusBar");class hB{constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=CD.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),br.isIRange(t.range)?(this.editStart=new Rn(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new Rn(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new Rn(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||br.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new Rn(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new Rn(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new Rn(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||br.spansMultipleLines(t.range.insert)||br.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof n.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return lB(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested((()=>{this._resolveCache=void 0,this._isResolved=!1}));this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()}),(e=>{r(e)&&(this._resolveCache=void 0,this._isResolved=!1)}))}return this._resolveCache}))}}class uB{constructor(e=2,t=new Set,i=new Set,n=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=n}}uB.default=new uB;class gB{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}}function mB(e,t,i=uB.default,n={triggerKind:0},s=rt.None){return lB(this,void 0,void 0,(function*(){const r=new J(!0);t=t.clone();const l=e.getWordAtPosition(t),d=l?new br(t.lineNumber,l.startColumn,t.lineNumber,l.endColumn):br.fromPositions(t),c={replace:d,insert:d.setEndPosition(t.lineNumber,t.column)},h=[],u=new b,g=[];let p=!1;const f=(e,n,o)=>{var s,r,a;if(n){for(let o of n.suggestions)if(!i.kindFilter.has(o.kind)){if(!i.showDeprecated&&(null===(s=null==o?void 0:o.tags)||void 0===s?void 0:s.includes(1)))continue;o.range||(o.range=c),o.sortText||(o.sortText="string"==typeof o.label?o.label:o.label.label),!p&&o.insertTextRules&&4&o.insertTextRules&&(p=KF.guessNeedsClipboard(o.insertText)),h.push(new hB(t,o,n,e))}m(n)&&u.add(n),g.push({providerName:null!==(r=e._debugDisplayName)&&void 0!==r?r:"unkown_provider",elapsedProvider:null!==(a=n.duration)&&void 0!==a?a:-1,elapsedOverall:o.elapsed()})}},_=(()=>lB(this,void 0,void 0,(function*(){})))();for(let a of Wc.orderedGroups(e)){let r=h.length;if(yield Promise.all(a.map((r=>lB(this,void 0,void 0,(function*(){if(!(i.providerFilter.size>0)||i.providerFilter.has(r))try{const i=new J(!0),o=yield r.provideCompletionItems(e,t,n,s);f(r,o,i)}catch(a){o(a)}}))))),r!==h.length||s.isCancellationRequested)break}return yield _,s.isCancellationRequested?(u.dispose(),Promise.reject(a())):new gB(h.sort(_B(i.snippetSortOrder)),p,{entries:g,elapsed:r.elapsed()},u)}))}function pB(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}const fB=new Map;function _B(e){return fB.get(e)}fB.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return pB(e,t)})),fB.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return pB(e,t)})),fB.set(1,pB),Qn.registerCommand("_executeCompletionItemProvider",((e,...t)=>lB(void 0,void 0,void 0,(function*(){const[i,n,o,s]=t;ke(Yt.isUri(i)),ke(Rn.isIPosition(n)),ke("string"==typeof o||!o),ke("number"==typeof s||!s);const r=yield e.get(Fn).createModelReference(i);try{const e={incomplete:!1,suggestions:[]},t=[],i=yield mB(r.object.textEditorModel,Rn.lift(n),void 0,{triggerCharacter:o,triggerKind:o?1:0});for(const n of i.items)t.length<(null!=s?s:0)&&t.push(n.resolve(rt.None)),e.incomplete=e.incomplete||n.container.incomplete,e.suggestions.push(n.completion);try{return yield Promise.all(t),e}finally{setTimeout((()=>i.disposable.dispose()),100)}}finally{r.dispose()}}))));const bB=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};Wc.register("*",bB);var vB=function(e,t){return function(i,n){t(i,n,e)}};const wB={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let CB=class e{constructor(t,i,n){this._editor=t,this._logService=i,this._snippetListener=new b,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(n),this._hasNextTabstop=e.HasNextTabstop.bindTo(n),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(n)}static get(t){return t.getContribution(e.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?wB:Object.assign(Object.assign({},wB),t))}catch(G1){this.cancel(),this._logService.error(G1),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new aB(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((e=>e.isFlush&&this.cancel()))),this._snippetListener.add(this._editor.onDidChangeModel((()=>this.cancel()))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((()=>this._updateState()))))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;var t,i;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map((e=>vr.fromPositions(e.getStartPosition()))));const[n]=e.options;t=this._editor,i=e.options.map(((e,t)=>({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(t+1),range:br.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))}))),setTimeout((()=>{bB.onlyOnceSuggestions.push(...i),t.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(bB))}),0)}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};CB.ID="snippetController2",CB.InSnippetMode=new fs("inSnippetMode",!1,t("inSnippetMode","Whether the editor in current in snippet mode")),CB.HasNextTabstop=new fs("hasNextTabstop",!1,t("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),CB.HasPrevTabstop=new fs("hasPrevTabstop",!1,t("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),CB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([vB(1,$s),vB(2,_s)],CB),cr(CB.ID,CB);const yB=ir.bindToContribution(CB.get);rr(new yB({id:"jumpToNextSnippetPlaceholder",precondition:Jo.and(CB.InSnippetMode,CB.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:av.editorTextFocus,primary:2}})),rr(new yB({id:"jumpToPrevSnippetPlaceholder",precondition:Jo.and(CB.InSnippetMode,CB.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:av.editorTextFocus,primary:1026}})),rr(new yB({id:"leaveSnippet",precondition:CB.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:av.editorTextFocus,primary:9,secondary:[1033]}})),rr(new yB({id:"acceptSnippet",precondition:CB.InSnippetMode,handler:e=>e.finish()}));var SB=function(e,t){return function(i,n){t(i,n,e)}};class kB{constructor(e){this.name=e}select(e,t,i){if(0===i.length)return 0;let n=i[0].score[0];for(let o=0;o<i.length;o++){const{score:e,completion:t}=i[o];if(e[0]!==n)break;if(t.preselect)return o}return 0}}class xB extends kB{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}let LB=class e{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new b,this._persistSoon=new Ct((()=>this._saveState()),500),this._disposables.add(e.onWillSaveState((e=>{e.reason===oN.SHUTDOWN&&this._saveState()})))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(t,i){var n;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(i.lineNumber,i.column),resource:t.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==o){this._saveState();const t=e._strategyCtors.get(o)||xB;this._strategy=new t;try{const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=this._storageService.get(`${e._storagePrefix}/${o}`,t);i&&this._strategy.fromJSON(JSON.parse(i))}catch(G1){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,i,t,1)}}};LB._strategyCtors=new Map([["recentlyUsedByPrefix",class extends kB{constructor(){super("recentlyUsedByPrefix"),this._trie=$d.forStrings(),this._seq=0}memorize(e,t,i){const{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){let{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);let o=`${e.getLanguageId()}/${n}`,s=this._trie.get(o);if(s||(s=this._trie.findSubstr(o)),s)for(let r=0;r<i.length;r++){let{kind:e,insertText:t}=i[r].completion;if(e===s.type&&t===s.insertText)return r}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach(((t,i)=>e.push([i,t]))),e.sort(((e,t)=>-(e[1].touch-t[1].touch))).forEach(((e,t)=>e[1].touch=t)),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type="number"==typeof i.type?i.type:Lc(i.type),this._trie.set(t,i)}}}],["recentlyUsed",class extends kB{constructor(){super("recentlyUsed"),this._cache=new Jd(300,.66),this._seq=0}memorize(e,t,i){const n=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(0===i.length)return 0;const n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);let o=i[0].score[0],s=-1,r=-1,a=-1;for(let l=0;l<i.length&&i[l].score[0]===o;l++){const t=`${e.getLanguageId()}/${i[l].textLabel}`,n=this._cache.peek(t);if(n&&n.touch>a&&n.type===i[l].completion.kind&&n.insertText===i[l].completion.insertText&&(a=n.touch,r=l),i[l].completion.preselect&&-1===s)return l}return-1!==r?r:-1!==s?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[t,i]of e)i.touch=0,i.type="number"==typeof i.type?i.type:Lc(i.type),this._cache.set(t,i);this._seq=this._cache.size}}],["first",xB]]),LB._storagePrefix="suggest/memories",LB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([SB(0,nN),SB(1,Du)],LB);const DB=Tn("ISuggestMemories");Ou(DB,LB,!0);let EB=class e{constructor(t,i){this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(i),this._configListener=this._editor.onDidChangeConfiguration((e=>e.hasChanged(110)&&this._update())),this._update()}dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(110);if(this._enabled!==e)if(this._enabled=e,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const e=this._editor.getModel(),t=this._editor.getSelection(),i=e.getWordAtPosition(t.getStartPosition());i?this._ckAtEnd.set(i.endColumn===t.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};EB.AtEnd=new fs("atEndOfWord",!1),EB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,_s)],EB);let NB=class e{constructor(t,i){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:i},n){if(0===t.items.length)return void this.reset();e._moveIndex(!0,t,i)!==i?(this._acceptNext=n,this._model=t,this._index=i,this._listener=this._editor.onDidChangeCursorPosition((()=>{this._ignore||this.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,n!==i&&t.items[n].completion.additionalTextEdits;);return n}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};NB.OtherSuggestions=new fs("hasOtherSuggestions",!1),NB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,_s)],NB);class IB{constructor(e,t,i){this._disposables=new b,this._disposables.add(t.onDidShow((()=>this._onItem(t.getFocusedItem())))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((n=>{if(this._active&&!t.isFrozen()){const t=n.charCodeAt(n.length-1);this._active.acceptCharacters.has(t)&&e.getOption(0)&&i(this._active.item)}})))}_onItem(e){if(!e||!vd(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new ql;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var TB=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class MB{provideSelectionRanges(e,t){return TB(this,void 0,void 0,(function*(){const i=[];for(const n of t){const t=[];i.push(t);const o=new Map;yield new Promise((t=>MB._bracketsRightYield(t,0,e,n,o))),yield new Promise((i=>MB._bracketsLeftYield(i,0,e,n,o,t)))}return i}))}static _bracketsRightYield(e,t,i,n,o){const s=new Map,r=Date.now();for(;;){if(t>=MB._maxRounds){e();break}if(!n){e();break}let a=i.findNextBracket(n);if(!a){e();break}if(Date.now()-r>MB._maxDuration){setTimeout((()=>MB._bracketsRightYield(e,t+1,i,n,o)));break}const l=a.close[0];if(a.isOpen){let e=s.has(l)?s.get(l):0;s.set(l,e+1)}else{let e=s.has(l)?s.get(l):0;if(e-=1,s.set(l,Math.max(0,e)),e<0){let e=o.get(l);e||(e=new S,o.set(l,e)),e.push(a.range)}}n=a.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,s){const r=new Map,a=Date.now();for(;;){if(t>=MB._maxRounds&&0===o.size){e();break}if(!n){e();break}let l=i.findPrevBracket(n);if(!l){e();break}if(Date.now()-a>MB._maxDuration){setTimeout((()=>MB._bracketsLeftYield(e,t+1,i,n,o,s)));break}const d=l.close[0];if(l.isOpen){let e=r.has(d)?r.get(d):0;if(e-=1,r.set(d,Math.max(0,e)),e<0){let e=o.get(d);if(e){let t=e.shift();0===e.size&&o.delete(d);const n=br.fromPositions(l.range.getEndPosition(),t.getStartPosition()),r=br.fromPositions(l.range.getStartPosition(),t.getEndPosition());s.push({range:n}),s.push({range:r}),MB._addBracketLeading(i,r,s)}}}else{let e=r.has(d)?r.get(d):0;r.set(d,e+1)}n=l.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);0!==o&&o!==t.startColumn&&(i.push({range:br.fromPositions(new Rn(n,o),t.getEndPosition())}),i.push({range:br.fromPositions(new Rn(n,1),t.getEndPosition())}));const s=n-1;if(s>0){const n=e.getLineFirstNonWhitespaceColumn(s);n===t.startColumn&&n!==e.getLineLastNonWhitespaceColumn(s)&&(i.push({range:br.fromPositions(new Rn(s,n),t.getEndPosition())}),i.push({range:br.fromPositions(new Rn(s,1),t.getEndPosition())}))}}}MB._maxDuration=30,MB._maxRounds=2;var AB=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class RB{static create(e,t){return AB(this,void 0,void 0,(function*(){if(!t.getOption(105).localityBonus)return RB.None;if(!t.hasModel())return RB.None;const i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return RB.None;const[o]=yield(new MB).provideSelectionRanges(i,[n]);if(0===o.length)return RB.None;const s=yield e.computeWordRanges(i.uri,o[0].range);if(!s)return RB.None;const r=i.getWordUntilPosition(n);return delete s[r.word],new class extends RB{distance(e,i){if(!n.equals(t.getPosition()))return 0;if(17===i.kind)return 2<<20;let r="string"==typeof i.label?i.label:i.label.label,a=s[r];if(bd(a))return 2<<20;let l=gd(a,br.fromPositions(e),br.compareRangesUsingStarts),d=l>=0?a[l]:a[Math.max(0,~l-1)],c=o.length;for(const t of o){if(!br.containsRange(t.range,d))break;c-=1}return c}}}))}}RB.None=new class extends RB{distance(){return 0}};class OB{constructor(e,t,i,n,o,s,r){this.clipboardText=r,this._snippetCompareFn=OB._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,"top"===s?this._snippetCompareFn=OB._compareCompletionItemsSnippetsUp:"bottom"===s&&(this._snippetCompareFn=OB._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let n="",o="";const s=1===this._refilterKind?this._items:this._filteredItems,r=[],a=!this._options.filterGraceful||s.length>2e3?SD:xD;for(let l=0;l<s.length;l++){const d=s[l];if(d.isInvalid)continue;this._providerInfo.set(d.provider,Boolean(d.container.incomplete));const c=d.position.column-d.editStart.column,h=c+i-(d.position.column-this._column);if(n.length!==h&&(n=0===h?"":t.slice(-h),o=n.toLowerCase()),d.word=n,0===h)d.score=CD.Default;else{let e=0;for(;e<c;){const t=n.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}if(e>=h)d.score=CD.Default;else if("string"==typeof d.completion.filterText){let t=a(n,o,e,d.completion.filterText,d.filterTextLow,0,!1);if(!t)continue;0===po(d.completion.filterText,d.textLabel)?d.score=t:(d.score=dD(n,o,e,d.textLabel,d.labelLow,0),d.score[0]=t[0])}else{let t=a(n,o,e,d.textLabel,d.labelLow,0,!1);if(!t)continue;d.score=t}}d.idx=l,d.distance=this._wordDistance.distance(d.position,d.completion),r.push(d),e.push(d.textLabel.length)}this._filteredItems=r.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?pd(e.length-.85,e,((e,t)=>e-t)):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return OB._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return OB._compareCompletionItems(e,t)}}var PB=function(e,t){return function(i,n){t(i,n,e)}},FB=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class BB{constructor(e,t,i,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);const n=t.getWordAtPosition(i);return!!n&&(n.endColumn===i.column&&!!isNaN(Number(n.word)))}}let WB=class e{constructor(e,t,i,n,o,s,r){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=s,this._configurationService=r,this._toDispose=new b,this._quickSuggestDelay=10,this._triggerCharacterListener=new b,this._triggerQuickSuggest=new vt,this._state=0,this._completionDisposables=new b,this._onDidCancel=new X,this._onDidTrigger=new X,this._onDidSuggest=new X,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new vr(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()}))),this._toDispose.add(Wc.onDidChange((()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._onCursorChange(e)})));let a=!1;this._toDispose.add(this._editor.onDidCompositionStart((()=>{a=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((()=>{a=!1,this._onCompositionEnd()}))),this._toDispose.add(this._editor.onDidChangeModelContent((()=>{a||this._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){p(this._triggerCharacterListener),p([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const e=new Map;for(const i of Wc.all(this._editor.getModel()))for(const t of i.triggerCharacters||[]){let n=e.get(t);n||(n=new Set,n.add(void 0),e.set(t,n)),n.add(i)}const t=t=>{if(!function(e,t,i){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=i.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==n&&Boolean(n)}(this._editor,this._contextKeyService,this._configurationService))return;if(BB.shouldAutoTrigger(this._editor))return;if(!t){const e=this._editor.getPosition();t=this._editor.getModel().getLineContent(e.lineNumber).substr(0,e.column-1)}let i="";ko(t.charCodeAt(t.length-1))?So(t.charCodeAt(t.length-2))&&(i=t.substr(t.length-2)):i=t.charAt(t.length-1);const n=e.get(i);if(n){const e=this._completionModel?{items:this._completionModel.adopt(n),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:i},Boolean(this._completionModel),n,e)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(t))}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&Wc.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():0===this._state&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===e.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){!1!==this._editor.getOption(78)&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&CB.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet((()=>{if(0!==this._state)return;if(!BB.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=this._editor.getOption(78);if(!1!==i){if(!0===i);else{e.tokenizeIfCheap(t.lineNumber);const n=e.getLineTokens(t.lineNumber),o=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(i.other&&0===o||i.comments&&1===o||i.strings&&2===o))return}(function(e,t,i){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=i.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==n&&Boolean(n)})(this._editor,this._contextKeyService,this._configurationService)&&Wc.has(e)&&this.trigger({auto:!0,shy:!1})}}),this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then((()=>{if(0===this._state)return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=new BB(e,t,2===this._state,!1);this._onNewContext(i)}))}trigger(t,i=!1,o,s){var r;if(!this._editor.hasModel())return;const a=this._editor.getModel(),l=t.auto,d=new BB(a,this._editor.getPosition(),l,t.shy);this.cancel(i),this._state=l?2:1,this._onDidTrigger.fire({auto:l,shy:t.shy,position:this._editor.getPosition()}),this._context=d;let c={triggerKind:null!==(r=t.triggerKind)&&void 0!==r?r:0};t.triggerCharacter&&(c={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new dt;const h=this._editor.getOption(100);let u=1;switch(h){case"top":u=0;break;case"bottom":u=2}const{itemKind:g,showDeprecated:m}=e._createSuggestFilter(this._editor),p=RB.create(this._editorWorkerService,this._editor),f=mB(a,this._editor.getPosition(),new uB(u,g,o,m),c,this._requestToken.token);Promise.all([f,p]).then((([e,i])=>FB(this,void 0,void 0,(function*(){var n;if(null===(n=this._requestToken)||void 0===n||n.dispose(),!this._editor.hasModel())return;let o=null==s?void 0:s.clipboardText;if(!o&&e.needsClipboard&&(o=yield this._clipboardService.readText()),0===this._state)return;const r=this._editor.getModel();let a=e.items;if(s){const e=_B(u);a=a.concat(s.items).sort(e)}const d=new BB(r,this._editor.getPosition(),l,t.shy);this._completionModel=new OB(a,this._context.column,{leadingLineContent:d.leadingLineContent,characterCountDelta:d.column-this._context.column},i,this._editor.getOption(105),this._editor.getOption(100),o),this._completionDisposables.add(e.disposable),this._onNewContext(d),this._reportDurationsTelemetry(e.durations)})))).catch(n)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout((()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)}))}static _createSuggestFilter(e){const t=new Set;"none"===e.getOption(100)&&t.add(27);const i=e.getOption(105);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(27),i.showUsers||t.add(25),i.showIssues||t.add(26),{itemKind:t,showDeprecated:i.showDeprecated}}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if(ho(e.leadingLineContent)===ho(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(Wc.all(this._editor.getModel()));for(let i of this._completionModel.allProvider)e.delete(i);const t=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:e}=this._completionModel,t=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(BB.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:i})}}else this.cancel();else this.cancel()}};WB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([PB(1,cL),PB(2,pL),PB(3,js),PB(4,$s),PB(5,_s),PB(6,Du)],WB);class VB{constructor(e,t){this._disposables=new b,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType((()=>{if(!this._empty)return;if(!e.hasModel())return;const t=e.getSelections(),i=t.length;let n=!1;for(let e=0;e<i;e++)if(!t[e].isEmpty()){n=!0;break}if(!n)return;this._lastOvertyped=[];const o=e.getModel();for(let e=0;e<i;e++){const i=t[e];if(o.getValueLengthInRange(i)>VB._maxSelectionLength)return;this._lastOvertyped[e]={value:o.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1}))),this._disposables.add(t.onDidCancel((e=>{this._empty||e.retrigger||(this._empty=!0)})))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}VB._maxSelectionLength=51200;function HB(e){let t=e.definition;for(;t instanceof qn;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.fontCharacter}'; }`}var zB=function(e,t){return function(i,n){t(i,n,e)}};class UB extends nI{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=t("vs/editor/contrib/suggest/suggestWidgetStatus","ddd","{0} ({1})",this._action.label,UB.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"⏎")}}let KB=class{constructor(e,t,i,n){this._menuService=i,this._contextKeyService=n,this._menuDisposables=new b,this.element=sn(e,hn(".suggest-status-bar"));const o=e=>e instanceof Hs?t.createInstance(UB,e,void 0):void 0;this._leftActions=new Zx(this.element,{actionViewItemProvider:o}),this._rightActions=new Zx(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(cB,this._contextKeyService),t=()=>{const t=[],i=[];for(let[n,o]of e.getActions())"left"===n?t.push(...o):i.push(...o);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(e.onDidChange((()=>t()))),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};KB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([zB(1,Nn),zB(2,Bs),zB(3,_s)],KB);const jB=om("symbolIcon.arrayForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$B=om("symbolIcon.booleanForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qB=om("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},t("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GB=om("symbolIcon.colorForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ZB=om("symbolIcon.constantForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JB=om("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},t("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QB=om("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},t("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),YB=om("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},t("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),XB=om("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},t("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),eW=om("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},t("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tW=om("symbolIcon.fileForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),iW=om("symbolIcon.folderForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nW=om("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},t("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oW=om("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},t("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sW=om("symbolIcon.keyForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rW=om("symbolIcon.keywordForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aW=om("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},t("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lW=om("symbolIcon.moduleForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dW=om("symbolIcon.namespaceForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cW=om("symbolIcon.nullForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hW=om("symbolIcon.numberForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uW=om("symbolIcon.objectForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gW=om("symbolIcon.operatorForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mW=om("symbolIcon.packageForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pW=om("symbolIcon.propertyForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fW=om("symbolIcon.referenceForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_W=om("symbolIcon.snippetForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bW=om("symbolIcon.stringForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vW=om("symbolIcon.structForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wW=om("symbolIcon.textForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),CW=om("symbolIcon.typeParameterForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yW=om("symbolIcon.unitForeground",{dark:sm,light:sm,hc:sm},t("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),SW=om("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},t("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));As(((e,t)=>{const i=e.getColor(jB);i&&t.addRule(`${qn.symbolArray.cssSelector} { color: ${i}; }`);const n=e.getColor($B);n&&t.addRule(`${qn.symbolBoolean.cssSelector} { color: ${n}; }`);const o=e.getColor(qB);o&&t.addRule(`${qn.symbolClass.cssSelector} { color: ${o}; }`);const s=e.getColor(aW);s&&t.addRule(`${qn.symbolMethod.cssSelector} { color: ${s}; }`);const r=e.getColor(GB);r&&t.addRule(`${qn.symbolColor.cssSelector} { color: ${r}; }`);const a=e.getColor(ZB);a&&t.addRule(`${qn.symbolConstant.cssSelector} { color: ${a}; }`);const l=e.getColor(JB);l&&t.addRule(`${qn.symbolConstructor.cssSelector} { color: ${l}; }`);const d=e.getColor(QB);d&&t.addRule(`\n\t\t\t${qn.symbolValue.cssSelector},${qn.symbolEnum.cssSelector} { color: ${d}; }`);const c=e.getColor(YB);c&&t.addRule(`${qn.symbolEnumMember.cssSelector} { color: ${c}; }`);const h=e.getColor(XB);h&&t.addRule(`${qn.symbolEvent.cssSelector} { color: ${h}; }`);const u=e.getColor(eW);u&&t.addRule(`${qn.symbolField.cssSelector} { color: ${u}; }`);const g=e.getColor(tW);g&&t.addRule(`${qn.symbolFile.cssSelector} { color: ${g}; }`);const m=e.getColor(iW);m&&t.addRule(`${qn.symbolFolder.cssSelector} { color: ${m}; }`);const p=e.getColor(nW);p&&t.addRule(`${qn.symbolFunction.cssSelector} { color: ${p}; }`);const f=e.getColor(oW);f&&t.addRule(`${qn.symbolInterface.cssSelector} { color: ${f}; }`);const _=e.getColor(sW);_&&t.addRule(`${qn.symbolKey.cssSelector} { color: ${_}; }`);const b=e.getColor(rW);b&&t.addRule(`${qn.symbolKeyword.cssSelector} { color: ${b}; }`);const v=e.getColor(lW);v&&t.addRule(`${qn.symbolModule.cssSelector} { color: ${v}; }`);const w=e.getColor(dW);w&&t.addRule(`${qn.symbolNamespace.cssSelector} { color: ${w}; }`);const C=e.getColor(cW);C&&t.addRule(`${qn.symbolNull.cssSelector} { color: ${C}; }`);const y=e.getColor(hW);y&&t.addRule(`${qn.symbolNumber.cssSelector} { color: ${y}; }`);const S=e.getColor(uW);S&&t.addRule(`${qn.symbolObject.cssSelector} { color: ${S}; }`);const k=e.getColor(gW);k&&t.addRule(`${qn.symbolOperator.cssSelector} { color: ${k}; }`);const x=e.getColor(mW);x&&t.addRule(`${qn.symbolPackage.cssSelector} { color: ${x}; }`);const L=e.getColor(pW);L&&t.addRule(`${qn.symbolProperty.cssSelector} { color: ${L}; }`);const D=e.getColor(fW);D&&t.addRule(`${qn.symbolReference.cssSelector} { color: ${D}; }`);const E=e.getColor(_W);E&&t.addRule(`${qn.symbolSnippet.cssSelector} { color: ${E}; }`);const N=e.getColor(bW);N&&t.addRule(`${qn.symbolString.cssSelector} { color: ${N}; }`);const I=e.getColor(vW);I&&t.addRule(`${qn.symbolStruct.cssSelector} { color: ${I}; }`);const T=e.getColor(wW);T&&t.addRule(`${qn.symbolText.cssSelector} { color: ${T}; }`);const M=e.getColor(CW);M&&t.addRule(`${qn.symbolTypeParameter.cssSelector} { color: ${M}; }`);const A=e.getColor(yW);A&&t.addRule(`${qn.symbolUnit.cssSelector} { color: ${A}; }`);const R=e.getColor(SW);R&&t.addRule(`${qn.symbolVariable.cssSelector} { color: ${R}; }`)}));class kW{constructor(){let e;this._onDidWillResize=new X,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new X,this.onDidResize=this._onDidResize.event,this._sashListener=new b,this._size=new Ai(0,0),this._minSize=new Ai(0,0),this._maxSize=new Ai(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Ox(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Ox(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Ox(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Ex.North}),this._southSash=new Ox(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Ex.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,i=0;this._sashListener.add(Q.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)}))),this._sashListener.add(Q.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((()=>{void 0!==e&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))}))),this._sashListener.add(Q.any(this._eastSash.onDidReset,this._westSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(Q.any(this._northSash.onDidReset,this._southSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))})))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:n}=this._minSize,{height:o,width:s}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(s,t));const r=new Ai(t,e);Ai.equals(r,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=r,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}function xW(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let LW=class{constructor(e,i){this._editor=e,this._onDidClose=new X,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new X,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new b,this._renderDisposeable=new b,this._borderWidth=1,this._size=new Ai(330,0),this.domNode=hn(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=i.createInstance(AP,{editor:e}),this._body=hn(".body"),this._scrollbar=new ky(this._body,{}),sn(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=sn(this._body,hn(".header")),this._close=sn(this._header,hn("span"+qn.close.cssSelector)),this._close.title=t("vs/editor/contrib/suggest/suggestWidgetDetails","details.close","Close"),this._type=sn(this._header,hn("p.type")),this._docs=sn(this._body,hn("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(43)&&this._configureFont()})))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(43),i=t.getMassagedFontFamily(ue?Gr.fontFamily:null),n=e.get(106)||t.fontSize,o=e.get(107)||t.lineHeight,s=t.fontWeight,r=`${n}px`,a=`${o}px`;this.domNode.style.fontSize=r,this.domNode.style.lineHeight=""+o/n,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=a,this._close.style.width=a}getLayoutInfo(){const e=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=t("vs/editor/contrib/suggest/suggestWidgetDetails","loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:o,documentation:s}=e.completion;if(t){let t="";t+=`score: ${e.score[0]}\n`,t+=`prefix: ${null!==(i=e.word)&&void 0!==i?i:"(no prefix)"}\n`,t+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,t+=`distance: ${e.distance} (localityBonus-setting)\n`,t+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,t+=`commit_chars: ${null===(n=e.completion.commitCharacters)||void 0===n?void 0:n.join("")}\n`,s=(new RD).appendCodeblock("empty",t),o=`Provider: ${e.provider._debugDisplayName}`}if(t||xW(e)){if(this.domNode.classList.remove("no-docs","no-type"),o){const e=o.length>1e5?`${o.substr(0,1e5)}…`:o;this._type.textContent=e,this._type.title=e,un(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(e))}else mi(this._type),this._type.title="",gn(this._type),this.domNode.classList.add("no-type");if(mi(this._docs),"string"==typeof s)this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),mi(this._docs);const e=this._markdownRenderer.render(s);this._docs.appendChild(e.element),this._renderDisposeable.add(e),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this._close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new Ai(e,t);Ai.equals(i,this._size)||(this._size=i,function(e,t,i){"number"==typeof t&&(e.style.width=`${t}px`),"number"==typeof i&&(e.style.height=`${i}px`)}(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};LW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,Nn)],LW);class DW{constructor(e,t){let i,n;this.widget=e,this._editor=t,this._disposables=new b,this._added=!1,this._resizable=new kW,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o=0,s=0;this._disposables.add(this._resizable.onDidWillResize((()=>{i=this._topLeft,n=this._resizable.size}))),this._disposables.add(this._resizable.onDidResize((e=>{if(i&&n){this.widget.layout(e.dimension.width,e.dimension.height);let t=!1;e.west&&(s=n.width-e.dimension.width,t=!0),e.north&&(o=n.height-e.dimension.height,t=!0),t&&this._applyTopLeft({top:i.top+o,left:i.left+s})}e.done&&(i=void 0,n=void 0,o=0,s=0,this._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((()=>{var e;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size)})))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e){var t;const i=Oi(e);this._anchorBox=i,this._placeAtAnchor(this._anchorBox,null!==(t=this._userSize)&&void 0!==t?t:this.widget.size)}_placeAtAnchor(e,t){var i;const n=Ti(document.body),o=this.widget.getLayoutInfo(),s=new Ai(220,2*o.lineHeight),r=e.top,a=function(){const i=n.width-(e.left+e.width+o.borderWidth+o.horizontalPadding),a=-o.borderWidth+e.left+e.width,l=new Ai(i,n.height-e.top-o.borderHeight-o.verticalPadding),d=l.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:r,left:a,fit:i-t.width,maxSizeTop:l,maxSizeBottom:d,minSize:s.with(Math.min(i,s.width))}}(),l=[a,function(){const i=e.left-o.borderWidth-o.horizontalPadding,a=Math.max(o.horizontalPadding,e.left-t.width-o.borderWidth),l=new Ai(i,n.height-e.top-o.borderHeight-o.verticalPadding),d=l.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:r,left:a,fit:i-t.width,maxSizeTop:l,maxSizeBottom:d,minSize:s.with(Math.min(i,s.width))}}(),function(){const i=e.left,r=-o.borderWidth+e.top+e.height,a=new Ai(e.width-o.borderHeight,n.height-e.top-e.height-o.verticalPadding);return{top:r,left:i,fit:a.height-t.height,maxSizeBottom:a,maxSizeTop:a,minSize:s.with(a.width)}}()],d=null!==(i=l.find((e=>e.fit>=0)))&&void 0!==i?i:l.sort(((e,t)=>t.fit-e.fit))[0],c=e.top+e.height-o.borderHeight;let h,u=t.height;const g=Math.max(d.maxSizeTop.height,d.maxSizeBottom.height);let m;u>g&&(u=g),u<=d.maxSizeTop.height?(h=!0,m=d.maxSizeTop):(h=!1,m=d.maxSizeBottom),this._applyTopLeft({left:d.left,top:h?d.top:c-u}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!h,d===a,h,d!==a),this._resizable.minSize=d.minSize,this._resizable.maxSize=m,this._resizable.layout(u,Math.min(m.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var EW,NW;function IW(e,t,i,n){const o=n===EW.ROOT_FOLDER?["rootfolder-icon"]:n===EW.FOLDER?["folder-icon"]:["file-icon"];if(i){let s;if(i.scheme===di.data){s=Ya.parseMetaData(i).get(Ya.META_DATA_LABEL)}else s=TW($a(i).toLowerCase());if(n===EW.FOLDER)o.push(`${s}-name-folder-icon`);else{if(s){if(o.push(`${s}-name-file-icon`),s.length<=255){const e=s.split(".");for(let t=1;t<e.length;t++)o.push(`${e.slice(t).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const n=function(e,t,i){if(!i)return null;let n=null;if(i.scheme===di.data){const e=Ya.parseMetaData(i).get(Ya.META_DATA_MIME);e&&(n=t.getModeId(e))}else{const t=e.getModel(i);t&&(n=t.getLanguageId())}if(n&&"plaintext"!==n)return n;return t.getModeIdByFilepathOrFirstLine(i)}(e,t,i);n&&o.push(`${TW(n)}-lang-file-icon`)}}return o}function TW(e){return e.replace(/[\11\12\14\15\40]/g,"/")}(NW=EW||(EW={}))[NW.FILE=0]="FILE",NW[NW.FOLDER=1]="FOLDER",NW[NW.ROOT_FOLDER=2]="ROOT_FOLDER";var MW,AW=function(e,t){return function(i,n){t(i,n,e)}};function RW(e){return`suggest-aria-id:${e}`}const OW=Qx("suggest-more-info",qn.chevronRight,t("vs/editor/contrib/suggest/suggestWidgetRenderer","suggestMoreInfoIcon","Icon for more information in the suggest widget.")),PW=new((MW=class e{extract(t,i){if(t.textLabel.match(e._regexStrict))return i[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return i[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){const n=e._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return i[0]=n[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,MW._regexStrict=new RegExp(`^${MW._regexRelaxed.source}$`,"i"),MW);let FW=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._modeService=i,this._themeService=n,this._onDidToggleDetails=new X,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const i=Object.create(null);i.disposables=new b,i.root=e,i.root.classList.add("show-file-icons"),i.icon=sn(e,hn(".icon")),i.colorspan=sn(i.icon,hn("span.colorspan"));const n=sn(e,hn(".contents")),o=sn(n,hn(".main"));i.iconContainer=sn(o,hn(".icon-label.codicon")),i.left=sn(o,hn("span.left")),i.right=sn(o,hn("span.right")),i.iconLabel=new KA(i.left,{supportHighlights:!0,supportIcons:!0}),i.disposables.add(i.iconLabel),i.parametersLabel=sn(i.left,hn("span.signature-label")),i.qualifierLabel=sn(i.left,hn("span.qualifier-label")),i.detailsLabel=sn(i.right,hn("span.details-label")),i.readMore=sn(i.right,hn("span.readMore"+Es.asCSSSelector(OW))),i.readMore.title=t("vs/editor/contrib/suggest/suggestWidgetRenderer","readMore","Read More");const s=()=>{const e=this._editor.getOptions(),t=e.get(43),n=t.getMassagedFontFamily(ue?Gr.fontFamily:null),s=t.fontFeatureSettings,r=e.get(106)||t.fontSize,a=e.get(107)||t.lineHeight,l=t.fontWeight,d=`${r}px`,c=`${a}px`;i.root.style.fontSize=d,i.root.style.fontWeight=l,o.style.fontFamily=n,o.style.fontFeatureSettings=s,o.style.lineHeight=c,i.icon.style.height=c,i.icon.style.width=c,i.readMore.style.height=c,i.readMore.style.width=c};return s(),i.disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(43)||e.hasChanged(106)||e.hasChanged(107))&&s()}))),i}renderElement(e,t,i){const{completion:n}=e;i.root.id=RW(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:cD(e.score)};let s=[];if(19===n.kind&&PW.extract(e,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(20===n.kind&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const t=IW(this._modelService,this._modeService,Yt.from({scheme:"fake",path:e.textLabel}),EW.FILE),s=IW(this._modelService,this._modeService,Yt.from({scheme:"fake",path:n.detail}),EW.FILE);o.extraClasses=t.length>s.length?t:s}else 23===n.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=yd([IW(this._modelService,this._modeService,Yt.from({scheme:"fake",path:e.textLabel}),EW.FOLDER),IW(this._modelService,this._modeService,Yt.from({scheme:"fake",path:n.detail}),EW.FOLDER)])):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...xc(n.kind).split(" ")));n.tags&&n.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),"string"==typeof n.label?(i.parametersLabel.textContent="",i.detailsLabel.textContent=BW(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=BW(n.label.detail||""),i.detailsLabel.textContent=BW(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?un(i.detailsLabel):gn(i.detailsLabel),xW(e)?(i.right.classList.add("can-expand-details"),un(i.readMore),i.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},i.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),gn(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function BW(e){return e.replace(/\r\n|\r|\n/g,"")}FW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([AW(1,On),AW(2,Mu),AW(3,Ls)],FW);var WW=function(e,t){return function(i,n){t(i,n,e)}},VW=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const HW=om("editorSuggestWidget.background",{dark:tp,light:tp,hc:tp},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetBackground","Background color of the suggest widget.")),zW=om("editorSuggestWidget.border",{dark:np,light:np,hc:np},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetBorder","Border color of the suggest widget.")),UW=om("editorSuggestWidget.foreground",{dark:ep,light:ep,hc:ep},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetForeground","Foreground color of the suggest widget.")),KW=om("editorSuggestWidget.selectedForeground",{dark:vf,light:vf,hc:vf},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),jW=om("editorSuggestWidget.selectedIconForeground",{dark:wf,light:wf,hc:wf},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),$W=om("editorSuggestWidget.selectedBackground",{dark:Cf,light:Cf,hc:Cf},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),qW=om("editorSuggestWidget.highlightForeground",{dark:lf,light:lf,hc:lf},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),GW=om("editorSuggestWidget.focusHighlightForeground",{dark:df,light:df,hc:df},t("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class ZW{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof FN}`}restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const e=JSON.parse(t);if(Ai.is(e))return Ai.lift(e)}catch(i){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let JW=class e{constructor(e,i,n,o,s){this.editor=e,this._storageService=i,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new vt,this._disposables=new b,this._onDidSelect=new X,this._onDidFocus=new X,this._onDidHide=new X,this._onDidShow=new X,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new X,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new kW,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new QW(this,e),this._persistedSize=new ZW(i,e);class r{constructor(e,t,i=!1,n=!1){this.persistedSize=e,this.currentSize=t,this.persistHeight=i,this.persistWidth=n}}let a;this._disposables.add(this.element.onDidWillResize((()=>{this._contentWidget.lockPreference(),a=new r(this._persistedSize.restore(),this.element.size)}))),this._disposables.add(this.element.onDidResize((e=>{var t,i,n,o;if(this._resize(e.dimension.width,e.dimension.height),a&&(a.persistHeight=a.persistHeight||!!e.north||!!e.south,a.persistWidth=a.persistWidth||!!e.east||!!e.west),e.done){if(a){const{itemHeight:e,defaultSize:s}=this.getLayoutInfo(),r=Math.round(e/2);let{width:l,height:d}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-d)<=r)&&(d=null!==(i=null===(t=a.persistedSize)||void 0===t?void 0:t.height)&&void 0!==i?i:s.height),(!a.persistWidth||Math.abs(a.currentSize.width-l)<=r)&&(l=null!==(o=null===(n=a.persistedSize)||void 0===n?void 0:n.width)&&void 0!==o?o:s.width),this._persistedSize.store(new Ai(l,d))}this._contentWidget.unlockPreference(),a=void 0}}))),this._messageElement=sn(this.element.domNode,hn(".message")),this._listElement=sn(this.element.domNode,hn(".tree"));const l=s.createInstance(LW,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new DW(l,this.editor);const d=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);d();const c=s.createInstance(FW,this.editor);this._disposables.add(c),this._disposables.add(c.onDidToggleDetails((()=>this.toggleDetails()))),this._list=new bT("SuggestWidget",this._listElement,{getHeight:e=>this.getLayoutInfo().itemHeight,getTemplateId:e=>"suggestion"},[c],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:e=>{if(e.isResolved&&this._isDetailsVisible()){const{documentation:i,detail:n}=e.completion,o=eo("{0}{1}",n||"",i?"string"==typeof i?i:i.value:"");return t("vs/editor/contrib/suggest/suggestWidget","ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",e.textLabel,o)}return e.textLabel},getWidgetAriaLabel:()=>t("vs/editor/contrib/suggest/suggestWidget","suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=s.createInstance(KB,this.element.domNode);const h=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);h(),this._disposables.add(GM(this._list,o,{listInactiveFocusBackground:$W,listInactiveFocusOutline:cm})),this._disposables.add(o.onDidColorThemeChange((e=>this._onThemeChange(e)))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onTap((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onDidChangeSelection((e=>this._onListSelection(e)))),this._disposables.add(this._list.onDidChangeFocus((e=>this._onListFocus(e)))),this._disposables.add(this.editor.onDidChangeCursorSelection((()=>this._onCursorSelectionChanged()))),this._disposables.add(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(105)&&(h(),d())}))),this._ctxSuggestWidgetVisible=dB.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=dB.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=dB.MultipleSuggestions.bindTo(n),this._disposables.add(vi(this._details.widget.domNode,"keydown",(e=>{this._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((e=>this._onEditorMouseDown(e))))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){const t=e.getColor(HW);t&&(this.element.domNode.style.backgroundColor=t.toString(),this._messageElement.style.backgroundColor=t.toString(),this._details.widget.domNode.style.backgroundColor=t.toString());const i=e.getColor(zW);i&&(this.element.domNode.style.borderColor=i.toString(),this._messageElement.style.borderColor=i.toString(),this._status.element.style.borderTopColor=i.toString(),this._details.widget.domNode.style.borderColor=i.toString(),this._detailsBorderColor=i.toString());const n=e.getColor(lm);n&&(this._detailsFocusBorderColor=n.toString()),this._details.widget.borderWidth="hc"===e.type?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const i=e.elements[0],o=e.indexes[0];i!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(o),this._currentSuggestionDetails=ht((e=>VW(this,void 0,void 0,(function*(){const t=_t((()=>{this._isDetailsVisible()&&this.showDetails(!0)}),250);e.onCancellationRequested((()=>t.dispose()));const n=yield i.resolve(e);return t.dispose(),n})))),this._currentSuggestionDetails.then((()=>{o>=this._list.length||i!==this._list.element(o)||(this._ignoreFocusEvents=!0,this._list.splice(o,1,[i]),this._list.setFocus([o]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:RW(o)}))})).catch(n)),this._onDidFocus.fire({item:i,index:o,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:gn(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,gn(this._listElement,this._status.element),un(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,gn(this._listElement,this._status.element),un(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:gn(this._messageElement),un(this._listElement,this._status.element),this._show();break;case 5:gn(this._messageElement),un(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)}),100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=_t((()=>this._setState(1)),t)))}showSuggestions(e,t,i,n){var o,s;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(o=this._loadingTimeout)||void 0===o||o.dispose(),null===(s=this._currentSuggestionDetails)||void 0===s||s.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&2!==this._state&&0!==this._state)return void this._setState(4);const r=this._completionModel.items.length,a=0===r;if(this._ctxSuggestWidgetMultipleSuggestions.set(r>1),a)return this._setState(n?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!xW(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,i,n;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const o=Ti(document.body),s=this.getLayoutInfo();e||(e=s.defaultSize);let r=e.height,a=e.width;if(this._status.element.style.lineHeight=`${s.itemHeight}px`,2===this._state||1===this._state)r=s.itemHeight+s.borderHeight,a=s.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Ai(a,r),this._contentWidget.setPreference(2);else{const l=o.width-s.borderHeight-2*s.horizontalPadding;a>l&&(a=l);const d=this._completionModel?this._completionModel.stats.pLabelLen*s.typicalHalfwidthCharacterWidth:a,c=s.statusBarHeight+this._list.contentHeight+s.borderHeight,h=s.itemHeight+s.statusBarHeight,u=Oi(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),m=u.top+g.top+g.height,p=Math.min(o.height-m-s.verticalPadding,c),f=u.top+g.top-s.verticalPadding,_=Math.min(f,c);let b=Math.min(Math.max(_,p)+s.borderHeight,c);r===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(r=this._cappedHeight.wanted),r<h&&(r=h),r>b&&(r=b);const v=150;r>p||this._forceRenderingAbove&&f>v?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),b=_):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),b=p),this.element.preferredSize=new Ai(d,s.defaultSize.height),this.element.maxSize=new Ai(l,b),this.element.minSize=new Ai(220,h),this._cappedHeight=r===c?{wanted:null!==(n=null===(i=this._cappedHeight)||void 0===i?void 0:i.wanted)&&void 0!==n?n:e.height,capped:r}:void 0}this._resize(a,r)}_resize(e,t){const{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=t-o+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const e=this.editor.getOption(43),t=Qd(this.editor.getOption(107)||e.lineHeight,8,1e3),i=this.editor.getOption(105).showStatusBar&&2!==this._state&&1!==this._state?t:0,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Ai(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};JW.LOADING_MESSAGE=t("vs/editor/contrib/suggest/suggestWidget","suggestWidget.loading","Loading..."),JW.NO_SUGGESTIONS_MESSAGE=t("vs/editor/contrib/suggest/suggestWidget","suggestWidget.noSuggestions","No suggestions."),JW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([WW(1,nN),WW(2,_s),WW(3,Ls),WW(4,Nn)],JW);class QW{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new Ai(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}As(((e,t)=>{const i=e.getColor(qW);i&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${i}; }`);const n=e.getColor(GW);i&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${n}; }`);const o=e.getColor(UW);o&&t.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${o}; }`);const s=e.getColor(KW);s&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${s}; }`);const r=e.getColor(jW);r&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${r}; }`);const a=e.getColor(hm);a&&t.addRule(`.monaco-editor .suggest-details a { color: ${a}; }`);const l=e.getColor(um);l&&t.addRule(`.monaco-editor .suggest-details a:hover { color: ${l}; }`);const d=e.getColor(gm);d&&t.addRule(`.monaco-editor .suggest-details code { background-color: ${d}; }`)}));var YW=function(e,t){return function(i,n){t(i,n,e)}};class XW{constructor(e,t){this._model=e,this._position=t;if(e.getLineMaxColumn(t.lineNumber)!==t.column){const i=e.getOffsetAt(t),n=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:br.fromPositions(t,n),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let eV=class e{constructor(e,t,i,n,o,s){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=s,this._lineSuffix=new w,this._toDispose=new b,this._selectors=new tV((e=>e.priority)),this.editor=e,this.model=o.createInstance(WB,this.editor);const r=dB.InsertMode.bindTo(n);r.set(e.getOption(105).insertMode),this.model.onDidTrigger((()=>r.set(e.getOption(105).insertMode))),this.widget=this._toDispose.add(new St((()=>{const e=this._instantiationService.createInstance(JW,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect((e=>this._insertSuggestion(e,0)),this));const t=new IB(this.editor,e,(e=>this._insertSuggestion(e,2)));this._toDispose.add(t),this._toDispose.add(this.model.onDidSuggest((e=>{0===e.completionModel.items.length&&t.reset()})));const i=dB.MakesTextEdit.bindTo(this._contextKeyService),n=dB.HasInsertAndReplaceRange.bindTo(this._contextKeyService),o=dB.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(_((()=>{i.reset(),n.reset(),o.reset()}))),this._toDispose.add(e.onDidFocus((({item:e})=>{const t=this.editor.getPosition(),s=e.editStart.column,r=t.column;let a=!0;if(!("smart"!==this.editor.getOption(1)||2!==this.model.state||e.completion.additionalTextEdits||4&e.completion.insertTextRules||r-s!==e.completion.insertText.length)){a=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:s,endLineNumber:t.lineNumber,endColumn:r})!==e.completion.insertText}i.set(a),n.set(!Rn.equals(e.editInsertEnd,e.editReplaceEnd)),o.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)}))),this._toDispose.add(e.onDetailsKeyDown((e=>{e.toKeybinding().equals(new qe(!0,!1,!1,!1,33))||B&&e.toKeybinding().equals(new qe(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new St((()=>this._toDispose.add(new VB(this.editor,this.model))))),this._alternatives=this._toDispose.add(new St((()=>this._toDispose.add(new NB(this.editor,this._contextKeyService))))),this._toDispose.add(o.createInstance(EB,e)),this._toDispose.add(this.model.onDidTrigger((e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new XW(this.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((e=>{if(!e.shy){let t=-1;for(const i of this._selectors.itemsOrderedByPriorityDesc)if(t=i.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items),-1!==t)break;-1===t&&(t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items)),this.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((e=>{e.retrigger||this.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((()=>{this.model.cancel(),this.model.clear()})));let a=dB.AcceptSuggestionsOnEnter.bindTo(n),l=()=>{const e=this.editor.getOption(1);a.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((()=>l()))),l()}static get(t){return t.getContribution(e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const i=this.editor.getModel(),o=i.getAlternativeVersionId(),{item:s}=e,r=[],a=new dt;1&t||this.editor.pushUndoStop();const l=this.getOverwriteInfo(s,Boolean(8&t));if(this._memoryService.memorize(i,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){const e=zx.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map((e=>bF.replace(br.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){const e=new J(!0);let n;const o=i.onDidChangeContent((e=>{if(e.isFlush)return a.cancel(),void o.dispose();for(let t of e.changes){const e=br.getEndPosition(t.range);n&&!Rn.isBefore(e,n)||(n=e)}}));let l=t;t|=2;let d=!1,c=this.editor.onWillType((()=>{c.dispose(),d=!0,2&l||this.editor.pushUndoStop()}));r.push(s.resolve(a.token).then((()=>{if(!s.completion.additionalTextEdits||a.token.isCancellationRequested)return!1;if(n&&s.completion.additionalTextEdits.some((e=>Rn.isBefore(n,br.getStartPosition(e.range)))))return!1;d&&this.editor.pushUndoStop();const e=zx.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map((e=>bF.replace(br.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!d&&2&l||this.editor.pushUndoStop(),!0})).then((t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),o.dispose(),c.dispose()})))}let{insertText:d}=s.completion;4&s.completion.insertTextRules||(d=KF.escape(d)),CB.get(this.editor).insert(d,{overwriteBefore:l.overwriteBefore,overwriteAfter:l.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&s.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===iV.id?this.model.trigger({auto:!0,shy:!1},!0):(r.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(n)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,(e=>{for(a.cancel();i.canUndo();){o!==i.getAlternativeVersionId()&&i.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(s),Promise.all(r).finally((()=>{this.model.clear(),a.dispose()}))}getOverwriteInfo(e,t){ke(this.editor.hasModel());let i="replace"===this.editor.getOption(105).insertMode;t&&(i=!i);const n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:n+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if(vd(e.completion.additionalTextEdits)){kn(t("vs/editor/contrib/suggest/suggestController","aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length))}}triggerSuggest(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;const t=this.editor.getPosition(),i=e.editStart.column,n=t.column;if(n-i!==e.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:i,endLineNumber:t.lineNumber,endColumn:n})!==e.completion.insertText};Q.once(this.model.onDidTrigger)((e=>{let t=[];Q.any(this.model.onDidTrigger,this.model.onDidCancel)((()=>{p(t),i()}),void 0,t),this.model.onDidSuggest((({completionModel:e})=>{if(p(t),0===e.items.length)return void i();const o=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),s=e.items[o];n(s)?(this.editor.pushUndoStop(),this._insertSuggestion({index:o,item:s,model:e},7)):i()}),void 0,t)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};eV.ID="editor.contrib.suggestController",eV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([YW(1,DB),YW(2,Jn),YW(3,_s),YW(4,Nn),YW(5,$s)],eV);class tV{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort(((e,t)=>this.prioritySelector(t)-this.prioritySelector(e))),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class iV extends nr{constructor(){super({id:iV.id,label:t("vs/editor/contrib/suggest/suggestController","suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Jo.and(av.writable,av.hasCompletionItemProvider),kbOpts:{kbExpr:av.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t){const i=eV.get(t);i&&i.triggerSuggest()}}iV.id="editor.action.triggerSuggest",cr(eV.ID,eV),ar(iV);const nV=ir.bindToContribution(eV.get);rr(new nV({id:"acceptSelectedSuggestion",precondition:dB.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}})),Us.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Jo.and(dB.Visible,av.textInputFocus),primary:2,weight:190}),Us.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Jo.and(dB.Visible,av.textInputFocus,dB.AcceptSuggestionsOnEnter,dB.MakesTextEdit),primary:3,weight:190}),Ws.appendMenuItem(cB,{command:{id:"acceptSelectedSuggestion",title:t("vs/editor/contrib/suggest/suggestController","accept.insert","Insert")},group:"left",order:1,when:dB.HasInsertAndReplaceRange.toNegated()}),Ws.appendMenuItem(cB,{command:{id:"acceptSelectedSuggestion",title:t("vs/editor/contrib/suggest/suggestController","accept.insert","Insert")},group:"left",order:1,when:Jo.and(dB.HasInsertAndReplaceRange,dB.InsertMode.isEqualTo("insert"))}),Ws.appendMenuItem(cB,{command:{id:"acceptSelectedSuggestion",title:t("vs/editor/contrib/suggest/suggestController","accept.replace","Replace")},group:"left",order:1,when:Jo.and(dB.HasInsertAndReplaceRange,dB.InsertMode.isEqualTo("replace"))}),rr(new nV({id:"acceptAlternativeSelectedSuggestion",precondition:Jo.and(dB.Visible,av.textInputFocus),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:cB,group:"left",order:2,when:Jo.and(dB.HasInsertAndReplaceRange,dB.InsertMode.isEqualTo("insert")),title:t("vs/editor/contrib/suggest/suggestController","accept.replace","Replace")},{menuId:cB,group:"left",order:2,when:Jo.and(dB.HasInsertAndReplaceRange,dB.InsertMode.isEqualTo("replace")),title:t("vs/editor/contrib/suggest/suggestController","accept.insert","Insert")}]})),Qn.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),rr(new nV({id:"hideSuggestWidget",precondition:dB.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:9,secondary:[1033]}})),rr(new nV({id:"selectNextSuggestion",precondition:Jo.and(dB.Visible,dB.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),rr(new nV({id:"selectNextPageSuggestion",precondition:Jo.and(dB.Visible,dB.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:12,secondary:[2060]}})),rr(new nV({id:"selectLastSuggestion",precondition:Jo.and(dB.Visible,dB.MultipleSuggestions),handler:e=>e.selectLastSuggestion()})),rr(new nV({id:"selectPrevSuggestion",precondition:Jo.and(dB.Visible,dB.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),rr(new nV({id:"selectPrevPageSuggestion",precondition:Jo.and(dB.Visible,dB.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:11,secondary:[2059]}})),rr(new nV({id:"selectFirstSuggestion",precondition:Jo.and(dB.Visible,dB.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()})),rr(new nV({id:"toggleSuggestionDetails",precondition:dB.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:cB,group:"right",order:1,when:Jo.and(dB.DetailsVisible,dB.CanResolve),title:t("vs/editor/contrib/suggest/suggestController","detail.more","show less")},{menuId:cB,group:"right",order:1,when:Jo.and(dB.DetailsVisible.toNegated(),dB.CanResolve),title:t("vs/editor/contrib/suggest/suggestController","detail.less","show more")}]})),rr(new nV({id:"toggleExplainMode",precondition:dB.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),rr(new nV({id:"toggleSuggestionFocus",precondition:dB.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:2570,mac:{primary:778}}})),rr(new nV({id:"insertBestCompletion",precondition:Jo.and(av.textInputFocus,Jo.equals("config.editor.tabCompletion","on"),EB.AtEnd,dB.Visible.toNegated(),NB.OtherSuggestions.toNegated(),CB.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest(be(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:190,primary:2}})),rr(new nV({id:"insertNextSuggestion",precondition:Jo.and(av.textInputFocus,Jo.equals("config.editor.tabCompletion","on"),NB.OtherSuggestions,dB.Visible.toNegated(),CB.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:2}})),rr(new nV({id:"insertPrevSuggestion",precondition:Jo.and(av.textInputFocus,Jo.equals("config.editor.tabCompletion","on"),NB.OtherSuggestions,dB.Visible.toNegated(),CB.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:190,kbExpr:av.textInputFocus,primary:1026}})),ar(class extends nr{constructor(){super({id:"editor.action.resetSuggestSize",label:t("vs/editor/contrib/suggest/suggestController","suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,t){eV.get(t).resetWidgetSize()}});class oV extends v{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new X,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new Ct((()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())}),100)),this._register(e.onKeyDown((e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))}))),this._register(e.onKeyUp((e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))})));const i=eV.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(e,t,n)=>{const o=this.editor.getModel(),s=MF(o,this.suggestControllerPreselector());if(!s)return-1;const r=Rn.lift(t),a=function(e,t){let i;for(const n of e)(void 0===i||t(n,i)>0)&&(i=n);return i}(n.map(((e,t)=>{const n=sV(i,r,e,this.isShiftKeyPressed),a=MF(o,n);if(!a)return;var l,d;return{index:t,valid:(l=s.range,d=a.range,l.startLineNumber===d.startLineNumber&&l.startColumn===d.startColumn&&(l.endLineNumber<d.endLineNumber||l.endLineNumber===d.endLineNumber&&l.endColumn<=d.endColumn)&&s.text.startsWith(a.text)),prefixLength:a.text.length,suggestItem:e}})).filter((e=>e&&e.valid)),(l=e=>e.prefixLength,d=(e,t)=>e-t,(e,t)=>d(l(e),l(t))));var l,d;return a?a.index:-1}}));let e=!1;const t=()=>{e||(e=!0,this._register(i.widget.value.onDidShow((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))),this._register(i.widget.value.onDidHide((()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)}))),this._register(i.widget.value.onDidFocus((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))))};this._register(Q.once(i.model.onDidTrigger)((e=>{t()})))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(e){const t=this.getInlineCompletion();let i=!1;var n,o;(n=this._currentInlineCompletion)===(o=t)||n&&o&&n.range.equalsRange(o.range)&&n.text===o.text&&n.command===o.command||(this._currentInlineCompletion=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const e=eV.get(this.editor);if(!e)return;if(!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?sV(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=eV.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=eV.get(this.editor);e&&e.forceRenderingAbove()}}function sV(e,t,i,n){if(Array.isArray(i.completion.additionalTextEdits)&&i.completion.additionalTextEdits.length>0)return{text:"",range:br.fromPositions(t,t)};let{insertText:o}=i.completion;if(4&i.completion.insertTextRules){const i=(new KF).parse(o),n=e.editor.getModel();if(i.children.length>100)return;aB.adjustWhitespace(n,t,i,!0,!0),o=i.toString()}const s=e.getOverwriteInfo(i,n);return{text:o,range:br.fromPositions(t.delta(0,-s.overwriteBefore),t.delta(0,Math.max(s.overwriteAfter,0)))}}var rV=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class aV extends yF{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new oV(this.editor,(()=>{var e,t;return null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()}))),this.updateOperation=this._register(new w),this.updateCacheSoon=this._register(new Ct((()=>this.updateCache()),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange((()=>{this.updateCacheSoon.schedule();this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const e=this.ghostText;e&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,e.parts.map((e=>e.lines.length-1)).reduce(((e,t)=>e+t),0))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()}))),this._register(this.cache.onDidChange((()=>{this.onDidChangeEmitter.fire()}))),this._register(this.editor.onDidChangeCursorPosition((e=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())}))),this._register(_((()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove())))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return rV(this,void 0,void 0,(function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItemAsInlineCompletion)return;const t={text:e.selectedItemAsInlineCompletion.text,range:e.selectedItemAsInlineCompletion.range},i=this.editor.getPosition(),o=ht((e=>rV(this,void 0,void 0,(function*(){let o;try{o=yield TF(i,this.editor.getModel(),{triggerKind:Dc.Automatic,selectedSuggestionInfo:t},e)}catch(G1){return void n(G1)}e.isCancellationRequested||(this.cache.setValue(this.editor,o,Dc.Automatic),this.onDidChangeEmitter.fire())})))),s=new EF(o,Dc.Automatic);this.updateOperation.value=s,yield o,this.updateOperation.value===s&&this.updateOperation.clear()}))}get ghostText(){var e,t;if(!this.isSuggestionPreviewEnabled())return;const i=this.suggestionInlineCompletionSource.state,n=MF(this.editor.getModel(),null==i?void 0:i.selectedItemAsInlineCompletion),o=MF(this.editor.getModel(),null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),s=o&&n&&o.text.startsWith(n.text)&&o.range.equalsRange(n.range)?o:n||o,r=n?((null==s?void 0:s.text.length)||0)-n.text.length:0;return(e=>{const t=this.editor.getOptions().get(105).previewMode;return e?SF(e,this.editor.getModel(),t,this.editor.getPosition(),r)||new vF(e.range.endLineNumber,[],this.minReservedLineCount):void 0})(s)}}var lV=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class dV extends v{constructor(){super(...arguments),this.onDidChangeEmitter=new X,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new w)}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t,i,n;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?(i=e,n=e.onDidChange((()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})),{object:i,dispose:()=>null==n?void 0:n.dispose()}):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let cV=class extends dV{constructor(e,t){super(),this.editor=e,this.commandService=t,this.sharedCache=this._register(new hV),this.suggestWidgetAdapterModel=this._register(new aV(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new LF(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange((()=>{this.updateModel()}))),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!i&&i.parts.some((t=>e.containsPosition(new Rn(i.lineNumber,t.column))))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(Dc.Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return lV(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};cV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,Jn)],cV);class hV extends v{constructor(){super(...arguments),this.onDidChangeEmitter=new X,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new w)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new NF(e,t,(()=>this.onDidChangeEmitter.fire()),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var uV,gV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},mV=function(e,t){return function(i,n){t(i,n,e)}};const pV=null===(uV=window.trustedTypes)||void 0===uV?void 0:uV.createPolicy("editorGhostText",{createHTML:e=>e});let fV=class extends v{constructor(e,t,i,n){super(),this.editor=e,this.model=t,this.instantiationService=i,this.modeService=n,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(_V,this.editor)),this.additionalLinesWidget=this._register(new vV(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration((e=>{(e.hasChanged(29)||e.hasChanged(104)||e.hasChanged(87)||e.hasChanged(82)||e.hasChanged(44)||e.hasChanged(43)||e.hasChanged(58))&&this.update()}))),this._register(_((()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0}))),this._register(t.onDidChange((()=>{this.update()}))),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const i=new Array,n=new Array;function o(e,t){if(n.length>0){const i=n[n.length-1];t&&i.decorations.push(new kw(i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)n.push({content:i,decorations:t?[new kw(1,i.length+1,t,0)]:[]})}const s=this.editor.getModel().getLineContent(t.lineNumber);let r;this.editor.getModel().getLineTokens(t.lineNumber);let a=0;for(const l of t.parts){let e=l.lines;void 0===r?(i.push({column:l.column,text:e[0],preview:l.preview}),e=e.slice(1)):o([s.substring(a,l.column-1)],void 0),e.length>0&&(o(e,"ghost-text"),void 0===r&&l.column<=s.length&&(r=l.column)),a=l.column-1}void 0!==r&&o([s.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,i,void 0!==r?{column:r,length:s.length+1-r}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some((e=>e.lines.length<0))?this.viewMoreContentWidget=this.renderViewMoreLines(new Rn(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){const n=this.editor.getOption(43),o=document.createElement("div");o.className="suggest-preview-additional-widget",Qv.applyFontInfoSlow(o,n);const s=document.createElement("span");s.className="content-spacer",s.append(t),o.append(s);const r=document.createElement("span");r.className="content-newline suggest-preview-text",r.append("⏎  "),o.append(r);const a=new b,l=document.createElement("div");return l.className="button suggest-preview-text",l.append(`+${i} lines…`),a.add(vi(l,"mousedown",(e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()}))),o.append(l),new CV(this.editor,e,o,a)}};fV=gV([mV(2,Nn),mV(3,Mu)],fV);let _V=class{constructor(e,t,i,n){this.editor=e,this.codeEditorService=t,this.themeService=i,this.contextKeyService=n,this.decorationIds=[],this.disposableStore=new b}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){this.disposableStore.clear();const n=this.themeService.getColorTheme(),o=n.getColor(E_);let s,r;o&&(s=String(o.rgba.a),r=Yu.Format.CSS.format(bV(o)));const a=n.getColor(D_);let l;a&&(l=`2px dashed ${a}`);const d=this.editor.getModel();if(!d)return;const{tabSize:c}=d.getOptions(),h=d.getLineContent(e)||"";let u=0,g="";const m=new Array;i&&m.push({range:br.fromPositions(new Rn(e,i.column),new Rn(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const p=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),f=void 0===p||!!p;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map((t=>{g+=h.substring(u,t.column-1),u=t.column-1;const i=f?t.text:this.renderSingleLineText(t.text,g,c,!1),n=this.disposableStore.add(function(e,t,i,n){const o=i+wV++;return e.registerDecorationType(t,o,n),{dispose(){e.removeDecorationType(o)},resolve:()=>e.resolveDecorationOptions(o,!0)}}(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:i,opacity:s,color:r,border:l,fontWeight:t.preview?"bold":"normal"}}));return{range:br.fromPositions(new Rn(e,t.column)),options:f?{description:"ghost-text",after:{content:i,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},n.resolve())}})).concat(m))}renderSingleLineText(e,t,i,n){const o=t+e,s=wg.visibleColumnsByColumns(o,i);let r="",a=t.length+1;for(const l of e){if("\t"===l){const e=s[a+1]-s[a];if(n){r+="→";for(let t=1;t<e;t++)r+=" "}else for(let t=0;t<e;t++)r+=" "}else r+=" "===l?n?"·":" ":l;a+=1}return r}};function bV(e){const{r:t,b:i,g:n}=e.rgba;return new Yu(new Zu(t,n,i,255))}_V=gV([mV(1,An),mV(2,Ls),mV(3,_s)],_V);class vV{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones((e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)}))}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones((n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);const s=Math.max(t.length,i);if(s>0){const i=document.createElement("div");!function(e,t,i,n,o){const s=n.get(29),r=n.get(104),a="none",l=n.get(82),d=n.get(44),c=n.get(43),h=n.get(58),u=Aa(1e4);u.appendASCIIString('<div class="suggest-preview-text">');for(let p=0,f=i.length;p<f;p++){const e=i[p],n=e.content;u.appendASCIIString('<div class="view-line'),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(p*h)),u.appendASCIIString('px;width:1000000px;">');const g=Ao(n),m=Io(n),f=dh.createEmpty(n,o);Aw(new Nw(c.isMonospace&&!s,c.canUseHalfwidthRightwardsArrow,n,!1,g,m,0,f,e.decorations,t,0,c.spaceWidth,c.middotWidth,c.wsmiddotWidth,r,a,l,d!==zr.OFF,null),u),u.appendASCIIString("</div>")}u.appendASCIIString("</div>"),Qv.applyFontInfoSlow(e,c);const g=u.build(),m=pV?pV.createHTML(g):g;e.innerHTML=m}(i,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:s,domNode:i})}}))}}let wV=0;class CV extends v{constructor(e,t,i,n){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register(_((()=>{this.editor.removeContentWidget(this)}))),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}As(((e,t)=>{const i=e.getColor(E_);if(i){const e=String(i.rgba.a),n=Yu.Format.CSS.format(bV(i));t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${e} !important; color: ${n} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${i.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${e} !important; color: ${n} !important; }`)}const n=e.getColor(D_);n&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${n}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${n}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${n}; }`))}));var yV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},SV=function(e,t){return function(i,n){t(i,n,e)}},kV=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let xV=class e extends v{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new w),this._register(this.editor.onDidChangeModel((()=>{this.updateModelController()}))),this._register(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(105)&&this.updateModelController(),e.hasChanged(54)&&this.updateModelController()}))),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(105),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(DV,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return(null===(i=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return kV(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};xV.inlineSuggestionVisible=new fs("inlineSuggestionVisible",!1,t("inlineSuggestionVisible","Whether an inline suggestion is visible")),xV.inlineSuggestionHasIndentation=new fs("inlineSuggestionHasIndentation",!1,t("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),xV.inlineSuggestionHasIndentationLessThanTabSize=new fs("inlineSuggestionHasIndentationLessThanTabSize",!0,t("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),xV.ID="editor.contrib.ghostTextController",xV=yV([SV(1,Nn)],xV);class LV{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=xV.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=xV.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=xV.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let DV=class extends v{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new LV(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(cV,this.editor)),this.widget=this._register(this.instantiationService.createInstance(fV,this.editor,this.model)),this._register(_((()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)}))),this._register(this.model.onDidChange((()=>{this.updateContextKeys()}))),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));let t=!1,i=!0;const n=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&n&&n.parts.length>0){const{column:e,lines:o}=n.parts[0],s=o[0];if(e<=this.editor.getModel().getLineIndentColumn(n.lineNumber)){let e=co(s);-1===e&&(e=s.length-1),t=e>0;const n=this.editor.getModel().getOptions().tabSize;i=wg.visibleColumnFromColumn(s,e+1,n)<n}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};DV=yV([SV(1,Nn),SV(2,_s)],DV);const EV=ir.bindToContribution(xV.get),NV=new EV({id:"editor.action.inlineSuggest.commit",precondition:xV.inlineSuggestionVisible,handler(e){e.commit(),e.editor.focus()}});rr(NV),Us.registerKeybindingRule({primary:2,weight:200,id:NV.id,when:Jo.and(NV.precondition,av.tabMovesFocus.toNegated(),xV.inlineSuggestionHasIndentationLessThanTabSize)}),rr(new EV({id:"editor.action.inlineSuggest.hide",precondition:xV.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class IV extends nr{constructor(){super({id:IV.ID,label:t("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Jo.and(av.writable,xV.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return kV(this,void 0,void 0,(function*(){const e=xV.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}IV.ID="editor.action.inlineSuggest.showNext";class TV extends nr{constructor(){super({id:TV.ID,label:t("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Jo.and(av.writable,xV.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return kV(this,void 0,void 0,(function*(){const e=xV.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}TV.ID="editor.action.inlineSuggest.showPrevious";cr(xV.ID,xV),ar(class extends nr{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:t("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:av.writable})}run(e,t){return kV(this,void 0,void 0,(function*(){const e=xV.get(t);e&&e.trigger()}))}}),ar(IV),ar(TV);var MV=function(e,t){return function(i,n){t(i,n,e)}};class AV{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let RV=class{constructor(e,t,i,n,o,s,r,a){this._editor=e,this._hover=t,this._commandService=i,this._menuService=n,this._contextKeyService=o,this._modeService=s,this._openerService=r,this.accessibilityService=a}suggestHoverAnchor(e){const t=xV.get(this._editor);if(!t)return null;if(8===e.target.type){const i=e.target.detail;if(t.shouldShowHoverAtViewZone(i.viewZoneId))return new pO(1e3,this,br.fromPositions(i.positionBefore||i.position,i.positionBefore||i.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new pO(1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){if(e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range))return new pO(1e3,this,e.target.range)}return null}computeSync(e,t){const i=xV.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new AV(this,e.range,i)]:[]}renderHoverParts(e,i,n){const o=new b,s=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(s,i,o);const r=o.add(this._menuService.createMenu(Fs.InlineCompletionsActions,this._contextKeyService)),a=n.addAction({label:t("showNextInlineSuggestion","Next"),commandId:IV.ID,run:()=>this._commandService.executeCommand(IV.ID)}),l=n.addAction({label:t("showPreviousInlineSuggestion","Previous"),commandId:TV.ID,run:()=>this._commandService.executeCommand(TV.ID)});n.addAction({label:t("acceptInlineSuggestion","Accept"),commandId:NV.id,run:()=>this._commandService.executeCommand(NV.id)});const d=[a,l];for(const t of d)t.setEnabled(!1);s.hasMultipleSuggestions().then((e=>{for(const t of d)t.setEnabled(e)}));for(const[t,c]of r.getActions())for(const e of c)e instanceof Hs&&n.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return o}renderScreenReaderText(e,i,n){var o,s;const r=hn,a=r("div.hover-row.markdown-hover"),l=sn(a,r("div.hover-contents")),d=n.add(new AP({editor:this._editor},this._modeService,this._openerService)),c=e=>{n.add(d.onDidRenderAsync((()=>{l.className="hover-contents code-hover-contents",this._hover.onContentsChanged()})));const i=t("inlineSuggestionFollows","Suggestion:"),o=n.add(d.render((new RD).appendText(i).appendCodeblock("text",e)));l.replaceChildren(o.element)},h=null===(s=null===(o=e.controller.activeModel)||void 0===o?void 0:o.inlineCompletionsModel)||void 0===s?void 0:s.ghostText;if(h){const e=this._editor.getModel().getLineContent(h.lineNumber);c(h.renderForScreenReader(e))}i.appendChild(a)}};RV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([MV(2,Jn),MV(3,Bs),MV(4,_s),MV(5,Mu),MV(6,DP),MV(7,qk)],RV);var OV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},PV=function(e,t){return function(i,n){t(i,n,e)}},FV=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const BV=hn;let WV=class extends v{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=BV("div.hover-row.status-bar"),this.actionsElement=sn(this.hoverElement,BV("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(eO.render(this.actionsElement,e,i))}append(e){const t=sn(this.actionsElement,e);return this._hasContent=!0,t}};WV=OV([PV(0,_E)],WV);class VV{constructor(e,t){this._participants=t,this._editor=e,this._result=[],this._anchor=null}setAnchor(e){this._anchor=e,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(e,t){if(1!==t.type)return[];const i=e.getModel(),n=t.range.startLineNumber,o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter((e=>{if(e.options.isWholeLine)return!0;const i=e.range.startLineNumber===n?e.range.startColumn:1,s=e.range.endLineNumber===n?e.range.endColumn:o;return!(i>t.range.startColumn||t.range.endColumn>s)}))}computeAsync(e){return FV(this,void 0,void 0,(function*(){const t=this._anchor;if(!this._editor.hasModel()||!t)return Promise.resolve([]);const i=VV._getLineDecorations(this._editor,t);return yd(yield Promise.all(this._participants.map((n=>this._computeAsync(n,i,t,e)))))}))}_computeAsync(e,t,i,n){return FV(this,void 0,void 0,(function*(){return e.computeAsync?e.computeAsync(i,t,n):[]}))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=VV._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return _d(t)}onResult(e,t){this._result=t?e.concat(this._result):this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor)for(const e of this._participants)if(e.createLoadingMessage){const t=e.createLoadingMessage(this._anchor);if(t)return this._result.slice(0).concat([t])}return this._result.slice(0)}}let HV=class e extends ny{constructor(e,t,i,n,o){super(),this._hoverVisibleKey=t,this._keybindingService=n,this._contextKeyService=o,this.allowEditorOverflow=!0,this._participants=[i.createInstance(uO,e,this),i.createInstance(WP,e,this),i.createInstance(RV,e,this),i.createInstance(_F,e,this)],this._editor=e,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new XR),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,(e=>{e.equals(9)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(43)&&this._updateFont()}))),this._editor.onDidLayoutChange((()=>this.layout())),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new VV(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new gO(this._computer,(e=>this._withResult(e,!0)),null,(e=>this._withResult(e,!1)),this._editor.getOption(52).delay),this._register(vi(this.getDomNode(),en.FOCUS,(()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")}))),this._register(vi(this.getDomNode(),en.BLUR,(()=>{this.getDomNode().classList.remove("colorpicker-hover")}))),this._register(e.onDidChangeConfiguration((()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above}))),this._register(lh.onDidChange((()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))})))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(e){const t=e.target.type;if(6===t)return!0;if(7===t){const t=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,i=e.target.detail;if(i&&!i.isAfterLines&&"number"==typeof i.horizontalDistanceToText&&i.horizontalDistanceToText<t)return!0}return!1}maybeShowAt(e){var t;const i=[];for(const n of this._participants)if("function"==typeof n.suggestHoverAnchor){const t=n.suggestHoverAnchor(e);t&&i.push(t)}if(this._shouldShowAt(e)&&e.target.range){const n=[...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find((e=>e.startsWith("ced-colorBox")))&&e.target.range.endColumn-e.target.range.startColumn==1?new br(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range;i.push(new mO(0,n))}return 0!==i.length&&(i.sort(((e,t)=>t.priority-e.priority)),this._startShowingAt(i[0],0,!1),!0)}_showAt(e,t,i){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=i,i&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let e=this._preferAbove;return!e&&this._contextKeyService.getContextKeyValue(dB.Visible.key)&&(e=!0),{position:this._showAtPosition,range:this._showAtRange,preference:e?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=""+i/t,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(e,t,i){this._startShowingAt(new mO(0,e),t,i)}_startShowingAt(e,t,i){if(!this._lastAnchor||!this._lastAnchor.equals(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition&&this._lastAnchor&&e.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition)){const t=this._messages.filter((t=>t.isValidForHoverAnchor(e)));if(0===t.length)this.hide();else{if(t.length===this._messages.length)return;this._renderMessages(e,t)}}else this.hide();this._lastAnchor=e,this._computer.setAnchor(e),this._shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout((()=>{this._isVisible||this._hoverVisibleKey.set(!1)}),0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(e){this._colorPicker=e}onContentsChanged(){this._hover.onContentsChanged()}_withResult(e,t){this._messages=e,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):t&&this.hide()}_renderMessages(t,i){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let n=1073741824,o=i[0].range,s=null,r=document.createDocumentFragment();const a=new b,l=new Map;for(const e of i){n=Math.min(n,e.range.startColumn),o=br.plusRange(o,e.range),e.forceShowAtRange&&(s=e.range),l.has(e.owner)||l.set(e.owner,[]);l.get(e.owner).push(e)}const d=a.add(new WV(this._keybindingService));for(const[e,c]of l)a.add(e.renderHoverParts(c,r,d));d.hasContent&&r.appendChild(d.hoverElement),this._renderDisposable=a,r.hasChildNodes()&&(s?this._showAt(s.getStartPosition(),s,this._shouldFocus):this._showAt(new Rn(t.range.startLineNumber,n),o,this._shouldFocus),this._updateContents(r)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,o?[{range:o,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};HV.ID="editor.contrib.modesContentHoverWidget",HV._DECORATION_OPTIONS=vb.register({description:"content-hover-highlight",className:"hoverHighlight"}),HV=OV([PV(2,Nn),PV(3,_E),PV(4,_s)],HV);const zV=hn;class UV{constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const n of t){if(!n.options.glyphMarginClassName)continue;const t=n.options.glyphMarginHoverMessage;t&&!OD(t)&&i.push(...Dd(t).map(e))}return i}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class KV extends ny{constructor(e,t,i=EP){super(),this._renderDisposeables=this._register(new b),this._editor=e,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new XR),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new AP({editor:this._editor},t,i)),this._computer=new UV(this._editor),this._hoverOperation=new gO(this._computer,(e=>this._withResult(e)),void 0,(e=>this._withResult(e)),300),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(43)&&this._updateFont()}))),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return KV.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(58),s=i-n-(this._hover.containerDomNode.clientHeight-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(s),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const n of t){const e=zV("div.hover-row.markdown-hover"),t=sn(e,zV("div.hover-contents")),o=this._renderDisposeables.add(this._markdownRenderer.render(n.value));t.appendChild(o.element),i.appendChild(e)}this._updateContents(i),this._showAt(e)}}KV.ID="editor.contrib.modesGlyphHoverWidget";var jV=function(e,t){return function(i,n){t(i,n,e)}};let $V=class e{constructor(e,t,i,n,o){this._editor=e,this._instantiationService=t,this._openerService=i,this._modeService=n,this._toUnhook=new b,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((e=>{e.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())})),this._hoverVisibleKey=av.hoverVisible.bindTo(o)}static get(t){return t.getContribution(e.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(52);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._toUnhook.add(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e)))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged())))):(this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange((e=>this._onEditorScrollChanged(e))))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var e,t;null===(e=this._contentWidget)||void 0===e||e.onModelDecorationsChanged(),null===(t=this._glyphWidget)||void 0===t||t.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target.type;9!==t||e.target.detail!==HV.ID?12===t&&e.target.detail===KV.ID||(12!==t&&e.target.detail!==KV.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,i,n,o,s;let r=e.target.type;if(this._isMouseDown&&this._hoverClicked)return;if(this._isHoverSticky&&9===r&&e.target.detail===HV.ID)return;if(this._isHoverSticky&&!(null===(i=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===i?void 0:i.isCollapsed))return;if(!this._isHoverSticky&&9===r&&e.target.detail===HV.ID&&(null===(n=this._contentWidget)||void 0===n?void 0:n.isColorPickerVisible()))return;if(this._isHoverSticky&&12===r&&e.target.detail===KV.ID)return;if(!this._isHoverEnabled)return void this._hideWidgets();if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===r&&e.target.position?(null===(s=this._contentWidget)||void 0===s||s.hide(),this._glyphWidget||(this._glyphWidget=new KV(this._editor,this._modeService,this._openerService)),void this._glyphWidget.startShowingAt(e.target.position.lineNumber)):void this._hideWidgets();null===(o=this._glyphWidget)||void 0===o||o.hide()}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(i=this._contentWidget)||void 0===i||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(HV,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};$V.ID="editor.contrib.hover",$V=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([jV(1,Nn),jV(2,DP),jV(3,Mu),jV(4,_s)],$V);cr($V.ID,$V),ar(class extends nr{constructor(){super({id:"editor.action.showHover",label:t("vs/editor/contrib/hover/hover",{key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let i=$V.get(t);if(!i)return;const n=t.getPosition(),o=new br(n.lineNumber,n.column,n.lineNumber,n.column),s=2===t.getOption(2);i.showContentHover(o,1,s)}}),ar(class extends nr{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:t("vs/editor/contrib/hover/hover",{key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let i=$V.get(t);if(!i)return;const n=t.getPosition();if(!n)return;const o=new br(n.lineNumber,n.column,n.lineNumber,n.column);QR.get(t).startFindDefinitionFromCursor(n).then((()=>{i.showContentHover(o,1,!0)}))}}),As(((e,t)=>{const i=e.getColor(xp);i&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${i}; }`);const n=e.getColor(Lp);n&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const o=e.getColor(Ep);o&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const s=e.getColor(hm);s&&t.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const r=e.getColor(um);r&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${r}; }`);const a=e.getColor(Dp);a&&t.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);const l=e.getColor(Np);l&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);const d=e.getColor(gm);d&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${d}; }`)}));class qV extends v{constructor(e){super(),this._editor=e,this._register(e.onMouseDown((e=>this.onMouseDown(e))))}dispose(){super.dispose()}onMouseDown(e){var t;if(6!==e.target.type)return;if(![...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find((e=>e.startsWith("ced-colorBox"))))return;if(!e.target.range)return;const i=this._editor.getContribution($V.ID);if(!i.isColorPickerVisible()){const t=new br(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);i.showContentHover(t,0,!1)}}}qV.ID="editor.contrib.colorContribution",cr(qV.ID,qV);class GV{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const n=t.length;if(i+n>e.length)return!1;for(let o=0;o<n;o++){const n=e.charCodeAt(i+o),s=t.charCodeAt(o);if(n!==s&&!(n>=65&&n<=90&&n+32===s||s>=65&&s<=90&&s+32===n))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,s){const r=e.startLineNumber,a=e.startColumn,l=e.endLineNumber,d=e.endColumn,c=o.getLineContent(r),h=o.getLineContent(l);let u,g=c.lastIndexOf(t,a-1+t.length),m=h.indexOf(i,d-1-i.length);if(-1!==g&&-1!==m)if(r===l){c.substring(g+t.length,m).indexOf(i)>=0&&(g=-1,m=-1)}else{const e=c.substring(g+t.length),n=h.substring(0,m);(e.indexOf(i)>=0||n.indexOf(i)>=0)&&(g=-1,m=-1)}-1!==g&&-1!==m?(n&&g+t.length<c.length&&32===c.charCodeAt(g+t.length)&&(t+=" "),n&&m>0&&32===h.charCodeAt(m-1)&&(i=" "+i,m-=1),u=GV._createRemoveBlockCommentOperations(new br(r,g+t.length+1,l,m+1),t,i)):(u=GV._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===u.length?i:null);for(const p of u)s.addTrackedEditOperation(p.range,p.text)}static _createRemoveBlockCommentOperations(e,t,i){let n=[];return br.isEmpty(e)?n.push(bF.delete(new br(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(bF.delete(new br(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(bF.delete(new br(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){let o=[];return br.isEmpty(e)?o.push(bF.replace(new br(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(bF.insert(new Rn(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(bF.insert(new Rn(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,n),s=Uu.getComments(o);s&&s.blockCommentStartToken&&s.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(2===i.length){const e=i[0],t=i[1];return new vr(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new vr(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}class ZV{constructor(e,t,i,n,o,s){this._selection=e,this._tabSize=t,this._type=i,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,i){e.tokenizeIfCheap(t);const n=e.getLanguageIdAtPosition(t,1),o=Uu.getComments(n),s=o?o.lineCommentToken:null;if(!s)return null;let r=[];for(let a=0,l=i-t+1;a<l;a++)r[a]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return r}static _analyzeLines(e,t,i,n,o,s,r){let a,l=!0;a=0===e||1!==e;for(let d=0,c=n.length;d<c;d++){const c=n[d],h=o+d;if(h===o&&r){c.ignore=!0;continue}const u=i.getLineContent(h),g=co(u);if(-1!==g){if(l=!1,c.ignore=!1,c.commentStrOffset=g,a&&!GV._haystackHasNeedleAtOffset(u,c.commentStr,g)&&(0===e?a=!1:1===e||(c.ignore=!0)),a&&t){const e=g+c.commentStrLength;e<u.length&&32===u.charCodeAt(e)&&(c.commentStrLength+=1)}}else c.ignore=s,c.commentStrOffset=u.length}if(0===e&&l){a=!1;for(let e=0,t=n.length;e<t;e++)n[e].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:n}}static _gatherPreflightData(e,t,i,n,o,s,r){const a=ZV._gatherPreflightCommentStrings(i,n,o);return null===a?{supported:!1}:ZV._analyzeLines(e,t,i,a,n,s,r)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=ZV._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(ZV._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const s=new Rn(n.positionLineNumber,n.positionColumn);for(let r=0,a=o.length;r<a;r++)if(t.addEditOperation(o[r].range,o[r].text),br.isEmpty(o[r].range)&&br.getStartPosition(o[r].range).equals(s)){e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(o[r].text||"").length)}this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,s=t.endLineNumber,r=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),a=e.getLineContent(o).lastIndexOf(i,r-1),l=e.getLineContent(s).indexOf(n,t.endColumn-1-i.length);return-1!==a&&-1===l&&(l=e.getLineContent(o).indexOf(n,a+i.length),s=o),-1===a&&-1!==l&&(a=e.getLineContent(s).lastIndexOf(i,l),o=s),!t.isEmpty()||-1!==a&&-1!==l||(a=e.getLineContent(o).indexOf(i),-1!==a&&(l=e.getLineContent(o).indexOf(n,a+i.length))),-1!==a&&32===e.getLineContent(o).charCodeAt(a+i.length)&&(i+=" "),-1!==l&&32===e.getLineContent(s).charCodeAt(l-1)&&(n=" "+n,l-=1),-1!==a&&-1!==l?GV._createRemoveBlockCommentOperations(new br(o,a+i.length+1,s,l+1),i,n):null}_executeBlockComment(e,t,i){e.tokenizeIfCheap(i.startLineNumber);let n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=Uu.getComments(n);if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const s=o.blockCommentStartToken,r=o.blockCommentEndToken;let a=this._attemptRemoveBlockComment(e,i,s,r);if(!a){if(i.isEmpty()){const t=e.getLineContent(i.startLineNumber);let n=co(t);-1===n&&(n=t.length),a=GV._createAddBlockCommentOperations(new br(i.startLineNumber,n+1,i.startLineNumber,t.length+1),s,r,this._insertSpace)}else a=GV._createAddBlockCommentOperations(new br(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,r,this._insertSpace);1===a.length&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(const l of a)t.addEditOperation(l.range,l.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new br(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(i));i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=ZV._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new vr(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];o.ignore||i.push(bF.delete(new br(t+n,o.commentStrOffset+1,t+n,o.commentStrOffset+o.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[];const n=this._insertSpace?" ":"";for(let o=0,s=e.length;o<s;o++){const s=e[o];s.ignore||i.push(bF.insert(new Rn(t+o,s.commentStrOffset+1),s.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o,s,r=1073741824;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const o=e.getLineContent(i+a);let s=0;for(let e=0,i=t[a].commentStrOffset;s<r&&e<i;e++)s=ZV.nextVisibleColumn(s,n,9===o.charCodeAt(e),1);s<r&&(r=s)}r=Math.floor(r/n)*n;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const l=e.getLineContent(i+a);let d=0;for(o=0,s=t[a].commentStrOffset;d<r&&o<s;o++)d=ZV.nextVisibleColumn(d,n,9===l.charCodeAt(o),1);t[a].commentStrOffset=d>r?o-1:o}}}class JV extends nr{constructor(e,t){super(t),this._type=e}run(e,t){if(!t.hasModel())return;const i=[],n=t.getModel().getOptions(),o=t.getOption(19),s=t.getSelections().map(((e,t)=>({selection:e,index:t,ignoreFirstLine:!1})));s.sort(((e,t)=>br.compareRangesUsingStarts(e.selection,t.selection)));let r=s[0];for(let a=1;a<s.length;a++){const e=s[a];r.selection.endLineNumber===e.selection.startLineNumber&&(r.index<e.index?e.ignoreFirstLine=!0:(r.ignoreFirstLine=!0,r=e))}for(const a of s)i.push(new ZV(a.selection,n.tabSize,this._type,o.insertSpace,o.ignoreEmptyLines,a.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}ar(class extends JV{constructor(){super(0,{id:"editor.action.commentLine",label:t("vs/editor/contrib/comment/comment","comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Fs.MenubarEditMenu,group:"5_insert",title:t("vs/editor/contrib/comment/comment",{key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),ar(class extends JV{constructor(){super(1,{id:"editor.action.addCommentLine",label:t("vs/editor/contrib/comment/comment","comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2081),weight:100}})}}),ar(class extends JV{constructor(){super(2,{id:"editor.action.removeCommentLine",label:t("vs/editor/contrib/comment/comment","comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2099),weight:100}})}}),ar(class extends nr{constructor(){super({id:"editor.action.blockComment",label:t("vs/editor/contrib/comment/comment","comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Fs.MenubarEditMenu,group:"5_insert",title:t("vs/editor/contrib/comment/comment",{key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;const i=t.getOption(19),n=[],o=t.getSelections();for(const s of o)n.push(new GV(s,i.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}});var QV=function(e,t){return function(i,n){t(i,n,e)}};let YV=class e{constructor(e,t,i,n,o,s){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=o,this._menuService=s,this._toDispose=new b,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((e=>this._onContextMenu(e)))),this._toDispose.add(this._editor.onMouseWheel((e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),i=e.srcElement;i.shadowRoot&&$i(t)===i.shadowRoot||this._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())})))}static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(e.event.preventDefault(),e.event.stopPropagation(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const i of this._editor.getSelections())if(i.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20))return;if(!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Fs.SimpleEditorContext:Fs.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(let s of o){const[,t]=s;let n=0;for(const o of t)if(o instanceof Vs){const t=this._getMenuActions(e,o.item.submenu);t.length>0&&(i.push(new zn(o.id,o.label,t)),n++)}else i.push(o),n++;n&&i.push(new Hn)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),i=Oi(this._editor.getDomNode()),n=i.left+e.left,o=i.top+e.top+e.height;t={x:n,y:o}}const n=this._editor.getOption(113)&&!z;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:n?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new qx(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const i=e;return"function"==typeof i.getActionViewItem?i.getActionViewItem():new qx(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};YV.ID="editor.contrib.contextmenu",YV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([QV(1,uL),QV(2,hL),QV(3,_s),QV(4,_E),QV(5,Bs)],YV);cr(YV.ID,YV),ar(class extends nr{constructor(){super({id:"editor.action.showContextMenu",label:t("vs/editor/contrib/contextmenu/contextmenu","action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:av.textInputFocus,primary:1092,weight:100}})}run(e,t){YV.get(t).showContextMenu()}});class XV{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}}class eH{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class tH extends v{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeModelContent((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeCursorSelection((t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const i=new XV(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new eH(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())})))}static get(e){return e.getContribution(tH.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new eH(new XV(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new eH(new XV(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}tH.ID="editor.contrib.cursorUndoRedoController";cr(tH.ID,tH),ar(class extends nr{constructor(){super({id:"cursorUndo",label:t("vs/editor/contrib/cursorUndo/cursorUndo","cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:av.textInputFocus,primary:2099,weight:100}})}run(e,t,i){tH.get(t).cursorUndo()}}),ar(class extends nr{constructor(){super({id:"cursorRedo",label:t("vs/editor/contrib/cursorUndo/cursorUndo","cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){tH.get(t).cursorRedo()}});class iH{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new br(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new vr(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new vr(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new vr(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new vr(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new vr(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function nH(e){return B?e.altKey:e.ctrlKey}class oH extends v{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._register(this._editor.onMouseDrag((e=>this._onEditorMouseDrag(e)))),this._register(this._editor.onMouseDrop((e=>this._onEditorMouseDrop(e)))),this._register(this._editor.onMouseDropCanceled((()=>this._onEditorMouseDropCanceled()))),this._register(this._editor.onKeyDown((e=>this.onEditorKeyDown(e)))),this._register(this._editor.onKeyUp((e=>this.onEditorKeyUp(e)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(nH(e)&&(this._modifierPressed=!0),this._mouseDown&&nH(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(nH(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===oH.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let e=(this._editor.getSelections()||[]).filter((e=>t.position&&e.containsPosition(t.position)));if(1!==e.length)return;this._dragSelection=e[0]}nH(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new Rn(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){let e=this._editor.getSelection();if(e){const{selectionStartLineNumber:n,selectionStartColumn:o}=e;i=[new vr(n,o,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map((e=>e.containsPosition(t)?new vr(t.lineNumber,t.column,t.lineNumber,t.column):e));this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(nH(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(oH.ID,new iH(this._dragSelection,t,nH(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new br(e.lineNumber,e.column,e.lineNumber,e.column),options:oH._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}oH.ID="editor.contrib.dragAndDrop",oH.TRIGGER_KEY_VALUE=B?6:5,oH._DECORATION_OPTIONS=vb.register({description:"dnd-target",className:"dnd-target"}),cr(oH.ID,oH);class sH{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map((e=>this._editor.getModel().getDecorationRange(e))).filter((e=>!!e));if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const e=i.options;if(e===sH._FIND_MATCH_DECORATION||e===sH._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){let o=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(o)){t=this._decorations[n],i=n+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations((e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,sH._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,sH._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){let e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new br(i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,sH._RANGE_HIGHLIGHT_DECORATION)}})),i}set(e,t){this._editor.changeDecorations((i=>{let n=sH._FIND_MATCH_DECORATION,o=[];if(e.length>1e3){n=sH._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),i=this._editor.getLayoutInfo().height/t,s=Math.max(2,Math.ceil(3/i));let r=e[0].range.startLineNumber,a=e[0].range.endLineNumber;for(let n=1,l=e.length;n<l;n++){const t=e[n].range;a+s>=t.startLineNumber?t.endLineNumber>a&&(a=t.endLineNumber):(o.push({range:new br(r,1,a,1),options:sH._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=t.startLineNumber,a=t.endLineNumber)}o.push({range:new br(r,1,a,1),options:sH._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(e.length);for(let t=0,r=e.length;t<r;t++)s[t]={range:e[t].range,options:n};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((e=>i.removeDecoration(e))),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map((e=>i.addDecoration(e,sH._FIND_SCOPE_DECORATION))))}))}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.startLineNumber<e.lineNumber)){if(n.startLineNumber>e.lineNumber)return n;if(!(n.startColumn<e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}sH._CURRENT_FIND_MATCH_DECORATION=vb.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Ns(Rf),position:ra.Center},minimap:{color:Ns(Pf),position:la.Inline}}),sH._FIND_MATCH_DECORATION=vb.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Ns(Rf),position:ra.Center},minimap:{color:Ns(Pf),position:la.Inline}}),sH._FIND_MATCH_NO_OVERVIEW_DECORATION=vb.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),sH._FIND_MATCH_ONLY_OVERVIEW_DECORATION=vb.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Ns(Rf),position:ra.Center}}),sH._RANGE_HIGHLIGHT_DECORATION=vb.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),sH._FIND_SCOPE_DECORATION=vb.register({description:"find-scope",className:"findScope",isWholeLine:!0});class rH{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort(((e,t)=>br.compareRangesUsingStarts(e.range,t.range)));let i=[],n=e[0];for(let t=1;t<e.length;t++)n.range.endLineNumber===e[t].range.startLineNumber&&n.range.endColumn===e[t].range.startColumn?(n.range=n.range.plusRange(e[t].range),n.text=n.text+e[t].text):(i.push(n),n=e[t]);i.push(n);for(const o of i)t.addEditOperation(o.range,o.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function aH(e,t){if(e&&""!==e[0]){const i=lH(e,t,"-"),n=lH(e,t,"_");return i&&!n?dH(e,t,"-"):!i&&n?dH(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():function(e,t=!1){return!!e&&(t&&(e=e.replace(/\\./g,"")),e.toLowerCase()!==e)}(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function lH(e,t,i){return-1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function dH(e,t,i){const n=t.split(i),o=e[0].split(i);let s="";return n.forEach(((e,t)=>{s+=aH([o[t]],e)+i})),s.slice(0,-1)}class cH{constructor(e){this.staticValue=e,this.kind=0}}class hH{constructor(e){this.pieces=e,this.kind=1}}class uH{constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new cH(e[0].staticValue):this._state=new hH(e):this._state=new cH("")}static fromStaticValue(e){return new uH([gH.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?aH(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){let t=this._state.pieces[n];if(null!==t.staticValue){i+=t.staticValue;continue}let o=uH._substitute(t.matchIndex,e);if(null!==t.caseOps&&t.caseOps.length>0){let e=[],i=t.caseOps.length,n=0;for(let s=0,r=o.length;s<r;s++){if(n>=i){e.push(o.slice(s));break}switch(t.caseOps[n]){case"U":e.push(o[s].toUpperCase());break;case"u":e.push(o[s].toUpperCase()),n++;break;case"L":e.push(o[s].toLowerCase());break;case"l":e.push(o[s].toLowerCase()),n++;break;default:e.push(o[s])}}o=e.join("")}i+=o}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";for(;e>0;){if(e<t.length){return(t[e]||"")+i}i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class gH{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}static staticValue(e){return new gH(e,-1,null)}static caseOps(e,t){return new gH(null,e,t)}}class mH{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=gH.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=gH.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=gH.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new uH(this._result)}}const pH=new fs("findWidgetVisible",!1),fH=new fs("findInputFocussed",!1),_H=new fs("replaceInputFocussed",!1),bH={primary:545,mac:{primary:2593}},vH={primary:565,mac:{primary:2613}},wH={primary:560,mac:{primary:2608}},CH={primary:554,mac:{primary:2602}},yH={primary:558,mac:{primary:2606}},SH="actions.find",kH="actions.findWithSelection",xH="editor.action.nextMatchFindAction",LH="editor.action.previousMatchFindAction",DH="editor.action.nextSelectionMatchFindAction",EH="editor.action.previousSelectionMatchFindAction",NH="editor.action.startFindReplaceAction",IH="closeFindWidget",TH="toggleFindCaseSensitive",MH="toggleFindWholeWord",AH="toggleFindRegex",RH="toggleFindInSelection",OH="togglePreserveCase",PH="editor.action.replaceOne",FH="editor.action.replaceAll",BH="editor.action.selectAllMatches";class WH{constructor(e,t){this._toDispose=new b,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new vt,this._decorations=new sH(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Ct((()=>this.research(!1)),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,p(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;void 0!==t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map((e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new br(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e})));let n=this._findMatches(i,!1,19999);this._decorations.set(n,i);const o=this._editor.getSelection();let s=this._decorations.getCurrentMatchesPosition(o);if(0===s&&n.length>0){const e=md(n.map((e=>e.range)),(e=>br.compareRangesUsingStarts(e,o)>=0));s=e>0?e-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new Rn(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;let i=this._decorations.getFindScope(),n=WH._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());let{lineNumber:o,column:s}=e,r=this._editor.getModel(),a=new Rn(o,s),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);return l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),l?t||n.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new Rn(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),s=WH._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());let{lineNumber:r,column:a}=e,l=this._editor.getModel(),d=new Rn(r,a),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t);return i&&c&&c.range.isEmpty()&&c.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t)),c?n||s.containsRange(c.range)?c:this._getNextMatch(c.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(e){if(!e||0===e.length)return new uH(null);let t=[],i=new mH(e);for(let n=0,o=e.length;n<o;n++){let s=e.charCodeAt(n);if(92!==s){if(36===s){if(n++,n>=o)break;let s=e.charCodeAt(n);if(36===s){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(48===s||38===s){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=s&&s<=57){let r=s-48;if(n+1<o){let o=e.charCodeAt(n+1);if(48<=o&&o<=57){n++,r=10*r+(o-48),i.emitUnchanged(n-2),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}}else{if(n++,n>=o)break;let s=e.charCodeAt(n);switch(s){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic("\n",n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),t.push(String.fromCharCode(s))}}}return i.finalize()}(this._state.replaceString):uH.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new Pb(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new Rn(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const n=(e||[null]).map((e=>WH._getSearchRange(this._editor.getModel(),e)));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new Jl(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!e)return;let t=e.regex;if(!t.multiline){let e="mu";t.ignoreCase&&(e+="i"),t.global&&(e+="g"),t=new RegExp(t.source,e)}const i=this._editor.getModel(),n=i.getValue(1),o=i.getFullModelRange(),s=this._getReplacePattern();let r;const a=this._state.preserveCase;r=s.hasReplacementPatterns||a?n.replace(t,(function(){return s.buildReplaceString(arguments,a)})):n.replace(t,s.buildReplaceString(null,a));let l=new Vb(o,r,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){const t=this._getReplacePattern();let i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let s=0,r=i.length;s<r;s++)n[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);let o=new rH(this._editor.getSelection(),i.map((e=>e.range)),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824).map((e=>new vr(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))),i=this._editor.getSelection();for(let n=0,o=t.length;n<o;n++){if(t[n].equalsRange(i)){t=[i].concat(t.slice(0,n)).concat(t.slice(n+1));break}}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}const VH={inputActiveOptionBorder:Yu.fromHex("#007ACC00"),inputActiveOptionForeground:Yu.fromHex("#FFFFFF"),inputActiveOptionBackground:Yu.fromHex("#0E639C50")};class HH extends ny{constructor(e){super(),this._onChange=this._register(new X),this.onChange=this._onChange.event,this._onKeyDown=this._register(new X),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},VH),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...Gn.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault()})),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void e.preventDefault();this._onKeyDown.fire(e)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const zH=t("vs/base/browser/ui/findinput/findInputCheckboxes","caseDescription","Match Case"),UH=t("vs/base/browser/ui/findinput/findInputCheckboxes","wordsDescription","Match Whole Word"),KH=t("vs/base/browser/ui/findinput/findInputCheckboxes","regexDescription","Use Regular Expression");class jH extends HH{constructor(e){super({icon:qn.caseSensitive,title:zH+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class $H extends HH{constructor(e){super({icon:qn.wholeWord,title:UH+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class qH extends HH{constructor(e){super({icon:qn.regex,title:KH+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class GH extends ny{constructor(e,t,i,n){super(),this._hideSoon=this._register(new Ct((()=>this._hide()),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o=n.getColorTheme().getColor(bm),s=n.getColorTheme().getColor(wm),r=n.getColorTheme().getColor(vm);this.caseSensitive=this._register(new jH({appendTitle:this._keybindingLabelFor(TH),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:r})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange((()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)}))),this.wholeWords=this._register(new $H({appendTitle:this._keybindingLabelFor(MH),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:r})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange((()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)}))),this.regex=this._register(new qH({appendTitle:this._keybindingLabelFor(AH),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:r})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange((()=>{this._state.change({isRegex:this.regex.checked},!1)}))),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()}))),this._register(yi(this._domNode,(e=>this._onMouseOut()))),this._register(_i(this._domNode,"mouseover",(e=>this._onMouseOver()))),this._applyTheme(n.getColorTheme()),this._register(n.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return GH.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(bm),inputActiveOptionForeground:e.getColor(wm),inputActiveOptionBackground:e.getColor(vm)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}function ZH(e,t){return 1===e||2!==e&&t}GH.ID="editor.contrib.findOptionsWidget",As(((e,t)=>{const i=e.getColor(tp);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=e.getColor(ip);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=e.getColor(mm);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const s=e.getColor(dm);s&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)}));class JH extends v{constructor(){super(),this._onFindReplaceStateChange=this._register(new X),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return ZH(this._isRegexOverride,this._isRegex)}get wholeWord(){return ZH(this._wholeWordOverride,this._wholeWord)}get matchCase(){return ZH(this._matchCaseOverride,this._matchCase)}get preserveCase(){return ZH(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),void 0!==i&&(br.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;const r=this.isRegex,a=this.wholeWord,l=this.matchCase,d=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,s=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,s=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,s=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every((e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some((t=>!br.equalsRange(t,e)))})))||(this._searchScope=e.searchScope,o.searchScope=!0,s=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,s=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(s=!0,o.isRegex=!0),a!==this.wholeWord&&(s=!0,o.wholeWord=!0),l!==this.matchCase&&(s=!0,o.matchCase=!0),d!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=19999}}class QH{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class YH{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new QH(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach((t=>e.push(t))),e}}const XH=hn,ez={inputBackground:Yu.fromHex("#3C3C3C"),inputForeground:Yu.fromHex("#CCCCCC"),inputValidationInfoBorder:Yu.fromHex("#55AAFF"),inputValidationInfoBackground:Yu.fromHex("#063B49"),inputValidationWarningBorder:Yu.fromHex("#B89500"),inputValidationWarningBackground:Yu.fromHex("#352A05"),inputValidationErrorBorder:Yu.fromHex("#BE1100"),inputValidationErrorBackground:Yu.fromHex("#5A1D1D")};class tz extends ny{constructor(e,t,i){var n;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new X),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new X),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),na(this.options,ez,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(n=this.options.tooltip)&&void 0!==n?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=sn(e,XH(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",s=sn(this.element,XH(".ibwrapper"));if(this.input=sn(s,XH(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=sn(s,XH("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new yy(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),sn(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=this._register(new xx(document,"selectionchange")),i=Q.filter(t.event,(()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===s}));this._register(i(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new Zx(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:Vi(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Fi(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,i,n=()=>e.style.width=Fi(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=sn(t,XH(".monaco-inputbox-container")),n();const i={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?mP(this.message.content,i):function(e,t={}){const i=pP(t);return i.textContent=e,i}(this.message.content,i);o.classList.add(this.classForType(this.message.type));const s=this.stylesForType(this.message.type);return o.style.backgroundColor=s.background?s.background.toString():"",o.style.color=s.foreground?s.foreground.toString():"",o.style.border=s.border?`1px solid ${s.border}`:"",sn(e,o),null},onHide:()=>{this.state="closed"},layout:n}),i=3===this.message.type?t("vs/base/browser/ui/inputbox/inputBox","alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?t("vs/base/browser/ui/inputbox/inputBox","alertWarningMessage","Warning: {0}",this.message.content):t("vs/base/browser/ui/inputbox/inputBox","alertInfoMessage","Info: {0}",this.message.content),kn(i),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";(e+t).replace(/\u000c/g,"")?this.mirror.textContent=e+t:this.mirror.innerText=" ",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=Vi(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class iz extends tz{constructor(e,i,n){const o=t("vs/base/browser/ui/inputbox/inputBox",{key:"history.inputbox.hint",comment:["Text will be prefixed with ⇅ plus a single space, then used as a hint where input field keeps history"]},"for history"),s=` or ⇅ ${o}`,r=` (⇅ ${o})`;super(e,i,n),this.history=new YH(n.history,100);const a=()=>{if(n.showHistoryHint&&n.showHistoryHint()&&!this.placeholder.endsWith(s)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){const e=this.placeholder.endsWith(")")?s:r,t=this.placeholder+e;n.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=t:this.setPlaceHolder(t)}};this.observer=new MutationObserver(((e,t)=>{e.forEach((e=>{e.target.textContent||a()}))})),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,(()=>a())),this.onblur(this.input,(()=>{const e=e=>{if(this.placeholder.endsWith(e)){const t=this.placeholder.slice(0,this.placeholder.length-e.length);return n.showPlaceholderOnFocus?this.placeholder=t:this.setPlaceHolder(t),!0}return!1};e(r)||e(s)}))}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,xn(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,xn(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const nz=t("vs/base/browser/ui/findinput/findInput","defaultLabel","input");class oz extends ny{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new X),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new X),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new X),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new X),this._onKeyUp=this._register(new X),this._onCaseSensitiveKeyDown=this._register(new X),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new X),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||nz,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const o=n.appendCaseSensitiveLabel||"",s=n.appendWholeWordsLabel||"",r=n.appendRegexLabel||"",a=n.history||[],l=!!n.flexibleHeight,d=!!n.flexibleWidth,c=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new iz(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,showHistoryHint:n.showHistoryHint,flexibleHeight:l,flexibleWidth:d,flexibleMaxHeight:c})),this.regex=this._register(new qH({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((e=>{this._onRegexKeyDown.fire(e)}))),this.wholeWords=this._register(new $H({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new jH({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((e=>{this._onCaseSensitiveKeyDown.fire(e)}))),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=h.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%h.length:e.equals(15)&&(i=0===t?h.length-1:t-1),e.equals(9)?(h[t].blur(),this.inputBox.focus()):i>=0&&h[i].focus(),tn(e,!0)}}}));let u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.caseSensitive.domNode),u.appendChild(this.wholeWords.domNode),u.appendChild(this.regex.domNode),this.domNode.appendChild(u),e&&e.appendChild(this.domNode),this._register(_i(this.inputBox.inputElement,"compositionstart",(e=>{this.imeSessionInProgress=!0}))),this._register(_i(this.inputBox.inputElement,"compositionend",(e=>{this.imeSessionInProgress=!1,this._onInput.fire()}))),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const sz=t("vs/base/browser/ui/findinput/replaceInput","defaultLabel","input"),rz=t("vs/base/browser/ui/findinput/replaceInput","label.preserveCaseCheckbox","Preserve Case");class az extends HH{constructor(e){super({icon:qn.preserveCase,title:rz+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class lz extends ny{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new X),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new X),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new X),this._onInput=this._register(new X),this._onKeyUp=this._register(new X),this._onPreserveCaseKeyDown=this._register(new X),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||sz,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const o=n.appendPreserveCaseLabel||"",s=n.history||[],r=!!n.flexibleHeight,a=!!n.flexibleWidth,l=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new iz(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:n.showHistoryHint,flexibleHeight:r,flexibleWidth:a,flexibleMaxHeight:l})),this.preserveCase=this._register(new az({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.preserveCase.onKeyDown((e=>{this._onPreserveCaseKeyDown.fire(e)}))),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let d=[this.preserveCase.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=d.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%d.length:e.equals(15)&&(i=0===t?d.length-1:t-1),e.equals(9)?(d[t].blur(),this.inputBox.focus()):i>=0&&d[i].focus(),tn(e,!0)}}}));let c=document.createElement("div");c.className="controls",c.style.display=this._showOptionButtons?"block":"none",c.appendChild(this.preserveCase.domNode),this.domNode.appendChild(c),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var dz=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},cz=function(e,t){return function(i,n){t(i,n,e)}};function hz(e,t){return e.getContext(document.activeElement).getValue(t)}function uz(e,t){const i=function(e,t){return e.createScoped(t.target)}(e,t);!function(e,t,i){new fs(i,t).bindTo(e)}(i,t,"historyNavigationWidget");return{scopedContextKeyService:i,historyNavigationForwardsEnablement:new fs("historyNavigationForwardsEnabled",!0).bindTo(i),historyNavigationBackwardsEnablement:new fs("historyNavigationBackwardsEnabled",!0).bindTo(i)}}let gz=class extends oz{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(uz(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};gz=dz([cz(3,_s)],gz);let mz=class extends lz{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(uz(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};function pz(e){var t,i;return"Up"===(null===(t=e.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(i=e.lookupKeybinding("history.showNext"))||void 0===i?void 0:i.getElectronAccelerator())}mz=dz([cz(3,_s)],mz),Us.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Jo.and(Jo.has("historyNavigationWidget"),Jo.equals("historyNavigationBackwardsEnabled",!0),dB.Visible.isEqualTo(!1)),primary:16,secondary:[528],handler:e=>{const t=hz(e.get(_s),"historyNavigationWidget");if(t){t.historyNavigator.showPreviousValue()}}}),Us.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Jo.and(Jo.has("historyNavigationWidget"),Jo.equals("historyNavigationForwardsEnabled",!0),dB.Visible.isEqualTo(!1)),primary:18,secondary:[530],handler:e=>{const t=hz(e.get(_s),"historyNavigationWidget");if(t){t.historyNavigator.showNextValue()}}});var fz=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const _z=Qx("find-selection",qn.selection,t("vs/editor/contrib/find/findWidget","findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),bz=Qx("find-collapsed",qn.chevronRight,t("vs/editor/contrib/find/findWidget","findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),vz=Qx("find-expanded",qn.chevronDown,t("vs/editor/contrib/find/findWidget","findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),wz=Qx("find-replace",qn.replace,t("vs/editor/contrib/find/findWidget","findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Cz=Qx("find-replace-all",qn.replaceAll,t("vs/editor/contrib/find/findWidget","findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),yz=Qx("find-previous-match",qn.arrowUp,t("vs/editor/contrib/find/findWidget","findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Sz=Qx("find-next-match",qn.arrowDown,t("vs/editor/contrib/find/findWidget","findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),kz=t("vs/editor/contrib/find/findWidget","label.find","Find"),xz=t("vs/editor/contrib/find/findWidget","placeholder.find","Find"),Lz=t("vs/editor/contrib/find/findWidget","label.previousMatchButton","Previous Match"),Dz=t("vs/editor/contrib/find/findWidget","label.nextMatchButton","Next Match"),Ez=t("vs/editor/contrib/find/findWidget","label.toggleSelectionFind","Find in Selection"),Nz=t("vs/editor/contrib/find/findWidget","label.closeButton","Close"),Iz=t("vs/editor/contrib/find/findWidget","label.replace","Replace"),Tz=t("vs/editor/contrib/find/findWidget","placeholder.replace","Replace"),Mz=t("vs/editor/contrib/find/findWidget","label.replaceButton","Replace"),Az=t("vs/editor/contrib/find/findWidget","label.replaceAllButton","Replace All"),Rz=t("vs/editor/contrib/find/findWidget","label.toggleReplaceButton","Toggle Replace"),Oz=t("vs/editor/contrib/find/findWidget","title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),Pz=t("vs/editor/contrib/find/findWidget","label.matchesLocation","{0} of {1}"),Fz=t("vs/editor/contrib/find/findWidget","label.noResults","No results");let Bz=69;const Wz=B?256:2048;class Vz{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Hz(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionStart>0&&e.stopPropagation()}function zz(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionEnd<i.value.length&&e.stopPropagation()}class Uz extends ny{constructor(e,t,i,n,o,s,r,a,l){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=o,this._contextKeyService=s,this._storageService=a,this._notificationService=l,this._ctrlEnterReplaceAllWarningPrompted=!!a.getBoolean("ctrlEnterReplaceAll.windows.donotask",0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new mt(500),this._register(_((()=>this._updateHistoryDelayer.cancel()))),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((e=>{if(e.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(129)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(35)){const e=this._codeEditor.getOption(35).addExtraSpaceOnTop;e&&!this._viewZone&&(this._viewZone=new Vz(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone()}}))),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection((()=>{this._isVisible&&this._updateToggleSelectionFindButton()}))),this._register(this._codeEditor.onDidFocusEditorWidget((()=>fz(this,void 0,void 0,(function*(){if(this._isVisible){let e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}}))))),this._findInputFocused=fH.bindTo(s),this._findFocusTracker=this._register(on(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus((()=>{this._findInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._findFocusTracker.onDidBlur((()=>{this._findInputFocused.set(!1)}))),this._replaceInputFocused=_H.bindTo(s),this._replaceFocusTracker=this._register(on(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus((()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._replaceFocusTracker.onDidBlur((()=>{this._replaceInputFocused.set(!1)}))),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new Vz(0)),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel((()=>{this._isVisible&&(this._viewZoneId=void 0)}))),this._register(this._codeEditor.onDidScrollChange((e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout((()=>{this._layoutViewZone()}),0)})))}getId(){return Uz.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(80)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=Fi(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,n)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=Bz+"px",this._state.matchesCount>=19999?this._matchesCount.title=Oz:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=eo(Pz,i,t)}else e=Fz;this._matchesCount.appendChild(document.createTextNode(e)),kn(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Bz=Math.max(Bz,this._matchesCount.clientWidth)}_getAriaLabel(e,i,n){if(e===Fz)return""===n?t("vs/editor/contrib/find/findWidget","ariaSearchNoResultEmpty","{0} found",e):t("vs/editor/contrib/find/findWidget","ariaSearchNoResult","{0} found for '{1}'",e,n);if(i){const o=t("vs/editor/contrib/find/findWidget","ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,i.startLineNumber+":"+i.startColumn),s=this._codeEditor.getModel();if(s&&i.startLineNumber<=s.getLineCount()&&i.startLineNumber>=1){return`${s.getLineContent(i.startLineNumber)}, ${o}`}return o}return t("vs/editor/contrib/find/findWidget","ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((()=>{this._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const n=Oi(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=n.left+(o?o.left:0),r=o?o.top:0;if(this._viewZone&&r<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const i=Ri(this._domNode).left;s>i&&(t=!1);const o=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(o?o.left:0)>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones((i=>{t.heightInPx=this._getHeight(),this._viewZoneId=i.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)}))}_showViewZone(e=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new Vz(0));const t=this._viewZone;this._codeEditor.changeViewZones((i=>{if(void 0!==this._viewZoneId){const n=this._getHeight();if(n===t.heightInPx)return;let o=n-t.heightInPx;return t.heightInPx=n,i.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o))}{let n=this._getHeight();if(n-=this._codeEditor.getOption(74).top,n<=0)return;t.heightInPx=n,this._viewZoneId=i.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n)}}))}_removeViewZone(){this._codeEditor.changeViewZones((e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))}))}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(bm),inputActiveOptionBackground:e.getColor(vm),inputActiveOptionForeground:e.getColor(wm),inputBackground:e.getColor(pm),inputForeground:e.getColor(fm),inputBorder:e.getColor(_m),inputValidationInfoBackground:e.getColor(Cm),inputValidationInfoForeground:e.getColor(ym),inputValidationInfoBorder:e.getColor(Sm),inputValidationWarningBackground:e.getColor(km),inputValidationWarningForeground:e.getColor(xm),inputValidationWarningBorder:e.getColor(Lm),inputValidationErrorBackground:e.getColor(Dm),inputValidationErrorForeground:e.getColor(Em),inputValidationErrorBorder:e.getColor(Nm)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!pi(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const t=e.width,i=e.minimap.minimapWidth;let n=!1,o=!1,s=!1;if(this._resized){if(Fi(this._domNode)>419)return this._domNode.style.maxWidth=t-28-i-15+"px",void(this._replaceInput.width=Fi(this._findInput.domNode))}if(447+i>=t&&(o=!0),447+i-Bz>=t&&(s=!0),447+i-Bz>=t+50&&(n=!0),this._domNode.classList.toggle("collapsed-find-widget",n),this._domNode.classList.toggle("narrow-find-widget",s),this._domNode.classList.toggle("reduced-find-widget",o),s||n||(this._domNode.style.maxWidth=t-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=Fi(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map((e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||br.equalsRange(e,t)?null:e})).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|Wz)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Hz(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?zz(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|Wz)?(this._keybindingService.dispatchEvent(e,e.target)||(F&&V&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(t("vs/editor/contrib/find/findWidget","ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store("ctrlEnterReplaceAll.windows.donotask",!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Hz(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?zz(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new gz(null,this._contextViewProvider,{width:221,label:kz,placeholder:xz,appendCaseSensitiveLabel:this._keybindingLabelFor(TH),appendWholeWordsLabel:this._keybindingLabelFor(MH),appendRegexLabel:this._keybindingLabelFor(AH),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(G1){return{content:G1.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118,showHistoryHint:()=>pz(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((e=>this._onFindInputKeyDown(e)))),this._register(this._findInput.inputBox.onDidChange((()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((e=>{this._tryUpdateHeight()&&this._showViewZone()}))),W&&this._register(this._findInput.onMouseDown((e=>this._onFindInputMouseDown(e)))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Kz({label:Lz+this._keybindingLabelFor(LH),icon:yz,onTrigger:()=>{this._codeEditor.getAction(LH).run().then(void 0,n)}})),this._nextBtn=this._register(new Kz({label:Dz+this._keybindingLabelFor(xH),icon:Sz,onTrigger:()=>{this._codeEditor.getAction(xH).run().then(void 0,n)}}));let e=document.createElement("div");e.className="find-part",e.appendChild(this._findInput.domNode);const t=document.createElement("div");t.className="find-actions",e.appendChild(t),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new HH({icon:_z,title:Ez+this._keybindingLabelFor(RH),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)}))),t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Kz({label:Nz+this._keybindingLabelFor(IH),icon:eL,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new mz(null,void 0,{label:Iz,placeholder:Tz,appendPreserveCaseLabel:this._keybindingLabelFor(OH),history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118,showHistoryHint:()=>pz(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((e=>this._onReplaceInputKeyDown(e)))),this._register(this._replaceInput.inputBox.onDidChange((()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}))),this._replaceBtn=this._register(new Kz({label:Mz+this._keybindingLabelFor(PH),icon:wz,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new Kz({label:Az+this._keybindingLabelFor(FH),icon:Cz,onTrigger:()=>{this._controller.replaceAll()}}));let i=document.createElement("div");i.className="replace-part",i.appendChild(this._replaceInput.domNode);const o=document.createElement("div");o.className="replace-actions",i.appendChild(o),o.appendChild(this._replaceBtn.domNode),o.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Kz({label:Rz,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Fi(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(i),this._resizeSash=new Ox(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let s=419;this._register(this._resizeSash.onDidStart((()=>{s=Fi(this._domNode)}))),this._register(this._resizeSash.onDidChange((e=>{this._resized=!0;let t=s+e.startX-e.currentX;if(t<419)return;t>(parseFloat(Ii(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=Fi(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((()=>{const e=Fi(this._domNode);if(e<419)return;let t=419;if(!this._resized||419===e){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=Fi(this._findInput.domNode)),this._findInput.inputBox.layout()})))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}Uz.ID="editor.contrib.findWidget";class Kz extends ny{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Es.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,(e=>{this._opts.onTrigger(),e.preventDefault()})),this.onkeydown(this._domNode,(e=>{if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(e)}))}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Es.asClassNameArray(bz)),this._domNode.classList.add(...Es.asClassNameArray(vz))):(this._domNode.classList.remove(...Es.asClassNameArray(vz)),this._domNode.classList.add(...Es.asClassNameArray(bz)))}}As(((e,t)=>{const i=(e,i)=>{i&&t.addRule(`.monaco-editor ${e} { background-color: ${i}; }`)};i(".findMatch",e.getColor(wp)),i(".currentFindMatch",e.getColor(vp)),i(".findScope",e.getColor(Cp));i(".find-widget",e.getColor(tp));const n=e.getColor(mm);n&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${n}; }`);const o=e.getColor(Sp);o&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===e.type?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const s=e.getColor(yp);s&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${s}; padding: 1px; box-sizing: border-box; }`);const r=e.getColor(kp);r&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; }`);const a=e.getColor(dm);a&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${a}; }`);const l=e.getColor(ip);l&&t.addRule(`.monaco-editor .find-widget { color: ${l}; }`);const d=e.getColor(rm);d&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${d}; }`);const c=e.getColor(op);if(c)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${c}; }`);else{const i=e.getColor(np);i&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${i}; }`)}const h=e.getColor(Nf);h&&t.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${h} !important;\n\t\t}\n\t`);const u=e.getColor(lm);u&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${u}; }`)}));var jz=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},$z=function(e,t){return function(i,n){t(i,n,e)}},qz=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Gz(e,t="single",i=!1){if(!e.hasModel())return null;const n=e.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const t=e.getConfiguredWordAtPosition(n.getStartPosition());if(t&&!1===i)return t.word}else if(e.getModel().getValueLengthInRange(n)<524288)return e.getModel().getValueInRange(n);return null}let Zz=class e extends v{constructor(e,t,i,n){super(),this._editor=e,this._findWidgetVisible=pH.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._updateHistoryDelayer=new mt(500),this._state=this._register(new JH),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._model=null,this._register(this._editor.onDidChangeModel((()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})})))}get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!fH.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=io(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e){return qz(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;let t={isRevealed:!0};if("single"===e.seedSearchStringFromSelection){let i=Gz(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);i&&(this._state.isRegex?t.searchString=io(i):t.searchString=i)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let i=Gz(this._editor,e.seedSearchStringFromSelection);i&&(t.searchString=i)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){let e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(t.searchString=e)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some((e=>!e.isEmpty()))&&(t.searchScope=e)}t.loop=e.loop,this._state.change(t,!1),this._model||(this._model=new WH(this._editor,this._state))}))}start(e){return this._start(e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return qz(this,void 0,void 0,(function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Zz.ID="editor.contrib.findController",Zz=jz([$z(1,_s),$z(2,nN),$z(3,pL)],Zz);let Jz=class extends Zz{constructor(e,t,i,n,o,s,r,a){super(e,i,r,a),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=s,this._widget=null,this._findOptionsWidget=null}_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return qz(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const i=this._editor.getSelection();let n=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":n=!0;break;case"never":n=!1;break;case"multiline":n=!!i&&i.startLineNumber!==i.endLineNumber}e.updateSearchScope=n,yield t._start.call(this,e),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Uz(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new GH(this._editor,this._state,this._keybindingService,this._themeService))}};Jz=jz([$z(1,hL),$z(2,_s),$z(3,_E),$z(4,Ls),$z(5,$k),$z(6,nN),$z(7,pL)],Jz);lr(new or({id:SH,label:t("vs/editor/contrib/find/findController","startFindAction","Find"),alias:"Find",precondition:Jo.or(av.focus,Jo.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Fs.MenubarEditMenu,group:"3_find",title:t("vs/editor/contrib/find/findController",{key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,((e,t,i)=>{const n=Zz.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})}));class Qz extends nr{run(e,t){return qz(this,void 0,void 0,(function*(){let e=Zz.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(e))}))}}class Yz extends nr{run(e,t){return qz(this,void 0,void 0,(function*(){let e=Zz.get(t);if(!e)return;const i="selection"===t.getOption(35).seedSearchStringFromSelection;let n=null;"never"!==t.getOption(35).seedSearchStringFromSelection&&(n=Gz(t,"single",i)),n&&e.setSearchString(n),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:i,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(e))}))}}lr(new or({id:NH,label:t("vs/editor/contrib/find/findController","startReplace","Replace"),alias:"Replace",precondition:Jo.or(av.focus,Jo.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Fs.MenubarEditMenu,group:"3_find",title:t("vs/editor/contrib/find/findController",{key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,((e,t,i)=>{if(!t.hasModel()||t.getOption(80))return!1;const n=Zz.get(t);if(!n)return!1;const o=t.getSelection(),s=n.isFindInputFocused(),r=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(35).seedSearchStringFromSelection&&!s,a=s||r?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:r?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(35).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})})),cr(Zz.ID,Jz),ar(class extends nr{constructor(){super({id:kH,label:t("vs/editor/contrib/find/findController","startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return qz(this,void 0,void 0,(function*(){let e=Zz.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}),ar(class extends Qz{constructor(){super({id:xH,label:t("vs/editor/contrib/find/findController","findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:av.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Jo.and(av.focus,fH),primary:3,weight:100}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),ar(class extends Qz{constructor(){super({id:LH,label:t("vs/editor/contrib/find/findController","findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:av.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Jo.and(av.focus,fH),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}),ar(class extends Yz{constructor(){super({id:DH,label:t("vs/editor/contrib/find/findController","nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}),ar(class extends Yz{constructor(){super({id:EH,label:t("vs/editor/contrib/find/findController","previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}});const Xz=ir.bindToContribution(Zz.get);rr(new Xz({id:IH,precondition:pH,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:Jo.and(av.focus,Jo.not("isComposing")),primary:9,secondary:[1033]}})),rr(new Xz({id:TH,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:av.focus,primary:bH.primary,mac:bH.mac,win:bH.win,linux:bH.linux}})),rr(new Xz({id:MH,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:av.focus,primary:vH.primary,mac:vH.mac,win:vH.win,linux:vH.linux}})),rr(new Xz({id:AH,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:av.focus,primary:wH.primary,mac:wH.mac,win:wH.win,linux:wH.linux}})),rr(new Xz({id:RH,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:av.focus,primary:CH.primary,mac:CH.mac,win:CH.win,linux:CH.linux}})),rr(new Xz({id:OH,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:av.focus,primary:yH.primary,mac:yH.mac,win:yH.win,linux:yH.linux}})),rr(new Xz({id:PH,precondition:pH,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:av.focus,primary:3094}})),rr(new Xz({id:PH,precondition:pH,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:Jo.and(av.focus,_H),primary:3}})),rr(new Xz({id:FH,precondition:pH,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:av.focus,primary:2563}})),rr(new Xz({id:FH,precondition:pH,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:Jo.and(av.focus,_H),primary:void 0,mac:{primary:2051}}})),rr(new Xz({id:BH,precondition:pH,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:av.focus,primary:515}}));class eU{constructor(e,t,i){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,i)=>{let n=e[e.length-1];return this.getStartLineNumber(n)<=t&&this.getEndLineNumber(n)>=i};for(let i=0,n=this._startIndexes.length;i<n;i++){let n=this._startIndexes[i],o=this._endIndexes[i];if(n>16777215||o>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;e.length>0&&!t(n,o);)e.pop();let s=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=n+((255&s)<<24),this._endIndexes[i]=o+((65280&s)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return 16777215&this._startIndexes[e]}getEndLineNumber(e){return 16777215&this._endIndexes[e]}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,i=e%32;return 0!=(this._collapseStates[t]&1<<i)}setCollapsed(e,t){let i=e/32|0,n=e%32,o=this._collapseStates[i];this._collapseStates[i]=t?o|1<<n:o&~(1<<n)}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new tU(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return-1;for(;t<i;){let n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class tU{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class iU{constructor(e,t){this._updateEventEmitter=new X,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new eU(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort(((e,t)=>e.regionIndex-t.regionIndex));const t={};this._decorationProvider.changeDecorations((i=>{let n=0,o=-1,s=-1;const r=e=>{for(;n<e;){const e=this._regions.getEndLineNumber(n),t=this._regions.isCollapsed(n);e<=o&&i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(t,e<=s)),t&&e>s&&(s=e),n++}};for(let a of e){let e=a.regionIndex,i=this._editorDecorationIds[e];if(i&&!t[i]){t[i]=!0,r(e);let n=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,n),o=Math.max(o,this._regions.getEndLineNumber(e))}}r(this._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let i=[],n=-1,o=(o,s)=>{const r=e.getStartLineNumber(o),a=e.getEndLineNumber(o);s||(s=e.isCollapsed(o)),s&&((e,i)=>{for(let n of t)if(e<n&&n<=i)return!0;return!1})(r,a)&&(s=!1),e.setCollapsed(o,s);const l=this._textModel.getLineMaxColumn(r),d={startLineNumber:r,startColumn:Math.max(l-1,1),endLineNumber:r,endColumn:l};i.push({range:d,options:this._decorationProvider.getDecorationOption(s,a<=n)}),s&&a>n&&(n=a)},s=0,r=()=>{for(;s<this._regions.length;){let e=this._regions.isCollapsed(s);if(s++,e)return s-1}return-1},a=0,l=r();for(;-1!==l&&a<e.length;){let t=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(t){let i=t.startLineNumber;if(t.startColumn===Math.max(t.endColumn-1,1)&&this._textModel.getLineMaxColumn(i)===t.endColumn)for(;a<e.length;){let t=e.getStartLineNumber(a);if(!(i>=t))break;o(a,i===t),a++}}l=r()}for(;a<e.length;)o(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){let n=i.startLineNumber,o=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:n,endLineNumber:o})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let i of e){let e=this.getRegionAtLine(i.startLineNumber);e&&!e.isCollapsed&&t.push(e)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let n=this._regions.findRange(e),o=1;for(;n>=0;){let e=this._regions.toRegion(n);t&&!t(e,o)||i.push(e),o++,n=e.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let s=n,r=this._regions.length;s<r;s++){let n=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;for(;e.length>0&&!n.containedBy(e[e.length-1]);)e.pop();e.push(n),t(n,e.length)&&i.push(n)}}else for(let s=n,r=this._regions.length;s<r;s++){let e=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;t&&!t(e)||i.push(e)}return i}}function nU(e,t,i=Number.MAX_VALUE,n){let o=[];if(n&&n.length>0)for(let s of n){let n=e.getRegionAtLine(s);if(n&&(n.isCollapsed!==t&&o.push(n),i>1)){let s=e.getRegionsInside(n,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...s)}}else{let n=e.getRegionsInside(null,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...n)}e.toggleCollapseState(o)}function oU(e,t,i,n){let o=[];for(let s of n){let n=e.getAllRegionsAtLine(s,((e,n)=>e.isCollapsed!==t&&n<=i));o.push(...n)}e.toggleCollapseState(o)}function sU(e,t,i){let n=[];for(let s of i)n.push(e.getAllRegionsAtLine(s,void 0)[0]);let o=e.getRegionsInside(null,(e=>n.every((t=>!t.containedBy(e)&&!e.containedBy(t)))&&e.isCollapsed!==t));e.toggleCollapseState(o)}function rU(e,t,i){let n=e.textModel,o=e.regions,s=[];for(let r=o.length-1;r>=0;r--)if(i!==o.isCollapsed(r)){let e=o.getStartLineNumber(r);t.test(n.getLineContent(e))&&s.push(o.toRegion(r))}e.toggleCollapseState(s)}function aU(e,t,i){let n=e.regions,o=[];for(let s=n.length-1;s>=0;s--)i!==n.isCollapsed(s)&&t===n.getType(s)&&o.push(n.toRegion(s));e.toggleCollapseState(o)}class lU{constructor(e){this._updateEventEmitter=new X,this._foldingModel=e,this._foldingModelListener=e.onDidChange((e=>this.updateHiddenRanges())),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let e=!1,t=[],i=0,n=0,o=Number.MAX_VALUE,s=-1,r=this._foldingModel.regions;for(;i<r.length;i++){if(!r.isCollapsed(i))continue;let a=r.getStartLineNumber(i)+1,l=r.getEndLineNumber(i);o<=a&&l<=s||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===l?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new br(a,1,l,1))),o=a,s=l)}(e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(let i of e){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new br(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map((e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber})))}applyHiddenRanges(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==dU(this._hiddenRanges,e)}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,n=null,o=e=>(n&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,n)||(n=dU(this._hiddenRanges,e)),n?n.startLineNumber-1:null);for(let s=0,r=e.length;s<r;s++){let n=e[s],r=o(n.startLineNumber);r&&(n=n.setStartPosition(r,i.getLineMaxColumn(r)),t=!0);let a=o(n.endLineNumber);a&&(n=n.setEndPosition(a,i.getLineMaxColumn(a)),t=!0),e[s]=n}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function dU(e,t){let i=md(e,(e=>t<e.startLineNumber))-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}class cU{constructor(e){this.editorModel=e,this.id="indent"}dispose(){}compute(e){let t=Uu.getFoldingRules(this.editorModel.getLanguageId()),i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(function(e,t,i,n=5e3){const o=e.getOptions().tabSize;let s,r=new hU(n);i&&(s=new RegExp(`(${i.start.source})|(?:${i.end.source})`));let a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let d=e.getLineCount();d>0;d--){let i,n=e.getLineContent(d),l=db.computeIndentLevel(n,o),c=a[a.length-1];if(-1!==l){if(s&&(i=n.match(s))){if(!i[1]){a.push({indent:-2,endAbove:d,line:d});continue}{let e=a.length-1;for(;e>0&&-2!==a[e].indent;)e--;if(e>0){a.length=e+1,c=a[e],r.insertFirst(d,c.line,l),c.line=d,c.indent=l,c.endAbove=d;continue}}}if(c.indent>l){do{a.pop(),c=a[a.length-1]}while(c.indent>l);let e=c.endAbove-1;e-d>=1&&r.insertFirst(d,e,l)}c.indent===l?c.endAbove=d:a.push({indent:l,endAbove:d,line:d})}else t&&(c.endAbove=d)}return r.toIndentRanges(e)}(this.editorModel,i,n))}}class hU{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>16777215||t>16777215)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)e[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new eU(e,t)}{let t=0,i=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){let n=this._indentOccurrences[e];if(n){if(n+t>this._foldingRangesLimit){i=e;break}t+=n}}const n=e.getOptions().tabSize;let o=new Uint32Array(this._foldingRangesLimit),s=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,a=0;r>=0;r--){let l=this._startIndexes[r],d=e.getLineContent(l),c=db.computeIndentLevel(d,n);(c<i||c===i&&t++<this._foldingRangesLimit)&&(o[a]=l,s[a]=this._endIndexes[r],a++)}return new eU(o,s)}}}const uU={};class gU{constructor(e,t,i,n=5e3){this.editorModel=e,this.providers=t,this.limit=n,this.id="syntax";for(const o of t)"function"==typeof o.onDidChange&&(this.disposables||(this.disposables=new b),this.disposables.add(o.onDidChange(i)))}compute(e){return function(e,t,i){let n=null,s=e.map(((e,s)=>Promise.resolve(e.provideFoldingRanges(t,uU,i)).then((e=>{if(!i.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);let i=t.getLineCount();for(let t of e)t.start>0&&t.end>t.start&&t.end<=i&&n.push({start:t.start,end:t.end,rank:s,kind:t.kind})}}),o)));return Promise.all(s).then((e=>n))}(this.providers,this.editorModel,e).then((e=>{if(e){return pU(e,this.limit)}return null}))}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}class mU{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>16777215||t>16777215)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new eU(e,t,this._types)}{let e=0,t=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){let i=this._nestingLevelCounts[s];if(i){if(i+e>this._foldingRangesLimit){t=s;break}e+=i}}let i=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),o=[];for(let s=0,r=0;s<this._length;s++){let a=this._nestingLevels[s];(a<t||a===t&&e++<this._foldingRangesLimit)&&(i[r]=this._startIndexes[s],n[r]=this._endIndexes[s],o[r]=this._types[s],r++)}return new eU(i,n,o)}}}function pU(e,t){let i,n=e.sort(((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i})),o=new mU(t),s=[];for(let r of n)if(i){if(r.start>i.start)if(r.end<=i.end)s.push(i),i=r,o.add(r.start,r.end,r.kind&&r.kind.value,s.length);else{if(r.start>i.end){do{i=s.pop()}while(i&&r.start>i.end);i&&s.push(i),i=r}o.add(r.start,r.end,r.kind&&r.kind.value,s.length)}}else i=r,o.add(r.start,r.end,r.kind&&r.kind.value,s.length);return o.toIndentRanges()}class fU{constructor(e,t,i,n){if(this.editorModel=e,this.id="init",t.length){let o=t=>({range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(i,n)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let i of this.decorationIds){let e=this.editorModel.getDecorationRange(i);e&&t.push({start:e.startLineNumber,end:e.endLineNumber,rank:1})}return Promise.resolve(pU(t,Number.MAX_VALUE))}}const _U=Qx("folding-expanded",qn.chevronDown,t("vs/editor/contrib/folding/foldingDecorations","foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),bU=Qx("folding-collapsed",qn.chevronRight,t("vs/editor/contrib/folding/foldingDecorations","foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class vU{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?vU.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?vU.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:vU.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?vU.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:vU.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}vU.COLLAPSED_VISUAL_DECORATION=vb.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Es.asClassName(bU)}),vU.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=vb.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Es.asClassName(bU)}),vU.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=vb.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Es.asClassName(_U)}),vU.EXPANDED_VISUAL_DECORATION=vb.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Es.asClassName(_U)}),vU.HIDDEN_RANGE_DECORATION=vb.register({description:"folding-hidden-range-decoration",stickiness:1});const wU=new fs("foldingEnabled",!1);let CU=class e extends v{constructor(e,t){super(),this.contextKeyService=t,this.localToDispose=this._register(new b),this.editor=e;const i=this.editor.getOptions();this._isEnabled=i.get(37),this._useFoldingProviders="indentation"!==i.get(38),this._unfoldOnClickAfterEndOfLine=i.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=i.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new vU(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===i.get(98),this.foldingDecorationProvider.showFoldingHighlights=i.get(39),this.foldingEnabled=wU.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel((()=>this.onModelChanged()))),this._register(this.editor.onDidChangeConfiguration((e=>{if(e.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(98)||e.hasChanged(39)){const e=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===e.get(98),this.foldingDecorationProvider.showFoldingHighlights=e.get(39),this.onModelContentChanged()}e.hasChanged(38)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(38),this.onFoldingStrategyChanged()),e.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),e.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))}))),this.onModelChanged()}static get(t){return t.getContribution(e.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!e||e.lineCount!==t.getLineCount())return;if(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions)return;"syntax"!==e.provider&&"init"!==e.provider||(this.foldingStateMemento=e);const i=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){const e=this.getFoldingModel();e&&e.then((e=>{if(e){this._restoringViewState=!0;try{e.applyMemento(i)}finally{this._restoringViewState=!1}}})).then(void 0,n)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new iU(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new lU(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((e=>this.onHiddenRangesChanges(e)))),this.updateScheduler=new mt(200),this.cursorChangedScheduler=new Ct((()=>this.revealCursor()),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(sh.onDidChange((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelContent((()=>this.onModelContentChanged()))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((()=>this.onCursorPositionChanged()))),this.localToDispose.add(this.editor.onMouseDown((e=>this.onEditorMouseDown(e)))),this.localToDispose.add(this.editor.onMouseUp((e=>this.onEditorMouseUp(e)))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new cU(e),this._useFoldingProviders&&this.foldingModel){let t=sh.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){return this.rangeProvider=new fU(e,this.foldingStateMemento.collapsedRegions,(()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()}),3e4)}t.length>0&&(this.rangeProvider=new gU(e,t,(()=>this.onModelContentChanged())))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((()=>{const e=this.foldingModel;if(!e)return null;const t=this.getRangeProvider(e.textModel);let i=this.foldingRegionPromise=ht((e=>t.compute(e)));return i.then((t=>{if(t&&i===this.foldingRegionPromise){let i;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const e=t.setCollapsedAllOfType(Pc.Imports.value,!0);e&&(i=zx.capture(this.editor),this._currentModelHasFoldedImports=e)}let n=this.editor.getSelections(),o=n?n.map((e=>e.startLineNumber)):[];e.update(t,o),i&&i.restore(this.editor)}return e}))})).then(void 0,(e=>(n(e),null))))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then((e=>{if(e){let t=this.editor.getSelections();if(t&&t.length>0){let i=[];for(let n of t){let t=n.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&i.push(...e.getAllRegionsAtLine(t,(e=>e.isCollapsed&&t>e.startLineNumber)))}i.length&&(e.toggleCollapseState(i),this.reveal(t[0].getPosition()))}}})).then(void 0,n)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:const n=e.target.detail,o=e.target.element.offsetLeft;if(n.offsetX-o<5)return;i=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!e.target.detail.isAfterLines)break}return;case 6:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,s=e.target.range;if(s&&s.startLineNumber===i){if(o){if(4!==e.target.type)return}else{let e=this.editor.getModel();if(!e||s.startColumn!==e.getLineMaxColumn(i))return}t.then((t=>{if(t){let n=t.getRegionAtLine(i);if(n&&n.startLineNumber===i){let s=n.isCollapsed;if(o||s){let o=[];if(e.event.altKey){let e=e=>!e.containedBy(n)&&!n.containedBy(e),i=t.getRegionsInside(null,e);for(const t of i)t.isCollapsed&&o.push(t);0===o.length&&(o=i)}else{let i=e.event.middleButton||e.event.shiftKey;if(i)for(const e of t.getRegionsInside(n))e.isCollapsed===s&&o.push(e);!s&&i&&0!==o.length||o.push(n)}t.toggleCollapseState(o),this.reveal({lineNumber:i,column:1})}}}})).then(void 0,n)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};CU.ID="editor.contrib.folding",CU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,_s)],CU);class yU extends nr{runEditorCommand(e,t,i){let n=CU.get(t);if(!n)return;let o=n.getFoldingModel();return o?(this.reportTelemetry(e,t),o.then((e=>{if(e){this.invoke(n,e,t,i);const o=t.getSelection();o&&n.reveal(o.getStartPosition())}}))):void 0}getSelectedLines(e){let t=e.getSelections();return t?t.map((e=>e.startLineNumber)):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map((e=>e+1)):this.getSelectedLines(t)}run(e,t){}}function SU(e){if(!Ce(e)){if(!be(e))return!1;const t=e;if(!Ce(t.levels)&&!ve(t.levels))return!1;if(!Ce(t.direction)&&!_e(t.direction))return!1;if(!(Ce(t.selectionLines)||fe(t.selectionLines)&&t.selectionLines.every(ve)))return!1}return!0}class kU extends yU{getFoldingLevel(){return parseInt(this.id.substr(kU.ID_PREFIX.length))}invoke(e,t,i){!function(e,t,i,n){let o=e.getRegionsInside(null,((e,o)=>o===t&&e.isCollapsed!==i&&!n.some((t=>e.containsLine(t)))));e.toggleCollapseState(o)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}kU.ID_PREFIX="editor.foldLevel",kU.ID=e=>kU.ID_PREFIX+e;cr(CU.ID,CU),ar(class extends yU{constructor(){super({id:"editor.unfold",label:t("vs/editor/contrib/folding/folding","unfoldAction.label","Unfold"),alias:"Unfold",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:SU,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=n&&n.levels||1,s=this.getLineNumbers(n,i);n&&"up"===n.direction?oU(t,!1,o,s):nU(t,!1,o,s)}}),ar(class extends yU{constructor(){super({id:"editor.unfoldRecursively",label:t("vs/editor/contrib/folding/folding","unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2137),weight:100}})}invoke(e,t,i,n){nU(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}),ar(class extends yU{constructor(){super({id:"editor.fold",label:t("vs/editor/contrib/folding/folding","foldAction.label","Fold"),alias:"Fold",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:SU,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=this.getLineNumbers(n,i);const s=n&&n.levels,r=n&&n.direction;"number"!=typeof s&&"string"!=typeof r?function(e,t,i){let n=[];for(let o of i){let i=e.getAllRegionsAtLine(o,(e=>e.isCollapsed!==t));i.length>0&&n.push(i[0])}e.toggleCollapseState(n)}(t,!0,o):"up"===r?oU(t,!0,s||1,o):nU(t,!0,s||1,o)}}),ar(class extends yU{constructor(){super({id:"editor.foldRecursively",label:t("vs/editor/contrib/folding/folding","foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2135),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);nU(t,!0,Number.MAX_VALUE,n)}}),ar(class extends yU{constructor(){super({id:"editor.foldAll",label:t("vs/editor/contrib/folding/folding","foldAllAction.label","Fold All"),alias:"Fold All",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2069),weight:100}})}invoke(e,t,i){nU(t,!0)}}),ar(class extends yU{constructor(){super({id:"editor.unfoldAll",label:t("vs/editor/contrib/folding/folding","unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2088),weight:100}})}invoke(e,t,i){nU(t,!1)}}),ar(class extends yU{constructor(){super({id:"editor.foldAllBlockComments",label:t("vs/editor/contrib/folding/folding","foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2133),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())aU(t,Pc.Comment.value,!0);else{const e=i.getModel();if(!e)return;const n=Uu.getComments(e.getLanguageId());if(n&&n.blockCommentStartToken){rU(t,new RegExp("^\\s*"+io(n.blockCommentStartToken)),!0)}}}}),ar(class extends yU{constructor(){super({id:"editor.foldAllMarkerRegions",label:t("vs/editor/contrib/folding/folding","foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2077),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())aU(t,Pc.Region.value,!0);else{const e=i.getModel();if(!e)return;const n=Uu.getFoldingRules(e.getLanguageId());if(n&&n.markers&&n.markers.start){rU(t,new RegExp(n.markers.start),!0)}}}}),ar(class extends yU{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:t("vs/editor/contrib/folding/folding","unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2078),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())aU(t,Pc.Region.value,!1);else{const e=i.getModel();if(!e)return;const n=Uu.getFoldingRules(e.getLanguageId());if(n&&n.markers&&n.markers.start){rU(t,new RegExp(n.markers.start),!1)}}}}),ar(class extends yU{constructor(){super({id:"editor.foldAllExcept",label:t("vs/editor/contrib/folding/folding","foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2131),weight:100}})}invoke(e,t,i){sU(t,!0,this.getSelectedLines(i))}}),ar(class extends yU{constructor(){super({id:"editor.unfoldAllExcept",label:t("vs/editor/contrib/folding/folding","unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2129),weight:100}})}invoke(e,t,i){sU(t,!1,this.getSelectedLines(i))}}),ar(class extends yU{constructor(){super({id:"editor.toggleFold",label:t("vs/editor/contrib/folding/folding","toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2090),weight:100}})}invoke(e,t,i){!function(e,t,i){let n=[];for(let o of i){let i=e.getRegionAtLine(o);if(i){const o=!i.isCollapsed;if(n.push(i),t>1){let s=e.getRegionsInside(i,((e,i)=>e.isCollapsed!==o&&i<t));n.push(...s)}}}e.toggleCollapseState(n)}(t,1,this.getSelectedLines(i))}}),ar(class extends yU{constructor(){super({id:"editor.gotoParentFold",label:t("vs/editor/contrib/folding/folding","gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let e=function(e,t){let i=null,n=t.getRegionAtLine(e);if(null!==n&&(i=n.startLineNumber,e===i)){let e=n.parentIndex;i=-1!==e?t.regions.getStartLineNumber(e):null}return i}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),ar(class extends yU{constructor(){super({id:"editor.gotoPreviousFold",label:t("vs/editor/contrib/folding/folding","gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let e=function(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){if(e!==i.startLineNumber)return i.startLineNumber;{let e=i.parentIndex,n=0;for(-1!==e&&(n=t.regions.getStartLineNumber(i.parentIndex));null!==i;){if(!(i.regionIndex>0))return null;if(i=t.regions.toRegion(i.regionIndex-1),i.startLineNumber<=n)return null;if(i.parentIndex===e)return i.startLineNumber}}}else if(t.regions.length>0)for(i=t.regions.toRegion(t.regions.length-1);null!==i;){if(i.startLineNumber<e)return i.startLineNumber;i=i.regionIndex>0?t.regions.toRegion(i.regionIndex-1):null}return null}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),ar(class extends yU{constructor(){super({id:"editor.gotoNextFold",label:t("vs/editor/contrib/folding/folding","gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let e=function(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){let e=i.parentIndex,n=0;if(-1!==e)n=t.regions.getEndLineNumber(i.parentIndex);else{if(0===t.regions.length)return null;n=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==i;){if(!(i.regionIndex<t.regions.length))return null;if(i=t.regions.toRegion(i.regionIndex+1),i.startLineNumber>=n)return null;if(i.parentIndex===e)return i.startLineNumber}}else if(t.regions.length>0)for(i=t.regions.toRegion(0);null!==i;){if(i.startLineNumber>e)return i.startLineNumber;i=i.regionIndex<t.regions.length?t.regions.toRegion(i.regionIndex+1):null}return null}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}});for(let Z1=1;Z1<=7;Z1++)dr(new kU({id:kU.ID(Z1),label:t("vs/editor/contrib/folding/folding","foldLevelAction.label","Fold Level {0}",Z1),alias:`Fold Level ${Z1}`,precondition:wU,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2048|21+Z1),weight:100}}));const xU=om("editor.foldBackground",{light:Yf(mp,.3),dark:Yf(mp,.3),hc:null},t("vs/editor/contrib/folding/folding","foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),LU=om("editorGutter.foldingControlForeground",{dark:am,light:am,hc:am},t("vs/editor/contrib/folding/folding","editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));As(((e,t)=>{const i=e.getColor(xU);i&&t.addRule(`.monaco-editor .folded-background { background-color: ${i}; }`);const n=e.getColor(LU);n&&t.addRule(`\n\t\t.monaco-editor .cldr${Es.asCSSSelector(_U)},\n\t\t.monaco-editor .cldr${Es.asCSSSelector(bU)} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)}));ar(class extends nr{constructor(){super({id:"editor.action.fontZoomIn",label:t("vs/editor/contrib/fontZoom/fontZoom","EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Nv.setZoomLevel(Nv.getZoomLevel()+1)}}),ar(class extends nr{constructor(){super({id:"editor.action.fontZoomOut",label:t("vs/editor/contrib/fontZoom/fontZoom","EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Nv.setZoomLevel(Nv.getZoomLevel()-1)}}),ar(class extends nr{constructor(){super({id:"editor.action.fontZoomReset",label:t("vs/editor/contrib/fontZoom/fontZoom","EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Nv.setZoomLevel(0)}});class DU{static _handleEolEdits(e,t){let i,n=[];for(let o of t)"number"==typeof o.eol&&(i=o.eol),o.range&&"string"==typeof o.text&&n.push(o);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();const n=DU._handleEolEdits(e,t);1===n.length&&DU._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map((e=>bF.replace(br.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",n.map((e=>bF.replaceMove(br.lift(e.range),e.text)))),i&&e.pushUndoStop()}}class EU{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var NU=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function IU(e){if(!(e=e.filter((e=>e.range))).length)return;let{range:i}=e[0];for(let t=1;t<e.length;t++)i=br.plusRange(i,e[t].range);const{startLineNumber:n,endLineNumber:o}=i;n===o?1===e.length?kn(t("vs/editor/contrib/format/format","hint11","Made 1 formatting edit on line {0}",n)):kn(t("vs/editor/contrib/format/format","hintn1","Made {0} formatting edits on line {1}",e.length,n)):1===e.length?kn(t("vs/editor/contrib/format/format","hint1n","Made 1 formatting edit between lines {0} and {1}",n,o)):kn(t("vs/editor/contrib/format/format","hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,n,o))}function TU(e){const t=[],i=new Set,n=Xc.ordered(e);for(const s of n)t.push(s),s.extensionId&&i.add(EU.toKey(s.extensionId));const o=eh.ordered(e);for(const s of o){if(s.extensionId){if(i.has(EU.toKey(s.extensionId)))continue;i.add(EU.toKey(s.extensionId))}t.push({displayName:s.displayName,extensionId:s.extensionId,provideDocumentFormattingEdits:(e,t,i)=>s.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,i)})}return t}class MU{static setFormatterSelector(e){return{dispose:MU._selectors.unshift(e)}}static select(e,t,i){return NU(this,void 0,void 0,(function*(){if(0===e.length)return;const n=h.first(MU._selectors);return n?yield n(e,t,i):void 0}))}}function AU(e,t,i,n,o,s){return NU(this,void 0,void 0,(function*(){const r=e.get(Nn),a=NI(t)?t.getModel():t,l=eh.ordered(a),d=yield MU.select(l,a,n);d&&(o.report(d),yield r.invokeFunction(RU,d,t,i,s))}))}function RU(e,t,i,n,o){return NU(this,void 0,void 0,(function*(){const s=e.get(cL);let r,a;NI(i)?(r=i.getModel(),a=new Vx(i,5,void 0,o)):(r=i,a=new Hx(i,o));let l=[],d=0;for(let e of Dd(n).sort(br.compareRangesUsingStarts))d>0&&br.areIntersectingOrTouching(l[d-1],e)?l[d-1]=br.fromPositions(l[d-1].getStartPosition(),e.getEndPosition()):d=l.push(e);const c=e=>NU(this,void 0,void 0,(function*(){return(yield t.provideDocumentRangeFormattingEdits(r,e,r.getFormattingOptions(),a.token))||[]})),h=(e,t)=>{if(!e.length||!t.length)return!1;const i=e.reduce(((e,t)=>br.plusRange(e,t.range)),e[0].range);if(!t.some((e=>br.intersectRanges(i,e.range))))return!1;for(let n of e)for(let e of t)if(br.intersectRanges(n.range,e.range))return!0;return!1},u=[],g=[];try{for(let e of l){if(a.token.isCancellationRequested)return!0;g.push(yield c(e))}for(let e=0;e<l.length;++e)for(let t=e+1;t<l.length;++t){if(a.token.isCancellationRequested)return!0;if(h(g[e],g[t])){const i=br.plusRange(l[e],l[t]),n=yield c(i);l.splice(t,1),l.splice(e,1),l.push(i),g.splice(t,1),g.splice(e,1),g.push(n),e=0,t=0}}for(let e of g){if(a.token.isCancellationRequested)return!0;const t=yield s.computeMoreMinimalEdits(r.uri,e);t&&u.push(...t)}}finally{a.dispose()}if(0===u.length)return!1;if(NI(i))DU.execute(i,u,!0),IU(u),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1);else{const[{range:e}]=u,t=new vr(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);r.pushEditOperations([t],u.map((e=>({text:e.text,range:br.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(br.areIntersectingOrTouching(i,t))return[new vr(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function OU(e,t,i,n,o){return NU(this,void 0,void 0,(function*(){const s=e.get(Nn),r=NI(t)?t.getModel():t,a=TU(r),l=yield MU.select(a,r,i);l&&(n.report(l),yield s.invokeFunction(PU,l,t,i,o))}))}function PU(e,t,i,n,o){return NU(this,void 0,void 0,(function*(){const s=e.get(cL);let r,a,l;NI(i)?(r=i.getModel(),a=new Vx(i,5,void 0,o)):(r=i,a=new Hx(i,o));try{const e=yield t.provideDocumentFormattingEdits(r,r.getFormattingOptions(),a.token);if(l=yield s.computeMoreMinimalEdits(r.uri,e),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||0===l.length)return!1;if(NI(i))DU.execute(i,l,2!==n),2!==n&&(IU(l),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1));else{const[{range:e}]=l,t=new vr(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);r.pushEditOperations([t],l.map((e=>({text:e.text,range:br.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(br.areIntersectingOrTouching(i,t))return[new vr(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function FU(e,t,i,n,s){const r=th.ordered(t);return 0===r.length||r[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(r[0].provideOnTypeFormattingEdits(t,i,n,s,rt.None)).catch(o).then((i=>e.computeMoreMinimalEdits(t.uri,i)))}MU._selectors=new S,Qn.registerCommand("_executeFormatRangeProvider",(function(e,...t){return NU(this,void 0,void 0,(function*(){const[i,n,s]=t;ke(Yt.isUri(i)),ke(br.isIRange(n));const r=e.get(Fn),a=e.get(cL),l=yield r.createModelReference(i);try{return function(e,t,i,n,s){return NU(this,void 0,void 0,(function*(){const r=eh.ordered(t);for(const a of r){let r=yield Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,n,s)).catch(o);if(vd(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}(a,l.object.textEditorModel,br.lift(n),s,rt.None)}finally{l.dispose()}}))})),Qn.registerCommand("_executeFormatDocumentProvider",(function(e,...t){return NU(this,void 0,void 0,(function*(){const[i,n]=t;ke(Yt.isUri(i));const s=e.get(Fn),r=e.get(cL),a=yield s.createModelReference(i);try{return function(e,t,i,n){return NU(this,void 0,void 0,(function*(){const s=TU(t);for(const r of s){let s=yield Promise.resolve(r.provideDocumentFormattingEdits(t,i,n)).catch(o);if(vd(s))return yield e.computeMoreMinimalEdits(t.uri,s)}}))}(r,a.object.textEditorModel,n,rt.None)}finally{a.dispose()}}))})),Qn.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){return NU(this,void 0,void 0,(function*(){const[i,n,o,s]=t;ke(Yt.isUri(i)),ke(Rn.isIPosition(n)),ke("string"==typeof o);const r=e.get(Fn),a=e.get(cL),l=yield r.createModelReference(i);try{return FU(a,l.object.textEditorModel,Rn.lift(n),o,s)}finally{l.dispose()}}))}));var BU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},WU=function(e,t){return function(i,n){t(i,n,e)}},VU=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let HU=class{constructor(e,t){this._workerService=t,this._callOnDispose=new b,this._callOnModel=new b,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(th.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=th.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new ql;for(let n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._callOnModel.add(this._editor.onDidType((e=>{let t=e.charCodeAt(e.length-1);i.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition();let n=!1;const o=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return n=!0,void o.dispose();for(let t=0,s=e.changes.length;t<s;t++){if(e.changes[t].range.endLineNumber<=i.lineNumber)return n=!0,void o.dispose()}}));FU(this._workerService,t,i,e,t.getFormattingOptions()).then((e=>{o.dispose(),n||vd(e)&&(DU.execute(this._editor,e,!0),IU(e))}),(e=>{throw o.dispose(),e}))}};HU.ID="editor.contrib.autoFormat",HU=BU([WU(1,cL)],HU);let zU=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new b,this._callOnModel=new b,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(eh.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(47)&&this.editor.hasModel()&&eh.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(AU,this.editor,e,2,fL.None,rt.None).catch(n))}};zU.ID="editor.contrib.formatOnPaste",zU=BU([WU(1,Nn)],zU);cr(HU.ID,HU),cr(zU.ID,zU),ar(class extends nr{constructor(){super({id:"editor.action.formatDocument",label:t("vs/editor/contrib/format/formatActions","formatDocument.label","Format Document"),alias:"Format Document",precondition:Jo.and(av.notInCompositeEditor,av.writable,av.hasDocumentFormattingProvider),kbOpts:{kbExpr:av.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return VU(this,void 0,void 0,(function*(){if(t.hasModel()){const i=e.get(Nn),n=e.get(_L);yield n.showWhile(i.invokeFunction(OU,t,1,fL.None,rt.None),250)}}))}}),ar(class extends nr{constructor(){super({id:"editor.action.formatSelection",label:t("vs/editor/contrib/format/formatActions","formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Jo.and(av.writable,av.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2084),weight:100},contextMenuOpts:{when:av.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return VU(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(Nn),n=t.getModel(),o=t.getSelections().map((e=>e.isEmpty()?new br(e.startLineNumber,1,e.startLineNumber,n.getLineMaxColumn(e.startLineNumber)):e)),s=e.get(_L);yield s.showWhile(i.invokeFunction(AU,t,o,1,fL.None,rt.None),250)}))}}),Qn.registerCommand("editor.action.format",(e=>VU(void 0,void 0,void 0,(function*(){const t=e.get(An).getFocusedCodeEditor();if(!t||!t.hasModel())return;const i=e.get(Jn);t.getSelection().isEmpty()?yield i.executeCommand("editor.action.formatDocument"):yield i.executeCommand("editor.action.formatSelection")}))));class UU{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let i;"string"==typeof e?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,void 0!==t.children.get(i)&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;void 0!==t.children.get(n);o++)n=`${i}_${o}`;return n}static empty(e){return 0===e.children.size}}class KU extends UU{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class jU extends UU{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class $U extends UU{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){let i=this._keys.for(e,!0),n=$U._requests.get(i);if(!n){let t=new dt;n={promiseCnt:0,source:t,promise:$U._create(e,t.token),model:void 0},$U._requests.set(i,n);const o=Date.now();n.promise.then((()=>{this._requestDurations.update(e,Date.now()-o)}))}return n.model?Promise.resolve(n.model):(n.promiseCnt+=1,t.onCancellationRequested((()=>{0==--n.promiseCnt&&(n.source.cancel(),$U._requests.delete(i))})),new Promise(((e,t)=>{n.promise.then((t=>{n.model=t,e(t)}),(e=>{$U._requests.delete(i),t(e)}))})))}static _create(e,t){const i=new dt(t),n=new $U(e.uri),s=Uc.ordered(e),r=s.map(((t,s)=>{var r;let a=UU.findId(`provider_${s}`,n),l=new jU(a,n,null!==(r=t.displayName)&&void 0!==r?r:"Unknown Outline Provider",s);return Promise.resolve(t.provideDocumentSymbols(e,i.token)).then((e=>{for(const t of e||[])$U._makeOutlineElement(t,l);return l}),(e=>(o(e),l))).then((e=>{UU.empty(e)?e.remove():n._groups.set(a,e)}))})),a=Uc.onDidChange((()=>{ud(Uc.ordered(e),s)||i.cancel()}));return Promise.all(r).then((()=>i.token.isCancellationRequested&&!t.isCancellationRequested?$U._create(e,t):n._compact())).finally((()=>{a.dispose()}))}static _makeOutlineElement(e,t){let i=UU.findId(e,t),n=new KU(i,t,e);if(e.children)for(const o of e.children)$U._makeOutlineElement(o,n);t.children.set(n.id,n)}_compact(){let e=0;for(const[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{let e=h.first(this._groups.values());for(let[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof KU?e.push(t.symbol):e.push(...h.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>br.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return $U._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>br.compareRangesUsingStarts(e.range,t.range)))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&$U._flattenDocumentSymbols(e,n.children,n.name)}}$U._requestDurations=new Sc(Uc,350),$U._requests=new Jd(9,.75),$U._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(e,t){return`${e.id}/${t?e.getVersionId():""}/${this._hash(Uc.all(e))}`}_hash(e){let t="";for(const i of e){let e=this._data.get(i);void 0===e&&(e=this._counter++,this._data.set(i,e)),t+=e}return t}};var qU=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function GU(e,t,i){return qU(this,void 0,void 0,(function*(){const n=yield $U.create(e,i);return t?n.asListOfDocumentSymbols():n.getTopLevelSymbols()}))}function ZU(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function JU(e,t,i){e=e<0?0:e;let n="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let o=0;o<e;o++)n+=" ";return n}function QU(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];const o=Uu.getIndentationRules(e.getLanguageId());if(!o)return[];for(i=Math.min(i,e.getLineCount());t<=i&&o.unIndentedLinePattern;){let i=e.getLineContent(t);if(!o.unIndentedLinePattern.test(i))break;t++}if(t>i-1)return[];const{tabSize:s,indentSize:r,insertSpaces:a}=e.getOptions(),l=(e,t)=>(t=t||1,Xb.shiftIndent(e,e.length+t,s,r,a)),d=(e,t)=>(t=t||1,Xb.unshiftIndent(e,e.length+t,s,r,a));let c,h=[],u=e.getLineContent(t),g=u;if(null!=n){c=n;let e=ho(u);g=c+u.substring(e.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(g)&&(c=d(c),g=c+u.substring(e.length)),u!==g&&h.push(bF.replaceMove(new vr(t,1,t,e.length+1),db.normalizeIndentation(c,r,a)))}else c=ho(u);let m=c;o.increaseIndentPattern&&o.increaseIndentPattern.test(g)?(m=l(m),c=l(c)):o.indentNextLinePattern&&o.indentNextLinePattern.test(g)&&(m=l(m));for(let p=++t;p<=i;p++){let t=e.getLineContent(p),i=ho(t),n=m+t.substring(i.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(n)&&(m=d(m),c=d(c)),i!==m&&h.push(bF.replaceMove(new vr(p,1,p,i.length+1),db.normalizeIndentation(m,r,a))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(t)||(o.increaseIndentPattern&&o.increaseIndentPattern.test(n)?(c=l(c),m=c):m=o.indentNextLinePattern&&o.indentNextLinePattern.test(n)?l(m):c)}return h}Qn.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return qU(this,void 0,void 0,(function*(){const[i]=t;ke(Yt.isUri(i));const n=e.get(On).getModel(i);if(n)return GU(n,!1,rt.None);const o=yield e.get(Fn).createModelReference(i);try{return yield GU(o.object.textEditorModel,!1,rt.None)}finally{o.dispose()}}))}));class YU extends nr{constructor(){super({id:YU.ID,label:t("vs/editor/contrib/indentation/indentation","indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:av.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new aK(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}YU.ID="editor.action.indentationToSpaces";class XU extends nr{constructor(){super({id:XU.ID,label:t("vs/editor/contrib/indentation/indentation","indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:av.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new lK(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}XU.ID="editor.action.indentationToTabs";class eK extends nr{constructor(e,t){super(t),this.insertSpaces=e}run(e,i){const n=e.get(SN),o=e.get(On);let s=i.getModel();if(!s)return;const r=o.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget),a=[1,2,3,4,5,6,7,8].map((e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize?t("vs/editor/contrib/indentation/indentation","configuredTabSize","Configured Tab Size"):void 0}))),l=Math.min(s.getOptions().tabSize-1,7);setTimeout((()=>{n.pick(a,{placeHolder:t("vs/editor/contrib/indentation/indentation",{key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then((e=>{e&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})}))}),50)}}class tK extends eK{constructor(){super(!1,{id:tK.ID,label:t("vs/editor/contrib/indentation/indentation","indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}tK.ID="editor.action.indentUsingTabs";class iK extends eK{constructor(){super(!0,{id:iK.ID,label:t("vs/editor/contrib/indentation/indentation","indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}iK.ID="editor.action.indentUsingSpaces";class nK extends nr{constructor(){super({id:nK.ID,label:t("vs/editor/contrib/indentation/indentation","detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(On);let n=t.getModel();if(!n)return;const o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}nK.ID="editor.action.detectIndentation";class oK{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&"string"==typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(br.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class sK{constructor(e){this.callOnDispose=new b,this.callOnModel=new b,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModelLanguage((()=>this.update())))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(47)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(9),{tabSize:o,indentSize:s,insertSpaces:r}=i.getOptions();let a=[],l={shiftIndent:e=>Xb.shiftIndent(e,e.length+1,o,s,r),unshiftIndent:e=>Xb.unshiftIndent(e,e.length+1,o,s,r)},d=e.startLineNumber;for(;d<=e.endLineNumber&&this.shouldIgnoreLine(i,d);)d++;if(d>e.endLineNumber)return;let c=i.getLineContent(d);if(!/\S/.test(c.substring(0,e.startColumn-1))){const e=Uu.getGoodIndentForLine(n,i,i.getLanguageId(),d,l);if(null!==e){let t=ho(c),n=ZU(e,o);if(n!==ZU(t,o)){let e=JU(n,o,r);a.push({range:new br(d,1,d,t.length+1),text:e}),c=e+c.substr(t.length)}else{let e=Uu.getIndentMetadata(i,d);if(0===e||8===e)return}}}const h=d;for(;d<e.endLineNumber&&!/\S/.test(i.getLineContent(d+1));)d++;if(d!==e.endLineNumber){let t={getLineTokens:e=>i.getLineTokens(e),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t),getLineContent:e=>e===h?c:i.getLineContent(e)},s=Uu.getGoodIndentForLine(n,t,i.getLanguageId(),d+1,l);if(null!==s){let t=ZU(s,o),n=ZU(ho(i.getLineContent(d+1)),o);if(t!==n){let s=t-n;for(let t=d+1;t<=e.endLineNumber;t++){let e=ho(i.getLineContent(t)),n=JU(ZU(e,o)+s,o,r);n!==e&&a.push({range:new br(t,1,t,e.length+1),text:n})}}}}if(a.length>0){this.editor.pushUndoStop();let e=new oK(a,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function rK(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let r=0;r<i;r++)o+=" ";let s=new RegExp(o,"gi");for(let r=1,a=e.getLineCount();r<=a;r++){let i=e.getLineFirstNonWhitespaceColumn(r);if(0===i&&(i=e.getLineMaxColumn(r)),1===i)continue;const a=new br(r,1,r,i),l=e.getValueInRange(a),d=n?l.replace(/\t/gi,o):l.replace(s,"\t");t.addEditOperation(a,d)}}sK.ID="editor.contrib.autoIndentOnPaste";class aK{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),rK(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class lK{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),rK(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}cr(sK.ID,sK),ar(YU),ar(XU),ar(tK),ar(iK),ar(nK),ar(class extends nr{constructor(){super({id:"editor.action.reindentlines",label:t("vs/editor/contrib/indentation/indentation","editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:av.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=QU(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}),ar(class extends nr{constructor(){super({id:"editor.action.reindentselectedlines",label:t("vs/editor/contrib/indentation/indentation","editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:av.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=t.getSelections();if(null===n)return;let o=[];for(let s of n){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;let n=QU(i,e,t);o.push(...n)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}});var dK=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class cK{constructor(){this._data=new Gd}push(e,t){const i=this._data.get(e.uri);void 0===i?this._data.set(e.uri,new Set([t])):i.add(t)}pop(e,t){const i=this._data.get(e.uri);i&&(i.delete(t),0===i.size&&this._data.delete(e.uri))}has(e,t){var i;return Boolean(null===(i=this._data.get(e.uri))||void 0===i?void 0:i.has(t))}}function hK(e,t,i,n){return dK(this,void 0,void 0,(function*(){const s=[],r=Qc.ordered(e).reverse().map((r=>t.map((t=>dK(this,void 0,void 0,(function*(){try{i.push(e,r);const o=yield r.provideInlayHints(e,t,n);(null==o?void 0:o.length)&&s.push(o.filter((e=>t.containsPosition(e.position))))}catch(a){o(a)}finally{i.pop(e,r)}}))))));return yield Promise.all(r.flat()),s.flat().sort(((e,t)=>Rn.compare(e.position,t.position)))}))}class uK{constructor(){this._entries=new Jd(50)}get(e){const t=uK._key(e);return this._entries.get(t)}set(e,t){const i=uK._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}let gK=class e{constructor(t,i){this._editor=t,this._codeEditorService=i,this._decorationOwnerId=++e._decorationOwnerIdPool,this._disposables=new b,this._sessionDisposables=new b,this._getInlayHintsDelays=new Sc(Qc,25,500),this._cache=new uK,this._decorations=new Map,this._disposables.add(Qc.onDidChange((()=>this._update()))),this._disposables.add(t.onDidChangeModel((()=>this._update()))),this._disposables.add(t.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(t.onDidChangeConfiguration((e=>{e.hasChanged(125)&&this._update()}))),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(125).enabled)return;const e=this._editor.getModel();if(!e||!Qc.has(e))return;const t=this._cache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t);const i=new cK,n=new Ct((()=>dK(this,void 0,void 0,(function*(){const t=Date.now(),o=new dt;this._sessionDisposables.add(_((()=>o.dispose(!0))));const s=this._getHintsRanges(),r=yield hK(e,s,i,o.token);n.delay=this._getInlayHintsDelays.update(e,Date.now()-t),o.token.isCancellationRequested||(this._updateHintsDecorators(s,r),this._cache.set(e,Array.from(this._decorations.values()).map((e=>e.hint))))}))),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(n),this._sessionDisposables.add(this._editor.onDidChangeModelContent((()=>n.schedule()))),this._disposables.add(this._editor.onDidScrollChange((()=>n.schedule()))),n.schedule();const o=new b;this._sessionDisposables.add(o);for(const s of Qc.all(e))"function"==typeof s.onDidChangeInlayHints&&o.add(s.onDidChangeInlayHints((()=>{i.has(e,s)||n.schedule()})))}_getHintsRanges(){const e=this._editor.getModel(),t=this._editor.getVisibleRangesPlusViewportAboveBelow(),i=[];for(const n of t.sort(br.compareRangesUsingStarts)){const t=e.validateRange(new br(n.startLineNumber-30,n.startColumn,n.endLineNumber+30,n.endColumn));0!==i.length&&br.areIntersectingOrTouching(i[i.length-1],t)?i[i.length-1]=br.plusRange(i[i.length-1],t):i.push(t)}return i}_updateHintsDecorators(e,t){const{fontSize:i,fontFamily:n}=this._getLayoutInfo(),o=this._editor.getModel(),s=[],r=[],a="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(a,n);for(const c of t){const{text:e,position:t,whitespaceBefore:n,whitespaceAfter:l}=c,d=n?i/3|0:0,h=l?i/3|0:0,u={contentText:pK(e),fontSize:`${i}px`,margin:`0px ${h}px 0px ${d}px`,fontFamily:`var(${a}), ${Gr.fontFamily}`,padding:`1px ${0|Math.max(1,i/4)}px`,borderRadius:(i/4|0)+"px",verticalAlign:"middle",backgroundColor:Ns(Mp),color:Ns(Tp)};c.kind===Rc.Parameter?(u.backgroundColor=Ns(Pp),u.color=Ns(Op)):c.kind===Rc.Type&&(u.backgroundColor=Ns(Rp),u.color=Ns(Ap));let g={beforeInjectedText:Object.assign(Object.assign({},u),{affectsLetterSpacing:!0})},m=br.fromPositions(t),p=o.getWordAtPosition(t),f=!1;p&&(p.endColumn===t.column?(g.afterInjectedText=g.beforeInjectedText,g.beforeInjectedText=void 0,f=!0,m=mK(p,t.lineNumber)):p.startColumn===t.column&&(f=!0,m=mK(p,t.lineNumber)));const _="inlayHints-"+Td(g).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",_,g,void 0,this._editor),s.push(_);if(r.push({range:m,options:Object.assign(Object.assign({},this._codeEditorService.resolveDecorationOptions(_,!0)),{showIfCollapsed:!f,stickiness:0})})>1500)break}const l=[];for(const c of e)for(const{id:e}of o.getDecorationsInRange(c,this._decorationOwnerId,!0)){const t=this._decorations.get(e);t&&(l.push(e),this._codeEditorService.removeDecorationType(t.decorationTypeId),this._decorations.delete(e))}const d=o.deltaDecorations(l,r,this._decorationOwnerId);for(let c=0;c<d.length;c++)this._decorations.set(d[c],{hint:t[c],decorationTypeId:s[c]})}_getLayoutInfo(){const e=this._editor.getOption(125),t=this._editor.getOption(45);let i=e.fontSize;(!i||i<5||i>t)&&(i=.9*t|0);return{fontSize:i,fontFamily:e.fontFamily||this._editor.getOption(42)}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorations.keys()),[]);for(let e of this._decorations.values())this._codeEditorService.removeDecorationType(e.decorationTypeId);this._decorations.clear()}};function mK(e,t){return new br(t,e.startColumn,t,e.endColumn)}function pK(e){return e.replace(/[ \t]/g," ")}gK.ID="editor.contrib.InlayHints",gK._decorationOwnerIdPool=0,gK=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,An)],gK),cr(gK.ID,gK),Qn.registerCommand("_executeInlayHintProvider",((e,...t)=>dK(void 0,void 0,void 0,(function*(){const[i,n]=t;ke(Yt.isUri(i)),ke(br.isIRange(n));const o=yield e.get(Fn).createModelReference(i);try{return yield hK(o.object.textEditorModel,[br.lift(n)],new cK,rt.None)}finally{o.dispose()}}))));class fK{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new vr(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new vr(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}let _K=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();const o=this.editor.getSelection(),s=this.editor.getModel();if(!s||!o)return;let r=o;if(r.startLineNumber!==r.endLineNumber)return;const a=new Wx(this.editor,5),l=s.uri;return this.editorWorkerService.canNavigateValueSet(l)?(this.currentRequest=ht((e=>this.editorWorkerService.navigateValueSet(l,r,i))),this.currentRequest.then((i=>{if(!i||!i.range||!i.value)return;if(!a.validate(this.editor))return;let o=br.lift(i.range),s=i.range,l=i.value.length-(r.endColumn-r.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+i.value.length},l>1&&(r=new vr(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+l-1));const d=new fK(o,r,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,d),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:s,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=ft(350),this.decorationRemover.then((()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]))).catch(n)})).catch(n)):Promise.resolve(void 0)}};_K.ID="editor.contrib.inPlaceReplaceController",_K.DECORATION=vb.register({description:"in-place-replace",className:"valueSetReplacement"}),_K=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,cL)],_K);cr(_K.ID,_K),ar(class extends nr{constructor(){super({id:"editor.action.inPlaceReplace.up",label:t("vs/editor/contrib/inPlaceReplace/inPlaceReplace","InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=_K.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}),ar(class extends nr{constructor(){super({id:"editor.action.inPlaceReplace.down",label:t("vs/editor/contrib/inPlaceReplace/inPlaceReplace","InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=_K.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}),As(((e,t)=>{const i=e.getColor(C_);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)}));class bK{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let i=function(e,t){t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber));for(let r=t.length-2;r>=0;r--)t[r].lineNumber===t[r+1].lineNumber&&t.splice(r,1);let i=[],n=0,o=0,s=t.length;for(let r=1,a=e.getLineCount();r<=a;r++){let a=e.getLineContent(r),l=a.length+1,d=0;if(o<s&&t[o].lineNumber===r&&(d=t[o].column,o++,d===l))continue;if(0===a.length)continue;let c=uo(a),h=0;if(-1===c)h=1;else{if(c===a.length-1)continue;h=c+2}h=Math.max(d,h),i[n++]=bF.delete(new br(r,h,r,l))}return i}(e,this._cursors);for(let n=0,o=i.length;n<o;n++){let e=i[n];t.addEditOperation(e.range,e.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class vK{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new br(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new br(i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new br(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=vr.createWithDirection(e,t,n,o,this._selectionDirection)}return i}}class wK{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:r}=e.getOptions();let a=this.buildIndentConverter(o,s,r),l={getLineTokens:t=>e.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){let i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new br(1,1,1,1),null):(t.addEditOperation(new br(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new br(o,1,o,e.getLineMaxColumn(o)),null)),n=new vr(o,1,o,1)}else{let i,s;if(this._isMovingDown){i=n.endLineNumber+1,s=e.getLineContent(i),t.addEditOperation(new br(i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let d=s;if(this.shouldAutoIndent(e,n)){let c=this.matchEnterRule(e,a,o,i,n.startLineNumber-1);if(null!==c){let t=JU(c+ZU(ho(e.getLineContent(i)),o),o,r);d=t+this.trimLeft(s)}else{l.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);let t=Uu.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i,1),n.startLineNumber,a);if(null!==t){let n=ho(e.getLineContent(i)),a=ZU(t,o);if(a!==ZU(n,o)){let e=JU(a,o,r);d=e+this.trimLeft(s)}}}t.addEditOperation(new br(n.startLineNumber,1,n.startLineNumber,1),d+"\n");let h=this.matchEnterRuleMovingDown(e,a,o,n.startLineNumber,i,d);if(null!==h)0!==h&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,h);else{l.getLineContent=t=>t===n.startLineNumber?d:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=Uu.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,a);if(null!==s){const i=ho(e.getLineContent(n.startLineNumber)),a=ZU(s,o),l=ZU(i,o);if(a!==l){const i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}else t.addEditOperation(new br(n.startLineNumber,1,n.startLineNumber,1),d+"\n")}else if(i=n.startLineNumber-1,s=e.getLineContent(i),t.addEditOperation(new br(i,1,i+1,1),null),t.addEditOperation(new br(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,n)){l.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,a,o,n.startLineNumber,n.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,s);else{let s=Uu.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(n.startLineNumber,1),i,a);if(null!==s){let i=ho(e.getLineContent(n.startLineNumber)),a=ZU(s,o),l=ZU(i,o);if(a!==l){let i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>Xb.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>Xb.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===Kh.None||o.indentAction===Kh.Indent?s=o.indentation+o.appendText:o.indentAction===Kh.IndentOutdent?s=o.indentation:o.indentAction===Kh.Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let r=e.getLineContent(n);if(this.trimLeft(r).indexOf(this.trimLeft(s))>=0){let o=ho(e.getLineContent(n)),r=ho(s),a=Uu.getIndentMetadata(e,n);return null!==a&&2&a&&(r=t.unshiftIndent(r)),ZU(r,i)-ZU(o,i)}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(uo(s)>=0){let s=e.getLineMaxColumn(o),r=Uu.getEnterAction(this._autoIndent,e,new br(o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}{let o=n-1;for(;o>=1;){if(uo(e.getLineContent(o))>=0)break;o--}if(o<1||n>e.getLineCount())return null;let s=e.getLineMaxColumn(o),r=Uu.getEnterAction(this._autoIndent,e,new br(o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}}matchEnterRule(e,t,i,n,o,s){let r=o;for(;r>=1;){let t;if(t=r===o&&void 0!==s?s:e.getLineContent(r),uo(t)>=0)break;r--}if(r<1||n>e.getLineCount())return null;let a=e.getLineMaxColumn(r),l=Uu.getEnterAction(this._autoIndent,e,new br(r,a,r,a));return this.parseEnterResult(e,t,i,n,l)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==Uu.getIndentRulesSupport(i)}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let r=i.startLineNumber;r<=i.endLineNumber;r++){let a=ho(e.getLineContent(r)),l=JU(ZU(a,n)+s,n,o);l!==a&&(t.addEditOperation(new br(r,1,r,a.length+1),l),r===i.endLineNumber&&i.endColumn<=a.length+1&&""===l&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class CK{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return CK._COLLATOR||(CK._COLLATOR=new Intl.Collator),CK._COLLATOR}getEditOperations(e,t){let i=function(e,t,i){let n=yK(e,t,i);if(!n)return null;return bF.replace(new br(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n"))}(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let n=yK(e,t,i);if(!n)return!1;for(let o=0,s=n.before.length;o<s;o++)if(n.before[o]!==n.after[o])return!0;return!1}}function yK(e,t,i){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let s=[];for(let a=n;a<=o;a++)s.push(e.getLineContent(a));let r=s.slice(0);return r.sort(CK.getCollator().compare),!0===i&&(r=r.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:r}}CK._COLLATOR=null;class SK extends nr{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map(((e,t)=>({selection:e,index:t,ignore:!1})));i.sort(((e,t)=>br.compareRangesUsingStarts(e.selection,t.selection)));let n=i[0];for(let s=1;s<i.length;s++){const e=i[s];n.selection.endLineNumber===e.selection.startLineNumber&&(n.index<e.index?e.ignore=!0:(n.ignore=!0,n=e))}const o=[];for(const s of i)o.push(new vK(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class kK extends nr{constructor(e,t){super(t),this.down=e}run(e,t){let i=[],n=t.getSelections()||[];const o=t.getOption(9);for(const s of n)i.push(new wK(s,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class xK extends nr{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!CK.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new CK(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class LK extends nr{constructor(){super({id:LK.ID,label:t("vs/editor/contrib/linesOperations/linesOperations","lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:Ke(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map((e=>new Rn(e.positionLineNumber,e.positionColumn))));let o=t.getSelection();if(null===o)return;let s=new bK(o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}LK.ID="editor.action.trimTrailingWhitespace";class DK extends nr{run(e,t){if(!t.hasModel())return;const i=t.getSelection();let n=this._getRangesToDelete(t),o=[];for(let a=0,l=n.length-1;a<l;a++){let e=n[a],t=n[a+1];null===br.intersectRanges(e,t)?o.push(e):n[a+1]=br.plusRange(e,t)}o.push(n[n.length-1]);let s=this._getEndCursorState(i,o),r=o.map((e=>bF.replace(e,"")));t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class EK extends nr{run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=t.getOption(115),s=[];for(const r of i)if(r.isEmpty()){const e=r.getStartPosition(),i=t.getConfiguredWordAtPosition(e);if(!i)continue;const a=new br(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),l=n.getValueInRange(a);s.push(bF.replace(a,this._modifyText(l,o)))}else{const e=n.getValueInRange(r);s.push(bF.replace(r,this._modifyText(e,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class NK{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class IK extends EK{constructor(){super({id:"editor.action.transformToTitlecase",label:t("vs/editor/contrib/linesOperations/linesOperations","editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:av.writable})}_modifyText(e,t){const i=IK.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,(e=>e.toLocaleUpperCase())):e}}IK.titleBoundary=new NK("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class TK extends EK{constructor(){super({id:"editor.action.transformToSnakecase",label:t("vs/editor/contrib/linesOperations/linesOperations","editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:av.writable})}_modifyText(e,t){const i=TK.caseBoundary.get(),n=TK.singleLetters.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}TK.caseBoundary=new NK("(\\p{Ll})(\\p{Lu})","gmu"),TK.singleLetters=new NK("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),ar(class extends SK{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"2_line",title:t("vs/editor/contrib/linesOperations/linesOperations",{key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),ar(class extends SK{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"2_line",title:t("vs/editor/contrib/linesOperations/linesOperations",{key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),ar(class extends nr{constructor(){super({id:"editor.action.duplicateSelection",label:t("vs/editor/contrib/linesOperations/linesOperations","duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:av.writable,menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"2_line",title:t("vs/editor/contrib/linesOperations/linesOperations",{key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),s=t.getModel();for(const r of o)if(r.isEmpty())n.push(new vK(r,!0));else{const e=new vr(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn);n.push(new Fb(e,s.getValueInRange(r)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}),ar(class extends kK{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"2_line",title:t("vs/editor/contrib/linesOperations/linesOperations",{key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),ar(class extends kK{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"2_line",title:t("vs/editor/contrib/linesOperations/linesOperations",{key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),ar(class extends xK{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:av.writable})}}),ar(class extends xK{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:av.writable})}}),ar(class extends nr{constructor(){super({id:"editor.action.removeDuplicateLines",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:av.writable})}run(e,t){if(!t.hasModel())return;let i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let n=[],o=[],s=0;for(let r of t.getSelections()){let e=new Set,t=[];for(let n=r.startLineNumber;n<=r.endLineNumber;n++){let o=i.getLineContent(n);e.has(o)||(t.push(o),e.add(o))}let a=new vr(r.startLineNumber,1,r.endLineNumber,i.getLineMaxColumn(r.endLineNumber)),l=r.startLineNumber-s,d=new vr(l,1,l+t.length-1,t[t.length-1].length);n.push(bF.replace(a,t.join("\n"))),o.push(d),s+=r.endLineNumber-r.startLineNumber+1-t.length}t.pushUndoStop(),t.executeEdits(this.id,n,o),t.pushUndoStop()}}),ar(LK),ar(class extends nr{constructor(){super({id:"editor.action.deleteLines",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.delete","Delete Line"),alias:"Delete Line",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0,s=[],r=[];for(let a=0,l=i.length;a<l;a++){const e=i[a];let t=e.startLineNumber,l=e.endLineNumber,d=1,c=n.getLineMaxColumn(l);l<n.getLineCount()?(l+=1,c=1):t>1&&(t-=1,d=n.getLineMaxColumn(t)),s.push(bF.replace(new vr(t,d,l,c),"")),r.push(new vr(t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map((e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort(((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber));let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}),ar(class extends nr{constructor(){super({id:"editor.action.indentLines",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.indent","Indent Line"),alias:"Indent Line",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,tv.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}),ar(class extends nr{constructor(){super({id:"editor.action.outdentLines",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:2135,weight:100}})}run(e,t){vv.Outdent.runEditorCommand(e,t,null)}}),ar(class extends nr{constructor(){super({id:"editor.action.insertLineBefore",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,tv.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}),ar(class extends nr{constructor(){super({id:"editor.action.insertLineAfter",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,tv.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}),ar(class extends DK{constructor(){super({id:"deleteAllLeft",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach((t=>{let s;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;s=new vr(e,t.startColumn,e,t.startColumn)}else s=new vr(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=s:n.push(s)})),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,n=e.getModel();return null===n?[]:(i.sort(br.compareRangesUsingStarts),i=i.map((e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new br(t,i,e.startLineNumber,1)}return new br(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new br(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),i)}}),ar(class extends DK{constructor(){super({id:"deleteAllRight",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,s=t.length,r=0;o<s;o++){let s=t[o],a=new vr(s.startLineNumber-r,s.startColumn,s.startLineNumber-r,s.startColumn);s.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let n=i.map((e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new br(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new br(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e}));return n.sort(br.compareRangesUsingStarts),n}}),ar(class extends nr{constructor(){super({id:"editor.action.joinLines",label:t("vs/editor/contrib/linesOperations/linesOperations","lines.joinLines","Join Lines"),alias:"Join Lines",precondition:av.writable,kbOpts:{kbExpr:av.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(br.compareRangesUsingStarts);let o=[],s=i.reduce(((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new vr(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new vr(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)));o.push(s);let r=t.getModel();if(null===r)return;let a=[],l=[],d=n,c=0;for(let h=0,u=o.length;h<u;h++){let e,t,i=o[h],s=i.startLineNumber,u=1,g=0,m=r.getLineContent(i.endLineNumber).length-i.endColumn;if(i.isEmpty()||i.startLineNumber===i.endLineNumber){let n=i.getStartPosition();n.lineNumber<r.getLineCount()?(e=s+1,t=r.getLineMaxColumn(e)):(e=n.lineNumber,t=r.getLineMaxColumn(n.lineNumber))}else e=i.endLineNumber,t=r.getLineMaxColumn(e);let p=r.getLineContent(s);for(let n=s+1;n<=e;n++){let e=r.getLineContent(n),t=r.getLineFirstNonWhitespaceColumn(n);if(t>=1){let i=!0;""===p&&(i=!1),!i||" "!==p.charAt(p.length-1)&&"\t"!==p.charAt(p.length-1)||(i=!1,p=p.replace(/[\s\uFEFF\xA0]+$/g," "));let n=e.substr(t-1);p+=(i?" ":"")+n,g=i?n.length+1:n.length}else g=0}let f=new br(s,u,e,t);if(!f.isEmpty()){let e;i.isEmpty()?(a.push(bF.replace(f,p)),e=new vr(f.startLineNumber-c,p.length-g+1,s-c,p.length-g+1)):i.startLineNumber===i.endLineNumber?(a.push(bF.replace(f,p)),e=new vr(i.startLineNumber-c,i.startColumn,i.endLineNumber-c,i.endColumn)):(a.push(bF.replace(f,p)),e=new vr(i.startLineNumber-c,i.startColumn,i.startLineNumber-c,p.length-m)),null!==br.intersectRanges(f,n)?d=e:l.push(e)}c+=f.endLineNumber-f.startLineNumber}l.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}}),ar(class extends nr{constructor(){super({id:"editor.action.transpose",label:t("vs/editor/contrib/linesOperations/linesOperations","editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:av.writable})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getModel();if(null===n)return;let o=[];for(let s=0,r=i.length;s<r;s++){let e=i[s];if(!e.isEmpty())continue;let t=e.getStartPosition(),r=n.getLineMaxColumn(t.lineNumber);if(t.column>=r){if(t.lineNumber===n.getLineCount())continue;let e=new br(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new Pb(new vr(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i))}else{let e=new br(t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new Vb(e,i,new vr(t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}),ar(class extends EK{constructor(){super({id:"editor.action.transformToUppercase",label:t("vs/editor/contrib/linesOperations/linesOperations","editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:av.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),ar(class extends EK{constructor(){super({id:"editor.action.transformToLowercase",label:t("vs/editor/contrib/linesOperations/linesOperations","editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:av.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),TK.caseBoundary.isSupported()&&TK.singleLetters.isSupported()&&ar(TK),IK.titleBoundary.isSupported()&&ar(IK);var MK=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const AK=new fs("LinkedEditingInputVisible",!1);let RK=class e extends v{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new b),this._editor=e,this._enabled=!1,this._visibleContextKey=AK.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new b),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize(!0)))),this._register(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(61)||e.hasChanged(81))&&this.reinitialize(!1)}))),this._register(jc.onDidChange((()=>this.reinitialize(!1)))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize(!0)))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(61)||this._editor.getOption(81))&&jc.has(t);if(i===this._enabled&&!e)return;if(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t)return;this._languageWordPattern=Uu.getWordDefinition(t.getLanguageId()),this._localToDispose.add(t.onDidChangeLanguageConfiguration((()=>{this._languageWordPattern=Uu.getWordDefinition(t.getLanguageId())})));const n=new mt(this._debounceDuration),o=()=>{this._rangeUpdateTriggerPromise=n.trigger((()=>this.updateRanges()),this._debounceDuration)},s=new mt(0),r=e=>{this._rangeSyncTriggerPromise=s.trigger((()=>this._syncRanges(e)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{o()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const i=t.getDecorationRange(this._currentDecorations[0]);if(i&&e.changes.every((e=>i.intersectRanges(e.range))))return void r(this._currentDecorations)}o()}))),this._localToDispose.add({dispose:()=>{n.cancel(),s.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern);if((e?e[0].length:0)!==n.length)return this.clearRanges()}let o=[];for(let s=1,r=e.length;s<r;s++){const i=t.getDecorationRange(e[s]);if(i)if(i.startLineNumber!==i.endLineNumber)o.push({range:i,text:n});else{let e=t.getValueInRange(i),s=n,r=i.startColumn,a=i.endColumn;const l=Co(e,s);r+=l,e=e.substr(l),s=s.substr(l);const d=yo(e,s);a-=d,e=e.substr(0,e.length-d),s=s.substr(0,s.length-d),r===a&&0===s.length||o.push({range:new br(i.startLineNumber,r,i.endLineNumber,a),text:s})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return MK(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const o=this._editor.getModel(),s=o.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=o.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=s;const a=ht((t=>MK(this,void 0,void 0,(function*(){try{const n=yield OK(o,i,t);if(a!==this._currentRequest)return;if(this._currentRequest=null,s!==o.getVersionId())return;let r=[];(null==n?void 0:n.ranges)&&(r=n.ranges),this._currentWordPattern=(null==n?void 0:n.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=r.length;e<t;e++)if(br.containsPosition(r[e],i)){if(l=!0,0!==e){const t=r[e];r.splice(e,1),r.unshift(t)}break}if(!l)return void this.clearRanges();const d=r.map((t=>({range:t,options:e.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,d)}catch(l){r(l)||n(l),this._currentRequest!==a&&this._currentRequest||this.clearRanges()}}))));return this._currentRequest=a,a}))}};RK.ID="editor.contrib.linkedEditing",RK.DECORATION=vb.register({description:"linked-editing",stickiness:0,className:"linked-editing-decoration"}),RK=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,_s)],RK);function OK(e,t,i){return bt(jc.ordered(e).map((n=>()=>MK(this,void 0,void 0,(function*(){try{return yield n.provideLinkedEditingRanges(e,t,i)}catch(G1){return void o(G1)}})))),(e=>!!e&&vd(null==e?void 0:e.ranges)))}rr(new(ir.bindToContribution(RK.get))({id:"cancelLinkedEditingInput",precondition:AK,handler:e=>e.clearRanges(),kbOpts:{kbExpr:av.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const PK=om("editor.linkedEditingBackground",{dark:Yu.fromHex("#f00").transparent(.3),light:Yu.fromHex("#f00").transparent(.3),hc:Yu.fromHex("#f00").transparent(.3)},t("vs/editor/contrib/linkedEditing/linkedEditing","editorLinkedEditingBackground","Background color when the editor auto renames on type."));As(((e,t)=>{const i=e.getColor(PK);i&&t.addRule(`.monaco-editor .linked-editing-decoration { background: ${i}; border-left-color: ${i}; }`)})),sr("_executeLinkedEditingProvider",((e,t)=>OK(e,t,rt.None))),cr(RK.ID,RK),ar(class extends nr{constructor(){super({id:"editor.action.linkedEditing",label:t("vs/editor/contrib/linkedEditing/linkedEditing","linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Jo.and(av.writable,av.hasRenameProvider),kbOpts:{kbExpr:av.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(An),[o,s]=Array.isArray(t)&&t||[void 0,void 0];return Yt.isUri(o)&&Rn.isIPosition(s)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(s),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),n):super.runCommand(e,t)}run(e,t){const i=RK.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}});var FK=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class BK{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return FK(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then((t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing"))))):Promise.reject(new Error("missing"))}))}}class WK{constructor(e){this._disposables=new b;let t=[];for(const[i,n]of e){const e=i.links.map((e=>new BK(e,n)));t=WK._union(t,e),m(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i,n,o,s,r=[];for(i=0,o=0,n=e.length,s=t.length;i<n&&o<s;){const n=e[i],s=t[o];if(br.areIntersectingOrTouching(n.range,s.range)){i++;continue}br.compareRangesUsingStarts(n.range,s.range)<0?(r.push(n),i++):(r.push(s),o++)}for(;i<n;i++)r.push(e[i]);for(;o<s;o++)r.push(t[o]);return r}}function VK(e,t){const i=[],n=ih.ordered(e).reverse().map(((n,s)=>Promise.resolve(n.provideLinks(e,t)).then((e=>{e&&(i[s]=[e,n])}),o)));return Promise.all(n).then((()=>{const e=new WK(_d(i));return t.isCancellationRequested?(e.dispose(),new WK([])):e}))}Qn.registerCommand("_executeLinkProvider",((e,...t)=>FK(void 0,void 0,void 0,(function*(){let[i,n]=t;ke(i instanceof Yt),"number"!=typeof n&&(n=0);const o=e.get(On).getModel(i);if(!o)return[];const s=yield VK(o,rt.None);if(!s)return[];for(let e=0;e<Math.min(n,s.links.length);e++)yield s.links[e].resolve(rt.None);const r=s.links.slice(0);return s.dispose(),r}))));var HK=function(e,t){return function(i,n){t(i,n,e)}},zK=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const UK={general:vb.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:vb.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class KK{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:KK._getOptions(e,t,!1)}}static _getOptions(e,i,n){const o=Object.assign({},n?UK.active:UK.general);return o.hoverMessage=function(e,i){const n=e.url&&/^command:/i.test(e.url.toString()),o=e.tooltip?e.tooltip:n?t("vs/editor/contrib/links/links","links.navigate.executeCmd","Execute command"):t("vs/editor/contrib/links/links","links.navigate.follow","Follow link"),s=i?B?t("vs/editor/contrib/links/links","links.navigate.kb.meta.mac","cmd + click"):t("vs/editor/contrib/links/links","links.navigate.kb.meta","ctrl + click"):B?t("vs/editor/contrib/links/links","links.navigate.kb.alt.mac","option + click"):t("vs/editor/contrib/links/links","links.navigate.kb.alt","alt + click");if(e.url){let i="";if(/^command:/i.test(e.url.toString())){const n=e.url.toString().match(/^command:([^?#]+)/);n&&(i=` "${t("vs/editor/contrib/links/links","tooltip.explanation","Execute command {0}",n[1])}"`)}return new RD("",!0).appendMarkdown(`[${o}](${e.url.toString(!0).replace(/ /g,"%20")}${i}) (${s})`)}return(new RD).appendText(`${o} (${s})`)}(e,i),o}activate(e,t){e.changeDecorationOptions(this.decorationId,KK._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,KK._getOptions(this.link,t,!1))}}let jK=class e{constructor(e,t,i){this.listenersToRemove=new b,this.editor=e,this.openerService=t,this.notificationService=i;let n=new ON(e);this.listenersToRemove.add(n),this.listenersToRemove.add(n.onMouseMoveOrRelevantKeyDown((([e,t])=>{this._onEditorMouseMove(e,t)}))),this.listenersToRemove.add(n.onExecute((e=>{this.onEditorMouseUp(e)}))),this.listenersToRemove.add(n.onCancel((e=>{this.cleanUpActiveLinkDecoration()}))),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration((t=>{const i=e.getOption(62);this.enabled!==i&&(this.enabled=i,this.updateDecorations([]),this.stop(),this.beginCompute())}))),this.listenersToRemove.add(e.onDidChangeModelContent((e=>this.onChange()))),this.listenersToRemove.add(e.onDidChangeModel((e=>this.onModelChanged()))),this.listenersToRemove.add(e.onDidChangeModelLanguage((e=>this.onModelModeChanged()))),this.listenersToRemove.add(ih.onDidChange((e=>this.onModelModeChanged()))),this.timeout=new vt,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet((()=>this.beginCompute()),e.RECOMPUTE_TIME)}beginCompute(){return zK(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(ih.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=ht((t=>VK(e,t)));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){n(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(69);let i=[],n=Object.keys(this.currentOccurrences);for(let r=0,a=n.length;r<a;r++){let e=n[r],t=this.currentOccurrences[e];i.push(t.decorationId)}let o=[];if(e)for(const r of e)o.push(KK.decoration(r,t));let s=this.editor.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let r=0,a=s.length;r<a;r++){let t=new KK(e[r],s[r]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(69);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations((e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId}))}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(69);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((i=>{t.deactivate(i,e)})),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,i,o=!1){if(!this.openerService)return;const{link:s}=e;s.resolve(rt.None).then((e=>{if("string"==typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===di.file&&e.startsWith(`${di.file}:`)){const i=Yt.parse(e);if(i.scheme===di.file){const n=Ua(i);let o=null;n.startsWith("/./")?o=`.${n.substr(1)}`:n.startsWith("//./")&&(o=`.${n.substr(2)}`),o&&(e=Za(t,o))}}}return this.openerService.open(e,{openToSide:i,fromUserGesture:o,allowContributedOpeners:!0,allowCommands:!0})}),(e=>{const i=e instanceof Error?e.message:e;"invalid"===i?this.notificationService.warn(t("vs/editor/contrib/links/links","invalid.url","Failed to open this link because it is not well-formed: {0}",s.url.toString())):"missing"===i?this.notificationService.warn(t("vs/editor/contrib/links/links","missing.url","Failed to open this link because its target is missing.")):n(e)}))}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const e=this.currentOccurrences[i.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};jK.ID="editor.linkDetector",jK.RECOMPUTE_TIME=1e3,jK=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([HK(1,DP),HK(2,$k)],jK);function $K(e,i){const n=i.filter((t=>!e.find((e=>e.equals(t)))));if(n.length>=1){const e=n.map((e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`)).join(", ");xn(1===n.length?t("vs/editor/contrib/multicursor/multicursor","cursorAdded","Cursor added: {0}",e):t("vs/editor/contrib/multicursor/multicursor","cursorsAdded","Cursors added: {0}",e))}}cr(jK.ID,jK),ar(class extends nr{constructor(){super({id:"editor.action.openLink",label:t("vs/editor/contrib/links/links","label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=jK.get(t);if(!i)return;if(!t.hasModel())return;let n=t.getSelections();for(let o of n){let e=i.getLinkOccurrence(o.getEndPosition());e&&i.openLinkOccurrence(e,!1)}}}),As(((e,t)=>{const i=e.getColor(Ip);i&&t.addRule(`.monaco-editor .detected-link-active { color: ${i} !important; }`)}));class qK{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class GK{constructor(e,t,i,n,o,s,r){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=s,this.currentMatch=r}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new GK(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,s=!1;const r=e.getSelections();1===r.length&&r[0].isEmpty()?(s=!0,n=!0,o=!0):(n=i.wholeWord,o=i.matchCase);const a=e.getSelection();let l,d=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;l=t.word,d=new vr(a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else l=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new GK(e,t,s,l,n,o,d)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new qK(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new qK(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new vr(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new qK(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new qK(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new vr(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}class ZK extends v{constructor(e){super(),this._sessionDispose=this._register(new b),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(ZK.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=GK.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._ignoreSelectionChange||this._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((()=>{this._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((e=>{(e.matchCase||e.wholeWord)&&this._endSession()})))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new vr(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState().matchCase;if(!XK(this._editor.getModel(),t,i)){const e=this._editor.getModel();let i=[];for(let n=0,o=t.length;n<o;n++)i[n]=this._expandEmptyToWord(e,t[n]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){const e=i.searchScope;let n=[];t.forEach((t=>{e.forEach((e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&n.push(t)}))})),t=n}if(t.length>0){const e=this._editor.getSelection();for(let i=0,n=t.length;i<n;i++){const n=t[i];if(n.range.intersectRanges(e)){t[i]=t[0],t[0]=n;break}}this._setSelections(t.map((e=>new vr(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))))}}}ZK.ID="editor.contrib.multiCursorController";class JK extends nr{run(e,t){const i=ZK.get(t);if(!i)return;const n=Zz.get(t);if(!n)return;const o=t._getViewModel();if(o){const e=o.getCursorStates();this._run(i,n),$K(e,o.getCursorStates())}}}class QK{constructor(e,t,i,n){this.searchText=e,this.matchCase=t,this.wordSeparators=i,this.modelVersionId=n}static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}class YK extends v{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new Ct((()=>this._update()),300)),this.state=null,this._register(e.onDidChangeConfiguration((t=>{this._isEnabled=e.getOption(96)}))),this._register(e.onDidChangeCursorSelection((e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())}))),this._register(e.onDidChangeModel((e=>{this._setState(null)}))),this._register(e.onDidChangeModelContent((e=>{this._isEnabled&&this.updateSoon.schedule()}))),this._register(Zz.get(e).getState().onFindReplaceStateChange((e=>{this._update()})))}_update(){this._setState(YK._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;const n=ZK.get(t);if(!n)return null;const o=Zz.get(t);if(!o)return null;let s=n.getSession(o);if(!s){const e=t.getSelections();if(e.length>1){const i=o.getState().matchCase;if(!XK(t.getModel(),e,i))return null}s=GK.create(t,o)}if(!s)return null;if(s.currentMatch)return null;if(/^[ \t]+$/.test(s.searchText))return null;if(s.searchText.length>200)return null;const r=o.getState(),a=r.matchCase;if(r.isRevealed){let e=r.searchString;a||(e=e.toLowerCase());let t=s.searchText;if(a||(t=t.toLowerCase()),e===t&&s.matchCase===r.matchCase&&s.wholeWord===r.wholeWord&&!r.isRegex)return null}return new QK(s.searchText,s.matchCase,s.wholeWord?t.getOption(115):null,t.getModel().getVersionId())}_setState(e){if(QK.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=Kc.has(t)&&this.editor.getOption(71);let n=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map((e=>e.range));n.sort(br.compareRangesUsingStarts);let o=this.editor.getSelections();o.sort(br.compareRangesUsingStarts);let s=[];for(let a=0,l=0,d=n.length,c=o.length;a<d;){const e=n[a];if(l>=c)s.push(e),a++;else{const t=br.compareRangesUsingStarts(e,o[l]);t<0?(!o[l].isEmpty()&&br.areIntersecting(e,o[l])||s.push(e),a++):(t>0||a++,l++)}}const r=s.map((e=>({range:e,options:i?YK._SELECTION_HIGHLIGHT:YK._SELECTION_HIGHLIGHT_OVERVIEW})));this.decorations=this.editor.deltaDecorations(this.decorations,r)}dispose(){this._setState(null),super.dispose()}}function XK(e,t,i){const n=ej(e,t[0],!i);for(let o=1,s=t.length;o<s;o++){const s=t[o];if(s.isEmpty())return!1;if(n!==ej(e,s,!i))return!1}return!0}function ej(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}YK.ID="editor.contrib.selectionHighlighter",YK._SELECTION_HIGHLIGHT_OVERVIEW=vb.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Ns(Ff),position:la.Inline},overviewRuler:{color:Ns(Of),position:ra.Center}}),YK._SELECTION_HIGHLIGHT=vb.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),cr(ZK.ID,ZK),cr(YK.ID,YK),ar(class extends nr{constructor(){super({id:"editor.action.insertCursorAbove",label:t("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"3_multi",title:t("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,Gb.addCursorUp(o,s,n)),o.revealTopMostCursor(i.source),$K(s,o.getCursorStates())}}),ar(class extends nr{constructor(){super({id:"editor.action.insertCursorBelow",label:t("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"3_multi",title:t("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,Gb.addCursorDown(o,s,n)),o.revealBottomMostCursor(i.source),$K(s,o.getCursorStates())}}),ar(class extends nr{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:t("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"3_multi",title:t("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let e=t.getLineMaxColumn(n);i.push(new vr(n,e,n,e))}e.endColumn>1&&i.push(new vr(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),s=o.getCursorStates();let r=[];n.forEach((e=>this.getCursorsForSelection(e,i,r))),r.length>0&&t.setSelections(r),$K(s,o.getCursorStates())}}),ar(class extends JK{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:t("vs/editor/contrib/multicursor/multicursor","addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:2082,weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"3_multi",title:t("vs/editor/contrib/multicursor/multicursor",{key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),ar(class extends JK{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:t("vs/editor/contrib/multicursor/multicursor","addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"3_multi",title:t("vs/editor/contrib/multicursor/multicursor",{key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),ar(class extends JK{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:t("vs/editor/contrib/multicursor/multicursor","moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:Ke(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),ar(class extends JK{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:t("vs/editor/contrib/multicursor/multicursor","moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),ar(class extends JK{constructor(){super({id:"editor.action.selectHighlights",label:t("vs/editor/contrib/multicursor/multicursor","selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:3114,weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"3_multi",title:t("vs/editor/contrib/multicursor/multicursor",{key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),ar(class extends JK{constructor(){super({id:"editor.action.changeAll",label:t("vs/editor/contrib/multicursor/multicursor","changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Jo.and(av.writable,av.editorTextFocus),kbOpts:{kbExpr:av.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),ar(class extends nr{constructor(){super({id:"editor.action.addCursorsToBottom",label:t("vs/editor/contrib/multicursor/multicursor","mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount();let o=[];for(let a=i[0].startLineNumber;a<=n;a++)o.push(new vr(a,i[0].startColumn,a,i[0].endColumn));const s=t._getViewModel(),r=s.getCursorStates();o.length>0&&t.setSelections(o),$K(r,s.getCursorStates())}}),ar(class extends nr{constructor(){super({id:"editor.action.addCursorsToTop",label:t("vs/editor/contrib/multicursor/multicursor","mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections();let n=[];for(let r=i[0].startLineNumber;r>=1;r--)n.push(new vr(r,i[0].startColumn,r,i[0].endColumn));const o=t._getViewModel(),s=o.getCursorStates();n.length>0&&t.setSelections(n),$K(s,o.getCursorStates())}});var tj=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const ij={Visible:new fs("parameterHintsVisible",!1),MultipleSignatures:new fs("parameterHintsMultipleSignatures",!1)};function nj(e,t,i,n){return tj(this,void 0,void 0,(function*(){const s=Hc.ordered(e);for(const a of s)try{const o=yield a.provideSignatureHelp(e,t,n,i);if(o)return o}catch(r){o(r)}}))}Qn.registerCommand("_executeSignatureHelpProvider",((e,...t)=>tj(void 0,void 0,void 0,(function*(){const[i,n,o]=t;ke(Yt.isUri(i)),ke(Rn.isIPosition(n)),ke("string"==typeof o||!o);const s=yield e.get(Fn).createModelReference(i);try{const e=yield nj(s.object.textEditorModel,Rn.lift(n),{triggerKind:Nc.Invoke,isRetrigger:!1,triggerCharacter:o},rt.None);if(!e)return;return setTimeout((()=>e.dispose()),0),e.value}finally{s.dispose()}}))));var oj,sj=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e.Default={type:0};e.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}};e.Active=class{constructor(e){this.hints=e,this.type=1}}}(oj||(oj={}));class rj extends v{constructor(e,t=rj.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new X),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=oj.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new w),this.triggerChars=new ql,this.retriggerChars=new ql,this.triggerId=0,this.editor=e,this.throttledDelayer=new mt(t),this._register(this.editor.onDidBlurEditorWidget((()=>this.cancel()))),this._register(this.editor.onDidChangeConfiguration((()=>this.onEditorConfigurationChange()))),this._register(this.editor.onDidChangeModel((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeModelLanguage((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeCursorSelection((e=>this.onCursorChange(e)))),this._register(this.editor.onDidChangeModelContent((e=>this.onModelContentChange()))),this._register(Hc.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((e=>this.onDidType(e)))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=oj.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!Hc.has(i))return;const o=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((()=>this.doTrigger(o)),t).catch(n)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,n=this.editor.getOption(75).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(75).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new oj.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return sj(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const o=this._pendingTriggers.reduce(aj);this._pendingTriggers=[];const s={triggerKind:o.triggerKind,triggerCharacter:o.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),a=this.editor.getPosition();this.state=new oj.Pending(ht((e=>nj(r,a,s,e))),i);try{const t=yield this.state.request;return e!==this.triggerId?(null==t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new oj.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null==t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(l){return e===this.triggerId&&(this.state=oj.Default),n(l),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new ql,this.retriggerChars=new ql;const e=this.editor.getModel();if(e)for(const t of Hc.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Nc.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:Nc.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Nc.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function aj(e,t){switch(t.triggerKind){case Nc.Invoke:return t;case Nc.ContentChange:return e;case Nc.TriggerCharacter:default:return t}}rj.DEFAULT_DELAY=120;var lj=function(e,t){return function(i,n){t(i,n,e)}};const dj=hn,cj=Qx("parameter-hints-next",qn.chevronDown,t("vs/editor/contrib/parameterHints/parameterHintsWidget","parameterHintsNextIcon","Icon for show next parameter hint.")),hj=Qx("parameter-hints-previous",qn.chevronUp,t("vs/editor/contrib/parameterHints/parameterHintsWidget","parameterHintsPreviousIcon","Icon for show previous parameter hint."));let uj=class e extends v{constructor(e,t,i,n){super(),this.editor=e,this.renderDisposeables=this._register(new b),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new AP({editor:e},n,i)),this.model=this._register(new rj(e)),this.keyVisible=ij.Visible.bindTo(t),this.keyMultipleSignatures=ij.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints((e=>{e?(this.show(),this.render(e)):this.hide()})))}createParameterHintDOMNodes(){const e=dj(".editor-widget.parameter-hints-widget"),t=sn(e,dj(".phwrapper"));t.tabIndex=-1;const i=sn(t,dj(".controls")),n=sn(i,dj(".button"+Es.asCSSSelector(hj))),o=sn(i,dj(".overloads")),s=sn(i,dj(".button"+Es.asCSSSelector(cj)));this._register(_i(n,"click",(e=>{tn(e),this.previous()}))),this._register(_i(s,"click",(e=>{tn(e),this.next()})));const r=dj(".body"),a=new ky(r,{});this._register(a),t.appendChild(a.getDomNode());const l=sn(r,dj(".signature")),d=sn(r,dj(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:l,overloads:o,docs:d,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((e=>{this.visible&&this.editor.layoutContentWidget(this)})));const c=()=>{if(!this.domNodes)return;const e=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${e.fontSize}px`,this.domNodes.element.style.lineHeight=""+e.lineHeight/e.fontSize};c(),this._register(Q.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(43))).on(c,null)),this._register(this.editor.onDidLayoutChange((e=>this.updateMaxHeight()))),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((()=>{this.domNodes&&this.domNodes.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var i;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const o=e.signatures[e.activeSignature];if(!o)return;const s=sn(this.domNodes.signature,dj(".code")),r=this.editor.getOption(43);s.style.fontSize=`${r.fontSize}px`,s.style.fontFamily=r.fontFamily;const a=o.parameters.length>0,l=null!==(i=o.activeParameter)&&void 0!==i?i:e.activeParameter;if(a)this.renderParameters(s,o,l);else{sn(s,dj("span")).textContent=o.label}const d=o.parameters[l];if(null==d?void 0:d.documentation){const e=dj("span.documentation");if("string"==typeof d.documentation)e.textContent=d.documentation;else{const t=this.renderMarkdownDocs(d.documentation);e.appendChild(t.element)}sn(this.domNodes.docs,dj("p",{},e))}if(void 0===o.documentation);else if("string"==typeof o.documentation)sn(this.domNodes.docs,dj("p",{},o.documentation));else{const e=this.renderMarkdownDocs(o.documentation);sn(this.domNodes.docs,e.element)}const c=this.hasDocs(o,d);if(this.domNodes.signature.classList.toggle("has-docs",c),this.domNodes.docs.classList.toggle("empty",!c),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,d){let e="";const i=o.parameters[l];e=Array.isArray(i.label)?o.label.substring(i.label[0],i.label[1]):i.label,i.documentation&&(e+="string"==typeof i.documentation?`, ${i.documentation}`:`, ${i.documentation.value}`),o.documentation&&(e+="string"==typeof o.documentation?`, ${o.documentation}`:`, ${o.documentation.value}`),this.announcedLabel!==e&&(kn(t("vs/editor/contrib/parameterHints/parameterHintsWidget","hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&xe(t.documentation).length>0)||(!!(t&&"object"==typeof t.documentation&&xe(t.documentation).value.length>0)||(!!(e.documentation&&"string"==typeof e.documentation&&xe(e.documentation).length>0)||!!(e.documentation&&"object"==typeof e.documentation&&xe(e.documentation.value).length>0)))}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);const r=document.createElement("span");r.textContent=t.label.substring(n,o),r.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),sn(e,s,r,a)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const t=new RegExp(`(\\W|^)${io(i.label)}(?=\\W|$)`,"g");t.test(e.label);const n=t.lastIndex-i.label.length;return n>=0?[n,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("phwrapper");t.length&&(t[0].style.maxHeight=e)}};uj.ID="editor.widget.parameterHintsWidget",uj=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([lj(1,_s),lj(2,DP),lj(3,Mu)],uj);const gj=om("editorHoverWidget.highlightForeground",{dark:lf,light:lf,hc:lf},t("vs/editor/contrib/parameterHints/parameterHintsWidget","editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));As(((e,t)=>{const i=e.getColor(Ep);if(i){const n=e.type===ks.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`)}const n=e.getColor(Lp);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=e.getColor(hm);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=e.getColor(um);s&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const r=e.getColor(Dp);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const a=e.getColor(gm);a&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);const l=e.getColor(gj);l&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${l}}`)}));let mj=class e extends v{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(uj,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};mj.ID="editor.controller.parameterHints",mj=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,Nn)],mj);cr(mj.ID,mj),ar(class extends nr{constructor(){super({id:"editor.action.triggerParameterHints",label:t("vs/editor/contrib/parameterHints/parameterHints","parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:av.hasSignatureHelpProvider,kbOpts:{kbExpr:av.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=mj.get(t);i&&i.trigger({triggerKind:Nc.Invoke})}});const pj=ir.bindToContribution(mj.get);rr(new pj({id:"closeParameterHints",precondition:ij.Visible,handler:e=>e.cancel(),kbOpts:{weight:175,kbExpr:av.focus,primary:9,secondary:[1033]}})),rr(new pj({id:"showPrevParameterHint",precondition:Jo.and(ij.Visible,ij.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:175,kbExpr:av.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),rr(new pj({id:"showNextParameterHint",precondition:Jo.and(ij.Visible,ij.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:175,kbExpr:av.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));const fj=Tn("textResourceConfigurationService"),_j=Tn("textResourcePropertiesService");var bj=function(e,t){return function(i,n){t(i,n,e)}};const vj=new fs("renameInputVisible",!1,t("vs/editor/contrib/rename/renameInputField","renameInputVisible","Whether the rename input widget is visible"));let wj=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new b,this.allowEditorOverflow=!0,this._visibleContextKey=vj.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(43)&&this._updateFont()}))),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",t("vs/editor/contrib/rename/renameInputField","renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var e,i;const[n,o]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(n),this._label.innerText=t("vs/editor/contrib/rename/renameInputField",{key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(n))||void 0===e?void 0:e.getLabel(),null===(i=this._keybindingService.lookupKeybinding(o))||void 0===i?void 0:i.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;const s=e.getColor(mm);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(tp))&&void 0!==t?t:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String(null!==(i=e.getColor(fm))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(n=e.getColor(pm))&&void 0!==n?n:"");const r=e.getColor(_m);this._input.style.borderWidth=r?"1px":"0px",this._input.style.borderStyle=r?"solid":"none",this._input.style.borderColor=null!==(o=null==r?void 0:r.toString())&&void 0!==o?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(43);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,n,o,s){this._domNode.classList.toggle("preview",o),this._position=new Rn(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const r=new b;return new Promise((e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=i=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:o&&i})):this.cancelInput(!0)},s.onCancellationRequested((()=>this.cancelInput(!0))),r.add(this._editor.onDidBlurEditorWidget((()=>this.cancelInput(!1)))),this._show()})).finally((()=>{r.dispose(),this._hide()}))}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))}),100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};wj=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([bj(2,Ls),bj(3,_E),bj(4,_s)],wj);var Cj=function(e,t){return function(i,n){t(i,n,e)}},yj=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Sj{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=Bc.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return yj(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;let n=yield i.resolveRenameLocation(this.model,this.position,e);if(n){if(!n.rejectReason)return n;t.push(n.rejectReason)}}const i=this.model.getWordAtPosition(this.position);return i?{range:new br(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:br.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return yj(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,i,n,o){return yj(this,void 0,void 0,(function*(){const s=this._providers[i];if(!s)return{edits:[],rejectReason:n.join("\n")};const r=yield s.provideRenameEdits(this.model,this.position,e,o);return r?r.rejectReason?this._provideRenameEdits(e,i+1,n.concat(r.rejectReason),o):r:this._provideRenameEdits(e,i+1,n.concat(t("vs/editor/contrib/rename/rename","no result","No result.")),o)}))}}let kj=class e{constructor(e,t,i,n,o,s,r){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=o,this._logService=s,this._configService=r,this._dispoableStore=new b,this._cts=new dt,this._renameInputField=this._dispoableStore.add(new St((()=>this._dispoableStore.add(this._instaService.createInstance(wj,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"])))))}static get(t){return t.getContribution(e.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return yj(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const e=this.editor.getPosition(),i=new Sj(this.editor.getModel(),e);if(!i.hasProvider())return;let n;this._cts=new Vx(this.editor,5);try{const e=i.resolveRenameLocation(this._cts.token);this._progressService.showWhile(e,250),n=yield e}catch(G1){return void pE.get(this.editor).showMessage(G1||t("vs/editor/contrib/rename/rename","resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e)}if(!n)return;if(n.rejectReason)return void pE.get(this.editor).showMessage(n.rejectReason,e);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Vx(this.editor,5,n.range);let o=this.editor.getSelection(),s=0,r=n.text.length;br.isEmpty(o)||br.spansMultipleLines(o)||!br.containsRange(n.range,o)||(s=Math.max(0,o.startColumn-n.range.startColumn),r=Math.min(n.range.endColumn,o.endColumn)-n.range.startColumn);const a=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),l=yield this._renameInputField.value.getInput(n.range,n.text,s,r,a,this._cts.token);if("boolean"==typeof l)return void(l&&this.editor.focus());this.editor.focus();const d=ut(i.provideRenameEdits(l.newName,this._cts.token),this._cts.token).then((e=>yj(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):(this.editor.setSelection(br.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(oE.convert(e),{editor:this.editor,showPreview:l.wantsPreview,label:t("vs/editor/contrib/rename/rename","label","Renaming '{0}'",null==n?void 0:n.text),quotableLabel:t("vs/editor/contrib/rename/rename","quotableLabel","Renaming {0}",null==n?void 0:n.text)}).then((e=>{e.ariaSummary&&kn(t("vs/editor/contrib/rename/rename","aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",n.text,l.newName,e.ariaSummary))})).catch((e=>{this._notificationService.error(t("vs/editor/contrib/rename/rename","rename.failedApply","Rename failed to apply edits")),this._logService.error(e)}))))}))),(e=>{this._notificationService.error(t("vs/editor/contrib/rename/rename","rename.failed","Rename failed to compute edits")),this._logService.error(e)}));return this._progressService.showWhile(d,250),d}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};kj.ID="editor.contrib.renameController",kj=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Cj(1,Nn),Cj(2,$k),Cj(3,nE),Cj(4,_L),Cj(5,$s),Cj(6,fj)],kj);cr(kj.ID,kj),ar(class extends nr{constructor(){super({id:"editor.action.rename",label:t("vs/editor/contrib/rename/rename","rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Jo.and(av.writable,av.hasRenameProvider),kbOpts:{kbExpr:av.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(An),[o,s]=Array.isArray(t)&&t||[void 0,void 0];return Yt.isUri(o)&&Rn.isIPosition(s)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(s),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),n):super.runCommand(e,t)}run(e,t){const i=kj.get(t);return i?i.run():Promise.resolve()}});const xj=ir.bindToContribution(kj.get);rr(new xj({id:"acceptRenameInput",precondition:vj,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:av.focus,primary:3}})),rr(new xj({id:"acceptRenameInputWithPreview",precondition:Jo.and(vj,Jo.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:av.focus,primary:1027}})),rr(new xj({id:"cancelRenameInput",precondition:vj,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:av.focus,primary:9,secondary:[1033]}})),sr("_executeDocumentRenameProvider",(function(e,t,...i){const[n]=i;return ke("string"==typeof n),function(e,t,i){return yj(this,void 0,void 0,(function*(){const n=new Sj(e,t),o=yield n.resolveRenameLocation(rt.None);return(null==o?void 0:o.rejectReason)?{edits:[],rejectReason:o.rejectReason}:n.provideRenameEdits(i,rt.None)}))}(e,t,n)})),sr("_executePrepareRename",(function(e,t){return yj(this,void 0,void 0,(function*(){const i=new Sj(e,t),n=yield i.resolveRenameLocation(rt.None);if(null==n?void 0:n.rejectReason)throw new Error(n.rejectReason);return n}))})),Ss.as(pu).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:t("vs/editor/contrib/rename/rename","enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var Lj,Dj,Ej=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Nj{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new Nj(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}class Ij{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(Ij.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return Ej(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(!oh.has(i))return;if(this._state||(yield Mj(i,t.map((e=>e.getPosition())),this._editor.getOption(101),rt.None).then((e=>{var i;if(vd(e)&&e.length===t.length&&this._editor.hasModel()&&ud(this._editor.getSelections(),t,((e,t)=>e.equalsSelection(t)))){for(let i=0;i<e.length;i++)e[i]=e[i].filter((e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition()))),e[i].unshift(t[i]);this._state=e.map((e=>new Nj(0,e))),null===(i=this._selectionListener)||void 0===i||i.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)}))}}))),!this._state)return;this._state=this._state.map((t=>t.mov(e)));const n=this._state.map((e=>vr.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(n)}finally{this._ignoreSelection=!1}}))}}Ij.ID="editor.contrib.smartSelectController";class Tj extends nr{constructor(e,t){super(t),this._forward=e}run(e,t){return Ej(this,void 0,void 0,(function*(){let e=Ij.get(t);e&&(yield e.run(this._forward))}))}}Qn.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function Mj(e,t,i,n){return Ej(this,void 0,void 0,(function*(){const s=oh.all(e);1===s.length&&s.unshift(new MB);let r=[],a=[];for(const i of s)r.push(Promise.resolve(i.provideSelectionRanges(e,t,n)).then((e=>{if(vd(e)&&e.length===t.length)for(let i=0;i<t.length;i++){a[i]||(a[i]=[]);for(const n of e[i])br.isIRange(n.range)&&br.containsPosition(n.range,t[i])&&a[i].push(br.lift(n.range))}}),o));return yield Promise.all(r),a.map((t=>{if(0===t.length)return[];t.sort(((e,t)=>Rn.isBefore(e.getStartPosition(),t.getStartPosition())?1:Rn.isBefore(t.getStartPosition(),e.getStartPosition())||Rn.isBefore(e.getEndPosition(),t.getEndPosition())?-1:Rn.isBefore(t.getEndPosition(),e.getEndPosition())?1:0));let n,o=[];for(const e of t)(!n||br.containsRange(e,n)&&!br.equalsRange(e,n))&&(o.push(e),n=e);if(!i.selectLeadingAndTrailingWhitespace)return o;let s=[o[0]];for(let i=1;i<o.length;i++){const t=o[i-1],n=o[i];if(n.startLineNumber!==t.startLineNumber||n.endLineNumber!==t.endLineNumber){const i=new br(t.startLineNumber,e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,e.getLineLastNonWhitespaceColumn(t.endLineNumber));i.containsRange(t)&&!i.equalsRange(t)&&n.containsRange(i)&&!n.equalsRange(i)&&s.push(i);const o=new br(t.startLineNumber,1,t.endLineNumber,e.getLineMaxColumn(t.endLineNumber));o.containsRange(t)&&!o.equalsRange(i)&&n.containsRange(o)&&!n.equalsRange(o)&&s.push(o)}s.push(n)}return s}))}))}cr(Ij.ID,Ij),ar(class extends Tj{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:t("vs/editor/contrib/smartSelect/smartSelect","smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"1_basic",title:t("vs/editor/contrib/smartSelect/smartSelect",{key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),ar(class extends Tj{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:t("vs/editor/contrib/smartSelect/smartSelect","smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:av.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Fs.MenubarSelectionMenu,group:"1_basic",title:t("vs/editor/contrib/smartSelect/smartSelect",{key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),oh.register("*",new class{provideSelectionRanges(e,t){const i=[];for(const n of t){const t=[];i.push(t),this._addInWordRanges(t,e,n),this._addWordRanges(t,e,n),this._addWhitespaceLine(t,e,n),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const n=t.getWordAtPosition(i);if(!n)return;let{word:o,startColumn:s}=n,r=i.column-s,a=r,l=r,d=0;for(;a>=0;a--){let e=o.charCodeAt(a);if(a!==r&&(95===e||45===e))break;if(_o(e)&&bo(d))break;d=e}for(a+=1;l<o.length;l++){let e=o.charCodeAt(l);if(bo(e)&&_o(d))break;if(95===e||45===e)break;d=e}a<l&&e.push({range:new br(i.lineNumber,s+a,i.lineNumber,s+l)})}_addWordRanges(e,t,i){const n=t.getWordAtPosition(i);n&&e.push({range:new br(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new br(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}),Lj="_executeSelectionRangeProvider",Dj=function(e,...t){const[i]=t;return Mj(e,i,{selectLeadingAndTrailingWhitespace:!0},rt.None)},Qn.registerCommand(Lj,(function(e,...t){const[i]=t;ke(Yt.isUri(i));const n=e.get(On).getModel(i);return n?Dj(n,...t.slice(1)):e.get(Fn).createModelReference(i).then((e=>new Promise(((i,n)=>{try{i(Dj(e.object.textEditorModel,t.slice(1)))}catch(o){n(o)}})).finally((()=>{e.dispose()}))))}));ar(class extends nr{constructor(){super({id:"editor.action.forceRetokenize",label:t("vs/editor/contrib/tokenization/tokenization","forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.resetTokenization();const n=new J(!0);i.forceTokenization(i.getLineCount()),n.stop(),console.log(`tokenization took ${n.elapsed()}`)}});class Aj extends nr{constructor(){super({id:Aj.ID,label:t("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",{key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,i){const n=!Ov.getTabFocusMode();Ov.setTabFocusMode(n),kn(n?t("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):t("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}Aj.ID="editor.action.toggleTabFocusMode",ar(Aj);const Rj=Tn("dialogService");var Oj=function(e,t){return function(i,n){t(i,n,e)}},Pj=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let Fj=class extends v{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(112),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(112)&&(this._config=this._editor.getOption(112),this._checkForUnusualLineTerminators())}))),this._register(this._editor.onDidChangeModel((()=>{this._checkForUnusualLineTerminators()}))),this._register(this._editor.onDidChangeModelContent((e=>{e.isUndoing||this._checkForUnusualLineTerminators()})))}_checkForUnusualLineTerminators(){return Pj(this,void 0,void 0,(function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;if(!0===function(e,t){return e.getModelProperty(t.uri,"ignoreUnusualLineTerminators")}(this._codeEditorService,e))return;if(this._editor.getOption(80))return;if("auto"===this._config)return void e.removeUnusualLineTerminators(this._editor.getSelections());(yield this._dialogService.confirm({title:t("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","unusualLineTerminators.title","Unusual Line Terminators"),message:t("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","unusualLineTerminators.message","Detected unusual line terminators"),detail:t("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",qa(e.uri)),primaryButton:t("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:t("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","unusualLineTerminators.ignore","Ignore")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(e,t,i){e.setModelProperty(t.uri,"ignoreUnusualLineTerminators",i)}(this._codeEditorService,e,!0)}))}};function Bj(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const i of e.deltas)i.data&&(t+=i.data.length)}return t}(e));let i=0;if(t[i++]=e.id,"full"===e.type)t[i++]=1,t[i++]=e.data.length,t.set(e.data,i),i+=e.data.length;else{t[i++]=2,t[i++]=e.deltas.length;for(const n of e.deltas)t[i++]=n.start,t[i++]=n.deleteCount,n.data?(t[i++]=n.data.length,t.set(n.data,i),i+=n.data.length):t[i++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return G()||function(e){for(let t=0,i=e.length;t<i;t+=4){const i=e[t+0],n=e[t+1],o=e[t+2],s=e[t+3];e[t+0]=s,e[t+1]=o,e[t+2]=n,e[t+3]=i}}(t),Sa.wrap(t)}(t)}Fj.ID="editor.contrib.unusualLineTerminatorsDetector",Fj=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Oj(1,Rj),Oj(2,An)],Fj),cr(Fj.ID,Fj);var Wj=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Vj(e){return e&&!!e.data}function Hj(e){return e&&Array.isArray(e.edits)}class zj{constructor(e,t){this.provider=e,this.tokens=t}}function Uj(e){return rh.has(e)}function Kj(e,t,i,n){return Wj(this,void 0,void 0,(function*(){const s=function(e){const t=rh.orderedGroups(e);return t.length>0?t[0]:[]}(e),r=yield Promise.all(s.map((s=>Wj(this,void 0,void 0,(function*(){let r;try{r=yield s.provideDocumentSemanticTokens(e,s===t?i:null,n)}catch(a){o(a),r=null}return r&&(Vj(r)||Hj(r))||(r=null),new zj(s,r)})))));for(const e of r)if(e.tokens)return e;return r.length>0?r[0]:null}))}class jj{constructor(e,t){this.provider=e,this.tokens=t}}function $j(e){const t=ah.orderedGroups(e);return t.length>0?t[0]:[]}function qj(e,t,i){return Wj(this,void 0,void 0,(function*(){const n=$j(e),s=yield Promise.all(n.map((n=>Wj(this,void 0,void 0,(function*(){let s;try{s=yield n.provideDocumentRangeSemanticTokens(e,t,i)}catch(r){o(r),s=null}return s&&Vj(s)||(s=null),new jj(n,s)})))));for(const e of s)if(e.tokens)return e;return s.length>0?s[0]:null}))}Qn.registerCommand("_provideDocumentSemanticTokensLegend",((e,...t)=>Wj(void 0,void 0,void 0,(function*(){const[i]=t;ke(i instanceof Yt);const n=e.get(On).getModel(i);if(!n)return;const o=function(e){const t=rh.orderedGroups(e);return t.length>0?t[0]:null}(n);return o?o[0].getLegend():e.get(Jn).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)})))),Qn.registerCommand("_provideDocumentSemanticTokens",((e,...t)=>Wj(void 0,void 0,void 0,(function*(){const[i]=t;ke(i instanceof Yt);const n=e.get(On).getModel(i);if(!n)return;if(!Uj(n))return e.get(Jn).executeCommand("_provideDocumentRangeSemanticTokens",i,n.getFullModelRange());const o=yield Kj(n,null,null,rt.None);if(!o)return;const{provider:s,tokens:r}=o;if(!r||!Vj(r))return;const a=Bj({id:0,type:"full",data:r.data});return r.resultId&&s.releaseDocumentSemanticTokens(r.resultId),a})))),Qn.registerCommand("_provideDocumentRangeSemanticTokensLegend",((e,...t)=>Wj(void 0,void 0,void 0,(function*(){const[i,n]=t;ke(i instanceof Yt);const o=e.get(On).getModel(i);if(!o)return;const s=$j(o);if(0===s.length)return;if(1===s.length)return s[0].getLegend();if(!n||!br.isIRange(n))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();const r=yield qj(o,br.lift(n),rt.None);return r?r.provider.getLegend():void 0})))),Qn.registerCommand("_provideDocumentRangeSemanticTokens",((e,...t)=>Wj(void 0,void 0,void 0,(function*(){const[i,n]=t;ke(i instanceof Yt),ke(br.isIRange(n));const o=e.get(On).getModel(i);if(!o)return;const s=yield qj(o,br.lift(n),rt.None);return s&&s.tokens?Bj({id:0,type:"full",data:s.tokens.data}):void 0}))));var Gj=function(e,t){return function(i,n){t(i,n,e)}};let Zj=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._modeService=i,this._logService=n,this._hashTable=new Yj,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){const n=this._modeService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,n);let s;if(o)s=o.metadata,this._logService.getLevel()===qs.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${kc.getForeground(s)}, fontStyle ${kc.getFontStyle(s).toString(2)}`);else{let o=this._legend.tokenTypes[e];const r=[];if(o){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&r.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===qs.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const n=this._themeService.getColorTheme().getTokenStyleMetadata(o,r,i);if(void 0===n)s=2147483647;else{if(s=0,void 0!==n.italic){s|=1|(n.italic?1:0)<<11}if(void 0!==n.bold){s|=2|(n.bold?2:0)<<11}if(void 0!==n.underline){s|=4|(n.underline?4:0)<<11}if(n.foreground){s|=8|n.foreground<<14}0===s&&(s=2147483647)}}else this._logService.getLevel()===qs.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,o="not-in-legend";this._hashTable.add(e,t,n,s),this._logService.getLevel()===qs.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${o}) / ${t} (${r.join(" ")}): foreground ${kc.getForeground(s)}, fontStyle ${kc.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};function Jj(e,t,i){const n=e.data,o=e.data.length/5|0,s=Math.max(Math.ceil(o/1024),400),r=[];let a=0,l=1,d=0;for(;a<o;){const e=a;let c=Math.min(e+s,o);if(c<o){let t=c;for(;t-1>e&&0===n[5*t];)t--;if(t-1===e){let e=c;for(;e+1<o&&0===n[5*e];)e++;c=e}else c=t}let h=new Uint32Array(4*(c-e)),u=0,g=0,m=0,p=0,f=0;for(;a<c;){const e=5*a,o=n[e],s=n[e+1],r=l+o|0,c=0===o?d+s|0:s,_=n[e+2],b=n[e+3],v=n[e+4],w=t.getMetadata(b,v,i);2147483647!==w&&(0===g&&(g=r),m===r&&f>c&&(t.warnOverlappingSemanticTokens(r,c+1),p<c?h[u-4+2]=c:u-=4),h[u]=r-g,h[u+1]=c,h[u+2]=c+_,h[u+3]=w,u+=4,m=r,p=c,f=c+_),l=r,d=c,a++}u!==h.length&&(h=h.subarray(0,u));const _=new _h(g,new ph(h));r.push(_)}return r}Zj=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Gj(1,Ls),Gj(2,Mu),Gj(3,$s)],Zj);class Qj{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class Yj{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Yj._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Yj._SIZES.length?2/3*this._currentLength:0),this._elements=[],Yj._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=Yj._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Yj._SIZES.length?2/3*this._currentLength:0),this._elements=[],Yj._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new Qj(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}Yj._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var Xj=function(e,t){return function(i,n){t(i,n,e)}};function e$(e){return e.toString()}function t$(e){const t=new Bd,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}class i${constructor(e,t,i){this._modelEventListeners=new b,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>i(e,t))))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange((()=>this.model.setMode(e.languageId))),this.model.setMode(e.languageId)}}const n$=W||B?1:2;class o${constructor(e,t,i,n,o,s,r,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=s,this.versionId=r,this.alternativeVersionId=a}}let s$=class e extends v{constructor(e,t,i,n,o,s,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=o,this._modeService=s,this._languageConfigurationService=r,this._onModelAdded=this._register(new X),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new X),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new X),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new l$(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration((()=>this._updateModelOptions()))),this._updateModelOptions(),this._register(new a$(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var i;let n=Zr.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let o=n;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(o=t),o<1&&(o=1)}let s=Zr.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let r=n$;const a=e.eol;"\r\n"===a?r=2:"\n"===a&&(r=1);let l=Zr.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let d=Zr.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(d="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let c=Zr.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let h=Zr.bracketPairColorizationOptions;return(null===(i=e.editor)||void 0===i?void 0:i.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(h={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:s,detectIndentation:d,defaultEOL:r,trimAutoWhitespace:l,largeFileOptimizations:c,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"==typeof i&&"auto"!==i?i:3===j||2===j?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,i,n){let o=this._modelCreationOptionsByLanguageAndResource[t+i];if(!o){const s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),r=this._getEOL(i,t);o=e._readModelOptions({editor:s,eol:r},n),this._modelCreationOptionsByLanguageAndResource[t+i]=o}return o}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,o=i.length;n<o;n++){const o=i[n],s=this._models[o],r=s.model.getLanguageId(),a=s.model.uri,l=t[r+a],d=this.getCreationOptions(r,a,s.model.isForSimpleWidget);e._setModelOptionsForModel(s.model,d,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&oa(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(e$(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(e$(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(e$(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const o=this.getCreationOptions(t,i,n),s=new db(e,o,t,i,this._undoRedoService,this._modeService,this._languageConfigurationService);if(i&&this._disposedModels.has(e$(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=t$(s)===e.sha1;if(n||e.sharesUndoRedoStack){for(const e of t.past)ol(e)&&e.matchesResource(i)&&e.setModel(s);for(const e of t.future)ol(e)&&e.matchesResource(i)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,(e=>ol(e)&&e.matchesResource(i))),n&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const r=e$(s.uri);if(this._models[r])throw new Error("ModelService: Cannot add model because it already exists!");const a=new i$(s,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[r]=a,a}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageId,i,n),this.setMode(o.model,t)):o=this._createModelData(e,"plaintext",i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;const i=this._models[e$(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=e$(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===di.file||e.scheme===di.vscodeRemote||e.scheme===di.userData||e.scheme===di.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(t){const i=e$(t.uri),n=this._models[i],o=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let s=!1,r=0;if(o||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const i of e.past)ol(i)&&i.matchesResource(t.uri)&&(s=!0,r+=i.heapSize(t.uri),i.setModel(t.uri));for(const i of e.future)ol(i)&&i.matchesResource(t.uri)&&(s=!0,r+=i.heapSize(t.uri),i.setModel(t.uri))}}const a=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!o&&r>a){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(a-r),this._undoRedoService.setElementsValidFlag(t.uri,!1,(e=>ol(e)&&e.matchesResource(t.uri))),this._insertDisposedModel(new o$(t.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),o,r,t$(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!o){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[i],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const n=i.oldLanguage,o=t.getLanguageId(),s=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),r=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,r,s),this._onModelModeChanged.fire({model:t,oldModeId:n})}};s$.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,s$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Xj(0,Du),Xj(1,_j),Xj(2,Ls),Xj(3,$s),Xj(4,tg),Xj(5,Mu),Xj(6,Bu)],s$);function r$(e,t,i){var n;const o=null===(n=i.getValue("editor.semanticHighlighting",{overrideIdentifier:e.getLanguageId(),resource:e.uri}))||void 0===n?void 0:n.enabled;return"boolean"==typeof o?o:t.getColorTheme().semanticHighlighting}class a$ extends v{constructor(e,t,i,n){super(),this._watchers=Object.create(null),this._semanticStyling=n;const o=e=>{this._watchers[e.uri.toString()]=new c$(e,t,this._semanticStyling)},s=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},r=()=>{for(let n of e.getModels()){const e=this._watchers[n.uri.toString()];r$(n,t,i)?e||o(n):e&&s(n,e)}};this._register(e.onModelAdded((e=>{r$(e,t,i)&&o(e)}))),this._register(e.onModelRemoved((e=>{const t=this._watchers[e.uri.toString()];t&&s(e,t)}))),this._register(i.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&r()}))),this._register(t.onDidColorThemeChange(r))}}class l$ extends v{constructor(e,t,i){super(),this._themeService=e,this._modeService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}get(e){return this._caches.has(e)||this._caches.set(e,new Zj(e.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(e)}}class d${constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class c$ extends v{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new Ct((()=>this._fetchDocumentSemanticTokensNow()),c$.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent((()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}))),this._register(this._model.onDidChangeLanguage((()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)})));const n=()=>{p(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of rh.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange((()=>this._fetchDocumentSemanticTokens.schedule(0))))};n(),this._register(rh.onDidChange((()=>{n(),this._fetchDocumentSemanticTokens.schedule()}))),this._register(t.onDidColorThemeChange((e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()}))),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!Uj(this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const e=new dt,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,o=Kj(this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;const s=[],a=this._model.onDidChangeContent((e=>{s.push(e)}));o.then((e=>{if(this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),e){const{provider:t,tokens:i}=e,n=this._semanticStyling.get(t);this._setDocumentSemanticTokens(t,i||null,n,s)}else this._setDocumentSemanticTokens(null,null,null,s)}),(e=>{e&&(r(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||n(e),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),s.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())}))}static _copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,n){const o=this._currentDocumentResponse,s=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i){if(!t)return this._model.setSemanticTokens(null,!0),void s();if(Hj(t)){if(!o)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:o.data};else{let e=0;for(const o of t.edits)e+=(o.data?o.data.length:0)-o.deleteCount;const i=o.data,n=new Uint32Array(i.length+e);let s=i.length,r=n.length;for(let o=t.edits.length-1;o>=0;o--){const e=t.edits[o],a=s-(e.start+e.deleteCount);a>0&&(c$._copy(i,s-a,n,r-a,a),r-=a),e.data&&(c$._copy(e.data,0,n,r-e.data.length,e.data.length),r-=e.data.length),s=e.start}s>0&&c$._copy(i,0,n,0,s),t={resultId:t.resultId,data:n}}}if(Vj(t)){this._currentDocumentResponse=new d$(e,t.resultId,t.data);const o=Jj(t,i,this._model.getLanguageId());if(n.length>0)for(const e of n)for(const t of o)for(const i of e.changes)t.applyEdit(i.range,i.text);this._model.setSemanticTokens(o,!0)}else this._model.setSemanticTokens(null,!0);s()}else this._model.setSemanticTokens(null,!1)}}c$.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;var h$=function(e,t){return function(i,n){t(i,n,e)}};let u$=class extends v{constructor(e,t,i,n){super(),this._modelService=t,this._themeService=i,this._configurationService=n,this._editor=e,this._tokenizeViewport=new Ct((()=>this._tokenizeViewportNow()),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange((()=>{this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModel((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModelContent((e=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(ah.onDidChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&(this._cancelAll(),this._tokenizeViewport.schedule())}))),this._register(this._themeService.onDidColorThemeChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()})))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!r$(e,this._themeService,this._configurationService))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));if(!function(e){return ah.has(e)}(e))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map((t=>this._requestRange(e,t))))}_requestRange(e,t){const i=e.getVersionId(),n=ht((i=>Promise.resolve(qj(e,t,i))));return n.then((n=>{if(!n||!n.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:o,tokens:s}=n,r=this._modelService.getSemanticTokensProviderStyling(o);e.setPartialSemanticTokens(t,Jj(s,r,e.getLanguageId()))})).then((()=>this._removeOutstandingRequest(n)),(()=>this._removeOutstandingRequest(n))),n}};u$.ID="editor.contrib.viewportSemanticTokens",u$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([h$(1,On),h$(2,Ls),h$(3,Du)],u$),cr(u$.ID,u$);const g$=om("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},t("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),m$=om("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},t("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),p$=om("editor.wordHighlightBorder",{light:null,dark:null,hc:cm},t("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),f$=om("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:cm},t("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),_$=om("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},t("vs/editor/contrib/wordHighlighter/wordHighlighter","overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),b$=om("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},t("vs/editor/contrib/wordHighlighter/wordHighlighter","overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),v$=new fs("hasWordHighlights",!1);function w$(e,t,i){return bt(Kc.ordered(e).map((n=>()=>Promise.resolve(n.provideDocumentHighlights(e,t,i)).then(void 0,o))),vd)}class C${constructor(e,t,i){this._wordRange=this._getCurrentWordRange(e,t),this.result=ht((n=>this._compute(e,t,i,n)))}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new br(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const n=t.startLineNumber,o=t.startColumn,s=t.endColumn,r=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(r));for(let l=0,d=i.length;!a&&l<d;l++){let t=e.getDecorationRange(i[l]);t&&t.startLineNumber===n&&t.startColumn<=o&&t.endColumn>=s&&(a=!0)}return a}cancel(){this.result.cancel()}}class y$ extends C${_compute(e,t,i,n){return w$(e,t.getPosition(),n).then((e=>e||[]))}}class S$ extends C${constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return ft(250,n).then((()=>{if(!t.isEmpty())return[];const n=e.getWordAtPosition(t.getPosition());if(!n||n.word.length>1e3)return[];return e.findMatches(n.word,!0,!1,!0,i,!1).map((e=>({range:e.range,kind:Tc.Text})))}))}isValid(e,t,i){const n=t.isEmpty();return this._selectionIsEmpty===n&&super.isValid(e,t,i)}}sr("_executeDocumentHighlights",((e,t)=>w$(e,t,rt.None)));class k${constructor(e,t){this.toUnhook=new b,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=v$.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{let t=this.editor.getOption(71);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return _d(this._decorationIds.map((e=>this.model.getDecorationRange(e))).sort(br.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))+1)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){kn(`${this.editor.getModel().getLineContent(i.startLineNumber)}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))-1+e.length)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){kn(`${this.editor.getModel().getLineContent(i.startLineNumber)}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();let t=e.startColumn,i=e.endColumn;const o=this._getWord();if(!o||o.startColumn>t||o.endColumn<i)return void this._stopAll();const s=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(r=this.model,a=this.editor.getSelection(),l=this.editor.getOption(115),Kc.has(r)?new y$(r,a,l):new S$(r,a,l)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),n)}var r,a,l}_beginRenderDecorations(){let e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:k$._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===Tc.Write?this._WRITE_OPTIONS:e===Tc.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}k$._WRITE_OPTIONS=vb.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Ns(b$),position:ra.Center},minimap:{color:Ns(Ff),position:la.Inline}}),k$._TEXT_OPTIONS=vb.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Ns(Of),position:ra.Center},minimap:{color:Ns(Ff),position:la.Inline}}),k$._REGULAR_OPTIONS=vb.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Ns(_$),position:ra.Center},minimap:{color:Ns(Ff),position:la.Inline}});let x$=class e extends v{constructor(e,t){super(),this.wordHighlighter=null;const i=()=>{e.hasModel()&&(this.wordHighlighter=new k$(e,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),i()}))),i()}static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};x$.ID="editor.contrib.wordHighlighter",x$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,_s)],x$);class L$ extends nr{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=x$.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}cr(x$.ID,x$),ar(class extends L${constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:t("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:v$,kbOpts:{kbExpr:av.editorTextFocus,primary:65,weight:100}})}}),ar(class extends L${constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:t("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:v$,kbOpts:{kbExpr:av.editorTextFocus,primary:1089,weight:100}})}}),ar(class extends nr{constructor(){super({id:"editor.action.wordHighlight.trigger",label:t("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:v$.toNegated(),kbOpts:{kbExpr:av.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=x$.get(t);n&&n.restoreViewState(!0)}}),As(((e,t)=>{const i=e.getColor(_p);i&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${i}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`));const n=e.getColor(g$);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=e.getColor(m$);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const s=e.getColor(bp);s&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const r=e.getColor(p$);r&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; box-sizing: border-box; }`);const a=e.getColor(f$);a&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===e.type?"dashed":"solid"} ${a}; box-sizing: border-box; }`)}));class D$ extends ir{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=Zl(t.getOption(115)),o=t.getModel(),s=t.getSelections().map((e=>{const t=new Rn(e.positionLineNumber,e.positionColumn),i=this._move(n,o,t,this._wordNavigationType);return this._moveTo(e,i,this._inSelectionMode)}));if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,s.map((e=>Mb.fromModelSelection(e)))),1===s.length){const e=new Rn(s[0].positionLineNumber,s[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,i){return i?new vr(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new vr(t.lineNumber,t.column,t.lineNumber,t.column)}}class E$ extends D${_move(e,t,i,n){return jb.moveWordLeft(e,t,i,n)}}class N$ extends D${_move(e,t,i,n){return jb.moveWordRight(e,t,i,n)}}class I$ extends ir{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=Zl(t.getOption(115)),o=t.getModel(),s=t.getSelections(),r=t.getOption(5),a=t.getOption(8),l=Uu.getAutoClosingPairs(o.getLanguageId()),d=t._getViewModel(),c=s.map((e=>{const i=this._delete({wordSeparators:n,model:o,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:r,autoClosingQuotes:a,autoClosingPairs:l,autoClosedCharacters:d.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Pb(i,"")}));t.pushUndoStop(),t.executeCommands(this.id,c),t.pushUndoStop()}}class T$ extends I${_delete(e,t){let i=jb.deleteWordLeft(e,t);return i||new br(1,1,1,1)}}class M$ extends I${_delete(e,t){let i=jb.deleteWordRight(e,t);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new br(n,o,n,o)}}rr(new class extends E${constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),rr(new class extends E${constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),rr(new class extends E${constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Jo.and(av.textInputFocus,null===(e=Jo.and(Gk,jM))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}),rr(new class extends E${constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),rr(new class extends E${constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),rr(new class extends E${constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Jo.and(av.textInputFocus,null===(e=Jo.and(Gk,jM))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),rr(new class extends N${constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),rr(new class extends N${constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Jo.and(av.textInputFocus,null===(e=Jo.and(Gk,jM))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}),rr(new class extends N${constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),rr(new class extends N${constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),rr(new class extends N${constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Jo.and(av.textInputFocus,null===(e=Jo.and(Gk,jM))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),rr(new class extends N${constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),rr(new class extends E${constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move(Zl(Yr.wordSeparators.defaultValue),t,i,n)}}),rr(new class extends E${constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Zl(Yr.wordSeparators.defaultValue),t,i,n)}}),rr(new class extends N${constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move(Zl(Yr.wordSeparators.defaultValue),t,i,n)}}),rr(new class extends N${constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Zl(Yr.wordSeparators.defaultValue),t,i,n)}}),rr(new class extends T${constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:av.writable})}}),rr(new class extends T${constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:av.writable})}}),rr(new class extends T${constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),rr(new class extends M${constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:av.writable})}}),rr(new class extends M${constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:av.writable})}}),rr(new class extends M${constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),ar(class extends nr{constructor(){super({id:"deleteInsideWord",precondition:av.writable,label:t("vs/editor/contrib/wordOperations/wordOperations","deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const n=Zl(t.getOption(115)),o=t.getModel(),s=t.getSelections().map((e=>{const t=jb.deleteInsideWord(n,o,e);return new Pb(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}});class A$ extends D${_move(e,t,i,n){return $b.moveWordPartLeft(e,t,i)}}Qn.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");Qn.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class R$ extends D${_move(e,t,i,n){return $b.moveWordPartRight(e,t,i)}}var O$,P$,F$,B$,W$,V$,H$,z$,U$,K$,j$,$$,q$;rr(new class extends I${constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let i=$b.deleteWordPartLeft(e);return i||new br(1,1,1,1)}}),rr(new class extends I${constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:av.writable,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let i=$b.deleteWordPartRight(e);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new br(n,o,n,o)}}),rr(new class extends A${constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),rr(new class extends A${constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),rr(new class extends R${constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),rr(new class extends R${constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:av.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}),(P$=O$||(O$={})).noSelection=t("vs/editor/common/standaloneStrings","noSelection","No selection"),P$.singleSelectionRange=t("vs/editor/common/standaloneStrings","singleSelectionRange","Line {0}, Column {1} ({2} selected)"),P$.singleSelection=t("vs/editor/common/standaloneStrings","singleSelection","Line {0}, Column {1}"),P$.multiSelectionRange=t("vs/editor/common/standaloneStrings","multiSelectionRange","{0} selections ({1} characters selected)"),P$.multiSelection=t("vs/editor/common/standaloneStrings","multiSelection","{0} selections"),P$.emergencyConfOn=t("vs/editor/common/standaloneStrings","emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),P$.openingDocs=t("vs/editor/common/standaloneStrings","openingDocs","Now opening the Editor Accessibility documentation page."),P$.readonlyDiffEditor=t("vs/editor/common/standaloneStrings","readonlyDiffEditor"," in a read-only pane of a diff editor."),P$.editableDiffEditor=t("vs/editor/common/standaloneStrings","editableDiffEditor"," in a pane of a diff editor."),P$.readonlyEditor=t("vs/editor/common/standaloneStrings","readonlyEditor"," in a read-only code editor"),P$.editableEditor=t("vs/editor/common/standaloneStrings","editableEditor"," in a code editor"),P$.changeConfigToOnMac=t("vs/editor/common/standaloneStrings","changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),P$.changeConfigToOnWinLinux=t("vs/editor/common/standaloneStrings","changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),P$.auto_on=t("vs/editor/common/standaloneStrings","auto_on","The editor is configured to be optimized for usage with a Screen Reader."),P$.auto_off=t("vs/editor/common/standaloneStrings","auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),P$.tabFocusModeOnMsg=t("vs/editor/common/standaloneStrings","tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),P$.tabFocusModeOnMsgNoKb=t("vs/editor/common/standaloneStrings","tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),P$.tabFocusModeOffMsg=t("vs/editor/common/standaloneStrings","tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),P$.tabFocusModeOffMsgNoKb=t("vs/editor/common/standaloneStrings","tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),P$.openDocMac=t("vs/editor/common/standaloneStrings","openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),P$.openDocWinLinux=t("vs/editor/common/standaloneStrings","openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),P$.outroMsg=t("vs/editor/common/standaloneStrings","outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),P$.showAccessibilityHelpAction=t("vs/editor/common/standaloneStrings","showAccessibilityHelpAction","Show Accessibility Help"),(F$||(F$={})).inspectTokensAction=t("vs/editor/common/standaloneStrings","inspectTokens","Developer: Inspect Tokens"),(B$||(B$={})).gotoLineActionLabel=t("vs/editor/common/standaloneStrings","gotoLineActionLabel","Go to Line/Column..."),(W$||(W$={})).helpQuickAccessActionLabel=t("vs/editor/common/standaloneStrings","helpQuickAccess","Show all Quick Access Providers"),(H$=V$||(V$={})).quickCommandActionLabel=t("vs/editor/common/standaloneStrings","quickCommandActionLabel","Command Palette"),H$.quickCommandHelp=t("vs/editor/common/standaloneStrings","quickCommandActionHelp","Show And Run Commands"),(U$=z$||(z$={})).quickOutlineActionLabel=t("vs/editor/common/standaloneStrings","quickOutlineActionLabel","Go to Symbol..."),U$.quickOutlineByCategoryActionLabel=t("vs/editor/common/standaloneStrings","quickOutlineByCategoryActionLabel","Go to Symbol by Category..."),(j$=K$||(K$={})).editorViewAccessibleLabel=t("vs/editor/common/standaloneStrings","editorViewAccessibleLabel","Editor content"),j$.accessibilityHelpMessage=t("vs/editor/common/standaloneStrings","accessibilityHelpMessage","Press Alt+F1 for Accessibility Options."),($$||($$={})).toggleHighContrast=t("vs/editor/common/standaloneStrings","toggleHighContrast","Toggle High Contrast Theme"),(q$||(q$={})).bulkEditServiceSummary=t("vs/editor/common/standaloneStrings","bulkEditServiceSummary","Made {0} edits in {1} files");var G$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Z$=function(e,t){return function(i,n){t(i,n,e)}};const J$=new fs("accessibilityHelpWidgetVisible",!1);let Q$=class e extends v{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(Y$,this._editor))}static get(t){return t.getContribution(e.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};Q$.ID="editor.contrib.accessibilityHelpController",Q$=G$([Z$(1,Nn)],Q$);let Y$=class e extends ny{constructor(e,t,i,n){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=n,this._editor=e,this._isVisibleKey=J$.bindTo(this._contextKeyService),this._domNode=Xv(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=Xv(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register(vi(this._contentDomNode.domNode,"keydown",(e=>{if(this._isVisible&&(e.equals(2083)&&(kn(O$.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),mi(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){kn(O$.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(Yt.parse(t)),e.preventDefault(),e.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){let n=this._keybindingService.lookupKeybinding(e);return n?eo(t,n.getAriaLabel()):eo(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const e=this._editor.getModel();e&&t.forEach((t=>{i+=e.getValueLengthInRange(t)}))}let n=function(e,t){return e&&0!==e.length?1===e.length?t?eo(O$.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):eo(O$.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?eo(O$.multiSelectionRange,e.length,t):e.length>0?eo(O$.multiSelection,e.length):"":O$.noSelection}(t,i);e.get(53)?e.get(80)?n+=O$.readonlyDiffEditor:n+=O$.editableDiffEditor:e.get(80)?n+=O$.readonlyEditor:n+=O$.editableEditor;const o=B?O$.changeConfigToOnMac:O$.changeConfigToOnWinLinux;switch(e.get(2)){case 0:n+="\n\n - "+o;break;case 2:n+="\n\n - "+O$.auto_on;break;case 1:n+="\n\n - "+O$.auto_off,n+=" "+o}e.get(128)?n+="\n\n - "+this._descriptionForCommand(Aj.ID,O$.tabFocusModeOnMsg,O$.tabFocusModeOnMsgNoKb):n+="\n\n - "+this._descriptionForCommand(Aj.ID,O$.tabFocusModeOffMsg,O$.tabFocusModeOffMsgNoKb);n+="\n\n - "+(B?O$.openDocMac:O$.openDocWinLinux),n+="\n\n"+O$.outroMsg,this._contentDomNode.domNode.appendChild(mP(n)),this._contentDomNode.domNode.setAttribute("aria-label",n)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,mi(this._contentDomNode.domNode),this._editor.focus())}_layout(){let t=this._editor.getLayoutInfo(),i=Math.max(5,Math.min(e.WIDTH,t.width-40)),n=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(i),this._domNode.setHeight(n);let o=Math.round((t.height-n)/2);this._domNode.setTop(o);let s=Math.round((t.width-i)/2);this._domNode.setLeft(s)}};Y$.ID="editor.contrib.accessibilityHelpWidget",Y$.WIDTH=500,Y$.HEIGHT=300,Y$=G$([Z$(1,_s),Z$(2,_E),Z$(3,DP)],Y$);cr(Q$.ID,Q$),ar(class extends nr{constructor(){super({id:"editor.action.showAccessibilityHelp",label:O$.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){let i=Q$.get(t);i&&i.show()}});rr(new(ir.bindToContribution(Q$.get))({id:"closeAccessibilityHelp",precondition:J$,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:av.focus,primary:9,secondary:[1033]}})),As(((e,t)=>{const i=e.getColor(tp);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${i}; }`);const n=e.getColor(ip);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=e.getColor(mm);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const s=e.getColor(dm);s&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)}));class X$ extends v{constructor(e){super(),this.editor=e,this.widget=null,z&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const e=!this.editor.getOption(80);!this.widget&&e?this.widget=new eq(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}X$.ID="editor.contrib.iPadShowKeyboard";class eq extends v{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(_i(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(_i(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return eq.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}eq.ID="editor.contrib.ShowKeyboardWidget",cr(X$.ID,X$);const tq=Tn("themeService");var iq=function(e,t){return function(i,n){t(i,n,e)}};let nq=class e extends v{constructor(e,t,i){super(),this._editor=e,this._modeService=i,this._widget=null,this._register(this._editor.onDidChangeModel((e=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((e=>this.stop()))),this._register(lh.onDidChange((e=>this.stop()))),this._register(this._editor.onKeyUp((e=>9===e.keyCode&&this.stop())))}static get(t){return t.getContribution(e.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new oq(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};nq.ID="editor.contrib.inspectTokens",nq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([iq(1,tq),iq(2,Mu)],nq);class oq extends v{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._modeService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(e,t){const i=lh.get(t);if(i)return i;const n=e.encodeLanguageId(t);return{getInitialState:()=>Fh,tokenize:(e,i,n,o)=>Wh(t,0,n,o),tokenize2:(e,t,i,o)=>Vh(n,0,i,o)}}(this._modeService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((e=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return oq._ID}_compute(e){let t=this._getTokensAtLine(e.lineNumber),i=0;for(let a=t.tokens1.length-1;a>=0;a--){let n=t.tokens1[a];if(e.column-1>=n.offset){i=a;break}}let n=0;for(let a=t.tokens2.length>>>1;a>=0;a--)if(e.column-1>=t.tokens2[a<<1]){n=a;break}let o=this._model.getLineContent(e.lineNumber),s="";if(i<t.tokens1.length){let e=t.tokens1[i].offset,n=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;s=o.substring(e,n)}rn(this._domNode,hn("h2.tm-token",void 0,function(e){let t="";for(let i=0,n=e.length;i<n;i++){let n=e.charCodeAt(i);switch(n){case 9:t+="→";break;case 32:t+="·";break;default:t+=String.fromCharCode(n)}}return t}(s),hn("span.tm-token-length",void 0,`${s.length} ${1===s.length?"char":"chars"}`))),sn(this._domNode,hn("hr.tokens-inspect-separator",{style:"clear:both"}));const r=1+(n<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(n<<1)]):null;sn(this._domNode,hn("table.tm-metadata-table",void 0,hn("tbody",void 0,hn("tr",void 0,hn("td.tm-metadata-key",void 0,"language"),hn("td.tm-metadata-value",void 0,`${r?r.languageId:"-?-"}`)),hn("tr",void 0,hn("td.tm-metadata-key",void 0,"token type"),hn("td.tm-metadata-value",void 0,`${r?this._tokenTypeToString(r.tokenType):"-?-"}`)),hn("tr",void 0,hn("td.tm-metadata-key",void 0,"font style"),hn("td.tm-metadata-value",void 0,`${r?this._fontStyleToString(r.fontStyle):"-?-"}`)),hn("tr",void 0,hn("td.tm-metadata-key",void 0,"foreground"),hn("td.tm-metadata-value",void 0,`${r?Yu.Format.CSS.formatHex(r.foreground):"-?-"}`)),hn("tr",void 0,hn("td.tm-metadata-key",void 0,"background"),hn("td.tm-metadata-value",void 0,`${r?Yu.Format.CSS.formatHex(r.background):"-?-"}`))))),sn(this._domNode,hn("hr.tokens-inspect-separator")),i<t.tokens1.length&&sn(this._domNode,hn("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let t=lh.getColorMap(),i=kc.getLanguageId(e),n=kc.getTokenType(e),o=kc.getFontStyle(e),s=kc.getForeground(e),r=kc.getBackground(e);return{languageId:this._modeService.languageIdCodec.decodeLanguageId(i),tokenType:n,fontStyle:o,foreground:t[s],background:t[r]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t}_getTokensAtLine(e){let t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t,0),n=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),!0,t,0);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t,0).endState}return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}var sq,rq;oq._ID="editor.contrib.inspectTokensWidget",cr(nq.ID,nq),ar(class extends nr{constructor(){super({id:"editor.action.inspectTokens",label:F$.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){let i=nq.get(t);i&&i.launch()}}),As(((e,t)=>{const i=e.getColor(Ep);if(i){let n=e.type===ks.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${i}; }`)}const n=e.getColor(Lp);n&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=e.getColor(Dp);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)})),(rq=sq||(sq={}))[rq.PRESERVE=0]="PRESERVE",rq[rq.LAST=1]="LAST";const aq="workbench.contributions.quickaccess";Ss.add(aq,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),_((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return _d([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}});let lq=class e{constructor(e){this.quickInputService=e,this.registry=Ss.as(aq)}provide(i){const n=new b;n.add(i.onDidAccept((()=>{const[e]=i.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),n.add(i.onDidChangeValue((t=>{const i=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));i&&i.prefix&&i.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})));const{editorProviders:o,globalProviders:s}=this.getQuickAccessProviders();return i.items=0===o.length||0===s.length?[...0===o.length?s:o]:[{label:t("vs/platform/quickinput/browser/helpQuickAccess","globalCommands","global commands"),type:"separator"},...s,{label:t("vs/platform/quickinput/browser/helpQuickAccess","editorCommands","editor commands"),type:"separator"},...o],n}getQuickAccessProviders(){const i=[],n=[];for(const o of this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))))if(o.prefix!==e.PREFIX)for(const e of o.helpEntries){const s=e.prefix||o.prefix,r=s||"…";(e.needsEditor?n:i).push({prefix:s,label:r,ariaLabel:t("vs/platform/quickinput/browser/helpQuickAccess","helpPickAriaLabel","{0}, {1}",r,e.description),description:e.description})}return{editorProviders:n,globalProviders:i}}};lq.PREFIX="?",lq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,SN)],lq),Ss.as(aq).registerQuickAccessProvider({ctor:lq,prefix:"",helpEntries:[{description:W$.helpQuickAccessActionLabel,needsEditor:!0}]});class dq{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new b;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=n.add(new w);return o.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange((()=>{o.value=void 0,o.value=this.doProvide(e,t)}))),n}doProvide(e,t){const i=new b,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const o={editor:n},s=TI(n);if(s){let e=Ne(n.saveViewState());i.add(s.onDidChangeCursorPosition((()=>{e=Ne(n.saveViewState())}))),o.restoreViewState=()=>{e&&n===this.activeTextEditorControl&&n.restoreViewState(e)},i.add(c(t.onCancellationRequested)((()=>{var e;return null===(e=o.restoreViewState)||void 0===e?void 0:e.call(o)})))}i.add(_((()=>this.clearDecorations(n)))),i.add(this.provideWithTextEditor(o,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return II(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations((e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Ns(I_),position:ra.Full}}}],[o,s]=e.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:s}}))}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}class cq extends dq{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const i=t("vs/editor/contrib/quickAccess/gotoLineQuickAccess","cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:i}],e.ariaLabel=i,v.None}provideWithTextEditor(e,t,i){const n=e.editor,o=new b;o.add(t.onDidAccept((i=>{const[o]=t.selectedItems;if(o){if(!this.isValidLineNumber(n,o.lineNumber))return;this.gotoLocation(e,{range:this.toRange(o.lineNumber,o.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}})));const s=()=>{const e=this.parsePosition(n,t.value.trim().substr(cq.PREFIX.length)),i=this.getPickLabel(n,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(n,e.lineNumber))return void this.clearDecorations(n);const o=this.toRange(e.lineNumber,e.column);n.revealRangeInCenter(o,0),this.addDecorations(n,o)};s(),o.add(t.onDidChangeValue((()=>s())));const r=TI(n);if(r){2===r.getOptions().get(59).renderType&&(r.updateOptions({lineNumbers:"on"}),o.add(_((()=>r.updateOptions({lineNumbers:"relative"})))))}return o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map((e=>parseInt(e,10))).filter((e=>!isNaN(e))),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,i,n){if(this.isValidLineNumber(e,i))return this.isValidColumn(e,i,n)?t("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineColumnLabel","Go to line {0} and character {1}.",i,n):t("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabel","Go to line {0}.",i);const o=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?t("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",o.lineNumber,o.column,s):t("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",o.lineNumber,o.column)}isValidLineNumber(e,t){return!(!t||"number"!=typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}cq.PREFIX=":";let hq=class extends cq{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Q.None}get activeTextEditorControl(){return Ne(this.editorService.getFocusedCodeEditor())}};hq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,An)],hq),Ss.as(aq).registerQuickAccessProvider({ctor:hq,prefix:hq.PREFIX,helpEntries:[{description:B$.gotoLineActionLabel,needsEditor:!0}]});ar(class extends nr{constructor(){super({id:"editor.action.gotoLine",label:B$.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(SN).quickAccess.show(hq.PREFIX)}});const uq=[void 0,[]];function gq(e,t,i=0,n=0){const o=t;return o.values&&o.values.length>1?function(e,t,i,n){let o=0;const s=[];for(const r of t){const[t,a]=mq(e,r,i,n);if("number"!=typeof t)return uq;o+=t,s.push(...a)}return[o,pq(s)]}(e,o.values,i,n):mq(e,t,i,n)}function mq(e,t,i,n){const o=SD(t.original,t.originalLowercase,i,e,e.toLowerCase(),n,!0);return o?[o[0],cD(o)]:uq}function pq(e){const t=e.sort(((e,t)=>e.start-t.start)),i=[];let n;for(const o of t)n&&fq(n,o)?(n.start=Math.min(n.start,o.start),n.end=Math.max(n.end,o.end)):(n=o,i.push(o));return i}function fq(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function _q(e){return e.startsWith('"')&&e.endsWith('"')}function bq(e){"string"!=typeof e&&(e="");const t=e.toLowerCase(),{pathNormalized:i,normalized:n,normalizedLowercase:o}=vq(e),s=i.indexOf(jt)>=0,r=_q(e);let a;const l=e.split(" ");if(l.length>1)for(const d of l){const e=_q(d),{pathNormalized:t,normalized:i,normalizedLowercase:n}=vq(d);i&&(a||(a=[]),a.push({original:d,originalLowercase:d.toLowerCase(),pathNormalized:t,normalized:i,normalizedLowercase:n,expectContiguousMatch:e}))}return{original:e,originalLowercase:t,pathNormalized:i,normalized:n,normalizedLowercase:o,values:a,containsPathSeparator:s,expectContiguousMatch:r}}function vq(e){let t;t=F?e.replace(/\//g,jt):e.replace(/\\/g,jt);const i=(n=t,n.replace(/\*/g,"")).replace(/\s|"/g,"");var n;return{pathNormalized:t,normalized:i,normalizedLowercase:i.toLowerCase()}}function wq(e){return Array.isArray(e)?bq(e.map((e=>e.original)).join(" ")):bq(e.original)}var Cq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class yq extends dq{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),v.None}provideWithTextEditor(e,t,i){const n=e.editor,o=this.getModel(n);return o?Uc.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):v.None}doProvideWithoutEditorSymbols(e,i,n,o){const s=new b;return this.provideLabelPick(n,t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{Cq(this,void 0,void 0,(function*(){(yield this.waitForLanguageSymbolRegistry(i,s))&&!o.isCancellationRequested&&s.add(this.doProvideWithEditorSymbols(e,i,n,o))}))})(),s}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return Cq(this,void 0,void 0,(function*(){if(Uc.has(e))return!0;let i;const n=new Promise((e=>i=e)),o=t.add(Uc.onDidChange((()=>{Uc.has(e)&&(o.dispose(),i(!0))})));return t.add(_((()=>i(!1)))),n}))}doProvideWithEditorSymbols(e,i,n,o){const s=e.editor,r=new b;r.add(n.onDidAccept((t=>{const[i]=n.selectedItems;i&&i.range&&(this.gotoLocation(e,{range:i.range.selection,keyMods:n.keyMods,preserveFocus:t.inBackground}),t.inBackground||n.hide())}))),r.add(n.onDidTriggerItemButton((({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));const a=this.getDocumentSymbols(i,o);let l;const d=()=>Cq(this,void 0,void 0,(function*(){null==l||l.dispose(!0),n.busy=!1,l=new dt(o),n.busy=!0;try{const e=bq(n.value.substr(yq.PREFIX.length).trim()),i=yield this.doGetSymbolPicks(a,e,void 0,l.token);if(o.isCancellationRequested)return;i.length>0?n.items=i:e.original.length>0?this.provideLabelPick(n,t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(n.busy=!1)}}));r.add(n.onDidChangeValue((()=>d()))),d();let c=!0;return r.add(n.onDidChangeActive((()=>{const[e]=n.activeItems;if(e&&e.range){if(c)return void(c=!1);s.revealRangeInCenter(e.range.selection,0),this.addDecorations(s,e.range.decoration)}}))),r}doGetSymbolPicks(e,i,n,o){return Cq(this,void 0,void 0,(function*(){const s=yield e;if(o.isCancellationRequested)return[];const r=0===i.original.indexOf(yq.SCOPE_PREFIX),a=r?1:0;let l,d;i.values&&i.values.length>1?(l=wq(i.values[0]),d=wq(i.values.slice(1))):l=i;const c=[];for(let e=0;e<s.length;e++){const o=s[e],r=no(o.name),h=`$(symbol-${Ac.toString(o.kind)||"property"}) ${r}`,u=h.length-r.length;let g,m,p,f,_=o.containerName;if((null==n?void 0:n.extraContainerLabel)&&(_=_?`${n.extraContainerLabel} • ${_}`:n.extraContainerLabel),i.original.length>a){let e=!1;if(l!==i&&([g,m]=gq(h,Object.assign(Object.assign({},i),{values:void 0}),a,u),"number"==typeof g&&(e=!0)),"number"!=typeof g&&([g,m]=gq(h,l,a,u),"number"!=typeof g))continue;if(!e&&d){if(_&&d.original.length>0&&([p,f]=gq(_,d)),"number"!=typeof p)continue;"number"==typeof g&&(g+=p)}}const b=o.tags&&o.tags.indexOf(1)>=0;c.push({index:e,kind:o.kind,score:g,label:h,ariaLabel:r,description:_,highlights:b?void 0:{label:m,description:f},range:{selection:br.collapseToStart(o.selectionRange),decoration:o.range},strikethrough:b,buttons:(()=>{var e,i;const n=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(i=this.options)||void 0===i?void 0:i.openSideBySideDirection():void 0;if(n)return[{iconClass:"right"===n?qn.splitHorizontal.classNames:qn.splitVertical.classNames,tooltip:"right"===n?t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","openToSide","Open to the Side"):t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","openToBottom","Open to the Bottom")}]})()})}const h=c.sort(((e,t)=>r?this.compareByKindAndScore(e,t):this.compareByScore(e,t)));let u=[];if(r){let e,t,i=function(){t&&"number"==typeof e&&n>0&&(t.label=eo(kq[e]||Sq,n))},n=0;for(const o of h)e!==o.kind?(i(),e=o.kind,n=1,t={type:"separator"},u.push(t)):n++,u.push(o);i()}else h.length>0&&(u=[{label:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","symbols","symbols ({0})",c.length),type:"separator"},...h]);return u}))}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=kq[e.kind]||Sq,n=kq[t.kind]||Sq,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return Cq(this,void 0,void 0,(function*(){const i=yield $U.create(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}}yq.PREFIX="@",yq.SCOPE_PREFIX=":",yq.PREFIX_BY_CATEGORY=`${yq.PREFIX}${yq.SCOPE_PREFIX}`;const Sq=t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","property","properties ({0})"),kq={5:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","method","methods ({0})"),11:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","function","functions ({0})"),8:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","_constructor","constructors ({0})"),12:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","variable","variables ({0})"),4:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","class","classes ({0})"),22:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","struct","structs ({0})"),23:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","event","events ({0})"),24:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","operator","operators ({0})"),10:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","interface","interfaces ({0})"),2:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","namespace","namespaces ({0})"),3:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","package","packages ({0})"),25:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","typeParameter","type parameters ({0})"),1:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","modules","modules ({0})"),6:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","property","properties ({0})"),9:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","enum","enumerations ({0})"),21:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","enumMember","enumeration members ({0})"),14:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","string","strings ({0})"),0:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","file","files ({0})"),17:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","array","arrays ({0})"),15:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","number","numbers ({0})"),16:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","boolean","booleans ({0})"),18:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","object","objects ({0})"),19:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","key","keys ({0})"),7:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","field","fields ({0})"),13:t("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","constant","constants ({0})")};let xq=class extends yq{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Q.None}get activeTextEditorControl(){return Ne(this.editorService.getFocusedCodeEditor())}};xq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,An)],xq),Ss.as(aq).registerQuickAccessProvider({ctor:xq,prefix:yq.PREFIX,helpEntries:[{description:z$.quickOutlineActionLabel,prefix:yq.PREFIX,needsEditor:!0},{description:z$.quickOutlineByCategoryActionLabel,prefix:yq.PREFIX_BY_CATEGORY,needsEditor:!0}]});function Lq(e,i){return i&&(e.stack||e.stacktrace)?t("vs/base/common/errorMessage","stackTrace.format","{0}: {1}",Eq(e),Dq(e.stack)||Dq(e.stacktrace)):Eq(e)}function Dq(e){return Array.isArray(e)?e.join("\n"):e}function Eq(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?t("vs/base/common/errorMessage","nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||t("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Nq(e=null,i=!1){if(!e)return t("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const n=_d(e),o=Nq(n[0],i);return n.length>1?t("vs/base/common/errorMessage","error.moreErrors","{0} ({1} errors in total)",o,n.length):o}if(_e(e))return e;if(e.detail){const t=e.detail;if(t.error)return Lq(t.error,i);if(t.exception)return Lq(t.exception,i)}return e.stack?Lq(e,i):e.message?e.message:t("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}ar(class extends nr{constructor(){super({id:"editor.action.quickOutline",label:z$.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:av.hasDocumentSymbolProvider,kbOpts:{kbExpr:av.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(SN).quickAccess.show(yq.PREFIX)}});var Iq,Tq,Mq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Aq(e){const t=e;return Array.isArray(t.items)}(Tq=Iq||(Iq={}))[Tq.NO_ACTION=0]="NO_ACTION",Tq[Tq.CLOSE_PICKER=1]="CLOSE_PICKER",Tq[Tq.REFRESH_PICKER=2]="REFRESH_PICKER",Tq[Tq.REMOVE_ITEM=3]="REMOVE_ITEM";class Rq extends v{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const n=new b;let o;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=n.add(new w),r=()=>Mq(this,void 0,void 0,(function*(){const i=s.value=new b;null==o||o.dispose(!0),e.busy=!1,o=new dt(t);const n=o.token,r=e.value.substr(this.prefix.length).trim(),a=this._getPicks(r,i,n),l=(t,i)=>{var n;let o,s;if(Aq(t)?(o=t.items,s=t.active):o=t,0===o.length){if(i)return!1;r.length>0&&(null===(n=this.options)||void 0===n?void 0:n.noResultsPick)&&(o=[this.options.noResultsPick])}return e.items=o,s&&(e.activeItems=[s]),!0};if(null===a);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(a)){let t=!1,i=!1;yield Promise.all([(()=>Mq(this,void 0,void 0,(function*(){yield ft(Rq.FAST_PICKS_RACE_DELAY),n.isCancellationRequested||i||(t=l(a.picks,!0))})))(),(()=>Mq(this,void 0,void 0,(function*(){e.busy=!0;try{const o=yield a.additionalPicks;if(n.isCancellationRequested)return;let s,r,d,c;if(Aq(a.picks)?(s=a.picks.items,r=a.picks.active):s=a.picks,Aq(o)?(d=o.items,c=o.active):d=o,d.length>0||!t){let t;if(!r&&!c){const i=e.activeItems[0];i&&-1!==s.indexOf(i)&&(t=i)}l({items:[...s,...d],active:r||c||t})}}finally{n.isCancellationRequested||(e.busy=!1),i=!0}})))()])}else if(a instanceof Promise){e.busy=!0;try{const t=yield a;if(n.isCancellationRequested)return;l(t)}finally{n.isCancellationRequested||(e.busy=!1)}}else l(a)}));return n.add(e.onDidChangeValue((()=>r()))),r(),n.add(e.onDidAccept((t=>{const[i]=e.selectedItems;"function"==typeof(null==i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))}))),n.add(e.onDidTriggerItemButton((({button:i,item:n})=>Mq(this,void 0,void 0,(function*(){var o,s;if("function"==typeof n.trigger){const a=null!==(s=null===(o=n.buttons)||void 0===o?void 0:o.indexOf(i))&&void 0!==s?s:-1;if(a>=0){const i=n.trigger(a,e.keyMods),o="number"==typeof i?i:yield i;if(t.isCancellationRequested)return;switch(o){case Iq.NO_ACTION:break;case Iq.CLOSE_PICKER:e.hide();break;case Iq.REFRESH_PICKER:r();break;case Iq.REMOVE_ITEM:const t=e.items.indexOf(n);if(-1!==t){const i=e.items.slice(),n=i.splice(t,1),o=e.activeItems.filter((e=>e!==n[0])),s=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=i,o&&(e.activeItems=o),e.keepScrollPosition=s}}}}}))))),n}}Rq.FAST_PICKS_RACE_DELAY=200;var Oq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Pq=function(e,t){return function(i,n){t(i,n,e)}},Fq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let Bq=class e extends Rq{constructor(t,i,n,o,s,r){super(e.PREFIX,t),this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=s,this.dialogService=r,this.commandsHistory=this._register(this.instantiationService.createInstance(Wq)),this.options=t}_getPicks(i,n,o){return Fq(this,void 0,void 0,(function*(){const s=yield this.getCommandPicks(n,o);if(o.isCancellationRequested)return[];const a=[];for(const t of s){const n=Ne(e.WORD_FILTER(i,t.label)),o=t.commandAlias?Ne(e.WORD_FILTER(i,t.commandAlias)):void 0;n||o?(t.highlights={label:n,detail:this.options.showAlias?o:void 0},a.push(t)):i===t.commandId&&a.push(t)}const l=new Map;for(const e of a){const t=l.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):l.set(e.label,e)}a.sort(((e,t)=>{const i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);return i&&n?i>n?-1:1:i?-1:n?1:e.label.localeCompare(t.label)}));const d=[];let c=!1;for(let e=0;e<a.length;e++){const i=a[e],n=this.keybindingService.lookupKeybinding(i.commandId),o=n?t("vs/platform/quickinput/browser/commandsQuickAccess","commandPickAriaLabelWithKeybinding","{0}, {1}",i.label,n.getAriaLabel()):i.label;0===e&&this.commandsHistory.peek(i.commandId)&&(d.push({type:"separator",label:t("vs/platform/quickinput/browser/commandsQuickAccess","recentlyUsed","recently used")}),c=!0),0!==e&&c&&!this.commandsHistory.peek(i.commandId)&&(d.push({type:"separator",label:t("vs/platform/quickinput/browser/commandsQuickAccess","morecCommands","other commands")}),c=!1),d.push(Object.assign(Object.assign({},i),{ariaLabel:o,detail:this.options.showAlias&&i.commandAlias!==i.label?i.commandAlias:void 0,keybinding:n,accept:()=>Fq(this,void 0,void 0,(function*(){this.commandsHistory.push(i.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.commandId,from:"quick open"});try{yield this.commandService.executeCommand(i.commandId)}catch(e){r(e)||this.dialogService.show(jk.Error,t("vs/platform/quickinput/browser/commandsQuickAccess","canNotRun","Command '{0}' resulted in an error ({1})",i.label,Nq(e)))}}))}))}return d}))}};Bq.PREFIX=">",Bq.WORD_FILTER=zL(UL,(function(e,t,i=!1){if(!t||0===t.length)return null;let n=null,o=0;for(e=e.toLowerCase(),t=t.toLowerCase();o<t.length&&null===(n=nD(e,t,0,o,i));)o=oD(t,o+1);return n}),KL),Bq=Oq([Pq(1,Nn),Pq(2,_E),Pq(3,Jn),Pq(4,js),Pq(5,Rj)],Bq);let Wq=class e extends v{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(o){}const n=e.cache=new Jd(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>n.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(!e.cache)return;const i={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>i.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var i,n;const o=null===(n=null===(i=t.getValue().workbench)||void 0===i?void 0:i.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof o?o:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};Wq.DEFAULT_COMMANDS_HISTORY_LENGTH=50,Wq.PREF_KEY_CACHE="commandPalette.mru.cache",Wq.PREF_KEY_COUNTER="commandPalette.mru.counter",Wq.counter=1,Wq=Oq([Pq(0,nN),Pq(1,Du)],Wq);class Vq extends Bq{constructor(e,t,i,n,o,s){super(e,t,i,n,o,s)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:TD(i.label)||i.id});return t}}var Hq=function(e,t){return function(i,n){t(i,n,e)}},zq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let Uq=class extends Vq{constructor(e,t,i,n,o,s){super({showAlias:!1},e,i,n,o,s),this.codeEditorService=t}get activeTextEditorControl(){return Ne(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return zq(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};Uq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Hq(0,Nn),Hq(1,An),Hq(2,_E),Hq(3,Jn),Hq(4,js),Hq(5,Rj)],Uq),Ss.as(aq).registerQuickAccessProvider({ctor:Uq,prefix:Uq.PREFIX,helpEntries:[{description:V$.quickCommandHelp,needsEditor:!0}]});ar(class extends nr{constructor(){super({id:"editor.action.quickCommand",label:V$.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:av.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(SN).quickAccess.show(Uq.PREFIX)}});var Kq=function(e,t){return function(i,n){t(i,n,e)}};let jq=class extends pR{constructor(e,t,i,n,o,s,r){super(!0,e,t,i,n,o,s,r)}};var $q,qq,Gq,Zq,Jq,Qq,Yq,Xq,eG,tG,iG,nG,oG,sG,rG,aG,lG,dG,cG,hG,uG,gG,mG,pG,fG,_G,bG,vG,wG,CG,yG,SG,kG,xG,LG,DG,EG,NG,IG,TG,MG,AG,RG,OG,PG,FG,BG,WG,VG,HG,zG,UG,KG,jG,$G,qG,GG,ZG,JG,QG,YG;jq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Kq(1,_s),Kq(2,An),Kq(3,$k),Kq(4,Nn),Kq(5,nN),Kq(6,Du)],jq),cr(pR.ID,jq),(qq=$q||($q={}))[qq.Unknown=0]="Unknown",qq[qq.Disabled=1]="Disabled",qq[qq.Enabled=2]="Enabled",(Zq=Gq||(Gq={}))[Zq.KeepWhitespace=1]="KeepWhitespace",Zq[Zq.InsertAsSnippet=4]="InsertAsSnippet",(Qq=Jq||(Jq={}))[Qq.Method=0]="Method",Qq[Qq.Function=1]="Function",Qq[Qq.Constructor=2]="Constructor",Qq[Qq.Field=3]="Field",Qq[Qq.Variable=4]="Variable",Qq[Qq.Class=5]="Class",Qq[Qq.Struct=6]="Struct",Qq[Qq.Interface=7]="Interface",Qq[Qq.Module=8]="Module",Qq[Qq.Property=9]="Property",Qq[Qq.Event=10]="Event",Qq[Qq.Operator=11]="Operator",Qq[Qq.Unit=12]="Unit",Qq[Qq.Value=13]="Value",Qq[Qq.Constant=14]="Constant",Qq[Qq.Enum=15]="Enum",Qq[Qq.EnumMember=16]="EnumMember",Qq[Qq.Keyword=17]="Keyword",Qq[Qq.Text=18]="Text",Qq[Qq.Color=19]="Color",Qq[Qq.File=20]="File",Qq[Qq.Reference=21]="Reference",Qq[Qq.Customcolor=22]="Customcolor",Qq[Qq.Folder=23]="Folder",Qq[Qq.TypeParameter=24]="TypeParameter",Qq[Qq.User=25]="User",Qq[Qq.Issue=26]="Issue",Qq[Qq.Snippet=27]="Snippet",(Xq=Yq||(Yq={}))[Xq.Deprecated=1]="Deprecated",(tG=eG||(eG={}))[tG.Invoke=0]="Invoke",tG[tG.TriggerCharacter=1]="TriggerCharacter",tG[tG.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(nG=iG||(iG={}))[nG.EXACT=0]="EXACT",nG[nG.ABOVE=1]="ABOVE",nG[nG.BELOW=2]="BELOW",(sG=oG||(oG={}))[sG.NotSet=0]="NotSet",sG[sG.ContentFlush=1]="ContentFlush",sG[sG.RecoverFromMarkers=2]="RecoverFromMarkers",sG[sG.Explicit=3]="Explicit",sG[sG.Paste=4]="Paste",sG[sG.Undo=5]="Undo",sG[sG.Redo=6]="Redo",(aG=rG||(rG={}))[aG.LF=1]="LF",aG[aG.CRLF=2]="CRLF",function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(lG||(lG={})),(cG=dG||(dG={}))[cG.None=0]="None",cG[cG.Keep=1]="Keep",cG[cG.Brackets=2]="Brackets",cG[cG.Advanced=3]="Advanced",cG[cG.Full=4]="Full",(uG=hG||(hG={}))[uG.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",uG[uG.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",uG[uG.accessibilitySupport=2]="accessibilitySupport",uG[uG.accessibilityPageSize=3]="accessibilityPageSize",uG[uG.ariaLabel=4]="ariaLabel",uG[uG.autoClosingBrackets=5]="autoClosingBrackets",uG[uG.autoClosingDelete=6]="autoClosingDelete",uG[uG.autoClosingOvertype=7]="autoClosingOvertype",uG[uG.autoClosingQuotes=8]="autoClosingQuotes",uG[uG.autoIndent=9]="autoIndent",uG[uG.automaticLayout=10]="automaticLayout",uG[uG.autoSurround=11]="autoSurround",uG[uG.bracketPairColorization=12]="bracketPairColorization",uG[uG.guides=13]="guides",uG[uG.codeLens=14]="codeLens",uG[uG.codeLensFontFamily=15]="codeLensFontFamily",uG[uG.codeLensFontSize=16]="codeLensFontSize",uG[uG.colorDecorators=17]="colorDecorators",uG[uG.columnSelection=18]="columnSelection",uG[uG.comments=19]="comments",uG[uG.contextmenu=20]="contextmenu",uG[uG.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",uG[uG.cursorBlinking=22]="cursorBlinking",uG[uG.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",uG[uG.cursorStyle=24]="cursorStyle",uG[uG.cursorSurroundingLines=25]="cursorSurroundingLines",uG[uG.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",uG[uG.cursorWidth=27]="cursorWidth",uG[uG.disableLayerHinting=28]="disableLayerHinting",uG[uG.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",uG[uG.domReadOnly=30]="domReadOnly",uG[uG.dragAndDrop=31]="dragAndDrop",uG[uG.emptySelectionClipboard=32]="emptySelectionClipboard",uG[uG.extraEditorClassName=33]="extraEditorClassName",uG[uG.fastScrollSensitivity=34]="fastScrollSensitivity",uG[uG.find=35]="find",uG[uG.fixedOverflowWidgets=36]="fixedOverflowWidgets",uG[uG.folding=37]="folding",uG[uG.foldingStrategy=38]="foldingStrategy",uG[uG.foldingHighlight=39]="foldingHighlight",uG[uG.foldingImportsByDefault=40]="foldingImportsByDefault",uG[uG.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",uG[uG.fontFamily=42]="fontFamily",uG[uG.fontInfo=43]="fontInfo",uG[uG.fontLigatures=44]="fontLigatures",uG[uG.fontSize=45]="fontSize",uG[uG.fontWeight=46]="fontWeight",uG[uG.formatOnPaste=47]="formatOnPaste",uG[uG.formatOnType=48]="formatOnType",uG[uG.glyphMargin=49]="glyphMargin",uG[uG.gotoLocation=50]="gotoLocation",uG[uG.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",uG[uG.hover=52]="hover",uG[uG.inDiffEditor=53]="inDiffEditor",uG[uG.inlineSuggest=54]="inlineSuggest",uG[uG.letterSpacing=55]="letterSpacing",uG[uG.lightbulb=56]="lightbulb",uG[uG.lineDecorationsWidth=57]="lineDecorationsWidth",uG[uG.lineHeight=58]="lineHeight",uG[uG.lineNumbers=59]="lineNumbers",uG[uG.lineNumbersMinChars=60]="lineNumbersMinChars",uG[uG.linkedEditing=61]="linkedEditing",uG[uG.links=62]="links",uG[uG.matchBrackets=63]="matchBrackets",uG[uG.minimap=64]="minimap",uG[uG.mouseStyle=65]="mouseStyle",uG[uG.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",uG[uG.mouseWheelZoom=67]="mouseWheelZoom",uG[uG.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",uG[uG.multiCursorModifier=69]="multiCursorModifier",uG[uG.multiCursorPaste=70]="multiCursorPaste",uG[uG.occurrencesHighlight=71]="occurrencesHighlight",uG[uG.overviewRulerBorder=72]="overviewRulerBorder",uG[uG.overviewRulerLanes=73]="overviewRulerLanes",uG[uG.padding=74]="padding",uG[uG.parameterHints=75]="parameterHints",uG[uG.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",uG[uG.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",uG[uG.quickSuggestions=78]="quickSuggestions",uG[uG.quickSuggestionsDelay=79]="quickSuggestionsDelay",uG[uG.readOnly=80]="readOnly",uG[uG.renameOnType=81]="renameOnType",uG[uG.renderControlCharacters=82]="renderControlCharacters",uG[uG.renderFinalNewline=83]="renderFinalNewline",uG[uG.renderLineHighlight=84]="renderLineHighlight",uG[uG.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",uG[uG.renderValidationDecorations=86]="renderValidationDecorations",uG[uG.renderWhitespace=87]="renderWhitespace",uG[uG.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",uG[uG.roundedSelection=89]="roundedSelection",uG[uG.rulers=90]="rulers",uG[uG.scrollbar=91]="scrollbar",uG[uG.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",uG[uG.scrollBeyondLastLine=93]="scrollBeyondLastLine",uG[uG.scrollPredominantAxis=94]="scrollPredominantAxis",uG[uG.selectionClipboard=95]="selectionClipboard",uG[uG.selectionHighlight=96]="selectionHighlight",uG[uG.selectOnLineNumbers=97]="selectOnLineNumbers",uG[uG.showFoldingControls=98]="showFoldingControls",uG[uG.showUnused=99]="showUnused",uG[uG.snippetSuggestions=100]="snippetSuggestions",uG[uG.smartSelect=101]="smartSelect",uG[uG.smoothScrolling=102]="smoothScrolling",uG[uG.stickyTabStops=103]="stickyTabStops",uG[uG.stopRenderingLineAfter=104]="stopRenderingLineAfter",uG[uG.suggest=105]="suggest",uG[uG.suggestFontSize=106]="suggestFontSize",uG[uG.suggestLineHeight=107]="suggestLineHeight",uG[uG.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",uG[uG.suggestSelection=109]="suggestSelection",uG[uG.tabCompletion=110]="tabCompletion",uG[uG.tabIndex=111]="tabIndex",uG[uG.unusualLineTerminators=112]="unusualLineTerminators",uG[uG.useShadowDOM=113]="useShadowDOM",uG[uG.useTabStops=114]="useTabStops",uG[uG.wordSeparators=115]="wordSeparators",uG[uG.wordWrap=116]="wordWrap",uG[uG.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",uG[uG.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",uG[uG.wordWrapColumn=119]="wordWrapColumn",uG[uG.wordWrapOverride1=120]="wordWrapOverride1",uG[uG.wordWrapOverride2=121]="wordWrapOverride2",uG[uG.wrappingIndent=122]="wrappingIndent",uG[uG.wrappingStrategy=123]="wrappingStrategy",uG[uG.showDeprecated=124]="showDeprecated",uG[uG.inlayHints=125]="inlayHints",uG[uG.editorClassName=126]="editorClassName",uG[uG.pixelRatio=127]="pixelRatio",uG[uG.tabFocusMode=128]="tabFocusMode",uG[uG.layoutInfo=129]="layoutInfo",uG[uG.wrappingInfo=130]="wrappingInfo",(mG=gG||(gG={}))[mG.TextDefined=0]="TextDefined",mG[mG.LF=1]="LF",mG[mG.CRLF=2]="CRLF",(fG=pG||(pG={}))[fG.LF=0]="LF",fG[fG.CRLF=1]="CRLF",function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(_G||(_G={})),function(e){e[e.Other=0]="Other",e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(bG||(bG={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(vG||(vG={})),(CG=wG||(wG={}))[CG.DependsOnKbLayout=-1]="DependsOnKbLayout",CG[CG.Unknown=0]="Unknown",CG[CG.Backspace=1]="Backspace",CG[CG.Tab=2]="Tab",CG[CG.Enter=3]="Enter",CG[CG.Shift=4]="Shift",CG[CG.Ctrl=5]="Ctrl",CG[CG.Alt=6]="Alt",CG[CG.PauseBreak=7]="PauseBreak",CG[CG.CapsLock=8]="CapsLock",CG[CG.Escape=9]="Escape",CG[CG.Space=10]="Space",CG[CG.PageUp=11]="PageUp",CG[CG.PageDown=12]="PageDown",CG[CG.End=13]="End",CG[CG.Home=14]="Home",CG[CG.LeftArrow=15]="LeftArrow",CG[CG.UpArrow=16]="UpArrow",CG[CG.RightArrow=17]="RightArrow",CG[CG.DownArrow=18]="DownArrow",CG[CG.Insert=19]="Insert",CG[CG.Delete=20]="Delete",CG[CG.Digit0=21]="Digit0",CG[CG.Digit1=22]="Digit1",CG[CG.Digit2=23]="Digit2",CG[CG.Digit3=24]="Digit3",CG[CG.Digit4=25]="Digit4",CG[CG.Digit5=26]="Digit5",CG[CG.Digit6=27]="Digit6",CG[CG.Digit7=28]="Digit7",CG[CG.Digit8=29]="Digit8",CG[CG.Digit9=30]="Digit9",CG[CG.KeyA=31]="KeyA",CG[CG.KeyB=32]="KeyB",CG[CG.KeyC=33]="KeyC",CG[CG.KeyD=34]="KeyD",CG[CG.KeyE=35]="KeyE",CG[CG.KeyF=36]="KeyF",CG[CG.KeyG=37]="KeyG",CG[CG.KeyH=38]="KeyH",CG[CG.KeyI=39]="KeyI",CG[CG.KeyJ=40]="KeyJ",CG[CG.KeyK=41]="KeyK",CG[CG.KeyL=42]="KeyL",CG[CG.KeyM=43]="KeyM",CG[CG.KeyN=44]="KeyN",CG[CG.KeyO=45]="KeyO",CG[CG.KeyP=46]="KeyP",CG[CG.KeyQ=47]="KeyQ",CG[CG.KeyR=48]="KeyR",CG[CG.KeyS=49]="KeyS",CG[CG.KeyT=50]="KeyT",CG[CG.KeyU=51]="KeyU",CG[CG.KeyV=52]="KeyV",CG[CG.KeyW=53]="KeyW",CG[CG.KeyX=54]="KeyX",CG[CG.KeyY=55]="KeyY",CG[CG.KeyZ=56]="KeyZ",CG[CG.Meta=57]="Meta",CG[CG.ContextMenu=58]="ContextMenu",CG[CG.F1=59]="F1",CG[CG.F2=60]="F2",CG[CG.F3=61]="F3",CG[CG.F4=62]="F4",CG[CG.F5=63]="F5",CG[CG.F6=64]="F6",CG[CG.F7=65]="F7",CG[CG.F8=66]="F8",CG[CG.F9=67]="F9",CG[CG.F10=68]="F10",CG[CG.F11=69]="F11",CG[CG.F12=70]="F12",CG[CG.F13=71]="F13",CG[CG.F14=72]="F14",CG[CG.F15=73]="F15",CG[CG.F16=74]="F16",CG[CG.F17=75]="F17",CG[CG.F18=76]="F18",CG[CG.F19=77]="F19",CG[CG.NumLock=78]="NumLock",CG[CG.ScrollLock=79]="ScrollLock",CG[CG.Semicolon=80]="Semicolon",CG[CG.Equal=81]="Equal",CG[CG.Comma=82]="Comma",CG[CG.Minus=83]="Minus",CG[CG.Period=84]="Period",CG[CG.Slash=85]="Slash",CG[CG.Backquote=86]="Backquote",CG[CG.BracketLeft=87]="BracketLeft",CG[CG.Backslash=88]="Backslash",CG[CG.BracketRight=89]="BracketRight",CG[CG.Quote=90]="Quote",CG[CG.OEM_8=91]="OEM_8",CG[CG.IntlBackslash=92]="IntlBackslash",CG[CG.Numpad0=93]="Numpad0",CG[CG.Numpad1=94]="Numpad1",CG[CG.Numpad2=95]="Numpad2",CG[CG.Numpad3=96]="Numpad3",CG[CG.Numpad4=97]="Numpad4",CG[CG.Numpad5=98]="Numpad5",CG[CG.Numpad6=99]="Numpad6",CG[CG.Numpad7=100]="Numpad7",CG[CG.Numpad8=101]="Numpad8",CG[CG.Numpad9=102]="Numpad9",CG[CG.NumpadMultiply=103]="NumpadMultiply",CG[CG.NumpadAdd=104]="NumpadAdd",CG[CG.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",CG[CG.NumpadSubtract=106]="NumpadSubtract",CG[CG.NumpadDecimal=107]="NumpadDecimal",CG[CG.NumpadDivide=108]="NumpadDivide",CG[CG.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",CG[CG.ABNT_C1=110]="ABNT_C1",CG[CG.ABNT_C2=111]="ABNT_C2",CG[CG.AudioVolumeMute=112]="AudioVolumeMute",CG[CG.AudioVolumeUp=113]="AudioVolumeUp",CG[CG.AudioVolumeDown=114]="AudioVolumeDown",CG[CG.BrowserSearch=115]="BrowserSearch",CG[CG.BrowserHome=116]="BrowserHome",CG[CG.BrowserBack=117]="BrowserBack",CG[CG.BrowserForward=118]="BrowserForward",CG[CG.MediaTrackNext=119]="MediaTrackNext",CG[CG.MediaTrackPrevious=120]="MediaTrackPrevious",CG[CG.MediaStop=121]="MediaStop",CG[CG.MediaPlayPause=122]="MediaPlayPause",CG[CG.LaunchMediaPlayer=123]="LaunchMediaPlayer",CG[CG.LaunchMail=124]="LaunchMail",CG[CG.LaunchApp2=125]="LaunchApp2",CG[CG.MAX_VALUE=126]="MAX_VALUE",function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(yG||(yG={})),(kG=SG||(SG={}))[kG.Unnecessary=1]="Unnecessary",kG[kG.Deprecated=2]="Deprecated",function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(xG||(xG={})),(DG=LG||(LG={}))[DG.UNKNOWN=0]="UNKNOWN",DG[DG.TEXTAREA=1]="TEXTAREA",DG[DG.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",DG[DG.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",DG[DG.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",DG[DG.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",DG[DG.CONTENT_TEXT=6]="CONTENT_TEXT",DG[DG.CONTENT_EMPTY=7]="CONTENT_EMPTY",DG[DG.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",DG[DG.CONTENT_WIDGET=9]="CONTENT_WIDGET",DG[DG.OVERVIEW_RULER=10]="OVERVIEW_RULER",DG[DG.SCROLLBAR=11]="SCROLLBAR",DG[DG.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",DG[DG.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",(NG=EG||(EG={}))[NG.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",NG[NG.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",NG[NG.TOP_CENTER=2]="TOP_CENTER",function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(IG||(IG={})),(MG=TG||(TG={}))[MG.Off=0]="Off",MG[MG.On=1]="On",MG[MG.Relative=2]="Relative",MG[MG.Interval=3]="Interval",MG[MG.Custom=4]="Custom",(RG=AG||(AG={}))[RG.None=0]="None",RG[RG.Text=1]="Text",RG[RG.Blocks=2]="Blocks",(PG=OG||(OG={}))[PG.Smooth=0]="Smooth",PG[PG.Immediate=1]="Immediate",(BG=FG||(FG={}))[BG.Auto=1]="Auto",BG[BG.Hidden=2]="Hidden",BG[BG.Visible=3]="Visible",(VG=WG||(WG={}))[VG.LTR=0]="LTR",VG[VG.RTL=1]="RTL",function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(HG||(HG={})),(UG=zG||(zG={}))[UG.File=0]="File",UG[UG.Module=1]="Module",UG[UG.Namespace=2]="Namespace",UG[UG.Package=3]="Package",UG[UG.Class=4]="Class",UG[UG.Method=5]="Method",UG[UG.Property=6]="Property",UG[UG.Field=7]="Field",UG[UG.Constructor=8]="Constructor",UG[UG.Enum=9]="Enum",UG[UG.Interface=10]="Interface",UG[UG.Function=11]="Function",UG[UG.Variable=12]="Variable",UG[UG.Constant=13]="Constant",UG[UG.String=14]="String",UG[UG.Number=15]="Number",UG[UG.Boolean=16]="Boolean",UG[UG.Array=17]="Array",UG[UG.Object=18]="Object",UG[UG.Key=19]="Key",UG[UG.Null=20]="Null",UG[UG.EnumMember=21]="EnumMember",UG[UG.Struct=22]="Struct",UG[UG.Event=23]="Event",UG[UG.Operator=24]="Operator",UG[UG.TypeParameter=25]="TypeParameter",(jG=KG||(KG={}))[jG.Deprecated=1]="Deprecated",(qG=$G||($G={}))[qG.Hidden=0]="Hidden",qG[qG.Blink=1]="Blink",qG[qG.Smooth=2]="Smooth",qG[qG.Phase=3]="Phase",qG[qG.Expand=4]="Expand",qG[qG.Solid=5]="Solid",function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(GG||(GG={})),(JG=ZG||(ZG={}))[JG.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",JG[JG.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",JG[JG.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",JG[JG.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(YG=QG||(QG={}))[YG.None=0]="None",YG[YG.Same=1]="Same",YG[YG.Indent=2]="Indent",YG[YG.DeepIndent=3]="DeepIndent";class XG{static chord(e,t){return Ke(e,t)}}function eZ(){return{editor:void 0,languages:void 0,CancellationTokenSource:dt,Emitter:X,KeyCode:wG,KeyMod:XG,Position:Rn,Range:br,Selection:vr,SelectionDirection:WG,MarkerSeverity:yG,MarkerTag:SG,Uri:Yt,Token:Rh}}XG.CtrlCmd=2048,XG.Shift=1024,XG.Alt=512,XG.WinCtrl=256;var tZ,iZ;(iZ=tZ||(tZ={}))[iZ.API=0]="API",iZ[iZ.USER=1]="USER";var nZ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},oZ=function(e,t){return function(i,n){t(i,n,e)}},sZ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let rZ=class{constructor(e){this._commandService=e}open(e,t){return sZ(this,void 0,void 0,(function*(){if(!NP(e,di.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=Yt.parse(e));let i=[];try{i=SP(decodeURIComponent(e.query))}catch(n){try{i=SP(e.query)}catch(o){}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0}))}};rZ=nZ([oZ(0,Jn)],rZ);let aZ=class{constructor(e){this._editorService=e}open(e,t){return sZ(this,void 0,void 0,(function*(){let i;"string"==typeof e&&(e=Yt.parse(e));const n=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1},e=e.with({fragment:""})),e.scheme===di.file&&(e=Ja(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:(null==t?void 0:t.fromUserGesture)?tZ.USER:tZ.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};aZ=nZ([oZ(0,An)],aZ);let lZ=class{constructor(e,t){this._openers=new S,this._validators=new S,this._resolvers=new S,this._resolvedUriTargets=new Gd((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new S,this._defaultExternalOpener={openExternal:e=>sZ(this,void 0,void 0,(function*(){return NP(e,di.http)||NP(e,di.https)?pn(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>sZ(this,void 0,void 0,(function*(){return!!((null==t?void 0:t.openExternal)||NP(e,di.mailto)||NP(e,di.http)||NP(e,di.https))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new rZ(t)),this._openers.push(new aZ(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return sZ(this,void 0,void 0,(function*(){const n="string"==typeof e?Yt.parse(e):e,o=null!==(i=this._resolvedUriTargets.get(n))&&void 0!==i?i:e;for(const e of this._validators)if(!(yield e.shouldOpen(o)))return!1;for(const i of this._openers){if(yield i.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return sZ(this,void 0,void 0,(function*(){for(const n of this._resolvers)try{const i=yield n.resolveExternalUri(e,t);if(i)return this._resolvedUriTargets.has(i.resolved)||this._resolvedUriTargets.set(i.resolved,e),i}catch(i){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return sZ(this,void 0,void 0,(function*(){const i="string"==typeof e?Yt.parse(e):e;let n,o;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch(s){n=i}if(o="string"==typeof e&&i.toString()===n.toString()?e:encodeURI(n.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(yield t.openExternal(o,{sourceUri:i,preferredOpenerId:e},rt.None))return!0}}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},rt.None)}))}dispose(){this._validators.clear()}};lZ=nZ([oZ(0,An),oZ(1,Jn)],lZ);let dZ=!1;function cZ(e){H&&(dZ||(dZ=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class hZ{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}}class uZ{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class gZ{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}}class mZ{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class pZ{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class fZ{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise(((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new hZ(this._workerId,i,e,t))}))}listen(e,t){let i=null;const n=new X({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new gZ(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new pZ(this._workerId,i)),i=null}});return n.event}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;return e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),void t.reject(i)}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then((e=>{this._send(new uZ(this._workerId,t,e,void 0))}),(e=>{e.detail instanceof Error&&(e.detail=s(e.detail)),this._send(new uZ(this._workerId,t,void 0,s(e)))}))}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)((e=>{this._send(new mZ(this._workerId,t,e))}));this._pendingEvents.set(t,i)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){let t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class _Z extends v{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",(e=>{this._protocol.handleMessage(e)}),(e=>{n&&n(e)}))),this._protocol=new fZ({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(G1){return Promise.reject(G1)}},handleEvent:(e,t)=>{if(vZ(e)){const n=i[e].call(i,t);if("function"!=typeof n)throw new Error(`Missing dynamic event ${e} on main thread host.`);return n}if(bZ(e)){const t=i[e];if("function"!=typeof t)throw new Error(`Missing event ${e} on main thread host.`);return t}throw new Error(`Malformed event name ${e}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;void 0!==R.require&&"function"==typeof R.require.getConfig?o=R.require.getConfig():void 0!==R.requirejs&&(o=R.requirejs.s.contexts._.config);const s=Ee(i);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,s]);const r=(e,t)=>this._request(e,t),a=(e,t)=>this._protocol.listen(e,t);this._lazyProxy=new Promise(((e,i)=>{n=i,this._onModuleLoaded.then((t=>{e(function(e,t,i){const n=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},o=e=>function(t){return i(e,t)};let s={};for(const r of e)vZ(r)?s[r]=o(r):bZ(r)?s[r]=i(r,void 0):s[r]=n(r);return s}(t,r,a))}),(e=>{i(e),this._onError("Worker failed to load "+t,e)}))}))}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise(((i,n)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(e,t).then(i,n)}),n)}))}_onError(e,t){console.error(e),console.info(t)}}function bZ(e){return"o"===e[0]&&"n"===e[1]&&bo(e.charCodeAt(2))}function vZ(e){return/^onDynamic/.test(e)&&bo(e.charCodeAt(9))}var wZ;const CZ=null===(wZ=window.trustedTypes)||void 0===wZ?void 0:wZ.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class yZ{constructor(e,t,i,n,o){this.id=t;const s=function(e,t){if(R.MonacoEnvironment){if("function"==typeof R.MonacoEnvironment.getWorker)return R.MonacoEnvironment.getWorker(e,t);if("function"==typeof R.MonacoEnvironment.getWorkerUrl){const i=R.MonacoEnvironment.getWorkerUrl(e,t);return new Worker(CZ?CZ.createScriptURL(i):i,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",i);"function"==typeof s.then?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)}))}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then((i=>i.postMessage(e,t)))}dispose(){this.worker&&this.worker.then((e=>e.terminate())),this.worker=null}}class SZ{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++SZ.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new yZ(e,n,this._label||"anonymous"+n,t,(e=>{cZ(e),this._webWorkerFailedBeforeError=e,i(e)}))}}SZ.LAST_WORKER_ID=0;function kZ(e,t,i,n){return new UT(e,t,i).ComputeDiff(n)}class xZ{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=IZ(e[n],1),i[n]=TZ(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],s=[];let r=0;for(let a=t;a<=i;a++){const t=this.lines[a],i=e?this._startColumns[a]:1,l=e?this._endColumns[a]:t.length+1;for(let e=i;e<l;e++)n[r]=t.charCodeAt(e-1),o[r]=a+1,s[r]=e,r++}return new LZ(n,o,s)}}class LZ{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class DZ{constructor(e,t,i,n,o,s,r,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=r,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){let n,o,s,r,a,l,d,c;return 0===e.originalLength?(n=0,o=0,s=0,r=0):(n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),r=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(a=0,l=0,d=0,c=0):(a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),c=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new DZ(n,o,s,r,a,l,d,c)}}class EZ{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,s,r){let a,l,d,c,h;if(0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,l=0):(a=i.getStartLineNumber(t.originalStart),l=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(d=n.getStartLineNumber(t.modifiedStart)-1,c=0):(d=n.getStartLineNumber(t.modifiedStart),c=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const s=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let l=kZ(s,a,o,!0).changes;r&&(l=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let n=1,o=e.length;n<o;n++){const o=e[n],s=o.originalStart-(i.originalStart+i.originalLength),r=o.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(s,r)<3?(i.originalLength=o.originalStart+o.originalLength-i.originalStart,i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart):(t.push(o),i=o)}return t}(l)),h=[];for(let e=0,t=l.length;e<t;e++)h.push(DZ.createFromDiffChange(l[e],s,a))}return new EZ(a,l,d,c,h)}}class NZ{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new xZ(e),this.modified=new xZ(t),this.continueLineDiff=MZ(i.maxComputationTime),this.continueCharDiff=MZ(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=kZ(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let i=0,n=t.length;i<n;i++)e.push(EZ.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:e}}const n=[];let o=0,s=0;for(let r=-1,a=t.length;r<a;r++){const e=r+1<a?t[r+1]:null,i=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;for(;o<i&&s<l;){const e=this.originalLines[o],t=this.modifiedLines[s];if(e!==t){{let i=IZ(e,1),r=IZ(t,1);for(;i>1&&r>1;){if(e.charCodeAt(i-2)!==t.charCodeAt(r-2))break;i--,r--}(i>1||r>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,i,s+1,1,r)}{let i=TZ(e,1),r=TZ(t,1);const a=e.length+1,l=t.length+1;for(;i<a&&r<l;){if(e.charCodeAt(i-1)!==e.charCodeAt(r-1))break;i++,r++}(i<a||r<l)&&this._pushTrimWhitespaceCharChange(n,o+1,i,a,s+1,r,l)}}o++,s++}e&&(n.push(EZ.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=e.originalLength,s+=e.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,s,r){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r))return;let a;this.shouldComputeCharChanges&&(a=[new DZ(t,i,t,n,o,s,o,r)]),e.push(new EZ(t,t,o,o,a))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new DZ(t,i,t,n,o,s,o,r)),!0))}}function IZ(e,t){const i=co(e);return-1===i?t:i+1}function TZ(e,t){const i=uo(e);return-1===i?t:i+2}function MZ(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}class AZ{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class RZ{constructor(e){let t=0,i=0;for(let o=0,s=e.length;o<s;o++){let[n,s,r]=e[o];s>t&&(t=s),n>i&&(i=n),r>i&&(i=r)}t++,i++;let n=new AZ(i,t,0);for(let o=0,s=e.length;o<s;o++){let[t,i,s]=e[o];n.set(t,i,s)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let OZ=null;let PZ=null;class FZ{static _createLink(e,t,i,n,o){let s=o-1;do{const i=t.charCodeAt(s);if(2!==e.get(i))break;s--}while(s>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(s);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&s--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:s+2},url:t.substring(n,s+1)}}static computeLinks(e,t=function(){return null===OZ&&(OZ=new RZ([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),OZ}()){const i=function(){if(null===PZ){PZ=new $l(0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let i=0;i<e.length;i++)PZ.set(e.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)PZ.set(t.charCodeAt(i),2)}return PZ}();let n=[];for(let o=1,s=e.getLineCount();o<=s;o++){const s=e.getLineContent(o),r=s.length;let a=0,l=0,d=0,c=1,h=!1,u=!1,g=!1,m=!1;for(;a<r;){let e=!1;const r=s.charCodeAt(a);if(13===c){let t;switch(r){case 40:h=!0,t=0;break;case 41:t=h?0:1;break;case 91:g=!0,u=!0,t=0;break;case 93:g=!1,t=u?0:1;break;case 123:m=!0,t=0;break;case 125:t=m?0:1;break;case 39:t=34===d||96===d?0:1;break;case 34:t=39===d||96===d?0:1;break;case 96:t=39===d||34===d?0:1;break;case 42:t=42===d?1:0;break;case 124:t=124===d?1:0;break;case 32:t=g?0:1;break;default:t=i.get(r)}1===t&&(n.push(FZ._createLink(i,s,o,l,a)),e=!0)}else if(12===c){let t;91===r?(u=!0,t=0):t=i.get(r),1===t?e=!0:c=13}else c=t.nextState(c,r),0===c&&(e=!0);e&&(c=1,h=!1,u=!1,m=!1,l=a+1,d=r),a++}13===c&&n.push(FZ._createLink(i,s,o,l,r))}return n}}class BZ{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){let i=this.doNavigateValueSet(t,o);if(i)return{range:e,value:i}}if(i&&n){let e=this.doNavigateValueSet(n,o);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),o=parseFloat(e);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,s=e.length;null===n&&o<s;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}BZ.INSTANCE=new BZ;var WZ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class VZ extends class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Rn(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new Sk(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;let i=lo(t);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=Sr(e.column,Cr(t),this._lines[e.lineNumber-1],0);return i?new br(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",s=0,r=[];return{*[Symbol.iterator](){for(;;)if(s<r.length){const e=o.substring(r[s].start,r[s].end);s+=1,yield e}else{if(!(n<t.length))break;o=t[n],r=i(o,e),s=0,n+=1}}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(const s of n)o.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<n;s++)o.push(this._lines[s]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Rn.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class HZ{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach((t=>e.push(this._models[t]))),e}acceptNewModel(e){this._models[e.url]=new VZ(Yt.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,n){return WZ(this,void 0,void 0,(function*(){const o=this._getModel(e),s=this._getModel(t);if(!o||!s)return null;const r=o.getLinesContent(),a=s.getLinesContent(),l=new NZ(r,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),d=!(l.changes.length>0)&&this._modelsAreIdentical(o,s);return{quitEarly:l.quitEarly,identical:d,changes:l.changes}}))}_modelsAreIdentical(e,t){const i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++){if(e.getLineContent(n)!==t.getLineContent(n))return!1}return!0}computeMoreMinimalEdits(e,t){return WZ(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const n=[];let o;t=t.slice(0).sort(((e,t)=>{if(e.range&&t.range)return br.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)}));for(let{range:e,text:s,eol:r}of t){if("number"==typeof r&&(o=r),br.isEmpty(e)&&!s)continue;const t=i.getValueInRange(e);if(s=s.replace(/\r\n|\n|\r/g,i.eol),t===s)continue;if(Math.max(s.length,t.length)>HZ._diffLimit){n.push({range:e,text:s});continue}const a=WT(t,s,!1),l=i.offsetAt(br.lift(e).getStartPosition());for(const e of a){const t=i.positionAt(l+e.originalStart),o=i.positionAt(l+e.originalStart+e.originalLength),r={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:o.lineNumber,endColumn:o.column}};i.getValueInRange(r.range)!==r.text&&n.push(r)}}return"number"==typeof o&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n}))}computeLinks(e){return WZ(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?FZ.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,i,n){return WZ(this,void 0,void 0,(function*(){const o=new J(!0),s=new RegExp(i,n),r=new Set;e:for(let i of e){const e=this._getModel(i);if(e)for(let i of e.words(s))if(i!==t&&isNaN(Number(i))&&(r.add(i),r.size>HZ._suggestionsLimit))break e}return{words:Array.from(r),duration:o.elapsed()}}))}computeWordRanges(e,t,i,n){return WZ(this,void 0,void 0,(function*(){let o=this._getModel(e);if(!o)return Object.create(null);const s=new RegExp(i,n),r=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=o.getLineWords(e,s);for(const i of t){if(!isNaN(Number(i.word)))continue;let t=r[i.word];t||(t=[],r[i.word]=t),t.push({startLineNumber:e,startColumn:i.startColumn,endLineNumber:e,endColumn:i.endColumn})}}return r}))}navigateValueSet(e,t,i,n,o){return WZ(this,void 0,void 0,(function*(){let s=this._getModel(e);if(!s)return null;let r=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},r);if(!l)return null;let d=s.getValueInRange(l);return BZ.INSTANCE.navigateValueSet(t,a,l,d,i)}))}loadForeignModule(e,t,i){let n={host:function(e,t){const i=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let n={};for(const o of e)n[o]=i(o);return n}(i,((e,t)=>this._host.fhr(e,t))),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(n,t),Promise.resolve(Ee(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(G1){return Promise.reject(G1)}}}HZ._diffLimit=1e5,HZ._suggestionsLimit=1e4,"function"==typeof importScripts&&(R.monaco=eZ());var zZ=function(e,t){return function(i,n){t(i,n,e)}},UZ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function KZ(e,t){let i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let jZ=class extends v{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new qZ(this._modelService)),this._logService=i,this._register(ih.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>KZ(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(Wc.register("*",new $Z(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}computeDiff(e,t,i,n){return this._workerManager.withWorker().then((o=>o.computeDiff(e,t,i,n)))}computeMoreMinimalEdits(e,t){if(vd(t)){if(!KZ(this._modelService,e))return Promise.resolve(t);const i=J.create(!0),n=this._workerManager.withWorker().then((i=>i.computeMoreMinimalEdits(e,t)));return n.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed()))),Promise.race([n,ft(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return KZ(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then((n=>n.navigateValueSet(e,t,i)))}canComputeWordRanges(e){return KZ(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((i=>i.computeWordRanges(e,t)))}};jZ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([zZ(0,On),zZ(1,fj),zZ(2,$s)],jZ);class $Z{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return UZ(this,void 0,void 0,(function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const n=[];if("currentDocument"===i.wordBasedSuggestionsMode)KZ(this._modelService,e.uri)&&n.push(e.uri);else for(const t of this._modelService.getModels())KZ(this._modelService,t.uri)&&(t===e?n.unshift(t.uri):"allDocuments"!==i.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||n.push(t.uri));if(0===n.length)return;const o=Uu.getWordDefinition(e.getLanguageId()),s=e.getWordAtPosition(t),r=s?new br(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):br.fromPositions(t),a=r.setEndPosition(t.lineNumber,t.column),l=yield this._workerManager.withWorker(),d=yield l.textualSuggest(n,null==s?void 0:s.word,o);return d?{duration:d.duration,suggestions:d.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:r}})))}:void 0}))}}class qZ extends v{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new wt).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new QZ(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class GZ extends v{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new wt;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)p(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){let e=i.toString();this._syncedModels[e]||this._beginModelSync(i,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i)}for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){let i=this._modelService.getModel(e);if(!i)return;if(!t&&i.isTooLargeForSyncing())return;let n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const o=new b;o.add(i.onDidChangeContent((e=>{this._proxy.acceptModelChanged(n.toString(),e)}))),o.add(i.onWillDispose((()=>{this._stopModelSync(n)}))),o.add(_((()=>{this._proxy.acceptRemovedModel(n)}))),this._syncedModels[n]=o}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],p(t)}}class ZZ{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class JZ{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class QZ extends v{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new SZ(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new _Z(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new JZ(this)))}catch(e){cZ(e),this._worker=new ZZ(new HZ(new JZ(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(cZ(e),this._worker=new ZZ(new HZ(new JZ(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new GZ(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return UZ(this,void 0,void 0,(function*(){return this._disposed?Promise.reject(a()):this._getProxy().then((i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i)))}))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then((o=>o.computeDiff(e.toString(),t.toString(),i,n)))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then((i=>i.computeMoreMinimalEdits(e.toString(),t)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}textualSuggest(e,t,i){return UZ(this,void 0,void 0,(function*(){const n=yield this._withSyncedResources(e),o=i.source,s=ao(i);return n.textualSuggest(e.map((e=>e.toString())),t,o,s)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let o=Uu.getWordDefinition(n.getLanguageId()),s=o.source,r=ao(o);return i.computeWordRanges(e.toString(),t,s,r)}))}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then((n=>{let o=this._modelService.getModel(e);if(!o)return null;let s=Uu.getWordDefinition(o.getLanguageId()),r=s.source,a=ao(s);return n.navigateValueSet(e.toString(),t,i,r,a)}))}dispose(){super.dispose(),this._disposed=!0}}class YZ extends QZ{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(G1){return Promise.reject(G1)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?Ee(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let o={};for(const e of t)o[e]=n(e,i);return o}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}function XZ(e){return!function(e){return Array.isArray(e)}(e)}function eJ(e){return"string"==typeof e}function tJ(e){return!eJ(e)}function iJ(e){return!e}function nJ(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function oJ(e){return e.replace(/[&<>'"_]/g,"-")}function sJ(e,t){return new Error(`${e.languageId}: ${t}`)}function rJ(e,t,i,n,o){let s=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,r,a,l,d,c,h,u,g){return iJ(a)?iJ(l)?!iJ(d)&&d<n.length?nJ(e,n[d]):!iJ(h)&&e&&"string"==typeof e[h]?e[h]:(null===s&&(s=o.split("."),s.unshift(o)),!iJ(c)&&c<s.length?nJ(e,s[c]):""):nJ(e,i):"$"}))}function aJ(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null}class lJ{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new dJ(e,t);let i=dJ.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new dJ(e,t),this._entries[i]=n,n)}}lJ._INSTANCE=new lJ(5);class dJ{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return dJ._equals(this,e)}push(e){return lJ.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return lJ.create(this.parent,e)}}class cJ{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new cJ(this.languageId,this.state)}}class hJ{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new uJ(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new uJ(e,t);let i=dJ.getStackElementId(e),n=this._entries[i];return n||(n=new uJ(e,null),this._entries[i]=n,n)}}hJ._INSTANCE=new hJ(5);class uJ{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:hJ.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof uJ&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class gJ{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._languageId=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new Rh(e,t,this._languageId)))}nestedModeTokenize(e,t,i,n){const o=i.languageId,s=i.state,r=lh.get(o);if(!r)return this.enterMode(n,o),this.emit(n,""),s;let a=r.tokenize(e,t,s,n);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,a.endState}finalize(e){return new Oh(this._tokens,e)}}class mJ{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(t)}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=null!==e?e.length:0,o=t.length,s=null!==i?i.length:0;if(0===n&&0===o&&0===s)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===s)return e;let r=new Uint32Array(n+o+s);null!==e&&r.set(e);for(let a=0;a<o;a++)r[n+a]=t[a];return null!==i&&r.set(i,n+o),r}nestedModeTokenize(e,t,i,n){const o=i.languageId,s=i.state,r=lh.get(o);if(!r)return this.enterMode(n,o),this.emit(n,""),s;let a=r.tokenize2(e,t,s,n);return this._prependTokens=mJ._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new Ph(mJ._merge(this._prependTokens,this._tokens,null),e)}}class pJ{constructor(e,t,i,n){this._modeService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=lh.onDidChange((e=>{if(o)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){let n=e.changedLanguages[i];if(this._embeddedModes[n]){t=!0;break}}t&&(o=!0,lh.fire([this._languageId]),o=!1)}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const i=lh.get(t);if(i){if(i instanceof pJ){const t=i.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const n=lh.getPromise(t);n&&e.push(n)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then((e=>{}))}}getInitialState(){let e=lJ.create(null,this._lexer.start);return hJ.create(e,null)}tokenize(e,t,i,n){let o=new gJ,s=this._tokenize(e,t,i,n,o);return o.finalize(s)}tokenize2(e,t,i,n){let o=new mJ(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,n,o);return o.finalize(s)}_tokenize(e,t,i,n,o){return i.embeddedModeData?this._nestedTokenize(e,t,i,n,o):this._myTokenize(e,t,i,n,o)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=aJ(this._lexer,t.stack.state),!i))throw sJ(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const s of i){if(!tJ(s.action)||"@pop"!==s.action.nextEmbedded)continue;o=!0;let t=s.regex,i=s.regex.source;if("^(?:"===i.substr(0,4)&&")"===i.substr(i.length-1,1)){let e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(i.substr(4,i.length-5),e)}let r=e.search(t);-1===r||0!==r&&s.matchOnlyAtLineStart||(-1===n||r<n)&&(n=r)}if(!o)throw sJ(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){let s=this._findLeavingNestedModeOffset(e,i);if(-1===s){let s=o.nestedModeTokenize(e,t,i.embeddedModeData,n);return hJ.create(i.stack,new cJ(i.embeddedModeData.languageId,s))}let r=e.substring(0,s);r.length>0&&o.nestedModeTokenize(r,!1,i.embeddedModeData,n);let a=e.substring(s);return this._myTokenize(a,t,i,n+s,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterMode(n,this._languageId);const s=e.length,r=t&&this._lexer.includeLF?e+"\n":e,a=r.length;let l=i.embeddedModeData,d=i.stack,c=0,h=null,u=!0;for(;u||c<a;){const i=c,p=d.depth,f=h?h.groups.length:0,_=d.state;let b=null,v=null,w=null,C=null,y=null;if(h){b=h.matches;const e=h.groups.shift();v=e.matched,w=e.action,C=h.rule,0===h.groups.length&&(h=null)}else{if(!u&&c>=a)break;u=!1;let e=this._lexer.tokenizer[_];if(!e&&(e=aJ(this._lexer,_),!e))throw sJ(this._lexer,"tokenizer state is not defined: "+_);let t=r.substr(c);for(const i of e)if((0===c||!i.matchOnlyAtLineStart)&&(b=t.match(i.regex),b)){v=b[0],w=i.action;break}}if(b||(b=[""],v=""),w||(c<a&&(b=[r.charAt(c)],v=b[0]),w=this._lexer.defaultToken),null===v)break;for(c+=v.length;XZ(w)&&tJ(w)&&w.test;)w=w.test(v,b,_,c===a);let S=null;if("string"==typeof w||Array.isArray(w))S=w;else if(w.group)S=w.group;else if(null!==w.token&&void 0!==w.token){if(S=w.tokenSubst?rJ(this._lexer,w.token,v,b,_):w.token,w.nextEmbedded)if("@pop"===w.nextEmbedded){if(!l)throw sJ(this._lexer,"cannot pop embedded mode if not inside one");l=null}else{if(l)throw sJ(this._lexer,"cannot enter embedded mode from within an embedded mode");y=rJ(this._lexer,w.nextEmbedded,v,b,_)}if(w.goBack&&(c=Math.max(0,c-w.goBack)),w.switchTo&&"string"==typeof w.switchTo){let e=rJ(this._lexer,w.switchTo,v,b,_);if("@"===e[0]&&(e=e.substr(1)),!aJ(this._lexer,e))throw sJ(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(C));d=d.switchTo(e)}else{if(w.transform&&"function"==typeof w.transform)throw sJ(this._lexer,"action.transform not supported");if(w.next)if("@push"===w.next){if(d.depth>=this._lexer.maxStack)throw sJ(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(_)}else if("@pop"===w.next){if(d.depth<=1)throw sJ(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(C));d=d.pop()}else if("@popall"===w.next)d=d.popall();else{let e=rJ(this._lexer,w.next,v,b,_);if("@"===e[0]&&(e=e.substr(1)),!aJ(this._lexer,e))throw sJ(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(C));d=d.push(e)}}w.log&&"string"==typeof w.log&&(g=this._lexer,m=this._lexer.languageId+": "+rJ(this._lexer,w.log,v,b,_),console.log(`${g.languageId}: ${m}`))}if(null===S)throw sJ(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(C));const k=i=>{let s=this._modeService.getModeIdForLanguageName(i);s&&(i=s);const r=this._getNestedEmbeddedModeData(i);if(c<a){const i=e.substr(c);return this._nestedTokenize(i,t,hJ.create(d,r),n+c,o)}return hJ.create(d,r)};if(Array.isArray(S)){if(h&&h.groups.length>0)throw sJ(this._lexer,"groups cannot be nested: "+this._safeRuleName(C));if(b.length!==S.length+1)throw sJ(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(C));let e=0;for(let t=1;t<b.length;t++)e+=b[t].length;if(e!==v.length)throw sJ(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(C));h={rule:C,matches:b,groups:[]};for(let t=0;t<S.length;t++)h.groups[t]={action:S[t],matched:b[t+1]};c-=v.length}else{{if("@rematch"===S&&(c-=v.length,v="",b=null,S="",null!==y))return k(y);if(0===v.length){if(0===a||p!==d.depth||_!==d.state||(h?h.groups.length:0)!==f)continue;throw sJ(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(C))}let e=null;if(eJ(S)&&0===S.indexOf("@brackets")){let t=S.substr("@brackets".length),i=fJ(this._lexer,v);if(!i)throw sJ(this._lexer,"@brackets token returned but no bracket defined as: "+v);e=oJ(i.token+t)}else{e=oJ(""===S?"":S+this._lexer.tokenPostfix)}i<s&&o.emit(i+n,e)}if(null!==y)return k(y)}}var g,m;return hJ.create(d,l)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=lh.get(t);if(e)return new cJ(t,e.getInitialState())}return new cJ(t||Bh,Fh)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._languageId)return e;const t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function fJ(e,t){if(!t)return null;t=nJ(e,t);let i=e.brackets;for(const n of i){if(n.open===t)return{token:n.token,bracketType:1};if(n.close===t)return{token:n.token,bracketType:-1}}return null}var _J;const bJ=null===(_J=window.trustedTypes)||void 0===_J?void 0:_J.createPolicy("standaloneColorizer",{createHTML:e=>e});class vJ{static colorizeElement(e,t,i,n){let o=(n=n||{}).theme||"vs",s=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);let r=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;return this.colorize(t,r||"",s,n).then((e=>{var t;const n=null!==(t=null==bJ?void 0:bJ.createHTML(e))&&void 0!==t?t:e;i.innerHTML=n}),(e=>console.error(e)))}static colorize(e,t,i,n){const o=e.languageIdCodec;let s=4;n&&"number"==typeof n.tabSize&&(s=n.tabSize),Wo(t)&&(t=t.substr(1));let r=lo(t),a=e.getModeId(i);if(!a)return Promise.resolve(CJ(r,s,o));e.triggerMode(a);const l=lh.get(a);if(l)return wJ(r,s,l,o);const d=lh.getPromise(a);return new Promise(d?(e,t)=>{d.then((i=>{wJ(r,s,i,o).then(e,t)}),t)}:(e,t)=>{let i=null,n=null;const l=()=>{i&&(i.dispose(),i=null),n&&(n.dispose(),n=null);const l=lh.get(a);l?wJ(r,s,l,o).then(e,t):e(CJ(r,s,o))};n=new vt,n.cancelAndSet(l,500),i=lh.onDidChange((e=>{e.changedLanguages.indexOf(a)>=0&&l()}))})}static colorizeLine(e,t,i,n,o=4){const s=Ky.isBasicASCII(e,t),r=Ky.containsRTL(e,s,i);return Ow(new Nw(!1,!0,e,!1,s,r,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.forceTokenization(t);let o=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function wJ(e,t,i,n){return new Promise(((o,s)=>{const r=()=>{const a=function(e,t,i,n){let o=[],s=i.getInitialState();for(let r=0,a=e.length;r<a;r++){let a=e[r],l=i.tokenize2(a,!0,s,0);dh.convertToEndOffset(l.tokens,a.length);let d=new dh(l.tokens,a,n);const c=Ky.isBasicASCII(a,!0),h=Ky.containsRTL(a,c,!0);let u=Ow(new Nw(!1,!0,a,!1,c,h,0,d.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(u.html),o.push("<br/>"),s=l.endState}return o.join("")}(e,t,i,n);if(i instanceof pJ){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(r,s)}o(a)};r()}))}function CJ(e,t,i){let n=[];const o=new Uint32Array(2);o[0]=0,o[1]=16793600;for(let s=0,r=e.length;s<r;s++){let r=e[s];o[0]=r.length;const a=new dh(o,r,i),l=Ky.isBasicASCII(r,!0),d=Ky.containsRTL(r,l,!0);let c=Ow(new Nw(!1,!0,r,!1,l,d,0,a,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(c.html),n.push("<br/>")}return n.join("")}class yJ{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?function(e,t,i){const n=function(e,t){let i=e;for(const n of t){if("object"!=typeof i||null===i)return;i=i[n]}return i}(e,t.split("."));return void 0===n?i:n}(this.contents,e):this.contents}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=Xr(this.contents),i=Xr(this.overrides),n=[...this.keys];for(const o of e){this.mergeContents(t,o.contents);for(const e of o.overrides){const[t]=i.filter((t=>ud(t.identifiers,e.identifiers)));t?this.mergeContents(t.contents,e.contents):i.push(Xr(e))}for(const e of o.keys)-1===n.indexOf(e)&&n.push(e)}return new yJ(t,n,i)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const n of wd([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[n],o=t[n];o&&("object"==typeof e&&"object"==typeof o?(e=Xr(e),this.mergeContents(e,o)):e=o),i[n]=e}return new yJ(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&be(e[i])&&be(t[i])?this.mergeContents(e[i],t[i]):e[i]=Xr(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const i in e)if(ea.call(e,i)){const n=e[i];"object"!=typeof n||Object.isFrozen(n)||t.push(n)}}return e}(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),Nu(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&Iu(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class SJ extends yJ{constructor(){const e=function(){const e=Object.create(null),t=Ss.as(pu).getConfigurationProperties();for(let i in t)Nu(e,i,t[i].default,(e=>console.error(`Conflict in default settings: ${e}`)));return e}(),t=function(){const e=Ss.as(pu).getConfigurationProperties();return Object.keys(e)}(),i=[];for(const n of Object.keys(e))Su.test(n)&&i.push({identifiers:[ku(n).trim()],keys:Object.keys(e[n]),contents:Eu(e[n],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(e,t,i)}}class kJ{constructor(e,t,i=new yJ,n=new yJ,o=new Gd,s=new yJ,r=new Gd,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=o,this._memoryConfiguration=s,this._memoryConfigurationByResource=r,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Gd,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new yJ,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),o=e.folders.reduce(((e,t)=>(e.set(Yt.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new Gd);return new kJ(t,i,new yJ,n,o,new yJ,new Gd,!1)}static parseConfigurationModel(e){return new yJ(e.contents,e.keys,e.overrides).freeze()}}class xJ{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach((e=>o.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>o.add(e))))),this.affectedKeys=[...o.values()];const s=new yJ;this.affectedKeys.forEach((e=>s.setValue(e,{}))),this.affectedKeysTree=s.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=kJ.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){return!oa(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=Eu({[t]:!0},(()=>{}));for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}const LJ=/^(cursor|delete)/;class DJ extends v{constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new X),this._currentChord=null,this._currentChordChecker=new wt,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=EJ.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new vt,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Q.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return null;const o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,s,n)}_enterChordMode(e,i){this._currentChord={keypress:e,label:i},this._currentChordStatusMessage=this._notificationService.status(t("vs/platform/keybinding/common/abstractKeybindingService","first.chord","({0}) was pressed. Waiting for second key of chord...",i));const n=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-n>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=EJ.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=EJ.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new EJ(o),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,i,n=!1){let o=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let s=null,r=null;if(n){const[t]=e.getSingleModifierDispatchParts();s=t,r=t}else[s]=e.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(null===s)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),o;const a=this._contextKeyService.getContext(i),l=e.getLabel(),d=this._getResolver().resolve(a,r,s);return this._logService.trace("KeybindingService#dispatch",l,null==d?void 0:d.commandId),d&&d.enterChord?(o=!0,this._enterChordMode(s,l),o):(this._currentChord&&(d&&d.commandId||(this._notificationService.status(t("vs/platform/keybinding/common/abstractKeybindingService","missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:1e4}),o=!0)),this._leaveChordMode(),d&&d.commandId&&(d.bubble||(o=!0),void 0===d.commandArgs?this._commandService.executeCommand(d.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(d.commandId,d.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),LJ.test(d.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:"keybinding"})),o)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class EJ{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}EJ.EMPTY=new EJ(null);class NJ{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n=0,o=e.length;n<o;n++){const t=e[n].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=NJ.combine(e,t);for(let n=0,o=this._keybindings.length;n<o;n++){let e=this._keybindings[n];0!==e.keypressParts.length&&(e.when&&0===e.when.type||this._addKeyPress(e.keypressParts[0],e))}}static _isTargetedForRemoval(e,t,i,n,o){if(e.command!==n)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(o){if(!e.when)return!1;if(!function(e,t){const i=e?e.substituteConstants():void 0,n=t?t.substituteConstants():void 0;return!i&&!n||!(!i||!n)&&i.equals(n)}(o,e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let i=[];for(const n of t){if(!n.command||0===n.command.length||"-"!==n.command.charAt(0)){i.push(n);continue}const t=n.command.substr(1),o=n.keypressParts[0],s=n.keypressParts[1],r=n.when;for(let i=e.length-1;i>=0;i--)this._isTargetedForRemoval(e[i],o,s,t,r)&&e.splice(i,1)}return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let n=i.length-1;n>=0;n--){let e=i[n];if(e.command===t.command)continue;const o=e.keypressParts.length>1,s=t.keypressParts.length>1;o&&s&&e.keypressParts[1]!==t.keypressParts[1]||NJ.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&ws(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let n=i.length-1;n>=0;n--){const e=i[n];if(t.contextMatchesRules(e.when))return e}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,o=e.length;t<o;t++){let o=e[t];o.keypressParts[1]===i&&n.push(o)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}let o=this._findCommand(e,n);return o?null===t&&o.keypressParts.length>1&&null!==o.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${IJ(o.when)}, source: ${TJ(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${IJ(o.when)}, source: ${TJ(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(NJ.contextMatchesRules(e,n.when))return n}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function IJ(e){return e?`${e.serialize()}`:"no when condition"}function TJ(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}class MJ{constructor(e,t,i,n,o,s,r){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?AJ(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=AJ(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=s,this.isBuiltinExtension=r}}function AJ(e){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}class RJ extends class extends class{}{constructor(e,t){if(super(),0===t.length)throw l("parts");this._os=e,this._parts=t}getLabel(){return ZN.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return JN.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:QN.toLabel(this._os,this._parts,(e=>this._getElectronAccelerator(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new Ze(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return ze.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":ze.toString(e.keyCode)}_getElectronAccelerator(e){return ze.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return RJ.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=ze.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=Ve[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof qe)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new qe(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const i=AJ(e.map((e=>this._resolveSimpleUserBinding(e))));return i.length>0?[new RJ(new Ge(i),t)]:[]}}var OJ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},PJ=function(e,t){return function(i,n){t(i,n,e)}},FJ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class BJ{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new X}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let WJ=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;var i,n,o;return this.editor&&(i=this.editor,n=t=>this.findModel(t,e),o=t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e),t=NI(i)?n(i):o(i)),t?Promise.resolve(new C(new BJ(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};WJ=OJ([PJ(0,On)],WJ);class VJ{show(){return VJ.NULL_PROGRESS_RUNNER}showWhile(e,t){return FJ(this,void 0,void 0,(function*(){yield e}))}}VJ.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class HJ{confirm(e){return this.doConfirm(e).then((e=>({confirmed:e,checkboxChecked:!1})))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}class zJ{info(e){return this.notify({severity:jk.Info,message:e})}warn(e){return this.notify({severity:jk.Warning,message:e})}error(e){return this.notify({severity:jk.Error,message:e})}notify(e){switch(e.severity){case jk.Error:console.error(e.message);break;case jk.Warning:console.warn(e.message);break;default:console.log(e.message)}return zJ.NO_OP}status(e,t){return v.None}}zJ.NO_OP=new class{};class UJ{constructor(e){this._onWillExecuteCommand=new X,this._onDidExecuteCommand=new X,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Qn.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}}class KJ extends DJ{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(_i(s,en.KEY_DOWN,(e=>{const t=new Ye(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),this._register(_i(window,en.KEY_UP,(e=>{const t=new Ye(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()})))}addDynamicKeybinding(e,t,i,n){const o=je(t,j),s=new b;return o&&(this._dynamicKeybindings.push({keybinding:o.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),s.add(_((()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}})))),s.add(Qn.registerCommand(e,i)),this.updateResolver({source:1}),s}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(Us.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new NJ(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(const o of e){const e=o.when||void 0,s=o.keybinding;if(s){const r=RJ.resolveUserBinding(s,j);for(const s of r)i[n++]=new MJ(s,o.command,o.commandArgs,e,t,null,!1)}else i[n++]=new MJ(void 0,o.command,o.commandArgs,e,t,null,!1)}return i}resolveKeyboardEvent(e){let t=new qe(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new RJ(t,j)}}function jJ(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof Yt)}class $J{constructor(){this._onDidChangeConfiguration=new X,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new kJ(new SJ,new yJ)}getValue(e,t){const i="string"==typeof e?e:void 0,n=jJ(e)?e:jJ(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()};let i=[];for(const n of e){const[e,t]=n;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),i.push(e))}if(i.length>0){const e=new xJ({keys:i,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class qJ{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new X,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})}))}getValue(e,t,i){const n=(Rn.isIPosition(t)?t:null)?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===n?this.configurationService.getValue():this.configurationService.getValue(n)}}let GJ=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"string"==typeof i&&"auto"!==i?i:W||B?"\n":"\r\n"}};GJ=OJ([PJ(0,Du)],GJ);class ZJ{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class JJ{constructor(){const e=Yt.from({scheme:JJ.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new $F({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}function QJ(e,t,i){if(!t)return;if(!(e instanceof $J))return;let n=[];Object.keys(t).forEach((e=>{(function(e){return Gv()[`editor.${e}`]||!1})(e)&&n.push([`editor.${e}`,t[e]]),i&&function(e){return Gv()[`diffEditor.${e}`]||!1}(e)&&n.push([`diffEditor.${e}`,t[e]])})),n.length>0&&e.updateValues(n)}JJ.SCHEME="inmemory";class YJ{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return FJ(this,void 0,void 0,(function*(){const t=new Map;for(let o of e){if(!(o instanceof sE))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(o.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof o.versionId&&e.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");let i=t.get(e);i||(i=[],t.set(e,i)),i.push(bF.replaceMove(br.lift(o.textEdit.range),o.textEdit.text))}let i=0,n=0;for(const[e,o]of t)e.pushStackElement(),e.pushEditOperations([],o,(()=>[])),e.pushStackElement(),n+=1,i+=o.length;return{ariaSummary:eo(q$.bulkEditServiceSummary,i,n)}}))}}class XJ{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class eQ{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=Q.None}get dimension(){return this._dimension||(this._dimension=Ti(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}class tQ extends v{constructor(){super(),this._onCodeEditorAdd=this._register(new X),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new X),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new X),this._onDiffEditorRemove=this._register(new X),this._onDecorationTypeRegistered=this._register(new X),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}setModelProperty(e,t,i){const n=e.toString();let o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i)){return this._modelProperties.get(i).get(t)}}}class iQ{constructor(e,t,i){this._parent=e,this._editorId=t,this._styleSheet=i,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null===(e=this._styleSheet.parentNode)||void 0===e||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){Yi(e,this._styleSheet)}}class nQ{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){Yi(e,this._styleSheet)}}let oQ=class extends tQ{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=e||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new nQ(Gi())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!ji(t))return this._getOrCreateGlobalStyleSheet();const i=e.getId();if(!this._editorStyleSheets.has(i)){const e=new iQ(this,i,Gi(t));this._editorStyleSheets.set(i,e)}return this._editorStyleSheets.get(i)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,i,n,o){let s=this._decorationOptionProviders.get(t);if(!s){const r=this._getOrCreateStyleSheet(o),a={styleSheet:r,key:t,parentTypeKey:n,options:i||Object.create(null)};s=n?new sQ(this._themeService,r,a):new rQ(e,this._themeService,r,a),this._decorationOptionProviders.set(t,s),this._onDecorationTypeRegistered.fire(t)}s.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorations(e)))))}resolveDecorationOptions(e,t){const i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)}};oQ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,Ls)],oQ);class sQ{constructor(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new lQ(3,i,e),this._afterContentRules=new lQ(4,i,e)}getOptions(e,t){const i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class rQ{constructor(e,t,i,n){this._disposables=new b,this.description=e,this._styleSheet=i,this._styleSheet.ref(),this.refCount=0;const o=e=>{const i=new lQ(e,n,t);if(this._disposables.add(i),i.hasContent)return i.className},s=e=>{const i=new lQ(e,n,t);return this._disposables.add(i),i.hasContent?{className:i.className,hasLetterSpacing:i.hasLetterSpacing}:null};this.className=o(0);const r=s(1);if(r&&(this.inlineClassName=r.className,this.inlineClassNameAffectsLetterSpacing=r.hasLetterSpacing),this.beforeContentClassName=o(3),this.afterContentClassName=o(4),n.options.beforeInjectedText&&n.options.beforeInjectedText.contentText){const e=s(5);this.beforeInjectedText={content:n.options.beforeInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||n.options.beforeInjectedText.affectsLetterSpacing}}if(n.options.afterInjectedText&&n.options.afterInjectedText.contentText){const e=s(6);this.afterInjectedText={content:n.options.afterInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||n.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=o(2);const a=n.options;this.isWholeLine=Boolean(a.isWholeLine),this.stickiness=a.rangeBehavior;const l=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,d=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;void 0===l&&void 0===d||(this.overviewRuler={color:l||d,darkColor:d||l,position:a.overviewRulerLane||ra.Center})}getOptions(e,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const aQ={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class lQ{constructor(e,t,i){this._theme=i.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let n=dQ.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+dQ.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=dQ.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onDidColorThemeChange((e=>{this._theme=i.getColorTheme(),this._removeCSS(),this._buildCSS()})):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,i,n;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),i=this.getCSSTextForModelDecorationClassName(e.light),n=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),i=this.getCSSTextForModelDecorationInlineClassName(e.light),n=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(e.beforeInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.beforeInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(e.afterInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.afterInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const o=this._providerArgs.styleSheet;let s=!1;t.length>0&&(o.insertRule(`${this._unThemedSelector} {${t}}`,0),s=!0),i.length>0&&(o.insertRule(`.vs${this._unThemedSelector} {${i}}`,0),s=!0),n.length>0&&(o.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${n}}`,0),s=!0),this._hasContent=s}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(eo(aQ.contentIconPath,fn(Yt.revive(e.contentIconPath)))),"string"==typeof e.contentText){const i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(eo(aQ.contentText,i))}this.collectCSSText(e,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push(eo(aQ.gutterIconPath,fn(Yt.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(eo(aQ.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(eo("box-sizing: border-box;")),!0)}collectCSSText(e,t,i){const n=i.length;for(let o of t){const t=this.resolveValue(e[o]);"string"==typeof t&&i.push(eo(aQ[o],t))}return i.length!==n}resolveValue(e){if((t=e)&&"string"==typeof t.id){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}var t;return e}}class dQ{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,i){let n=".monaco-editor ."+this.getClassName(e,i);return t&&(n=n+"."+this.getClassName(t,i)),3===i?n+="::before":4===i&&(n+="::after"),n}}var cQ=function(e,t){return function(i,n){t(i,n,e)}};let hQ=class extends oQ{constructor(e,t,i){super(e,i),this.onCodeEditorAdd((()=>this._checkContextKey())),this.onCodeEditorRemove((()=>this._checkContextKey())),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===di.http||i===di.https)return pn(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};hQ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([cQ(1,_s),cQ(2,Ls)],hQ);var uQ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},gQ=function(e,t){return function(i,n){t(i,n,e)}};let mQ=0,pQ=!1;function fQ(e){if(!e){if(pQ)return;pQ=!0}!function(e){vn=document.createElement("div"),vn.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),vn.appendChild(e),e};wn=t(),Cn=t();const i=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),vn.appendChild(e),e};yn=i(),Sn=i(),e.appendChild(vn)}(e||document.body)}let _Q=class extends px{constructor(e,t,i,n,o,s,r,a,l,d){const c=Object.assign({},t);c.ariaLabel=c.ariaLabel||K$.editorViewAccessibleLabel,c.ariaLabel=c.ariaLabel+";"+K$.accessibilityHelpMessage,super(e,c,{},i,n,o,s,a,l,d),this._standaloneKeybindingService=r instanceof KJ?r:null,fQ(c.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++mQ,o=Jo.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),v.None;const t=e.id,i=e.label,n=Jo.and(Jo.equals("editorId",this.getId()),Jo.deserialize(e.precondition)),o=e.keybindings,s=Jo.and(n,Jo.deserialize(e.keybindingContext)),r=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i)),d=new b,c=this.getId()+":"+t;if(d.add(Qn.registerCommand(c,l)),r){let e={command:{id:c,title:i},when:n,group:r,order:a};d.add(Ws.appendMenuItem(Fs.EditorContext,e))}if(Array.isArray(o))for(const u of o)d.add(this._standaloneKeybindingService.addDynamicKeybinding(c,u,l,s));let h=new hk(c,i,i,n,l,this._contextKeyService);return this._actions[t]=h,d.add(_((()=>{delete this._actions[t]}))),d}_triggerCommand(e,t){if(this._codeEditorService instanceof hQ)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};_Q=uQ([gQ(2,Nn),gQ(3,An),gQ(4,Jn),gQ(5,_s),gQ(6,_E),gQ(7,Ls),gQ(8,$k),gQ(9,qk)],_Q);let bQ=class extends _Q{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m){const p=Object.assign({},t);QJ(h,p,!1);const f=d.registerEditorContainer(e);"string"==typeof p.theme&&d.setTheme(p.theme),void 0!==p.autoDetectHighContrast&&d.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast));let _,b=p.model;if(delete p.model,super(e,p,n,o,s,r,a,d,c,u),this._contextViewService=l,this._configurationService=h,this._standaloneThemeService=d,this._register(i),this._register(f),void 0===b?(_=wQ(g,m,p.value||"",p.language||uC.text,void 0),this._ownsModel=!0):(_=b,this._ownsModel=!1),this._attachModel(_),_){let e={oldModelUrl:null,newModelUrl:_.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){QJ(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};bQ=uQ([gQ(3,Nn),gQ(4,An),gQ(5,Jn),gQ(6,_s),gQ(7,_E),gQ(8,hL),gQ(9,tq),gQ(10,$k),gQ(11,Du),gQ(12,qk),gQ(13,On),gQ(14,Mu)],bQ);let vQ=class extends xL{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m){const p=Object.assign({},t);QJ(h,p,!0);const f=d.registerEditorContainer(e);"string"==typeof p.theme&&d.setTheme(p.theme),void 0!==p.autoDetectHighContrast&&d.setAutoDetectHighContrast(Boolean(p.autoDetectHighContrast)),super(e,p,{},m,a,o,n,l,d,c,u,g),this._contextViewService=r,this._configurationService=h,this._standaloneThemeService=d,this._register(i),this._register(f),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){QJ(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(_Q,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function wQ(e,t,i,n,o){if(i=i||"",!n){const n=i.indexOf("\n");let s=i;return-1!==n&&(s=i.substring(0,n)),CQ(e,i,t.createByFilepathOrFirstLine(o||null,s),o)}return CQ(e,i,t.create(n),o)}function CQ(e,t,i,n){return e.createModel(t,i,n)}vQ=uQ([gQ(3,Nn),gQ(4,_s),gQ(5,_E),gQ(6,hL),gQ(7,cL),gQ(8,An),gQ(9,tq),gQ(10,$k),gQ(11,Du),gQ(12,uL),gQ(13,_L),gQ(14,pL)],vQ);const yQ=Object.prototype.hasOwnProperty;class SQ{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Bh,0),this._register("plaintext",1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||Bh}}class kQ extends v{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new X),this.onDidChange=this._onDidChange.event,kQ.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new SQ,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(Wk.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){kQ.instanceCount--,super.dispose()}_initializeFromRegistry(){var e;this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e?(mC=mC.filter((e=>!e.userConfigured)),fC=[]):(mC=[],pC=[],fC=[]);const t=Wk.getLanguages();this._registerLanguages(t)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),Ss.as(pu).registerOverrideIdentifiers(Wk.getLanguages().map((e=>e.id))),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;yQ.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let o=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),o=t.mimetypes[0]),o||(o=`text/x-${i}`,e.mimetypes.push(o)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)_C({id:i,mime:o,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let n of t.filenames)_C({id:i,mime:o,filename:n},this._warnOnOverwrite),e.filenames.push(n);if(Array.isArray(t.filenamePatterns))for(let n of t.filenamePatterns)_C({id:i,mime:o,filepattern:n},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);"^"!==(s=t).source&&"^$"!==s.source&&"$"!==s.source&&"^\\s*$"!==s.source&&s.exec("")&&0===s.lastIndex||_C({id:i,mime:o,firstline:t},this._warnOnOverwrite)}catch(l){n(l)}}var s;e.aliases.push(i);let r=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(const n of r)n&&0!==n.length&&e.aliases.push(n);let a=null!==r&&r.length>0;if(a&&null===r[0]);else{let t=(a?r[0]:null)||i;!a&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!yQ.call(this._mimeTypesMap,e)||yQ.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return yQ.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e]:null}extractModeIds(e){return e?e.split(",").map((e=>e.trim())).map((e=>yQ.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:e)).filter((e=>yQ.call(this._languages,e))):[]}validateLanguageId(e){return e&&e!==Bh?yQ.call(this._languages,e)?e:null:Bh}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=bC(e,t);return this.extractModeIds(i.join(","))}}kQ.instanceCount=0;class xQ{constructor(e,t){let i;this._selector=t,this.languageId=this._selector(),this._onDidChange=new X({onFirstListenerAdd:()=>{i=e((()=>this._evaluate()))},onLastListenerRemove:()=>{i.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const e=this._selector();e!==this.languageId&&(this.languageId=e,this._onDidChange.fire(this.languageId))}}class LQ extends v{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new X),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new X({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,LQ.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new kQ(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onLanguagesMaybeChanged.fire())))}dispose(){LQ.instanceCount--,super.dispose()}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){return Cd(this._registry.getModeIdsFromFilepathOrFirstLine(e,t),null)}getModeId(e){return Cd(this._registry.extractModeIds(e),null)}validateLanguageId(e){return this._registry.validateLanguageId(e)}create(e){return new xQ(this.onLanguagesMaybeChanged,(()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)}))}createByFilepathOrFirstLine(e,t){return new xQ(this.onLanguagesMaybeChanged,(()=>{const i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)}))}_createModeAndGetLanguageIdentifier(e){const t=this.validateLanguageId(e||"plaintext")||Bh;return this._getOrCreateMode(t),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._encounteredLanguages.has(e)){this._encounteredLanguages.add(e);const t=this.validateLanguageId(e)||Bh;this._onDidEncounterLanguage.fire(t)}}}LQ.instanceCount=0;class DQ{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}const EQ=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class NQ{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(EQ);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=Yu.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class IQ{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],i=0;for(let n=0,o=e.length;n<o;n++){let o=e[n],s=-1;if("string"==typeof o.fontStyle){s=0;let e=o.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++)switch(e[t]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}let r=null;"string"==typeof o.foreground&&(r=o.foreground);let a=null;"string"==typeof o.background&&(a=o.background),t[i++]=new DQ(o.token||"",n,s,r,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{let i=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==i?i:e.index-t.index}));let i=0,n="000000",o="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(i=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(o=t.background)}let s=new NQ;for(let c of t)s.getId(c);let r=s.getId(n),a=s.getId(o),l=new MQ(i,r,a),d=new AQ(l);for(let c=0,h=e.length;c<h;c++){let t=e[c];d.insert(t.token,t.fontStyle,s.getId(t.foreground),s.getId(t.background))}return new IQ(s,d)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(void 0===i){let e=this._match(t),n=function(e){let t=e.match(TQ);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const TQ=/\b(comment|string|regex|regexp)\b/;class MQ{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new MQ(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class AQ{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,i,n=e.indexOf(".");-1===n?(t=e,i=""):(t=e.substring(0,n),i=e.substring(n+1));let o=this._children.get(t);return void 0!==o?o.match(i):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);let o,s,r=e.indexOf(".");-1===r?(o=e,s=""):(o=e.substring(0,r),s=e.substring(r+1));let a=this._children.get(o);void 0===a&&(a=new AQ(this._mainRule.clone()),this._children.set(o,a)),a.insert(s,t,i,n)}}const RQ={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Xm]:"#FFFFFE",[ep]:"#000000",[fp]:"#E5EBF1",[g_]:"#D3D3D3",[m_]:"#939393",[_p]:"#ADD6FF4D"}},OQ={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Xm]:"#1E1E1E",[ep]:"#D4D4D4",[fp]:"#3A3D41",[g_]:"#404040",[m_]:"#707070",[_p]:"#ADD6FF26"}},PQ={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Xm]:"#000000",[ep]:"#FFFFFF",[g_]:"#FFFFFF",[m_]:"#FFFFFF"}};function FQ(){const e=new X,t=Jx;return t.onDidChange((()=>e.fire())),{onDidChange:e.event,getCSS(){const e={},i=i=>{let n=i.defaults;for(;Es.isThemeIcon(n);){const e=t.getIcon(n.id);if(!e)return;n=e.defaults}const o=n.fontId;if(o){const s=t.getIconFont(o);if(s)return e[o]=s,`.codicon-${i.id}:before { content: '${n.fontCharacter}'; font-family: ${_n(o)}; }`}return`.codicon-${i.id}:before { content: '${n.fontCharacter}'; }`},n=[];for(let o of t.getIcons()){const e=i(o);e&&n.push(e)}for(let t in e){const i=e[t].definition.src.map((e=>`${fn(e.location)} format('${e.format}')`)).join(", ");n.push(`@font-face { src: ${i}; font-family: ${_n(t)}; font-display: block; }`)}return n.join("\n")}}}const BQ=Ss.as(im),WQ=Ss.as(Ts);class VQ{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(HQ(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,Yu.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=zQ(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,Yu.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);return i||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=BQ.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case"vs":return ks.LIGHT;case"hc-black":return ks.HIGH_CONTRAST;default:return ks.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let i=zQ(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){const t={token:""};i&&(t.foreground=i),n&&(t.background=n),e.push(t)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=IQ.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=kc.getForeground(n),s=kc.getFontStyle(n);return{foreground:o,italic:Boolean(1&s),bold:Boolean(2&s),underline:Boolean(4&s)}}}function HQ(e){return"vs"===e||"vs-dark"===e||"hc-black"===e}function zQ(e){switch(e){case"vs":return RQ;case"vs-dark":return OQ;case"hc-black":return PQ}}function UQ(e){let t=zQ(e);return new VQ(e,t)}class KQ extends v{constructor(){super(),this._onColorThemeChange=this._register(new X),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set("vs",UQ("vs")),this._knownThemes.set("vs-dark",UQ("vs-dark")),this._knownThemes.set("hc-black",UQ("hc-black"));const e=FQ();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme("vs"),e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),function(e,t){const i=window.matchMedia(e);"function"==typeof i.addEventListener?i.addEventListener("change",t):i.addListener(t)}("(forced-colors: active)",(()=>{this._updateActualTheme()}))}registerEditorContainer(e){return ji(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Gi(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),v.None}_registerShadowDomContainer(e){const t=Gi(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!HQ(t.base)&&!HQ(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new VQ(e,t)),HQ(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get("vs"),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get("hc-black"):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:i=>{t[i]||(e.push(i),t[i]=!0)}};WQ.getThemingParticipants().forEach((e=>e(this._theme,i,this._environment)));const n=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(function(e){let t=[];for(let i=1,n=e.length;i<n;i++){let n=e[i];t[i]=`.mtk${i} { color: ${n}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(n)),this._themeCSS=e.join("\n"),this._updateCSS(),lh.setColorMap(n),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}class jQ{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class $Q extends jQ{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}$Q.INSTANCE=new $Q;class qQ extends jQ{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=$d.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(6===e.source){const e=Array.from(h.map(this._values,(([e])=>e)));this._values.clear(),i.fire(new JQ(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`,n=this._values.findSuperstr(e);void 0!==n&&(t.push(...h.map(n,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new JQ(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(qQ._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(qQ._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}qQ._keyPrefix="config.";class GQ{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class ZQ{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class JQ{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class QQ{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class YQ{constructor(e){this._onDidChangeContext=new ee({merge:e=>new QQ(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new GQ(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new eY(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return NJ.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new ZQ(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new ZQ(e))}getContext(e){return this._isDisposed?$Q.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute("data-keybinding-context")){const t=e.getAttribute("data-keybinding-context");return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let XQ=class extends YQ{constructor(e){super(0),this._contexts=new Map,this._toDispose=new b,this._lastContextId=0;const t=new qQ(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?$Q.INSTANCE:this._contexts.get(e)||$Q.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new jQ(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};XQ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,Du)],XQ);class eY extends YQ{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new w,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute("data-keybinding-context")){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute("data-keybinding-context",String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute("data-keybinding-context"),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?$Q.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}Qn.registerCommand("setContext",(function(e,t,i){e.get(_s).createKey(String(t),i)})),Qn.registerCommand({id:"getContextKeyInfo",handler:()=>[...fs.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:t("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Qn.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(let i of fs.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}));var tY,iY;function nY(e,t,i){const n=i.mode===tY.ALIGN?i.offset:i.offset+i.size,o=i.mode===tY.ALIGN?i.offset+i.size:i.offset;return 0===i.position?t<=e-n?n:t<=o?o-t:Math.max(e-t,0):t<=o?o-t:t<=e-n?n:0}(iY=tY||(tY={}))[iY.AVOID=0]="AVOID",iY[iY.ALIGN=1]="ALIGN";class oY extends v{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=v.None,this.toDisposeOnSetContainer=v.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=hn(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,gn(this.view),this.setContainer(e,t),this._register(_((()=>this.setContainer(null,1))))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(i=this.shadowRootHostElement)||void 0===i||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=hn(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=sY,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(hn("slot"))}else this.container.appendChild(this.view);const i=new b;oY.BUBBLE_UP_EVENTS.forEach((e=>{i.add(vi(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),oY.BUBBLE_DOWN_EVENTS.forEach((e=>{i.add(vi(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=i}}show(e){this.isVisible()&&this.hide(),mi(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",un(this.view),this.toDisposeOnClean=e.render(this.view)||v.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||z&&Ie?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let e,t=this.delegate.getAnchor();if(Xi(t)){let i=Oi(t);e={top:i.top,left:i.left,width:i.width,height:i.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const i=Fi(this.view),n=Vi(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0;let r,a;if(0===(this.delegate.anchorAxisAlignment||0)){const t={offset:e.top-window.pageYOffset,size:e.height,position:0===o?0:1},l={offset:e.left,size:e.width,position:0===s?0:1,mode:tY.ALIGN};r=nY(window.innerHeight,n,t)+window.pageYOffset,MI.intersects({start:r,end:r+n},{start:t.offset,end:t.offset+t.size})&&(l.mode=tY.AVOID),a=nY(window.innerWidth,i,l)}else{const t={offset:e.left,size:e.width,position:0===s?0:1},l={offset:e.top,size:e.height,position:0===o?0:1,mode:tY.ALIGN};a=nY(window.innerWidth,i,t),MI.intersects({start:a,end:a+i},{start:t.offset,end:t.offset+t.size})&&(l.mode=tY.AVOID),r=nY(window.innerHeight,n,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===o?"bottom":"top"),this.view.classList.add(0===s?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=Oi(this.container);this.view.style.top=r-(this.useFixedPosition?Oi(this.view).top:l.top)+"px",this.view.style.left=a-(this.useFixedPosition?Oi(this.view).left:l.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),gn(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Hi(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}oY.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],oY.BUBBLE_DOWN_EVENTS=["click"];let sY='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';const rY=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,aY=/(&amp;)?(&amp;)([^\s&])/g,lY=$n("menu-selection",qn.check),dY=$n("menu-submenu",qn.chevronRight);var cY,hY;(hY=cY||(cY={}))[hY.Right=0]="Right",hY[hY.Left=1]="Left";class uY extends Zx{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...B||W?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new b),this.initializeStyleSheet(e),this._register(nw.addTarget(n)),_i(n,en.KEY_DOWN,(e=>{new Ye(e).equals(2)&&e.preventDefault()})),i.enableMnemonics&&this.menuDisposables.add(_i(n,en.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){tn(e,!0);const i=this.mnemonics.get(t);if(1===i.length&&(i[0]instanceof mY&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),i.length>1){const e=i.shift();e&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i)}}}))),W&&this._register(_i(n,en.KEY_DOWN,(e=>{const t=new Ye(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),tn(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),tn(e,!0))}))),this._register(_i(this.domNode,en.MOUSE_OUT,(e=>{Hi(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register(_i(this.actionsList,en.MOUSE_OVER,(e=>{let t=e.target;if(t&&Hi(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}))),this._register(nw.addTarget(this.actionsList)),this._register(_i(this.actionsList,tw.Tap,(e=>{let t=e.initialTarget;if(t&&Hi(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new ky(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const s=this.scrollableElement.getDomNode();s.style.position="",this._register(_i(n,tw.Change,(e=>{tn(e,!0);const t=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:t-e.translationY})}))),this._register(_i(s,en.MOUSE_UP,(e=>{e.preventDefault()}))),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((e=>{var t;return!(null===(t=i.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn(`Found submenu cycle: ${e.id}`),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof pY))).forEach(((e,t,i)=>{e.updatePositionInSet(t+1,i.length)}))}initializeStyleSheet(e){ji(e)?(this.styleSheet=Gi(e),this.styleSheet.textContent=fY):(uY.globalStyleSheet||(uY.globalStyleSheet=Gi(),uY.globalStyleSheet.textContent=fY),this.styleSheet=uY.globalStyleSheet)}style(e){const t=this.getContainer(),i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",s=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=s,this.viewItems&&this.viewItems.forEach((t=>{(t instanceof gY||t instanceof pY)&&t.style(e)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Hn)return new pY(t.context,e,{icon:!0});if(e instanceof zn){const n=new mY(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const n=t.getKeyBinding(e);if(n){const e=n.getLabel();e&&(i.keybinding=e)}}const n=new gY(t.context,e,i);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}}}class gY extends $x{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){let e=this.getAction().label;if(e){let t=rY.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ct((()=>{this.element&&(this._register(_i(this.element,en.MOUSE_UP,(e=>{if(tn(e,!0),de){if(new nt(e).rightButton)return;this.onClick(e)}else setTimeout((()=>{this.onClick(e)}),0)}))),this._register(_i(this.element,en.CONTEXT_MENU,(e=>{tn(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=sn(this.element,hn("a.action-menu-item")),this._action.id===Hn.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=sn(this.item,hn("span.menu-item-check"+lY.cssSelector)),this.check.setAttribute("role","none"),this.label=sn(this.item,hn("span.action-label")),this.options.label&&this.options.keybinding&&(sn(this.item,hn("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){mi(this.label);let e=TD(this.getAction().label);if(e){const t=function(e){const t=rY,i=t.exec(e);if(!i)return e;const n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=rY.exec(e);if(i){e=to(e),aY.lastIndex=0;let t=aY.exec(e);for(;t&&t[1];)t=aY.exec(e);const n=e=>e.replace(/&amp;&amp;/g,"&amp;");t?this.label.append(oo(n(e.substr(0,t.index))," "),hn("u",{"aria-hidden":"true"},t[3]),so(n(e.substr(t.index+t[0].length))," ")):this.label.innerText=n(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=t("vs/base/browser/ui/menu/menu",{key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}}class mY extends gY{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new b),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:cY.Right,this.showScheduler=new Ct((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new Ct((()=>{this.element&&!Hi(qi(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=sn(this.item,hn("span.submenu-indicator"+dY.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(_i(this.element,en.KEY_UP,(e=>{let t=new Ye(e);(t.equals(17)||t.equals(3))&&(tn(e,!0),this.createSubmenu(!0))}))),this._register(_i(this.element,en.KEY_DOWN,(e=>{let t=new Ye(e);qi()===this.item&&(t.equals(17)||t.equals(3))&&tn(e,!0)}))),this._register(_i(this.element,en.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register(_i(this.element,en.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register(_i(this.element,en.FOCUS_OUT,(e=>{this.element&&!Hi(qi(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)}))))}updateEnabled(){}onClick(e){tn(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=nY(e.width,t.width,{position:n===cY.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=nY(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=sn(this.element,hn("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new uY(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Un],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},s=this.submenuContainer.getBoundingClientRect(),{top:r,left:a}=this.calculateSubmenuMenuLayout(new Ai(window.innerWidth,window.innerHeight),Ai.lift(s),o,this.expandDirection);this.submenuContainer.style.left=a-s.left+"px",this.submenuContainer.style.top=r-s.top+"px",this.submenuDisposables.add(_i(this.submenuContainer,en.KEY_UP,(e=>{new Ye(e).equals(15)&&(tn(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(_i(this.submenuContainer,en.KEY_DOWN,(e=>{new Ye(e).equals(15)&&tn(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class pY extends qx{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}let fY=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${HB(lY)}\n${HB(dY)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;class _Y{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;let n=Xi(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:n=>{let o=e.getMenuClassName?e.getMenuClassName():"";o&&(n.className+=" "+o),this.options.blockMouse&&(this.block=n.appendChild(hn(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",_i(this.block,en.MOUSE_DOWN,(e=>e.stopPropagation())));const s=new b,r=e.actionRunner||new Vn;var a,l;return r.onBeforeRun(this.onActionRun,this,s),r.onDidRun(this.onDidActionRun,this,s),i=new uY(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:r,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),s.add((a=i,qM(this.themeService,Object.assign(Object.assign({},JM),l),a))),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,s),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,s),s.add(_i(window,en.BLUR,(()=>this.contextViewService.hideContextView(!0)))),s.add(_i(window,en.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;let t=new nt(e),i=t.target;if(!t.rightButton){for(;i;){if(i===n)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),f(s,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!r(e.error)&&this.notificationService.error(e.error)}}var bY=function(e,t){return function(i,n){t(i,n,e)}};let vY=class extends v{constructor(e,t,i,n,o){super(),this.contextMenuHandler=new _Y(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),bn.getInstance().resetKeyStatus()}};vY=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([bY(0,js),bY(1,$k),bY(2,hL),bY(3,_E),bY(4,Ls)],vY);const wY=Tn("layoutService");let CY=class extends v{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=v.None,this.container=e.container,this.contextView=this._register(new oY(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=_((()=>{this.currentViewDisposable===n&&this.hideContextView()}));return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};CY=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,wY)],CY);class yY{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class SY{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new yY(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(let[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}class kY extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class xY{constructor(e=new zk,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(Nn,this)}createChild(e){return new xY(e,this._strict,this)}invokeFunction(e,...t){let i=LY.traceInvocation(e),n=!1;try{return e({get:(e,t)=>{if(n)throw(o="service accessor is only valid during the invocation of its target method")?new Error(`Illegal state: ${o}`):new Error("Illegal state");var o;const s=this._getOrCreateServiceInstance(e,i);if(!s&&t!==Mn)throw new Error(`[invokeFunction] unknown service '${e}'`);return s}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof Au?(i=LY.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=LY.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=Dn.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),o=[];for(const r of n){let t=this._getOrCreateServiceInstance(r.id,i);if(!t&&this._strict&&!r.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${r.id}.`);o.push(t)}let s=n.length>0?n[0].index:t.length;if(t.length!==s){console.warn(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);let i=s-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,s)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof Au)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof Au?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const n=new SY((e=>e.id.toString()));let o=0;const s=[{id:e,desc:t,_trace:i}];for(;s.length;){const t=s.pop();if(n.lookupOrInsertNode(t),o++>1e3)throw new kY(n);for(let i of Dn.getServiceDependencies(t.desc.ctor)){let o=this._getServiceInstanceOrDescriptor(i.id);if(o||i.optional||console.warn(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`),o instanceof Au){const e={id:i.id,desc:o,_trace:t._trace.branch(i.id,!0)};n.insertEdge(t,e),s.push(e)}}}for(;;){const e=n.roots();if(0===e.length){if(!n.isEmpty())throw new kY(n);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof Au){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}n.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof Au)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){const i=new St((()=>this._createInstance(e,t,n)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let n=i.value,o=n[t];return"function"!=typeof o||(o=o.bind(n),e[t]=o),o},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}}class LY{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return LY._None}static traceCreation(e){return LY._None}branch(e,t){let i=new LY(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;LY._totals+=e;let t=!1;let i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(i,n){let o=[],s=new Array(i+1).join("\t");for(const[r,a,l]of n._dep)if(a&&l){t=!0,o.push(`${s}CREATES -> ${r}`);let n=e(i+1,l);n&&o.push(n)}else o.push(`${s}uses -> ${r}`);return o.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${LY._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(i.join("\n"))}}LY._None=new class extends LY{constructor(){super(-1,null)}stop(){}branch(){return this}},LY._totals=0;class DY{constructor(){this._byResource=new Gd,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new Gd,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let s=this._byOwner.get(t);if(s&&(n=s.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:h.empty():Yt.isUri(e)?null!==(o=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==o?o:h.empty():h.map(h.concat(...this._byOwner.values()),(e=>e[1]))}}class EY{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Gd,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===di.inMemory||e.scheme===di.walkThrough||e.scheme===di.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===EE.Error?t.errors+=1:i===EE.Warning?t.warnings+=1:i===EE.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class NY{constructor(){this._onMarkerChanged=new te({delay:0,merge:NY._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new DY,this._stats=new EY(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(bd(i)){this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}else{const n=[];for(const o of i){const i=NY._toMarker(e,t,o);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:d,endColumn:c,relatedInformation:h,tags:u}=i;if(s)return a=a>0?a:1,l=l>0?l:1,d=d>=a?d:a,c=c>0?c:l,{resource:t,owner:e,code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:d,endColumn:c,relatedInformation:h,tags:u}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(NY._accept(i,n)){const e=t.push(i);if(o>0&&e===o)break}return t}return[]}if(t||i){const e=this._data.values(null!=i?i:t),s=[];for(const t of e)for(const e of t)if(NY._accept(e,n)){const t=s.push(e);if(o>0&&t===o)return s}return s}{const e=[];for(let t of this._data.values())for(let i of t)if(NY._accept(i,n)){const t=e.push(i);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new Gd;for(let i of e)for(let e of i)t.set(e,!0);return Array.from(t.keys())}}var IY=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},TY=function(e,t){return function(i,n){t(i,n,e)}};let MY=class{constructor(e){this._commandService=e}createMenu(e,t,i){return new AY(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};MY=IY([TY(0,Jn)],MY);let AY=class e{constructor(e,t,i,n,o){this._id=e,this._options=t,this._commandService=i,this._contextKeyService=n,this._menuService=o,this._disposables=new b,this._menuGroups=[],this._contextKeys=new Set,this._build();const s=new Ct((()=>{this._build(),this._onDidChange.fire(this)}),t.eventDebounceDelay);this._disposables.add(s),this._disposables.add(Ws.onDidChangeMenu((t=>{t.has(e)&&s.schedule()})));const r=this._disposables.add(new b);this._onDidChange=new X({onFirstListenerAdd:()=>{const e=new Ct((()=>this._onDidChange.fire(this)),t.eventDebounceDelay);r.add(e),r.add(n.onDidChangeContext((t=>{t.affectsSome(this._contextKeys)&&e.schedule()})))},onLastListenerRemove:r.clear.bind(r)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=Ws.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._contextKeys),Ps(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Ws.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let i of this._menuGroups){const[n,o]=i,s=[];for(const t of o)if(this._contextKeyService.contextMatchesRules(t.when)){const i=Ps(t)?new Hs(t.command,t.alt,e,this._contextKeyService,this._commandService):new Vs(t,this._menuService,this._contextKeyService,e);s.push(i)}s.length>0&&t.push([n,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(t,i){let n=t.group,o=i.group;if(n!==o){if(!n)return 1;if(!o)return-1;if("navigation"===n)return-1;if("navigation"===o)return 1;let e=n.localeCompare(o);if(0!==e)return e}let s=t.order||0,r=i.order||0;return s<r?-1:s>r?1:e._compareTitles(Ps(t)?t.command.title:t.title,Ps(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original,n="string"==typeof t?t:t.original;return i.localeCompare(n)}};AY=IY([TY(2,Jn),TY(3,_s),TY(4,Bs)],AY);var RY=function(e,t){return function(i,n){t(i,n,e)}};class OY extends v{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(_((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let o=0;o<n.length;o++)this._markersData.set(n[o],e[o]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let PY=class extends v{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new X),this._markerDecorations=new Gd,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new OY(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==di.inMemory&&e.uri.scheme!==di.internal&&e.uri.scheme!==di.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let i=t.map((t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)})));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=br.lift(t);return t.severity!==EE.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),e.validateRange(i)}_createDecorationOption(e){let t,i,n,o,s;switch(e.severity){case EE.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case EE.Warning:t="squiggly-warning",i=Ns(M_),n=20,s={color:Ns(Vf),position:la.Inline};break;case EE.Info:t="squiggly-info",i=Ns(A_),n=10;break;case EE.Error:default:t="squiggly-error",i=Ns(T_),n=30,s={color:Ns(Wf),position:la.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(o="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:ra.Right},minimap:s,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};PY=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([RY(0,On),RY(1,TE)],PY);var FY=function(e,t){return function(i,n){t(i,n,e)}};let BY=class extends v{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new X,this._accessibilityModeEnabledContext=Gk.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())}))),i(),this.onDidChangeScreenReaderOptimized((()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};BY=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([FY(0,_s),FY(1,Du)],BY);var WY=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class VY{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return WY(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild(hn("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)}))}readText(e){return WY(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return WY(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return WY(this,void 0,void 0,(function*(){this.findText=e}))}}var HY=function(e,t){return function(i,n){t(i,n,e)}},zY=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function UY(e){return e.scheme===di.file?e.fsPath:e.path}let KY=0;class jY{constructor(e,t,i,n,o,s,r){this.id=++KY,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=r,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class $Y{constructor(e,t){this.resourceLabel=e,this.reason=t}}class qY{constructor(){this.elements=new Map}createMessage(){const e=[],i=[];for(const[,t]of this.elements){(0===t.reason?e:i).push(t.resourceLabel)}let n=[];return e.length>0&&n.push(t("vs/platform/undoRedo/common/undoRedoService",{key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),i.length>0&&n.push(t("vs/platform/undoRedo/common/undoRedoService",{key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",i.join(", "))),n.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class GY{constructor(e,t,i,n,o,s,r){this.id=++KY,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=r,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new qY),this.removedResources.has(t)||this.removedResources.set(t,new $Y(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new qY),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new $Y(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class ZY{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new ig(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let r=0,a=this._past.length;r<a;r++,n++){const s=this._past[r];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,o=0),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let r=this._future.length-1;r>=0;r--,n++){const o=this._future[r];i&&(n>=t||o.id!==e.elements[n])&&(i=!1,s=r),i||1!==o.type||o.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==s&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class JY{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const QY=new ZY("","");QY.locked=!0;let YY=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join("\n"))}pushElement(e,t=ng.None,i=og.None){if(0===e.type){const n=UY(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new jY(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],s=[];for(const t of e.resources){const e=UY(t),i=this.getUriComparisonKey(t);n.has(i)||(n.add(i),o.push(e),s.push(i))}1===o.length?this._pushElement(new jY(e,o[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new GY(e,o,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let o;this._editStacks.has(n)?o=this._editStacks.get(n):(o=new ZY(i,n),this._editStacks.set(n,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=UY(o.resource),t=this.getUriComparisonKey(o.resource),i=new jY(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=UY(o.resource),t=this.getUriComparisonKey(o.resource),i=new jY(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);if(this._editStacks.has(n)){this._editStacks.get(n).setElementsValidFlag(t,i)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new ig(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestPastElement();s&&(s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=n))}return[t,i]}canUndo(e){if(e instanceof og){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){n(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const s=this._acquireLocks(i);let r;try{r=t()}catch(a){return s(),n.dispose(),this._onError(a,e)}return r?r.then((()=>(s(),n.dispose(),o())),(t=>(s(),n.dispose(),this._onError(t,e)))):(s(),n.dispose(),o())}_invokeWorkspacePrepare(e){return zY(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return v.None;const t=e.actual.prepareUndoRedo();return void 0===t?v.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(v.None);const i=e.actual.prepareUndoRedo();return i?m(i)?t(i):i.then((e=>t(e))):t(v.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||QY);return new JY(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new XY(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new XY}_checkWorkspaceUndo(e,i,n,o){if(i.removedResources)return this._tryToSplitAndUndo(e,i,i.removedResources,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(o&&i.invalidatedResources)return this._tryToSplitAndUndo(e,i,i.invalidatedResources,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const s=[];for(const t of n.editStacks)t.getClosestPastElement()!==i&&s.push(t.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,i,null,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",i.label,s.join(", ")));const r=[];for(const t of n.editStacks)t.locked&&r.push(t.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,i,null,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,r.join(", "))):n.isValid()?null:this._tryToSplitAndUndo(e,i,null,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const i=t.getSecondClosestPastElement();if(i&&i.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,i,n,o){return zY(this,void 0,void 0,(function*(){if(i.canSplit()&&!this._isPartOfUndoGroup(i)){const s=yield this._dialogService.show(jk.Info,t("vs/platform/undoRedo/common/undoRedoService","confirmWorkspace","Would you like to undo '{0}' across all files?",i.label),[t("vs/platform/undoRedo/common/undoRedoService",{key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",n.editStacks.length),t("vs/platform/undoRedo/common/undoRedoService","nok","Undo this File"),t("vs/platform/undoRedo/common/undoRedoService","cancel","Cancel")],{cancelId:2});if(2===s.choice)return;if(1===s.choice)return this._splitPastWorkspaceElement(i,null),this._undo(e,0,!0);const r=this._checkWorkspaceUndo(e,i,n,!1);if(r)return r.returnValue;o=!0}let s;try{s=yield this._invokeWorkspacePrepare(i)}catch(a){return this._onError(a,i)}const r=this._checkWorkspaceUndo(e,i,n,!0);if(r)return s.dispose(),r.returnValue;for(const e of n.editStacks)e.moveBackward(i);return this._safeInvokeWithLocks(i,(()=>i.actual.undo()),n,s,(()=>this._continueUndoInGroup(i.groupId,o)))}))}_resourceUndo(e,i,n){if(i.isValid){if(!e.locked)return this._invokeResourcePrepare(i,(t=>(e.moveBackward(i),this._safeInvokeWithLocks(i,(()=>i.actual.undo()),new JY([e]),t,(()=>this._continueUndoInGroup(i.groupId,n))))));{const e=t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestPastElement();s&&(s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=n))}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);return i?this._undo(i,0,t):void 0}undo(e){if(e instanceof og){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),o=n.getClosestPastElement();if(!o)return;if(o.groupId){const[e,n]=this._findClosestUndoElementInGroup(o.groupId);if(o!==e&&n)return this._undo(n,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return 1===o.type?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{}}_confirmAndContinueUndo(e,i,n){return zY(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(jk.Info,t("vs/platform/undoRedo/common/undoRedoService","confirmDifferentSource","Would you like to undo '{0}'?",n.label),[t("vs/platform/undoRedo/common/undoRedoService","confirmDifferentSource.yes","Yes"),t("vs/platform/undoRedo/common/undoRedoService","cancel","Cancel")],{cancelId:1})).choice)return this._undo(e,i,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestFutureElement();s&&(s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=n))}return[t,i]}canRedo(e){if(e instanceof og){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new XY(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new XY}_checkWorkspaceRedo(e,i,n,o){if(i.removedResources)return this._tryToSplitAndRedo(e,i,i.removedResources,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.removedResources.createMessage()));if(o&&i.invalidatedResources)return this._tryToSplitAndRedo(e,i,i.invalidatedResources,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",i.label,i.invalidatedResources.createMessage()));const s=[];for(const t of n.editStacks)t.getClosestFutureElement()!==i&&s.push(t.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,i,null,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",i.label,s.join(", ")));const r=[];for(const t of n.editStacks)t.locked&&r.push(t.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,i,null,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",i.label,r.join(", "))):n.isValid()?null:this._tryToSplitAndRedo(e,i,null,t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",i.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return zY(this,void 0,void 0,(function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),i,n,(()=>this._continueRedoInGroup(t.groupId)))}))}_resourceRedo(e,i){if(i.isValid){if(!e.locked)return this._invokeResourcePrepare(i,(t=>(e.moveForward(i),this._safeInvokeWithLocks(i,(()=>i.actual.redo()),new JY([e]),t,(()=>this._continueRedoInGroup(i.groupId))))));{const e=t("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",i.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestFutureElement();s&&(s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=n))}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof og){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[e,t]=this._findClosestRedoElementInGroup(i.groupId);if(i!==e&&t)return this._redo(t)}try{return 1===i.type?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};YY=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([HY(0,Rj),HY(1,$k)],YY);class XY{constructor(e){this.returnValue=e}}Ou(tg,YY);const eX={buttonBackground:Yu.fromHex("#0E639C"),buttonHoverBackground:Yu.fromHex("#006BB3"),buttonForeground:Yu.white};class tX extends v{constructor(e,t){super(),this._onDidClick=this._register(new X),this.options=t||Object.create(null),na(this.options,eX,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(nw.addTarget(this._element)),[en.CLICK,tw.Tap].forEach((e=>{this._register(_i(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):tn(e)})))})),this._register(_i(this._element,en.KEY_DOWN,(e=>{const t=new Ye(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&tn(t,!0)}))),this._register(_i(this._element,en.MOUSE_OVER,(e=>{this._element.classList.contains("disabled")||this.setHoverBackground()}))),this._register(_i(this._element,en.MOUSE_OUT,(e=>{this.applyStyles()}))),this.focusTracker=this._register(on(this._element)),this._register(this.focusTracker.onDidFocus((()=>this.setHoverBackground()))),this._register(this.focusTracker.onDidBlur((()=>this.applyStyles()))),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?rn(this._element,...uN(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}const iX={progressBarBackground:Yu.fromHex("#0E70C0")};class nX extends v{constructor(e,t){super(),this.options=t||Object.create(null),na(this.options,iX,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new Ct((()=>un(this.element)),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active","infinite","discrete"),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add("done"),this.element.classList.contains("infinite")?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove("discrete","done"),this.element.classList.add("active","infinite"),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}const oX={},sX=new BN("quick-input-button-icon-");function rX(e){if(!e)return;let t;const i=e.dark.toString();return oX[i]?t=oX[i]:(t=sX.nextId(),Qi(`.${t}`,`background-image: ${fn(e.light||e.dark)}`),Qi(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${fn(e.dark)}`),oX[i]=t),t}const aX=hn;class lX extends v{constructor(e){super(),this.parent=e,this.onKeyDown=e=>_i(this.inputBox.inputElement,en.KEY_DOWN,(t=>{e(new Ye(t))})),this.onMouseDown=e=>_i(this.inputBox.inputElement,en.MOUSE_DOWN,(t=>{e(new nt(t))})),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=sn(this.parent,aX(".quick-input-box")),this.inputBox=this._register(new tz(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===jk.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===jk.Info?1:e===jk.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===jk.Info?1:e===jk.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}const dX=hn;class cX{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=sn(e,dX(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&cX.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(sn(this.domNode,dX("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){mi(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const n=ZN.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null==i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null==i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null==i?void 0:i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null==i?void 0:i.keyCode),"")}renderKey(e,t,i,n){sn(e,this.createKeyElement(t,i?".highlight":"")),n&&sn(e,dX("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){sn(e,this.createKeyElement(t("vs/base/browser/ui/keybindingLabel/keybindingLabel","unbound","Unbound")))}createKeyElement(e,t=""){const i=dX("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&oa(e.firstPart,t.firstPart)&&oa(e.chordPart,t.chordPart)}}const hX=new St((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));function uX(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=n.startsWith(i),r=o.startsWith(i);if(s!==r)return s?-1:1;if(s&&r){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}(e,t,i);if(s)return s;const r=n.endsWith(i);if(r!==o.endsWith(i))return r?-1:1;const a=function(e,t,i=!1){const n=e||"",o=t||"",s=hX.value.collator.compare(n,o);return hX.value.collatorIsNumeric&&0===s&&n!==o?n<o?-1:1:s}(n,o);return 0!==a?a:n.localeCompare(o)}var gX=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},mX=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const pX=hn;class fX{constructor(e){this.hidden=!1,this._onChecked=new X,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class _X{get templateId(){return _X.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=sn(e,pX(".quick-input-list-entry"));const i=sn(t.entry,pX("label.quick-input-list-label"));t.toDisposeTemplate.push(vi(i,en.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=sn(i,pX("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(vi(t.checkbox,en.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const n=sn(i,pX(".quick-input-list-rows")),o=sn(n,pX(".quick-input-list-row")),s=sn(n,pX(".quick-input-list-row"));t.label=new KA(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const r=sn(o,pX(".quick-input-list-entry-keybinding"));t.keybinding=new cX(r,j);const a=sn(s,pX(".quick-input-list-label-meta"));return t.detail=new VA(a,!0),t.separator=sn(t.entry,pX(".quick-input-list-separator")),t.actionBar=new Zx(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=p(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked((e=>i.checkbox.checked=e)));const{labelHighlights:n,descriptionHighlights:o,detailHighlights:s}=e,r=Object.create(null);r.matches=n||[],r.descriptionTitle=e.saneDescription,r.descriptionMatches=o||[],r.extraClasses=e.item.iconClasses,r.italic=e.item.italic,r.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,r),i.keybinding.set(e.item.keybinding),i.detail.set(e.saneDetail,s),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const a=e.item.buttons;a&&a.length?(i.actionBar.push(a.map(((t,i)=>{let n=t.iconClass||(t.iconPath?rX(t.iconPath):void 0);t.alwaysVisible&&(n=n?`${n} always-visible`:"always-visible");const o=new Wn(`id-${i}`,"",n,!0,(()=>mX(this,void 0,void 0,(function*(){e.fireButtonTriggered({button:t,item:e.item})}))));return o.tooltip=t.tooltip||"",o})),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=p(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=p(e.toDisposeElement),e.toDisposeTemplate=p(e.toDisposeTemplate)}}_X.ID="listelement";class bX{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return _X.ID}}var vX,wX;(wX=vX||(vX={}))[wX.First=1]="First",wX[wX.Second=2]="Second",wX[wX.Last=3]="Last",wX[wX.Next=4]="Next",wX[wX.Previous=5]="Previous",wX[wX.NextPage=6]="NextPage",wX[wX.PreviousPage=7]="PreviousPage";class CX{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new X,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new X,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new X,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new X,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new X,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new X,this.onKeyDown=this._onKeyDown.event,this._onLeave=new X,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=sn(this.parent,pX(".quick-input-list"));const n=new bX,o=new yX;this.list=i.createList("QuickInput",this.container,n,[new _X],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new Ye(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(B?e.metaKey:e.ctrlKey)&&this.list.setFocus(Sd(this.list.length));break;case 16:const t=this.list.getFocus();1===t.length&&0===t[0]&&this._onLeave.fire();break;case 18:const i=this.list.getFocus();1===i.length&&i[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(_i(this.container,en.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Q.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return Q.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.hidden){if(!n.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=p(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce(((i,n,o)=>{var s,r,a;if("separator"!==n.type){const l=o&&e[o-1],d=n.label&&n.label.replace(/\r?\n/g," "),c=n.meta&&n.meta.replace(/\r?\n/g," "),h=n.description&&n.description.replace(/\r?\n/g," "),u=n.detail&&n.detail.replace(/\r?\n/g," "),g=n.ariaLabel||[d,h,u].map((e=>{return(t=e)?t.replace(/\$\((.*?)\)/g,((e,t)=>` ${t} `)).trim():"";var t})).filter((e=>!!e)).join(", ");i.push(new fX({index:o,item:n,saneLabel:d,saneMeta:c,saneAriaLabel:g,saneDescription:h,saneDetail:u,labelHighlights:null===(s=n.highlights)||void 0===s?void 0:s.label,descriptionHighlights:null===(r=n.highlights)||void 0===r?void 0:r.description,detailHighlights:null===(a=n.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return i}),[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map((e=>e.onChecked((()=>this.fireCheckedEvents()))))),this.elementsToIndexes=this.elements.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===vX.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=vX.First),e===vX.Previous&&0===this.list.getFocus()[0]&&(e=vX.Last),e===vX.Second&&this.list.length<2&&(e=vX.First),e){case vX.First:this.list.focusFirst();break;case vX.Second:this.list.focusNth(1);break;case vX.Last:this.list.focusLast();break;case vX.Next:this.list.focusNext();break;case vX.Previous:this.list.focusPrevious();break;case vX.NextPage:this.list.focusNextPage();break;case vX.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let t;this.elements.forEach((i=>{const n=this.matchOnLabel?Ne(AD(e,MD(i.saneLabel))):void 0,o=this.matchOnDescription?Ne(AD(e,MD(i.saneDescription||""))):void 0,s=this.matchOnDetail?Ne(AD(e,MD(i.saneDetail||""))):void 0,r=this.matchOnMeta?Ne(AD(e,MD(i.saneMeta||""))):void 0;if(n||o||s||r?(i.labelHighlights=n,i.descriptionHighlights=o,i.detailHighlights=s,i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item.alwaysShow),i.separator=void 0,!this.sortByLabel){const e=i.index&&this.inputElements[i.index-1];t=e&&"separator"===e.type?e:t,t&&!i.hidden&&(i.separator=t,t=void 0)}}))}else this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0}));const t=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort(((e,t)=>function(e,t,i){const n=e.labelHighlights||[],o=t.labelHighlights||[];if(n.length&&!o.length)return-1;if(!n.length&&o.length)return 1;if(0===n.length&&0===o.length)return 0;return uX(e.saneLabel,t.saneLabel,i)}(e,t,i)))}return this.elementsToIndexes=t.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=p(this.elementDisposables),this.disposables=p(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}gX([ew],CX.prototype,"onDidChangeFocus",null),gX([ew],CX.prototype,"onDidChangeSelection",null);class yX{getWidgetAriaLabel(){return t("vs/base/parts/quickinput/browser/quickInputList","quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var SX=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const kX=hn,xX={iconClass:$n("quick-input-back",qn.arrowLeft).classNames,tooltip:t("vs/base/parts/quickinput/browser/quickInput","quickInput.back","Back"),handle:-1};class LX extends v{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=LX.noPromptMessage,this._severity=jk.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new X),this.onDidHideEmitter=this._register(new X),this.onDisposeEmitter=this._register(new X),this.visibleDisposables=this._register(new b),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!z;this._ignoreFocusOut=e&&!z,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=vN.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" ");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new vt,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===xX));this.ui.leftActionBar.push(e.map(((e,t)=>{const i=new Wn(`id-${t}`,"",e.iconClass||rX(e.iconPath),!0,(()=>SX(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==xX));this.ui.rightActionBar.push(t.map(((e,t)=>{const i=new Wn(`id-${t}`,"",e.iconClass||rX(e.iconPath),!0,(()=>SX(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,rn(this.ui.message,...uN(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?t("vs/base/parts/quickinput/browser/quickInput","quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==jk.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}LX.noPromptMessage=t("vs/base/parts/quickinput/browser/quickInput","inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class DX extends LX{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new X),this.onWillAcceptEmitter=this._register(new X),this.onDidAcceptEmitter=this._register(new X),this.onDidCustomEmitter=this._register(new X),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?CN.NONE:CN.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new X),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new X),this.onDidTriggerItemButtonEmitter=this._register(new X),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?bN:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(vX.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{if(e===this.value)return;this._value=e;this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(vX.Next),this.canSelectMany&&this.ui.list.domFocus(),tn(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(vX.Previous):this.ui.list.focus(vX.Last),this.canSelectMany&&this.ui.list.domFocus(),tn(e,!0);break;case 12:this.ui.list.focus(vX.NextPage),this.canSelectMany&&this.ui.list.domFocus(),tn(e,!0);break;case 11:this.ui.list.focus(vX.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),tn(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(vX.First),tn(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(vX.Last),tn(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&ud(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&ud(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&ud(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return _i(this.ui.container,en.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Ye(e),i=t.keyCode;this._quickNavigate.keybindings.some((e=>{const[n,o]=e.getParts();return!o&&(n.shiftKey&&4===i?!(t.ctrlKey||t.altKey||t.metaKey):!(!n.altKey||6!==i)||(!(!n.ctrlKey||5!==i)||!(!n.metaKey||57!==i)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const n=this.ariaLabel||this.placeholder||DX.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case CN.NONE:this._itemActivation=CN.FIRST;break;case CN.SECOND:this.ui.list.focus(vX.Second),this._itemActivation=CN.FIRST;break;case CN.LAST:this.ui.list.focus(vX.Last),this._itemActivation=CN.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(vX.First)),this.keepScrollPosition&&(this.scrollTop=e)}}DX.DEFAULT_ARIA_LABEL=t("vs/base/parts/quickinput/browser/quickInput","quickInputBox.ariaLabel","Type to narrow down results.");class EX extends v{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new X),this.onDidCustomEmitter=this._register(new X),this.onDidTriggerButtonEmitter=this._register(new X),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new X),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new X),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(_i(window,en.KEY_DOWN,e,!0)),this._register(_i(window,en.KEY_UP,e,!0)),this._register(_i(window,en.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=sn(this.parentElement,kX(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const i=Gi(e),n=sn(e,kX(".quick-input-titlebar")),o=this._register(new Zx(n));o.domNode.classList.add("quick-input-left-action-bar");const s=sn(n,kX(".quick-input-title")),r=this._register(new Zx(n));r.domNode.classList.add("quick-input-right-action-bar");const a=sn(e,kX(".quick-input-description")),l=sn(e,kX(".quick-input-header")),d=sn(l,kX("input.quick-input-check-all"));d.type="checkbox",this._register(vi(d,en.CHANGE,(e=>{const t=d.checked;S.setAllVisibleChecked(t)}))),this._register(_i(d,en.CLICK,(e=>{(e.x||e.y)&&g.setFocus()})));const c=sn(l,kX(".quick-input-description")),h=sn(l,kX(".quick-input-and-message")),u=sn(h,kX(".quick-input-filter")),g=this._register(new lX(u));g.setAttribute("aria-describedby",`${this.idPrefix}message`);const m=sn(u,kX(".quick-input-visible-count"));m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true");const p=new WA(m,{countFormat:t("vs/base/parts/quickinput/browser/quickInput",{key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),f=sn(u,kX(".quick-input-count"));f.setAttribute("aria-live","polite");const _=new WA(f,{countFormat:t("vs/base/parts/quickinput/browser/quickInput",{key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),b=sn(l,kX(".quick-input-action")),v=new tX(b);v.label=t("vs/base/parts/quickinput/browser/quickInput","ok","OK"),this._register(v.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const w=sn(l,kX(".quick-input-action")),C=new tX(w);C.label=t("vs/base/parts/quickinput/browser/quickInput","custom","Custom"),this._register(C.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const y=sn(h,kX(`#${this.idPrefix}message.quick-input-message`)),S=this._register(new CX(e,this.idPrefix+"list",this.options));this._register(S.onChangedAllVisibleChecked((e=>{d.checked=e}))),this._register(S.onChangedVisibleCount((e=>{p.setCount(e)}))),this._register(S.onChangedCheckedCount((e=>{_.setCount(e)}))),this._register(S.onLeave((()=>{setTimeout((()=>{g.setFocus(),this.controller instanceof DX&&this.controller.canSelectMany&&S.clearFocus()}),0)}))),this._register(S.onDidChangeFocus((()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")})));const k=new nX(e);k.getContainer().classList.add("quick-input-progress");const x=on(e);return this._register(x),this._register(_i(e,en.FOCUS,(e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0}),!0)),this._register(x.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(vN.Blur),this.previousFocusElement=void 0}))),this._register(_i(e,en.FOCUS,(e=>{g.setFocus()}))),this._register(_i(e,en.KEY_DOWN,(t=>{const i=new Ye(t);switch(i.keyCode){case 3:tn(t,!0),this.onDidAcceptEmitter.fire();break;case 9:tn(t,!0),this.hide(vN.Gesture);break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const o=e.querySelectorAll(n.join(", "));i.shiftKey&&i.target===o[0]?(tn(t,!0),o[o.length-1].focus()):i.shiftKey||i.target!==o[o.length-1]||(tn(t,!0),o[0].focus())}}}))),this.ui={container:e,styleSheet:i,leftActionBar:o,titleBar:n,title:s,description1:a,description2:c,rightActionBar:r,checkAll:d,filterContainer:u,inputBox:g,visibleCountContainer:m,visibleCount:p,countContainer:f,count:_,okContainer:b,ok:v,message:y,customButtonContainer:w,customButton:C,list:S,progressBar:k,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},i=rt.None){return new Promise(((n,o)=>{let s=e=>{s=n,t.onKeyMods&&t.onKeyMods(r.keyMods),n(e)};if(i.isCancellationRequested)return void s(void 0);const r=this.createQuickPick();let a;const l=[r,r.onDidAccept((()=>{if(r.canSelectMany)s(r.selectedItems.slice()),r.hide();else{const e=r.activeItems[0];e&&(s(e),r.hide())}})),r.onDidChangeActive((e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)})),r.onDidChangeSelection((e=>{if(!r.canSelectMany){const t=e[0];t&&(s(t),r.hide())}})),r.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=r.items.indexOf(e.item);if(-1!==t){const e=r.items.slice(),i=e.splice(t,1),n=r.activeItems.filter((e=>e!==i[0])),o=r.keepScrollPosition;r.keepScrollPosition=!0,r.items=e,n&&(r.activeItems=n),r.keepScrollPosition=o}}})))),r.onDidChangeValue((e=>{!a||e||1===r.activeItems.length&&r.activeItems[0]===a||(r.activeItems=[a])})),i.onCancellationRequested((()=>{r.hide()})),r.onDidHide((()=>{p(l),s(void 0)}))];r.title=t.title,r.canSelectMany=!!t.canPickMany,r.placeholder=t.placeHolder,r.ignoreFocusOut=!!t.ignoreFocusLost,r.matchOnDescription=!!t.matchOnDescription,r.matchOnDetail=!!t.matchOnDetail,r.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,r.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,r.quickNavigate=t.quickNavigate,r.contextKey=t.contextKey,r.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,r.busy=!1,r.items=e,r.canSelectMany&&(r.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(r.activeItems=[a])})),r.show(),Promise.resolve(e).then(void 0,(e=>{o(e),r.hide()}))}))}createQuickPick(){const e=this.getUI();return new DX(e)}show(e){const i=this.getUI();this.onShowEmitter.fire();const n=this.controller;this.controller=e,n&&n.didHide(),this.setEnabled(!0),i.leftActionBar.clear(),i.title.textContent="",i.description1.textContent="",i.description2.textContent="",i.rightActionBar.clear(),i.checkAll.checked=!1,i.inputBox.placeholder="",i.inputBox.password=!1,i.inputBox.showDecoration(jk.Ignore),i.visibleCount.setCount(0),i.count.setCount(0),rn(i.message),i.progressBar.stop(),i.list.setElements([]),i.list.matchOnDescription=!1,i.list.matchOnDetail=!1,i.list.matchOnLabel=!0,i.list.sortByLabel=!0,i.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),i.inputBox.ariaLabel="";const o=this.options.backKeybindingLabel();xX.tooltip=o?t("vs/base/parts/quickinput/browser/quickInput","quickInput.backWithKeybinding","Back ({0})",o):t("vs/base/parts/quickinput/browser/quickInput","quickInput.back","Back"),i.container.style.display="",this.updateLayout(),i.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;if(i){const n=!(null===(t=this.ui)||void 0===t?void 0:t.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",n||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,EX.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const s=[];this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));const r=s.join("\n");r!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=r)}}}EX.MAX_WIDTH=600;var NX=function(e,t){return function(i,n){t(i,n,e)}};let IX=class extends v{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=Ss.as(aq),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[o,s]=this.getOrInstantiateProvider(e),r=this.visibleQuickAccess,a=null==r?void 0:r.descriptor;if(r&&s&&a===s)return e===s.prefix||(null==i?void 0:i.preserveValue)||(r.picker.value=e),void this.adjustValueSelection(r.picker,s,i);if(s&&!(null==i?void 0:i.preserveValue)){let t;if(r&&a&&a!==s){const e=r.value.substr(a.prefix.length);e&&(t=`${s.prefix}${e}`)}if(!t){const e=null==o?void 0:o.defaultFilterValue;e===sq.LAST?t=this.lastAcceptedPickerValues.get(s):"string"==typeof e&&(t=`${s.prefix}${e}`)}"string"==typeof t&&(e=t)}const l=new b,d=l.add(this.quickInputService.createQuickPick());let h,u;d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=null==s?void 0:s.placeholder,d.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!r,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(d.itemActivation=null!==(n=null==i?void 0:i.itemActivation)&&void 0!==n?n:CN.SECOND),d.contextKey=null==s?void 0:s.contextKey,d.filterValue=e=>e.substring(s?s.prefix.length:0),(null==s?void 0:s.placeholder)&&(d.ariaLabel=null==s?void 0:s.placeholder),t&&(h=new Promise((e=>u=e)),l.add(c(d.onWillAccept)((e=>{e.veto(),d.hide()})))),l.add(this.registerPickerListeners(d,o,s,e));const g=l.add(new dt);return o&&l.add(o.provide(d,g.token)),c(d.onDidHide)((()=>{0===d.selectedItems.length&&g.cancel(),l.dispose(),null==u||u(d.selectedItems)})),d.show(),t?h:void 0}adjustValueSelection(e,t,i){var n;let o;o=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n){const o=new b,s=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add(_((()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),o.add(e.onDidChangeValue((e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):s.value=e}))),i&&o.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(i,e.value)}))),o}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};IX=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([NX(0,SN),NX(1,Nn)],IX);var TX=function(e,t){return function(i,n){t(i,n,e)}};let MX=class extends Rs{constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(IX))),this._quickAccess}createController(e=this.layoutService,t){var i,n;const o={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance(bA,e,t,i,n,o),styles:this.computeStyles()},s=this._register(new EX(Object.assign(Object.assign({},o),t)));return s.layout(e.dimension,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0),this._register(e.onDidLayout((t=>{var i,n;return s.layout(t,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0)}))),this._register(s.onShow((()=>this.resetContextKeys()))),this._register(s.onHide((()=>this.resetContextKeys()))),s}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new fs(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},i=rt.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},$M(this.theme,{quickInputBackground:sp,quickInputForeground:rp,quickInputTitleBackground:ap,contrastBorder:dm,widgetShadow:mm})),inputBox:$M(this.theme,{inputForeground:fm,inputBackground:pm,inputBorder:_m,inputValidationInfoBackground:Cm,inputValidationInfoForeground:ym,inputValidationInfoBorder:Sm,inputValidationWarningBackground:km,inputValidationWarningForeground:xm,inputValidationWarningBorder:Lm,inputValidationErrorBackground:Dm,inputValidationErrorForeground:Em,inputValidationErrorBorder:Nm}),countBadge:$M(this.theme,{badgeBackground:Om,badgeForeground:Pm,badgeBorder:dm}),button:$M(this.theme,{buttonForeground:Mm,buttonBackground:Am,buttonHoverBackground:Rm,buttonBorder:dm}),progressBar:$M(this.theme,{progressBarBackground:Hm}),keybindingLabel:$M(this.theme,{keybindingLabelBackground:cp,keybindingLabelForeground:hp,keybindingLabelBorder:up,keybindingLabelBottomBorder:gp,keybindingLabelShadow:mm}),list:$M(this.theme,{listBackground:sp,listInactiveFocusForeground:vf,listInactiveSelectionIconForeground:wf,listInactiveFocusBackground:Cf,listFocusOutline:cm,listInactiveFocusOutline:cm,pickerGroupBorder:dp,pickerGroupForeground:lp})}}};MX=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([TX(0,Nn),TX(1,_s),TX(2,Ls),TX(3,qk),TX(4,wY)],MX);var AX=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},RX=function(e,t){return function(i,n){t(i,n,e)}};let OX=class extends MX{constructor(e,t,i,n,o,s){super(t,i,n,o,s),this.host=void 0;const r=FX.get(e);this.host={_serviceBrand:void 0,get container(){return r.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};OX=AX([RX(1,Nn),RX(2,_s),RX(3,Ls),RX(4,qk),RX(5,wY)],OX);let PX=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(OX,e);this.mapEditorToService.set(e,t),c(e.onDidDispose)((()=>{i.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=rt.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};PX=AX([RX(0,Nn),RX(1,An)],PX);class FX{constructor(e){this.editor=e,this.widget=new BX(this.editor)}static get(e){return e.getContribution(FX.ID)}dispose(){this.widget.dispose()}}FX.ID="editor.controller.quickInput";class BX{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return BX.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var WX,VX;BX.ID="editor.contrib.quickInputWidget",cr(FX.ID,FX),function(e){const t=new zk;class i{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=i;let n=[];function o(e,t){let o=new i(e,t);return n.push(o),o}e.init=function(e){let t=new zk;for(const[n,o]of Ru)t.set(n,o);for(let n in e)e.hasOwnProperty(n)&&t.set(Tn(n),e[n]);n.forEach((i=>t.set(i.id,i.get(e))));let i=new xY(t,!0);return t.set(Nn,i),[t,i]},e.instantiationService=o(Nn,(()=>new xY(t,!0)));const s=new $J;e.configurationService=o(Du,(()=>s)),e.resourceConfigurationService=o(fj,(()=>new qJ(s))),e.resourcePropertiesService=o(_j,(()=>new GJ(s))),e.contextService=o(jF,(()=>new JJ)),e.labelService=o(ZA,(()=>new XJ)),e.telemetryService=o(js,(()=>new ZJ)),e.dialogService=o(Rj,(()=>new HJ)),e.notificationService=o($k,(()=>new zJ)),e.markerService=o(TE,(()=>new NY)),e.modeService=o(Mu,(e=>new LQ)),e.standaloneThemeService=o(tq,(()=>new KQ)),e.logService=o($s,(()=>new Ys(new Qs))),e.undoRedoService=o(tg,(t=>new YY(e.dialogService.get(t),e.notificationService.get(t)))),e.languageConfigurationService=o(Bu,(t=>new Wu(e.configurationService.get(t),e.modeService.get(t)))),e.modelService=o(On,(t=>new s$(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t),e.modeService.get(t),e.languageConfigurationService.get(t)))),e.markerDecorationsService=o(yv,(t=>new PY(e.modelService.get(t),e.markerService.get(t)))),e.contextKeyService=o(_s,(t=>new XQ(e.configurationService.get(t)))),e.codeEditorService=o(An,(t=>new hQ(null,e.contextKeyService.get(t),e.standaloneThemeService.get(t)))),e.editorProgressService=o(_L,(()=>new VJ)),e.storageService=o(nN,(()=>new aN)),e.editorWorkerService=o(cL,(t=>new jZ(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t))))}(WX||(WX={}));class HX extends v{constructor(e,t){super();const[i,n]=WX.init(t);this._serviceCollection=i,this._instantiationService=n;const o=this.get(Du),s=this.get($k),r=this.get(js),a=this.get(Ls),l=this.get($s),d=this.get(_s);let c=(e,i)=>{let n=null;return t&&(n=t[e.toString()]),n||(n=i()),this._serviceCollection.set(e,n),n};c(qk,(()=>new BY(d,o))),c(XM,(()=>new eA(a)));let h=c(Jn,(()=>new UJ(this._instantiationService))),u=c(_E,(()=>this._register(new KJ(d,h,r,s,l,e)))),g=c(wY,(()=>new eQ(WX.codeEditorService.get(An),e)));c(SN,(()=>new PX(n,WX.codeEditorService.get(An))));let m=c(hL,(()=>this._register(new CY(g))));c(pL,(()=>new VY)),c(uL,(()=>{const e=new vY(r,s,m,u,a);return e.configure({blockMouse:!1}),this._register(e)})),c(Bs,(()=>new MY(h))),c(nE,(()=>new YJ(WX.modelService.get(On))))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function zX(e,t,i){let n=new HX(e,t),o=null;n.has(Fn)||(o=new WJ(WX.modelService.get()),n.set(Fn,o)),n.has(DP)||n.set(DP,new lZ(n.get(An),n.get(Jn)));let s=i(n);return o&&o.setEditor(s),s}function UX(e,t,i){return zX(e,i||{},(i=>new bQ(e,t,i,i.get(Nn),i.get(An),i.get(Jn),i.get(_s),i.get(_E),i.get(hL),i.get(tq),i.get($k),i.get(Du),i.get(qk),i.get(On),i.get(Mu))))}function KX(e){return WX.codeEditorService.get().onCodeEditorAdd((t=>{e(t)}))}function jX(e,t,i){return zX(e,i||{},(i=>new vQ(e,t,i,i.get(Nn),i.get(_s),i.get(_E),i.get(hL),i.get(cL),i.get(An),i.get(tq),i.get($k),i.get(Du),i.get(uL),i.get(_L),i.get(pL))))}function $X(e,t){return new HL(e,t)}function qX(e,t,i){return wQ(WX.modelService.get(),WX.modeService.get(),e,t,i)}function GX(e,t){WX.modelService.get().setMode(e,WX.modeService.get().create(t))}function ZX(e,t,i){e&&WX.markerService.get().changeOne(t,e.uri,i)}function JX(e){return WX.markerService.get().read(e)}function QX(e){return WX.markerService.get().onMarkerChanged(e)}function YX(e){return WX.modelService.get().getModel(e)}function XX(){return WX.modelService.get().getModels()}function e0(e){return WX.modelService.get().onModelAdded(e)}function t0(e){return WX.modelService.get().onModelRemoved(e)}function i0(e){return WX.modelService.get().onModelModeChanged((t=>{e({model:t.model,oldLanguage:t.oldModeId})}))}function n0(e){return function(e,t){return new YZ(e,t)}(WX.modelService.get(),e)}function o0(e,t){const i=WX.standaloneThemeService.get();return i.registerEditorContainer(e),vJ.colorizeElement(i,WX.modeService.get(),e,t)}function s0(e,t,i){return WX.standaloneThemeService.get().registerEditorContainer(document.body),vJ.colorize(WX.modeService.get(),e,t,i)}function r0(e,t,i=4){return WX.standaloneThemeService.get().registerEditorContainer(document.body),vJ.colorizeModelLine(e,t,i)}function a0(e,t){WX.modeService.get().triggerMode(t);let i=(n=t,lh.get(n)||{getInitialState:()=>Fh,tokenize:(e,t,i,o)=>Wh(n,0,i,o)});var n;let o=lo(e),s=[],r=i.getInitialState();for(let a=0,l=o.length;a<l;a++){let e=o[a],t=i.tokenize(e,!0,r,0);s[a]=t.tokens,r=t.endState}return s}function l0(e,t){WX.standaloneThemeService.get().defineTheme(e,t)}function d0(e){WX.standaloneThemeService.get().setTheme(e)}function c0(){Jv.INSTANCE.clearCache()}function h0(e,t){return Qn.registerCommand({id:e,handler:t})}function u0(e,t){return"boolean"==typeof e?e:t}function g0(e,t){return"string"==typeof e?e:t}function m0(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function p0(e,t){t=t.replace(/@@/g,"");let i,n=0;do{i=!1,t=t.replace(/@(\w+)/g,(function(n,o){i=!0;let s="";if("string"==typeof e[o])s=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?sJ(e,"language definition does not contain attribute '"+o+"', used at: "+t):sJ(e,"attribute reference '"+o+"' must be a string, used at: "+t);s=e[o].source}return iJ(s)?"":"(?:"+s+")"})),n++}while(i&&n<5);t=t.replace(/\x01/g,"@");let o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function f0(e,t,i,n){let o=-1,s=i,r=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(o=parseInt(r[3]),r[2]&&(o+=100)),s=r[4]);let a,l="~",d=s;if(s&&0!==s.length?/^\w*$/.test(d)?l="==":(r=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(l=r[1],d=r[2])):(l="!=",d=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(d))if("@"===l||"!@"===l){let i=e[d];if(!i)throw sJ(e,"the @ match target '"+d+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const i of t)if(!e(i))return!1;return!0}((function(e){return"string"==typeof e}),i))throw sJ(e,"the @ match target '"+d+"' must be an array of strings, in rule: "+t);let n=m0(i,e.ignoreCase);a=function(e){return"@"===l?n(e):!n(e)}}else if("~"===l||"!~"===l)if(d.indexOf("$")<0){let t=p0(e,"^"+d+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,o){return p0(e,"^"+rJ(e,d,i,n,o)+"$").test(t)};else if(d.indexOf("$")<0){let t=nJ(e,d);a=function(e){return"=="===l?e===t:e!==t}}else{let t=nJ(e,d);a=function(i,n,o,s,r){let a=rJ(e,t,n,o,s);return"=="===l?i===a:i!==a}}else{let t=m0(d.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){let s=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;let e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,o);return a(s||"",e,t,i,n)}}}function _0(e,t,i){if(i){if("string"==typeof i)return i;if(i.token||""===i.token){if("string"!=typeof i.token)throw sJ(e,"a 'token' attribute must be of type string, in rule: "+t);{let n={token:i.token};if(i.token.indexOf("$")>=0&&(n.tokenSubst=!0),"string"==typeof i.bracket)if("@open"===i.bracket)n.bracket=1;else{if("@close"!==i.bracket)throw sJ(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);n.bracket=-1}if(i.next){if("string"!=typeof i.next)throw sJ(e,"the next state must be a string value in rule: "+t);{let o=i.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}(e,rJ(e,o,"",[],""))))throw sJ(e,"the next state '"+i.next+"' is not defined in rule: "+t);n.next=o}}return"number"==typeof i.goBack&&(n.goBack=i.goBack),"string"==typeof i.switchTo&&(n.switchTo=i.switchTo),"string"==typeof i.log&&(n.log=i.log),"string"==typeof i.nextEmbedded&&(n.nextEmbedded=i.nextEmbedded,e.usesEmbedded=!0),n}}if(Array.isArray(i)){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=_0(e,t,i[o]);return{group:n}}if(i.cases){let n=[];for(let s in i.cases)if(i.cases.hasOwnProperty(s)){const o=_0(e,t,i.cases[s]);"@default"===s||"@"===s||""===s?n.push({test:void 0,value:o,name:s}):"@eos"===s?n.push({test:function(e,t,i,n){return n},value:o,name:s}):n.push(f0(e,t,s,o))}const o=e.defaultToken;return{test:function(e,t,i,s){for(const o of n){if(!o.test||o.test(e,t,i,s))return o.value}return o}}}throw sJ(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class b0{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw sJ(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=p0(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=_0(e,this.name,t)}}function v0(e){Wk.registerLanguage(e)}function w0(){let e=[];return e=e.concat(Wk.getLanguages()),e}function C0(e){return WX.modeService.get().languageIdCodec.encodeLanguageId(e)}function y0(e,t){let i=WX.modeService.get().onDidEncounterLanguage((n=>{n===e&&(i.dispose(),t())}));return i}function S0(e,t){const i=WX.modeService.get().validateLanguageId(e);if(!i)throw new Error(`Cannot set configuration for unknown language ${e}`);return Uu.register(i,t,100)}class k0{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i,n){if("function"==typeof this._actual.tokenize)return x0.adaptTokenize(this._languageId,this._actual,e,i,n);throw new Error("Not supported!")}tokenize2(e,t,i){let n=this._actual.tokenizeEncoded(e,i);return new Ph(n.tokens,n.endState)}}class x0{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._modeService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,i){let n=[],o=0;for(let s=0,r=e.length;s<r;s++){const r=e[s];let a=r.startIndex;0===s?a=0:a<o&&(a=o),n[s]=new Rh(a+i,r.scopes,t),o=a}return n}static adaptTokenize(e,t,i,n,o){let s,r=t.tokenize(i,n),a=x0._toClassicTokens(r.tokens,e,o);return s=r.endState.equals(n)?n:r.endState,new Oh(a,s)}tokenize(e,t,i,n){return x0.adaptTokenize(this._languageId,this._actual,e,i,n)}_toBinaryTokens(e,t,i){const n=e.encodeLanguageId(this._languageId),o=this._standaloneThemeService.getColorTheme().tokenTheme;let s=[],r=0,a=0;for(let d=0,c=t.length;d<c;d++){const e=t[d],l=o.match(n,e.scopes);if(r>0&&s[r-1]===l)continue;let c=e.startIndex;0===d?c=0:c<a&&(c=a),s[r++]=c+i,s[r++]=l,a=c}let l=new Uint32Array(r);for(let d=0;d<r;d++)l[d]=s[d];return l}tokenize2(e,t,i,n){let o,s=this._actual.tokenize(e,i),r=this._toBinaryTokens(this._modeService.languageIdCodec,s.tokens,n);return o=s.endState.equals(i)?i:s.endState,new Ph(r,o)}}function L0(e){return e&&"function"==typeof e.then}function D0(e){if(e){const t=[null];for(let i=1,n=e.length;i<n;i++)t[i]=Yu.fromHex(e[i]);WX.standaloneThemeService.get().setColorMapOverride(t)}else WX.standaloneThemeService.get().setColorMapOverride(null)}function E0(e,t){const i=WX.modeService.get().validateLanguageId(e);if(!i)throw new Error(`Cannot set tokens provider for unknown language ${e}`);const n=e=>function(e){return"tokenizeEncoded"in e}(e)?new k0(i,e):new x0(i,e,WX.modeService.get(),WX.standaloneThemeService.get());return L0(t)?lh.registerPromise(e,t.then((e=>n(e)))):lh.register(e,n(t))}function N0(e,t){const i=t=>function(e,t,i,n){return new pJ(e,t,i,n)}(WX.modeService.get(),WX.standaloneThemeService.get(),e,function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=e,i.includeLF=u0(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=u0(t.ignoreCase,!1),i.unicode=u0(t.unicode,!1),i.tokenPostfix=g0(t.tokenPostfix,"."+i.languageId),i.defaultToken=g0(t.defaultToken,"source"),i.usesEmbedded=!1;let n=t;function o(e,s,r){for(const a of r){let r=a.include;if(r){if("string"!=typeof r)throw sJ(i,"an 'include' attribute must be a string at: "+e);if("@"===r[0]&&(r=r.substr(1)),!t.tokenizer[r])throw sJ(i,"include target '"+r+"' is not defined at: "+e);o(e+"."+r,s,t.tokenizer[r])}else{const t=new b0(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(n,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(n,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw sJ(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(n,e)}}else t.setAction(n,a[1]);else{if(!a.regex)throw sJ(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=u0(a.matchOnlyAtLineStart,!1)),t.setRegex(n,a.regex),t.setAction(n,a.action)}s.push(t)}}}if(n.languageId=e,n.includeLF=i.includeLF,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw sJ(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let r in t.tokenizer)if(t.tokenizer.hasOwnProperty(r)){i.start||(i.start=r);const e=t.tokenizer[r];i.tokenizer[r]=new Array,o("tokenizer."+r,i.tokenizer[r],e)}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw sJ(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let s=[];for(let r of t.brackets){let e=r;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw sJ(i,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw sJ(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");s.push({token:e.token+i.tokenPostfix,open:nJ(i,e.open),close:nJ(i,e.close)})}return i.brackets=s,i.noThrow=!0,i}(e,t));return L0(t)?lh.registerPromise(e,t.then((e=>i(e)))):lh.register(e,i(t))}function I0(e,t){return Fc.register(e,t)}function T0(e,t){return Bc.register(e,t)}function M0(e,t){return Hc.register(e,t)}function A0(e,t){return zc.register(e,{provideHover:(e,i,n)=>{let o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then((e=>{if(e)return!e.range&&o&&(e.range=new br(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new br(i.lineNumber,i.column,i.lineNumber,i.column)),e}))}})}function R0(e,t){return Uc.register(e,t)}function O0(e,t){return Kc.register(e,t)}function P0(e,t){return jc.register(e,t)}function F0(e,t){return $c.register(e,t)}function B0(e,t){return Gc.register(e,t)}function W0(e,t){return Zc.register(e,t)}function V0(e,t){return Jc.register(e,t)}function H0(e,t,i){return Yc.register(e,{providedCodeActionKinds:null==i?void 0:i.providedCodeActionKinds,provideCodeActions:(e,i,n,o)=>{let s=WX.markerService.get().read({resource:e.uri}).filter((e=>br.areIntersectingOrTouching(e,i)));return t.provideCodeActions(e,i,{markers:s,only:n.only},o)},resolveCodeAction:t.resolveCodeAction})}function z0(e,t){return Xc.register(e,t)}function U0(e,t){return eh.register(e,t)}function K0(e,t){return th.register(e,t)}function j0(e,t){return ih.register(e,t)}function $0(e,t){return Wc.register(e,t)}function q0(e,t){return nh.register(e,t)}function G0(e,t){return sh.register(e,t)}function Z0(e,t){return qc.register(e,t)}function J0(e,t){return oh.register(e,t)}function Q0(e,t){return rh.register(e,t)}function Y0(e,t){return ah.register(e,t)}function X0(e,t){return Vc.register(e,t)}function e1(e,t){return Qc.register(e,t)}Yr.wrappingIndent.defaultValue=0,Yr.glyphMargin.defaultValue=!1,Yr.autoIndent.defaultValue=3,Yr.overviewRulerLanes.defaultValue=2,MU.setFormatterSelector(((e,t,i)=>Promise.resolve(e[0])));const t1=eZ();t1.editor={create:UX,onDidCreateEditor:KX,createDiffEditor:jX,createDiffNavigator:$X,createModel:qX,setModelLanguage:GX,setModelMarkers:ZX,getModelMarkers:JX,onDidChangeMarkers:QX,getModels:XX,getModel:YX,onDidCreateModel:e0,onWillDisposeModel:t0,onDidChangeModelLanguage:i0,createWebWorker:n0,colorizeElement:o0,colorize:s0,colorizeModelLine:r0,tokenize:a0,defineTheme:l0,setTheme:d0,remeasureFonts:c0,registerCommand:h0,AccessibilitySupport:$q,ContentWidgetPositionPreference:iG,CursorChangeReason:oG,DefaultEndOfLine:rG,EditorAutoIndentStrategy:dG,EditorOption:hG,EndOfLinePreference:gG,EndOfLineSequence:pG,MinimapPosition:xG,MouseTargetType:LG,OverlayWidgetPositionPreference:EG,OverviewRulerLane:IG,RenderLineNumbersType:TG,RenderMinimap:AG,ScrollbarVisibility:FG,ScrollType:OG,TextEditorCursorBlinkingStyle:$G,TextEditorCursorStyle:GG,TrackedRangeStickiness:ZG,WrappingIndent:QG,ConfigurationChangedEvent:xr,BareFontInfo:Tv,FontInfo:Mv,TextModelResolvedOptions:ua,FindMatch:ga,EditorType:uk,EditorOptions:Yr},t1.languages={register:v0,getLanguages:w0,onLanguage:y0,getEncodedLanguageId:C0,setLanguageConfiguration:S0,setColorMap:D0,setTokensProvider:E0,setMonarchTokensProvider:N0,registerReferenceProvider:I0,registerRenameProvider:T0,registerCompletionItemProvider:$0,registerSignatureHelpProvider:M0,registerHoverProvider:A0,registerDocumentSymbolProvider:R0,registerDocumentHighlightProvider:O0,registerLinkedEditingRangeProvider:P0,registerDefinitionProvider:F0,registerImplementationProvider:B0,registerTypeDefinitionProvider:W0,registerCodeLensProvider:V0,registerCodeActionProvider:H0,registerDocumentFormattingEditProvider:z0,registerDocumentRangeFormattingEditProvider:U0,registerOnTypeFormattingEditProvider:K0,registerLinkProvider:j0,registerColorProvider:q0,registerFoldingRangeProvider:G0,registerDeclarationProvider:Z0,registerSelectionRangeProvider:J0,registerDocumentSemanticTokensProvider:Q0,registerDocumentRangeSemanticTokensProvider:Y0,registerInlineCompletionsProvider:X0,registerInlayHintsProvider:e1,DocumentHighlightKind:lG,CompletionItemKind:Jq,CompletionItemTag:Yq,CompletionItemInsertTextRule:Gq,SymbolKind:zG,SymbolTag:KG,IndentAction:_G,CompletionTriggerKind:eG,SignatureHelpTriggerKind:HG,InlayHintKind:bG,InlineCompletionTriggerKind:vG,FoldingRangeKind:Pc};const i1=t1.CancellationTokenSource,n1=t1.Emitter,o1=t1.KeyCode,s1=t1.KeyMod,r1=t1.Position,a1=t1.Range,l1=t1.Selection,d1=t1.SelectionDirection,c1=t1.MarkerSeverity,h1=t1.MarkerTag,u1=t1.Uri,g1=t1.Token,m1=t1.editor,p1=t1.languages;((null===(VX=R.MonacoEnvironment)||void 0===VX?void 0:VX.globalAPI)||"function"==typeof define&&define.amd)&&(self.monaco=t1),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var f1,_1,b1,v1,w1,C1,y1,S1,k1,x1,L1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CancellationTokenSource:i1,Emitter:n1,KeyCode:o1,KeyMod:s1,Position:r1,Range:a1,Selection:l1,SelectionDirection:d1,MarkerSeverity:c1,MarkerTag:h1,Uri:u1,Token:g1,editor:m1,languages:p1});(_1=f1||(f1={}))[_1.None=0]="None",_1[_1.CommonJS=1]="CommonJS",_1[_1.AMD=2]="AMD",_1[_1.UMD=3]="UMD",_1[_1.System=4]="System",_1[_1.ES2015=5]="ES2015",_1[_1.ESNext=99]="ESNext",(v1=b1||(b1={}))[v1.None=0]="None",v1[v1.Preserve=1]="Preserve",v1[v1.React=2]="React",v1[v1.ReactNative=3]="ReactNative",v1[v1.ReactJSX=4]="ReactJSX",v1[v1.ReactJSXDev=5]="ReactJSXDev",(C1=w1||(w1={}))[C1.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",C1[C1.LineFeed=1]="LineFeed",(S1=y1||(y1={}))[S1.ES3=0]="ES3",S1[S1.ES5=1]="ES5",S1[S1.ES2015=2]="ES2015",S1[S1.ES2016=3]="ES2016",S1[S1.ES2017=4]="ES2017",S1[S1.ES2018=5]="ES2018",S1[S1.ES2019=6]="ES2019",S1[S1.ES2020=7]="ES2020",S1[S1.ESNext=99]="ESNext",S1[S1.JSON=100]="JSON",S1[S1.Latest=99]="Latest",(x1=k1||(k1={}))[x1.Classic=1]="Classic",x1[x1.NodeJs=2]="NodeJs";var D1=function(){function e(e,t,i,n){this._onDidChange=new n1,this._onDidExtraLibsChange=new n1,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(n),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(e,t){var i,n=this;if(i=void 0===t?"ts:extralib-"+Math.random().toString(36).substring(2,15):t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:function(){}};var o=1;return this._removedExtraLibs[i]&&(o=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(o=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:o},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var e=n._extraLibs[i];e&&e.version===o&&(delete n._extraLibs[i],n._removedExtraLibs[i]=o,n._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(e){for(var t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(var i=0,n=e;i<n.length;i++){var o=n[i],s=(t=o.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),o.content),r=1;this._removedExtraLibs[t]&&(r=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:s,version:r}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout((function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)}),0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setWorkerOptions=function(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setInlayHintsOptions=function(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(e){},e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}(),E1=new D1({allowNonTsExtensions:!0,target:y1.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),N1=new D1({allowNonTsExtensions:!0,allowJs:!0,target:y1.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});function I1(){return import("./tsMode.91ba9fa6.js")}p1.typescript={ModuleKind:f1,JsxEmit:b1,NewLineKind:w1,ScriptTarget:y1,ModuleResolutionKind:k1,typescriptVersion:"4.4.4",typescriptDefaults:E1,javascriptDefaults:N1,getTypeScriptWorker:function(){return I1().then((function(e){return e.getTypeScriptWorker()}))},getJavaScriptWorker:function(){return I1().then((function(e){return e.getJavaScriptWorker()}))}},p1.onLanguage("typescript",(function(){return I1().then((function(e){return e.setupTypeScript(E1)}))})),p1.onLanguage("javascript",(function(){return I1().then((function(e){return e.setupJavaScript(N1)}))}));var T1=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(G1){s(G1)}}function a(e){try{l(n.throw(e))}catch(G1){s(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},M1=function(e,t){var i,n,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,n=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=r.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(G1){s=[6,G1],n=0}finally{i=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},A1=function(){function e(e,t,i){this._onDidChange=new n1,this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),R1={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function O1(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===P1,documentFormattingEdits:e===P1,documentRangeFormattingEdits:e===P1}}var P1="html",F1=U1(P1,R1,O1(P1)),B1=F1.defaults,W1=U1("handlebars",R1,O1("handlebars")),V1=W1.defaults,H1=U1("razor",R1,O1("razor")),z1=H1.defaults;function U1(e,t,i){var n=this;void 0===t&&(t=R1),void 0===i&&(i=O1(e));var o,s=new A1(e,t,i),r=p1.onLanguage(e,(function(){return T1(n,void 0,void 0,(function(){return M1(this,(function(e){switch(e.label){case 0:return[4,import("./htmlMode.897b7e00.js")];case 1:return o=e.sent().setupMode(s),[2]}}))}))}));return{defaults:s,dispose:function(){r.dispose(),null==o||o.dispose(),o=void 0}}}p1.html={htmlDefaults:B1,razorDefaults:z1,handlebarDefaults:V1,htmlLanguageService:F1,handlebarLanguageService:W1,razorLanguageService:H1,registerHTMLLanguageService:U1};var K1={},j1={},$1=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,i){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=i}))}return e.getOrCreate=function(t){return j1[t]||(j1[t]=new e(t)),j1[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,K1[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function q1(e){var t=e.id;K1[t]=e,p1.register(e);var i=$1.getOrCreate(t);p1.setMonarchTokensProvider(t,i.whenLoaded().then((function(e){return e.language}))),p1.onLanguage(t,(function(){i.load().then((function(e){p1.setLanguageConfiguration(t,e.conf)}))}))}q1({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return import("./abap.04cee626.js")}}),q1({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return import("./apex.c5088c42.js")}}),q1({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return import("./azcli.f36a5a36.js")}}),q1({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return import("./bat.b5db3c5a.js")}}),q1({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return import("./bicep.10bbd454.js")}}),q1({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return import("./cameligo.4643cba1.js")}}),q1({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return import("./clojure.05093b64.js")}}),q1({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return import("./coffee.e6b3cc2d.js")}}),q1({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return import("./cpp.fb9be509.js")}}),q1({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return import("./cpp.fb9be509.js")}}),q1({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return import("./csharp.4c6bb905.js")}}),q1({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return import("./csp.c34f6a5f.js")}}),q1({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return import("./css.bf5b171d.js")}}),q1({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return import("./dart.c08c6112.js")}}),q1({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return import("./dockerfile.90f1e2bd.js")}}),q1({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return import("./ecl.ff9bc06a.js")}}),q1({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return import("./elixir.98c735a3.js")}}),q1({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:function(){return import("./flow9.7ec1b48c.js")}}),q1({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return import("./fsharp.bcb0f9aa.js")}}),q1({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return import("./go.10d06030.js")}}),q1({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return import("./graphql.de14f35e.js")}}),q1({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return import("./handlebars.b9dd8342.js")}}),q1({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return import("./hcl.7a957c8f.js")}}),q1({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return import("./html.0719d8df.js")}}),q1({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return import("./ini.92d2a2c1.js")}}),q1({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return import("./java.103d3538.js")}}),q1({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return import("./javascript.2f3c3e75.js")}}),q1({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return import("./julia.4ea4f3ab.js")}}),q1({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return import("./kotlin.e8168df8.js")}}),q1({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return import("./less.555fca60.js")}}),q1({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return import("./lexon.d3d9455f.js")}}),q1({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return import("./lua.3ac4467c.js")}}),q1({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return import("./liquid.60d6ba04.js")}}),q1({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return import("./m3.83e299c1.js")}}),q1({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return import("./markdown.b7a37259.js")}}),q1({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return import("./mips.0228b6ca.js")}}),q1({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return import("./msdax.7c67ac13.js")}}),q1({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return import("./mysql.1ef235f6.js")}}),q1({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return import("./objective-c.fd7c4ce2.js")}}),q1({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return import("./pascal.7391603e.js")}}),q1({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return import("./pascaligo.88da6db0.js")}}),q1({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return import("./perl.b03a1275.js")}}),q1({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return import("./pgsql.797807ae.js")}}),q1({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return import("./php.d78635cc.js")}}),q1({id:"pla",extensions:[".pla"],loader:function(){return import("./pla.c810e83c.js")}}),q1({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return import("./postiats.e06c71a6.js")}}),q1({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return import("./powerquery.3c187316.js")}}),q1({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return import("./powershell.ff9b22b6.js")}}),q1({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:function(){return import("./protobuf.ca8217fc.js")}}),q1({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return import("./pug.24f67c62.js")}}),q1({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return import("./python.aef9a193.js")}}),q1({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return import("./qsharp.6964d470.js")}}),q1({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return import("./r.48f69ba8.js")}}),q1({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return import("./razor.4488e317.js")}}),q1({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return import("./redis.63e820ef.js")}}),q1({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return import("./redshift.ee5b8002.js")}}),q1({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return import("./restructuredtext.1d425b4e.js")}}),q1({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return import("./ruby.9a7bb539.js")}}),q1({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return import("./rust.db6ed778.js")}}),q1({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return import("./sb.ccc4de02.js")}}),q1({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return import("./scala.d77338b7.js")}}),q1({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return import("./scheme.1710a663.js")}}),q1({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return import("./scss.707805c2.js")}}),q1({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return import("./shell.6a2cb036.js")}}),q1({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return import("./solidity.416ce7d4.js")}}),q1({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return import("./sophia.eaceaefd.js")}}),q1({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return import("./sparql.e41358d0.js")}}),q1({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return import("./sql.69b45afa.js")}}),q1({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return import("./st.72bf69d9.js")}}),q1({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return import("./swift.1c5e527d.js")}}),q1({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return import("./systemverilog.6cb1ac04.js")}}),q1({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return import("./systemverilog.6cb1ac04.js")}}),q1({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return import("./tcl.bf17deed.js")}}),q1({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return import("./twig.ae4af998.js")}}),q1({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return import("./typescript.864491c0.js")}}),q1({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return import("./vb.f6325670.js")}}),q1({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return import("./xml.d334dbc9.js")}}),q1({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return import("./yaml.c587e7af.js")}});export{h1 as M,a1 as R,u1 as U,c1 as a,m1 as e,p1 as l,L1 as m,E1 as t};
