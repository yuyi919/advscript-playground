import{c as e,a as t}from"./parser.d5d33482.js";import{l as i,m as n,n as o,s as r,c as s,d as a,b as l}from"./lsp.289540be.js";import"./vsc.14d9df5d.js";let u;const c={},d=function(e,t){if(!t||0===t.length)return e();if(void 0===u){const e=document.createElement("link").relList;u=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/advscript-playground/${e}`)in c)return;c[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":u,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e()))};function h(e){return(null==e?void 0:e.type)===g.Source}var g,p,m,f,v,_;function b(e,t){return function(i,n,o){const r={...n,type:e,kind:i};return C(r,o),Object.defineProperties(r,{kindName:{get(){return t[this.kind]},enumerable:!0}}),r}}function C(e,t){const i={_source:t,get sourceNode(){return"object"==typeof this._source?this._source:void 0}};return Object.setPrototypeOf(e,i),Object.defineProperties(e,{sourceString:{get(){return"object"==typeof this._source?this._source.sourceString:this._source},enumerable:!0,configurable:!0}}),e}(p=g||(g={})).Source="Source",p.Comment="Comment",p.Statment="statment",p.Expression="expression",p.Content="Content",p.Logic="logic",(f=m||(m={}))[f.Ignore=0]="Ignore",f[f.Content=1]="Content",(_=v||(v={}))[_.Single=0]="Single";const w=b(g.Comment,v);function y(e,t){return w(0,{value:e},t)}var S,D;(D=S||(S={}))[D.Comma=0]="Comma",D[D.Assign=1]="Assign",D[D.Binary=2]="Binary",D[D.VariableIdentifier=3]="VariableIdentifier",D[D.ArrayLiteral=4]="ArrayLiteral",D[D.PrecetLiteral=5]="PrecetLiteral",D[D.ArraySpreadLiteral=6]="ArraySpreadLiteral",D[D.Literal=7]="Literal",D[D.Comment=8]="Comment",D[D.CallFunction=9]="CallFunction",D[D.Template=10]="Template",D[D.CallMacro=11]="CallMacro";const k=b(g.Expression,S);var I,E,x,L,A,N,T,O,F,M,R,P,B,W,V,H,z,K;function U(e,t,i,n){let o;return o in x?o=0:o in A?o=1:o in F?o=2:o in R?o=3:o in B?o=4:(o in V||o in z)&&(o=5),k(S.Binary,{value:{kind:o,left:e,operator:t,right:i}},n)}function j(e,t,i,n){const o="string"==typeof e?Z(null,e):e;return k(S.Binary,{value:i?{kind:5,left:o,operator:t,right:null}:{kind:5,left:null,operator:t,right:o}},n)}function q(e="<anonymous>",t,i){return k(S.CallMacro,{name:e,params:(null==t?void 0:t.params)||{},flags:(null==t?void 0:t.flags)||[]},i)}function $(e="<anonymous>",t,i){return k(S.CallFunction,{argumentList:t||[],name:e},i)}function G(e,t){if(function(e){return e.kind===S.CallFunction}(e))return e;const{kind:i,params:n,flags:o,...r}=e;return k(S.CallFunction,{...r,argumentList:[o.reduce(((e,t)=>({...e,[t]:!0})),{...n})],meta:{params:n,flags:o}},null!=t?t:e.sourceString)}function Z(e,t){return k(S.VariableIdentifier,{kindName:S[S.VariableIdentifier],prefix:e,text:t},e?e+t:t)}function Y(e,t){return k(S.Literal,{value:e},t)}(E=I||(I={}))[E.OrNull=0]="OrNull",E[E.Logic=1]="Logic",E[E.Realtion=2]="Realtion",E[E.Addition=3]="Addition",E[E.Multiplication=4]="Multiplication",E[E.Automic=5]="Automic",(L=x||(x={}))[L["??"]=0]="??",(N=A||(A={}))[N["||"]=0]="||",N[N["&&"]=1]="&&",(O=T||(T={}))[O["!="]=0]="!=",O[O["=="]=1]="==",(M=F||(F={}))[M[">="]=0]=">=",M[M["<="]=1]="<=",M[M[">"]=2]=">",M[M["<"]=3]="<",(P=R||(R={}))[P["+"]=0]="+",P[P["-"]=1]="-",(W=B||(B={}))[W["%"]=0]="%",W[W["/"]=1]="/",W[W["*"]=2]="*",(H=V||(V={}))[H["^"]=0]="^",H[H["!"]=1]="!",(K=z||(z={}))[K["++"]=0]="++",K[K["--"]=1]="--";var J=function(){const e={},t={exports:e};var i,n;return i=globalThis,n=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t,i){const n={};for(let o=0;o<128;o++)n[o]=String.fromCharCode(o);n["'".charCodeAt(0)]="\\'",n['"'.charCodeAt(0)]='\\"',n["\\".charCodeAt(0)]="\\\\",n["\b".charCodeAt(0)]="\\b",n["\f".charCodeAt(0)]="\\f",n["\n".charCodeAt(0)]="\\n",n["\r".charCodeAt(0)]="\\r",n["\t".charCodeAt(0)]="\\t",n["\v".charCodeAt(0)]="\\v",t.abstract=function(e){const t=e||"";return function(){throw new Error("this method "+t+" is abstract! (it has no implementation in class "+this.constructor.name+")")}},t.assert=function(e,t){if(!e)throw new Error(t)},t.defineLazyProperty=function(e,t,i){let n;Object.defineProperty(e,t,{get(){return n||(n=i.call(this)),n}})},t.clone=function(e){return e?Object.assign({},e):e},t.repeatFn=function(e,t){const i=[];for(;t-- >0;)i.push(e());return i},t.repeatStr=function(e,t){return new Array(t+1).join(e)},t.repeat=function(e,i){return t.repeatFn((()=>e),i)},t.getDuplicates=function(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i];e.lastIndexOf(n)!==i&&t.indexOf(n)<0&&t.push(n)}return t},t.copyWithoutDuplicates=function(e){const t=[];return e.forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t},t.isSyntactic=function(e){const t=e[0];return t===t.toUpperCase()},t.isLexical=function(e){return!t.isSyntactic(e)},t.padLeft=function(e,i,n){const o=n||" ";return e.length<i?t.repeatStr(o,i-e.length)+e:e},t.StringBuffer=function(){this.strings=[]},t.StringBuffer.prototype.append=function(e){this.strings.push(e)},t.StringBuffer.prototype.contents=function(){return this.strings.join("")},t.escapeChar=function(e,i){const o=e.charCodeAt(0);return'"'!==e&&"'"!==e||!i||e===i?o<128?n[o]:128<=o&&o<256?"\\x"+t.padLeft(o.toString(16),2,"0"):"\\u"+t.padLeft(o.toString(16),4,"0"):e},t.unescapeChar=function(e){if("\\"!==e.charAt(0))return e;switch(e.charAt(1)){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"x":return String.fromCharCode(parseInt(e.substring(2,4),16));case"u":return String.fromCharCode(parseInt(e.substring(2,6),16));default:return e.charAt(1)}},t.unexpectedObjToString=function(e){if(null==e)return String(e);const t=Object.prototype.toString.call(e);try{let i;return i=e.constructor&&e.constructor.name?e.constructor.name:0===t.indexOf("[object ")?t.slice(8,-1):typeof e,i+": "+JSON.stringify(String(e))}catch(i){return t}}},function(e,t,i){const n=i(16),o=i(0);class r{constructor(){if(this.constructor===r)throw new Error("PExpr cannot be instantiated -- it's abstract")}withSource(e){return e&&(this.source=e.trimmed()),this}}const s=Object.create(r.prototype),a=Object.create(r.prototype);class l extends r{constructor(e){super(),this.terms=e}}class u extends r{constructor(e){super(),this.expr=e}}class c extends u{}class d extends u{}class h extends u{}c.prototype.operator="*",d.prototype.operator="+",h.prototype.operator="?",c.prototype.minNumMatches=0,d.prototype.minNumMatches=1,h.prototype.minNumMatches=0,c.prototype.maxNumMatches=Number.POSITIVE_INFINITY,d.prototype.maxNumMatches=Number.POSITIVE_INFINITY,h.prototype.maxNumMatches=1,t.PExpr=r,t.any=s,t.end=a,t.Terminal=class extends r{constructor(e){super(),this.obj=e}},t.Range=class extends r{constructor(e,t){super(),this.from=e,this.to=t}},t.Param=class extends r{constructor(e){super(),this.index=e}},t.Alt=l,t.Extend=class extends l{constructor(e,t,i){super([i,e.rules[t].body]),this.superGrammar=e,this.name=t,this.body=i}},t.Splice=class extends l{constructor(e,t,i,n){const o=e.rules[t].body;super([...i,o,...n]),this.superGrammar=e,this.ruleName=t,this.expansionPos=i.length}},t.Seq=class extends r{constructor(e){super(),this.factors=e}},t.Iter=u,t.Star=c,t.Plus=d,t.Opt=h,t.Not=class extends r{constructor(e){super(),this.expr=e}},t.Lookahead=class extends r{constructor(e){super(),this.expr=e}},t.Lex=class extends r{constructor(e){super(),this.expr=e}},t.Apply=class extends r{constructor(e,t=[]){super(),this.ruleName=e,this.args=t}isSyntactic(){return o.isSyntactic(this.ruleName)}toMemoKey(){return this._memoKey||Object.defineProperty(this,"_memoKey",{value:this.toString()}),this._memoKey}},t.UnicodeChar=class extends r{constructor(e){super(),this.category=e,this.pattern=n[e]}},i(17),i(18),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26),i(27),i(28),i(29),i(30)},function(e,t,i){const n=i(1),o=i(11);function r(e,t){let i;return t?(i=new Error(t.getLineAndColumnMessage()+e),i.shortMessage=e,i.interval=t):i=new Error(e),i}e.exports={applicationOfSyntacticRuleFromLexicalContext:function(e,t){return r("Cannot apply syntactic rule "+e+" from here (inside a lexical context)",t.source)},cannotExtendUndeclaredRule:function(e,t,i){return r("Cannot extend rule "+e+" because it is not declared in "+t,i)},cannotOverrideUndeclaredRule:function(e,t,i){return r("Cannot override rule "+e+" because it is not declared in "+t,i)},duplicateGrammarDeclaration:function(e,t){return r("Grammar "+e.name+" is already declared in this namespace")},duplicateParameterNames:function(e,t,i){return r("Duplicate parameter names in rule "+e+": "+t.join(", "),i)},duplicatePropertyNames:function(e){return r("Object pattern has duplicate property names: "+e.join(", "))},duplicateRuleDeclaration:function(e,t,i,n){let o="Duplicate declaration for rule '"+e+"' in grammar '"+t+"'";return t!==i&&(o+=" (originally declared in '"+i+"')"),r(o,n)},inconsistentArity:function(e,t,i,n){return r("Rule "+e+" involves an alternation which has inconsistent arity (expected "+t+", got "+i+")",n.source)},incorrectArgumentType:function(e,t){return r("Incorrect argument type: expected "+e,t.source)},intervalSourcesDontMatch:function(){return r("Interval sources don't match")},invalidConstructorCall:function(e,t,i){return r("Attempt to invoke constructor "+t+" with invalid or unexpected arguments")},invalidParameter:function(e,t){return r("Invalid parameter to rule "+e+": "+t+" has arity "+t.getArity()+", but parameter expressions must have arity 1",t.source)},grammarSyntaxError:function(e){const t=new Error;return Object.defineProperty(t,"message",{enumerable:!0,get:()=>e.message}),Object.defineProperty(t,"shortMessage",{enumerable:!0,get:()=>"Expected "+e.getExpectedText()}),t.interval=e.getInterval(),t},kleeneExprHasNullableOperand:function(e,t){const i=t.length>0?t[t.length-1].args:[];let o="Nullable expression "+e.expr.substituteParams(i)+" is not allowed inside '"+e.operator+"' (possible infinite loop)";return t.length>0&&(o+="\nApplication stack (most recent application last):\n"+t.map((e=>new n.Apply(e.ruleName,e.args))).join("\n")),r(o,e.expr.source)},missingSemanticAction:function(e,t,i,n){let o=n.slice(0,-1).map((e=>{const t="  "+e[0].name+" > "+e[1];return 3===e.length?t+" for '"+e[2]+"'":t})).join("\n");o+="\n  "+t+" > "+e;let s="";"_iter"===e&&(s=["\nNOTE: as of Ohm v16, there is no default action for iteration nodes — see ","  https://git.io/JRwtG for details."].join("\n"));const a=r([`Missing semantic action for '${e}' in ${i} '${t}'.${s}`,"Action stack (most recent call last):",o].join("\n"));return a.name="missingSemanticAction",a},multipleSuperSplices:function(e){return r("'...' can appear at most once in a rule body",e.source)},undeclaredGrammar:function(e,t,i){return r(t?"Grammar "+e+" is not declared in namespace "+o.toString(t):"Undeclared grammar "+e,i)},undeclaredRule:function(e,t,i){return r("Rule "+e+" is not declared in grammar "+t,i)},wrongNumberOfArguments:function(e,t,i,n){return r("Wrong number of arguments for rule "+e+" (expected "+t+", got "+i+")",n.source)},wrongNumberOfParameters:function(e,t,i,n){return r("Wrong number of parameters for rule "+e+" (expected "+t+", got "+i+")",n)},throwErrors(e){if(1===e.length)throw e[0];if(e.length>1)throw function(e){const t=e.map((e=>e.message));return r(["Errors:"].concat(t).join("\n- "),e[0].interval)}(e)}}},function(e,t,i){const n=i(0);function o(e,t,i){const n=e.length;return(e.slice(0,i)+t+e.slice(i+t.length)).substr(0,n)}function r(...e){const t=this,i=t.offset,r=n.repeatStr,s=new n.StringBuffer;s.append("Line "+t.lineNum+", col "+t.colNum+":\n");const a=function(e){let t=0;return e.map((e=>{const i=e.toString();return t=Math.max(t,i.length),i})).map((e=>n.padLeft(e,t)))}([null==t.prevLine?0:t.lineNum-1,t.lineNum,null==t.nextLine?0:t.lineNum+1]),l=(e,t,i)=>{s.append(i+a[e]+" | "+t+"\n")};null!=t.prevLine&&l(0,t.prevLine,"  "),l(1,t.line,"> ");const u=t.line.length;let c=r(" ",u+1);for(let h=0;h<e.length;++h){let s=e[h][0],a=e[h][1];n.assert(s>=0&&s<=a,"range start must be >= 0 and <= end");const l=i-t.colNum+1;s=Math.max(0,s-l),a=Math.min(a-l,u),c=o(c,r("~",a-s),s)}const d=2+a[1].length+3;return s.append(r(" ",d)),c=o(c,"^",t.colNum-1),s.append(c.replace(/ +$/,"")+"\n"),null!=t.nextLine&&l(2,t.nextLine,"  "),s.contents()}let s=[];t.awaitBuiltInRules=e=>{s.push(e)},t.announceBuiltInRules=e=>{s.forEach((t=>{t(e)})),s=null},t.getLineAndColumn=(e,t)=>{let i=1,n=1,o=0,s=0,a=null,l=null,u=-1;for(;o<t;){const t=e.charAt(o++);"\n"===t?(i++,n=1,u=s,s=o):"\r"!==t&&n++}let c=e.indexOf("\n",s);if(-1===c)c=e.length;else{const t=e.indexOf("\n",c+1);a=-1===t?e.slice(c):e.slice(c,t),a=a.replace(/^\r?\n/,"").replace(/\r$/,"")}return u>=0&&(l=e.slice(u,s).replace(/\r?\n$/,"")),{offset:t,lineNum:i,colNum:n,line:e.slice(s,c).replace(/\r$/,""),prevLine:l,nextLine:a,toString:r}},t.getLineAndColumnMessage=function(e,i,...n){return t.getLineAndColumn(e,i).toString(...n)},t.uniqueId=(()=>{let e=0;return t=>""+t+e++})()},function(e,t,i){const n=i(14),o=i(5),r=i(11),s=i(0),a=i(2),l=i(1),u=i(3),c=i(37);let d;const h=Object.create(l.PExpr.prototype);function g(e,t,i){const r=new n;let u,c,g,p=!1;return(i||d).createSemantics().addOperation("visit",{Grammars:e=>e.children.map((e=>e.visit())),Grammar(e,i,n,o,s){const l=e.visit();u=r.newGrammar(l,t),i.child(0)&&i.child(0).visit(),o.children.map((e=>e.visit()));const c=u.build();if(c.source=this.source.trimmed(),l in t)throw a.duplicateGrammarDeclaration(c,t);return t[l]=c,c},SuperGrammar(e,i){const n=i.visit();if("null"===n)u.withSuperGrammar(null);else{if(!t||!(n in t))throw a.undeclaredGrammar(n,t,i.source);u.withSuperGrammar(t[n])}},Rule_define(e,t,i,n,r){c=e.visit(),g=t.children.map((e=>e.visit()))[0]||[],u.defaultStartRule||u.ensureSuperGrammar()===o.ProtoBuiltInRules||u.withDefaultStartRule(c);const s=r.visit(),a=i.children.map((e=>e.visit()))[0],l=this.source.trimmed();return u.define(c,g,s,a,l)},Rule_override(e,t,i,n){c=e.visit(),g=t.children.map((e=>e.visit()))[0]||[];const o=this.source.trimmed();u.ensureSuperGrammarRuleForOverriding(c,o),p=!0;const r=n.visit();return p=!1,u.override(c,g,r,null,o)},Rule_extend(e,t,i,n){c=e.visit(),g=t.children.map((e=>e.visit()))[0]||[];const o=n.visit(),r=this.source.trimmed();return u.extend(c,g,o,null,r)},RuleBody(e,t){const i=t.visit();return r.alt.apply(r,i).withSource(this.source)},OverrideRuleBody(e,t){const i=t.visit(),n=i.indexOf(h);if(n>=0){const e=i.slice(0,n),t=i.slice(n+1);return t.forEach((e=>{if(e===h)throw a.multipleSuperSplices(e)})),new l.Splice(u.superGrammar,c,e,t).withSource(this.source)}return r.alt.apply(r,i).withSource(this.source)},Formals:(e,t,i)=>t.visit(),Params:(e,t,i)=>t.visit(),Alt(e){const t=e.visit();return r.alt.apply(r,t).withSource(this.source)},TopLevelTerm_inline(e,t){const i=c+"_"+t.visit(),n=e.visit(),o=this.source.trimmed(),s=!(u.superGrammar&&u.superGrammar.rules[i]);p&&!s?u.override(i,g,n,null,o):u.define(i,g,n,null,o);const a=g.map((e=>r.app(e)));return r.app(i,a).withSource(n.source)},OverrideTopLevelTerm_superSplice:e=>h,Seq(e){return r.seq.apply(r,e.children.map((e=>e.visit()))).withSource(this.source)},Iter_star(e,t){return r.star(e.visit()).withSource(this.source)},Iter_plus(e,t){return r.plus(e.visit()).withSource(this.source)},Iter_opt(e,t){return r.opt(e.visit()).withSource(this.source)},Pred_not(e,t){return r.not(t.visit()).withSource(this.source)},Pred_lookahead(e,t){return r.lookahead(t.visit()).withSource(this.source)},Lex_lex(e,t){return r.lex(t.visit()).withSource(this.source)},Base_application(e,t){const i=t.children.map((e=>e.visit()))[0]||[];return r.app(e.visit(),i).withSource(this.source)},Base_range(e,t,i){return r.range(e.visit(),i.visit()).withSource(this.source)},Base_terminal(e){return r.terminal(e.visit()).withSource(this.source)},Base_paren:(e,t,i)=>t.visit(),ruleDescr:(e,t,i)=>t.visit(),ruleDescrText(e){return this.sourceString.trim()},caseName:(e,t,i,n,o)=>i.visit(),name(e,t){return this.sourceString},nameFirst(e){},nameRest(e){},terminal:(e,t,i)=>t.children.map((e=>e.visit())).join(""),oneCharTerminal:(e,t,i)=>t.visit(),terminalChar(e){return s.unescapeChar(this.sourceString)},escapeChar(e){return this.sourceString},NonemptyListOf:(e,t,i)=>[e.visit()].concat(i.children.map((e=>e.visit()))),EmptyListOf:()=>[],_terminal(){return this.sourceString}})(e).visit()}function p(e,t){const i=r.extend(r.asNamespace(t));if("string"!=typeof e){if(!(n=e).constructor||"function"!=typeof n.constructor.isBuffer||!n.constructor.isBuffer(n))throw new TypeError("Expected string as first argument, got "+s.unexpectedObjToString(e));e=e.toString()}var n;return function(e,t){const i=d.match(e,"Grammars");if(i.failed())throw a.grammarSyntaxError(i);g(i,t)}(e,i),i}e.exports={createNamespace:r.createNamespace,grammar:function(e,t){const i=p(e,t),n=Object.keys(i);if(0===n.length)throw new Error("Missing grammar definition");if(n.length>1){const e=i[n[1]].source;throw new Error(u.getLineAndColumnMessage(e.sourceString,e.startIdx)+"Found more than one grammar definition -- use ohm.grammars() instead.")}return i[n[0]]},grammars:p,grammarFromScriptElement:function(e){throw new Error("grammarFromScriptElement was removed in Ohm v16.0. See https://git.io/J0gnK for more info.")},grammarsFromScriptElements:function(e){throw new Error("grammarsFromScriptElements was removed in Ohm v16.0. See https://git.io/J0gnK for more info.")},makeRecipe:function(e){return"function"==typeof e?e.call(new n):("string"==typeof e&&(e=JSON.parse(e)),(new n).fromRecipe(e))},ohmGrammar:null,pexprs:l,util:u,extras:i(38),version:c},e.exports._buildGrammar=g,o.BuiltInRules=i(40),u.announceBuiltInRules(o.BuiltInRules),e.exports.ohmGrammar=d=i(41),o.initApplicationParser(d,g)},function(e,t,i){const n=i(15),o=i(31),r=i(34),s=i(0),a=i(2),l=i(1),u=["_iter","_terminal","_nonterminal","_default"];function c(e){return Object.keys(e.rules).sort().map((t=>e.rules[t]))}function d(e,t,i,n){if(this.name=e,this.superGrammar=t,this.rules=i,n){if(!(n in i))throw new Error("Invalid start rule: '"+n+"' is not a rule in grammar '"+e+"'");this.defaultStartRule=n}}let h,g;d.initApplicationParser=function(e,t){h=e,g=t},d.prototype={matcher(){return new o(this)},isBuiltIn(){return this===d.ProtoBuiltInRules||this===d.BuiltInRules},equals(e){if(this===e)return!0;if(null==e||this.name!==e.name||this.defaultStartRule!==e.defaultStartRule||this.superGrammar!==e.superGrammar&&!this.superGrammar.equals(e.superGrammar))return!1;const t=c(this),i=c(e);return t.length===i.length&&t.every(((e,t)=>e.description===i[t].description&&e.formals.join(",")===i[t].formals.join(",")&&e.body.toString()===i[t].body.toString()))},match(e,t){const i=this.matcher();return i.replaceInputRange(0,0,e),i.match(t)},trace(e,t){const i=this.matcher();return i.replaceInputRange(0,0,e),i.trace(t)},createSemantics(){return r.createSemantics(this)},extendSemantics(e){return r.createSemantics(this,e._getSemantics())},_checkTopDownActionDict(e,t,i){const n=[];for(const o in i){const e=i[o];if(!u.includes(o)&&!(o in this.rules)){n.push(`'${o}' is not a valid semantic action for '${this.name}'`);continue}if("function"!=typeof e){n.push(`'${o}' must be a function in an action dictionary for '${this.name}'`);continue}const t=e.length,r=this._topDownActionArity(o);if(t!==r){let e;e="_iter"===o||"_nonterminal"===o?`it should use a rest parameter, e.g. \`${o}(...children) {}\`. NOTE: this is new in Ohm v16 — see https://git.io/Jz4CI for details.`:`expected ${r}, got ${t}`,n.push(`Semantic action '${o}' has the wrong arity: ${e}`)}}if(n.length>0){const i=n.map((e=>"- "+e)),o=new Error([`Found errors in the action dictionary of the '${t}' ${e}:`,...i].join("\n"));throw o.problems=n,o}},_topDownActionArity(e){return u.includes(e)?0:this.rules[e].body.getArity()},_inheritsFrom(e){let t=this.superGrammar;for(;t;){if(t.equals(e,!0))return!0;t=t.superGrammar}return!1},toRecipe(e){const t={};this.source&&(t.source=this.source.contents);let i=null;this.defaultStartRule&&(i=this.defaultStartRule);const n={};Object.keys(this.rules).forEach((e=>{const t=this.rules[e],i=t.body,o=!this.superGrammar||!this.superGrammar.rules[e];let r;r=o?"define":i instanceof l.Extend?"extend":"override";const s={};if(t.source&&this.source){const e=t.source.relativeTo(this.source);s.sourceInterval=[e.startIdx,e.endIdx]}const a=o?t.description:null,u=i.outputRecipe(t.formals,this.source);n[e]=[r,s,a,t.formals,u]}));let o="null";return e?o=e:this.superGrammar&&!this.superGrammar.isBuiltIn()&&(o=this.superGrammar.toRecipe()),`[${[...["grammar",t,this.name].map(JSON.stringify),o,...[i,n].map(JSON.stringify)].join(",")}]`.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},toOperationActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()},toAttributeActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()},_toOperationOrAttributeActionDictionaryTemplate(){const e=new s.StringBuffer;e.append("{");let t=!0;for(const i in this.rules){const n=this.rules[i].body;t?t=!1:e.append(","),e.append("\n"),e.append("  "),this.addSemanticActionTemplate(i,n,e)}return e.append("\n}"),e.contents()},addSemanticActionTemplate(e,t,i){i.append(e),i.append(": function(");const n=this._topDownActionArity(e);i.append(s.repeat("_",n).join(", ")),i.append(") {\n"),i.append("  }")},parseApplication(e){let t;if(-1===e.indexOf("<"))t=new l.Apply(e);else{const i=h.match(e,"Base_application");t=g(i,{})}if(!(t.ruleName in this.rules))throw a.undeclaredRule(t.ruleName,this.name);const i=this.rules[t.ruleName].formals;if(i.length!==t.args.length){const e=this.rules[t.ruleName].source;throw a.wrongNumberOfParameters(t.ruleName,i.length,t.args.length,e)}return t}},d.ProtoBuiltInRules=new d("ProtoBuiltInRules",void 0,{any:{body:l.any,formals:[],description:"any character",primitive:!0},end:{body:l.end,formals:[],description:"end of input",primitive:!0},caseInsensitive:{body:new n(new l.Param(0)),formals:["str"],primitive:!0},lower:{body:new l.UnicodeChar("Ll"),formals:[],description:"a lowercase letter",primitive:!0},upper:{body:new l.UnicodeChar("Lu"),formals:[],description:"an uppercase letter",primitive:!0},unicodeLtmo:{body:new l.UnicodeChar("Ltmo"),formals:[],description:"a Unicode character in Lt, Lm, or Lo",primitive:!0},spaces:{body:new l.Star(new l.Apply("space")),formals:[]},space:{body:new l.Range("\0"," "),formals:[],description:"a space"}}),e.exports=d},function(e,t,i){const n=i(0);let o=!1;class r{constructor(e,t,i){this.grammar=e,this.ctorName=t,this.matchLength=i}numChildren(){return this.children?this.children.length:0}childAt(e){if(this.children)return this.children[e]}indexOfChild(e){return this.children.indexOf(e)}hasChildren(){return this.numChildren()>0}hasNoChildren(){return!this.hasChildren()}onlyChild(){if(1!==this.numChildren())throw new Error("cannot get only child of a node of type "+this.ctorName+" (it has "+this.numChildren()+" children)");return this.firstChild()}firstChild(){if(this.hasNoChildren())throw new Error("cannot get first child of a "+this.ctorName+" node, which has no children");return this.childAt(0)}lastChild(){if(this.hasNoChildren())throw new Error("cannot get last child of a "+this.ctorName+" node, which has no children");return this.childAt(this.numChildren()-1)}childBefore(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childBefore() called w/ an argument that is not a child");if(0===t)throw new Error("cannot get child before first child");return this.childAt(t-1)}childAfter(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childAfter() called w/ an argument that is not a child");if(t===this.numChildren()-1)throw new Error("cannot get child after last child");return this.childAt(t+1)}isTerminal(){return!1}isNonterminal(){return!1}isIteration(){return!1}isOptional(){return!1}toJSON(){return{[this.ctorName]:this.children}}}e.exports={Node:r,TerminalNode:class extends r{constructor(e,t){super(e,"_terminal",t?t.length:0),this._value=t}isTerminal(){return!0}toJSON(){return{[this.ctorName]:this._value}}get primitiveValue(){return o||(console.warn("Warning: primitiveValue is deprecated and will be removed in a future version of Ohm. Use sourceString instead."),o=!0),this._value}},NonterminalNode:class extends r{constructor(e,t,i,n,o){super(e,t,o),this.children=i,this.childOffsets=n}isNonterminal(){return!0}isLexical(){return n.isLexical(this.ctorName)}isSyntactic(){return n.isSyntactic(this.ctorName)}},IterationNode:class extends r{constructor(e,t,i,n,o){super(e,"_iter",n),this.children=t,this.childOffsets=i,this.optional=o}isIteration(){return!0}isOptional(){return this.optional}}}},function(e,t,i){const n=i(0).assert,o=i(2),r=i(3);function s(e,t,i){this.sourceString=e,this.startIdx=t,this.endIdx=i}s.coverage=function(){const e=arguments[0].sourceString;let t=arguments[0].startIdx,i=arguments[0].endIdx;for(let n=1;n<arguments.length;n++){if(arguments[n].sourceString!==e)throw o.intervalSourcesDontMatch();t=Math.min(t,arguments[n].startIdx),i=Math.max(i,arguments[n].endIdx)}return new s(e,t,i)},s.prototype={coverageWith(){const e=Array.prototype.slice.call(arguments);return e.push(this),s.coverage.apply(void 0,e)},collapsedLeft(){return new s(this.sourceString,this.startIdx,this.startIdx)},collapsedRight(){return new s(this.sourceString,this.endIdx,this.endIdx)},getLineAndColumn(){return r.getLineAndColumn(this.sourceString,this.startIdx)},getLineAndColumnMessage(){const e=[this.startIdx,this.endIdx];return r.getLineAndColumnMessage(this.sourceString,this.startIdx,e)},minus(e){if(this.sourceString!==e.sourceString)throw o.intervalSourcesDontMatch();return this.startIdx===e.startIdx&&this.endIdx===e.endIdx?[]:this.startIdx<e.startIdx&&e.endIdx<this.endIdx?[new s(this.sourceString,this.startIdx,e.startIdx),new s(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.endIdx&&e.endIdx<this.endIdx?[new s(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.startIdx&&e.startIdx<this.endIdx?[new s(this.sourceString,this.startIdx,e.startIdx)]:[this]},relativeTo(e){if(this.sourceString!==e.sourceString)throw o.intervalSourcesDontMatch();return n(this.startIdx>=e.startIdx&&this.endIdx<=e.endIdx,"other interval does not cover this one"),new s(this.sourceString,this.startIdx-e.startIdx,this.endIdx-e.startIdx)},trimmed(){const e=this.contents,t=this.startIdx+e.match(/^\s*/)[0].length,i=this.endIdx-e.match(/\s*$/)[0].length;return new s(this.sourceString,t,i)},subInterval(e,t){const i=this.startIdx+e;return new s(this.sourceString,i,i+t)}},Object.defineProperties(s.prototype,{contents:{get(){return void 0===this._contents&&(this._contents=this.sourceString.slice(this.startIdx,this.endIdx)),this._contents},enumerable:!0},length:{get(){return this.endIdx-this.startIdx},enumerable:!0}}),e.exports=s},function(e,t,i){const n=i(7);function o(e){this.source=e,this.pos=0,this.examinedLength=0}o.prototype={atEnd(){const e=this.pos===this.source.length;return this.examinedLength=Math.max(this.examinedLength,this.pos+1),e},next(){const e=this.source[this.pos++];return this.examinedLength=Math.max(this.examinedLength,this.pos),e},matchString(e,t){let i;if(t){for(i=0;i<e.length;i++){const t=this.next(),n=e[i];if(null==t||t.toUpperCase()!==n.toUpperCase())return!1}return!0}for(i=0;i<e.length;i++)if(this.next()!==e[i])return!1;return!0},sourceSlice(e,t){return this.source.slice(e,t)},interval(e,t){return new n(this.source,e,t||this.pos)}},e.exports=o},function(e,t,i){const n=i(0),o=i(3),r=i(7);function s(e,t,i,r,s,a,l){this.matcher=e,this.input=t,this.startExpr=i,this._cst=r,this._cstOffset=s,this._rightmostFailurePosition=a,this._rightmostFailures=l,this.failed()&&(n.defineLazyProperty(this,"message",(function(){const e="Expected "+this.getExpectedText();return o.getLineAndColumnMessage(this.input,this.getRightmostFailurePosition())+e})),n.defineLazyProperty(this,"shortMessage",(function(){const e="expected "+this.getExpectedText(),t=o.getLineAndColumn(this.input,this.getRightmostFailurePosition());return"Line "+t.lineNum+", col "+t.colNum+": "+e})))}s.prototype.succeeded=function(){return!!this._cst},s.prototype.failed=function(){return!this.succeeded()},s.prototype.getRightmostFailurePosition=function(){return this._rightmostFailurePosition},s.prototype.getRightmostFailures=function(){if(!this._rightmostFailures){this.matcher.setInput(this.input);const e=this.matcher._match(this.startExpr,!1,this.getRightmostFailurePosition());this._rightmostFailures=e.getRightmostFailures()}return this._rightmostFailures},s.prototype.toString=function(){return this.succeeded()?"[match succeeded]":"[match failed at position "+this.getRightmostFailurePosition()+"]"},s.prototype.getExpectedText=function(){if(this.succeeded())throw new Error("cannot get expected text of a successful MatchResult");const e=new n.StringBuffer;let t=this.getRightmostFailures();t=t.filter((e=>!e.isFluffy()));for(let i=0;i<t.length;i++)i>0&&(i===t.length-1?e.append(t.length>2?", or ":" or "):e.append(", ")),e.append(t[i].toString());return e.contents()},s.prototype.getInterval=function(){const e=this.getRightmostFailurePosition();return new r(this.input,e,e)},e.exports=s},function(e,t,i){function n(e,t,i){if("description"!==(n=i)&&"string"!==n&&"code"!==n)throw new Error("invalid Failure type: "+i);var n;this.pexpr=e,this.text=t,this.type=i,this.fluffy=!1}n.prototype.getPExpr=function(){return this.pexpr},n.prototype.getText=function(){return this.text},n.prototype.getType=function(){return this.type},n.prototype.isDescription=function(){return"description"===this.type},n.prototype.isStringTerminal=function(){return"string"===this.type},n.prototype.isCode=function(){return"code"===this.type},n.prototype.isFluffy=function(){return this.fluffy},n.prototype.makeFluffy=function(){this.fluffy=!0},n.prototype.clearFluffy=function(){this.fluffy=!1},n.prototype.subsumes=function(e){return this.getText()===e.getText()&&this.type===e.type&&(!this.isFluffy()||this.isFluffy()&&e.isFluffy())},n.prototype.toString=function(){return"string"===this.type?JSON.stringify(this.getText()):this.getText()},n.prototype.clone=function(){const e=new n(this.pexpr,this.text,this.type);return this.isFluffy()&&e.makeFluffy(),e},n.prototype.toKey=function(){return this.toString()+"#"+this.type},e.exports=n},function(e,t,i){function n(){}n.prototype=Object.create(null),n.asNamespace=function(e){return e instanceof n?e:n.createNamespace(e)},n.createNamespace=function(e){return n.extend(n.prototype,e)},n.extend=function(e,t){if(e!==n.prototype&&!(e instanceof n))throw new TypeError("not a Namespace object: "+e);const i=Object.create(e,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});return Object.assign(i,t)},n.toString=function(e){return Object.prototype.toString.call(e)},e.exports=n},function(e,t,i){const n=i(7),o=i(0),r={succeeded:1,isRootNode:2,isImplicitSpaces:4,isMemoized:8,isHeadOfLeftRecursion:16,terminatesLR:32};function s(e){return"string"==typeof e?e.replace(/ /g,"⋅").replace(/\t/g,"␉").replace(/\n/g,"␊").replace(/\r/g,"␍"):String(e)}function a(e,t,i,o,s,a,l){this.input=e,this.pos=this.pos1=t,this.pos2=i,this.source=new n(e,t,i),this.expr=o,this.bindings=a,this.children=l||[],this.terminatingLREntry=null,this._flags=s?r.succeeded:0}a.prototype.SKIP={},Object.defineProperty(a.prototype,"displayString",{get(){return this.expr.toDisplayString()}}),Object.keys(r).forEach((e=>{const t=r[e];Object.defineProperty(a.prototype,e,{get(){return 0!=(this._flags&t)},set(e){e?this._flags|=t:this._flags&=~t}})})),a.prototype.clone=function(){return this.cloneWithExpr(this.expr)},a.prototype.cloneWithExpr=function(e){const t=new a(this.input,this.pos,this.pos2,e,this.succeeded,this.bindings,this.children);return t.isHeadOfLeftRecursion=this.isHeadOfLeftRecursion,t.isImplicitSpaces=this.isImplicitSpaces,t.isMemoized=this.isMemoized,t.isRootNode=this.isRootNode,t.terminatesLR=this.terminatesLR,t.terminatingLREntry=this.terminatingLREntry,t},a.prototype.recordLRTermination=function(e,t){this.terminatingLREntry=new a(this.input,this.pos,this.pos2,this.expr,!1,[t],[e]),this.terminatingLREntry.terminatesLR=!0},a.prototype.walk=function(e,t){let i=e;function n(e,o,r){let s=!0;i.enter&&i.enter.call(t,e,o,r)===a.prototype.SKIP&&(s=!1),s&&(e.children.forEach((t=>{n(t,e,r+1)})),i.exit&&i.exit.call(t,e,o,r))}"function"==typeof i&&(i={enter:i}),this.isRootNode?this.children.forEach((e=>{n(e,null,0)})):n(this,null,0)},a.prototype.toString=function(){const e=new o.StringBuffer;return this.walk(((t,i,n)=>{if(!t)return this.SKIP;if("Alt"!==t.expr.constructor.name){var r;if(e.append(function(e,t,i){const n=s(e.slice(t,t+10));return n.length<10?n+o.repeat(" ",10-n.length).join(""):n}(t.input,t.pos)+(r=2*n+1,o.repeat(" ",r).join(""))),e.append((t.succeeded?"✓":"✗")+" "+t.displayString),t.isHeadOfLeftRecursion&&e.append(" (LR)"),t.succeeded){const i=s(t.source.contents);e.append(" ⇒  "),e.append("string"==typeof i?'"'+i+'"':i)}e.append("\n")}})),e.contents()},e.exports=a},function(e,t,i){const n=i(1),o=i(9),r=i(5),s={_terminal(){return this.sourceString},_nonterminal(...e){const t=this._node.ctorName,i=this.args.mapping;if(!i.hasOwnProperty(t)){if(this._node instanceof n.Alt||this._node instanceof n.Apply)return e[0].toAST(i);if(this.isLexical())return this.sourceString;const t=e.filter((e=>!e.isTerminal()));if(1===t.length)return t[0].toAST(i)}if("number"==typeof i[t])return e[i[t]].toAST(i);const o=i[t]||e,r={type:t};for(const n in o){const o=i[t]&&i[t][n];"number"==typeof o?r[n]=e[o].toAST(i):"string"==typeof o||"boolean"==typeof o||null===o?r[n]=o:"object"==typeof o&&o instanceof Number?r[n]=Number(o):"function"==typeof o?r[n]=o.call(this,e):void 0===o&&(e[n]&&!e[n].isTerminal()?r[n]=e[n].toAST(i):delete r[n])}return r},_iter(...e){return this._node.isOptional()?0===this.numChildren?null:e[0].toAST(this.args.mapping):e.map((function(e){return e.toAST(this.args.mapping)}),this)},NonemptyListOf(e,t,i){return[e.toAST(this.args.mapping)].concat(i.toAST(this.args.mapping))},EmptyListOf:()=>[]};e.exports={helper:function(e,t){if(!(e instanceof o)||e.failed())throw new Error("toAST() expects a succesfull MatchResult as first parameter");t=Object.assign({},t);const i=Object.assign({},s);for(const n in t)"function"==typeof t[n]&&(i[n]=t[n],delete t[n]);return e._cst.grammar.createSemantics().addOperation("toAST(mapping)",i)(e).toAST(t)},semantics:function(e){if(!(e instanceof r))throw new Error("semanticsToAST() expects a Grammar as parameter");return e.createSemantics().addOperation("toAST(mapping)",s)}}},function(e,t,i){const n=i(5),o=i(36),r=i(1);function s(){}s.prototype={currentDecl:null,currentRuleName:null,newGrammar:e=>new o(e),grammar(e,t,i,r,s){const a=new o(t);return i&&a.withSuperGrammar(i instanceof n?i:this.fromRecipe(i)),r&&a.withDefaultStartRule(r),e&&e.source&&a.withSource(e.source),this.currentDecl=a,Object.keys(s).forEach((e=>{this.currentRuleName=e;const t=s[e],i=t[0],n=t[1],o=t[2],r=t[3],l=this.fromRecipe(t[4]);let u;a.source&&n&&n.sourceInterval&&(u=a.source.subInterval(n.sourceInterval[0],n.sourceInterval[1]-n.sourceInterval[0])),a[i](e,r,l,o,u)})),this.currentRuleName=this.currentDecl=null,a.build()},terminal:e=>new r.Terminal(e),range:(e,t)=>new r.Range(e,t),param:e=>new r.Param(e),alt(){let e=[];for(let t=0;t<arguments.length;t++){let i=arguments[t];i instanceof r.PExpr||(i=this.fromRecipe(i)),i instanceof r.Alt?e=e.concat(i.terms):e.push(i)}return 1===e.length?e[0]:new r.Alt(e)},seq(){let e=[];for(let t=0;t<arguments.length;t++){let i=arguments[t];i instanceof r.PExpr||(i=this.fromRecipe(i)),i instanceof r.Seq?e=e.concat(i.factors):e.push(i)}return 1===e.length?e[0]:new r.Seq(e)},star(e){return e instanceof r.PExpr||(e=this.fromRecipe(e)),new r.Star(e)},plus(e){return e instanceof r.PExpr||(e=this.fromRecipe(e)),new r.Plus(e)},opt(e){return e instanceof r.PExpr||(e=this.fromRecipe(e)),new r.Opt(e)},not(e){return e instanceof r.PExpr||(e=this.fromRecipe(e)),new r.Not(e)},la(e){return this.lookahead(e)},lookahead(e){return e instanceof r.PExpr||(e=this.fromRecipe(e)),new r.Lookahead(e)},lex(e){return e instanceof r.PExpr||(e=this.fromRecipe(e)),new r.Lex(e)},app(e,t){return t&&t.length>0&&(t=t.map((function(e){return e instanceof r.PExpr?e:this.fromRecipe(e)}),this)),new r.Apply(e,t)},splice(e,t){return new r.Splice(this.currentDecl.superGrammar,this.currentRuleName,e.map((e=>this.fromRecipe(e))),t.map((e=>this.fromRecipe(e))))},fromRecipe(e){const t=this[e[0]].apply(this,"grammar"===e[0]?e.slice(1):e.slice(2)),i=e[1];return i&&i.sourceInterval&&this.currentDecl&&t.withSource(this.currentDecl.sourceInterval.apply(this.currentDecl,i.sourceInterval)),t}},e.exports=s},function(e,t,i){const n=i(10),o=i(6).TerminalNode,r=i(0).assert,{PExpr:s,Terminal:a}=i(1);class l extends s{constructor(e){super(),this.obj=e}_getString(e){const t=e.currentApplication().args[this.obj.index];return r(t instanceof a,"expected a Terminal expression"),t.obj}allowsSkippingPrecedingSpace(){return!0}eval(e){const t=e.inputStream,i=t.pos,n=this._getString(e);return t.matchString(n,!0)?(e.pushBinding(new o(e.grammar,n),i),!0):(e.processFailure(i,this),!1)}getArity(){return 1}substituteParams(e){return new l(this.obj.substituteParams(e))}toDisplayString(){return this.obj.toDisplayString()+" (case-insensitive)"}toFailure(e){return new n(this,this.obj.toFailure(e)+" (case-insensitive)","description")}_isNullable(e,t){return this.obj._isNullable(e,t)}}e.exports=l},function(e,t){e.exports={Lu:/[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]/,Ll:/[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43]/,Lt:/[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Lm:/[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5\u06E6\u07F4\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C\uA69D\uA717-\uA71F\uA770\uA788\uA7F8\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E\uFF9F]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0]/,Lo:/[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E45\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,Nl:/[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]|\uD800[\uDD40-\uDD74\uDF41\uDF4A\uDFD1-\uDFD5]|\uD809[\uDC00-\uDC6E]/,Nd:/[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD801[\uDCA0-\uDCA9]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|[\uD805\uD807][\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDD50-\uDD59]/,Mn:/[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDCA-\uDDCC\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]/,Mc:/[\u0903-\u0903]|[\u093E-\u0940]|[\u0949-\u094C]|[\u0982-\u0983]|[\u09BE-\u09C0]|[\u09C7-\u09C8]|[\u09CB-\u09CC]|[\u09D7-\u09D7]|[\u0A3E-\u0A40]|[\u0A83-\u0A83]|[\u0ABE-\u0AC0]|[\u0AC9-\u0AC9]|[\u0ACB-\u0ACC]|[\u0B02-\u0B03]|[\u0B3E-\u0B3E]|[\u0B40-\u0B40]|[\u0B47-\u0B48]|[\u0B4B-\u0B4C]|[\u0B57-\u0B57]|[\u0B83-\u0B83]|[\u0BBE-\u0BBF]|[\u0BC1-\u0BC2]|[\u0BC6-\u0BC8]|[\u0BCA-\u0BCC]|[\u0BD7-\u0BD7]|[\u0C01-\u0C03]|[\u0C41-\u0C44]|[\u0C82-\u0C83]|[\u0CBE-\u0CBE]|[\u0CC0-\u0CC4]|[\u0CC7-\u0CC8]|[\u0CCA-\u0CCB]|[\u0CD5-\u0CD6]|[\u0D02-\u0D03]|[\u0D3E-\u0D40]|[\u0D46-\u0D48]|[\u0D4A-\u0D4C]|[\u0D57-\u0D57]|[\u0F3E-\u0F3F]|[\u0F7F-\u0F7F]/,Pc:/[_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F]/,Zs:/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,L:/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,Ltmo:/[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]|[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5\u06E6\u07F4\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C\uA69D\uA717-\uA71F\uA770\uA788\uA7F8\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E\uFF9F]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0]|[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E45\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/}},function(e,t,i){const n=i(0),o=i(1);o.PExpr.prototype.allowsSkippingPrecedingSpace=n.abstract("allowsSkippingPrecedingSpace"),o.any.allowsSkippingPrecedingSpace=o.end.allowsSkippingPrecedingSpace=o.Apply.prototype.allowsSkippingPrecedingSpace=o.Terminal.prototype.allowsSkippingPrecedingSpace=o.Range.prototype.allowsSkippingPrecedingSpace=o.UnicodeChar.prototype.allowsSkippingPrecedingSpace=function(){return!0},o.Alt.prototype.allowsSkippingPrecedingSpace=o.Iter.prototype.allowsSkippingPrecedingSpace=o.Lex.prototype.allowsSkippingPrecedingSpace=o.Lookahead.prototype.allowsSkippingPrecedingSpace=o.Not.prototype.allowsSkippingPrecedingSpace=o.Param.prototype.allowsSkippingPrecedingSpace=o.Seq.prototype.allowsSkippingPrecedingSpace=function(){return!1}},function(e,t,i){const n=i(0),o=i(2),r=i(1);let s,a;i(3).awaitBuiltInRules((e=>{s=e})),r.PExpr.prototype.assertAllApplicationsAreValid=function(e,t){a=0,this._assertAllApplicationsAreValid(e,t)},r.PExpr.prototype._assertAllApplicationsAreValid=n.abstract("_assertAllApplicationsAreValid"),r.any._assertAllApplicationsAreValid=r.end._assertAllApplicationsAreValid=r.Terminal.prototype._assertAllApplicationsAreValid=r.Range.prototype._assertAllApplicationsAreValid=r.Param.prototype._assertAllApplicationsAreValid=r.UnicodeChar.prototype._assertAllApplicationsAreValid=function(e,t){},r.Lex.prototype._assertAllApplicationsAreValid=function(e,t){a++,this.expr._assertAllApplicationsAreValid(e,t),a--},r.Alt.prototype._assertAllApplicationsAreValid=function(e,t){for(let i=0;i<this.terms.length;i++)this.terms[i]._assertAllApplicationsAreValid(e,t)},r.Seq.prototype._assertAllApplicationsAreValid=function(e,t){for(let i=0;i<this.factors.length;i++)this.factors[i]._assertAllApplicationsAreValid(e,t)},r.Iter.prototype._assertAllApplicationsAreValid=r.Not.prototype._assertAllApplicationsAreValid=r.Lookahead.prototype._assertAllApplicationsAreValid=function(e,t){this.expr._assertAllApplicationsAreValid(e,t)},r.Apply.prototype._assertAllApplicationsAreValid=function(e,t){const i=t.rules[this.ruleName];if(!i)throw o.undeclaredRule(this.ruleName,t.name,this.source);if(n.isSyntactic(this.ruleName)&&(!n.isSyntactic(e)||a>0))throw o.applicationOfSyntacticRuleFromLexicalContext(this.ruleName,this);const l=this.args.length,u=i.formals.length;if(l!==u)throw o.wrongNumberOfArguments(this.ruleName,u,l,this.source);if(this.args.forEach((i=>{if(i._assertAllApplicationsAreValid(e,t),1!==i.getArity())throw o.invalidParameter(this.ruleName,i)})),s&&i===s.rules.caseInsensitive&&!(this.args[0]instanceof r.Terminal))throw o.incorrectArgumentType('a Terminal (e.g. "abc")',this.args[0])}},function(e,t,i){const n=i(0),o=i(2),r=i(1);r.PExpr.prototype.assertChoicesHaveUniformArity=n.abstract("assertChoicesHaveUniformArity"),r.any.assertChoicesHaveUniformArity=r.end.assertChoicesHaveUniformArity=r.Terminal.prototype.assertChoicesHaveUniformArity=r.Range.prototype.assertChoicesHaveUniformArity=r.Param.prototype.assertChoicesHaveUniformArity=r.Lex.prototype.assertChoicesHaveUniformArity=r.UnicodeChar.prototype.assertChoicesHaveUniformArity=function(e){},r.Alt.prototype.assertChoicesHaveUniformArity=function(e){if(0===this.terms.length)return;const t=this.terms[0].getArity();for(let i=0;i<this.terms.length;i++){const n=this.terms[i];n.assertChoicesHaveUniformArity();const r=n.getArity();if(t!==r)throw o.inconsistentArity(e,t,r,n)}},r.Extend.prototype.assertChoicesHaveUniformArity=function(e){const t=this.terms[0].getArity(),i=this.terms[1].getArity();if(t!==i)throw o.inconsistentArity(e,i,t,this.terms[0])},r.Seq.prototype.assertChoicesHaveUniformArity=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertChoicesHaveUniformArity(e)},r.Iter.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},r.Not.prototype.assertChoicesHaveUniformArity=function(e){},r.Lookahead.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},r.Apply.prototype.assertChoicesHaveUniformArity=function(e){}},function(e,t,i){const n=i(0),o=i(2),r=i(1);r.PExpr.prototype.assertIteratedExprsAreNotNullable=n.abstract("assertIteratedExprsAreNotNullable"),r.any.assertIteratedExprsAreNotNullable=r.end.assertIteratedExprsAreNotNullable=r.Terminal.prototype.assertIteratedExprsAreNotNullable=r.Range.prototype.assertIteratedExprsAreNotNullable=r.Param.prototype.assertIteratedExprsAreNotNullable=r.UnicodeChar.prototype.assertIteratedExprsAreNotNullable=function(e){},r.Alt.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.terms.length;t++)this.terms[t].assertIteratedExprsAreNotNullable(e)},r.Seq.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertIteratedExprsAreNotNullable(e)},r.Iter.prototype.assertIteratedExprsAreNotNullable=function(e){if(this.expr.assertIteratedExprsAreNotNullable(e),this.expr.isNullable(e))throw o.kleeneExprHasNullableOperand(this,[])},r.Opt.prototype.assertIteratedExprsAreNotNullable=r.Not.prototype.assertIteratedExprsAreNotNullable=r.Lookahead.prototype.assertIteratedExprsAreNotNullable=r.Lex.prototype.assertIteratedExprsAreNotNullable=function(e){this.expr.assertIteratedExprsAreNotNullable(e)},r.Apply.prototype.assertIteratedExprsAreNotNullable=function(e){this.args.forEach((t=>{t.assertIteratedExprsAreNotNullable(e)}))}},function(e,t,i){const n=i(12),o=i(0),r=i(2),s=i(6),a=i(1),l=s.TerminalNode,u=s.NonterminalNode,c=s.IterationNode;a.PExpr.prototype.eval=o.abstract("eval"),a.any.eval=function(e){const t=e.inputStream,i=t.pos,n=t.next();return n?(e.pushBinding(new l(e.grammar,n),i),!0):(e.processFailure(i,this),!1)},a.end.eval=function(e){const t=e.inputStream,i=t.pos;return t.atEnd()?(e.pushBinding(new l(e.grammar,void 0),i),!0):(e.processFailure(i,this),!1)},a.Terminal.prototype.eval=function(e){const t=e.inputStream,i=t.pos;return t.matchString(this.obj)?(e.pushBinding(new l(e.grammar,this.obj),i),!0):(e.processFailure(i,this),!1)},a.Range.prototype.eval=function(e){const t=e.inputStream,i=t.pos,n=t.next();return n&&this.from<=n&&n<=this.to?(e.pushBinding(new l(e.grammar,n),i),!0):(e.processFailure(i,this),!1)},a.Param.prototype.eval=function(e){return e.eval(e.currentApplication().args[this.index])},a.Lex.prototype.eval=function(e){e.enterLexifiedContext();const t=e.eval(this.expr);return e.exitLexifiedContext(),t},a.Alt.prototype.eval=function(e){for(let t=0;t<this.terms.length;t++)if(e.eval(this.terms[t]))return!0;return!1},a.Seq.prototype.eval=function(e){for(let t=0;t<this.factors.length;t++){const i=this.factors[t];if(!e.eval(i))return!1}return!0},a.Iter.prototype.eval=function(e){const t=e.inputStream,i=t.pos,n=this.getArity(),o=[],s=[];for(;o.length<n;)o.push([]),s.push([]);let l,u=0,d=i;for(;u<this.maxNumMatches&&e.eval(this.expr);){if(t.pos===d)throw r.kleeneExprHasNullableOperand(this,e._applicationStack);d=t.pos,u++;const i=e._bindings.splice(e._bindings.length-n,n),a=e._bindingOffsets.splice(e._bindingOffsets.length-n,n);for(l=0;l<i.length;l++)o[l].push(i[l]),s[l].push(a[l])}if(u<this.minNumMatches)return!1;let h=e.posToOffset(i),g=0;if(u>0){const e=o[n-1],t=s[n-1],i=t[t.length-1]+e[e.length-1].matchLength;h=s[0][0],g=i-h}const p=this instanceof a.Opt;for(l=0;l<o.length;l++)e._bindings.push(new c(e.grammar,o[l],s[l],g,p)),e._bindingOffsets.push(h);return!0},a.Not.prototype.eval=function(e){const t=e.inputStream,i=t.pos;e.pushFailuresInfo();const n=e.eval(this.expr);return e.popFailuresInfo(),n?(e.processFailure(i,this),!1):(t.pos=i,!0)},a.Lookahead.prototype.eval=function(e){const t=e.inputStream,i=t.pos;return!!e.eval(this.expr)&&(t.pos=i,!0)},a.Apply.prototype.eval=function(e){const t=e.currentApplication(),i=t?t.args:[],n=this.substituteParams(i),o=e.getCurrentPosInfo();if(o.isActive(n))return n.handleCycle(e);const r=n.toMemoKey(),s=o.memo[r];if(s&&o.shouldUseMemoizedResult(s)){if(e.hasNecessaryInfo(s))return e.useMemoizedResult(e.inputStream.pos,s);delete o.memo[r]}return n.reallyEval(e)},a.Apply.prototype.handleCycle=function(e){const t=e.getCurrentPosInfo(),i=t.currentLeftRecursion,n=this.toMemoKey();let o=t.memo[n];return i&&i.headApplication.toMemoKey()===n?o.updateInvolvedApplicationMemoKeys():o||(o=t.memoize(n,{matchLength:0,examinedLength:0,value:!1,rightmostFailureOffset:-1}),t.startLeftRecursion(this,o)),e.useMemoizedResult(e.inputStream.pos,o)},a.Apply.prototype.reallyEval=function(e){const t=e.inputStream,i=t.pos,n=e.getCurrentPosInfo(),r=e.grammar.rules[this.ruleName],s=r.body,a=r.description;e.enterApplication(n,this),a&&e.pushFailuresInfo();const l=t.examinedLength;t.examinedLength=0;let u=this.evalOnce(s,e);const c=n.currentLeftRecursion,d=this.toMemoKey(),h=c&&c.headApplication.toMemoKey()===d;let g;h?(u=this.growSeedResult(s,e,i,c,u),n.endLeftRecursion(),g=c,g.examinedLength=t.examinedLength-i,g.rightmostFailureOffset=e._getRightmostFailureOffset(),n.memoize(d,g)):c&&c.isInvolved(d)||(g=n.memoize(d,{matchLength:t.pos-i,examinedLength:t.examinedLength-i,value:u,failuresAtRightmostPosition:e.cloneRecordedFailures(),rightmostFailureOffset:e._getRightmostFailureOffset()}));const p=!!u;if(a&&(e.popFailuresInfo(),p||e.processFailure(i,this),g&&(g.failuresAtRightmostPosition=e.cloneRecordedFailures())),e.isTracing()&&g){const t=e.getTraceEntry(i,this,p,p?[u]:[]);h&&(o.assert(null!=t.terminatingLREntry||!p),t.isHeadOfLeftRecursion=!0),g.traceEntry=t}return t.examinedLength=Math.max(t.examinedLength,l),e.exitApplication(n,u),p},a.Apply.prototype.evalOnce=function(e,t){const i=t.inputStream,n=i.pos;if(t.eval(e)){const o=e.getArity(),r=t._bindings.splice(t._bindings.length-o,o),s=t._bindingOffsets.splice(t._bindingOffsets.length-o,o);return new u(t.grammar,this.ruleName,r,s,i.pos-n)}return!1},a.Apply.prototype.growSeedResult=function(e,t,i,o,r){if(!r)return!1;const s=t.inputStream;for(;;){if(o.matchLength=s.pos-i,o.value=r,o.failuresAtRightmostPosition=t.cloneRecordedFailures(),t.isTracing()){const e=t.trace[t.trace.length-1];o.traceEntry=new n(t.input,i,s.pos,this,!0,[r],[e.clone()])}if(s.pos=i,r=this.evalOnce(e,t),s.pos-i<=o.matchLength)break;t.isTracing()&&t.trace.splice(-2,1)}return t.isTracing()&&o.traceEntry.recordLRTermination(t.trace.pop(),r),s.pos=i+o.matchLength,o.value},a.UnicodeChar.prototype.eval=function(e){const t=e.inputStream,i=t.pos,n=t.next();return n&&this.pattern.test(n)?(e.pushBinding(new l(e.grammar,n),i),!0):(e.processFailure(i,this),!1)}},function(e,t,i){const n=i(0),o=i(1);o.PExpr.prototype.getArity=n.abstract("getArity"),o.any.getArity=o.end.getArity=o.Terminal.prototype.getArity=o.Range.prototype.getArity=o.Param.prototype.getArity=o.Apply.prototype.getArity=o.UnicodeChar.prototype.getArity=function(){return 1},o.Alt.prototype.getArity=function(){return 0===this.terms.length?0:this.terms[0].getArity()},o.Seq.prototype.getArity=function(){let e=0;for(let t=0;t<this.factors.length;t++)e+=this.factors[t].getArity();return e},o.Iter.prototype.getArity=function(){return this.expr.getArity()},o.Not.prototype.getArity=function(){return 0},o.Lookahead.prototype.getArity=o.Lex.prototype.getArity=function(){return this.expr.getArity()}},function(e,t,i){const n=i(0),o=i(1);function r(e,t){const i={};if(e.source&&t){const n=e.source.relativeTo(t);i.sourceInterval=[n.startIdx,n.endIdx]}return i}o.PExpr.prototype.outputRecipe=n.abstract("outputRecipe"),o.any.outputRecipe=function(e,t){return["any",r(this,t)]},o.end.outputRecipe=function(e,t){return["end",r(this,t)]},o.Terminal.prototype.outputRecipe=function(e,t){return["terminal",r(this,t),this.obj]},o.Range.prototype.outputRecipe=function(e,t){return["range",r(this,t),this.from,this.to]},o.Param.prototype.outputRecipe=function(e,t){return["param",r(this,t),this.index]},o.Alt.prototype.outputRecipe=function(e,t){return["alt",r(this,t)].concat(this.terms.map((i=>i.outputRecipe(e,t))))},o.Extend.prototype.outputRecipe=function(e,t){return this.terms[0].outputRecipe(e,t)},o.Splice.prototype.outputRecipe=function(e,t){const i=this.terms.slice(0,this.expansionPos),n=this.terms.slice(this.expansionPos+1);return["splice",r(this,t),i.map((i=>i.outputRecipe(e,t))),n.map((i=>i.outputRecipe(e,t)))]},o.Seq.prototype.outputRecipe=function(e,t){return["seq",r(this,t)].concat(this.factors.map((i=>i.outputRecipe(e,t))))},o.Star.prototype.outputRecipe=o.Plus.prototype.outputRecipe=o.Opt.prototype.outputRecipe=o.Not.prototype.outputRecipe=o.Lookahead.prototype.outputRecipe=o.Lex.prototype.outputRecipe=function(e,t){return[this.constructor.name.toLowerCase(),r(this,t),this.expr.outputRecipe(e,t)]},o.Apply.prototype.outputRecipe=function(e,t){return["app",r(this,t),this.ruleName,this.args.map((i=>i.outputRecipe(e,t)))]},o.UnicodeChar.prototype.outputRecipe=function(e,t){return["unicodeChar",r(this,t),this.category]}},function(e,t,i){const n=i(0),o=i(1);o.PExpr.prototype.introduceParams=n.abstract("introduceParams"),o.any.introduceParams=o.end.introduceParams=o.Terminal.prototype.introduceParams=o.Range.prototype.introduceParams=o.Param.prototype.introduceParams=o.UnicodeChar.prototype.introduceParams=function(e){return this},o.Alt.prototype.introduceParams=function(e){return this.terms.forEach(((t,i,n)=>{n[i]=t.introduceParams(e)})),this},o.Seq.prototype.introduceParams=function(e){return this.factors.forEach(((t,i,n)=>{n[i]=t.introduceParams(e)})),this},o.Iter.prototype.introduceParams=o.Not.prototype.introduceParams=o.Lookahead.prototype.introduceParams=o.Lex.prototype.introduceParams=function(e){return this.expr=this.expr.introduceParams(e),this},o.Apply.prototype.introduceParams=function(e){const t=e.indexOf(this.ruleName);if(t>=0){if(this.args.length>0)throw new Error("Parameterized rules cannot be passed as arguments to another rule.");return new o.Param(t).withSource(this.source)}return this.args.forEach(((t,i,n)=>{n[i]=t.introduceParams(e)})),this}},function(e,t,i){const n=i(0),o=i(1);o.PExpr.prototype.isNullable=function(e){return this._isNullable(e,Object.create(null))},o.PExpr.prototype._isNullable=n.abstract("_isNullable"),o.any._isNullable=o.Range.prototype._isNullable=o.Param.prototype._isNullable=o.Plus.prototype._isNullable=o.UnicodeChar.prototype._isNullable=function(e,t){return!1},o.end._isNullable=function(e,t){return!0},o.Terminal.prototype._isNullable=function(e,t){return"string"==typeof this.obj&&""===this.obj},o.Alt.prototype._isNullable=function(e,t){return 0===this.terms.length||this.terms.some((i=>i._isNullable(e,t)))},o.Seq.prototype._isNullable=function(e,t){return this.factors.every((i=>i._isNullable(e,t)))},o.Star.prototype._isNullable=o.Opt.prototype._isNullable=o.Not.prototype._isNullable=o.Lookahead.prototype._isNullable=function(e,t){return!0},o.Lex.prototype._isNullable=function(e,t){return this.expr._isNullable(e,t)},o.Apply.prototype._isNullable=function(e,t){const i=this.toMemoKey();if(!Object.prototype.hasOwnProperty.call(t,i)){const n=e.rules[this.ruleName].body.substituteParams(this.args);t[i]=!1,t[i]=n._isNullable(e,t)}return t[i]}},function(e,t,i){const n=i(0),o=i(1);o.PExpr.prototype.substituteParams=n.abstract("substituteParams"),o.any.substituteParams=o.end.substituteParams=o.Terminal.prototype.substituteParams=o.Range.prototype.substituteParams=o.UnicodeChar.prototype.substituteParams=function(e){return this},o.Param.prototype.substituteParams=function(e){return e[this.index]},o.Alt.prototype.substituteParams=function(e){return new o.Alt(this.terms.map((t=>t.substituteParams(e))))},o.Seq.prototype.substituteParams=function(e){return new o.Seq(this.factors.map((t=>t.substituteParams(e))))},o.Iter.prototype.substituteParams=o.Not.prototype.substituteParams=o.Lookahead.prototype.substituteParams=o.Lex.prototype.substituteParams=function(e){return new this.constructor(this.expr.substituteParams(e))},o.Apply.prototype.substituteParams=function(e){if(0===this.args.length)return this;{const t=this.args.map((t=>t.substituteParams(e)));return new o.Apply(this.ruleName,t)}}},function(e,t,i){const n=i(0),o=i(1),{copyWithoutDuplicates:r}=n;function s(e){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)}function a(e){const t=Object.create(null);e.forEach((e=>{t[e]=(t[e]||0)+1})),Object.keys(t).forEach((i=>{if(t[i]<=1)return;let n=1;e.forEach(((t,o)=>{t===i&&(e[o]=t+"_"+n++)}))}))}o.PExpr.prototype.toArgumentNameList=n.abstract("toArgumentNameList"),o.any.toArgumentNameList=function(e,t){return["any"]},o.end.toArgumentNameList=function(e,t){return["end"]},o.Terminal.prototype.toArgumentNameList=function(e,t){return"string"==typeof this.obj&&/^[_a-zA-Z0-9]+$/.test(this.obj)?["_"+this.obj]:["$"+e]},o.Range.prototype.toArgumentNameList=function(e,t){let i=this.from+"_to_"+this.to;return s(i)||(i="_"+i),s(i)||(i="$"+e),[i]},o.Alt.prototype.toArgumentNameList=function(e,t){const i=this.terms.map((t=>t.toArgumentNameList(e,!0))),n=[],o=i[0].length;for(let s=0;s<o;s++){const e=[];for(let n=0;n<this.terms.length;n++)e.push(i[n][s]);const t=r(e);n.push(t.join("_or_"))}return t||a(n),n},o.Seq.prototype.toArgumentNameList=function(e,t){let i=[];return this.factors.forEach((t=>{const n=t.toArgumentNameList(e,!0);i=i.concat(n),e+=n.length})),t||a(i),i},o.Iter.prototype.toArgumentNameList=function(e,t){const i=this.expr.toArgumentNameList(e,t).map((e=>"s"===e[e.length-1]?e+"es":e+"s"));return t||a(i),i},o.Opt.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t).map((e=>"opt"+e[0].toUpperCase()+e.slice(1)))},o.Not.prototype.toArgumentNameList=function(e,t){return[]},o.Lookahead.prototype.toArgumentNameList=o.Lex.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t)},o.Apply.prototype.toArgumentNameList=function(e,t){return[this.ruleName]},o.UnicodeChar.prototype.toArgumentNameList=function(e,t){return["$"+e]},o.Param.prototype.toArgumentNameList=function(e,t){return["param"+this.index]}},function(e,t,i){const n=i(0),o=i(1);o.PExpr.prototype.toDisplayString=n.abstract("toDisplayString"),o.Alt.prototype.toDisplayString=o.Seq.prototype.toDisplayString=function(){return this.source?this.source.trimmed().contents:"["+this.constructor.name+"]"},o.any.toDisplayString=o.end.toDisplayString=o.Iter.prototype.toDisplayString=o.Not.prototype.toDisplayString=o.Lookahead.prototype.toDisplayString=o.Lex.prototype.toDisplayString=o.Terminal.prototype.toDisplayString=o.Range.prototype.toDisplayString=o.Param.prototype.toDisplayString=function(){return this.toString()},o.Apply.prototype.toDisplayString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toDisplayString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},o.UnicodeChar.prototype.toDisplayString=function(){return"Unicode ["+this.category+"] character"}},function(e,t,i){const n=i(10),o=i(0),r=i(1);r.PExpr.prototype.toFailure=o.abstract("toFailure"),r.any.toFailure=function(e){return new n(this,"any object","description")},r.end.toFailure=function(e){return new n(this,"end of input","description")},r.Terminal.prototype.toFailure=function(e){return new n(this,this.obj,"string")},r.Range.prototype.toFailure=function(e){return new n(this,JSON.stringify(this.from)+".."+JSON.stringify(this.to),"code")},r.Not.prototype.toFailure=function(e){const t=this.expr===r.any?"nothing":"not "+this.expr.toFailure(e);return new n(this,t,"description")},r.Lookahead.prototype.toFailure=function(e){return this.expr.toFailure(e)},r.Apply.prototype.toFailure=function(e){let t=e.rules[this.ruleName].description;return t||(t=(/^[aeiouAEIOU]/.test(this.ruleName)?"an":"a")+" "+this.ruleName),new n(this,t,"description")},r.UnicodeChar.prototype.toFailure=function(e){return new n(this,"a Unicode ["+this.category+"] character","description")},r.Alt.prototype.toFailure=function(e){const t="("+this.terms.map((t=>t.toFailure(e))).join(" or ")+")";return new n(this,t,"description")},r.Seq.prototype.toFailure=function(e){const t="("+this.factors.map((t=>t.toFailure(e))).join(" ")+")";return new n(this,t,"description")},r.Iter.prototype.toFailure=function(e){const t="("+this.expr.toFailure(e)+this.operator+")";return new n(this,t,"description")}},function(e,t,i){const n=i(0),o=i(1);o.PExpr.prototype.toString=n.abstract("toString"),o.any.toString=function(){return"any"},o.end.toString=function(){return"end"},o.Terminal.prototype.toString=function(){return JSON.stringify(this.obj)},o.Range.prototype.toString=function(){return JSON.stringify(this.from)+".."+JSON.stringify(this.to)},o.Param.prototype.toString=function(){return"$"+this.index},o.Lex.prototype.toString=function(){return"#("+this.expr.toString()+")"},o.Alt.prototype.toString=function(){return 1===this.terms.length?this.terms[0].toString():"("+this.terms.map((e=>e.toString())).join(" | ")+")"},o.Seq.prototype.toString=function(){return 1===this.factors.length?this.factors[0].toString():"("+this.factors.map((e=>e.toString())).join(" ")+")"},o.Iter.prototype.toString=function(){return this.expr+this.operator},o.Not.prototype.toString=function(){return"~"+this.expr},o.Lookahead.prototype.toString=function(){return"&"+this.expr},o.Apply.prototype.toString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},o.UnicodeChar.prototype.toString=function(){return"\\p{"+this.category+"}"}},function(e,t,i){const n=i(32),o=i(1);function r(e){this.grammar=e,this.memoTable=[],this.input=""}r.prototype.getInput=function(){return this.input},r.prototype.setInput=function(e){return this.input!==e&&this.replaceInputRange(0,this.input.length,e),this},r.prototype.replaceInputRange=function(e,t,i){const n=this.input;if(e<0||e>n.length||t<0||t>n.length||e>t)throw new Error("Invalid indices: "+e+" and "+t);this.input=n.slice(0,e)+i+n.slice(t);const o=this.memoTable.slice(t);this.memoTable.length=e;for(let r=0;r<i.length;r++)this.memoTable.push(void 0);o.forEach((function(e){this.memoTable.push(e)}),this);for(let r=0;r<e;r++){const t=this.memoTable[r];t&&t.clearObsoleteEntries(r,e)}return this},r.prototype.match=function(e){return this._match(this._getStartExpr(e),!1)},r.prototype.trace=function(e){return this._match(this._getStartExpr(e),!0)},r.prototype._match=function(e,t,i){const o=new n(this,e,i);return t?o.getTrace():o.getMatchResult()},r.prototype._getStartExpr=function(e){const t=e||this.grammar.defaultStartRule;if(!t)throw new Error("Missing start rule argument -- the grammar has no default start rule.");const i=this.grammar.parseApplication(t);return new o.Seq([i,o.end])},e.exports=r},function(e,t,i){const n=i(8),o=i(9),r=i(33),s=i(12),a=i(1),l=new a.Apply("spaces");function u(e,t,i){this.matcher=e,this.startExpr=t,this.grammar=e.grammar,this.input=e.input,this.inputStream=new n(e.input),this.memoTable=e.memoTable,this._bindings=[],this._bindingOffsets=[],this._applicationStack=[],this._posStack=[0],this.inLexifiedContextStack=[!1],this.rightmostFailurePosition=-1,this._rightmostFailurePositionStack=[],this._recordedFailuresStack=[],void 0!==i&&(this.positionToRecordFailures=i,this.recordedFailures=Object.create(null))}u.prototype={posToOffset(e){return e-this._posStack[this._posStack.length-1]},enterApplication(e,t){this._posStack.push(this.inputStream.pos),this._applicationStack.push(t),this.inLexifiedContextStack.push(!1),e.enter(t),this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this.rightmostFailurePosition=-1},exitApplication(e,t){const i=this._posStack.pop();this._applicationStack.pop(),this.inLexifiedContextStack.pop(),e.exit(),this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,this._rightmostFailurePositionStack.pop()),t&&this.pushBinding(t,i)},enterLexifiedContext(){this.inLexifiedContextStack.push(!0)},exitLexifiedContext(){this.inLexifiedContextStack.pop()},currentApplication(){return this._applicationStack[this._applicationStack.length-1]},inSyntacticContext(){if("string"!=typeof this.inputStream.source)return!1;const e=this.currentApplication();return e?e.isSyntactic()&&!this.inLexifiedContext():this.startExpr.factors[0].isSyntactic()},inLexifiedContext(){return this.inLexifiedContextStack[this.inLexifiedContextStack.length-1]},skipSpaces(){return this.pushFailuresInfo(),this.eval(l),this.popBinding(),this.popFailuresInfo(),this.inputStream.pos},skipSpacesIfInSyntacticContext(){return this.inSyntacticContext()?this.skipSpaces():this.inputStream.pos},maybeSkipSpacesBefore(e){return e instanceof a.Apply&&e.isSyntactic()?this.skipSpaces():e.allowsSkippingPrecedingSpace()&&e!==l?this.skipSpacesIfInSyntacticContext():this.inputStream.pos},pushBinding(e,t){this._bindings.push(e),this._bindingOffsets.push(this.posToOffset(t))},popBinding(){this._bindings.pop(),this._bindingOffsets.pop()},numBindings(){return this._bindings.length},truncateBindings(e){for(;this._bindings.length>e;)this.popBinding()},getCurrentPosInfo(){return this.getPosInfo(this.inputStream.pos)},getPosInfo(e){let t=this.memoTable[e];return t||(t=this.memoTable[e]=new r),t},processFailure(e,t){if(this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,e),this.recordedFailures&&e===this.positionToRecordFailures){const e=this.currentApplication();e&&(t=t.substituteParams(e.args)),this.recordFailure(t.toFailure(this.grammar),!1)}},recordFailure(e,t){const i=e.toKey();this.recordedFailures[i]?this.recordedFailures[i].isFluffy()&&!e.isFluffy()&&this.recordedFailures[i].clearFluffy():this.recordedFailures[i]=t?e.clone():e},recordFailures(e,t){Object.keys(e).forEach((i=>{this.recordFailure(e[i],t)}))},cloneRecordedFailures(){if(!this.recordedFailures)return;const e=Object.create(null);return Object.keys(this.recordedFailures).forEach((t=>{e[t]=this.recordedFailures[t].clone()})),e},getRightmostFailurePosition(){return this.rightmostFailurePosition},_getRightmostFailureOffset(){return this.rightmostFailurePosition>=0?this.posToOffset(this.rightmostFailurePosition):-1},getMemoizedTraceEntry(e,t){const i=this.memoTable[e];if(i&&t.ruleName){const e=i.memo[t.toMemoKey()];if(e&&e.traceEntry){const i=e.traceEntry.cloneWithExpr(t);return i.isMemoized=!0,i}}return null},getTraceEntry(e,t,i,n){if(t instanceof a.Apply){const e=this.currentApplication(),i=e?e.args:[];t=t.substituteParams(i)}return this.getMemoizedTraceEntry(e,t)||new s(this.input,e,this.inputStream.pos,t,i,n,this.trace)},isTracing(){return!!this.trace},hasNecessaryInfo(e){return!(this.trace&&!e.traceEntry||this.recordedFailures&&this.inputStream.pos+e.rightmostFailureOffset===this.positionToRecordFailures&&!e.failuresAtRightmostPosition)},useMemoizedResult(e,t){this.trace&&this.trace.push(t.traceEntry);const i=this.inputStream.pos+t.rightmostFailureOffset;return this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,i),this.recordedFailures&&this.positionToRecordFailures===i&&t.failuresAtRightmostPosition&&this.recordFailures(t.failuresAtRightmostPosition,!0),this.inputStream.examinedLength=Math.max(this.inputStream.examinedLength,t.examinedLength+e),!!t.value&&(this.inputStream.pos+=t.matchLength,this.pushBinding(t.value,e),!0)},eval(e){const t=this.inputStream,i=this._bindings.length;let n;this.recordedFailures&&(n=this.recordedFailures,this.recordedFailures=Object.create(null));const o=t.pos,r=this.maybeSkipSpacesBefore(e);let s;this.trace&&(s=this.trace,this.trace=[]);const a=e.eval(this);if(this.trace){const t=this._bindings.slice(i),n=this.getTraceEntry(r,e,a,t);n.isImplicitSpaces=e===l,n.isRootNode=e===this.startExpr,s.push(n),this.trace=s}return a?this.recordedFailures&&t.pos===this.positionToRecordFailures&&Object.keys(this.recordedFailures).forEach((e=>{this.recordedFailures[e].makeFluffy()})):(t.pos=o,this.truncateBindings(i)),this.recordedFailures&&this.recordFailures(n,!1),a},getMatchResult(){let e;return this.eval(this.startExpr),this.recordedFailures&&(e=Object.keys(this.recordedFailures).map((e=>this.recordedFailures[e]))),new o(this.matcher,this.input,this.startExpr,this._bindings[0],this._bindingOffsets[0],this.rightmostFailurePosition,e)},getTrace(){this.trace=[];const e=this.getMatchResult(),t=this.trace[this.trace.length-1];return t.result=e,t},pushFailuresInfo(){this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this._recordedFailuresStack.push(this.recordedFailures)},popFailuresInfo(){this.rightmostFailurePosition=this._rightmostFailurePositionStack.pop(),this.recordedFailures=this._recordedFailuresStack.pop()}},e.exports=u},function(e,t,i){function n(){this.applicationMemoKeyStack=[],this.memo={},this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,this.currentLeftRecursion=void 0}n.prototype={isActive(e){return this.applicationMemoKeyStack.indexOf(e.toMemoKey())>=0},enter(e){this.applicationMemoKeyStack.push(e.toMemoKey())},exit(){this.applicationMemoKeyStack.pop()},startLeftRecursion(e,t){t.isLeftRecursion=!0,t.headApplication=e,t.nextLeftRecursion=this.currentLeftRecursion,this.currentLeftRecursion=t;const i=this.applicationMemoKeyStack,n=i.indexOf(e.toMemoKey())+1,o=i.slice(n);t.isInvolved=function(e){return o.indexOf(e)>=0},t.updateInvolvedApplicationMemoKeys=function(){for(let e=n;e<i.length;e++){const t=i[e];this.isInvolved(t)||o.push(t)}}},endLeftRecursion(){this.currentLeftRecursion=this.currentLeftRecursion.nextLeftRecursion},shouldUseMemoizedResult(e){if(!e.isLeftRecursion)return!0;const t=this.applicationMemoKeyStack;for(let i=0;i<t.length;i++){const n=t[i];if(e.isInvolved(n))return!1}return!0},memoize(e,t){return this.memo[e]=t,this.maxExaminedLength=Math.max(this.maxExaminedLength,t.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,t.rightmostFailureOffset),t},clearObsoleteEntries(e,t){if(e+this.maxExaminedLength<=t)return;const i=this.memo;this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,Object.keys(i).forEach((n=>{const o=i[n];e+o.examinedLength>t?delete i[n]:(this.maxExaminedLength=Math.max(this.maxExaminedLength,o.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,o.rightmostFailureOffset))}))}},e.exports=n},function(e,t,i){const n=i(8),o=i(6).IterationNode,r=i(9),s=i(0),a=i(2),l=i(3),u=[];let c,d;class h{constructor(e,t,i){this._node=e,this.source=t,this._baseInterval=i,e.isNonterminal()&&s.assert(t===i),this._childWrappers=[]}toString(){return"[semantics wrapper for "+this._node.grammar.name+"]"}toJSON(){return this.toString()}_forgetMemoizedResultFor(e){delete this._node[this._semantics.attributeKeys[e]],this.children.forEach((t=>{t._forgetMemoizedResultFor(e)}))}child(e){if(!(0<=e&&e<this._node.numChildren()))return;let t=this._childWrappers[e];if(!t){const i=this._node.childAt(e),n=this._node.childOffsets[e],o=this._baseInterval.subInterval(n,i.matchLength),r=i.isNonterminal()?o:this._baseInterval;t=this._childWrappers[e]=this._semantics.wrap(i,o,r)}return t}_children(){for(let e=0;e<this._node.numChildren();e++)this.child(e);return this._childWrappers}isIteration(){return this._node.isIteration()}isTerminal(){return this._node.isTerminal()}isNonterminal(){return this._node.isNonterminal()}isSyntactic(){return this.isNonterminal()&&this._node.isSyntactic()}isLexical(){return this.isNonterminal()&&this._node.isLexical()}isOptional(){return this._node.isOptional()}iteration(e){const t=e||[],i=t.map((e=>e._node)),n=new o(this._node.grammar,i,[],-1,!1),r=this._semantics.wrap(n,null,null);return r._childWrappers=t,r}get children(){return this._children()}get ctorName(){return this._node.ctorName}get interval(){throw new Error("The `interval` property is deprecated -- use `source` instead")}get numChildren(){return this._node.numChildren()}get primitiveValue(){if(this.isTerminal())return this._node.primitiveValue;throw new TypeError("tried to access the 'primitiveValue' attribute of a non-terminal CST node")}get sourceString(){return this.source.contents}}function g(e,t){const i=this;if(this.grammar=e,this.checkedActionDicts=!1,this.Wrapper=class extends(t?t.Wrapper:h){constructor(e,t,n){super(e,t,n),i.checkActionDictsIfHaventAlready(),this._semantics=i}},this.super=t,t){if(!e.equals(this.super.grammar)&&!e._inheritsFrom(this.super.grammar))throw new Error("Cannot extend a semantics for grammar '"+this.super.grammar.name+"' for use with grammar '"+e.name+"' (not a sub-grammar)");this.operations=Object.create(this.super.operations),this.attributes=Object.create(this.super.attributes),this.attributeKeys=Object.create(null);for(const e in this.attributes)Object.defineProperty(this.attributeKeys,e,{value:l.uniqueId(e)})}else this.operations=Object.create(null),this.attributes=Object.create(null),this.attributeKeys=Object.create(null)}function p(e,t){if(!c)return s.assert(-1===e.indexOf("(")),{name:e,formals:[]};const i=c.match(e,"operation"===t?"OperationSignature":"AttributeSignature");if(i.failed())throw new Error(i.message);return d(i).parse()}g.prototype.toString=function(){return"[semantics for "+this.grammar.name+"]"},g.prototype.checkActionDictsIfHaventAlready=function(){this.checkedActionDicts||(this.checkActionDicts(),this.checkedActionDicts=!0)},g.prototype.checkActionDicts=function(){let e;for(e in this.operations)this.operations[e].checkActionDict(this.grammar);for(e in this.attributes)this.attributes[e].checkActionDict(this.grammar)},g.prototype.toRecipe=function(e){function t(e){return e.super!==g.BuiltInSemantics._getSemantics()}let i="(function(g) {\n";if(t(this)){i+="  var semantics = "+this.super.toRecipe(!0)+"(g";const e=this.super.grammar;let t=this.grammar;for(;t!==e;)i+=".superGrammar",t=t.superGrammar;i+=");\n",i+="  return g.extendSemantics(semantics)"}else i+="  return g.createSemantics()";return["Operation","Attribute"].forEach((e=>{const n=this[e.toLowerCase()+"s"];Object.keys(n).forEach((o=>{const{actionDict:r,formals:s,builtInDefault:a}=n[o];let l,u=o;s.length>0&&(u+="("+s.join(", ")+")"),l=t(this)&&this.super[e.toLowerCase()+"s"][o]?"extend"+e:"add"+e,i+="\n    ."+l+"("+JSON.stringify(u)+", {";const c=[];Object.keys(r).forEach((e=>{if(r[e]!==a){let t=r[e].toString().trim();t=t.replace(/^.*\(/,"function("),c.push("\n      "+JSON.stringify(e)+": "+t)}})),i+=c.join(",")+"\n    })"}))})),i+=";\n  })",e||(i="(function() {\n  var grammar = this.fromRecipe("+this.grammar.toRecipe()+");\n  var semantics = "+i+"(grammar);\n  return semantics;\n});\n"),i},g.prototype.addOperationOrAttribute=function(e,t,i){const n=e+"s",o=p(t,e),r=o.name,s=o.formals;this.assertNewName(r,e);const c=(h=e,g=r,v=b,function(...e){const t=(this._semantics.operations[g]||this._semantics.attributes[g]).formals.map((e=>this.args[e]));if(this.isIteration()||1!==e.length)throw a.missingSemanticAction(this.ctorName,g,h,u);return v.apply(e[0],t)}),d={_default:c};var h,g,v;Object.keys(i).forEach((e=>{d[e]=i[e]}));const _="operation"===e?new m(r,s,d,c):new f(r,d,c);function b(){const t=this._semantics[n][r];if(arguments.length!==t.formals.length)throw new Error("Invalid number of arguments passed to "+r+" "+e+" (expected "+t.formals.length+", got "+arguments.length+")");const i=Object.create(null);for(let e=0;e<arguments.length;e++)i[t.formals[e]]=arguments[e];const o=this.args;this.args=i;const s=t.execute(this._semantics,this);return this.args=o,s}_.checkActionDict(this.grammar),this[n][r]=_,"operation"===e?(this.Wrapper.prototype[r]=b,this.Wrapper.prototype[r].toString=function(){return"["+r+" operation]"}):(Object.defineProperty(this.Wrapper.prototype,r,{get:b,configurable:!0}),Object.defineProperty(this.attributeKeys,r,{value:l.uniqueId(r)}))},g.prototype.extendOperationOrAttribute=function(e,t,i){const n=e+"s";if(p(t,"attribute"),!this.super||!(t in this.super[n]))throw new Error("Cannot extend "+e+" '"+t+"': did not inherit an "+e+" with that name");if(Object.prototype.hasOwnProperty.call(this[n],t))throw new Error("Cannot extend "+e+" '"+t+"' again");const o=this[n][t].formals,r=this[n][t].actionDict,s=Object.create(r);Object.keys(i).forEach((e=>{s[e]=i[e]})),this[n][t]="operation"===e?new m(t,o,s):new f(t,s),this[n][t].checkActionDict(this.grammar)},g.prototype.assertNewName=function(e,t){if(h.prototype.hasOwnProperty(e))throw new Error("Cannot add "+t+" '"+e+"': that's a reserved name");if(e in this.operations)throw new Error("Cannot add "+t+" '"+e+"': an operation with that name already exists");if(e in this.attributes)throw new Error("Cannot add "+t+" '"+e+"': an attribute with that name already exists")},g.prototype.wrap=function(e,t,i){const n=i||t;return e instanceof this.Wrapper?e:new this.Wrapper(e,t,n)},g.createSemantics=function(e,t){const i=new g(e,void 0!==t?t:g.BuiltInSemantics._getSemantics()),o=function(t){if(!(t instanceof r))throw new TypeError("Semantics expected a MatchResult, but got "+s.unexpectedObjToString(t));if(t.failed())throw new TypeError("cannot apply Semantics to "+t.toString());const o=t._cst;if(o.grammar!==e)throw new Error("Cannot use a MatchResult from grammar '"+o.grammar.name+"' with a semantics for '"+e.name+"'");const a=new n(t.input);return i.wrap(o,a.interval(t._cstOffset,t.input.length))};return o.addOperation=function(e,t){return i.addOperationOrAttribute("operation",e,t),o},o.extendOperation=function(e,t){return i.extendOperationOrAttribute("operation",e,t),o},o.addAttribute=function(e,t){return i.addOperationOrAttribute("attribute",e,t),o},o.extendAttribute=function(e,t){return i.extendOperationOrAttribute("attribute",e,t),o},o._getActionDict=function(t){const n=i.operations[t]||i.attributes[t];if(!n)throw new Error('"'+t+'" is not a valid operation or attribute name in this semantics for "'+e.name+'"');return n.actionDict},o._remove=function(e){let t;return e in i.operations?(t=i.operations[e],delete i.operations[e]):e in i.attributes&&(t=i.attributes[e],delete i.attributes[e]),delete i.Wrapper.prototype[e],t},o.getOperationNames=function(){return Object.keys(i.operations)},o.getAttributeNames=function(){return Object.keys(i.attributes)},o.getGrammar=function(){return i.grammar},o.toRecipe=function(e){return i.toRecipe(e)},o.toString=i.toString.bind(i),o._getSemantics=function(){return i},o};class m{constructor(e,t,i,n){this.name=e,this.formals=t,this.actionDict=i,this.builtInDefault=n}checkActionDict(e){e._checkTopDownActionDict(this.typeName,this.name,this.actionDict)}execute(e,t){try{const e=t._node.ctorName;let i=this.actionDict[e];return i?(u.push([this,e]),i.apply(t,t._children())):t.isNonterminal()&&(i=this.actionDict._nonterminal,i)?(u.push([this,"_nonterminal",e]),i.apply(t,t._children())):(u.push([this,"default action",e]),this.actionDict._default.apply(t,t._children()))}finally{u.pop()}}}m.prototype.typeName="operation";class f extends m{constructor(e,t,i){super(e,[],t,i)}execute(e,t){const i=t._node,n=e.attributeKeys[this.name];return i.hasOwnProperty(n)||(i[n]=m.prototype.execute.call(this,e,t)),i[n]}}f.prototype.typeName="attribute",l.awaitBuiltInRules((e=>{const t=i(35);var n;!function(e){const t={empty(){return this.iteration()},nonEmpty(e,t,i){return this.iteration([e].concat(i.children))}};g.BuiltInSemantics=g.createSemantics(e,null).addOperation("asIteration",{emptyListOf:t.empty,nonemptyListOf:t.nonEmpty,EmptyListOf:t.empty,NonemptyListOf:t.nonEmpty})}(e),d=(n=t).createSemantics().addOperation("parse",{AttributeSignature:e=>({name:e.parse(),formals:[]}),OperationSignature:(e,t)=>({name:e.parse(),formals:t.children.map((e=>e.parse()))[0]||[]}),Formals:(e,t,i)=>t.asIteration().children.map((e=>e.parse())),name(e,t){return this.sourceString}}),c=n})),e.exports=g},function(e,t,i){var n=i(4);e.exports=n.makeRecipe(["grammar",{source:'OperationsAndAttributes {\n\n  AttributeSignature =\n    name\n\n  OperationSignature =\n    name Formals?\n\n  Formals\n    = "(" ListOf<name, ","> ")"\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n}'},"OperationsAndAttributes",null,"AttributeSignature",{AttributeSignature:["define",{sourceInterval:[29,58]},null,[],["app",{sourceInterval:[54,58]},"name",[]]],OperationSignature:["define",{sourceInterval:[62,100]},null,[],["seq",{sourceInterval:[87,100]},["app",{sourceInterval:[87,91]},"name",[]],["opt",{sourceInterval:[92,100]},["app",{sourceInterval:[92,99]},"Formals",[]]]]],Formals:["define",{sourceInterval:[104,143]},null,[],["seq",{sourceInterval:[118,143]},["terminal",{sourceInterval:[118,121]},"("],["app",{sourceInterval:[122,139]},"ListOf",[["app",{sourceInterval:[129,133]},"name",[]],["terminal",{sourceInterval:[135,138]},","]]],["terminal",{sourceInterval:[140,143]},")"]]],name:["define",{sourceInterval:[147,187]},"a name",[],["seq",{sourceInterval:[168,187]},["app",{sourceInterval:[168,177]},"nameFirst",[]],["star",{sourceInterval:[178,187]},["app",{sourceInterval:[178,186]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[191,223]},null,[],["alt",{sourceInterval:[207,223]},["terminal",{sourceInterval:[207,210]},"_"],["app",{sourceInterval:[217,223]},"letter",[]]]],nameRest:["define",{sourceInterval:[227,257]},null,[],["alt",{sourceInterval:[242,257]},["terminal",{sourceInterval:[242,245]},"_"],["app",{sourceInterval:[252,257]},"alnum",[]]]]}])},function(e,t,i){const n=i(5),o=i(8),r=i(0),s=i(2),a=i(1);function l(e){this.name=e}l.prototype.sourceInterval=function(e,t){return this.source.subInterval(e,t-e)},l.prototype.ensureSuperGrammar=function(){return this.superGrammar||this.withSuperGrammar("BuiltInRules"===this.name?n.ProtoBuiltInRules:n.BuiltInRules),this.superGrammar},l.prototype.ensureSuperGrammarRuleForOverriding=function(e,t){const i=this.ensureSuperGrammar().rules[e];if(!i)throw s.cannotOverrideUndeclaredRule(e,this.superGrammar.name,t);return i},l.prototype.installOverriddenOrExtendedRule=function(e,t,i,n){const o=r.getDuplicates(t);if(o.length>0)throw s.duplicateParameterNames(e,o,n);const a=this.ensureSuperGrammar().rules[e],l=a.formals,u=l?l.length:0;if(t.length!==u)throw s.wrongNumberOfParameters(e,u,t.length,n);return this.install(e,t,i,a.description,n)},l.prototype.install=function(e,t,i,n,o){return this.rules[e]={body:i.introduceParams(t),formals:t,description:n,source:o},this},l.prototype.withSuperGrammar=function(e){if(this.superGrammar)throw new Error("the super grammar of a GrammarDecl cannot be set more than once");return this.superGrammar=e,this.rules=Object.create(e.rules),e.isBuiltIn()||(this.defaultStartRule=e.defaultStartRule),this},l.prototype.withDefaultStartRule=function(e){return this.defaultStartRule=e,this},l.prototype.withSource=function(e){return this.source=new o(e).interval(0,e.length),this},l.prototype.build=function(){const e=new n(this.name,this.ensureSuperGrammar(),this.rules,this.defaultStartRule),t=[];let i=!1;return Object.keys(e.rules).forEach((n=>{const o=e.rules[n].body;try{o.assertChoicesHaveUniformArity(n)}catch(r){t.push(r)}try{o.assertAllApplicationsAreValid(n,e)}catch(r){t.push(r),i=!0}})),i||Object.keys(e.rules).forEach((i=>{const n=e.rules[i].body;try{n.assertIteratedExprsAreNotNullable(e,[])}catch(o){t.push(o)}})),t.length>0&&s.throwErrors(t),this.source&&(e.source=this.source),e},l.prototype.define=function(e,t,i,n,o){if(this.ensureSuperGrammar(),this.superGrammar.rules[e])throw s.duplicateRuleDeclaration(e,this.name,this.superGrammar.name,o);if(this.rules[e])throw s.duplicateRuleDeclaration(e,this.name,this.name,o);const a=r.getDuplicates(t);if(a.length>0)throw s.duplicateParameterNames(e,a,o);return this.install(e,t,i,n,o)},l.prototype.override=function(e,t,i,n,o){return this.ensureSuperGrammarRuleForOverriding(e,o),this.installOverriddenOrExtendedRule(e,t,i,o),this},l.prototype.extend=function(e,t,i,n,o){if(!this.ensureSuperGrammar().rules[e])throw s.cannotExtendUndeclaredRule(e,this.superGrammar.name,o);const r=new a.Extend(this.superGrammar,e,i);return r.source=i.source,this.installOverriddenOrExtendedRule(e,t,r,o),this},e.exports=l},function(e,t,i){e.exports="16.0.0"},function(e,t,i){e.exports={VisitorFamily:i(39),semanticsForToAST:i(13).semantics,toAST:i(13).helper}},function(e,t,i){const n=i(0).assert;function o(e,t,i){return i(t[e])}function r(e,t,i){return t[e].map(i)}function s(e){const t=e.split(/ ?\[\]/);return 2===t.length?r.bind(null,t[0]):o.bind(null,e)}function a(e,t,i){return e.map((e=>e(t,i)))}function l(e){return/^[a-zA-Z_][0-9a-zA-Z_]*$/.test(e)}function u(e){return e.trim()}function c(e){this._shapes=e.shapes,this._getTag=e.getTag,this.Adapter=function(e,t){this._adaptee=e,this._family=t},this.Adapter.prototype.valueOf=function(){throw new Error("heeey!")},this.operations={},this._arities=Object.create(null),this._getChildren=Object.create(null),Object.keys(this._shapes).forEach((e=>{const t=this._shapes[e];var i;this._getChildren[e]="string"==typeof(i=t)?a.bind(null,[s(i)]):Array.isArray(i)?a.bind(null,i.map(s)):(n("function"==typeof i,"Expected a string, Array, or function"),n(2===i.length,"Expected a function of arity 2, got "+i.length),i),"function"!=typeof t&&(this._arities[e]=Array.isArray(t)?t.length:1)})),this._wrap=e=>new this.Adapter(e,this)}c.prototype.wrap=function(e){return this._wrap(e)},c.prototype._checkActionDict=function(e){Object.keys(e).forEach((t=>{n(t in this._getChildren,"Unrecognized action name '"+t+"'");const i=e[t];if(n("function"==typeof i,"Key '"+t+"': expected function, got "+i),t in this._arities){const i=this._arities[t],o=e[t].length;n(o===i,"Action '"+t+"' has the wrong arity: expected "+i+", got "+o)}}))},c.prototype.addOperation=function(e,t){const i=function(e){const t=e.split(/[()]/).map(u);if(3===t.length&&""===t[2]){const e=t[0];let i=[];if(t[1].length>0&&(i=t[1].split(",").map(u)),l(e)&&i.every(l))return{name:e,formals:i}}throw new Error("Invalid operation signature: "+e)}(e),o=i.name;this._checkActionDict(t),this.operations[o]={name:o,formals:i.formals,actions:t};const r=this;return this.Adapter.prototype[o]=function(){const e=r._getTag(this._adaptee);n(e in r._getChildren,"getTag returned unrecognized tag '"+e+"'"),n(e in t,"No action for '"+e+"' in operation '"+o+"'");const s=Object.create(null);for(let t=0;t<arguments.length;t++)s[i.formals[t]]=arguments[t];const a=this.args;this.args=s;const l=t[e].apply(this,r._getChildren[e](this._adaptee,r._wrap));return this.args=a,l},this},e.exports=c},function(e,t,i){var n=i(4);e.exports=n.makeRecipe(["grammar",{source:'BuiltInRules {\n\n  alnum  (an alpha-numeric character)\n    = letter\n    | digit\n\n  letter  (a letter)\n    = lower\n    | upper\n    | unicodeLtmo\n\n  digit  (a digit)\n    = "0".."9"\n\n  hexDigit  (a hexadecimal digit)\n    = digit\n    | "a".."f"\n    | "A".."F"\n\n  ListOf<elem, sep>\n    = NonemptyListOf<elem, sep>\n    | EmptyListOf<elem, sep>\n\n  NonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  EmptyListOf<elem, sep>\n    = /* nothing */\n\n  listOf<elem, sep>\n    = nonemptyListOf<elem, sep>\n    | emptyListOf<elem, sep>\n\n  nonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  emptyListOf<elem, sep>\n    = /* nothing */\n\n}'},"BuiltInRules",null,null,{alnum:["define",{sourceInterval:[18,78]},"an alpha-numeric character",[],["alt",{sourceInterval:[60,78]},["app",{sourceInterval:[60,66]},"letter",[]],["app",{sourceInterval:[73,78]},"digit",[]]]],letter:["define",{sourceInterval:[82,142]},"a letter",[],["alt",{sourceInterval:[107,142]},["app",{sourceInterval:[107,112]},"lower",[]],["app",{sourceInterval:[119,124]},"upper",[]],["app",{sourceInterval:[131,142]},"unicodeLtmo",[]]]],digit:["define",{sourceInterval:[146,177]},"a digit",[],["range",{sourceInterval:[169,177]},"0","9"]],hexDigit:["define",{sourceInterval:[181,254]},"a hexadecimal digit",[],["alt",{sourceInterval:[219,254]},["app",{sourceInterval:[219,224]},"digit",[]],["range",{sourceInterval:[231,239]},"a","f"],["range",{sourceInterval:[246,254]},"A","F"]]],ListOf:["define",{sourceInterval:[258,336]},null,["elem","sep"],["alt",{sourceInterval:[282,336]},["app",{sourceInterval:[282,307]},"NonemptyListOf",[["param",{sourceInterval:[297,301]},0],["param",{sourceInterval:[303,306]},1]]],["app",{sourceInterval:[314,336]},"EmptyListOf",[["param",{sourceInterval:[326,330]},0],["param",{sourceInterval:[332,335]},1]]]]],NonemptyListOf:["define",{sourceInterval:[340,388]},null,["elem","sep"],["seq",{sourceInterval:[372,388]},["param",{sourceInterval:[372,376]},0],["star",{sourceInterval:[377,388]},["seq",{sourceInterval:[378,386]},["param",{sourceInterval:[378,381]},1],["param",{sourceInterval:[382,386]},0]]]]],EmptyListOf:["define",{sourceInterval:[392,434]},null,["elem","sep"],["seq",{sourceInterval:[438,438]}]],listOf:["define",{sourceInterval:[438,516]},null,["elem","sep"],["alt",{sourceInterval:[462,516]},["app",{sourceInterval:[462,487]},"nonemptyListOf",[["param",{sourceInterval:[477,481]},0],["param",{sourceInterval:[483,486]},1]]],["app",{sourceInterval:[494,516]},"emptyListOf",[["param",{sourceInterval:[506,510]},0],["param",{sourceInterval:[512,515]},1]]]]],nonemptyListOf:["define",{sourceInterval:[520,568]},null,["elem","sep"],["seq",{sourceInterval:[552,568]},["param",{sourceInterval:[552,556]},0],["star",{sourceInterval:[557,568]},["seq",{sourceInterval:[558,566]},["param",{sourceInterval:[558,561]},1],["param",{sourceInterval:[562,566]},0]]]]],emptyListOf:["define",{sourceInterval:[572,614]},null,["elem","sep"],["seq",{sourceInterval:[616,616]}]]}])},function(e,t,i){var n=i(4);e.exports=n.makeRecipe(["grammar",{source:'Ohm {\n\n  Grammars\n    = Grammar*\n\n  Grammar\n    = ident SuperGrammar? "{" Rule* "}"\n\n  SuperGrammar\n    = "<:" ident\n\n  Rule\n    = ident Formals? ruleDescr? "="  RuleBody  -- define\n    | ident Formals?            ":=" OverrideRuleBody  -- override\n    | ident Formals?            "+=" RuleBody  -- extend\n\n  RuleBody\n    = "|"? NonemptyListOf<TopLevelTerm, "|">\n\n  TopLevelTerm\n    = Seq caseName  -- inline\n    | Seq\n\n  OverrideRuleBody\n    = "|"? NonemptyListOf<OverrideTopLevelTerm, "|">\n\n  OverrideTopLevelTerm\n    = "..."  -- superSplice\n    | TopLevelTerm\n\n  Formals\n    = "<" ListOf<ident, ","> ">"\n\n  Params\n    = "<" ListOf<Seq, ","> ">"\n\n  Alt\n    = NonemptyListOf<Seq, "|">\n\n  Seq\n    = Iter*\n\n  Iter\n    = Pred "*"  -- star\n    | Pred "+"  -- plus\n    | Pred "?"  -- opt\n    | Pred\n\n  Pred\n    = "~" Lex  -- not\n    | "&" Lex  -- lookahead\n    | Lex\n\n  Lex\n    = "#" Base  -- lex\n    | Base\n\n  Base\n    = ident Params? ~(ruleDescr? "=" | ":=" | "+=")  -- application\n    | oneCharTerminal ".." oneCharTerminal           -- range\n    | terminal                                       -- terminal\n    | "(" Alt ")"                                    -- paren\n\n  ruleDescr  (a rule description)\n    = "(" ruleDescrText ")"\n\n  ruleDescrText\n    = (~")" any)*\n\n  caseName\n    = "--" (~"\\n" space)* name (~"\\n" space)* ("\\n" | &"}")\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n  ident  (an identifier)\n    = name\n\n  terminal\n    = "\\"" terminalChar* "\\""\n\n  oneCharTerminal\n    = "\\"" terminalChar "\\""\n\n  terminalChar\n    = escapeChar\n    | ~"\\\\" ~"\\"" ~"\\n" any\n\n  escapeChar  (an escape sequence)\n    = "\\\\\\\\"                                     -- backslash\n    | "\\\\\\""                                     -- doubleQuote\n    | "\\\\\\\'"                                     -- singleQuote\n    | "\\\\b"                                      -- backspace\n    | "\\\\n"                                      -- lineFeed\n    | "\\\\r"                                      -- carriageReturn\n    | "\\\\t"                                      -- tab\n    | "\\\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape\n    | "\\\\x" hexDigit hexDigit                    -- hexEscape\n\n  space\n   += comment\n\n  comment\n    = "//" (~"\\n" any)* &("\\n" | end)  -- singleLine\n    | "/*" (~"*/" any)* "*/"  -- multiLine\n\n  tokens = token*\n\n  token = caseName | comment | ident | operator | punctuation | terminal | any\n\n  operator = "<:" | "=" | ":=" | "+=" | "*" | "+" | "?" | "~" | "&"\n\n  punctuation = "<" | ">" | "," | "--"\n}'},"Ohm",null,"Grammars",{Grammars:["define",{sourceInterval:[9,32]},null,[],["star",{sourceInterval:[24,32]},["app",{sourceInterval:[24,31]},"Grammar",[]]]],Grammar:["define",{sourceInterval:[36,83]},null,[],["seq",{sourceInterval:[50,83]},["app",{sourceInterval:[50,55]},"ident",[]],["opt",{sourceInterval:[56,69]},["app",{sourceInterval:[56,68]},"SuperGrammar",[]]],["terminal",{sourceInterval:[70,73]},"{"],["star",{sourceInterval:[74,79]},["app",{sourceInterval:[74,78]},"Rule",[]]],["terminal",{sourceInterval:[80,83]},"}"]]],SuperGrammar:["define",{sourceInterval:[87,116]},null,[],["seq",{sourceInterval:[106,116]},["terminal",{sourceInterval:[106,110]},"<:"],["app",{sourceInterval:[111,116]},"ident",[]]]],Rule_define:["define",{sourceInterval:[131,181]},null,[],["seq",{sourceInterval:[131,170]},["app",{sourceInterval:[131,136]},"ident",[]],["opt",{sourceInterval:[137,145]},["app",{sourceInterval:[137,144]},"Formals",[]]],["opt",{sourceInterval:[146,156]},["app",{sourceInterval:[146,155]},"ruleDescr",[]]],["terminal",{sourceInterval:[157,160]},"="],["app",{sourceInterval:[162,170]},"RuleBody",[]]]],Rule_override:["define",{sourceInterval:[188,248]},null,[],["seq",{sourceInterval:[188,235]},["app",{sourceInterval:[188,193]},"ident",[]],["opt",{sourceInterval:[194,202]},["app",{sourceInterval:[194,201]},"Formals",[]]],["terminal",{sourceInterval:[214,218]},":="],["app",{sourceInterval:[219,235]},"OverrideRuleBody",[]]]],Rule_extend:["define",{sourceInterval:[255,305]},null,[],["seq",{sourceInterval:[255,294]},["app",{sourceInterval:[255,260]},"ident",[]],["opt",{sourceInterval:[261,269]},["app",{sourceInterval:[261,268]},"Formals",[]]],["terminal",{sourceInterval:[281,285]},"+="],["app",{sourceInterval:[286,294]},"RuleBody",[]]]],Rule:["define",{sourceInterval:[120,305]},null,[],["alt",{sourceInterval:[131,305]},["app",{sourceInterval:[131,170]},"Rule_define",[]],["app",{sourceInterval:[188,235]},"Rule_override",[]],["app",{sourceInterval:[255,294]},"Rule_extend",[]]]],RuleBody:["define",{sourceInterval:[309,362]},null,[],["seq",{sourceInterval:[324,362]},["opt",{sourceInterval:[324,328]},["terminal",{sourceInterval:[324,327]},"|"]],["app",{sourceInterval:[329,362]},"NonemptyListOf",[["app",{sourceInterval:[344,356]},"TopLevelTerm",[]],["terminal",{sourceInterval:[358,361]},"|"]]]]],TopLevelTerm_inline:["define",{sourceInterval:[385,408]},null,[],["seq",{sourceInterval:[385,397]},["app",{sourceInterval:[385,388]},"Seq",[]],["app",{sourceInterval:[389,397]},"caseName",[]]]],TopLevelTerm:["define",{sourceInterval:[366,418]},null,[],["alt",{sourceInterval:[385,418]},["app",{sourceInterval:[385,397]},"TopLevelTerm_inline",[]],["app",{sourceInterval:[415,418]},"Seq",[]]]],OverrideRuleBody:["define",{sourceInterval:[422,491]},null,[],["seq",{sourceInterval:[445,491]},["opt",{sourceInterval:[445,449]},["terminal",{sourceInterval:[445,448]},"|"]],["app",{sourceInterval:[450,491]},"NonemptyListOf",[["app",{sourceInterval:[465,485]},"OverrideTopLevelTerm",[]],["terminal",{sourceInterval:[487,490]},"|"]]]]],OverrideTopLevelTerm_superSplice:["define",{sourceInterval:[522,543]},null,[],["terminal",{sourceInterval:[522,527]},"..."]],OverrideTopLevelTerm:["define",{sourceInterval:[495,562]},null,[],["alt",{sourceInterval:[522,562]},["app",{sourceInterval:[522,527]},"OverrideTopLevelTerm_superSplice",[]],["app",{sourceInterval:[550,562]},"TopLevelTerm",[]]]],Formals:["define",{sourceInterval:[566,606]},null,[],["seq",{sourceInterval:[580,606]},["terminal",{sourceInterval:[580,583]},"<"],["app",{sourceInterval:[584,602]},"ListOf",[["app",{sourceInterval:[591,596]},"ident",[]],["terminal",{sourceInterval:[598,601]},","]]],["terminal",{sourceInterval:[603,606]},">"]]],Params:["define",{sourceInterval:[610,647]},null,[],["seq",{sourceInterval:[623,647]},["terminal",{sourceInterval:[623,626]},"<"],["app",{sourceInterval:[627,643]},"ListOf",[["app",{sourceInterval:[634,637]},"Seq",[]],["terminal",{sourceInterval:[639,642]},","]]],["terminal",{sourceInterval:[644,647]},">"]]],Alt:["define",{sourceInterval:[651,685]},null,[],["app",{sourceInterval:[661,685]},"NonemptyListOf",[["app",{sourceInterval:[676,679]},"Seq",[]],["terminal",{sourceInterval:[681,684]},"|"]]]],Seq:["define",{sourceInterval:[689,704]},null,[],["star",{sourceInterval:[699,704]},["app",{sourceInterval:[699,703]},"Iter",[]]]],Iter_star:["define",{sourceInterval:[719,736]},null,[],["seq",{sourceInterval:[719,727]},["app",{sourceInterval:[719,723]},"Pred",[]],["terminal",{sourceInterval:[724,727]},"*"]]],Iter_plus:["define",{sourceInterval:[743,760]},null,[],["seq",{sourceInterval:[743,751]},["app",{sourceInterval:[743,747]},"Pred",[]],["terminal",{sourceInterval:[748,751]},"+"]]],Iter_opt:["define",{sourceInterval:[767,783]},null,[],["seq",{sourceInterval:[767,775]},["app",{sourceInterval:[767,771]},"Pred",[]],["terminal",{sourceInterval:[772,775]},"?"]]],Iter:["define",{sourceInterval:[708,794]},null,[],["alt",{sourceInterval:[719,794]},["app",{sourceInterval:[719,727]},"Iter_star",[]],["app",{sourceInterval:[743,751]},"Iter_plus",[]],["app",{sourceInterval:[767,775]},"Iter_opt",[]],["app",{sourceInterval:[790,794]},"Pred",[]]]],Pred_not:["define",{sourceInterval:[809,824]},null,[],["seq",{sourceInterval:[809,816]},["terminal",{sourceInterval:[809,812]},"~"],["app",{sourceInterval:[813,816]},"Lex",[]]]],Pred_lookahead:["define",{sourceInterval:[831,852]},null,[],["seq",{sourceInterval:[831,838]},["terminal",{sourceInterval:[831,834]},"&"],["app",{sourceInterval:[835,838]},"Lex",[]]]],Pred:["define",{sourceInterval:[798,862]},null,[],["alt",{sourceInterval:[809,862]},["app",{sourceInterval:[809,816]},"Pred_not",[]],["app",{sourceInterval:[831,838]},"Pred_lookahead",[]],["app",{sourceInterval:[859,862]},"Lex",[]]]],Lex_lex:["define",{sourceInterval:[876,892]},null,[],["seq",{sourceInterval:[876,884]},["terminal",{sourceInterval:[876,879]},"#"],["app",{sourceInterval:[880,884]},"Base",[]]]],Lex:["define",{sourceInterval:[866,903]},null,[],["alt",{sourceInterval:[876,903]},["app",{sourceInterval:[876,884]},"Lex_lex",[]],["app",{sourceInterval:[899,903]},"Base",[]]]],Base_application:["define",{sourceInterval:[918,979]},null,[],["seq",{sourceInterval:[918,963]},["app",{sourceInterval:[918,923]},"ident",[]],["opt",{sourceInterval:[924,931]},["app",{sourceInterval:[924,930]},"Params",[]]],["not",{sourceInterval:[932,963]},["alt",{sourceInterval:[934,962]},["seq",{sourceInterval:[934,948]},["opt",{sourceInterval:[934,944]},["app",{sourceInterval:[934,943]},"ruleDescr",[]]],["terminal",{sourceInterval:[945,948]},"="]],["terminal",{sourceInterval:[951,955]},":="],["terminal",{sourceInterval:[958,962]},"+="]]]]],Base_range:["define",{sourceInterval:[986,1041]},null,[],["seq",{sourceInterval:[986,1022]},["app",{sourceInterval:[986,1001]},"oneCharTerminal",[]],["terminal",{sourceInterval:[1002,1006]},".."],["app",{sourceInterval:[1007,1022]},"oneCharTerminal",[]]]],Base_terminal:["define",{sourceInterval:[1048,1106]},null,[],["app",{sourceInterval:[1048,1056]},"terminal",[]]],Base_paren:["define",{sourceInterval:[1113,1168]},null,[],["seq",{sourceInterval:[1113,1124]},["terminal",{sourceInterval:[1113,1116]},"("],["app",{sourceInterval:[1117,1120]},"Alt",[]],["terminal",{sourceInterval:[1121,1124]},")"]]],Base:["define",{sourceInterval:[907,1168]},null,[],["alt",{sourceInterval:[918,1168]},["app",{sourceInterval:[918,963]},"Base_application",[]],["app",{sourceInterval:[986,1022]},"Base_range",[]],["app",{sourceInterval:[1048,1056]},"Base_terminal",[]],["app",{sourceInterval:[1113,1124]},"Base_paren",[]]]],ruleDescr:["define",{sourceInterval:[1172,1231]},"a rule description",[],["seq",{sourceInterval:[1210,1231]},["terminal",{sourceInterval:[1210,1213]},"("],["app",{sourceInterval:[1214,1227]},"ruleDescrText",[]],["terminal",{sourceInterval:[1228,1231]},")"]]],ruleDescrText:["define",{sourceInterval:[1235,1266]},null,[],["star",{sourceInterval:[1255,1266]},["seq",{sourceInterval:[1256,1264]},["not",{sourceInterval:[1256,1260]},["terminal",{sourceInterval:[1257,1260]},")"]],["app",{sourceInterval:[1261,1264]},"any",[]]]]],caseName:["define",{sourceInterval:[1270,1338]},null,[],["seq",{sourceInterval:[1285,1338]},["terminal",{sourceInterval:[1285,1289]},"--"],["star",{sourceInterval:[1290,1304]},["seq",{sourceInterval:[1291,1302]},["not",{sourceInterval:[1291,1296]},["terminal",{sourceInterval:[1292,1296]},"\n"]],["app",{sourceInterval:[1297,1302]},"space",[]]]],["app",{sourceInterval:[1305,1309]},"name",[]],["star",{sourceInterval:[1310,1324]},["seq",{sourceInterval:[1311,1322]},["not",{sourceInterval:[1311,1316]},["terminal",{sourceInterval:[1312,1316]},"\n"]],["app",{sourceInterval:[1317,1322]},"space",[]]]],["alt",{sourceInterval:[1326,1337]},["terminal",{sourceInterval:[1326,1330]},"\n"],["lookahead",{sourceInterval:[1333,1337]},["terminal",{sourceInterval:[1334,1337]},"}"]]]]],name:["define",{sourceInterval:[1342,1382]},"a name",[],["seq",{sourceInterval:[1363,1382]},["app",{sourceInterval:[1363,1372]},"nameFirst",[]],["star",{sourceInterval:[1373,1382]},["app",{sourceInterval:[1373,1381]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[1386,1418]},null,[],["alt",{sourceInterval:[1402,1418]},["terminal",{sourceInterval:[1402,1405]},"_"],["app",{sourceInterval:[1412,1418]},"letter",[]]]],nameRest:["define",{sourceInterval:[1422,1452]},null,[],["alt",{sourceInterval:[1437,1452]},["terminal",{sourceInterval:[1437,1440]},"_"],["app",{sourceInterval:[1447,1452]},"alnum",[]]]],ident:["define",{sourceInterval:[1456,1489]},"an identifier",[],["app",{sourceInterval:[1485,1489]},"name",[]]],terminal:["define",{sourceInterval:[1493,1531]},null,[],["seq",{sourceInterval:[1508,1531]},["terminal",{sourceInterval:[1508,1512]},'"'],["star",{sourceInterval:[1513,1526]},["app",{sourceInterval:[1513,1525]},"terminalChar",[]]],["terminal",{sourceInterval:[1527,1531]},'"']]],oneCharTerminal:["define",{sourceInterval:[1535,1579]},null,[],["seq",{sourceInterval:[1557,1579]},["terminal",{sourceInterval:[1557,1561]},'"'],["app",{sourceInterval:[1562,1574]},"terminalChar",[]],["terminal",{sourceInterval:[1575,1579]},'"']]],terminalChar:["define",{sourceInterval:[1583,1640]},null,[],["alt",{sourceInterval:[1602,1640]},["app",{sourceInterval:[1602,1612]},"escapeChar",[]],["seq",{sourceInterval:[1619,1640]},["not",{sourceInterval:[1619,1624]},["terminal",{sourceInterval:[1620,1624]},"\\"]],["not",{sourceInterval:[1625,1630]},["terminal",{sourceInterval:[1626,1630]},'"']],["not",{sourceInterval:[1631,1636]},["terminal",{sourceInterval:[1632,1636]},"\n"]],["app",{sourceInterval:[1637,1640]},"any",[]]]]],escapeChar_backslash:["define",{sourceInterval:[1683,1738]},null,[],["terminal",{sourceInterval:[1683,1689]},"\\\\"]],escapeChar_doubleQuote:["define",{sourceInterval:[1745,1802]},null,[],["terminal",{sourceInterval:[1745,1751]},'\\"']],escapeChar_singleQuote:["define",{sourceInterval:[1809,1866]},null,[],["terminal",{sourceInterval:[1809,1815]},"\\'"]],escapeChar_backspace:["define",{sourceInterval:[1873,1928]},null,[],["terminal",{sourceInterval:[1873,1878]},"\\b"]],escapeChar_lineFeed:["define",{sourceInterval:[1935,1989]},null,[],["terminal",{sourceInterval:[1935,1940]},"\\n"]],escapeChar_carriageReturn:["define",{sourceInterval:[1996,2056]},null,[],["terminal",{sourceInterval:[1996,2001]},"\\r"]],escapeChar_tab:["define",{sourceInterval:[2063,2112]},null,[],["terminal",{sourceInterval:[2063,2068]},"\\t"]],escapeChar_unicodeEscape:["define",{sourceInterval:[2119,2178]},null,[],["seq",{sourceInterval:[2119,2160]},["terminal",{sourceInterval:[2119,2124]},"\\u"],["app",{sourceInterval:[2125,2133]},"hexDigit",[]],["app",{sourceInterval:[2134,2142]},"hexDigit",[]],["app",{sourceInterval:[2143,2151]},"hexDigit",[]],["app",{sourceInterval:[2152,2160]},"hexDigit",[]]]],escapeChar_hexEscape:["define",{sourceInterval:[2185,2240]},null,[],["seq",{sourceInterval:[2185,2208]},["terminal",{sourceInterval:[2185,2190]},"\\x"],["app",{sourceInterval:[2191,2199]},"hexDigit",[]],["app",{sourceInterval:[2200,2208]},"hexDigit",[]]]],escapeChar:["define",{sourceInterval:[1644,2240]},"an escape sequence",[],["alt",{sourceInterval:[1683,2240]},["app",{sourceInterval:[1683,1689]},"escapeChar_backslash",[]],["app",{sourceInterval:[1745,1751]},"escapeChar_doubleQuote",[]],["app",{sourceInterval:[1809,1815]},"escapeChar_singleQuote",[]],["app",{sourceInterval:[1873,1878]},"escapeChar_backspace",[]],["app",{sourceInterval:[1935,1940]},"escapeChar_lineFeed",[]],["app",{sourceInterval:[1996,2001]},"escapeChar_carriageReturn",[]],["app",{sourceInterval:[2063,2068]},"escapeChar_tab",[]],["app",{sourceInterval:[2119,2160]},"escapeChar_unicodeEscape",[]],["app",{sourceInterval:[2185,2208]},"escapeChar_hexEscape",[]]]],space:["extend",{sourceInterval:[2244,2263]},null,[],["app",{sourceInterval:[2256,2263]},"comment",[]]],comment_singleLine:["define",{sourceInterval:[2281,2327]},null,[],["seq",{sourceInterval:[2281,2312]},["terminal",{sourceInterval:[2281,2285]},"//"],["star",{sourceInterval:[2286,2298]},["seq",{sourceInterval:[2287,2296]},["not",{sourceInterval:[2287,2292]},["terminal",{sourceInterval:[2288,2292]},"\n"]],["app",{sourceInterval:[2293,2296]},"any",[]]]],["lookahead",{sourceInterval:[2299,2312]},["alt",{sourceInterval:[2301,2311]},["terminal",{sourceInterval:[2301,2305]},"\n"],["app",{sourceInterval:[2308,2311]},"end",[]]]]]],comment_multiLine:["define",{sourceInterval:[2334,2370]},null,[],["seq",{sourceInterval:[2334,2356]},["terminal",{sourceInterval:[2334,2338]},"/*"],["star",{sourceInterval:[2339,2351]},["seq",{sourceInterval:[2340,2349]},["not",{sourceInterval:[2340,2345]},["terminal",{sourceInterval:[2341,2345]},"*/"]],["app",{sourceInterval:[2346,2349]},"any",[]]]],["terminal",{sourceInterval:[2352,2356]},"*/"]]],comment:["define",{sourceInterval:[2267,2370]},null,[],["alt",{sourceInterval:[2281,2370]},["app",{sourceInterval:[2281,2312]},"comment_singleLine",[]],["app",{sourceInterval:[2334,2356]},"comment_multiLine",[]]]],tokens:["define",{sourceInterval:[2374,2389]},null,[],["star",{sourceInterval:[2383,2389]},["app",{sourceInterval:[2383,2388]},"token",[]]]],token:["define",{sourceInterval:[2393,2469]},null,[],["alt",{sourceInterval:[2401,2469]},["app",{sourceInterval:[2401,2409]},"caseName",[]],["app",{sourceInterval:[2412,2419]},"comment",[]],["app",{sourceInterval:[2422,2427]},"ident",[]],["app",{sourceInterval:[2430,2438]},"operator",[]],["app",{sourceInterval:[2441,2452]},"punctuation",[]],["app",{sourceInterval:[2455,2463]},"terminal",[]],["app",{sourceInterval:[2466,2469]},"any",[]]]],operator:["define",{sourceInterval:[2473,2538]},null,[],["alt",{sourceInterval:[2484,2538]},["terminal",{sourceInterval:[2484,2488]},"<:"],["terminal",{sourceInterval:[2491,2494]},"="],["terminal",{sourceInterval:[2497,2501]},":="],["terminal",{sourceInterval:[2504,2508]},"+="],["terminal",{sourceInterval:[2511,2514]},"*"],["terminal",{sourceInterval:[2517,2520]},"+"],["terminal",{sourceInterval:[2523,2526]},"?"],["terminal",{sourceInterval:[2529,2532]},"~"],["terminal",{sourceInterval:[2535,2538]},"&"]]],punctuation:["define",{sourceInterval:[2542,2578]},null,[],["alt",{sourceInterval:[2556,2578]},["terminal",{sourceInterval:[2556,2559]},"<"],["terminal",{sourceInterval:[2562,2565]},">"],["terminal",{sourceInterval:[2568,2571]},","],["terminal",{sourceInterval:[2574,2578]},"--"]]]}])}])},"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof e?e.ohm=n():i.ohm=n(),t.exports}();const X=J.createNamespace();X.Super=J.makeRecipe(["grammar",{source:'Super {\r\n  Main = literalOf<(null | boolean | number)>\r\n\r\n  optional<T> = T?\r\n  stringify<T> = T\r\n\r\n  End($END$) = end\r\n  exprEnd($Exp$) = (";" | space)+\r\n\r\n  join<P, C> = P C\r\n  startWith<P, C> = P C\r\n  endWith<C, S> = C S\r\n\r\n  null = "null"\r\n  \r\n  centerOf<L, C, R> = L C R\r\n\r\n\r\n  lineBreak = "\\n"\r\n  linePad = lineSpace*\r\n  lineSpace(space) = ~lineBreak space\r\n  lineEnd($LineEnd$) = linePad (lineBreak | end)\r\n\r\n  padWith<T> = centerOf<linePad, T, linePad>\r\n  multiplePadWith<T> = centerOf<space*, T, space*>\r\n  preSpaceWith<T> = startWith<lineSpace+, T>\r\n  leftPadWith<T> = startWith<linePad, T>\r\n  rightPadWith<T> = endWith<T, linePad>\r\n\r\n  bracketSyntax<L, C, R> = centerOf<L, multiplePadWith<C>, R>\r\n  bracketText<L, C, R> = centerOf<L, multiplePadWith<stringify<(~startWith<space*, R> C)+>>, R>\r\n\r\n  bracketSyntaxInline<L, C, R> = centerOf<L, padWith<C>, R>\r\n  bracketTextInline<L, C, R> = centerOf<L, padWith<stringify<(esc<char> | ~(lineBreak | startWith<linePad, R>) C)+>>, R>\r\n\r\n  simpleBracketSyntax<C, LR> = bracketSyntax<LR, C, LR>\r\n  simpleBracketText<C, LR> = bracketText<LR, C, LR>\r\n\r\n  simpleBracketSyntaxInline<C, LR> = bracketSyntaxInline<LR, C, LR>\r\n  simpleBracketTextInline<C, LR> = bracketTextInline<LR, C, LR>\r\n  \r\n  sourceOf<T> = T\r\n  \r\n  literalOf<T> = T\r\n\r\n  boolean($boolean$) = "true" | "false"\r\n\r\n  char = ~space any\r\n\r\n  number($number$)\r\n    = num* "." num+ -- fract\r\n    | num+ -- whole\r\n\r\n  sign<T>($number$)\r\n    = stringify<T> -- apply\r\n    | ("-" | "+") stringify<T> -- signed\r\n\r\n\r\n  num($num$) = digit\r\n\r\n  internalEscape = "\'" | "\\"" | "\\\\" | "b" | "f" | "n" | "r" | "t" | "v"\r\n\r\n  esc<T> = startWith<&"\\\\", oresc<T>>\r\n  noesc<T> = ~(&"\\\\") T\r\n  oresc<T> = "\\\\"? T\r\n  escWith<T> = strictEscWith<T, T>\r\n  strictEscWith<Escaped, NonEscaped> = esc<(internalEscape | "x" | "u" | Escaped)> | ~NonEscaped any\r\n\r\n  ignore<T> = T\r\n  \r\n  single<T> = endWith<T, &(~T any?)>\r\n  dobule<T> = join<noesc<T>, T>\r\n\r\n  tokenOf<T> = single<noesc<T>>\r\n  dobuleTokenOf<T> = join<noesc<T>, single<T>>\r\n\r\n  parenL = "("\r\n  parenR = ")"\r\n  bracketL = "["\r\n  bracketR = "]"\r\n  // tokenOf2<T> = noesc<single2<T>>\r\n}'},"Super",null,"Main",{Main:["define",{sourceInterval:[11,54]},null,[],["app",{sourceInterval:[18,54]},"literalOf",[["alt",{sourceInterval:[28,53]},["app",{sourceInterval:[29,33]},"null",[]],["app",{sourceInterval:[36,43]},"boolean",[]],["app",{sourceInterval:[46,52]},"number",[]]]]]],optional:["define",{sourceInterval:[60,76]},null,["T"],["opt",{sourceInterval:[74,76]},["param",{sourceInterval:[74,75]},0]]],stringify:["define",{sourceInterval:[80,96]},null,["T"],["param",{sourceInterval:[95,96]},0]],End:["define",{sourceInterval:[102,118]},"$END$",[],["app",{sourceInterval:[115,118]},"end",[]]],exprEnd:["define",{sourceInterval:[122,153]},"$Exp$",[],["plus",{sourceInterval:[139,153]},["alt",{sourceInterval:[140,151]},["terminal",{sourceInterval:[140,143]},";"],["app",{sourceInterval:[146,151]},"space",[]]]]],join:["define",{sourceInterval:[159,175]},null,["P","C"],["seq",{sourceInterval:[172,175]},["param",{sourceInterval:[172,173]},0],["param",{sourceInterval:[174,175]},1]]],startWith:["define",{sourceInterval:[179,200]},null,["P","C"],["seq",{sourceInterval:[197,200]},["param",{sourceInterval:[197,198]},0],["param",{sourceInterval:[199,200]},1]]],endWith:["define",{sourceInterval:[204,223]},null,["C","S"],["seq",{sourceInterval:[220,223]},["param",{sourceInterval:[220,221]},0],["param",{sourceInterval:[222,223]},1]]],null:["define",{sourceInterval:[229,242]},null,[],["terminal",{sourceInterval:[236,242]},"null"]],centerOf:["define",{sourceInterval:[250,275]},null,["L","C","R"],["seq",{sourceInterval:[270,275]},["param",{sourceInterval:[270,271]},0],["param",{sourceInterval:[272,273]},1],["param",{sourceInterval:[274,275]},2]]],lineBreak:["define",{sourceInterval:[283,299]},null,[],["terminal",{sourceInterval:[295,299]},"\n"]],linePad:["define",{sourceInterval:[303,323]},null,[],["star",{sourceInterval:[313,323]},["app",{sourceInterval:[313,322]},"lineSpace",[]]]],lineSpace:["define",{sourceInterval:[327,362]},"space",[],["seq",{sourceInterval:[346,362]},["not",{sourceInterval:[346,356]},["app",{sourceInterval:[347,356]},"lineBreak",[]]],["app",{sourceInterval:[357,362]},"space",[]]]],lineEnd:["define",{sourceInterval:[366,412]},"$LineEnd$",[],["seq",{sourceInterval:[387,412]},["app",{sourceInterval:[387,394]},"linePad",[]],["alt",{sourceInterval:[396,411]},["app",{sourceInterval:[396,405]},"lineBreak",[]],["app",{sourceInterval:[408,411]},"end",[]]]]],padWith:["define",{sourceInterval:[418,460]},null,["T"],["app",{sourceInterval:[431,460]},"centerOf",[["app",{sourceInterval:[440,447]},"linePad",[]],["param",{sourceInterval:[449,450]},0],["app",{sourceInterval:[452,459]},"linePad",[]]]]],multiplePadWith:["define",{sourceInterval:[464,512]},null,["T"],["app",{sourceInterval:[485,512]},"centerOf",[["star",{sourceInterval:[494,500]},["app",{sourceInterval:[494,499]},"space",[]]],["param",{sourceInterval:[502,503]},0],["star",{sourceInterval:[505,511]},["app",{sourceInterval:[505,510]},"space",[]]]]]],preSpaceWith:["define",{sourceInterval:[516,558]},null,["T"],["app",{sourceInterval:[534,558]},"startWith",[["plus",{sourceInterval:[544,554]},["app",{sourceInterval:[544,553]},"lineSpace",[]]],["param",{sourceInterval:[556,557]},0]]]],leftPadWith:["define",{sourceInterval:[562,600]},null,["T"],["app",{sourceInterval:[579,600]},"startWith",[["app",{sourceInterval:[589,596]},"linePad",[]],["param",{sourceInterval:[598,599]},0]]]],rightPadWith:["define",{sourceInterval:[604,641]},null,["T"],["app",{sourceInterval:[622,641]},"endWith",[["param",{sourceInterval:[630,631]},0],["app",{sourceInterval:[633,640]},"linePad",[]]]]],bracketSyntax:["define",{sourceInterval:[647,706]},null,["L","C","R"],["app",{sourceInterval:[672,706]},"centerOf",[["param",{sourceInterval:[681,682]},0],["app",{sourceInterval:[684,702]},"multiplePadWith",[["param",{sourceInterval:[700,701]},1]]],["param",{sourceInterval:[704,705]},2]]]],bracketText:["define",{sourceInterval:[710,803]},null,["L","C","R"],["app",{sourceInterval:[733,803]},"centerOf",[["param",{sourceInterval:[742,743]},0],["app",{sourceInterval:[745,799]},"multiplePadWith",[["app",{sourceInterval:[761,798]},"stringify",[["plus",{sourceInterval:[771,797]},["seq",{sourceInterval:[772,795]},["not",{sourceInterval:[772,793]},["app",{sourceInterval:[773,793]},"startWith",[["star",{sourceInterval:[783,789]},["app",{sourceInterval:[783,788]},"space",[]]],["param",{sourceInterval:[791,792]},2]]]],["param",{sourceInterval:[794,795]},1]]]]]]],["param",{sourceInterval:[801,802]},2]]]],bracketSyntaxInline:["define",{sourceInterval:[809,866]},null,["L","C","R"],["app",{sourceInterval:[840,866]},"centerOf",[["param",{sourceInterval:[849,850]},0],["app",{sourceInterval:[852,862]},"padWith",[["param",{sourceInterval:[860,861]},1]]],["param",{sourceInterval:[864,865]},2]]]],bracketTextInline:["define",{sourceInterval:[870,988]},null,["L","C","R"],["app",{sourceInterval:[899,988]},"centerOf",[["param",{sourceInterval:[908,909]},0],["app",{sourceInterval:[911,984]},"padWith",[["app",{sourceInterval:[919,983]},"stringify",[["plus",{sourceInterval:[929,982]},["alt",{sourceInterval:[930,980]},["app",{sourceInterval:[930,939]},"esc",[["app",{sourceInterval:[934,938]},"char",[]]]],["seq",{sourceInterval:[942,980]},["not",{sourceInterval:[942,978]},["alt",{sourceInterval:[944,977]},["app",{sourceInterval:[944,953]},"lineBreak",[]],["app",{sourceInterval:[956,977]},"startWith",[["app",{sourceInterval:[966,973]},"linePad",[]],["param",{sourceInterval:[975,976]},2]]]]],["param",{sourceInterval:[979,980]},1]]]]]]]],["param",{sourceInterval:[986,987]},2]]]],simpleBracketSyntax:["define",{sourceInterval:[994,1047]},null,["C","LR"],["app",{sourceInterval:[1023,1047]},"bracketSyntax",[["param",{sourceInterval:[1037,1039]},1],["param",{sourceInterval:[1041,1042]},0],["param",{sourceInterval:[1044,1046]},1]]]],simpleBracketText:["define",{sourceInterval:[1051,1100]},null,["C","LR"],["app",{sourceInterval:[1078,1100]},"bracketText",[["param",{sourceInterval:[1090,1092]},1],["param",{sourceInterval:[1094,1095]},0],["param",{sourceInterval:[1097,1099]},1]]]],simpleBracketSyntaxInline:["define",{sourceInterval:[1106,1171]},null,["C","LR"],["app",{sourceInterval:[1141,1171]},"bracketSyntaxInline",[["param",{sourceInterval:[1161,1163]},1],["param",{sourceInterval:[1165,1166]},0],["param",{sourceInterval:[1168,1170]},1]]]],simpleBracketTextInline:["define",{sourceInterval:[1175,1236]},null,["C","LR"],["app",{sourceInterval:[1208,1236]},"bracketTextInline",[["param",{sourceInterval:[1226,1228]},1],["param",{sourceInterval:[1230,1231]},0],["param",{sourceInterval:[1233,1235]},1]]]],sourceOf:["define",{sourceInterval:[1244,1259]},null,["T"],["param",{sourceInterval:[1258,1259]},0]],literalOf:["define",{sourceInterval:[1267,1283]},null,["T"],["param",{sourceInterval:[1282,1283]},0]],boolean:["define",{sourceInterval:[1289,1326]},"$boolean$",[],["alt",{sourceInterval:[1310,1326]},["terminal",{sourceInterval:[1310,1316]},"true"],["terminal",{sourceInterval:[1319,1326]},"false"]]],char:["define",{sourceInterval:[1332,1349]},null,[],["seq",{sourceInterval:[1339,1349]},["not",{sourceInterval:[1339,1345]},["app",{sourceInterval:[1340,1345]},"space",[]]],["app",{sourceInterval:[1346,1349]},"any",[]]]],number_fract:["define",{sourceInterval:[1379,1401]},null,[],["seq",{sourceInterval:[1379,1392]},["star",{sourceInterval:[1379,1383]},["app",{sourceInterval:[1379,1382]},"num",[]]],["terminal",{sourceInterval:[1384,1387]},"."],["plus",{sourceInterval:[1388,1392]},["app",{sourceInterval:[1388,1391]},"num",[]]]]],number_whole:["define",{sourceInterval:[1409,1422]},null,[],["plus",{sourceInterval:[1409,1413]},["app",{sourceInterval:[1409,1412]},"num",[]]]],number:["define",{sourceInterval:[1355,1422]},"$number$",[],["alt",{sourceInterval:[1379,1422]},["app",{sourceInterval:[1379,1392]},"number_fract",[]],["app",{sourceInterval:[1409,1413]},"number_whole",[]]]],sign_apply:["define",{sourceInterval:[1453,1474]},null,["T"],["app",{sourceInterval:[1453,1465]},"stringify",[["param",{sourceInterval:[1463,1464]},0]]]],sign_signed:["define",{sourceInterval:[1482,1516]},null,["T"],["seq",{sourceInterval:[1482,1506]},["alt",{sourceInterval:[1483,1492]},["terminal",{sourceInterval:[1483,1486]},"-"],["terminal",{sourceInterval:[1489,1492]},"+"]],["app",{sourceInterval:[1494,1506]},"stringify",[["param",{sourceInterval:[1504,1505]},0]]]]],sign:["define",{sourceInterval:[1428,1516]},"$number$",["T"],["alt",{sourceInterval:[1453,1516]},["app",{sourceInterval:[1453,1465]},"sign_apply",[["param",{},0]]],["app",{sourceInterval:[1482,1506]},"sign_signed",[["param",{},0]]]]],num:["define",{sourceInterval:[1524,1542]},"$num$",[],["app",{sourceInterval:[1537,1542]},"digit",[]]],internalEscape:["define",{sourceInterval:[1548,1618]},null,[],["alt",{sourceInterval:[1565,1618]},["terminal",{sourceInterval:[1565,1568]},"'"],["terminal",{sourceInterval:[1571,1575]},'"'],["terminal",{sourceInterval:[1578,1582]},"\\"],["terminal",{sourceInterval:[1585,1588]},"b"],["terminal",{sourceInterval:[1591,1594]},"f"],["terminal",{sourceInterval:[1597,1600]},"n"],["terminal",{sourceInterval:[1603,1606]},"r"],["terminal",{sourceInterval:[1609,1612]},"t"],["terminal",{sourceInterval:[1615,1618]},"v"]]],esc:["define",{sourceInterval:[1624,1659]},null,["T"],["app",{sourceInterval:[1633,1659]},"startWith",[["lookahead",{sourceInterval:[1643,1648]},["terminal",{sourceInterval:[1644,1648]},"\\"]],["app",{sourceInterval:[1650,1658]},"oresc",[["param",{sourceInterval:[1656,1657]},0]]]]]],noesc:["define",{sourceInterval:[1663,1684]},null,["T"],["seq",{sourceInterval:[1674,1684]},["not",{sourceInterval:[1674,1682]},["lookahead",{sourceInterval:[1676,1681]},["terminal",{sourceInterval:[1677,1681]},"\\"]]],["param",{sourceInterval:[1683,1684]},0]]],oresc:["define",{sourceInterval:[1688,1706]},null,["T"],["seq",{sourceInterval:[1699,1706]},["opt",{sourceInterval:[1699,1704]},["terminal",{sourceInterval:[1699,1703]},"\\"]],["param",{sourceInterval:[1705,1706]},0]]],escWith:["define",{sourceInterval:[1710,1742]},null,["T"],["app",{sourceInterval:[1723,1742]},"strictEscWith",[["param",{sourceInterval:[1737,1738]},0],["param",{sourceInterval:[1740,1741]},0]]]],strictEscWith:["define",{sourceInterval:[1746,1844]},null,["Escaped","NonEscaped"],["alt",{sourceInterval:[1783,1844]},["app",{sourceInterval:[1783,1826]},"esc",[["alt",{sourceInterval:[1787,1825]},["app",{sourceInterval:[1788,1802]},"internalEscape",[]],["terminal",{sourceInterval:[1805,1808]},"x"],["terminal",{sourceInterval:[1811,1814]},"u"],["param",{sourceInterval:[1817,1824]},0]]]],["seq",{sourceInterval:[1829,1844]},["not",{sourceInterval:[1829,1840]},["param",{sourceInterval:[1830,1840]},1]],["app",{sourceInterval:[1841,1844]},"any",[]]]]],ignore:["define",{sourceInterval:[1850,1863]},null,["T"],["param",{sourceInterval:[1862,1863]},0]],single:["define",{sourceInterval:[1871,1905]},null,["T"],["app",{sourceInterval:[1883,1905]},"endWith",[["param",{sourceInterval:[1891,1892]},0],["lookahead",{sourceInterval:[1894,1904]},["seq",{sourceInterval:[1896,1903]},["not",{sourceInterval:[1896,1898]},["param",{sourceInterval:[1897,1898]},0]],["opt",{sourceInterval:[1899,1903]},["app",{sourceInterval:[1899,1902]},"any",[]]]]]]]],dobule:["define",{sourceInterval:[1909,1938]},null,["T"],["app",{sourceInterval:[1921,1938]},"join",[["app",{sourceInterval:[1926,1934]},"noesc",[["param",{sourceInterval:[1932,1933]},0]]],["param",{sourceInterval:[1936,1937]},0]]]],tokenOf:["define",{sourceInterval:[1944,1973]},null,["T"],["app",{sourceInterval:[1957,1973]},"single",[["app",{sourceInterval:[1964,1972]},"noesc",[["param",{sourceInterval:[1970,1971]},0]]]]]],dobuleTokenOf:["define",{sourceInterval:[1977,2021]},null,["T"],["app",{sourceInterval:[1996,2021]},"join",[["app",{sourceInterval:[2001,2009]},"noesc",[["param",{sourceInterval:[2007,2008]},0]]],["app",{sourceInterval:[2011,2020]},"single",[["param",{sourceInterval:[2018,2019]},0]]]]]],parenL:["define",{sourceInterval:[2027,2039]},null,[],["terminal",{sourceInterval:[2036,2039]},"("]],parenR:["define",{sourceInterval:[2043,2055]},null,[],["terminal",{sourceInterval:[2052,2055]},")"]],bracketL:["define",{sourceInterval:[2059,2073]},null,[],["terminal",{sourceInterval:[2070,2073]},"["]],bracketR:["define",{sourceInterval:[2077,2091]},null,[],["terminal",{sourceInterval:[2088,2091]},"]"]]}]),X.Base=J.makeRecipe(["grammar",{source:'Base <: Super {\r\n\r\n  literal($literal$) = percet | literalOf<(string | number | boolean | null)> \r\n\r\n  number += sign<hex>   -- sign\r\n    | sign<number_fract> -- double\r\n    | sign<number_whole> -- int\r\n\r\n  hex($hexNumber$) = "0x" ("a".."f" | "A".."F" | num)+\r\n\r\n  string\r\n    = simpleBracketSyntaxInline<stringify<strictEscWith<char, "\\"">*>, "\\""> -- doubleQuote\r\n    | simpleBracketSyntaxInline<stringify<strictEscWith<char, "\\\'">*>, "\\\'"> -- singleQuote\r\n  \r\n  // escapeCharacter = internalEscape | "x" | "u" | ~(alnum|space)any\r\n  \r\n  percet = (number_double | number_int) "%" ~(literal | variableName)\r\n\r\n  variableName($variableName$) = stringify<(variableNamePrefix?)> identifier\r\n  variableNamePrefix($variableNamePrefix$) = "$" | "%"\r\n\r\n  identifier = ~invalidIdentifier(validIdentifierPrefixChar ~invalidIdentifierChar (validIdentifierChar)*)\r\n  invalidIdentifier($invalidIdentifier$) = boolean | number | null\r\n\r\n  validIdentifierChar($validIdentifierChar$[:alnum: | "_" | "$"]) = alnum | "_" | "$"\r\n  invalidIdentifierChar($invalidIdentifierChar$["#" | "@" | ...$spicalChar$]) = "#" | "@"\r\n  validIdentifierPrefixChar($validIdentifierPrefixChar$) =  ~(variableNamePrefix)(letter | "_")\r\n\r\n  op = op_comma | op_logic | op_orNull | op_eq | op_rel | op_add | op_mul | op_pow | op_invert\r\n  op_comma = ","\r\n  op_logic = "&&" | "||"\r\n  op_orNull = "??"\r\n  op_eq = "==" | "!="\r\n  op_rel = "<=" | "<" | ">=" | ">"\r\n  op_add = "-" | "+"\r\n  op_mul = "%" | "/" | "*"\r\n  op_pow = "^"\r\n  op_invert = "!"\r\n\r\n}'},"Base",X.Super,"Main",{literal:["define",{sourceInterval:[21,96]},"$literal$",[],["alt",{sourceInterval:[42,96]},["app",{sourceInterval:[42,48]},"percet",[]],["app",{sourceInterval:[51,96]},"literalOf",[["alt",{sourceInterval:[61,95]},["app",{sourceInterval:[62,68]},"string",[]],["app",{sourceInterval:[71,77]},"number",[]],["app",{sourceInterval:[80,87]},"boolean",[]],["app",{sourceInterval:[90,94]},"null",[]]]]]]],number_sign:["define",{sourceInterval:[113,132]},null,[],["app",{sourceInterval:[113,122]},"sign",[["app",{sourceInterval:[118,121]},"hex",[]]]]],number_double:["define",{sourceInterval:[140,168]},null,[],["app",{sourceInterval:[140,158]},"sign",[["app",{sourceInterval:[145,157]},"number_fract",[]]]]],number_int:["define",{sourceInterval:[176,201]},null,[],["app",{sourceInterval:[176,194]},"sign",[["app",{sourceInterval:[181,193]},"number_whole",[]]]]],number:["extend",{sourceInterval:[103,201]},null,[],["alt",{sourceInterval:[113,201]},["app",{sourceInterval:[113,122]},"number_sign",[]],["app",{sourceInterval:[140,158]},"number_double",[]],["app",{sourceInterval:[176,194]},"number_int",[]]]],hex:["define",{sourceInterval:[207,259]},"$hexNumber$",[],["seq",{sourceInterval:[226,259]},["terminal",{sourceInterval:[226,230]},"0x"],["plus",{sourceInterval:[231,259]},["alt",{sourceInterval:[232,257]},["range",{sourceInterval:[232,240]},"a","f"],["range",{sourceInterval:[243,251]},"A","F"],["app",{sourceInterval:[254,257]},"num",[]]]]]],string_doubleQuote:["define",{sourceInterval:[279,364]},null,[],["app",{sourceInterval:[279,349]},"simpleBracketSyntaxInline",[["app",{sourceInterval:[305,342]},"stringify",[["star",{sourceInterval:[315,341]},["app",{sourceInterval:[315,340]},"strictEscWith",[["app",{sourceInterval:[329,333]},"char",[]],["terminal",{sourceInterval:[335,339]},'"']]]]]],["terminal",{sourceInterval:[344,348]},'"']]]],string_singleQuote:["define",{sourceInterval:[372,457]},null,[],["app",{sourceInterval:[372,442]},"simpleBracketSyntaxInline",[["app",{sourceInterval:[398,435]},"stringify",[["star",{sourceInterval:[408,434]},["app",{sourceInterval:[408,433]},"strictEscWith",[["app",{sourceInterval:[422,426]},"char",[]],["terminal",{sourceInterval:[428,432]},"'"]]]]]],["terminal",{sourceInterval:[437,441]},"'"]]]],string:["define",{sourceInterval:[265,457]},null,[],["alt",{sourceInterval:[279,457]},["app",{sourceInterval:[279,349]},"string_doubleQuote",[]],["app",{sourceInterval:[372,442]},"string_singleQuote",[]]]],percet:["define",{sourceInterval:[540,607]},null,[],["seq",{sourceInterval:[549,607]},["alt",{sourceInterval:[550,576]},["app",{sourceInterval:[550,563]},"number_double",[]],["app",{sourceInterval:[566,576]},"number_int",[]]],["terminal",{sourceInterval:[578,581]},"%"],["not",{sourceInterval:[582,607]},["alt",{sourceInterval:[584,606]},["app",{sourceInterval:[584,591]},"literal",[]],["app",{sourceInterval:[594,606]},"variableName",[]]]]]],variableName:["define",{sourceInterval:[613,687]},"$variableName$",[],["seq",{sourceInterval:[644,687]},["app",{sourceInterval:[644,676]},"stringify",[["opt",{sourceInterval:[654,675]},["app",{sourceInterval:[655,673]},"variableNamePrefix",[]]]]],["app",{sourceInterval:[677,687]},"identifier",[]]]],variableNamePrefix:["define",{sourceInterval:[691,743]},"$variableNamePrefix$",[],["alt",{sourceInterval:[734,743]},["terminal",{sourceInterval:[734,737]},"$"],["terminal",{sourceInterval:[740,743]},"%"]]],identifier:["define",{sourceInterval:[749,853]},null,[],["seq",{sourceInterval:[762,853]},["not",{sourceInterval:[762,780]},["app",{sourceInterval:[763,780]},"invalidIdentifier",[]]],["app",{sourceInterval:[781,806]},"validIdentifierPrefixChar",[]],["not",{sourceInterval:[807,829]},["app",{sourceInterval:[808,829]},"invalidIdentifierChar",[]]],["star",{sourceInterval:[830,852]},["app",{sourceInterval:[831,850]},"validIdentifierChar",[]]]]],invalidIdentifier:["define",{sourceInterval:[857,921]},"$invalidIdentifier$",[],["alt",{sourceInterval:[898,921]},["app",{sourceInterval:[898,905]},"boolean",[]],["app",{sourceInterval:[908,914]},"number",[]],["app",{sourceInterval:[917,921]},"null",[]]]],validIdentifierChar:["define",{sourceInterval:[927,1010]},'$validIdentifierChar$[:alnum: | "_" | "$"]',[],["alt",{sourceInterval:[993,1010]},["app",{sourceInterval:[993,998]},"alnum",[]],["terminal",{sourceInterval:[1001,1004]},"_"],["terminal",{sourceInterval:[1007,1010]},"$"]]],invalidIdentifierChar:["define",{sourceInterval:[1014,1101]},'$invalidIdentifierChar$["#" | "@" | ...$spicalChar$]',[],["alt",{sourceInterval:[1092,1101]},["terminal",{sourceInterval:[1092,1095]},"#"],["terminal",{sourceInterval:[1098,1101]},"@"]]],validIdentifierPrefixChar:["define",{sourceInterval:[1105,1198]},"$validIdentifierPrefixChar$",[],["seq",{sourceInterval:[1163,1198]},["not",{sourceInterval:[1163,1184]},["app",{sourceInterval:[1165,1183]},"variableNamePrefix",[]]],["alt",{sourceInterval:[1185,1197]},["app",{sourceInterval:[1185,1191]},"letter",[]],["terminal",{sourceInterval:[1194,1197]},"_"]]]],op:["define",{sourceInterval:[1204,1296]},null,[],["alt",{sourceInterval:[1209,1296]},["app",{sourceInterval:[1209,1217]},"op_comma",[]],["app",{sourceInterval:[1220,1228]},"op_logic",[]],["app",{sourceInterval:[1231,1240]},"op_orNull",[]],["app",{sourceInterval:[1243,1248]},"op_eq",[]],["app",{sourceInterval:[1251,1257]},"op_rel",[]],["app",{sourceInterval:[1260,1266]},"op_add",[]],["app",{sourceInterval:[1269,1275]},"op_mul",[]],["app",{sourceInterval:[1278,1284]},"op_pow",[]],["app",{sourceInterval:[1287,1296]},"op_invert",[]]]],op_comma:["define",{sourceInterval:[1300,1314]},null,[],["terminal",{sourceInterval:[1311,1314]},","]],op_logic:["define",{sourceInterval:[1318,1340]},null,[],["alt",{sourceInterval:[1329,1340]},["terminal",{sourceInterval:[1329,1333]},"&&"],["terminal",{sourceInterval:[1336,1340]},"||"]]],op_orNull:["define",{sourceInterval:[1344,1360]},null,[],["terminal",{sourceInterval:[1356,1360]},"??"]],op_eq:["define",{sourceInterval:[1364,1383]},null,[],["alt",{sourceInterval:[1372,1383]},["terminal",{sourceInterval:[1372,1376]},"=="],["terminal",{sourceInterval:[1379,1383]},"!="]]],op_rel:["define",{sourceInterval:[1387,1419]},null,[],["alt",{sourceInterval:[1396,1419]},["terminal",{sourceInterval:[1396,1400]},"<="],["terminal",{sourceInterval:[1403,1406]},"<"],["terminal",{sourceInterval:[1409,1413]},">="],["terminal",{sourceInterval:[1416,1419]},">"]]],op_add:["define",{sourceInterval:[1423,1441]},null,[],["alt",{sourceInterval:[1432,1441]},["terminal",{sourceInterval:[1432,1435]},"-"],["terminal",{sourceInterval:[1438,1441]},"+"]]],op_mul:["define",{sourceInterval:[1445,1469]},null,[],["alt",{sourceInterval:[1454,1469]},["terminal",{sourceInterval:[1454,1457]},"%"],["terminal",{sourceInterval:[1460,1463]},"/"],["terminal",{sourceInterval:[1466,1469]},"*"]]],op_pow:["define",{sourceInterval:[1473,1485]},null,[],["terminal",{sourceInterval:[1482,1485]},"^"]],op_invert:["define",{sourceInterval:[1489,1504]},null,[],["terminal",{sourceInterval:[1501,1504]},"!"]]}]),X.AdvScript=J.makeRecipe(["grammar",{source:'AdvScript <: Base {\r\n  Main := Statement\r\n\r\n  Statement\r\n    = macroBegin Macro_Call optional<(Macro_Pipe | #pipeFlag)> (exprEnd | End) -- Macro\r\n    | Template End -- Inline\r\n    | Macro_Pipe (exprEnd | End) -- Pipe\r\n    | #pipeFlag (exprEnd | End) -- AnonymousPipe\r\n    | Exp (exprEnd | End) -- Exp\r\n    | End\r\n\r\n  macroBegin($macroBegin$) = "@"\r\n  tmplBegin($tmplBegin$) = "{{"\r\n  tmplEnd($tmplEnd$) = "}}"\r\n\r\n  Template = tmplBegin Exp optional<(Macro_Pipe | #pipeFlag)> tmplEnd\r\n\r\n  Macro_Call = (CallExpression | Macro_Call_Expr)\r\n  Macro_Pipe\r\n    = pipeFlag Macro_Call -- Call\r\n    | pipeFlag pipeExprBegin Exp -- Expr\r\n\r\n  pipeFlag($pipeFlag$) = token_split\r\n  pipeExprBegin($pipeExprBegin$) = "="\r\n\r\n  Macro_Call_Expr = #identifier optional<Params>\r\n\r\n  Params \r\n    = Param (#space | ",") Params -- multiple\r\n    | Param  ";"*                      -- single\r\n\r\n  Param = identifier "=" TopExp    -- setValue\r\n    | identifier                   -- setFlag\r\n\r\n  Array($Array$)= "[" ArrayElements "]"\r\n  ArraySpread($ArraySpread$) = SpreadExp_spread\r\n\r\n  ArrayElements($ArrayElements$) = ListOf<TopExp, ",">\r\n\r\n  CallExpression($CallExpression$) = #identifier "(" ListOf<TopExp, ","> ")"\r\n\r\n  Exp\r\n    = Exp op_comma Exp -- Comma\r\n    | TopExp\r\n\r\n  TopExp\r\n    = SpreadExp_spread -- ArraySpread\r\n    | #variableName "=" TopExp -- assign\r\n    | LogicExp\r\n\r\n  CatchOrNullExp($CatchOrNullExp$) = ~LogicExp_logic RelationExp\r\n  CatchOrNullExp2($CatchOrNullExp$) = ~OrNullExp_or LogicExp\r\n\r\n  LogicExp\r\n    = LogicExp op_logic CatchOrNullExp2  -- logic\r\n    | OrNullExp\r\n\r\n  OrNullExp\r\n    = OrNullExp op_orNull CatchOrNullExp  -- or\r\n    | EqualExp\r\n\r\n  EqualExp\r\n    = EqualExp op_eq EqualExp  -- eq\r\n    | RelationExp\r\n\r\n  RelationExp\r\n    = RelationExp op_rel RelationExp     -- rel\r\n    | SpreadExp\r\n\r\n  SpreadExp\r\n    = SpreadExp op_spread SpreadExp  -- spread\r\n    | AddExp\r\n\r\n  AddExp\r\n    = AddExp op_add MulExp  -- add\r\n    | MulExp\r\n\r\n  MulExp\r\n    = MulExp op_mul ExpExp  -- mul\r\n    | ExpExp\r\n\r\n  ExpExp\r\n    = PriExp op_pow ExpExp  -- pow\r\n    | IncrementExp\r\n    | op_invert PriExp -- invert\r\n    | ~number (op_add PriExp)   -- sign\r\n    | PriExp\r\n\r\n  IncrementExp($Exp$)\r\n    = #variableName op_increment -- after\r\n    | op_increment #variableName -- before\r\n\r\n  PriExp($Exp$) \r\n    = "(" Exp ")" -- paren // parenthesis\r\n    | CallExpression \r\n    | Array\r\n    | variableName\r\n    | literal\r\n  \r\n  op += op_increment | op_spread\r\n  op_increment = "--" | "++"\r\n  op_spread = "..."\r\n\r\n  token_split = "|"\r\n}'},"AdvScript",X.Base,"Main",{Main:["override",{sourceInterval:[23,40]},null,[],["app",{sourceInterval:[31,40]},"Statement",[]]],Statement_Macro:["define",{sourceInterval:[63,144]},null,[],["seq",{sourceInterval:[63,135]},["app",{sourceInterval:[63,73]},"macroBegin",[]],["app",{sourceInterval:[74,84]},"Macro_Call",[]],["app",{sourceInterval:[85,119]},"optional",[["alt",{sourceInterval:[94,118]},["app",{sourceInterval:[95,105]},"Macro_Pipe",[]],["lex",{sourceInterval:[108,117]},["app",{sourceInterval:[109,117]},"pipeFlag",[]]]]]],["alt",{sourceInterval:[121,134]},["app",{sourceInterval:[121,128]},"exprEnd",[]],["app",{sourceInterval:[131,134]},"End",[]]]]],Statement_Inline:["define",{sourceInterval:[152,174]},null,[],["seq",{sourceInterval:[152,164]},["app",{sourceInterval:[152,160]},"Template",[]],["app",{sourceInterval:[161,164]},"End",[]]]],Statement_Pipe:["define",{sourceInterval:[182,216]},null,[],["seq",{sourceInterval:[182,208]},["app",{sourceInterval:[182,192]},"Macro_Pipe",[]],["alt",{sourceInterval:[194,207]},["app",{sourceInterval:[194,201]},"exprEnd",[]],["app",{sourceInterval:[204,207]},"End",[]]]]],Statement_AnonymousPipe:["define",{sourceInterval:[224,266]},null,[],["seq",{sourceInterval:[224,249]},["lex",{sourceInterval:[224,233]},["app",{sourceInterval:[225,233]},"pipeFlag",[]]],["alt",{sourceInterval:[235,248]},["app",{sourceInterval:[235,242]},"exprEnd",[]],["app",{sourceInterval:[245,248]},"End",[]]]]],Statement_Exp:["define",{sourceInterval:[274,300]},null,[],["seq",{sourceInterval:[274,293]},["app",{sourceInterval:[274,277]},"Exp",[]],["alt",{sourceInterval:[279,292]},["app",{sourceInterval:[279,286]},"exprEnd",[]],["app",{sourceInterval:[289,292]},"End",[]]]]],Statement:["define",{sourceInterval:[46,311]},null,[],["alt",{sourceInterval:[63,311]},["app",{sourceInterval:[63,135]},"Statement_Macro",[]],["app",{sourceInterval:[152,164]},"Statement_Inline",[]],["app",{sourceInterval:[182,208]},"Statement_Pipe",[]],["app",{sourceInterval:[224,249]},"Statement_AnonymousPipe",[]],["app",{sourceInterval:[274,293]},"Statement_Exp",[]],["app",{sourceInterval:[308,311]},"End",[]]]],macroBegin:["define",{sourceInterval:[317,347]},"$macroBegin$",[],["terminal",{sourceInterval:[344,347]},"@"]],tmplBegin:["define",{sourceInterval:[351,380]},"$tmplBegin$",[],["terminal",{sourceInterval:[376,380]},"{{"]],tmplEnd:["define",{sourceInterval:[384,409]},"$tmplEnd$",[],["terminal",{sourceInterval:[405,409]},"}}"]],Template:["define",{sourceInterval:[415,482]},null,[],["seq",{sourceInterval:[426,482]},["app",{sourceInterval:[426,435]},"tmplBegin",[]],["app",{sourceInterval:[436,439]},"Exp",[]],["app",{sourceInterval:[440,474]},"optional",[["alt",{sourceInterval:[449,473]},["app",{sourceInterval:[450,460]},"Macro_Pipe",[]],["lex",{sourceInterval:[463,472]},["app",{sourceInterval:[464,472]},"pipeFlag",[]]]]]],["app",{sourceInterval:[475,482]},"tmplEnd",[]]]],Macro_Call:["define",{sourceInterval:[488,535]},null,[],["alt",{sourceInterval:[501,535]},["app",{sourceInterval:[502,516]},"CallExpression",[]],["app",{sourceInterval:[519,534]},"Macro_Call_Expr",[]]]],Macro_Pipe_Call:["define",{sourceInterval:[557,584]},null,[],["seq",{sourceInterval:[557,576]},["app",{sourceInterval:[557,565]},"pipeFlag",[]],["app",{sourceInterval:[566,576]},"Macro_Call",[]]]],Macro_Pipe_Expr:["define",{sourceInterval:[592,626]},null,[],["seq",{sourceInterval:[592,618]},["app",{sourceInterval:[592,600]},"pipeFlag",[]],["app",{sourceInterval:[601,614]},"pipeExprBegin",[]],["app",{sourceInterval:[615,618]},"Exp",[]]]],Macro_Pipe:["define",{sourceInterval:[539,626]},null,[],["alt",{sourceInterval:[557,626]},["app",{sourceInterval:[557,576]},"Macro_Pipe_Call",[]],["app",{sourceInterval:[592,618]},"Macro_Pipe_Expr",[]]]],pipeFlag:["define",{sourceInterval:[632,666]},"$pipeFlag$",[],["app",{sourceInterval:[655,666]},"token_split",[]]],pipeExprBegin:["define",{sourceInterval:[670,706]},"$pipeExprBegin$",[],["terminal",{sourceInterval:[703,706]},"="]],Macro_Call_Expr:["define",{sourceInterval:[712,758]},null,[],["seq",{sourceInterval:[730,758]},["lex",{sourceInterval:[730,741]},["app",{sourceInterval:[731,741]},"identifier",[]]],["app",{sourceInterval:[742,758]},"optional",[["app",{sourceInterval:[751,757]},"Params",[]]]]]],Params_multiple:["define",{sourceInterval:[779,818]},null,[],["seq",{sourceInterval:[779,806]},["app",{sourceInterval:[779,784]},"Param",[]],["alt",{sourceInterval:[786,798]},["lex",{sourceInterval:[786,792]},["app",{sourceInterval:[787,792]},"space",[]]],["terminal",{sourceInterval:[795,798]},","]],["app",{sourceInterval:[800,806]},"Params",[]]]],Params_single:["define",{sourceInterval:[826,868]},null,[],["seq",{sourceInterval:[826,837]},["app",{sourceInterval:[826,831]},"Param",[]],["star",{sourceInterval:[833,837]},["terminal",{sourceInterval:[833,836]},";"]]]],Params:["define",{sourceInterval:[764,868]},null,[],["alt",{sourceInterval:[779,868]},["app",{sourceInterval:[779,806]},"Params_multiple",[]],["app",{sourceInterval:[826,837]},"Params_single",[]]]],Param_setValue:["define",{sourceInterval:[882,918]},null,[],["seq",{sourceInterval:[882,903]},["app",{sourceInterval:[882,892]},"identifier",[]],["terminal",{sourceInterval:[893,896]},"="],["app",{sourceInterval:[897,903]},"TopExp",[]]]],Param_setFlag:["define",{sourceInterval:[926,965]},null,[],["app",{sourceInterval:[926,936]},"identifier",[]]],Param:["define",{sourceInterval:[874,965]},null,[],["alt",{sourceInterval:[882,965]},["app",{sourceInterval:[882,903]},"Param_setValue",[]],["app",{sourceInterval:[926,936]},"Param_setFlag",[]]]],Array:["define",{sourceInterval:[971,1008]},"$Array$",[],["seq",{sourceInterval:[987,1008]},["terminal",{sourceInterval:[987,990]},"["],["app",{sourceInterval:[991,1004]},"ArrayElements",[]],["terminal",{sourceInterval:[1005,1008]},"]"]]],ArraySpread:["define",{sourceInterval:[1012,1057]},"$ArraySpread$",[],["app",{sourceInterval:[1041,1057]},"SpreadExp_spread",[]]],ArrayElements:["define",{sourceInterval:[1063,1115]},"$ArrayElements$",[],["app",{sourceInterval:[1096,1115]},"ListOf",[["app",{sourceInterval:[1103,1109]},"TopExp",[]],["terminal",{sourceInterval:[1111,1114]},","]]]],CallExpression:["define",{sourceInterval:[1121,1195]},"$CallExpression$",[],["seq",{sourceInterval:[1156,1195]},["lex",{sourceInterval:[1156,1167]},["app",{sourceInterval:[1157,1167]},"identifier",[]]],["terminal",{sourceInterval:[1168,1171]},"("],["app",{sourceInterval:[1172,1191]},"ListOf",[["app",{sourceInterval:[1179,1185]},"TopExp",[]],["terminal",{sourceInterval:[1187,1190]},","]]],["terminal",{sourceInterval:[1192,1195]},")"]]],Exp_Comma:["define",{sourceInterval:[1212,1237]},null,[],["seq",{sourceInterval:[1212,1228]},["app",{sourceInterval:[1212,1215]},"Exp",[]],["app",{sourceInterval:[1216,1224]},"op_comma",[]],["app",{sourceInterval:[1225,1228]},"Exp",[]]]],Exp:["define",{sourceInterval:[1201,1251]},null,[],["alt",{sourceInterval:[1212,1251]},["app",{sourceInterval:[1212,1228]},"Exp_Comma",[]],["app",{sourceInterval:[1245,1251]},"TopExp",[]]]],TopExp_ArraySpread:["define",{sourceInterval:[1271,1302]},null,[],["app",{sourceInterval:[1271,1287]},"SpreadExp_spread",[]]],TopExp_assign:["define",{sourceInterval:[1310,1344]},null,[],["seq",{sourceInterval:[1310,1334]},["lex",{sourceInterval:[1310,1323]},["app",{sourceInterval:[1311,1323]},"variableName",[]]],["terminal",{sourceInterval:[1324,1327]},"="],["app",{sourceInterval:[1328,1334]},"TopExp",[]]]],TopExp:["define",{sourceInterval:[1257,1360]},null,[],["alt",{sourceInterval:[1271,1360]},["app",{sourceInterval:[1271,1287]},"TopExp_ArraySpread",[]],["app",{sourceInterval:[1310,1334]},"TopExp_assign",[]],["app",{sourceInterval:[1352,1360]},"LogicExp",[]]]],CatchOrNullExp:["define",{sourceInterval:[1366,1428]},"$CatchOrNullExp$",[],["seq",{sourceInterval:[1401,1428]},["not",{sourceInterval:[1401,1416]},["app",{sourceInterval:[1402,1416]},"LogicExp_logic",[]]],["app",{sourceInterval:[1417,1428]},"RelationExp",[]]]],CatchOrNullExp2:["define",{sourceInterval:[1432,1490]},"$CatchOrNullExp$",[],["seq",{sourceInterval:[1468,1490]},["not",{sourceInterval:[1468,1481]},["app",{sourceInterval:[1469,1481]},"OrNullExp_or",[]]],["app",{sourceInterval:[1482,1490]},"LogicExp",[]]]],LogicExp_logic:["define",{sourceInterval:[1512,1555]},null,[],["seq",{sourceInterval:[1512,1545]},["app",{sourceInterval:[1512,1520]},"LogicExp",[]],["app",{sourceInterval:[1521,1529]},"op_logic",[]],["app",{sourceInterval:[1530,1545]},"CatchOrNullExp2",[]]]],LogicExp:["define",{sourceInterval:[1496,1572]},null,[],["alt",{sourceInterval:[1512,1572]},["app",{sourceInterval:[1512,1545]},"LogicExp_logic",[]],["app",{sourceInterval:[1563,1572]},"OrNullExp",[]]]],OrNullExp_or:["define",{sourceInterval:[1595,1636]},null,[],["seq",{sourceInterval:[1595,1629]},["app",{sourceInterval:[1595,1604]},"OrNullExp",[]],["app",{sourceInterval:[1605,1614]},"op_orNull",[]],["app",{sourceInterval:[1615,1629]},"CatchOrNullExp",[]]]],OrNullExp:["define",{sourceInterval:[1578,1652]},null,[],["alt",{sourceInterval:[1595,1652]},["app",{sourceInterval:[1595,1629]},"OrNullExp_or",[]],["app",{sourceInterval:[1644,1652]},"EqualExp",[]]]],EqualExp_eq:["define",{sourceInterval:[1674,1704]},null,[],["seq",{sourceInterval:[1674,1697]},["app",{sourceInterval:[1674,1682]},"EqualExp",[]],["app",{sourceInterval:[1683,1688]},"op_eq",[]],["app",{sourceInterval:[1689,1697]},"EqualExp",[]]]],EqualExp:["define",{sourceInterval:[1658,1723]},null,[],["alt",{sourceInterval:[1674,1723]},["app",{sourceInterval:[1674,1697]},"EqualExp_eq",[]],["app",{sourceInterval:[1712,1723]},"RelationExp",[]]]],RelationExp_rel:["define",{sourceInterval:[1748,1789]},null,[],["seq",{sourceInterval:[1748,1778]},["app",{sourceInterval:[1748,1759]},"RelationExp",[]],["app",{sourceInterval:[1760,1766]},"op_rel",[]],["app",{sourceInterval:[1767,1778]},"RelationExp",[]]]],RelationExp:["define",{sourceInterval:[1729,1806]},null,[],["alt",{sourceInterval:[1748,1806]},["app",{sourceInterval:[1748,1778]},"RelationExp_rel",[]],["app",{sourceInterval:[1797,1806]},"SpreadExp",[]]]],SpreadExp_spread:["define",{sourceInterval:[1829,1869]},null,[],["seq",{sourceInterval:[1829,1858]},["app",{sourceInterval:[1829,1838]},"SpreadExp",[]],["app",{sourceInterval:[1839,1848]},"op_spread",[]],["app",{sourceInterval:[1849,1858]},"SpreadExp",[]]]],SpreadExp:["define",{sourceInterval:[1812,1883]},null,[],["alt",{sourceInterval:[1829,1883]},["app",{sourceInterval:[1829,1858]},"SpreadExp_spread",[]],["app",{sourceInterval:[1877,1883]},"AddExp",[]]]],AddExp_add:["define",{sourceInterval:[1903,1931]},null,[],["seq",{sourceInterval:[1903,1923]},["app",{sourceInterval:[1903,1909]},"AddExp",[]],["app",{sourceInterval:[1910,1916]},"op_add",[]],["app",{sourceInterval:[1917,1923]},"MulExp",[]]]],AddExp:["define",{sourceInterval:[1889,1945]},null,[],["alt",{sourceInterval:[1903,1945]},["app",{sourceInterval:[1903,1923]},"AddExp_add",[]],["app",{sourceInterval:[1939,1945]},"MulExp",[]]]],MulExp_mul:["define",{sourceInterval:[1965,1993]},null,[],["seq",{sourceInterval:[1965,1985]},["app",{sourceInterval:[1965,1971]},"MulExp",[]],["app",{sourceInterval:[1972,1978]},"op_mul",[]],["app",{sourceInterval:[1979,1985]},"ExpExp",[]]]],MulExp:["define",{sourceInterval:[1951,2007]},null,[],["alt",{sourceInterval:[1965,2007]},["app",{sourceInterval:[1965,1985]},"MulExp_mul",[]],["app",{sourceInterval:[2001,2007]},"ExpExp",[]]]],ExpExp_pow:["define",{sourceInterval:[2027,2055]},null,[],["seq",{sourceInterval:[2027,2047]},["app",{sourceInterval:[2027,2033]},"PriExp",[]],["app",{sourceInterval:[2034,2040]},"op_pow",[]],["app",{sourceInterval:[2041,2047]},"ExpExp",[]]]],ExpExp_invert:["define",{sourceInterval:[2083,2109]},null,[],["seq",{sourceInterval:[2083,2099]},["app",{sourceInterval:[2083,2092]},"op_invert",[]],["app",{sourceInterval:[2093,2099]},"PriExp",[]]]],ExpExp_sign:["define",{sourceInterval:[2117,2150]},null,[],["seq",{sourceInterval:[2117,2140]},["not",{sourceInterval:[2117,2124]},["app",{sourceInterval:[2118,2124]},"number",[]]],["app",{sourceInterval:[2126,2132]},"op_add",[]],["app",{sourceInterval:[2133,2139]},"PriExp",[]]]],ExpExp:["define",{sourceInterval:[2013,2164]},null,[],["alt",{sourceInterval:[2027,2164]},["app",{sourceInterval:[2027,2047]},"ExpExp_pow",[]],["app",{sourceInterval:[2063,2075]},"IncrementExp",[]],["app",{sourceInterval:[2083,2099]},"ExpExp_invert",[]],["app",{sourceInterval:[2117,2140]},"ExpExp_sign",[]],["app",{sourceInterval:[2158,2164]},"PriExp",[]]]],IncrementExp_after:["define",{sourceInterval:[2197,2232]},null,[],["seq",{sourceInterval:[2197,2223]},["lex",{sourceInterval:[2197,2210]},["app",{sourceInterval:[2198,2210]},"variableName",[]]],["app",{sourceInterval:[2211,2223]},"op_increment",[]]]],IncrementExp_before:["define",{sourceInterval:[2240,2276]},null,[],["seq",{sourceInterval:[2240,2266]},["app",{sourceInterval:[2240,2252]},"op_increment",[]],["lex",{sourceInterval:[2253,2266]},["app",{sourceInterval:[2254,2266]},"variableName",[]]]]],IncrementExp:["define",{sourceInterval:[2170,2276]},"$Exp$",[],["alt",{sourceInterval:[2197,2276]},["app",{sourceInterval:[2197,2223]},"IncrementExp_after",[]],["app",{sourceInterval:[2240,2266]},"IncrementExp_before",[]]]],PriExp_paren:["define",{sourceInterval:[2304,2339]},null,[],["seq",{sourceInterval:[2304,2315]},["terminal",{sourceInterval:[2304,2307]},"("],["app",{sourceInterval:[2308,2311]},"Exp",[]],["terminal",{sourceInterval:[2312,2315]},")"]]],PriExp:["define",{sourceInterval:[2282,2410]},"$Exp$",[],["alt",{sourceInterval:[2304,2410]},["app",{sourceInterval:[2304,2315]},"PriExp_paren",[]],["app",{sourceInterval:[2347,2361]},"CallExpression",[]],["app",{sourceInterval:[2370,2375]},"Array",[]],["app",{sourceInterval:[2383,2395]},"variableName",[]],["app",{sourceInterval:[2403,2410]},"literal",[]]]],op:["extend",{sourceInterval:[2418,2448]},null,[],["alt",{sourceInterval:[2424,2448]},["app",{sourceInterval:[2424,2436]},"op_increment",[]],["app",{sourceInterval:[2439,2448]},"op_spread",[]]]],op_increment:["define",{sourceInterval:[2452,2478]},null,[],["alt",{sourceInterval:[2467,2478]},["terminal",{sourceInterval:[2467,2471]},"--"],["terminal",{sourceInterval:[2474,2478]},"++"]]],op_spread:["define",{sourceInterval:[2482,2499]},null,[],["terminal",{sourceInterval:[2494,2499]},"..."]],token_split:["define",{sourceInterval:[2505,2522]},null,[],["terminal",{sourceInterval:[2519,2522]},"|"]]}]),X.AdvFountain=J.makeRecipe(["grammar",{source:'AdvFountain <: AdvScript {\r\n  main = statment+ | end\r\n  statment = (content | errorBoundary)\r\n\r\n  parenWith<T> = bracketSyntaxInline<parenL, T, parenR> | bracketSyntaxInline<"（", T, "）">\r\n  parenStringWith<T> = bracketTextInline<parenL, T, parenR> | bracketTextInline<"（", T, "）">\r\n\r\n  bracketWith<T> = bracketSyntaxInline<bracketL, T, bracketR> | bracketSyntaxInline<"【", T, "】">\r\n  bracketStringWith<T> = bracketTextInline<bracketL, T, bracketR> | bracketTextInline<"【", T, "】">\r\n  \r\n\r\n  stringWith<Char> = stringify<Char+>\r\n\r\n  errorBoundary \r\n    = ignoreError\r\n    | logicError\r\n    | characterError\r\n    | commandError\r\n    | actionError\r\n    | otherError\r\n\r\n  characterError = statementOf<rawOf<startWith<sToken_character, (~lineBreak any)*>>>\r\n  actionError = linesOf<action_plain>\r\n  commandError = linesOf<command>\r\n  logicError = block_logic | logicStatment\r\n  ignoreError = linesOf<(comment | ignore<&emptyLine>)>\r\n  otherError = linesOf<~textSyntax_action rawOf<(~lineBreak any)+>> -- raw\r\n\r\n  comment\r\n    = comment_inline       -- notes\r\n    | bracketTextInline<"[[", any, ("]]" | &lineBreak)>  -- inline\r\n    | startWith<startWith<"//", linePad>, stringify<endWith<escWith<lineBreak>*, &lineEnd>>> -- single\r\n    | bracketText<join<"/", "*"+>, any, join<"*"+, "/">>       -- multi\r\n\r\n  block_comment($Comment$) = groupUntil<comment, &ignore<(logicStatment | block_command | block_textSyntax | errorBoundary)>>\r\n  groupUntil<T, UNTIL> = syntaxListOf<T, blockEndOf<UNTIL>>\r\n\r\n  content\r\n    = block_logic\r\n    | block_comment\r\n    | emptyLine -- empty\r\n    | block_command\r\n    | block_textSyntax\r\n\r\n  block_textSyntax = block_dialogue | block_action\r\n\r\n  inlineSyntax = ~command_pageBreak command | comment\r\n\r\n  contentBlockEnd = startWith<(lineOf<textSyntax_space> | lineEnd), (textSyntax_action | logicStatment)>\r\n\r\n  block_action($ActionBlock$) = contentBlockLinesOf<action_start, action_content, action_end>\r\n  action_start = ~(command_transition | command_pageBreak) action_plain\r\n  action_plain = textSyntax_action | textSyntax_space\r\n  action_content = inlineSyntax | textSyntax_action | textSyntax_space\r\n  action_end = blockEndOf<&contentBlockEnd>\r\n  \r\n  block_dialogue($CharacterBlock$) = contentBlockLinesOf<character_call, dialogue_content, dialogue_end>\r\n  character_call = padWith<character_name> (optional<character_call_macro> | optional<macro>)\r\n  character_call_macro = character_modifier optional<macro>\r\n  character_modifier = parenStringWith<any>\r\n  dialogue_action = padWith<character_call_macro>\r\n  dialogue_content = dialogue_action | inlineSyntax | leftPadWith<textSyntax_dialogue> | textSyntax_space\r\n  character_name\r\n    = join<upper, (upper|digit|"_")+> -- plain\r\n    | startWith<"@", stringify<(~(character_modifier | "\\n") any)+>> -- esc\r\n  dialogue_end = blockEndOf<&contentBlockEnd>\r\n  \r\n  block_command($CommandBlock$) = groupUntil<command, &(comment)>\r\n  command = command_transition | command_macro | command_pageBreak\r\n  command_transition($Command:Transition$) = ">" leftPadWith<stringify<escWith<("[" | lineBreak | "<")>+>> (~"<" optional<macro>)\r\n  command_macro($Command:CallMacro$) = macro\r\n  command_pageBreak($Command:PageBreak$) = "==="\r\n\r\n\r\n  sToken = \r\n    | sToken_character\r\n    | sToken_action\r\n    | sToken_lyrics\r\n  \r\n  sToken_character($sToken_character$) = "@"\r\n  sToken_action($sToken_action$) = "!"\r\n  sToken_lyrics = "~"\r\n\r\n  textSyntax = textSyntax_action | textSyntax_dialogue | textSyntax_space\r\n\r\n  textSyntax_action = startWith<~sToken_character &any, (sToken_action | sToken_lyrics)?> rightPadWith<textContent> optional<expr_pipe>\r\n\r\n  textSyntax_dialogue = sToken_lyrics? &(~sToken_action any) rightPadWith<textContent> optional<expr_pipe>\r\n  textSyntax_space = lineSpace+\r\n\r\n  emptyLine($EmptyLine$) = lineBreak+\r\n\r\n  blockEnd($blockEnd$) = linePad (lineBreak | end)\r\n  blockEndOf<T>($blockEnd$) = blockEnd | T | &logicStatment\r\n\r\n  lineOf<T> = endWith<T, lineEnd>\r\n  linesOf<T> = endWith<lineOf<T>+, emptyLine?>\r\n\r\n  syntaxListOf<Child, End> = syntaxBlockLinesOf<Child, syntaxOf<(Child | &ignore<lineSpace+>)>, End>\r\n  syntaxOf<T> = T | startWith<ignore<emptyLine+>, ~errorBoundary T>\r\n\r\n  contentLinesOf<Child, End> = contentBlockLinesOf<Child, Child, End>\r\n  // 块内语句之间可以使用\r\n  syntaxBlockLinesOf<Begin, Child, End> = syntaxBlockOf<lineOf<Begin>, lineOf<Child>, End>\r\n  contentBlockLinesOf<Begin, Child, End> = contentBlockOf<lineOf<Begin>, lineOf<Child>, End>\r\n\r\n  \r\n  syntaxBlockOf<Begin, Child, End> = Begin Child* End\r\n  contentBlockOf<Begin, Child, End> = Begin Child* End\r\n  nonemptyBlockOf<Begin, Child, End> = Begin Child+ End\r\n  nonemptyContentBlockOf<Begin, Child, End> = Begin Child+ End\r\n\r\n  statmentBreak($StatmentBreak$) = (block_comment | emptyLine)\r\n  startStatmentOf<T> = bracketSyntaxInline<&(statmentBreak*), T, statmentBreak+>\r\n  statementOf<T> = bracketSyntaxInline<&(statmentBreak*), startWith<linePad, T>, (statmentBreak+ | end)>\r\n\r\n  textContent = styled_centered<(centeredContent | escToken)+> -- centered\r\n    | withText<(textPiece | escToken)+> -- plain\r\n\r\n  // textSyntax_paren<Content> \r\n\r\n  styled_centered<T> = centeredL T centeredR\r\n  centeredL = rightPadWith<">">\r\n  centeredR = leftPadWith<"<">\r\n\r\n  centeredContent = styled<centeredContent> \r\n    | template\r\n    | plainTextUntil<(plainText_until | centeredR)>\r\n  \r\n  withText<T> = T\r\n  textPiece\r\n   = styled<textPiece> -- styled\r\n    | template\r\n    | plainText\r\n\r\n  escToken = oresc<~token_split char>\r\n\r\n  // fountain中的强调（Emphasis）语法\r\n  styled<T>($Emphasis$) =\r\n    | "**" withText<(~(styled_bold<T>) T)+> "**" -- bold\r\n    | "*" withText<(~(styled_italic<T>) T)+> "*" -- italic\r\n    | "_" withText<(~(styled_underline<T>) T)+> "_" -- underline\r\n\r\n  plainText_until = comment | template | macro | token_split | lineEnd | "_" | "*"\r\n  plainText($plainText$) = plainTextUntil<plainText_until>\r\n  plainTextUntil<Until> = rawOf<strictEscWith<char, (Until | lineBreak)>+> // app\r\n  rawOf<T> = stringify<T>\r\n\r\n  expr($Expr$)\r\n    = expr_template\r\n    | expr_logic\r\n    | expr_auto\r\n    | expr_pipe\r\n\r\n  expr_template = embbedExprUntil<"}}">\r\n  expr_logic = embbedExprUntil<lineBreak>\r\n  expr_auto = embbedExprUntil<")">\r\n  expr_pipe($PipeExp$) = token_split embbedExprUntil<token_split>?\r\n\r\n  template($TemplateExp$)\r\n    = bracketSyntaxInline<tokenOf<"[">, plainTextUntil<"](">, tokenOf<"]">> bracketSyntaxInline<"(", expr_auto, ")"> -- label\r\n    | bracketSyntaxInline<"{{", optional<expr_template>, "}}"> -- native \r\n    | comment_inline\r\n    | rawOf<bracketSyntaxInline<"[", embbedExprUntil<"]">, "]">> -- macro\r\n\r\n  macro = bracketSyntaxInline<tokenOf<"[">, embbedExprUntil<"]">, tokenOf<"]">>\r\n  \r\n  // awesomeExpr($awesomeExpr$) = embbedExprUntil<("[" | "]" | "(" | ")" | "}}" | "{{")>\r\n  embbedExprUntil<Exclude>($awesomeExpr$) = stringify<(sourceOf<string> | strictEscWith<char, (Exclude | lineBreak)>)+>\r\n\r\n\r\n  block_logic($LogicStatment$)\r\n    = statementOf<logicSyntax_let>\r\n    | logic_blockIf<content>\r\n    | logic_blockForeach<content>\r\n    | logic_blockWhile<content>\r\n    // | contentBlockLinesOf<logic_block_begin, storyLine, statementOf<logic_end>>\r\n  \r\n  logicSyntax($logicSyntax$)\r\n    = ctlKey<scriptToken_var> leftPadWith<expr_logic> -- let\r\n    | ctlKey<~scriptToken_var scriptToken>\r\n  logicStatment = statementOf<padWith<logicSyntax>>\r\n\r\n  logic_blockIf<T> = statementOf<logic_if> leftPadWith<T>* (statementOf<logic_elseIf> T*)* (statementOf<logic_else> T*)? statementOf<logic_end>\r\n  logic_if = ctlKey<scriptToken_if> padWith<expr_logic>\r\n  logic_elseIf = ctlKey<scriptToken_elseif> padWith<expr_logic>\r\n  logic_else = ctlKey<scriptToken_else>\r\n\r\n  scriptToken = scriptToken_var | scriptToken_if | scriptToken_elseif | scriptToken_else | scriptToken_end | scriptToken_for | scriptToken_while\r\n\r\n  scriptToken_var = "let"\r\n  scriptToken_if = "if"\r\n  scriptToken_elseif = "elseif"\r\n  scriptToken_else = "else"\r\n  scriptToken_end = "end"\r\n  scriptToken_for = "foreach"\r\n  scriptToken_in = "in"\r\n  scriptToken_while = "while"\r\n\r\n\r\n  logic_blockForeach<T> = syntaxBlockOf<lineOf<logic_foreach>, leftPadWith<T>, statementOf<logic_end>>\r\n  logic_foreach = ctlKey<scriptToken_for> preSpaceWith<variableName> preSpaceWith<scriptToken_in> preSpaceWith<expr_logic>\r\n\r\n  logic_blockWhile<T> = syntaxBlockOf<lineOf<logic_while>, leftPadWith<T>, statementOf<logic_end>>\r\n  logic_while = ctlKey<scriptToken_while> preSpaceWith<expr_logic>\r\n\r\n  ctlKey<key> = leftPadWith<join<token_split, key>> // control statment keyword\r\n\r\n  logic_end = ctlKey<scriptToken_end>\r\n\r\n  tokens\r\n    = token*\r\n    \r\n  token\r\n    = comment \r\n    // | kwSelectorPrefix | kwSelectorPart \r\n    | valueToken \r\n    | keyword \r\n    // | instVarAccess\r\n    // | javaStyleSelector \r\n    // | binSelector \r\n    | any\r\n  valueToken = sToken\r\n  // instVarAccess\r\n  //   = "." spaces varName ~(spaces "(")\r\n  // javaStyleSelector\r\n  //   = "." spaces varName &(spaces "(")\r\n  // kwSelectorPrefix\r\n  //   = varName &(space+ expStart)\r\n  // expStart\r\n  //   = valueToken | "(" | "{"\r\n\r\n  keyword = ctlKey<scriptToken>\r\n\r\n}'},"AdvFountain",X.AdvScript,"Main",{main:["define",{sourceInterval:[30,52]},null,[],["alt",{sourceInterval:[37,52]},["plus",{sourceInterval:[37,46]},["app",{sourceInterval:[37,45]},"statment",[]]],["app",{sourceInterval:[49,52]},"end",[]]]],statment:["define",{sourceInterval:[56,92]},null,[],["alt",{sourceInterval:[67,92]},["app",{sourceInterval:[68,75]},"content",[]],["app",{sourceInterval:[78,91]},"errorBoundary",[]]]],parenWith:["define",{sourceInterval:[98,186]},null,["T"],["alt",{sourceInterval:[113,186]},["app",{sourceInterval:[113,151]},"bracketSyntaxInline",[["app",{sourceInterval:[133,139]},"parenL",[]],["param",{sourceInterval:[141,142]},0],["app",{sourceInterval:[144,150]},"parenR",[]]]],["app",{sourceInterval:[154,186]},"bracketSyntaxInline",[["terminal",{sourceInterval:[174,177]},"（"],["param",{sourceInterval:[179,180]},0],["terminal",{sourceInterval:[182,185]},"）"]]]]],parenStringWith:["define",{sourceInterval:[190,280]},null,["T"],["alt",{sourceInterval:[211,280]},["app",{sourceInterval:[211,247]},"bracketTextInline",[["app",{sourceInterval:[229,235]},"parenL",[]],["param",{sourceInterval:[237,238]},0],["app",{sourceInterval:[240,246]},"parenR",[]]]],["app",{sourceInterval:[250,280]},"bracketTextInline",[["terminal",{sourceInterval:[268,271]},"（"],["param",{sourceInterval:[273,274]},0],["terminal",{sourceInterval:[276,279]},"）"]]]]],bracketWith:["define",{sourceInterval:[286,380]},null,["T"],["alt",{sourceInterval:[303,380]},["app",{sourceInterval:[303,345]},"bracketSyntaxInline",[["app",{sourceInterval:[323,331]},"bracketL",[]],["param",{sourceInterval:[333,334]},0],["app",{sourceInterval:[336,344]},"bracketR",[]]]],["app",{sourceInterval:[348,380]},"bracketSyntaxInline",[["terminal",{sourceInterval:[368,371]},"【"],["param",{sourceInterval:[373,374]},0],["terminal",{sourceInterval:[376,379]},"】"]]]]],bracketStringWith:["define",{sourceInterval:[384,480]},null,["T"],["alt",{sourceInterval:[407,480]},["app",{sourceInterval:[407,447]},"bracketTextInline",[["app",{sourceInterval:[425,433]},"bracketL",[]],["param",{sourceInterval:[435,436]},0],["app",{sourceInterval:[438,446]},"bracketR",[]]]],["app",{sourceInterval:[450,480]},"bracketTextInline",[["terminal",{sourceInterval:[468,471]},"【"],["param",{sourceInterval:[473,474]},0],["terminal",{sourceInterval:[476,479]},"】"]]]]],stringWith:["define",{sourceInterval:[490,525]},null,["Char"],["app",{sourceInterval:[509,525]},"stringify",[["plus",{sourceInterval:[519,524]},["param",{sourceInterval:[519,523]},0]]]]],errorBoundary:["define",{sourceInterval:[531,661]},null,[],["alt",{sourceInterval:[553,661]},["app",{sourceInterval:[553,564]},"ignoreError",[]],["app",{sourceInterval:[572,582]},"logicError",[]],["app",{sourceInterval:[590,604]},"characterError",[]],["app",{sourceInterval:[612,624]},"commandError",[]],["app",{sourceInterval:[632,643]},"actionError",[]],["app",{sourceInterval:[651,661]},"otherError",[]]]],characterError:["define",{sourceInterval:[667,750]},null,[],["app",{sourceInterval:[684,750]},"statementOf",[["app",{sourceInterval:[696,749]},"rawOf",[["app",{sourceInterval:[702,748]},"startWith",[["app",{sourceInterval:[712,728]},"sToken_character",[]],["star",{sourceInterval:[730,747]},["seq",{sourceInterval:[731,745]},["not",{sourceInterval:[731,741]},["app",{sourceInterval:[732,741]},"lineBreak",[]]],["app",{sourceInterval:[742,745]},"any",[]]]]]]]]]]],actionError:["define",{sourceInterval:[754,789]},null,[],["app",{sourceInterval:[768,789]},"linesOf",[["app",{sourceInterval:[776,788]},"action_plain",[]]]]],commandError:["define",{sourceInterval:[793,824]},null,[],["app",{sourceInterval:[808,824]},"linesOf",[["app",{sourceInterval:[816,823]},"command",[]]]]],logicError:["define",{sourceInterval:[828,868]},null,[],["alt",{sourceInterval:[841,868]},["app",{sourceInterval:[841,852]},"block_logic",[]],["app",{sourceInterval:[855,868]},"logicStatment",[]]]],ignoreError:["define",{sourceInterval:[872,925]},null,[],["app",{sourceInterval:[886,925]},"linesOf",[["alt",{sourceInterval:[894,924]},["app",{sourceInterval:[895,902]},"comment",[]],["app",{sourceInterval:[905,923]},"ignore",[["lookahead",{sourceInterval:[912,922]},["app",{sourceInterval:[913,922]},"emptyLine",[]]]]]]]]],otherError_raw:["define",{sourceInterval:[942,1001]},null,[],["app",{sourceInterval:[942,994]},"linesOf",[["seq",{sourceInterval:[950,993]},["not",{sourceInterval:[950,968]},["app",{sourceInterval:[951,968]},"textSyntax_action",[]]],["app",{sourceInterval:[969,993]},"rawOf",[["plus",{sourceInterval:[975,992]},["seq",{sourceInterval:[976,990]},["not",{sourceInterval:[976,986]},["app",{sourceInterval:[977,986]},"lineBreak",[]]],["app",{sourceInterval:[987,990]},"any",[]]]]]]]]]],otherError:["define",{sourceInterval:[929,1001]},null,[],["app",{sourceInterval:[942,1001]},"otherError_raw",[]]],comment_notes:["define",{sourceInterval:[1022,1051]},null,[],["app",{sourceInterval:[1022,1036]},"comment_inline",[]]],comment_inline:["define",{sourceInterval:[1059,1119]},null,[],["app",{sourceInterval:[1059,1108]},"bracketTextInline",[["terminal",{sourceInterval:[1077,1081]},"[["],["app",{sourceInterval:[1083,1086]},"any",[]],["alt",{sourceInterval:[1088,1107]},["terminal",{sourceInterval:[1089,1093]},"]]"],["lookahead",{sourceInterval:[1096,1106]},["app",{sourceInterval:[1097,1106]},"lineBreak",[]]]]]]],comment_single:["define",{sourceInterval:[1127,1223]},null,[],["app",{sourceInterval:[1127,1213]},"startWith",[["app",{sourceInterval:[1137,1161]},"startWith",[["terminal",{sourceInterval:[1147,1151]},"//"],["app",{sourceInterval:[1153,1160]},"linePad",[]]]],["app",{sourceInterval:[1163,1212]},"stringify",[["app",{sourceInterval:[1173,1211]},"endWith",[["star",{sourceInterval:[1181,1200]},["app",{sourceInterval:[1181,1199]},"escWith",[["app",{sourceInterval:[1189,1198]},"lineBreak",[]]]]],["lookahead",{sourceInterval:[1202,1210]},["app",{sourceInterval:[1203,1210]},"lineEnd",[]]]]]]]]]],comment_multi:["define",{sourceInterval:[1231,1296]},null,[],["app",{sourceInterval:[1231,1281]},"bracketText",[["app",{sourceInterval:[1243,1258]},"join",[["terminal",{sourceInterval:[1248,1251]},"/"],["plus",{sourceInterval:[1253,1257]},["terminal",{sourceInterval:[1253,1256]},"*"]]]],["app",{sourceInterval:[1260,1263]},"any",[]],["app",{sourceInterval:[1265,1280]},"join",[["plus",{sourceInterval:[1270,1274]},["terminal",{sourceInterval:[1270,1273]},"*"]],["terminal",{sourceInterval:[1276,1279]},"/"]]]]]],comment:["define",{sourceInterval:[1007,1296]},null,[],["alt",{sourceInterval:[1022,1296]},["app",{sourceInterval:[1022,1036]},"comment_notes",[]],["app",{sourceInterval:[1059,1108]},"comment_inline",[]],["app",{sourceInterval:[1127,1213]},"comment_single",[]],["app",{sourceInterval:[1231,1281]},"comment_multi",[]]]],block_comment:["define",{sourceInterval:[1302,1425]},"$Comment$",[],["app",{sourceInterval:[1329,1425]},"groupUntil",[["app",{sourceInterval:[1340,1347]},"comment",[]],["lookahead",{sourceInterval:[1349,1424]},["app",{sourceInterval:[1350,1424]},"ignore",[["alt",{sourceInterval:[1357,1423]},["app",{sourceInterval:[1358,1371]},"logicStatment",[]],["app",{sourceInterval:[1374,1387]},"block_command",[]],["app",{sourceInterval:[1390,1406]},"block_textSyntax",[]],["app",{sourceInterval:[1409,1422]},"errorBoundary",[]]]]]]]]],groupUntil:["define",{sourceInterval:[1429,1486]},null,["T","UNTIL"],["app",{sourceInterval:[1452,1486]},"syntaxListOf",[["param",{sourceInterval:[1465,1466]},0],["app",{sourceInterval:[1468,1485]},"blockEndOf",[["param",{sourceInterval:[1479,1484]},1]]]]]],content_empty:["define",{sourceInterval:[1547,1565]},null,[],["app",{sourceInterval:[1547,1556]},"emptyLine",[]]],content:["define",{sourceInterval:[1492,1610]},null,[],["alt",{sourceInterval:[1507,1610]},["app",{sourceInterval:[1507,1518]},"block_logic",[]],["app",{sourceInterval:[1526,1539]},"block_comment",[]],["app",{sourceInterval:[1547,1556]},"content_empty",[]],["app",{sourceInterval:[1573,1586]},"block_command",[]],["app",{sourceInterval:[1594,1610]},"block_textSyntax",[]]]],block_textSyntax:["define",{sourceInterval:[1616,1664]},null,[],["alt",{sourceInterval:[1635,1664]},["app",{sourceInterval:[1635,1649]},"block_dialogue",[]],["app",{sourceInterval:[1652,1664]},"block_action",[]]]],inlineSyntax:["define",{sourceInterval:[1670,1721]},null,[],["alt",{sourceInterval:[1685,1721]},["seq",{sourceInterval:[1685,1711]},["not",{sourceInterval:[1685,1703]},["app",{sourceInterval:[1686,1703]},"command_pageBreak",[]]],["app",{sourceInterval:[1704,1711]},"command",[]]],["app",{sourceInterval:[1714,1721]},"comment",[]]]],contentBlockEnd:["define",{sourceInterval:[1727,1829]},null,[],["app",{sourceInterval:[1745,1829]},"startWith",[["alt",{sourceInterval:[1755,1791]},["app",{sourceInterval:[1756,1780]},"lineOf",[["app",{sourceInterval:[1763,1779]},"textSyntax_space",[]]]],["app",{sourceInterval:[1783,1790]},"lineEnd",[]]],["alt",{sourceInterval:[1793,1828]},["app",{sourceInterval:[1794,1811]},"textSyntax_action",[]],["app",{sourceInterval:[1814,1827]},"logicStatment",[]]]]]],block_action:["define",{sourceInterval:[1835,1926]},"$ActionBlock$",[],["app",{sourceInterval:[1865,1926]},"contentBlockLinesOf",[["app",{sourceInterval:[1885,1897]},"action_start",[]],["app",{sourceInterval:[1899,1913]},"action_content",[]],["app",{sourceInterval:[1915,1925]},"action_end",[]]]]],action_start:["define",{sourceInterval:[1930,1999]},null,[],["seq",{sourceInterval:[1945,1999]},["not",{sourceInterval:[1945,1986]},["alt",{sourceInterval:[1947,1985]},["app",{sourceInterval:[1947,1965]},"command_transition",[]],["app",{sourceInterval:[1968,1985]},"command_pageBreak",[]]]],["app",{sourceInterval:[1987,1999]},"action_plain",[]]]],action_plain:["define",{sourceInterval:[2003,2054]},null,[],["alt",{sourceInterval:[2018,2054]},["app",{sourceInterval:[2018,2035]},"textSyntax_action",[]],["app",{sourceInterval:[2038,2054]},"textSyntax_space",[]]]],action_content:["define",{sourceInterval:[2058,2126]},null,[],["alt",{sourceInterval:[2075,2126]},["app",{sourceInterval:[2075,2087]},"inlineSyntax",[]],["app",{sourceInterval:[2090,2107]},"textSyntax_action",[]],["app",{sourceInterval:[2110,2126]},"textSyntax_space",[]]]],action_end:["define",{sourceInterval:[2130,2171]},null,[],["app",{sourceInterval:[2143,2171]},"blockEndOf",[["lookahead",{sourceInterval:[2154,2170]},["app",{sourceInterval:[2155,2170]},"contentBlockEnd",[]]]]]],block_dialogue:["define",{sourceInterval:[2179,2281]},"$CharacterBlock$",[],["app",{sourceInterval:[2214,2281]},"contentBlockLinesOf",[["app",{sourceInterval:[2234,2248]},"character_call",[]],["app",{sourceInterval:[2250,2266]},"dialogue_content",[]],["app",{sourceInterval:[2268,2280]},"dialogue_end",[]]]]],character_call:["define",{sourceInterval:[2285,2376]},null,[],["seq",{sourceInterval:[2302,2376]},["app",{sourceInterval:[2302,2325]},"padWith",[["app",{sourceInterval:[2310,2324]},"character_name",[]]]],["alt",{sourceInterval:[2327,2375]},["app",{sourceInterval:[2327,2357]},"optional",[["app",{sourceInterval:[2336,2356]},"character_call_macro",[]]]],["app",{sourceInterval:[2360,2375]},"optional",[["app",{sourceInterval:[2369,2374]},"macro",[]]]]]]],character_call_macro:["define",{sourceInterval:[2380,2437]},null,[],["seq",{sourceInterval:[2403,2437]},["app",{sourceInterval:[2403,2421]},"character_modifier",[]],["app",{sourceInterval:[2422,2437]},"optional",[["app",{sourceInterval:[2431,2436]},"macro",[]]]]]],character_modifier:["define",{sourceInterval:[2441,2482]},null,[],["app",{sourceInterval:[2462,2482]},"parenStringWith",[["app",{sourceInterval:[2478,2481]},"any",[]]]]],dialogue_action:["define",{sourceInterval:[2486,2533]},null,[],["app",{sourceInterval:[2504,2533]},"padWith",[["app",{sourceInterval:[2512,2532]},"character_call_macro",[]]]]],dialogue_content:["define",{sourceInterval:[2537,2640]},null,[],["alt",{sourceInterval:[2556,2640]},["app",{sourceInterval:[2556,2571]},"dialogue_action",[]],["app",{sourceInterval:[2574,2586]},"inlineSyntax",[]],["app",{sourceInterval:[2589,2621]},"leftPadWith",[["app",{sourceInterval:[2601,2620]},"textSyntax_dialogue",[]]]],["app",{sourceInterval:[2624,2640]},"textSyntax_space",[]]]],character_name_plain:["define",{sourceInterval:[2666,2706]},null,[],["app",{sourceInterval:[2666,2697]},"join",[["app",{sourceInterval:[2671,2676]},"upper",[]],["plus",{sourceInterval:[2678,2696]},["alt",{sourceInterval:[2679,2694]},["app",{sourceInterval:[2679,2684]},"upper",[]],["app",{sourceInterval:[2685,2690]},"digit",[]],["terminal",{sourceInterval:[2691,2694]},"_"]]]]]],character_name_esc:["define",{sourceInterval:[2714,2783]},null,[],["app",{sourceInterval:[2714,2776]},"startWith",[["terminal",{sourceInterval:[2724,2727]},"@"],["app",{sourceInterval:[2729,2775]},"stringify",[["plus",{sourceInterval:[2739,2774]},["seq",{sourceInterval:[2740,2772]},["not",{sourceInterval:[2740,2768]},["alt",{sourceInterval:[2742,2767]},["app",{sourceInterval:[2742,2760]},"character_modifier",[]],["terminal",{sourceInterval:[2763,2767]},"\n"]]],["app",{sourceInterval:[2769,2772]},"any",[]]]]]]]]],character_name:["define",{sourceInterval:[2644,2783]},null,[],["alt",{sourceInterval:[2666,2783]},["app",{sourceInterval:[2666,2697]},"character_name_plain",[]],["app",{sourceInterval:[2714,2776]},"character_name_esc",[]]]],dialogue_end:["define",{sourceInterval:[2787,2830]},null,[],["app",{sourceInterval:[2802,2830]},"blockEndOf",[["lookahead",{sourceInterval:[2813,2829]},["app",{sourceInterval:[2814,2829]},"contentBlockEnd",[]]]]]],block_command:["define",{sourceInterval:[2838,2901]},"$CommandBlock$",[],["app",{sourceInterval:[2870,2901]},"groupUntil",[["app",{sourceInterval:[2881,2888]},"command",[]],["lookahead",{sourceInterval:[2890,2900]},["app",{sourceInterval:[2892,2899]},"comment",[]]]]]],command:["define",{sourceInterval:[2905,2969]},null,[],["alt",{sourceInterval:[2915,2969]},["app",{sourceInterval:[2915,2933]},"command_transition",[]],["app",{sourceInterval:[2936,2949]},"command_macro",[]],["app",{sourceInterval:[2952,2969]},"command_pageBreak",[]]]],command_transition:["define",{sourceInterval:[2973,3100]},"$Command:Transition$",[],["seq",{sourceInterval:[3016,3100]},["terminal",{sourceInterval:[3016,3019]},">"],["app",{sourceInterval:[3020,3077]},"leftPadWith",[["app",{sourceInterval:[3032,3076]},"stringify",[["plus",{sourceInterval:[3042,3075]},["app",{sourceInterval:[3042,3074]},"escWith",[["alt",{sourceInterval:[3050,3073]},["terminal",{sourceInterval:[3051,3054]},"["],["app",{sourceInterval:[3057,3066]},"lineBreak",[]],["terminal",{sourceInterval:[3069,3072]},"<"]]]]]]]]],["not",{sourceInterval:[3079,3083]},["terminal",{sourceInterval:[3080,3083]},"<"]],["app",{sourceInterval:[3084,3099]},"optional",[["app",{sourceInterval:[3093,3098]},"macro",[]]]]]],command_macro:["define",{sourceInterval:[3104,3146]},"$Command:CallMacro$",[],["app",{sourceInterval:[3141,3146]},"macro",[]]],command_pageBreak:["define",{sourceInterval:[3150,3196]},"$Command:PageBreak$",[],["terminal",{sourceInterval:[3191,3196]},"==="]],sToken:["define",{sourceInterval:[3204,3279]},null,[],["alt",{sourceInterval:[3219,3279]},["app",{sourceInterval:[3221,3237]},"sToken_character",[]],["app",{sourceInterval:[3245,3258]},"sToken_action",[]],["app",{sourceInterval:[3266,3279]},"sToken_lyrics",[]]]],sToken_character:["define",{sourceInterval:[3287,3329]},"$sToken_character$",[],["terminal",{sourceInterval:[3326,3329]},"@"]],sToken_action:["define",{sourceInterval:[3333,3369]},"$sToken_action$",[],["terminal",{sourceInterval:[3366,3369]},"!"]],sToken_lyrics:["define",{sourceInterval:[3373,3392]},null,[],["terminal",{sourceInterval:[3389,3392]},"~"]],textSyntax:["define",{sourceInterval:[3398,3469]},null,[],["alt",{sourceInterval:[3411,3469]},["app",{sourceInterval:[3411,3428]},"textSyntax_action",[]],["app",{sourceInterval:[3431,3450]},"textSyntax_dialogue",[]],["app",{sourceInterval:[3453,3469]},"textSyntax_space",[]]]],textSyntax_action:["define",{sourceInterval:[3475,3608]},null,[],["seq",{sourceInterval:[3495,3608]},["app",{sourceInterval:[3495,3562]},"startWith",[["seq",{sourceInterval:[3505,3527]},["not",{sourceInterval:[3505,3522]},["app",{sourceInterval:[3506,3522]},"sToken_character",[]]],["lookahead",{sourceInterval:[3523,3527]},["app",{sourceInterval:[3524,3527]},"any",[]]]],["opt",{sourceInterval:[3529,3561]},["alt",{sourceInterval:[3530,3559]},["app",{sourceInterval:[3530,3543]},"sToken_action",[]],["app",{sourceInterval:[3546,3559]},"sToken_lyrics",[]]]]]],["app",{sourceInterval:[3563,3588]},"rightPadWith",[["app",{sourceInterval:[3576,3587]},"textContent",[]]]],["app",{sourceInterval:[3589,3608]},"optional",[["app",{sourceInterval:[3598,3607]},"expr_pipe",[]]]]]],textSyntax_dialogue:["define",{sourceInterval:[3614,3718]},null,[],["seq",{sourceInterval:[3636,3718]},["opt",{sourceInterval:[3636,3650]},["app",{sourceInterval:[3636,3649]},"sToken_lyrics",[]]],["lookahead",{sourceInterval:[3651,3672]},["seq",{sourceInterval:[3653,3671]},["not",{sourceInterval:[3653,3667]},["app",{sourceInterval:[3654,3667]},"sToken_action",[]]],["app",{sourceInterval:[3668,3671]},"any",[]]]],["app",{sourceInterval:[3673,3698]},"rightPadWith",[["app",{sourceInterval:[3686,3697]},"textContent",[]]]],["app",{sourceInterval:[3699,3718]},"optional",[["app",{sourceInterval:[3708,3717]},"expr_pipe",[]]]]]],textSyntax_space:["define",{sourceInterval:[3722,3751]},null,[],["plus",{sourceInterval:[3741,3751]},["app",{sourceInterval:[3741,3750]},"lineSpace",[]]]],emptyLine:["define",{sourceInterval:[3757,3792]},"$EmptyLine$",[],["plus",{sourceInterval:[3782,3792]},["app",{sourceInterval:[3782,3791]},"lineBreak",[]]]],blockEnd:["define",{sourceInterval:[3798,3846]},"$blockEnd$",[],["seq",{sourceInterval:[3821,3846]},["app",{sourceInterval:[3821,3828]},"linePad",[]],["alt",{sourceInterval:[3830,3845]},["app",{sourceInterval:[3830,3839]},"lineBreak",[]],["app",{sourceInterval:[3842,3845]},"end",[]]]]],blockEndOf:["define",{sourceInterval:[3850,3907]},"$blockEnd$",["T"],["alt",{sourceInterval:[3878,3907]},["app",{sourceInterval:[3878,3886]},"blockEnd",[]],["param",{sourceInterval:[3889,3890]},0],["lookahead",{sourceInterval:[3893,3907]},["app",{sourceInterval:[3894,3907]},"logicStatment",[]]]]],lineOf:["define",{sourceInterval:[3913,3944]},null,["T"],["app",{sourceInterval:[3925,3944]},"endWith",[["param",{sourceInterval:[3933,3934]},0],["app",{sourceInterval:[3936,3943]},"lineEnd",[]]]]],linesOf:["define",{sourceInterval:[3948,3992]},null,["T"],["app",{sourceInterval:[3961,3992]},"endWith",[["plus",{sourceInterval:[3969,3979]},["app",{sourceInterval:[3969,3978]},"lineOf",[["param",{sourceInterval:[3976,3977]},0]]]],["opt",{sourceInterval:[3981,3991]},["app",{sourceInterval:[3981,3990]},"emptyLine",[]]]]]],syntaxListOf:["define",{sourceInterval:[3998,4096]},null,["Child","End"],["app",{sourceInterval:[4025,4096]},"syntaxBlockLinesOf",[["param",{sourceInterval:[4044,4049]},0],["app",{sourceInterval:[4051,4090]},"syntaxOf",[["alt",{sourceInterval:[4060,4089]},["param",{sourceInterval:[4061,4066]},0],["lookahead",{sourceInterval:[4069,4088]},["app",{sourceInterval:[4070,4088]},"ignore",[["plus",{sourceInterval:[4077,4087]},["app",{sourceInterval:[4077,4086]},"lineSpace",[]]]]]]]]],["param",{sourceInterval:[4092,4095]},1]]]],syntaxOf:["define",{sourceInterval:[4100,4165]},null,["T"],["alt",{sourceInterval:[4114,4165]},["param",{sourceInterval:[4114,4115]},0],["app",{sourceInterval:[4118,4165]},"startWith",[["app",{sourceInterval:[4128,4146]},"ignore",[["plus",{sourceInterval:[4135,4145]},["app",{sourceInterval:[4135,4144]},"emptyLine",[]]]]],["seq",{sourceInterval:[4148,4164]},["not",{sourceInterval:[4148,4162]},["app",{sourceInterval:[4149,4162]},"errorBoundary",[]]],["param",{sourceInterval:[4163,4164]},0]]]]]],contentLinesOf:["define",{sourceInterval:[4171,4238]},null,["Child","End"],["app",{sourceInterval:[4200,4238]},"contentBlockLinesOf",[["param",{sourceInterval:[4220,4225]},0],["param",{sourceInterval:[4227,4232]},0],["param",{sourceInterval:[4234,4237]},1]]]],syntaxBlockLinesOf:["define",{sourceInterval:[4259,4347]},null,["Begin","Child","End"],["app",{sourceInterval:[4299,4347]},"syntaxBlockOf",[["app",{sourceInterval:[4313,4326]},"lineOf",[["param",{sourceInterval:[4320,4325]},0]]],["app",{sourceInterval:[4328,4341]},"lineOf",[["param",{sourceInterval:[4335,4340]},1]]],["param",{sourceInterval:[4343,4346]},2]]]],contentBlockLinesOf:["define",{sourceInterval:[4351,4441]},null,["Begin","Child","End"],["app",{sourceInterval:[4392,4441]},"contentBlockOf",[["app",{sourceInterval:[4407,4420]},"lineOf",[["param",{sourceInterval:[4414,4419]},0]]],["app",{sourceInterval:[4422,4435]},"lineOf",[["param",{sourceInterval:[4429,4434]},1]]],["param",{sourceInterval:[4437,4440]},2]]]],syntaxBlockOf:["define",{sourceInterval:[4451,4502]},null,["Begin","Child","End"],["seq",{sourceInterval:[4486,4502]},["param",{sourceInterval:[4486,4491]},0],["star",{sourceInterval:[4492,4498]},["param",{sourceInterval:[4492,4497]},1]],["param",{sourceInterval:[4499,4502]},2]]],contentBlockOf:["define",{sourceInterval:[4506,4558]},null,["Begin","Child","End"],["seq",{sourceInterval:[4542,4558]},["param",{sourceInterval:[4542,4547]},0],["star",{sourceInterval:[4548,4554]},["param",{sourceInterval:[4548,4553]},1]],["param",{sourceInterval:[4555,4558]},2]]],nonemptyBlockOf:["define",{sourceInterval:[4562,4615]},null,["Begin","Child","End"],["seq",{sourceInterval:[4599,4615]},["param",{sourceInterval:[4599,4604]},0],["plus",{sourceInterval:[4605,4611]},["param",{sourceInterval:[4605,4610]},1]],["param",{sourceInterval:[4612,4615]},2]]],nonemptyContentBlockOf:["define",{sourceInterval:[4619,4679]},null,["Begin","Child","End"],["seq",{sourceInterval:[4663,4679]},["param",{sourceInterval:[4663,4668]},0],["plus",{sourceInterval:[4669,4675]},["param",{sourceInterval:[4669,4674]},1]],["param",{sourceInterval:[4676,4679]},2]]],statmentBreak:["define",{sourceInterval:[4685,4745]},"$StatmentBreak$",[],["alt",{sourceInterval:[4718,4745]},["app",{sourceInterval:[4719,4732]},"block_comment",[]],["app",{sourceInterval:[4735,4744]},"emptyLine",[]]]],startStatmentOf:["define",{sourceInterval:[4749,4827]},null,["T"],["app",{sourceInterval:[4770,4827]},"bracketSyntaxInline",[["lookahead",{sourceInterval:[4790,4807]},["star",{sourceInterval:[4792,4806]},["app",{sourceInterval:[4792,4805]},"statmentBreak",[]]]],["param",{sourceInterval:[4809,4810]},0],["plus",{sourceInterval:[4812,4826]},["app",{sourceInterval:[4812,4825]},"statmentBreak",[]]]]]],statementOf:["define",{sourceInterval:[4831,4933]},null,["T"],["app",{sourceInterval:[4848,4933]},"bracketSyntaxInline",[["lookahead",{sourceInterval:[4868,4885]},["star",{sourceInterval:[4870,4884]},["app",{sourceInterval:[4870,4883]},"statmentBreak",[]]]],["app",{sourceInterval:[4887,4908]},"startWith",[["app",{sourceInterval:[4897,4904]},"linePad",[]],["param",{sourceInterval:[4906,4907]},0]]],["alt",{sourceInterval:[4910,4932]},["plus",{sourceInterval:[4911,4925]},["app",{sourceInterval:[4911,4924]},"statmentBreak",[]]],["app",{sourceInterval:[4928,4931]},"end",[]]]]]],textContent_centered:["define",{sourceInterval:[4953,5011]},null,[],["app",{sourceInterval:[4953,4999]},"styled_centered",[["plus",{sourceInterval:[4969,4998]},["alt",{sourceInterval:[4970,4996]},["app",{sourceInterval:[4970,4985]},"centeredContent",[]],["app",{sourceInterval:[4988,4996]},"escToken",[]]]]]]],textContent_plain:["define",{sourceInterval:[5019,5061]},null,[],["app",{sourceInterval:[5019,5052]},"withText",[["plus",{sourceInterval:[5028,5051]},["alt",{sourceInterval:[5029,5049]},["app",{sourceInterval:[5029,5038]},"textPiece",[]],["app",{sourceInterval:[5041,5049]},"escToken",[]]]]]]],textContent:["define",{sourceInterval:[4939,5061]},null,[],["alt",{sourceInterval:[4953,5061]},["app",{sourceInterval:[4953,4999]},"textContent_centered",[]],["app",{sourceInterval:[5019,5052]},"textContent_plain",[]]]],styled_centered:["define",{sourceInterval:[5102,5144]},null,["T"],["seq",{sourceInterval:[5123,5144]},["app",{sourceInterval:[5123,5132]},"centeredL",[]],["param",{sourceInterval:[5133,5134]},0],["app",{sourceInterval:[5135,5144]},"centeredR",[]]]],centeredL:["define",{sourceInterval:[5148,5177]},null,[],["app",{sourceInterval:[5160,5177]},"rightPadWith",[["terminal",{sourceInterval:[5173,5176]},">"]]]],centeredR:["define",{sourceInterval:[5181,5209]},null,[],["app",{sourceInterval:[5193,5209]},"leftPadWith",[["terminal",{sourceInterval:[5205,5208]},"<"]]]],centeredContent:["define",{sourceInterval:[5215,5326]},null,[],["alt",{sourceInterval:[5233,5326]},["app",{sourceInterval:[5233,5256]},"styled",[["app",{sourceInterval:[5240,5255]},"centeredContent",[]]]],["app",{sourceInterval:[5265,5273]},"template",[]],["app",{sourceInterval:[5281,5326]},"plainTextUntil",[["alt",{sourceInterval:[5296,5325]},["app",{sourceInterval:[5297,5312]},"plainText_until",[]],["app",{sourceInterval:[5315,5324]},"centeredR",[]]]]]]],withText:["define",{sourceInterval:[5334,5349]},null,["T"],["param",{sourceInterval:[5348,5349]},0]],textPiece_styled:["define",{sourceInterval:[5369,5396]},null,[],["app",{sourceInterval:[5369,5386]},"styled",[["app",{sourceInterval:[5376,5385]},"textPiece",[]]]]],textPiece:["define",{sourceInterval:[5353,5429]},null,[],["alt",{sourceInterval:[5369,5429]},["app",{sourceInterval:[5369,5386]},"textPiece_styled",[]],["app",{sourceInterval:[5404,5412]},"template",[]],["app",{sourceInterval:[5420,5429]},"plainText",[]]]],escToken:["define",{sourceInterval:[5435,5470]},null,[],["app",{sourceInterval:[5446,5470]},"oresc",[["seq",{sourceInterval:[5452,5469]},["not",{sourceInterval:[5452,5464]},["app",{sourceInterval:[5453,5464]},"token_split",[]]],["app",{sourceInterval:[5465,5469]},"char",[]]]]]],styled_bold:["define",{sourceInterval:[5538,5588]},null,["T"],["seq",{sourceInterval:[5538,5580]},["terminal",{sourceInterval:[5538,5542]},"**"],["app",{sourceInterval:[5543,5575]},"withText",[["plus",{sourceInterval:[5552,5574]},["seq",{sourceInterval:[5553,5572]},["not",{sourceInterval:[5553,5570]},["app",{sourceInterval:[5555,5569]},"styled_bold",[["param",{sourceInterval:[5567,5568]},0]]]],["param",{sourceInterval:[5571,5572]},0]]]]],["terminal",{sourceInterval:[5576,5580]},"**"]]],styled_italic:["define",{sourceInterval:[5596,5648]},null,["T"],["seq",{sourceInterval:[5596,5638]},["terminal",{sourceInterval:[5596,5599]},"*"],["app",{sourceInterval:[5600,5634]},"withText",[["plus",{sourceInterval:[5609,5633]},["seq",{sourceInterval:[5610,5631]},["not",{sourceInterval:[5610,5629]},["app",{sourceInterval:[5612,5628]},"styled_italic",[["param",{sourceInterval:[5626,5627]},0]]]],["param",{sourceInterval:[5630,5631]},0]]]]],["terminal",{sourceInterval:[5635,5638]},"*"]]],styled_underline:["define",{sourceInterval:[5656,5714]},null,["T"],["seq",{sourceInterval:[5656,5701]},["terminal",{sourceInterval:[5656,5659]},"_"],["app",{sourceInterval:[5660,5697]},"withText",[["plus",{sourceInterval:[5669,5696]},["seq",{sourceInterval:[5670,5694]},["not",{sourceInterval:[5670,5692]},["app",{sourceInterval:[5672,5691]},"styled_underline",[["param",{sourceInterval:[5689,5690]},0]]]],["param",{sourceInterval:[5693,5694]},0]]]]],["terminal",{sourceInterval:[5698,5701]},"_"]]],styled:["define",{sourceInterval:[5507,5714]},"$Emphasis$",["T"],["alt",{sourceInterval:[5536,5714]},["app",{sourceInterval:[5538,5580]},"styled_bold",[["param",{},0]]],["app",{sourceInterval:[5596,5638]},"styled_italic",[["param",{},0]]],["app",{sourceInterval:[5656,5701]},"styled_underline",[["param",{},0]]]]],plainText_until:["define",{sourceInterval:[5720,5800]},null,[],["alt",{sourceInterval:[5738,5800]},["app",{sourceInterval:[5738,5745]},"comment",[]],["app",{sourceInterval:[5748,5756]},"template",[]],["app",{sourceInterval:[5759,5764]},"macro",[]],["app",{sourceInterval:[5767,5778]},"token_split",[]],["app",{sourceInterval:[5781,5788]},"lineEnd",[]],["terminal",{sourceInterval:[5791,5794]},"_"],["terminal",{sourceInterval:[5797,5800]},"*"]]],plainText:["define",{sourceInterval:[5804,5860]},"$plainText$",[],["app",{sourceInterval:[5829,5860]},"plainTextUntil",[["app",{sourceInterval:[5844,5859]},"plainText_until",[]]]]],plainTextUntil:["define",{sourceInterval:[5864,5936]},null,["Until"],["app",{sourceInterval:[5888,5936]},"rawOf",[["plus",{sourceInterval:[5894,5935]},["app",{sourceInterval:[5894,5934]},"strictEscWith",[["app",{sourceInterval:[5908,5912]},"char",[]],["alt",{sourceInterval:[5914,5933]},["param",{sourceInterval:[5915,5920]},0],["app",{sourceInterval:[5923,5932]},"lineBreak",[]]]]]]]]],rawOf:["define",{sourceInterval:[5947,5970]},null,["T"],["app",{sourceInterval:[5958,5970]},"stringify",[["param",{sourceInterval:[5968,5969]},0]]]],expr:["define",{sourceInterval:[5976,6061]},"$Expr$",[],["alt",{sourceInterval:[5996,6061]},["app",{sourceInterval:[5996,6009]},"expr_template",[]],["app",{sourceInterval:[6017,6027]},"expr_logic",[]],["app",{sourceInterval:[6035,6044]},"expr_auto",[]],["app",{sourceInterval:[6052,6061]},"expr_pipe",[]]]],expr_template:["define",{sourceInterval:[6067,6104]},null,[],["app",{sourceInterval:[6083,6104]},"embbedExprUntil",[["terminal",{sourceInterval:[6099,6103]},"}}"]]]],expr_logic:["define",{sourceInterval:[6108,6147]},null,[],["app",{sourceInterval:[6121,6147]},"embbedExprUntil",[["app",{sourceInterval:[6137,6146]},"lineBreak",[]]]]],expr_auto:["define",{sourceInterval:[6151,6183]},null,[],["app",{sourceInterval:[6163,6183]},"embbedExprUntil",[["terminal",{sourceInterval:[6179,6182]},")"]]]],expr_pipe:["define",{sourceInterval:[6187,6251]},"$PipeExp$",[],["seq",{sourceInterval:[6210,6251]},["app",{sourceInterval:[6210,6221]},"token_split",[]],["opt",{sourceInterval:[6222,6251]},["app",{sourceInterval:[6222,6250]},"embbedExprUntil",[["app",{sourceInterval:[6238,6249]},"token_split",[]]]]]]],template_label:["define",{sourceInterval:[6288,6407]},null,[],["seq",{sourceInterval:[6288,6398]},["app",{sourceInterval:[6288,6357]},"bracketSyntaxInline",[["app",{sourceInterval:[6308,6320]},"tokenOf",[["terminal",{sourceInterval:[6316,6319]},"["]]],["app",{sourceInterval:[6322,6342]},"plainTextUntil",[["terminal",{sourceInterval:[6337,6341]},"]("]]],["app",{sourceInterval:[6344,6356]},"tokenOf",[["terminal",{sourceInterval:[6352,6355]},"]"]]]]],["app",{sourceInterval:[6358,6398]},"bracketSyntaxInline",[["terminal",{sourceInterval:[6378,6381]},"("],["app",{sourceInterval:[6383,6392]},"expr_auto",[]],["terminal",{sourceInterval:[6394,6397]},")"]]]]],template_native:["define",{sourceInterval:[6415,6481]},null,[],["app",{sourceInterval:[6415,6471]},"bracketSyntaxInline",[["terminal",{sourceInterval:[6435,6439]},"{{"],["app",{sourceInterval:[6441,6464]},"optional",[["app",{sourceInterval:[6450,6463]},"expr_template",[]]]],["terminal",{sourceInterval:[6466,6470]},"}}"]]]],template_macro:["define",{sourceInterval:[6512,6579]},null,[],["app",{sourceInterval:[6512,6570]},"rawOf",[["app",{sourceInterval:[6518,6569]},"bracketSyntaxInline",[["terminal",{sourceInterval:[6538,6541]},"["],["app",{sourceInterval:[6543,6563]},"embbedExprUntil",[["terminal",{sourceInterval:[6559,6562]},"]"]]],["terminal",{sourceInterval:[6565,6568]},"]"]]]]]],template:["define",{sourceInterval:[6257,6579]},"$TemplateExp$",[],["alt",{sourceInterval:[6288,6579]},["app",{sourceInterval:[6288,6398]},"template_label",[]],["app",{sourceInterval:[6415,6471]},"template_native",[]],["app",{sourceInterval:[6490,6504]},"comment_inline",[]],["app",{sourceInterval:[6512,6570]},"template_macro",[]]]],macro:["define",{sourceInterval:[6585,6662]},null,[],["app",{sourceInterval:[6593,6662]},"bracketSyntaxInline",[["app",{sourceInterval:[6613,6625]},"tokenOf",[["terminal",{sourceInterval:[6621,6624]},"["]]],["app",{sourceInterval:[6627,6647]},"embbedExprUntil",[["terminal",{sourceInterval:[6643,6646]},"]"]]],["app",{sourceInterval:[6649,6661]},"tokenOf",[["terminal",{sourceInterval:[6657,6660]},"]"]]]]]],embbedExprUntil:["define",{sourceInterval:[6760,6877]},"$awesomeExpr$",["Exclude"],["app",{sourceInterval:[6802,6877]},"stringify",[["plus",{sourceInterval:[6812,6876]},["alt",{sourceInterval:[6813,6874]},["app",{sourceInterval:[6813,6829]},"sourceOf",[["app",{sourceInterval:[6822,6828]},"string",[]]]],["app",{sourceInterval:[6832,6874]},"strictEscWith",[["app",{sourceInterval:[6846,6850]},"char",[]],["alt",{sourceInterval:[6852,6873]},["param",{sourceInterval:[6853,6860]},0],["app",{sourceInterval:[6863,6872]},"lineBreak",[]]]]]]]]]],block_logic:["define",{sourceInterval:[6885,7047]},"$LogicStatment$",[],["alt",{sourceInterval:[6921,7047]},["app",{sourceInterval:[6921,6949]},"statementOf",[["app",{sourceInterval:[6933,6948]},"logicSyntax_let",[]]]],["app",{sourceInterval:[6957,6979]},"logic_blockIf",[["app",{sourceInterval:[6971,6978]},"content",[]]]],["app",{sourceInterval:[6987,7014]},"logic_blockForeach",[["app",{sourceInterval:[7006,7013]},"content",[]]]],["app",{sourceInterval:[7022,7047]},"logic_blockWhile",[["app",{sourceInterval:[7039,7046]},"content",[]]]]]],logicSyntax_let:["define",{sourceInterval:[7173,7227]},null,[],["seq",{sourceInterval:[7173,7220]},["app",{sourceInterval:[7173,7196]},"ctlKey",[["app",{sourceInterval:[7180,7195]},"scriptToken_var",[]]]],["app",{sourceInterval:[7197,7220]},"leftPadWith",[["app",{sourceInterval:[7209,7219]},"expr_logic",[]]]]]],logicSyntax:["define",{sourceInterval:[7139,7271]},"$logicSyntax$",[],["alt",{sourceInterval:[7173,7271]},["app",{sourceInterval:[7173,7220]},"logicSyntax_let",[]],["app",{sourceInterval:[7235,7271]},"ctlKey",[["seq",{sourceInterval:[7242,7270]},["not",{sourceInterval:[7242,7258]},["app",{sourceInterval:[7243,7258]},"scriptToken_var",[]]],["app",{sourceInterval:[7259,7270]},"scriptToken",[]]]]]]],logicStatment:["define",{sourceInterval:[7275,7324]},null,[],["app",{sourceInterval:[7291,7324]},"statementOf",[["app",{sourceInterval:[7303,7323]},"padWith",[["app",{sourceInterval:[7311,7322]},"logicSyntax",[]]]]]]],logic_blockIf:["define",{sourceInterval:[7330,7471]},null,["T"],["seq",{sourceInterval:[7349,7471]},["app",{sourceInterval:[7349,7370]},"statementOf",[["app",{sourceInterval:[7361,7369]},"logic_if",[]]]],["star",{sourceInterval:[7371,7386]},["app",{sourceInterval:[7371,7385]},"leftPadWith",[["param",{sourceInterval:[7383,7384]},0]]]],["star",{sourceInterval:[7387,7418]},["seq",{sourceInterval:[7388,7416]},["app",{sourceInterval:[7388,7413]},"statementOf",[["app",{sourceInterval:[7400,7412]},"logic_elseIf",[]]]],["star",{sourceInterval:[7414,7416]},["param",{sourceInterval:[7414,7415]},0]]]],["opt",{sourceInterval:[7419,7448]},["seq",{sourceInterval:[7420,7446]},["app",{sourceInterval:[7420,7443]},"statementOf",[["app",{sourceInterval:[7432,7442]},"logic_else",[]]]],["star",{sourceInterval:[7444,7446]},["param",{sourceInterval:[7444,7445]},0]]]],["app",{sourceInterval:[7449,7471]},"statementOf",[["app",{sourceInterval:[7461,7470]},"logic_end",[]]]]]],logic_if:["define",{sourceInterval:[7475,7528]},null,[],["seq",{sourceInterval:[7486,7528]},["app",{sourceInterval:[7486,7508]},"ctlKey",[["app",{sourceInterval:[7493,7507]},"scriptToken_if",[]]]],["app",{sourceInterval:[7509,7528]},"padWith",[["app",{sourceInterval:[7517,7527]},"expr_logic",[]]]]]],logic_elseIf:["define",{sourceInterval:[7532,7593]},null,[],["seq",{sourceInterval:[7547,7593]},["app",{sourceInterval:[7547,7573]},"ctlKey",[["app",{sourceInterval:[7554,7572]},"scriptToken_elseif",[]]]],["app",{sourceInterval:[7574,7593]},"padWith",[["app",{sourceInterval:[7582,7592]},"expr_logic",[]]]]]],logic_else:["define",{sourceInterval:[7597,7634]},null,[],["app",{sourceInterval:[7610,7634]},"ctlKey",[["app",{sourceInterval:[7617,7633]},"scriptToken_else",[]]]]],scriptToken:["define",{sourceInterval:[7640,7782]},null,[],["alt",{sourceInterval:[7654,7782]},["app",{sourceInterval:[7654,7669]},"scriptToken_var",[]],["app",{sourceInterval:[7672,7686]},"scriptToken_if",[]],["app",{sourceInterval:[7689,7707]},"scriptToken_elseif",[]],["app",{sourceInterval:[7710,7726]},"scriptToken_else",[]],["app",{sourceInterval:[7729,7744]},"scriptToken_end",[]],["app",{sourceInterval:[7747,7762]},"scriptToken_for",[]],["app",{sourceInterval:[7765,7782]},"scriptToken_while",[]]]],scriptToken_var:["define",{sourceInterval:[7788,7811]},null,[],["terminal",{sourceInterval:[7806,7811]},"let"]],scriptToken_if:["define",{sourceInterval:[7815,7836]},null,[],["terminal",{sourceInterval:[7832,7836]},"if"]],scriptToken_elseif:["define",{sourceInterval:[7840,7869]},null,[],["terminal",{sourceInterval:[7861,7869]},"elseif"]],scriptToken_else:["define",{sourceInterval:[7873,7898]},null,[],["terminal",{sourceInterval:[7892,7898]},"else"]],scriptToken_end:["define",{sourceInterval:[7902,7925]},null,[],["terminal",{sourceInterval:[7920,7925]},"end"]],scriptToken_for:["define",{sourceInterval:[7929,7956]},null,[],["terminal",{sourceInterval:[7947,7956]},"foreach"]],scriptToken_in:["define",{sourceInterval:[7960,7981]},null,[],["terminal",{sourceInterval:[7977,7981]},"in"]],scriptToken_while:["define",{sourceInterval:[7985,8012]},null,[],["terminal",{sourceInterval:[8005,8012]},"while"]],logic_blockForeach:["define",{sourceInterval:[8020,8120]},null,["T"],["app",{sourceInterval:[8044,8120]},"syntaxBlockOf",[["app",{sourceInterval:[8058,8079]},"lineOf",[["app",{sourceInterval:[8065,8078]},"logic_foreach",[]]]],["app",{sourceInterval:[8081,8095]},"leftPadWith",[["param",{sourceInterval:[8093,8094]},0]]],["app",{sourceInterval:[8097,8119]},"statementOf",[["app",{sourceInterval:[8109,8118]},"logic_end",[]]]]]]],logic_foreach:["define",{sourceInterval:[8124,8244]},null,[],["seq",{sourceInterval:[8140,8244]},["app",{sourceInterval:[8140,8163]},"ctlKey",[["app",{sourceInterval:[8147,8162]},"scriptToken_for",[]]]],["app",{sourceInterval:[8164,8190]},"preSpaceWith",[["app",{sourceInterval:[8177,8189]},"variableName",[]]]],["app",{sourceInterval:[8191,8219]},"preSpaceWith",[["app",{sourceInterval:[8204,8218]},"scriptToken_in",[]]]],["app",{sourceInterval:[8220,8244]},"preSpaceWith",[["app",{sourceInterval:[8233,8243]},"expr_logic",[]]]]]],logic_blockWhile:["define",{sourceInterval:[8250,8346]},null,["T"],["app",{sourceInterval:[8272,8346]},"syntaxBlockOf",[["app",{sourceInterval:[8286,8305]},"lineOf",[["app",{sourceInterval:[8293,8304]},"logic_while",[]]]],["app",{sourceInterval:[8307,8321]},"leftPadWith",[["param",{sourceInterval:[8319,8320]},0]]],["app",{sourceInterval:[8323,8345]},"statementOf",[["app",{sourceInterval:[8335,8344]},"logic_end",[]]]]]]],logic_while:["define",{sourceInterval:[8350,8414]},null,[],["seq",{sourceInterval:[8364,8414]},["app",{sourceInterval:[8364,8389]},"ctlKey",[["app",{sourceInterval:[8371,8388]},"scriptToken_while",[]]]],["app",{sourceInterval:[8390,8414]},"preSpaceWith",[["app",{sourceInterval:[8403,8413]},"expr_logic",[]]]]]],ctlKey:["define",{sourceInterval:[8420,8469]},null,["key"],["app",{sourceInterval:[8434,8469]},"leftPadWith",[["app",{sourceInterval:[8446,8468]},"join",[["app",{sourceInterval:[8451,8462]},"token_split",[]],["param",{sourceInterval:[8464,8467]},0]]]]]],logic_end:["define",{sourceInterval:[8503,8538]},null,[],["app",{sourceInterval:[8515,8538]},"ctlKey",[["app",{sourceInterval:[8522,8537]},"scriptToken_end",[]]]]],tokens:["define",{sourceInterval:[8544,8564]},null,[],["star",{sourceInterval:[8558,8564]},["app",{sourceInterval:[8558,8563]},"token",[]]]],token:["define",{sourceInterval:[8574,8762]},null,[],["alt",{sourceInterval:[8587,8762]},["app",{sourceInterval:[8587,8594]},"comment",[]],["app",{sourceInterval:[8648,8658]},"valueToken",[]],["app",{sourceInterval:[8667,8674]},"keyword",[]],["app",{sourceInterval:[8759,8762]},"any",[]]]],valueToken:["define",{sourceInterval:[8766,8785]},null,[],["app",{sourceInterval:[8779,8785]},"sToken",[]]],keyword:["define",{sourceInterval:[9029,9058]},null,[],["app",{sourceInterval:[9039,9058]},"ctlKey",[["app",{sourceInterval:[9046,9057]},"scriptToken",[]]]]]}]);const Q=X.AdvFountain;var ee,te,ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ne={exports:{}};function oe(e,t,i){const n=e.length;return(e.slice(0,i)+t+e.slice(i+t.length)).substr(0,n)}function re(e,t,i){return ce(e=e.slice(t,i))}function se(e,...t){const i=e.offset,n=e.line,o=(e,t)=>e.repeat(t);let r="Line "+e.lineNum+", col "+e.colNum+":\n";const s=function(e){let t=0;return e.map((e=>{const i=e.toString();return t=Math.max(t,i.length),i})).map((e=>ne.exports.padStart(e,t)))}([null==e.prevLine?0:e.lineNum-1,e.lineNum,null==e.nextLine?0:e.lineNum+1]),a=(e,t,i)=>{r+=i+s[e]+" | "+t+"\n"};null!=e.prevLine&&a(0,e.prevLine,"  "),a(1,e.line,"> ");const l=ce(e.line),u=e.colNum-1;let c=" ".repeat(l+1);for(let h=0;h<t.length;++h){let[e,r]=t[h];console.assert(e>=0&&e<=r,"range start must be >= 0 and <= end");const s=i-u;e=Math.max(0,e-s),r=Math.min(r-s,l),c=oe(c,o("~",re(n,e,r)),re(n,0,e))}const d=2+s[1].length+3;return r+=o(" ",d),c=oe(c,"^",re(n,0,u)),r+=c.replace(/ +$/,"")+"\n",null!=e.nextLine&&a(2,e.nextLine,"  "),r}function ae(e,t){return Error(function(e){const{source:t}=e;return se(t.getLineAndColumn(),[t.startIdx,t.endIdx])}(t)+"\n"+e)}
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
ee=ne,te=ne.exports,function(){var e,t="Expected a function",i="__lodash_hash_undefined__",n="__lodash_placeholder__",o=16,r=32,s=64,a=128,l=256,u=1/0,c=9007199254740991,d=NaN,h=4294967295,g=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",r],["partialRight",s],["rearg",l]],p="[object Arguments]",m="[object Array]",f="[object Boolean]",v="[object Date]",_="[object Error]",b="[object Function]",C="[object GeneratorFunction]",w="[object Map]",y="[object Number]",S="[object Object]",D="[object Promise]",k="[object RegExp]",I="[object Set]",E="[object String]",x="[object Symbol]",L="[object WeakMap]",A="[object ArrayBuffer]",N="[object DataView]",T="[object Float32Array]",O="[object Float64Array]",F="[object Int8Array]",M="[object Int16Array]",R="[object Int32Array]",P="[object Uint8Array]",B="[object Uint8ClampedArray]",W="[object Uint16Array]",V="[object Uint32Array]",H=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,q=RegExp(U.source),$=RegExp(j.source),G=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ne.source),re=/^\s+/,se=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",De="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Le="['’]",Ae="[\\ud800-\\udfff]",Ne="["+xe+"]",Te="["+Se+"]",Oe="\\d+",Fe="[\\u2700-\\u27bf]",Me="["+ke+"]",Re="[^\\ud800-\\udfff"+xe+Oe+De+ke+Ie+"]",Pe="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ie+"]",ze="(?:"+Me+"|"+Re+")",Ke="(?:"+He+"|"+Re+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",je="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Te+"|"+Pe+")?",$e="[\\ufe0e\\ufe0f]?",Ge=$e+qe+"(?:\\u200d(?:"+[Be,We,Ve].join("|")+")"+$e+qe+")*",Ze="(?:"+[Fe,We,Ve].join("|")+")"+Ge,Ye="(?:"+[Be+Te+"?",Te,We,Ve,Ae].join("|")+")",Je=RegExp(Le,"g"),Xe=RegExp(Te,"g"),Qe=RegExp(Pe+"(?="+Pe+")|"+Ye+Ge,"g"),et=RegExp([He+"?"+Me+"+"+Ue+"(?="+[Ne,He,"$"].join("|")+")",Ke+"+"+je+"(?="+[Ne,He+ze,"$"].join("|")+")",He+"?"+ze+"+"+Ue,He+"+"+je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Ze].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Ee+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,rt={};rt[T]=rt[O]=rt[F]=rt[M]=rt[R]=rt[P]=rt[B]=rt[W]=rt[V]=!0,rt[p]=rt[m]=rt[A]=rt[f]=rt[N]=rt[v]=rt[_]=rt[b]=rt[w]=rt[y]=rt[S]=rt[k]=rt[I]=rt[E]=rt[L]=!1;var st={};st[p]=st[m]=st[A]=st[N]=st[f]=st[v]=st[T]=st[O]=st[F]=st[M]=st[R]=st[w]=st[y]=st[S]=st[k]=st[I]=st[E]=st[x]=st[P]=st[B]=st[W]=st[V]=!0,st[_]=st[b]=st[L]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ut=parseInt,ct="object"==typeof ie&&ie&&ie.Object===Object&&ie,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=ct||dt||Function("return this")(),gt=te&&!te.nodeType&&te,pt=gt&&ee&&!ee.nodeType&&ee,mt=pt&&pt.exports===gt,ft=mt&&ct.process,vt=function(){try{var e=pt&&pt.require&&pt.require("util").types;return e||ft&&ft.binding&&ft.binding("util")}catch(t){}}(),_t=vt&&vt.isArrayBuffer,bt=vt&&vt.isDate,Ct=vt&&vt.isMap,wt=vt&&vt.isRegExp,yt=vt&&vt.isSet,St=vt&&vt.isTypedArray;function Dt(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function kt(e,t,i,n){for(var o=-1,r=null==e?0:e.length;++o<r;){var s=e[o];t(n,s,i(s),e)}return n}function It(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function Et(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function xt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function Lt(e,t){for(var i=-1,n=null==e?0:e.length,o=0,r=[];++i<n;){var s=e[i];t(s,i,e)&&(r[o++]=s)}return r}function At(e,t){return!(null==e||!e.length)&&Vt(e,t,0)>-1}function Nt(e,t,i){for(var n=-1,o=null==e?0:e.length;++n<o;)if(i(t,e[n]))return!0;return!1}function Tt(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}function Ot(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}function Ft(e,t,i,n){var o=-1,r=null==e?0:e.length;for(n&&r&&(i=e[++o]);++o<r;)i=t(i,e[o],o,e);return i}function Mt(e,t,i,n){var o=null==e?0:e.length;for(n&&o&&(i=e[--o]);o--;)i=t(i,e[o],o,e);return i}function Rt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var Pt=Ut("length");function Bt(e,t,i){var n;return i(e,(function(e,i,o){if(t(e,i,o))return n=i,!1})),n}function Wt(e,t,i,n){for(var o=e.length,r=i+(n?1:-1);n?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function Vt(e,t,i){return t==t?function(e,t,i){for(var n=i-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,i):Wt(e,zt,i)}function Ht(e,t,i,n){for(var o=i-1,r=e.length;++o<r;)if(n(e[o],t))return o;return-1}function zt(e){return e!=e}function Kt(e,t){var i=null==e?0:e.length;return i?$t(e,t)/i:d}function Ut(t){return function(i){return null==i?e:i[t]}}function jt(t){return function(i){return null==t?e:t[i]}}function qt(e,t,i,n,o){return o(e,(function(e,o,r){i=n?(n=!1,e):t(i,e,o,r)})),i}function $t(t,i){for(var n,o=-1,r=t.length;++o<r;){var s=i(t[o]);s!==e&&(n=n===e?s:n+s)}return n}function Gt(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function Zt(e){return e?e.slice(0,hi(e)+1).replace(re,""):e}function Yt(e){return function(t){return e(t)}}function Jt(e,t){return Tt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Qt(e,t){for(var i=-1,n=e.length;++i<n&&Vt(t,e[i],0)>-1;);return i}function ei(e,t){for(var i=e.length;i--&&Vt(t,e[i],0)>-1;);return i}function ti(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}var ii=jt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ni=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function oi(e){return"\\"+at[e]}function ri(e){return tt.test(e)}function si(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function ai(e,t){return function(i){return e(t(i))}}function li(e,t){for(var i=-1,o=e.length,r=0,s=[];++i<o;){var a=e[i];a!==t&&a!==n||(e[i]=n,s[r++]=i)}return s}function ui(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}function ci(e){return ri(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Pt(e)}function di(e){return ri(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function hi(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gi=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pi=function ee(te){var ie,se=(te=null==te?ht:pi.defaults(ht.Object(),te,pi.pick(ht,nt))).Array,Se=te.Date,De=te.Error,ke=te.Function,Ie=te.Math,Ee=te.Object,xe=te.RegExp,Le=te.String,Ae=te.TypeError,Ne=se.prototype,Te=ke.prototype,Oe=Ee.prototype,Fe=te["__core-js_shared__"],Me=Te.toString,Re=Oe.hasOwnProperty,Pe=0,Be=(ie=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"",We=Oe.toString,Ve=Me.call(Ee),He=ht._,ze=xe("^"+Me.call(Re).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=mt?te.Buffer:e,Ue=te.Symbol,je=te.Uint8Array,qe=Ke?Ke.allocUnsafe:e,$e=ai(Ee.getPrototypeOf,Ee),Ge=Ee.create,Ze=Oe.propertyIsEnumerable,Ye=Ne.splice,Qe=Ue?Ue.isConcatSpreadable:e,tt=Ue?Ue.iterator:e,at=Ue?Ue.toStringTag:e,ct=function(){try{var e=gr(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),dt=te.clearTimeout!==ht.clearTimeout&&te.clearTimeout,gt=Se&&Se.now!==ht.Date.now&&Se.now,pt=te.setTimeout!==ht.setTimeout&&te.setTimeout,ft=Ie.ceil,vt=Ie.floor,Pt=Ee.getOwnPropertySymbols,jt=Ke?Ke.isBuffer:e,mi=te.isFinite,fi=Ne.join,vi=ai(Ee.keys,Ee),_i=Ie.max,bi=Ie.min,Ci=Se.now,wi=te.parseInt,yi=Ie.random,Si=Ne.reverse,Di=gr(te,"DataView"),ki=gr(te,"Map"),Ii=gr(te,"Promise"),Ei=gr(te,"Set"),xi=gr(te,"WeakMap"),Li=gr(Ee,"create"),Ai=xi&&new xi,Ni={},Ti=Kr(Di),Oi=Kr(ki),Fi=Kr(Ii),Mi=Kr(Ei),Ri=Kr(xi),Pi=Ue?Ue.prototype:e,Bi=Pi?Pi.valueOf:e,Wi=Pi?Pi.toString:e;function Vi(e){if(sa(e)&&!Zs(e)&&!(e instanceof Ui)){if(e instanceof Ki)return e;if(Re.call(e,"__wrapped__"))return Ur(e)}return new Ki(e)}var Hi=function(){function t(){}return function(i){if(!ra(i))return{};if(Ge)return Ge(i);t.prototype=i;var n=new t;return t.prototype=e,n}}();function zi(){}function Ki(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=e}function Ui(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function ji(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function qi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function $i(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Gi(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new $i;++t<i;)this.add(e[t])}function Zi(e){var t=this.__data__=new qi(e);this.size=t.size}function Yi(e,t){var i=Zs(e),n=!i&&Gs(e),o=!i&&!n&&Qs(e),r=!i&&!n&&!o&&pa(e),s=i||n||o||r,a=s?Gt(e.length,Le):[],l=a.length;for(var u in e)!t&&!Re.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Cr(u,l))||a.push(u);return a}function Ji(t){var i=t.length;return i?t[Zn(0,i-1)]:e}function Xi(e,t){return Pr(No(e),ln(t,0,e.length))}function Qi(e){return Pr(No(e))}function en(t,i,n){(n!==e&&!js(t[i],n)||n===e&&!(i in t))&&sn(t,i,n)}function tn(t,i,n){var o=t[i];Re.call(t,i)&&js(o,n)&&(n!==e||i in t)||sn(t,i,n)}function nn(e,t){for(var i=e.length;i--;)if(js(e[i][0],t))return i;return-1}function on(e,t,i,n){return gn(e,(function(e,o,r){t(n,e,i(e),r)})),n}function rn(e,t){return e&&To(t,Ra(t),e)}function sn(e,t,i){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function an(t,i){for(var n=-1,o=i.length,r=se(o),s=null==t;++n<o;)r[n]=s?e:Na(t,i[n]);return r}function ln(t,i,n){return t==t&&(n!==e&&(t=t<=n?t:n),i!==e&&(t=t>=i?t:i)),t}function un(t,i,n,o,r,s){var a,l=1&i,u=2&i,c=4&i;if(n&&(a=r?n(t,o,r,s):n(t)),a!==e)return a;if(!ra(t))return t;var d=Zs(t);if(d){if(a=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(t),!l)return No(t,a)}else{var h=fr(t),g=h==b||h==C;if(Qs(t))return ko(t,l);if(h==S||h==p||g&&!r){if(a=u||g?{}:_r(t),!l)return u?function(e,t){return To(e,mr(e),t)}(t,function(e,t){return e&&To(t,Pa(t),e)}(a,t)):function(e,t){return To(e,pr(e),t)}(t,rn(a,t))}else{if(!st[h])return r?t:{};a=function(e,t,i){var n,o=e.constructor;switch(t){case A:return Io(e);case f:case v:return new o(+e);case N:return function(e,t){var i=t?Io(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case T:case O:case F:case M:case R:case P:case B:case W:case V:return Eo(e,i);case w:return new o;case y:case E:return new o(e);case k:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new o;case x:return n=e,Bi?Ee(Bi.call(n)):{}}}(t,h,l)}}s||(s=new Zi);var m=s.get(t);if(m)return m;s.set(t,a),da(t)?t.forEach((function(e){a.add(un(e,i,n,e,t,s))})):aa(t)&&t.forEach((function(e,o){a.set(o,un(e,i,n,o,t,s))}));var _=d?e:(c?u?sr:rr:u?Pa:Ra)(t);return It(_||t,(function(e,o){_&&(e=t[o=e]),tn(a,o,un(e,i,n,o,t,s))})),a}function cn(t,i,n){var o=n.length;if(null==t)return!o;for(t=Ee(t);o--;){var r=n[o],s=i[r],a=t[r];if(a===e&&!(r in t)||!s(a))return!1}return!0}function dn(i,n,o){if("function"!=typeof i)throw new Ae(t);return Or((function(){i.apply(e,o)}),n)}function hn(e,t,i,n){var o=-1,r=At,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;i&&(t=Tt(t,Yt(i))),n?(r=Nt,s=!1):t.length>=200&&(r=Xt,s=!1,t=new Gi(t));e:for(;++o<a;){var c=e[o],d=null==i?c:i(c);if(c=n||0!==c?c:0,s&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(c)}else r(t,d,n)||l.push(c)}return l}Vi.templateSettings={escape:G,evaluate:Z,interpolate:Y,variable:"",imports:{_:Vi}},Vi.prototype=zi.prototype,Vi.prototype.constructor=Vi,Ki.prototype=Hi(zi.prototype),Ki.prototype.constructor=Ki,Ui.prototype=Hi(zi.prototype),Ui.prototype.constructor=Ui,ji.prototype.clear=function(){this.__data__=Li?Li(null):{},this.size=0},ji.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ji.prototype.get=function(t){var n=this.__data__;if(Li){var o=n[t];return o===i?e:o}return Re.call(n,t)?n[t]:e},ji.prototype.has=function(t){var i=this.__data__;return Li?i[t]!==e:Re.call(i,t)},ji.prototype.set=function(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Li&&n===e?i:n,this},qi.prototype.clear=function(){this.__data__=[],this.size=0},qi.prototype.delete=function(e){var t=this.__data__,i=nn(t,e);return!(i<0||(i==t.length-1?t.pop():Ye.call(t,i,1),--this.size,0))},qi.prototype.get=function(t){var i=this.__data__,n=nn(i,t);return n<0?e:i[n][1]},qi.prototype.has=function(e){return nn(this.__data__,e)>-1},qi.prototype.set=function(e,t){var i=this.__data__,n=nn(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},$i.prototype.clear=function(){this.size=0,this.__data__={hash:new ji,map:new(ki||qi),string:new ji}},$i.prototype.delete=function(e){var t=dr(this,e).delete(e);return this.size-=t?1:0,t},$i.prototype.get=function(e){return dr(this,e).get(e)},$i.prototype.has=function(e){return dr(this,e).has(e)},$i.prototype.set=function(e,t){var i=dr(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Gi.prototype.add=Gi.prototype.push=function(e){return this.__data__.set(e,i),this},Gi.prototype.has=function(e){return this.__data__.has(e)},Zi.prototype.clear=function(){this.__data__=new qi,this.size=0},Zi.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Zi.prototype.get=function(e){return this.__data__.get(e)},Zi.prototype.has=function(e){return this.__data__.has(e)},Zi.prototype.set=function(e,t){var i=this.__data__;if(i instanceof qi){var n=i.__data__;if(!ki||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new $i(n)}return i.set(e,t),this.size=i.size,this};var gn=Mo(wn),pn=Mo(yn,!0);function mn(e,t){var i=!0;return gn(e,(function(e,n,o){return i=!!t(e,n,o)})),i}function fn(t,i,n){for(var o=-1,r=t.length;++o<r;){var s=t[o],a=i(s);if(null!=a&&(l===e?a==a&&!ga(a):n(a,l)))var l=a,u=s}return u}function vn(e,t){var i=[];return gn(e,(function(e,n,o){t(e,n,o)&&i.push(e)})),i}function _n(e,t,i,n,o){var r=-1,s=e.length;for(i||(i=br),o||(o=[]);++r<s;){var a=e[r];t>0&&i(a)?t>1?_n(a,t-1,i,n,o):Ot(o,a):n||(o[o.length]=a)}return o}var bn=Ro(),Cn=Ro(!0);function wn(e,t){return e&&bn(e,t,Ra)}function yn(e,t){return e&&Cn(e,t,Ra)}function Sn(e,t){return Lt(t,(function(t){return ia(e[t])}))}function Dn(t,i){for(var n=0,o=(i=wo(i,t)).length;null!=t&&n<o;)t=t[zr(i[n++])];return n&&n==o?t:e}function kn(e,t,i){var n=t(e);return Zs(e)?n:Ot(n,i(e))}function In(t){return null==t?t===e?"[object Undefined]":"[object Null]":at&&at in Ee(t)?function(t){var i=Re.call(t,at),n=t[at];try{t[at]=e;var o=!0}catch(s){}var r=We.call(t);return o&&(i?t[at]=n:delete t[at]),r}(t):function(e){return We.call(e)}(t)}function En(e,t){return e>t}function xn(e,t){return null!=e&&Re.call(e,t)}function Ln(e,t){return null!=e&&t in Ee(e)}function An(t,i,n){for(var o=n?Nt:At,r=t[0].length,s=t.length,a=s,l=se(s),u=1/0,c=[];a--;){var d=t[a];a&&i&&(d=Tt(d,Yt(i))),u=bi(d.length,u),l[a]=!n&&(i||r>=120&&d.length>=120)?new Gi(a&&d):e}d=t[0];var h=-1,g=l[0];e:for(;++h<r&&c.length<u;){var p=d[h],m=i?i(p):p;if(p=n||0!==p?p:0,!(g?Xt(g,m):o(c,m,n))){for(a=s;--a;){var f=l[a];if(!(f?Xt(f,m):o(t[a],m,n)))continue e}g&&g.push(m),c.push(p)}}return c}function Nn(t,i,n){var o=null==(t=Lr(t,i=wo(i,t)))?t:t[zr(ts(i))];return null==o?e:Dt(o,t,n)}function Tn(e){return sa(e)&&In(e)==p}function On(t,i,n,o,r){return t===i||(null==t||null==i||!sa(t)&&!sa(i)?t!=t&&i!=i:function(t,i,n,o,r,s){var a=Zs(t),l=Zs(i),u=a?m:fr(t),c=l?m:fr(i),d=(u=u==p?S:u)==S,h=(c=c==p?S:c)==S,g=u==c;if(g&&Qs(t)){if(!Qs(i))return!1;a=!0,d=!1}if(g&&!d)return s||(s=new Zi),a||pa(t)?nr(t,i,n,o,r,s):function(e,t,i,n,o,r,s){switch(i){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!r(new je(e),new je(t)));case f:case v:case y:return js(+e,+t);case _:return e.name==t.name&&e.message==t.message;case k:case E:return e==t+"";case w:var a=si;case I:var l=1&n;if(a||(a=ui),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var c=nr(a(e),a(t),n,o,r,s);return s.delete(e),c;case x:if(Bi)return Bi.call(e)==Bi.call(t)}return!1}(t,i,u,n,o,r,s);if(!(1&n)){var b=d&&Re.call(t,"__wrapped__"),C=h&&Re.call(i,"__wrapped__");if(b||C){var D=b?t.value():t,L=C?i.value():i;return s||(s=new Zi),r(D,L,n,o,s)}}return!!g&&(s||(s=new Zi),function(t,i,n,o,r,s){var a=1&n,l=rr(t),u=l.length,c=rr(i).length;if(u!=c&&!a)return!1;for(var d=u;d--;){var h=l[d];if(!(a?h in i:Re.call(i,h)))return!1}var g=s.get(t),p=s.get(i);if(g&&p)return g==i&&p==t;var m=!0;s.set(t,i),s.set(i,t);for(var f=a;++d<u;){var v=t[h=l[d]],_=i[h];if(o)var b=a?o(_,v,h,i,t,s):o(v,_,h,t,i,s);if(!(b===e?v===_||r(v,_,n,o,s):b)){m=!1;break}f||(f="constructor"==h)}if(m&&!f){var C=t.constructor,w=i.constructor;C==w||!("constructor"in t)||!("constructor"in i)||"function"==typeof C&&C instanceof C&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(t),s.delete(i),m}(t,i,n,o,r,s))}(t,i,n,o,On,r))}function Fn(t,i,n,o){var r=n.length,s=r,a=!o;if(null==t)return!s;for(t=Ee(t);r--;){var l=n[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<s;){var u=(l=n[r])[0],c=t[u],d=l[1];if(a&&l[2]){if(c===e&&!(u in t))return!1}else{var h=new Zi;if(o)var g=o(c,d,u,t,i,h);if(!(g===e?On(d,c,3,o,h):g))return!1}}return!0}function Mn(e){return!(!ra(e)||(t=e,Be&&Be in t))&&(ia(e)?ze:ve).test(Kr(e));var t}function Rn(e){return"function"==typeof e?e:null==e?ll:"object"==typeof e?Zs(e)?zn(e[0],e[1]):Hn(e):vl(e)}function Pn(e){if(!kr(e))return vi(e);var t=[];for(var i in Ee(e))Re.call(e,i)&&"constructor"!=i&&t.push(i);return t}function Bn(e){if(!ra(e))return function(e){var t=[];if(null!=e)for(var i in Ee(e))t.push(i);return t}(e);var t=kr(e),i=[];for(var n in e)("constructor"!=n||!t&&Re.call(e,n))&&i.push(n);return i}function Wn(e,t){return e<t}function Vn(e,t){var i=-1,n=Js(e)?se(e.length):[];return gn(e,(function(e,o,r){n[++i]=t(e,o,r)})),n}function Hn(e){var t=hr(e);return 1==t.length&&t[0][2]?Er(t[0][0],t[0][1]):function(i){return i===e||Fn(i,e,t)}}function zn(t,i){return yr(t)&&Ir(i)?Er(zr(t),i):function(n){var o=Na(n,t);return o===e&&o===i?Ta(n,t):On(i,o,3)}}function Kn(t,i,n,o,r){t!==i&&bn(i,(function(s,a){if(r||(r=new Zi),ra(s))!function(t,i,n,o,r,s,a){var l=Nr(t,n),u=Nr(i,n),c=a.get(u);if(c)en(t,n,c);else{var d=s?s(l,u,n+"",t,i,a):e,h=d===e;if(h){var g=Zs(u),p=!g&&Qs(u),m=!g&&!p&&pa(u);d=u,g||p||m?Zs(l)?d=l:Xs(l)?d=No(l):p?(h=!1,d=ko(u,!0)):m?(h=!1,d=Eo(u,!0)):d=[]:ua(u)||Gs(u)?(d=l,Gs(l)?d=ya(l):ra(l)&&!ia(l)||(d=_r(u))):h=!1}h&&(a.set(u,d),r(d,u,o,s,a),a.delete(u)),en(t,n,d)}}(t,i,a,n,Kn,o,r);else{var l=o?o(Nr(t,a),s,a+"",t,i,r):e;l===e&&(l=s),en(t,a,l)}}),Pa)}function Un(t,i){var n=t.length;if(n)return Cr(i+=i<0?n:0,n)?t[i]:e}function jn(e,t,i){t=t.length?Tt(t,(function(e){return Zs(e)?function(t){return Dn(t,1===e.length?e[0]:e)}:e})):[ll];var n=-1;return t=Tt(t,Yt(cr())),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(Vn(e,(function(e,i,o){return{criteria:Tt(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,i){for(var n=-1,o=e.criteria,r=t.criteria,s=o.length,a=i.length;++n<s;){var l=xo(o[n],r[n]);if(l)return n>=a?l:l*("desc"==i[n]?-1:1)}return e.index-t.index}(e,t,i)}))}function qn(e,t,i){for(var n=-1,o=t.length,r={};++n<o;){var s=t[n],a=Dn(e,s);i(a,s)&&eo(r,wo(s,e),a)}return r}function $n(e,t,i,n){var o=n?Ht:Vt,r=-1,s=t.length,a=e;for(e===t&&(t=No(t)),i&&(a=Tt(e,Yt(i)));++r<s;)for(var l=0,u=t[r],c=i?i(u):u;(l=o(a,c,l,n))>-1;)a!==e&&Ye.call(a,l,1),Ye.call(e,l,1);return e}function Gn(e,t){for(var i=e?t.length:0,n=i-1;i--;){var o=t[i];if(i==n||o!==r){var r=o;Cr(o)?Ye.call(e,o,1):go(e,o)}}return e}function Zn(e,t){return e+vt(yi()*(t-e+1))}function Yn(e,t){var i="";if(!e||t<1||t>c)return i;do{t%2&&(i+=e),(t=vt(t/2))&&(e+=e)}while(t);return i}function Jn(e,t){return Fr(xr(e,t,ll),e+"")}function Xn(e){return Ji(ja(e))}function Qn(e,t){var i=ja(e);return Pr(i,ln(t,0,i.length))}function eo(t,i,n,o){if(!ra(t))return t;for(var r=-1,s=(i=wo(i,t)).length,a=s-1,l=t;null!=l&&++r<s;){var u=zr(i[r]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var d=l[u];(c=o?o(d,u,l):e)===e&&(c=ra(d)?d:Cr(i[r+1])?[]:{})}tn(l,u,c),l=l[u]}return t}var to=Ai?function(e,t){return Ai.set(e,t),e}:ll,io=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:ll;function no(e){return Pr(ja(e))}function oo(e,t,i){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var r=se(o);++n<o;)r[n]=e[n+t];return r}function ro(e,t){var i;return gn(e,(function(e,n,o){return!(i=t(e,n,o))})),!!i}function so(e,t,i){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var r=n+o>>>1,s=e[r];null!==s&&!ga(s)&&(i?s<=t:s<t)?n=r+1:o=r}return o}return ao(e,t,ll,i)}function ao(t,i,n,o){var r=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(i=n(i))!=i,l=null===i,u=ga(i),c=i===e;r<s;){var d=vt((r+s)/2),h=n(t[d]),g=h!==e,p=null===h,m=h==h,f=ga(h);if(a)var v=o||m;else v=c?m&&(o||g):l?m&&g&&(o||!p):u?m&&g&&!p&&(o||!f):!p&&!f&&(o?h<=i:h<i);v?r=d+1:s=d}return bi(s,4294967294)}function lo(e,t){for(var i=-1,n=e.length,o=0,r=[];++i<n;){var s=e[i],a=t?t(s):s;if(!i||!js(a,l)){var l=a;r[o++]=0===s?0:s}}return r}function uo(e){return"number"==typeof e?e:ga(e)?d:+e}function co(e){if("string"==typeof e)return e;if(Zs(e))return Tt(e,co)+"";if(ga(e))return Wi?Wi.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ho(e,t,i){var n=-1,o=At,r=e.length,s=!0,a=[],l=a;if(i)s=!1,o=Nt;else if(r>=200){var u=t?null:Jo(e);if(u)return ui(u);s=!1,o=Xt,l=new Gi}else l=t?[]:a;e:for(;++n<r;){var c=e[n],d=t?t(c):c;if(c=i||0!==c?c:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(c)}else o(l,d,i)||(l!==a&&l.push(d),a.push(c))}return a}function go(e,t){return null==(e=Lr(e,t=wo(t,e)))||delete e[zr(ts(t))]}function po(e,t,i,n){return eo(e,t,i(Dn(e,t)),n)}function mo(e,t,i,n){for(var o=e.length,r=n?o:-1;(n?r--:++r<o)&&t(e[r],r,e););return i?oo(e,n?0:r,n?r+1:o):oo(e,n?r+1:0,n?o:r)}function fo(e,t){var i=e;return i instanceof Ui&&(i=i.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),i)}function vo(e,t,i){var n=e.length;if(n<2)return n?ho(e[0]):[];for(var o=-1,r=se(n);++o<n;)for(var s=e[o],a=-1;++a<n;)a!=o&&(r[o]=hn(r[o]||s,e[a],t,i));return ho(_n(r,1),t,i)}function _o(t,i,n){for(var o=-1,r=t.length,s=i.length,a={};++o<r;){var l=o<s?i[o]:e;n(a,t[o],l)}return a}function bo(e){return Xs(e)?e:[]}function Co(e){return"function"==typeof e?e:ll}function wo(e,t){return Zs(e)?e:yr(e,t)?[e]:Hr(Sa(e))}var yo=Jn;function So(t,i,n){var o=t.length;return n=n===e?o:n,!i&&n>=o?t:oo(t,i,n)}var Do=dt||function(e){return ht.clearTimeout(e)};function ko(e,t){if(t)return e.slice();var i=e.length,n=qe?qe(i):new e.constructor(i);return e.copy(n),n}function Io(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function Eo(e,t){var i=t?Io(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function xo(t,i){if(t!==i){var n=t!==e,o=null===t,r=t==t,s=ga(t),a=i!==e,l=null===i,u=i==i,c=ga(i);if(!l&&!c&&!s&&t>i||s&&a&&u&&!l&&!c||o&&a&&u||!n&&u||!r)return 1;if(!o&&!s&&!c&&t<i||c&&n&&r&&!o&&!s||l&&n&&r||!a&&r||!u)return-1}return 0}function Lo(e,t,i,n){for(var o=-1,r=e.length,s=i.length,a=-1,l=t.length,u=_i(r-s,0),c=se(l+u),d=!n;++a<l;)c[a]=t[a];for(;++o<s;)(d||o<r)&&(c[i[o]]=e[o]);for(;u--;)c[a++]=e[o++];return c}function Ao(e,t,i,n){for(var o=-1,r=e.length,s=-1,a=i.length,l=-1,u=t.length,c=_i(r-a,0),d=se(c+u),h=!n;++o<c;)d[o]=e[o];for(var g=o;++l<u;)d[g+l]=t[l];for(;++s<a;)(h||o<r)&&(d[g+i[s]]=e[o++]);return d}function No(e,t){var i=-1,n=e.length;for(t||(t=se(n));++i<n;)t[i]=e[i];return t}function To(t,i,n,o){var r=!n;n||(n={});for(var s=-1,a=i.length;++s<a;){var l=i[s],u=o?o(n[l],t[l],l,n,t):e;u===e&&(u=t[l]),r?sn(n,l,u):tn(n,l,u)}return n}function Oo(e,t){return function(i,n){var o=Zs(i)?kt:on,r=t?t():{};return o(i,e,cr(n,2),r)}}function Fo(t){return Jn((function(i,n){var o=-1,r=n.length,s=r>1?n[r-1]:e,a=r>2?n[2]:e;for(s=t.length>3&&"function"==typeof s?(r--,s):e,a&&wr(n[0],n[1],a)&&(s=r<3?e:s,r=1),i=Ee(i);++o<r;){var l=n[o];l&&t(i,l,o,s)}return i}))}function Mo(e,t){return function(i,n){if(null==i)return i;if(!Js(i))return e(i,n);for(var o=i.length,r=t?o:-1,s=Ee(i);(t?r--:++r<o)&&!1!==n(s[r],r,s););return i}}function Ro(e){return function(t,i,n){for(var o=-1,r=Ee(t),s=n(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===i(r[l],l,r))break}return t}}function Po(t){return function(i){var n=ri(i=Sa(i))?di(i):e,o=n?n[0]:i.charAt(0),r=n?So(n,1).join(""):i.slice(1);return o[t]()+r}}function Bo(e){return function(t){return Ft(il(Ga(t).replace(Je,"")),e,"")}}function Wo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Hi(e.prototype),n=e.apply(i,t);return ra(n)?n:i}}function Vo(t){return function(i,n,o){var r=Ee(i);if(!Js(i)){var s=cr(n,3);i=Ra(i),n=function(e){return s(r[e],e,r)}}var a=t(i,n,o);return a>-1?r[s?i[a]:a]:e}}function Ho(i){return or((function(n){var o=n.length,r=o,s=Ki.prototype.thru;for(i&&n.reverse();r--;){var a=n[r];if("function"!=typeof a)throw new Ae(t);if(s&&!l&&"wrapper"==lr(a))var l=new Ki([],!0)}for(r=l?r:o;++r<o;){var u=lr(a=n[r]),c="wrapper"==u?ar(a):e;l=c&&Sr(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[lr(c[0])].apply(l,c[3]):1==a.length&&Sr(a)?l[u]():l.thru(a)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Zs(t))return l.plant(t).value();for(var i=0,r=o?n[i].apply(this,e):t;++i<o;)r=n[i].call(this,r);return r}}))}function zo(t,i,n,o,r,s,l,u,c,d){var h=i&a,g=1&i,p=2&i,m=24&i,f=512&i,v=p?e:Wo(t);return function e(){for(var a=arguments.length,_=se(a),b=a;b--;)_[b]=arguments[b];if(m)var C=ur(e),w=ti(_,C);if(o&&(_=Lo(_,o,r,m)),s&&(_=Ao(_,s,l,m)),a-=w,m&&a<d){var y=li(_,C);return Zo(t,i,zo,e.placeholder,n,_,y,u,c,d-a)}var S=g?n:this,D=p?S[t]:t;return a=_.length,u?_=Ar(_,u):f&&a>1&&_.reverse(),h&&c<a&&(_.length=c),this&&this!==ht&&this instanceof e&&(D=v||Wo(D)),D.apply(S,_)}}function Ko(e,t){return function(i,n){return function(e,t,i,n){return wn(e,(function(e,o,r){t(n,i(e),o,r)})),n}(i,e,t(n),{})}}function Uo(t,i){return function(n,o){var r;if(n===e&&o===e)return i;if(n!==e&&(r=n),o!==e){if(r===e)return o;"string"==typeof n||"string"==typeof o?(n=co(n),o=co(o)):(n=uo(n),o=uo(o)),r=t(n,o)}return r}}function jo(e){return or((function(t){return t=Tt(t,Yt(cr())),Jn((function(i){var n=this;return e(t,(function(e){return Dt(e,n,i)}))}))}))}function qo(t,i){var n=(i=i===e?" ":co(i)).length;if(n<2)return n?Yn(i,t):i;var o=Yn(i,ft(t/ci(i)));return ri(i)?So(di(o),0,t).join(""):o.slice(0,t)}function $o(t){return function(i,n,o){return o&&"number"!=typeof o&&wr(i,n,o)&&(n=o=e),i=_a(i),n===e?(n=i,i=0):n=_a(n),function(e,t,i,n){for(var o=-1,r=_i(ft((t-e)/(i||1)),0),s=se(r);r--;)s[n?r:++o]=e,e+=i;return s}(i,n,o=o===e?i<n?1:-1:_a(o),t)}}function Go(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=wa(t),i=wa(i)),e(t,i)}}function Zo(t,i,n,o,a,l,u,c,d,h){var g=8&i;i|=g?r:s,4&(i&=~(g?s:r))||(i&=-4);var p=[t,i,a,g?l:e,g?u:e,g?e:l,g?e:u,c,d,h],m=n.apply(e,p);return Sr(t)&&Tr(m,p),m.placeholder=o,Mr(m,t,i)}function Yo(e){var t=Ie[e];return function(e,i){if(e=wa(e),(i=null==i?0:bi(ba(i),292))&&mi(e)){var n=(Sa(e)+"e").split("e");return+((n=(Sa(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var Jo=Ei&&1/ui(new Ei([,-0]))[1]==u?function(e){return new Ei(e)}:gl;function Xo(e){return function(t){var i=fr(t);return i==w?si(t):i==I?function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=[e,e]})),i}(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(i,u,c,d,h,g,p,m){var f=2&u;if(!f&&"function"!=typeof i)throw new Ae(t);var v=d?d.length:0;if(v||(u&=-97,d=h=e),p=p===e?p:_i(ba(p),0),m=m===e?m:ba(m),v-=h?h.length:0,u&s){var _=d,b=h;d=h=e}var C=f?e:ar(i),w=[i,u,c,d,h,_,b,g,p,m];if(C&&function(e,t){var i=e[1],o=t[1],r=i|o,s=r<131,u=o==a&&8==i||o==a&&i==l&&e[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==i;if(!s&&!u)return e;1&o&&(e[2]=t[2],r|=1&i?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?Lo(d,c,t[4]):c,e[4]=d?li(e[3],n):t[4]}(c=t[5])&&(d=e[5],e[5]=d?Ao(d,c,t[6]):c,e[6]=d?li(e[5],n):t[6]),(c=t[7])&&(e[7]=c),o&a&&(e[8]=null==e[8]?t[8]:bi(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(w,C),i=w[0],u=w[1],c=w[2],d=w[3],h=w[4],!(m=w[9]=w[9]===e?f?0:i.length:_i(w[9]-v,0))&&24&u&&(u&=-25),u&&1!=u)y=8==u||u==o?function(t,i,n){var o=Wo(t);return function r(){for(var s=arguments.length,a=se(s),l=s,u=ur(r);l--;)a[l]=arguments[l];var c=s<3&&a[0]!==u&&a[s-1]!==u?[]:li(a,u);return(s-=c.length)<n?Zo(t,i,zo,r.placeholder,e,a,c,e,e,n-s):Dt(this&&this!==ht&&this instanceof r?o:t,this,a)}}(i,u,m):u!=r&&33!=u||h.length?zo.apply(e,w):function(e,t,i,n){var o=1&t,r=Wo(e);return function t(){for(var s=-1,a=arguments.length,l=-1,u=n.length,c=se(u+a),d=this&&this!==ht&&this instanceof t?r:e;++l<u;)c[l]=n[l];for(;a--;)c[l++]=arguments[++s];return Dt(d,o?i:this,c)}}(i,u,c,d);else var y=function(e,t,i){var n=1&t,o=Wo(e);return function t(){return(this&&this!==ht&&this instanceof t?o:e).apply(n?i:this,arguments)}}(i,u,c);return Mr((C?to:Tr)(y,w),i,u)}function er(t,i,n,o){return t===e||js(t,Oe[n])&&!Re.call(o,n)?i:t}function tr(t,i,n,o,r,s){return ra(t)&&ra(i)&&(s.set(i,t),Kn(t,i,e,tr,s),s.delete(i)),t}function ir(t){return ua(t)?e:t}function nr(t,i,n,o,r,s){var a=1&n,l=t.length,u=i.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t),d=s.get(i);if(c&&d)return c==i&&d==t;var h=-1,g=!0,p=2&n?new Gi:e;for(s.set(t,i),s.set(i,t);++h<l;){var m=t[h],f=i[h];if(o)var v=a?o(f,m,h,i,t,s):o(m,f,h,t,i,s);if(v!==e){if(v)continue;g=!1;break}if(p){if(!Rt(i,(function(e,t){if(!Xt(p,t)&&(m===e||r(m,e,n,o,s)))return p.push(t)}))){g=!1;break}}else if(m!==f&&!r(m,f,n,o,s)){g=!1;break}}return s.delete(t),s.delete(i),g}function or(t){return Fr(xr(t,e,Yr),t+"")}function rr(e){return kn(e,Ra,pr)}function sr(e){return kn(e,Pa,mr)}var ar=Ai?function(e){return Ai.get(e)}:gl;function lr(e){for(var t=e.name+"",i=Ni[t],n=Re.call(Ni,t)?i.length:0;n--;){var o=i[n],r=o.func;if(null==r||r==e)return o.name}return t}function ur(e){return(Re.call(Vi,"placeholder")?Vi:e).placeholder}function cr(){var e=Vi.iteratee||ul;return e=e===ul?Rn:e,arguments.length?e(arguments[0],arguments[1]):e}function dr(e,t){var i,n,o=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function hr(e){for(var t=Ra(e),i=t.length;i--;){var n=t[i],o=e[n];t[i]=[n,o,Ir(o)]}return t}function gr(t,i){var n=function(t,i){return null==t?e:t[i]}(t,i);return Mn(n)?n:e}var pr=Pt?function(e){return null==e?[]:(e=Ee(e),Lt(Pt(e),(function(t){return Ze.call(e,t)})))}:Cl,mr=Pt?function(e){for(var t=[];e;)Ot(t,pr(e)),e=$e(e);return t}:Cl,fr=In;function vr(e,t,i){for(var n=-1,o=(t=wo(t,e)).length,r=!1;++n<o;){var s=zr(t[n]);if(!(r=null!=e&&i(e,s)))break;e=e[s]}return r||++n!=o?r:!!(o=null==e?0:e.length)&&oa(o)&&Cr(s,o)&&(Zs(e)||Gs(e))}function _r(e){return"function"!=typeof e.constructor||kr(e)?{}:Hi($e(e))}function br(e){return Zs(e)||Gs(e)||!!(Qe&&e&&e[Qe])}function Cr(e,t){var i=typeof e;return!!(t=null==t?c:t)&&("number"==i||"symbol"!=i&&be.test(e))&&e>-1&&e%1==0&&e<t}function wr(e,t,i){if(!ra(i))return!1;var n=typeof t;return!!("number"==n?Js(i)&&Cr(t,i.length):"string"==n&&t in i)&&js(i[t],e)}function yr(e,t){if(Zs(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!ga(e))||X.test(e)||!J.test(e)||null!=t&&e in Ee(t)}function Sr(e){var t=lr(e),i=Vi[t];if("function"!=typeof i||!(t in Ui.prototype))return!1;if(e===i)return!0;var n=ar(i);return!!n&&e===n[0]}(Di&&fr(new Di(new ArrayBuffer(1)))!=N||ki&&fr(new ki)!=w||Ii&&fr(Ii.resolve())!=D||Ei&&fr(new Ei)!=I||xi&&fr(new xi)!=L)&&(fr=function(t){var i=In(t),n=i==S?t.constructor:e,o=n?Kr(n):"";if(o)switch(o){case Ti:return N;case Oi:return w;case Fi:return D;case Mi:return I;case Ri:return L}return i});var Dr=Fe?ia:wl;function kr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ir(e){return e==e&&!ra(e)}function Er(t,i){return function(n){return null!=n&&n[t]===i&&(i!==e||t in Ee(n))}}function xr(t,i,n){return i=_i(i===e?t.length-1:i,0),function(){for(var e=arguments,o=-1,r=_i(e.length-i,0),s=se(r);++o<r;)s[o]=e[i+o];o=-1;for(var a=se(i+1);++o<i;)a[o]=e[o];return a[i]=n(s),Dt(t,this,a)}}function Lr(e,t){return t.length<2?e:Dn(e,oo(t,0,-1))}function Ar(t,i){for(var n=t.length,o=bi(i.length,n),r=No(t);o--;){var s=i[o];t[o]=Cr(s,n)?r[s]:e}return t}function Nr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Tr=Rr(to),Or=pt||function(e,t){return ht.setTimeout(e,t)},Fr=Rr(io);function Mr(e,t,i){var n=t+"";return Fr(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return It(g,(function(i){var n="_."+i[0];t&i[1]&&!At(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ue):[]}(n),i)))}function Rr(t){var i=0,n=0;return function(){var o=Ci(),r=16-(o-n);if(n=o,r>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(e,arguments)}}function Pr(t,i){var n=-1,o=t.length,r=o-1;for(i=i===e?o:i;++n<i;){var s=Zn(n,r),a=t[s];t[s]=t[n],t[n]=a}return t.length=i,t}var Br,Wr,Vr,Hr=(Br=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,(function(e,i,n,o){t.push(n?o.replace(he,"$1"):i||e)})),t},Wr=Ws(Br,(function(e){return 500===Vr.size&&Vr.clear(),e})),Vr=Wr.cache,Wr);function zr(e){if("string"==typeof e||ga(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Kr(e){if(null!=e){try{return Me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ur(e){if(e instanceof Ui)return e.clone();var t=new Ki(e.__wrapped__,e.__chain__);return t.__actions__=No(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jr=Jn((function(e,t){return Xs(e)?hn(e,_n(t,1,Xs,!0)):[]})),qr=Jn((function(t,i){var n=ts(i);return Xs(n)&&(n=e),Xs(t)?hn(t,_n(i,1,Xs,!0),cr(n,2)):[]})),$r=Jn((function(t,i){var n=ts(i);return Xs(n)&&(n=e),Xs(t)?hn(t,_n(i,1,Xs,!0),e,n):[]}));function Gr(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:ba(i);return o<0&&(o=_i(n+o,0)),Wt(e,cr(t,3),o)}function Zr(t,i,n){var o=null==t?0:t.length;if(!o)return-1;var r=o-1;return n!==e&&(r=ba(n),r=n<0?_i(o+r,0):bi(r,o-1)),Wt(t,cr(i,3),r,!0)}function Yr(e){return null!=e&&e.length?_n(e,1):[]}function Jr(t){return t&&t.length?t[0]:e}var Xr=Jn((function(e){var t=Tt(e,bo);return t.length&&t[0]===e[0]?An(t):[]})),Qr=Jn((function(t){var i=ts(t),n=Tt(t,bo);return i===ts(n)?i=e:n.pop(),n.length&&n[0]===t[0]?An(n,cr(i,2)):[]})),es=Jn((function(t){var i=ts(t),n=Tt(t,bo);return(i="function"==typeof i?i:e)&&n.pop(),n.length&&n[0]===t[0]?An(n,e,i):[]}));function ts(t){var i=null==t?0:t.length;return i?t[i-1]:e}var is=Jn(ns);function ns(e,t){return e&&e.length&&t&&t.length?$n(e,t):e}var os=or((function(e,t){var i=null==e?0:e.length,n=an(e,t);return Gn(e,Tt(t,(function(e){return Cr(e,i)?+e:e})).sort(xo)),n}));function rs(e){return null==e?e:Si.call(e)}var ss=Jn((function(e){return ho(_n(e,1,Xs,!0))})),as=Jn((function(t){var i=ts(t);return Xs(i)&&(i=e),ho(_n(t,1,Xs,!0),cr(i,2))})),ls=Jn((function(t){var i=ts(t);return i="function"==typeof i?i:e,ho(_n(t,1,Xs,!0),e,i)}));function us(e){if(!e||!e.length)return[];var t=0;return e=Lt(e,(function(e){if(Xs(e))return t=_i(e.length,t),!0})),Gt(t,(function(t){return Tt(e,Ut(t))}))}function cs(t,i){if(!t||!t.length)return[];var n=us(t);return null==i?n:Tt(n,(function(t){return Dt(i,e,t)}))}var ds=Jn((function(e,t){return Xs(e)?hn(e,t):[]})),hs=Jn((function(e){return vo(Lt(e,Xs))})),gs=Jn((function(t){var i=ts(t);return Xs(i)&&(i=e),vo(Lt(t,Xs),cr(i,2))})),ps=Jn((function(t){var i=ts(t);return i="function"==typeof i?i:e,vo(Lt(t,Xs),e,i)})),ms=Jn(us),fs=Jn((function(t){var i=t.length,n=i>1?t[i-1]:e;return n="function"==typeof n?(t.pop(),n):e,cs(t,n)}));function vs(e){var t=Vi(e);return t.__chain__=!0,t}function _s(e,t){return t(e)}var bs=or((function(t){var i=t.length,n=i?t[0]:0,o=this.__wrapped__,r=function(e){return an(e,t)};return!(i>1||this.__actions__.length)&&o instanceof Ui&&Cr(n)?((o=o.slice(n,+n+(i?1:0))).__actions__.push({func:_s,args:[r],thisArg:e}),new Ki(o,this.__chain__).thru((function(t){return i&&!t.length&&t.push(e),t}))):this.thru(r)})),Cs=Oo((function(e,t,i){Re.call(e,i)?++e[i]:sn(e,i,1)})),ws=Vo(Gr),ys=Vo(Zr);function Ss(e,t){return(Zs(e)?It:gn)(e,cr(t,3))}function Ds(e,t){return(Zs(e)?Et:pn)(e,cr(t,3))}var ks=Oo((function(e,t,i){Re.call(e,i)?e[i].push(t):sn(e,i,[t])})),Is=Jn((function(e,t,i){var n=-1,o="function"==typeof t,r=Js(e)?se(e.length):[];return gn(e,(function(e){r[++n]=o?Dt(t,e,i):Nn(e,t,i)})),r})),Es=Oo((function(e,t,i){sn(e,i,t)}));function xs(e,t){return(Zs(e)?Tt:Vn)(e,cr(t,3))}var Ls=Oo((function(e,t,i){e[i?0:1].push(t)}),(function(){return[[],[]]})),As=Jn((function(e,t){if(null==e)return[];var i=t.length;return i>1&&wr(e,t[0],t[1])?t=[]:i>2&&wr(t[0],t[1],t[2])&&(t=[t[0]]),jn(e,_n(t,1),[])})),Ns=gt||function(){return ht.Date.now()};function Ts(t,i,n){return i=n?e:i,i=t&&null==i?t.length:i,Qo(t,a,e,e,e,e,i)}function Os(i,n){var o;if("function"!=typeof n)throw new Ae(t);return i=ba(i),function(){return--i>0&&(o=n.apply(this,arguments)),i<=1&&(n=e),o}}var Fs=Jn((function(e,t,i){var n=1;if(i.length){var o=li(i,ur(Fs));n|=r}return Qo(e,n,t,i,o)})),Ms=Jn((function(e,t,i){var n=3;if(i.length){var o=li(i,ur(Ms));n|=r}return Qo(t,n,e,i,o)}));function Rs(i,n,o){var r,s,a,l,u,c,d=0,h=!1,g=!1,p=!0;if("function"!=typeof i)throw new Ae(t);function m(t){var n=r,o=s;return r=s=e,d=t,l=i.apply(o,n)}function f(e){return d=e,u=Or(_,n),h?m(e):l}function v(t){var i=t-c;return c===e||i>=n||i<0||g&&t-d>=a}function _(){var e=Ns();if(v(e))return b(e);u=Or(_,function(e){var t=n-(e-c);return g?bi(t,a-(e-d)):t}(e))}function b(t){return u=e,p&&r?m(t):(r=s=e,l)}function C(){var t=Ns(),i=v(t);if(r=arguments,s=this,c=t,i){if(u===e)return f(c);if(g)return Do(u),u=Or(_,n),m(c)}return u===e&&(u=Or(_,n)),l}return n=wa(n)||0,ra(o)&&(h=!!o.leading,a=(g="maxWait"in o)?_i(wa(o.maxWait)||0,n):a,p="trailing"in o?!!o.trailing:p),C.cancel=function(){u!==e&&Do(u),d=0,r=c=s=u=e},C.flush=function(){return u===e?l:b(Ns())},C}var Ps=Jn((function(e,t){return dn(e,1,t)})),Bs=Jn((function(e,t,i){return dn(e,wa(t)||0,i)}));function Ws(e,i){if("function"!=typeof e||null!=i&&"function"!=typeof i)throw new Ae(t);var n=function(){var t=arguments,o=i?i.apply(this,t):t[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,t);return n.cache=r.set(o,s)||r,s};return n.cache=new(Ws.Cache||$i),n}function Vs(e){if("function"!=typeof e)throw new Ae(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ws.Cache=$i;var Hs=yo((function(e,t){var i=(t=1==t.length&&Zs(t[0])?Tt(t[0],Yt(cr())):Tt(_n(t,1),Yt(cr()))).length;return Jn((function(n){for(var o=-1,r=bi(n.length,i);++o<r;)n[o]=t[o].call(this,n[o]);return Dt(e,this,n)}))})),zs=Jn((function(t,i){var n=li(i,ur(zs));return Qo(t,r,e,i,n)})),Ks=Jn((function(t,i){var n=li(i,ur(Ks));return Qo(t,s,e,i,n)})),Us=or((function(t,i){return Qo(t,l,e,e,e,i)}));function js(e,t){return e===t||e!=e&&t!=t}var qs=Go(En),$s=Go((function(e,t){return e>=t})),Gs=Tn(function(){return arguments}())?Tn:function(e){return sa(e)&&Re.call(e,"callee")&&!Ze.call(e,"callee")},Zs=se.isArray,Ys=_t?Yt(_t):function(e){return sa(e)&&In(e)==A};function Js(e){return null!=e&&oa(e.length)&&!ia(e)}function Xs(e){return sa(e)&&Js(e)}var Qs=jt||wl,ea=bt?Yt(bt):function(e){return sa(e)&&In(e)==v};function ta(e){if(!sa(e))return!1;var t=In(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ua(e)}function ia(e){if(!ra(e))return!1;var t=In(e);return t==b||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function na(e){return"number"==typeof e&&e==ba(e)}function oa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function ra(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function sa(e){return null!=e&&"object"==typeof e}var aa=Ct?Yt(Ct):function(e){return sa(e)&&fr(e)==w};function la(e){return"number"==typeof e||sa(e)&&In(e)==y}function ua(e){if(!sa(e)||In(e)!=S)return!1;var t=$e(e);if(null===t)return!0;var i=Re.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Me.call(i)==Ve}var ca=wt?Yt(wt):function(e){return sa(e)&&In(e)==k},da=yt?Yt(yt):function(e){return sa(e)&&fr(e)==I};function ha(e){return"string"==typeof e||!Zs(e)&&sa(e)&&In(e)==E}function ga(e){return"symbol"==typeof e||sa(e)&&In(e)==x}var pa=St?Yt(St):function(e){return sa(e)&&oa(e.length)&&!!rt[In(e)]},ma=Go(Wn),fa=Go((function(e,t){return e<=t}));function va(e){if(!e)return[];if(Js(e))return ha(e)?di(e):No(e);if(tt&&e[tt])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[tt]());var t=fr(e);return(t==w?si:t==I?ui:ja)(e)}function _a(e){return e?(e=wa(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ba(e){var t=_a(e),i=t%1;return t==t?i?t-i:t:0}function Ca(e){return e?ln(ba(e),0,h):0}function wa(e){if("number"==typeof e)return e;if(ga(e))return d;if(ra(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ra(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var i=fe.test(e);return i||_e.test(e)?ut(e.slice(2),i?2:8):me.test(e)?d:+e}function ya(e){return To(e,Pa(e))}function Sa(e){return null==e?"":co(e)}var Da=Fo((function(e,t){if(kr(t)||Js(t))To(t,Ra(t),e);else for(var i in t)Re.call(t,i)&&tn(e,i,t[i])})),ka=Fo((function(e,t){To(t,Pa(t),e)})),Ia=Fo((function(e,t,i,n){To(t,Pa(t),e,n)})),Ea=Fo((function(e,t,i,n){To(t,Ra(t),e,n)})),xa=or(an),La=Jn((function(t,i){t=Ee(t);var n=-1,o=i.length,r=o>2?i[2]:e;for(r&&wr(i[0],i[1],r)&&(o=1);++n<o;)for(var s=i[n],a=Pa(s),l=-1,u=a.length;++l<u;){var c=a[l],d=t[c];(d===e||js(d,Oe[c])&&!Re.call(t,c))&&(t[c]=s[c])}return t})),Aa=Jn((function(t){return t.push(e,tr),Dt(Wa,e,t)}));function Na(t,i,n){var o=null==t?e:Dn(t,i);return o===e?n:o}function Ta(e,t){return null!=e&&vr(e,t,Ln)}var Oa=Ko((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=We.call(t)),e[t]=i}),rl(ll)),Fa=Ko((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=We.call(t)),Re.call(e,t)?e[t].push(i):e[t]=[i]}),cr),Ma=Jn(Nn);function Ra(e){return Js(e)?Yi(e):Pn(e)}function Pa(e){return Js(e)?Yi(e,!0):Bn(e)}var Ba=Fo((function(e,t,i){Kn(e,t,i)})),Wa=Fo((function(e,t,i,n){Kn(e,t,i,n)})),Va=or((function(e,t){var i={};if(null==e)return i;var n=!1;t=Tt(t,(function(t){return t=wo(t,e),n||(n=t.length>1),t})),To(e,sr(e),i),n&&(i=un(i,7,ir));for(var o=t.length;o--;)go(i,t[o]);return i})),Ha=or((function(e,t){return null==e?{}:function(e,t){return qn(e,t,(function(t,i){return Ta(e,i)}))}(e,t)}));function za(e,t){if(null==e)return{};var i=Tt(sr(e),(function(e){return[e]}));return t=cr(t),qn(e,i,(function(e,i){return t(e,i[0])}))}var Ka=Xo(Ra),Ua=Xo(Pa);function ja(e){return null==e?[]:Jt(e,Ra(e))}var qa=Bo((function(e,t,i){return t=t.toLowerCase(),e+(i?$a(t):t)}));function $a(e){return tl(Sa(e).toLowerCase())}function Ga(e){return(e=Sa(e))&&e.replace(Ce,ii).replace(Xe,"")}var Za=Bo((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()})),Ya=Bo((function(e,t,i){return e+(i?" ":"")+t.toLowerCase()})),Ja=Po("toLowerCase"),Xa=Bo((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()})),Qa=Bo((function(e,t,i){return e+(i?" ":"")+tl(t)})),el=Bo((function(e,t,i){return e+(i?" ":"")+t.toUpperCase()})),tl=Po("toUpperCase");function il(t,i,n){return t=Sa(t),(i=n?e:i)===e?function(e){return it.test(e)}(t)?function(e){return e.match(et)||[]}(t):function(e){return e.match(ce)||[]}(t):t.match(i)||[]}var nl=Jn((function(t,i){try{return Dt(t,e,i)}catch(n){return ta(n)?n:new De(n)}})),ol=or((function(e,t){return It(t,(function(t){t=zr(t),sn(e,t,Fs(e[t],e))})),e}));function rl(e){return function(){return e}}var sl=Ho(),al=Ho(!0);function ll(e){return e}function ul(e){return Rn("function"==typeof e?e:un(e,1))}var cl=Jn((function(e,t){return function(i){return Nn(i,e,t)}})),dl=Jn((function(e,t){return function(i){return Nn(e,i,t)}}));function hl(e,t,i){var n=Ra(t),o=Sn(t,n);null!=i||ra(t)&&(o.length||!n.length)||(i=t,t=e,e=this,o=Sn(t,Ra(t)));var r=!(ra(i)&&"chain"in i&&!i.chain),s=ia(e);return It(o,(function(i){var n=t[i];e[i]=n,s&&(e.prototype[i]=function(){var t=this.__chain__;if(r||t){var i=e(this.__wrapped__),o=i.__actions__=No(this.__actions__);return o.push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,Ot([this.value()],arguments))})})),e}function gl(){}var pl=jo(Tt),ml=jo(xt),fl=jo(Rt);function vl(e){return yr(e)?Ut(zr(e)):function(e){return function(t){return Dn(t,e)}}(e)}var _l=$o(),bl=$o(!0);function Cl(){return[]}function wl(){return!1}var yl,Sl=Uo((function(e,t){return e+t}),0),Dl=Yo("ceil"),kl=Uo((function(e,t){return e/t}),1),Il=Yo("floor"),El=Uo((function(e,t){return e*t}),1),xl=Yo("round"),Ll=Uo((function(e,t){return e-t}),0);return Vi.after=function(e,i){if("function"!=typeof i)throw new Ae(t);return e=ba(e),function(){if(--e<1)return i.apply(this,arguments)}},Vi.ary=Ts,Vi.assign=Da,Vi.assignIn=ka,Vi.assignInWith=Ia,Vi.assignWith=Ea,Vi.at=xa,Vi.before=Os,Vi.bind=Fs,Vi.bindAll=ol,Vi.bindKey=Ms,Vi.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Zs(e)?e:[e]},Vi.chain=vs,Vi.chunk=function(t,i,n){i=(n?wr(t,i,n):i===e)?1:_i(ba(i),0);var o=null==t?0:t.length;if(!o||i<1)return[];for(var r=0,s=0,a=se(ft(o/i));r<o;)a[s++]=oo(t,r,r+=i);return a},Vi.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,o=[];++t<i;){var r=e[t];r&&(o[n++]=r)}return o},Vi.concat=function(){var e=arguments.length;if(!e)return[];for(var t=se(e-1),i=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Ot(Zs(i)?No(i):[i],_n(t,1))},Vi.cond=function(e){var i=null==e?0:e.length,n=cr();return e=i?Tt(e,(function(e){if("function"!=typeof e[1])throw new Ae(t);return[n(e[0]),e[1]]})):[],Jn((function(t){for(var n=-1;++n<i;){var o=e[n];if(Dt(o[0],this,t))return Dt(o[1],this,t)}}))},Vi.conforms=function(e){return function(e){var t=Ra(e);return function(i){return cn(i,e,t)}}(un(e,1))},Vi.constant=rl,Vi.countBy=Cs,Vi.create=function(e,t){var i=Hi(e);return null==t?i:rn(i,t)},Vi.curry=function t(i,n,o){var r=Qo(i,8,e,e,e,e,e,n=o?e:n);return r.placeholder=t.placeholder,r},Vi.curryRight=function t(i,n,r){var s=Qo(i,o,e,e,e,e,e,n=r?e:n);return s.placeholder=t.placeholder,s},Vi.debounce=Rs,Vi.defaults=La,Vi.defaultsDeep=Aa,Vi.defer=Ps,Vi.delay=Bs,Vi.difference=jr,Vi.differenceBy=qr,Vi.differenceWith=$r,Vi.drop=function(t,i,n){var o=null==t?0:t.length;return o?oo(t,(i=n||i===e?1:ba(i))<0?0:i,o):[]},Vi.dropRight=function(t,i,n){var o=null==t?0:t.length;return o?oo(t,0,(i=o-(i=n||i===e?1:ba(i)))<0?0:i):[]},Vi.dropRightWhile=function(e,t){return e&&e.length?mo(e,cr(t,3),!0,!0):[]},Vi.dropWhile=function(e,t){return e&&e.length?mo(e,cr(t,3),!0):[]},Vi.fill=function(t,i,n,o){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&wr(t,i,n)&&(n=0,o=r),function(t,i,n,o){var r=t.length;for((n=ba(n))<0&&(n=-n>r?0:r+n),(o=o===e||o>r?r:ba(o))<0&&(o+=r),o=n>o?0:Ca(o);n<o;)t[n++]=i;return t}(t,i,n,o)):[]},Vi.filter=function(e,t){return(Zs(e)?Lt:vn)(e,cr(t,3))},Vi.flatMap=function(e,t){return _n(xs(e,t),1)},Vi.flatMapDeep=function(e,t){return _n(xs(e,t),u)},Vi.flatMapDepth=function(t,i,n){return n=n===e?1:ba(n),_n(xs(t,i),n)},Vi.flatten=Yr,Vi.flattenDeep=function(e){return null!=e&&e.length?_n(e,u):[]},Vi.flattenDepth=function(t,i){return null!=t&&t.length?_n(t,i=i===e?1:ba(i)):[]},Vi.flip=function(e){return Qo(e,512)},Vi.flow=sl,Vi.flowRight=al,Vi.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var o=e[t];n[o[0]]=o[1]}return n},Vi.functions=function(e){return null==e?[]:Sn(e,Ra(e))},Vi.functionsIn=function(e){return null==e?[]:Sn(e,Pa(e))},Vi.groupBy=ks,Vi.initial=function(e){return null!=e&&e.length?oo(e,0,-1):[]},Vi.intersection=Xr,Vi.intersectionBy=Qr,Vi.intersectionWith=es,Vi.invert=Oa,Vi.invertBy=Fa,Vi.invokeMap=Is,Vi.iteratee=ul,Vi.keyBy=Es,Vi.keys=Ra,Vi.keysIn=Pa,Vi.map=xs,Vi.mapKeys=function(e,t){var i={};return t=cr(t,3),wn(e,(function(e,n,o){sn(i,t(e,n,o),e)})),i},Vi.mapValues=function(e,t){var i={};return t=cr(t,3),wn(e,(function(e,n,o){sn(i,n,t(e,n,o))})),i},Vi.matches=function(e){return Hn(un(e,1))},Vi.matchesProperty=function(e,t){return zn(e,un(t,1))},Vi.memoize=Ws,Vi.merge=Ba,Vi.mergeWith=Wa,Vi.method=cl,Vi.methodOf=dl,Vi.mixin=hl,Vi.negate=Vs,Vi.nthArg=function(e){return e=ba(e),Jn((function(t){return Un(t,e)}))},Vi.omit=Va,Vi.omitBy=function(e,t){return za(e,Vs(cr(t)))},Vi.once=function(e){return Os(2,e)},Vi.orderBy=function(t,i,n,o){return null==t?[]:(Zs(i)||(i=null==i?[]:[i]),Zs(n=o?e:n)||(n=null==n?[]:[n]),jn(t,i,n))},Vi.over=pl,Vi.overArgs=Hs,Vi.overEvery=ml,Vi.overSome=fl,Vi.partial=zs,Vi.partialRight=Ks,Vi.partition=Ls,Vi.pick=Ha,Vi.pickBy=za,Vi.property=vl,Vi.propertyOf=function(t){return function(i){return null==t?e:Dn(t,i)}},Vi.pull=is,Vi.pullAll=ns,Vi.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?$n(e,t,cr(i,2)):e},Vi.pullAllWith=function(t,i,n){return t&&t.length&&i&&i.length?$n(t,i,e,n):t},Vi.pullAt=os,Vi.range=_l,Vi.rangeRight=bl,Vi.rearg=Us,Vi.reject=function(e,t){return(Zs(e)?Lt:vn)(e,Vs(cr(t,3)))},Vi.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,o=[],r=e.length;for(t=cr(t,3);++n<r;){var s=e[n];t(s,n,e)&&(i.push(s),o.push(n))}return Gn(e,o),i},Vi.rest=function(i,n){if("function"!=typeof i)throw new Ae(t);return Jn(i,n=n===e?n:ba(n))},Vi.reverse=rs,Vi.sampleSize=function(t,i,n){return i=(n?wr(t,i,n):i===e)?1:ba(i),(Zs(t)?Xi:Qn)(t,i)},Vi.set=function(e,t,i){return null==e?e:eo(e,t,i)},Vi.setWith=function(t,i,n,o){return o="function"==typeof o?o:e,null==t?t:eo(t,i,n,o)},Vi.shuffle=function(e){return(Zs(e)?Qi:no)(e)},Vi.slice=function(t,i,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&wr(t,i,n)?(i=0,n=o):(i=null==i?0:ba(i),n=n===e?o:ba(n)),oo(t,i,n)):[]},Vi.sortBy=As,Vi.sortedUniq=function(e){return e&&e.length?lo(e):[]},Vi.sortedUniqBy=function(e,t){return e&&e.length?lo(e,cr(t,2)):[]},Vi.split=function(t,i,n){return n&&"number"!=typeof n&&wr(t,i,n)&&(i=n=e),(n=n===e?h:n>>>0)?(t=Sa(t))&&("string"==typeof i||null!=i&&!ca(i))&&!(i=co(i))&&ri(t)?So(di(t),0,n):t.split(i,n):[]},Vi.spread=function(e,i){if("function"!=typeof e)throw new Ae(t);return i=null==i?0:_i(ba(i),0),Jn((function(t){var n=t[i],o=So(t,0,i);return n&&Ot(o,n),Dt(e,this,o)}))},Vi.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Vi.take=function(t,i,n){return t&&t.length?oo(t,0,(i=n||i===e?1:ba(i))<0?0:i):[]},Vi.takeRight=function(t,i,n){var o=null==t?0:t.length;return o?oo(t,(i=o-(i=n||i===e?1:ba(i)))<0?0:i,o):[]},Vi.takeRightWhile=function(e,t){return e&&e.length?mo(e,cr(t,3),!1,!0):[]},Vi.takeWhile=function(e,t){return e&&e.length?mo(e,cr(t,3)):[]},Vi.tap=function(e,t){return t(e),e},Vi.throttle=function(e,i,n){var o=!0,r=!0;if("function"!=typeof e)throw new Ae(t);return ra(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),Rs(e,i,{leading:o,maxWait:i,trailing:r})},Vi.thru=_s,Vi.toArray=va,Vi.toPairs=Ka,Vi.toPairsIn=Ua,Vi.toPath=function(e){return Zs(e)?Tt(e,zr):ga(e)?[e]:No(Hr(Sa(e)))},Vi.toPlainObject=ya,Vi.transform=function(e,t,i){var n=Zs(e),o=n||Qs(e)||pa(e);if(t=cr(t,4),null==i){var r=e&&e.constructor;i=o?n?new r:[]:ra(e)&&ia(r)?Hi($e(e)):{}}return(o?It:wn)(e,(function(e,n,o){return t(i,e,n,o)})),i},Vi.unary=function(e){return Ts(e,1)},Vi.union=ss,Vi.unionBy=as,Vi.unionWith=ls,Vi.uniq=function(e){return e&&e.length?ho(e):[]},Vi.uniqBy=function(e,t){return e&&e.length?ho(e,cr(t,2)):[]},Vi.uniqWith=function(t,i){return i="function"==typeof i?i:e,t&&t.length?ho(t,e,i):[]},Vi.unset=function(e,t){return null==e||go(e,t)},Vi.unzip=us,Vi.unzipWith=cs,Vi.update=function(e,t,i){return null==e?e:po(e,t,Co(i))},Vi.updateWith=function(t,i,n,o){return o="function"==typeof o?o:e,null==t?t:po(t,i,Co(n),o)},Vi.values=ja,Vi.valuesIn=function(e){return null==e?[]:Jt(e,Pa(e))},Vi.without=ds,Vi.words=il,Vi.wrap=function(e,t){return zs(Co(t),e)},Vi.xor=hs,Vi.xorBy=gs,Vi.xorWith=ps,Vi.zip=ms,Vi.zipObject=function(e,t){return _o(e||[],t||[],tn)},Vi.zipObjectDeep=function(e,t){return _o(e||[],t||[],eo)},Vi.zipWith=fs,Vi.entries=Ka,Vi.entriesIn=Ua,Vi.extend=ka,Vi.extendWith=Ia,hl(Vi,Vi),Vi.add=Sl,Vi.attempt=nl,Vi.camelCase=qa,Vi.capitalize=$a,Vi.ceil=Dl,Vi.clamp=function(t,i,n){return n===e&&(n=i,i=e),n!==e&&(n=(n=wa(n))==n?n:0),i!==e&&(i=(i=wa(i))==i?i:0),ln(wa(t),i,n)},Vi.clone=function(e){return un(e,4)},Vi.cloneDeep=function(e){return un(e,5)},Vi.cloneDeepWith=function(t,i){return un(t,5,i="function"==typeof i?i:e)},Vi.cloneWith=function(t,i){return un(t,4,i="function"==typeof i?i:e)},Vi.conformsTo=function(e,t){return null==t||cn(e,t,Ra(t))},Vi.deburr=Ga,Vi.defaultTo=function(e,t){return null==e||e!=e?t:e},Vi.divide=kl,Vi.endsWith=function(t,i,n){t=Sa(t),i=co(i);var o=t.length,r=n=n===e?o:ln(ba(n),0,o);return(n-=i.length)>=0&&t.slice(n,r)==i},Vi.eq=js,Vi.escape=function(e){return(e=Sa(e))&&$.test(e)?e.replace(j,ni):e},Vi.escapeRegExp=function(e){return(e=Sa(e))&&oe.test(e)?e.replace(ne,"\\$&"):e},Vi.every=function(t,i,n){var o=Zs(t)?xt:mn;return n&&wr(t,i,n)&&(i=e),o(t,cr(i,3))},Vi.find=ws,Vi.findIndex=Gr,Vi.findKey=function(e,t){return Bt(e,cr(t,3),wn)},Vi.findLast=ys,Vi.findLastIndex=Zr,Vi.findLastKey=function(e,t){return Bt(e,cr(t,3),yn)},Vi.floor=Il,Vi.forEach=Ss,Vi.forEachRight=Ds,Vi.forIn=function(e,t){return null==e?e:bn(e,cr(t,3),Pa)},Vi.forInRight=function(e,t){return null==e?e:Cn(e,cr(t,3),Pa)},Vi.forOwn=function(e,t){return e&&wn(e,cr(t,3))},Vi.forOwnRight=function(e,t){return e&&yn(e,cr(t,3))},Vi.get=Na,Vi.gt=qs,Vi.gte=$s,Vi.has=function(e,t){return null!=e&&vr(e,t,xn)},Vi.hasIn=Ta,Vi.head=Jr,Vi.identity=ll,Vi.includes=function(e,t,i,n){e=Js(e)?e:ja(e),i=i&&!n?ba(i):0;var o=e.length;return i<0&&(i=_i(o+i,0)),ha(e)?i<=o&&e.indexOf(t,i)>-1:!!o&&Vt(e,t,i)>-1},Vi.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:ba(i);return o<0&&(o=_i(n+o,0)),Vt(e,t,o)},Vi.inRange=function(t,i,n){return i=_a(i),n===e?(n=i,i=0):n=_a(n),function(e,t,i){return e>=bi(t,i)&&e<_i(t,i)}(t=wa(t),i,n)},Vi.invoke=Ma,Vi.isArguments=Gs,Vi.isArray=Zs,Vi.isArrayBuffer=Ys,Vi.isArrayLike=Js,Vi.isArrayLikeObject=Xs,Vi.isBoolean=function(e){return!0===e||!1===e||sa(e)&&In(e)==f},Vi.isBuffer=Qs,Vi.isDate=ea,Vi.isElement=function(e){return sa(e)&&1===e.nodeType&&!ua(e)},Vi.isEmpty=function(e){if(null==e)return!0;if(Js(e)&&(Zs(e)||"string"==typeof e||"function"==typeof e.splice||Qs(e)||pa(e)||Gs(e)))return!e.length;var t=fr(e);if(t==w||t==I)return!e.size;if(kr(e))return!Pn(e).length;for(var i in e)if(Re.call(e,i))return!1;return!0},Vi.isEqual=function(e,t){return On(e,t)},Vi.isEqualWith=function(t,i,n){var o=(n="function"==typeof n?n:e)?n(t,i):e;return o===e?On(t,i,e,n):!!o},Vi.isError=ta,Vi.isFinite=function(e){return"number"==typeof e&&mi(e)},Vi.isFunction=ia,Vi.isInteger=na,Vi.isLength=oa,Vi.isMap=aa,Vi.isMatch=function(e,t){return e===t||Fn(e,t,hr(t))},Vi.isMatchWith=function(t,i,n){return n="function"==typeof n?n:e,Fn(t,i,hr(i),n)},Vi.isNaN=function(e){return la(e)&&e!=+e},Vi.isNative=function(e){if(Dr(e))throw new De("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(e)},Vi.isNil=function(e){return null==e},Vi.isNull=function(e){return null===e},Vi.isNumber=la,Vi.isObject=ra,Vi.isObjectLike=sa,Vi.isPlainObject=ua,Vi.isRegExp=ca,Vi.isSafeInteger=function(e){return na(e)&&e>=-9007199254740991&&e<=c},Vi.isSet=da,Vi.isString=ha,Vi.isSymbol=ga,Vi.isTypedArray=pa,Vi.isUndefined=function(t){return t===e},Vi.isWeakMap=function(e){return sa(e)&&fr(e)==L},Vi.isWeakSet=function(e){return sa(e)&&"[object WeakSet]"==In(e)},Vi.join=function(e,t){return null==e?"":fi.call(e,t)},Vi.kebabCase=Za,Vi.last=ts,Vi.lastIndexOf=function(t,i,n){var o=null==t?0:t.length;if(!o)return-1;var r=o;return n!==e&&(r=(r=ba(n))<0?_i(o+r,0):bi(r,o-1)),i==i?function(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}(t,i,r):Wt(t,zt,r,!0)},Vi.lowerCase=Ya,Vi.lowerFirst=Ja,Vi.lt=ma,Vi.lte=fa,Vi.max=function(t){return t&&t.length?fn(t,ll,En):e},Vi.maxBy=function(t,i){return t&&t.length?fn(t,cr(i,2),En):e},Vi.mean=function(e){return Kt(e,ll)},Vi.meanBy=function(e,t){return Kt(e,cr(t,2))},Vi.min=function(t){return t&&t.length?fn(t,ll,Wn):e},Vi.minBy=function(t,i){return t&&t.length?fn(t,cr(i,2),Wn):e},Vi.stubArray=Cl,Vi.stubFalse=wl,Vi.stubObject=function(){return{}},Vi.stubString=function(){return""},Vi.stubTrue=function(){return!0},Vi.multiply=El,Vi.nth=function(t,i){return t&&t.length?Un(t,ba(i)):e},Vi.noConflict=function(){return ht._===this&&(ht._=He),this},Vi.noop=gl,Vi.now=Ns,Vi.pad=function(e,t,i){e=Sa(e);var n=(t=ba(t))?ci(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return qo(vt(o),i)+e+qo(ft(o),i)},Vi.padEnd=function(e,t,i){e=Sa(e);var n=(t=ba(t))?ci(e):0;return t&&n<t?e+qo(t-n,i):e},Vi.padStart=function(e,t,i){e=Sa(e);var n=(t=ba(t))?ci(e):0;return t&&n<t?qo(t-n,i)+e:e},Vi.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),wi(Sa(e).replace(re,""),t||0)},Vi.random=function(t,i,n){if(n&&"boolean"!=typeof n&&wr(t,i,n)&&(i=n=e),n===e&&("boolean"==typeof i?(n=i,i=e):"boolean"==typeof t&&(n=t,t=e)),t===e&&i===e?(t=0,i=1):(t=_a(t),i===e?(i=t,t=0):i=_a(i)),t>i){var o=t;t=i,i=o}if(n||t%1||i%1){var r=yi();return bi(t+r*(i-t+lt("1e-"+((r+"").length-1))),i)}return Zn(t,i)},Vi.reduce=function(e,t,i){var n=Zs(e)?Ft:qt,o=arguments.length<3;return n(e,cr(t,4),i,o,gn)},Vi.reduceRight=function(e,t,i){var n=Zs(e)?Mt:qt,o=arguments.length<3;return n(e,cr(t,4),i,o,pn)},Vi.repeat=function(t,i,n){return i=(n?wr(t,i,n):i===e)?1:ba(i),Yn(Sa(t),i)},Vi.replace=function(){var e=arguments,t=Sa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vi.result=function(t,i,n){var o=-1,r=(i=wo(i,t)).length;for(r||(r=1,t=e);++o<r;){var s=null==t?e:t[zr(i[o])];s===e&&(o=r,s=n),t=ia(s)?s.call(t):s}return t},Vi.round=xl,Vi.runInContext=ee,Vi.sample=function(e){return(Zs(e)?Ji:Xn)(e)},Vi.size=function(e){if(null==e)return 0;if(Js(e))return ha(e)?ci(e):e.length;var t=fr(e);return t==w||t==I?e.size:Pn(e).length},Vi.snakeCase=Xa,Vi.some=function(t,i,n){var o=Zs(t)?Rt:ro;return n&&wr(t,i,n)&&(i=e),o(t,cr(i,3))},Vi.sortedIndex=function(e,t){return so(e,t)},Vi.sortedIndexBy=function(e,t,i){return ao(e,t,cr(i,2))},Vi.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=so(e,t);if(n<i&&js(e[n],t))return n}return-1},Vi.sortedLastIndex=function(e,t){return so(e,t,!0)},Vi.sortedLastIndexBy=function(e,t,i){return ao(e,t,cr(i,2),!0)},Vi.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var i=so(e,t,!0)-1;if(js(e[i],t))return i}return-1},Vi.startCase=Qa,Vi.startsWith=function(e,t,i){return e=Sa(e),i=null==i?0:ln(ba(i),0,e.length),t=co(t),e.slice(i,i+t.length)==t},Vi.subtract=Ll,Vi.sum=function(e){return e&&e.length?$t(e,ll):0},Vi.sumBy=function(e,t){return e&&e.length?$t(e,cr(t,2)):0},Vi.template=function(t,i,n){var o=Vi.templateSettings;n&&wr(t,i,n)&&(i=e),t=Sa(t),i=Ia({},i,o,er);var r,s,a=Ia({},i.imports,o.imports,er),l=Ra(a),u=Jt(a,l),c=0,d=i.interpolate||we,h="__p += '",g=xe((i.escape||we).source+"|"+d.source+"|"+(d===Y?ge:we).source+"|"+(i.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";t.replace(g,(function(e,i,n,o,a,l){return n||(n=o),h+=t.slice(c,l).replace(ye,oi),i&&(r=!0,h+="' +\n__e("+i+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var m=Re.call(i,"variable")&&i.variable;if(m){if(de.test(m))throw new De("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(H,""):h).replace(z,"$1").replace(K,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var f=nl((function(){return ke(l,p+"return "+h).apply(e,u)}));if(f.source=h,ta(f))throw f;return f},Vi.times=function(e,t){if((e=ba(e))<1||e>c)return[];var i=h,n=bi(e,h);t=cr(t),e-=h;for(var o=Gt(n,t);++i<e;)t(i);return o},Vi.toFinite=_a,Vi.toInteger=ba,Vi.toLength=Ca,Vi.toLower=function(e){return Sa(e).toLowerCase()},Vi.toNumber=wa,Vi.toSafeInteger=function(e){return e?ln(ba(e),-9007199254740991,c):0===e?e:0},Vi.toString=Sa,Vi.toUpper=function(e){return Sa(e).toUpperCase()},Vi.trim=function(t,i,n){if((t=Sa(t))&&(n||i===e))return Zt(t);if(!t||!(i=co(i)))return t;var o=di(t),r=di(i);return So(o,Qt(o,r),ei(o,r)+1).join("")},Vi.trimEnd=function(t,i,n){if((t=Sa(t))&&(n||i===e))return t.slice(0,hi(t)+1);if(!t||!(i=co(i)))return t;var o=di(t);return So(o,0,ei(o,di(i))+1).join("")},Vi.trimStart=function(t,i,n){if((t=Sa(t))&&(n||i===e))return t.replace(re,"");if(!t||!(i=co(i)))return t;var o=di(t);return So(o,Qt(o,di(i))).join("")},Vi.truncate=function(t,i){var n=30,o="...";if(ra(i)){var r="separator"in i?i.separator:r;n="length"in i?ba(i.length):n,o="omission"in i?co(i.omission):o}var s=(t=Sa(t)).length;if(ri(t)){var a=di(t);s=a.length}if(n>=s)return t;var l=n-ci(o);if(l<1)return o;var u=a?So(a,0,l).join(""):t.slice(0,l);if(r===e)return u+o;if(a&&(l+=u.length-l),ca(r)){if(t.slice(l).search(r)){var c,d=u;for(r.global||(r=xe(r.source,Sa(pe.exec(r))+"g")),r.lastIndex=0;c=r.exec(d);)var h=c.index;u=u.slice(0,h===e?l:h)}}else if(t.indexOf(co(r),l)!=l){var g=u.lastIndexOf(r);g>-1&&(u=u.slice(0,g))}return u+o},Vi.unescape=function(e){return(e=Sa(e))&&q.test(e)?e.replace(U,gi):e},Vi.uniqueId=function(e){var t=++Pe;return Sa(e)+t},Vi.upperCase=el,Vi.upperFirst=tl,Vi.each=Ss,Vi.eachRight=Ds,Vi.first=Jr,hl(Vi,(yl={},wn(Vi,(function(e,t){Re.call(Vi.prototype,t)||(yl[t]=e)})),yl),{chain:!1}),Vi.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vi[e].placeholder=Vi})),It(["drop","take"],(function(t,i){Ui.prototype[t]=function(n){n=n===e?1:_i(ba(n),0);var o=this.__filtered__&&!i?new Ui(this):this.clone();return o.__filtered__?o.__takeCount__=bi(n,o.__takeCount__):o.__views__.push({size:bi(n,h),type:t+(o.__dir__<0?"Right":"")}),o},Ui.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var i=t+1,n=1==i||3==i;Ui.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:cr(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}})),It(["head","last"],(function(e,t){var i="take"+(t?"Right":"");Ui.prototype[e]=function(){return this[i](1).value()[0]}})),It(["initial","tail"],(function(e,t){var i="drop"+(t?"":"Right");Ui.prototype[e]=function(){return this.__filtered__?new Ui(this):this[i](1)}})),Ui.prototype.compact=function(){return this.filter(ll)},Ui.prototype.find=function(e){return this.filter(e).head()},Ui.prototype.findLast=function(e){return this.reverse().find(e)},Ui.prototype.invokeMap=Jn((function(e,t){return"function"==typeof e?new Ui(this):this.map((function(i){return Nn(i,e,t)}))})),Ui.prototype.reject=function(e){return this.filter(Vs(cr(e)))},Ui.prototype.slice=function(t,i){t=ba(t);var n=this;return n.__filtered__&&(t>0||i<0)?new Ui(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),i!==e&&(n=(i=ba(i))<0?n.dropRight(-i):n.take(i-t)),n)},Ui.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ui.prototype.toArray=function(){return this.take(h)},wn(Ui.prototype,(function(t,i){var n=/^(?:filter|find|map|reject)|While$/.test(i),o=/^(?:head|last)$/.test(i),r=Vi[o?"take"+("last"==i?"Right":""):i],s=o||/^find/.test(i);r&&(Vi.prototype[i]=function(){var i=this.__wrapped__,a=o?[1]:arguments,l=i instanceof Ui,u=a[0],c=l||Zs(i),d=function(e){var t=r.apply(Vi,Ot([e],a));return o&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,g=!!this.__actions__.length,p=s&&!h,m=l&&!g;if(!s&&c){i=m?i:new Ui(this);var f=t.apply(i,a);return f.__actions__.push({func:_s,args:[d],thisArg:e}),new Ki(f,h)}return p&&m?t.apply(this,a):(f=this.thru(d),p?o?f.value()[0]:f.value():f)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Vi.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Zs(o)?o:[],e)}return this[i]((function(i){return t.apply(Zs(i)?i:[],e)}))}})),wn(Ui.prototype,(function(e,t){var i=Vi[t];if(i){var n=i.name+"";Re.call(Ni,n)||(Ni[n]=[]),Ni[n].push({name:t,func:i})}})),Ni[zo(e,2).name]=[{name:"wrapper",func:e}],Ui.prototype.clone=function(){var e=new Ui(this.__wrapped__);return e.__actions__=No(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=No(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=No(this.__views__),e},Ui.prototype.reverse=function(){if(this.__filtered__){var e=new Ui(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ui.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Zs(e),n=t<0,o=i?e.length:0,r=function(e,t,i){for(var n=-1,o=i.length;++n<o;){var r=i[n],s=r.size;switch(r.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bi(t,e+s);break;case"takeRight":e=_i(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=r.start,a=r.end,l=a-s,u=n?a:s-1,c=this.__iteratees__,d=c.length,h=0,g=bi(l,this.__takeCount__);if(!i||!n&&o==l&&g==l)return fo(e,this.__actions__);var p=[];e:for(;l--&&h<g;){for(var m=-1,f=e[u+=t];++m<d;){var v=c[m],_=v.iteratee,b=v.type,C=_(f);if(2==b)f=C;else if(!C){if(1==b)continue e;break e}}p[h++]=f}return p},Vi.prototype.at=bs,Vi.prototype.chain=function(){return vs(this)},Vi.prototype.commit=function(){return new Ki(this.value(),this.__chain__)},Vi.prototype.next=function(){this.__values__===e&&(this.__values__=va(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Vi.prototype.plant=function(t){for(var i,n=this;n instanceof zi;){var o=Ur(n);o.__index__=0,o.__values__=e,i?r.__wrapped__=o:i=o;var r=o;n=n.__wrapped__}return r.__wrapped__=t,i},Vi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ui){var i=t;return this.__actions__.length&&(i=new Ui(this)),(i=i.reverse()).__actions__.push({func:_s,args:[rs],thisArg:e}),new Ki(i,this.__chain__)}return this.thru(rs)},Vi.prototype.toJSON=Vi.prototype.valueOf=Vi.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Vi.prototype.first=Vi.prototype.head,tt&&(Vi.prototype[tt]=function(){return this}),Vi}();pt?((pt.exports=pi)._=pi,gt._=pi):ht._=pi}.call(ie);class le{constructor(e){const t=e[0],i=e[e.length-1]||t,n={sourceString:t.source.sourceString,startIdx:t.source.startIdx,endIdx:i.source.endIdx};this.sourceFile=n,this._internalRange={start:t.source.getLineAndColumn(),end:i.source.collapsedRight().getLineAndColumn()},this.ctorName=e.map((e=>e.ctorName)).join(" + "),this.context=t.parserContext}get range(){const{start:e,end:t}=this._internalRange,{lineNum:i,colNum:n}=e,{lineNum:o,colNum:r}=t;return{line:i,col:n,lineEnd:o,colEnd:r}}get sourceString(){const{sourceString:e,startIdx:t,endIdx:i}=this.sourceFile;return e.slice(t,i)}get printError(){const{startIdx:e,endIdx:t}=this.sourceFile;return i=Error(se(this._internalRange.start,[e,t])),void console.error("%c"+i.stack,"font-family: monospace; font-size: 13px;font-style: normal;");var i}}function ue(...e){return new le(e.filter(Boolean))}function ce(e,t=0){let i=0;const n=e.length;let o=-1,r=!1;for(let s=0;s<n;s++)o=e.charCodeAt(s),o>=0&&o<=128?i+=1:(i+=2,r||(i+=t,r=!0));return i}function de(e,t,i){if(!e)return t;const n=Object.getOwnPropertyDescriptors(e),o={};if(i)C(o,i);else{const t=Object.getPrototypeOf(e);Object.setPrototypeOf(o,t)}return Object.defineProperties(o,{...n,...Object.getOwnPropertyDescriptors(t)})}class he extends Error{constructor(e,t){super(),this.name="SyntaxError";const i="string"!=typeof e,n=i?e.message:e;if(this.message=t?this.transformMessage(n,t):n,i){const t=e.stack.split("\n").filter((e=>e.trimStart().startsWith("at"))).join("\n");this.stack=this.name+"\n"+this.message+"\n"+t}}transformKeyword(e,t){var i;switch(e){case _e.End:return;default:return t[e]||e.replace(/(\$(.+?)\$)/g,((e,i,n)=>t[i]?this.transformKeyword(t[i],t):`${n}`)).replace(/^not (.+)/,`${null!=(i=t[_e.Not])?i:fe} - ($1)`).replaceAll("["," - (").replaceAll("]",")")}}transformMessage(e,t){var i,n,o;const[r,s]=e.split(ge),a=s.split(/, +or +|,| +or +/g).map((e=>this.transformKeyword(e.trim(),t))).filter(Boolean),l=a.length>0?a.filter((e=>e!==t[_e.Exp]&&e!==ve)).length>0?a.join(2===a.length?" 或 ":"、").replace(/^(.+)$/,null!=(i=t[_e.Expected])?i:ge+": $1"):null!=(n=t[_e.ExpectedExp])?n:me:null!=(o=t[_e.ExpectedEndOfInput])?o:pe;return r+l+`\n${" ".repeat(ce(l))}    ——鲁迅`}}const ge="Expected",pe="Unexpected end of input",me="Unexpected expression syntax",fe="not",ve="Exp",_e={Not:"$Not$",ExpectedEndOfInput:"$ExpectedEndOfInput$",Expected:"$Expected$",End:"$END$",Exp:"$Exp$",ExpectedExp:"$ExpectedExp$"};function be(e,t,i){return U(e.parse(),t.parse(),i.parse(),e.sourceString+t.sourceString+i.sourceString)}const Ce={identifier:(e,t)=>e.sourceString+t.sourceString,variableName(e,t){const i=t.sourceString;return Z(e.sourceString||null,i)},literalOf:e=>Y("null"===e.sourceString?null:e.parse(),ue(e)),boolean:e=>"true"===e.parse().toLowerCase(),number(e){const t=e.parse();return"number"==typeof t?t:Number(t)},sign_apply:e=>+e.parse(),sign_signed(e,t){const i=t.parse();return"-"===e.sourceString?-i:+i},number_fract(e,t,i){var n;return(null!=(n=e.sourceString)?n:"")+"."+i.sourceString},hex:(e,t)=>"0x"+t.sourceString,percet(e,t){return i=e.parse(),k(S.PrecetLiteral,{value:i},null!=n?n:i+"%");var i,n},ArrayElements:e=>({type:g.Expression,kind:S.ArrayLiteral,value:e.parse()}),Array:(e,t,i)=>t.parse(),AddExp_add:be,MulExp_mul:be,ExpExp_pow:be,LogicExp_logic:be,OrNullExp_or:be,RelationExp_rel:be,EqualExp_eq:be,SpreadExp_spread:be,IncrementExp_before:(e,t)=>j(t.parse(),e.sourceString,!0,ue(e,t)),IncrementExp_after:(e,t)=>j(e.parse(),t.sourceString,!1,ue(e,t)),ExpExp_invert(e,t){const i=t.parse();return U(null,e.parse(),i,e.sourceString+t.sourceString)},ExpExp_sign(e,t){const i=t.parse();if(console.log(t,t.source.getLineAndColumn(),i),i.kind===S.Literal)throw ae("Expected $number$ or $Exp$",t);return U(Y(0),e.parse(),i,e.sourceString+t.sourceString)},PriExp_paren:(e,t,i)=>t.parse()};function we(e,t){return e.kind===S.Comma?e.value.map(t):[t(e)]}const ye={Template:(e,t,i,n)=>({type:g.Expression,kind:S.Template,value:t.parse(),pipe:i.parse()}),CallExpression:(e,t,i,n)=>$(e.parse(),i.parse(),ue(e,t,i,n)),TopExp_ArraySpread(e){const{value:t}=e.parse();return{type:g.Expression,kind:S.ArraySpreadLiteral,start:t.left,end:t.right}},Exp_Comma(e,t,i){const n=e.parse(),o=i.parse();return k(S.Comma,{value:o.kind===S.Comma?[n,...o.value]:[n,o]})},TopExp_assign:(e,t,i)=>k(S.Assign,{value:{left:e.parse(),right:i.parse()}})};function Se(e){var t;let i=e.parse();return i instanceof Array&&1===(i=i.flat()).length&&h(i[0])?null!=(t=i[0].value)?t:"":null!=i?i:""}function De(e,t=0,i){const n=[];let o=!1;const r=[];let s,a=-1,l=-1;for(const d of e){let e=d&&(h(d)?d:d.parse())||d;if(r[++a]=e,h(e))!s&&(s=e.sourceType),e=e.value;else{if(e instanceof Array){const{result:i,hasObject:r}=De(e,t+1);if(i)for(let e=0;e<i.length;e++){const t=i[e];h(t)?(s=t.sourceType,n[++l]=t.value):n[++l]=t}!o&&(o=r);continue}!o&&(o="object"==typeof e),!s&&(s=(null==(u=d)?void 0:u.type)===g.Source?u.sourceType:u.ctorName)}e&&(n[++l]=e)}var u;let c;if(o)c=n;else if(n.length>0){const e=1===n.length?n[0]:n.join(""),t=h(e)?e.value:e;c=[{type:g.Source,kind:m.Content,value:t,sourceType:(s||"")+""||void 0}]}return{hasObject:o,result:c}}const ke={NonemptyListOf(e,t,i){const n=i.parse();return n instanceof Array?[e.parse(),...n.flat(1)]:[e.parse()]},nonemptyListOf(e,t,i){const n=i.parse();return n instanceof Array?[e.parse(),...n.flat(1)]:[e.parse()]},EmptyListOf:()=>[],emptyListOf:()=>[],oresc(e,{sourceString:t}){if(e.parse())switch(t){case"n":return"\n";case"r":return"\r";case"t":return"\t";case"\\":return"\\"}return t},centerOf:(e,t,i)=>t.parse(),sourceOf:e=>e.sourceString,stringify:Se,join:(e,t)=>Se(e)+Se(t),startWith:(e,t)=>t.parse(),endWith:(e,t)=>e.parse(),ignore(e){return t=ue(e),C({type:g.Source,kind:0},t);var t},optional:function(e){const t=e.parse();if(t instanceof Array&&t.length>1)throw Error();const i=null==t?void 0:t[0];return h(i)?i.value:i||void 0},_iter:(...e)=>De(e,0).result,_terminal(){return this.sourceString}},Ie={comment_single:e=>y(e.parse(),ue(e)),comment_multi:e=>y(e.parse(),ue(e)),comment_notes:e=>y(e.parse().value,ue(e)),comment_inline(e){const t=e.parse();return{type:g.Expression,kind:S.Comment,kindName:S[S.Comment],sourceString:e.sourceString,value:t}}},Ee={logic_blockForeach(e){const t=e.parse(),[i,...n]=t.value;return function(e,t,i,n){return Pe(2,{child:e,children:(null==t?void 0:t.kind)===S.Comma?{...t,kind:S.ArrayLiteral}:t,block:i},n)}(i.child,i.children,n,ue(...arguments))},logic_foreach:(e,t,i,n)=>({child:t.parse(),children:n.parse()}),logic_if:(e,t)=>t,logic_elseIf:(e,t)=>t,logic_end:e=>e,logic_else:e=>e,logic_blockIf(e,t,i,n,o,r,s){var a;const l=e.parse(),u=[],c=null==(a=o.children[0])?void 0:a.parse(),d=s.parse(),h=[l.parse()];for(const m of i.children){const e=m.parse();u.push(e),h.push(e.parse())}const g=[],p=[];for(const m of t.children)p.push(m.parse());g.push(ze(p,ue(l,t,u[0]||c||d)));for(let m=0;m<n.children.length;m++){const e=n.children[m],t=[];for(const i of e.children)t.push(i.parse());g.push(ze(t,ue(u[m],e,u[m+1]||c||d)))}if(r.child(0)){const e=[];for(const t of r.child(0).children)e.push(t.parse());g.push(ze(e,ue(o,r.child(0),s.parse())))}return function(e,t,i){return Pe(0,{conditions:e,blocks:t},i)}(h,g,ue(e,t,i,n,o,r,s.parse()))},logicSyntax_let(e,t){const i=e.parse().length>1;return function(e,t,i){return Pe(3,{explicit:t,statements:we(e,(e=>{if(e.type===g.Expression)switch(e.kind){case S.Assign:{const{value:i,...n}=e;return{type:g.Logic,...n,kind:4,explicit:t,left:i.left,right:i.right}}case S.VariableIdentifier:return{type:g.Logic,kind:4,explicit:t,left:e,right:Y(null)}}}))},i)}(t.parse(),i,ue(...arguments))}},xe={...{},...{expr_pipe(e,t){try{return Fe(`|${t.sourceString}`)}catch(i){return console.warn(i),Fe(`|=${t.sourceString}`)}},expr_logic:e=>Fe(`(${e.parse()})`),expr_template:e=>Fe(`{{${e.parse()}}}`),expr_auto(e){try{return Fe(`@${e.sourceString};`)}catch(t){return console.warn(t),$("link",[e.sourceString],ue(e))}}},...{errorBoundary:e=>"ignoreError"===e.ctorName?e.parse():{source:e.parse(),error:e.ctorName},nonemptyBlockOf(e,t,i){const n=e.parse(),o=t.parse()||[];return(null==o?void 0:o.length)>0?ze([n,...o,i.parse()],ue(e,t,i)):n},emptyLine(e){return t=ue(e),Ve(7,{command:"empty"},t);var t},blockEnd:(e,t)=>He("end",[],null,ue(t)),blockEndOf:e=>He("end",[],null,ue(e)),linesOf:e=>ze(e.parse(),ue(e)),syntaxBlockOf:(e,t,i)=>ze([e.parse(),...t.parse()||[]].filter(Boolean),ue(e,t,i)),contentBlockOf:(e,t,i)=>ze([e.parse(),...t.parse()||[],i.parse()].filter(Boolean),ue(e,t,i)),character_call_macro:(e,t)=>de(t.parse(),{text:e.parse(),source:ue(e,t)}),macro:e=>G(Fe(`@${e.parse()};`),ue(e)),rawOf(e){return t=e.parse(),i=ue(e),Ve(0,{value:t},i);var t,i},withText:e=>Ke(e.parse(),null,ue(e)),styled_centered:(e,t,i)=>function(e,t,i){return Ke(e.parse(),"centered",ue(t,e,i))}(t,e,i),styled_italic(e,t,i){const n=i.parse();return Ke(n?t.parse():[e.parse(),t.parse()],n?"italic":null,ue(e,t,i))},styled_bold(e,t,i){const n=i.parse();return Ke(n?t.parse():[e.parse(),t.parse()],n?"bold":null,ue(e,t,i))},styled_underline(e,t,i){const n=i.parse();return Ke(n?t.parse():[e.parse(),t.parse()],n?"underline":null,ue(e,t,i))},template_macro:e=>function(e,t){t&&t.context.addInlayHint("=MACRO","pre",t,1);return Ve(3,{pipe:e},t)}(e.parse(),ue(e)),template_label:(e,t)=>(e.parserContext.addInlayHint("=END","post",ue(e),1),function(e,t,i){i&&i.context.addInlayHint("=LABEL","pre",i,1);return Ve(4,{value:e,pipe:t instanceof Object?de(t,{text:e}):t},i)}(e.parse(),t.parse(),ue(e,t))),template_native:e=>function(e,t){t&&t.context.addInlayHint("=EXPR","pre",t,2);return Ve(2,{value:e},t)}(e.parse(),ue(e))},...{textSyntax_dialogue:(e,t,i,n)=>He("text:dialogue",[i.parse()],n.parse(),ue(e,i,n)),textSyntax_action:(e,t,i)=>He("text:action",[t.parse()],i.parse(),ue(e,t,i)),command_macro(e){const t=e.parse(),{name:i,...n}=t;return He(i,n.argumentList,n.pipe,ue(e))},command_transition:(e,t,i)=>He("transition",[t.parse()],i.parse(),ue(e,t,i)),textSyntax_space:e=>He("text:space",[],null,ue(e)),dialogue_end:e=>(e.parserContext.addInlayHint(":dialogue_end","pre",ue(e)),e.parse()),action_end:e=>(e.parserContext.addInlayHint(":action_end","pre",ue(e)),e.parse()),character_call:(e,t)=>(t.parserContext.addInlayHint(":dialogue_begin","post",ue(t)),He("character",[e.parse()],t.parse(),ue(e,t))),action_start:e=>(e.parserContext.addInlayHint(":action_begin","post",ue(e)),"textSyntax_space"===e.child(0).ctorName&&e.parserContext.addInlayHint(":space x"+e.children.length,"post",ue(e)),e.parse()),action_content:e=>("textSyntax_space"===e.ctorName&&e.parserContext.addInlayHint(":action_space x"+e.child(0).children.length,"post",ue(e)),e.parse()),dialogue_content(e){const t=e.parse();return"textSyntax_space"===e.ctorName&&e.parserContext.addInlayHint(":space x"+e.child(0).children.length,"post",ue(e)),t},dialogue_action:e=>(e.parserContext.addInlayHint(":@dialogue_action","post",ue(e)),He("character-action",[e.parse()],null,ue(e))),command_pageBreak:e=>He("pageBreak",[],null,ue(e)),command:e=>(e.parserContext.addInlayHint(":@"+e.ctorName,"post",ue(e)),e.parse())}};const Le={...ke,...xe,...Ie,...Ee,variableName:Ce.variableName},Ae={Params_multiple(e,t,i){const n={type:"Params",flags:[],params:{}},o=e.parse().value;1===o.length?n.flags.push(o[0]):n.params[o[0]]=o[1];const r=i.parse();return n.flags=n.flags.concat(r.flags),Object.assign(n.params,r.params),n},Params_single(e,t){const i={type:"Params",flags:[],params:{}},n=e.parse().value;return 1===n.length?i.flags.push(n[0]):i.params[n[0]]=n[1],i},Param_setValue:(e,t,i)=>({type:"NodeArray",value:[e.parse(),i.parse()]}),Param_setFlag:e=>({type:"NodeArray",value:[e.parse()]})},Ne={...Ce,...ye,...Ae,...ke,Statement:e=>de(e.parse(),{},ue(e)),Statement_Exp:(e,t)=>e.parse(),Statement_Macro:(e,t,i,n)=>de(t.parse(),{pipe:i.parse()}),Statement_Inline:(e,t)=>e.parse(),Statement_Pipe:(e,t)=>e.parse(),Statement_AnonymousPipe:(e,t)=>e.parse(),Macro_Pipe_Call:(e,t)=>t.parse()||e.parse(),Macro_Pipe_Expr:(e,t,i)=>de(e.parse(),{argumentList:[i.parse()]}),pipeFlag:e=>$(),Macro_Call:e=>e.parse(),End(e){},exprEnd(e){},Macro_Call_Expr(e,t){const i=t.parse()||{};return q(e.parse(),i,ue(e,t))}},Te=Q.createSemantics();function Oe(e){const t=Q.matcher().replaceInputRange(0,0,e);return console.log(t,e),t.match("Main")}function Fe(e,t){try{const t=Q.match(e,"Main");if(t.succeeded()){return Te(t).parse()}throw Error(t.message)}catch(i){if(i instanceof Error&&!i.message.startsWith("Missing semantic action"))throw new he(i,t);throw i}}var Me,Re;Te.addOperation("parse",{...Ne,...Le}),Te.addAttribute("parseExpression",{_nonterminal(...e){return Oe(this.sourceString)},_terminal(){return Oe(this.sourceString)},_iter(...e){return Oe(this.sourceString)}}),(Re=Me||(Me={}))[Re.IF=0]="IF",Re[Re.WHILE=1]="WHILE",Re[Re.FOREACH=2]="FOREACH",Re[Re.LET=3]="LET",Re[Re.ASSIGN=4]="ASSIGN";const Pe=b(g.Logic,Me);var Be,We;(We=Be||(Be={}))[We.Raw=0]="Raw",We[We.Styled=1]="Styled",We[We.Expr=2]="Expr",We[We.InlineMacro=3]="InlineMacro",We[We.Label=4]="Label",We[We.Array=5]="Array",We[We.Line=6]="Line",We[We.Empty=7]="Empty";const Ve=b(g.Content,Be);function He(e,t,i,n){return Ve(6,{command:e,argumentList:t,pipe:i},n)}function ze(e,t){return Ve(5,{value:e},t)}function Ke(e,t,i){if(!e)return null;const n=function(e){return e.type===g.Content&&1===e.kind}(e),o=n?e.value:e;return Ve(1,{value:o,pipe:"string"==typeof t?q("styled",{flags:n&&e.pipe?[...e.pipe.flags,t]:[t]}):t},i)}var Ue,je;(je=Ue||(Ue={}))[je.character=0]="character",je[je.parenthetical=1]="parenthetical",je[je.dialogue=2]="dialogue",je[je.separator=3]="separator",je[je.dialogue_end=4]="dialogue_end",je[je.dual_dialogue_end=5]="dual_dialogue_end",je[je.action=6]="action",je[je.centered=7]="centered",je[je.transition=8]="transition",je[je.synopsis=9]="synopsis",je[je.section=10]="section",je[je.page_break=11]="page_break",je[je.dual_dialogue_begin=12]="dual_dialogue_begin",je[je.dialogue_begin=13]="dialogue_begin",je[je.lyric=14]="lyric",je[je.scene_heading=15]="scene_heading",je[je.title=16]="title",je[je.credit=17]="credit",je[je.source=18]="source",je[je.authors=19]="authors",je[je.author=20]="author",je[je.notes=21]="notes",je[je.draft_date=22]="draft_date",je[je.revision=23]="revision",je[je.date=24]="date",je[je.contact=25]="contact",je[je.contact_info=26]="contact_info",je[je.copyright=27]="copyright",je[je.boneyard_begin=28]="boneyard_begin",je[je.boneyard_end=29]="boneyard_end",je[je.note=30]="note";let qe=!1;const $e=window.MonacoEnvironment.getWorkerUrl,Ge=window.MonacoEnvironment.getWorker;window.MonacoEnvironment={getWorkerUrl:function(e,t){var i;qe=!0,console.debug("getWorker",e,t);const n=null!=(i=$e(e,t))?i:"string"==typeof Ze[t]?Ze[t]:Ze[t]();return console.debug("getWorkerUrl",e,t,"=>",n),n},getWorker(e,t){qe=!0,console.debug("getWorker",e,t);const i=window.MonacoEnvironment.getWorkerUrl(e,t);return"string"==typeof i?Ge(e,t):i}};const Ze={};function Ye(e,t){Ze[e]=t}var Je={exports:{}};Je.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i(1));let r=null,s=!1;class a{constructor(e){const t=e.length,i=a._utf8ByteLength(e),n=i!==t,o=n?new Uint32Array(t+1):null;n&&(o[t]=i);const r=n?new Uint32Array(i+1):null;n&&(r[i]=t);const s=new Uint8Array(i);let l=0;for(let a=0;a<t;a++){const i=e.charCodeAt(a);let u=i,c=!1;if(i>=55296&&i<=56319&&a+1<t){const t=e.charCodeAt(a+1);t>=56320&&t<=57343&&(u=65536+(i-55296<<10)|t-56320,c=!0)}n&&(o[a]=l,c&&(o[a+1]=l),u<=127?r[l+0]=a:u<=2047?(r[l+0]=a,r[l+1]=a):u<=65535?(r[l+0]=a,r[l+1]=a,r[l+2]=a):(r[l+0]=a,r[l+1]=a,r[l+2]=a,r[l+3]=a)),u<=127?s[l++]=u:u<=2047?(s[l++]=192|(1984&u)>>>6,s[l++]=128|(63&u)>>>0):u<=65535?(s[l++]=224|(61440&u)>>>12,s[l++]=128|(4032&u)>>>6,s[l++]=128|(63&u)>>>0):(s[l++]=240|(1835008&u)>>>18,s[l++]=128|(258048&u)>>>12,s[l++]=128|(4032&u)>>>6,s[l++]=128|(63&u)>>>0),c&&a++}this.utf16Length=t,this.utf8Length=i,this.utf16Value=e,this.utf8Value=s,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=r}static _utf8ByteLength(e){let t=0;for(let i=0,n=e.length;i<n;i++){const o=e.charCodeAt(i);let r=o,s=!1;if(o>=55296&&o<=56319&&i+1<n){const t=e.charCodeAt(i+1);t>=56320&&t<=57343&&(r=65536+(o-55296<<10)|t-56320,s=!0)}t+=r<=127?1:r<=2047?2:r<=65535?3:4,s&&i++}return t}createString(e){const t=e._malloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}class l{constructor(e){if(this.id=++l.LAST_ID,!r)throw new Error("Must invoke loadWASM first.");this._onigBinding=r,this.content=e;const t=new a(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!l._sharedPtrInUse?(l._sharedPtr||(l._sharedPtr=r._malloc(1e4)),l._sharedPtrInUse=!0,r.HEAPU8.set(t.utf8Value,l._sharedPtr),this.ptr=l._sharedPtr):this.ptr=t.createString(r)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===l._sharedPtr?l._sharedPtrInUse=!1:this._onigBinding._free(this.ptr)}}t.OnigString=l,l.LAST_ID=0,l._sharedPtr=0,l._sharedPtrInUse=!1;class u{constructor(e){if(!r)throw new Error("Must invoke loadWASM first.");const t=[],i=[];for(let l=0,u=e.length;l<u;l++){const n=new a(e[l]);t[l]=n.createString(r),i[l]=n.utf8Length}const n=r._malloc(4*e.length);r.HEAPU32.set(t,n/4);const o=r._malloc(4*e.length);r.HEAPU32.set(i,o/4);const s=r._createOnigScanner(n,o,e.length);for(let a=0,l=e.length;a<l;a++)r._free(t[a]);r._free(o),r._free(n),0===s&&function(e){throw new Error(e.UTF8ToString(e._getLastOnigError()))}(r),this._onigBinding=r,this._ptr=s}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(e,t,i=s){if("string"==typeof e){e=new l(e);const n=this._findNextMatchSync(e,t,i);return e.dispose(),n}return this._findNextMatchSync(e,t,i)}_findNextMatchSync(e,t,i){const n=this._onigBinding;let o;if(o=i?n._findNextOnigScannerMatchDbg(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t)):n._findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t)),0===o)return null;const r=n.HEAPU32;let s=o/4;const a=r[s++],l=r[s++];let u=[];for(let c=0;c<l;c++){const t=e.convertUtf8OffsetToUtf16(r[s++]),i=e.convertUtf8OffsetToUtf16(r[s++]);u[c]={start:t,end:i,length:i-t}}return{index:a,captureIndices:u}}}t.OnigScanner=u;let c=!1;t.loadWASM=function(e){if(c)throw new Error("Cannot invoke loadWASM more than once.");let t,i,n,s;c=!0,e instanceof ArrayBuffer||e instanceof Response?t=e:(t=e.data,i=e.print);const a=new Promise(((e,t)=>{n=e,s=t}));let l;return l=t instanceof ArrayBuffer?(u=t,e=>WebAssembly.instantiate(u,e)):t instanceof Response&&"function"==typeof WebAssembly.instantiateStreaming?function(e){return t=>WebAssembly.instantiateStreaming(e,t)}(t):function(e){return async t=>{const i=await e.arrayBuffer();return WebAssembly.instantiate(i,t)}}(t),function(e,t,i,n){o.default({print:t,instantiateWasm:(t,i)=>{if("undefined"==typeof performance){const e=()=>Date.now();t.env.emscripten_get_now=e,t.wasi_snapshot_preview1.emscripten_get_now=e}return e(t).then((e=>i(e.instance)),n),{}}}).then((e=>{r=e,i()}))}(l,i,n,s),a;var u},t.createOnigString=function(e){return new l(e)},t.createOnigScanner=function(e){return new u(e)},t.setDefaultDebugCall=function(e){s=e}},function(e,t,i){var n=("undefined"!=typeof document&&document.currentScript&&document.currentScript.src,function(e){var t,i=void 0!==(e=e||{})?e:{},n={};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);var o,r=!1,s="";function a(e){return i.locateFile?i.locateFile(e,s):s+e}o=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(p("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs&&scriptArgs,"undefined"!=typeof onig_print&&("undefined"==typeof console&&(console={}),console.log=onig_print,console.warn=console.error="undefined"!=typeof printErr?printErr:onig_print);var l,u,c=i.print||console.log.bind(console),d=i.printErr||console.warn.bind(console);for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);n=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(l=i.wasmBinary),i.noExitRuntime&&i.noExitRuntime,"object"!=typeof WebAssembly&&d("no native wasm support detected");var h=new WebAssembly.Table({initial:51,maximum:51,element:"anyfunc"}),g=!1;function p(e,t){e||z("Assertion failed: "+t)}var m="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function f(e,t,i){for(var n=t+i,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&m)return m.decode(e.subarray(t,o));for(var r="";t<o;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|l:(7&s)<<18|a<<12|l<<6|63&e[t++])<65536)r+=String.fromCharCode(s);else{var u=s-65536;r+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else r+=String.fromCharCode((31&s)<<6|a)}else r+=String.fromCharCode(s)}return r}function v(e,t){return e?f(b,e,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var _,b,C,w=65536;function y(e,t){return e%t>0&&(e+=t-e%t),e}function S(e){_=e,i.HEAP8=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=C=new Int32Array(e),i.HEAPU8=b=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}var D=5547200,k=304160,I=i.INITIAL_MEMORY||16777216;function E(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?i.dynCall_v(n):i.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}(u=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:I/w,maximum:2147483648/w}))&&(_=u.buffer),I=_.byteLength,S(_),C[k>>2]=D;var x=[],L=[],A=[],N=[];function T(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)R(i.preRun.shift());E(x)}function O(){E(L)}function F(){E(A)}function M(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)P(i.postRun.shift());E(N)}function R(e){x.unshift(e)}function P(e){N.unshift(e)}var B=0,W=null;function V(e){B++,i.monitorRunDependencies&&i.monitorRunDependencies(B)}function H(e){if(B--,i.monitorRunDependencies&&i.monitorRunDependencies(B),0==B&&W){var t=W;W=null,t()}}function z(e){throw i.onAbort&&i.onAbort(e),c(e+=""),d(e),g=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}i.preloadedImages={},i.preloadedAudios={};var K="data:application/octet-stream;base64,";function U(e){return String.prototype.startsWith?e.startsWith(K):0===e.indexOf(K)}var j,q="onig.wasm";function $(){try{if(l)return new Uint8Array(l);if(o)return o(q);throw"both async and sync fetching of the wasm failed"}catch(e){z(e)}}function G(){return l||!r||"function"!=typeof fetch?new Promise((function(e,t){e($())})):fetch(q,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+q+"'";return e.arrayBuffer()})).catch((function(){return $()}))}function Z(){var e={env:oe,wasi_snapshot_preview1:oe};function t(e,t){var n=e.exports;i.asm=n,H()}function n(e){t(e.instance)}function o(t){return G().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){d("failed to asynchronously prepare wasm: "+e),z(e)}))}if(V(),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(r){return d("Module.instantiateWasm callback failed with error: "+r),!1}return function(){if(l||"function"!=typeof WebAssembly.instantiateStreaming||U(q)||"function"!=typeof fetch)return o(n);fetch(q,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){d("wasm streaming compile failed: "+e),d("falling back to ArrayBuffer instantiation"),o(n)}))}))}(),{}}function Y(){return 304160}function J(e,t,i){b.copyWithin(e,t,t+i)}function X(){return b.length}function Q(e){try{return u.grow(e-_.byteLength+65535>>>16),S(u.buffer),1}catch(t){}}function ee(e){var t=X();if(e>2147483648)return!1;for(var i=1;i<=4;i*=2){var n=t*(1+.2/i);if(n=Math.min(n,e+100663296),Q(Math.min(2147483648,y(Math.max(16777216,e,n),65536))))return!0}return!1}U(q)||(q=a(q)),L.push({func:function(){ae()}}),j="undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var te={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var i=te.buffers[e];0===t||10===t?((1===e?c:d)(f(i,0)),i.length=0):i.push(t)},varargs:void 0,get:function(){return te.varargs+=4,C[te.varargs-4>>2]},getStr:function(e){return v(e)},get64:function(e,t){return e}};function ie(e,t,i,n){for(var o=0,r=0;r<i;r++){for(var s=C[t+8*r>>2],a=C[t+(8*r+4)>>2],l=0;l<a;l++)te.printChar(e,b[s+l]);o+=a}return C[n>>2]=o,0}function ne(e){}var oe={emscripten_get_now:j,emscripten_get_sbrk_ptr:Y,emscripten_memcpy_big:J,emscripten_resize_heap:ee,fd_write:ie,memory:u,setTempRet0:ne,table:h},re=Z();i.asm=re;var se,ae=i.___wasm_call_ctors=function(){return(ae=i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)};function le(e){function t(){se||(se=!0,i.calledRun=!0,g||(O(),F(),i.onRuntimeInitialized&&i.onRuntimeInitialized(),M()))}B>0||(T(),B>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(i._malloc=function(){return(i._malloc=i.asm.malloc).apply(null,arguments)},i._free=function(){return(i._free=i.asm.free).apply(null,arguments)},i._getLastOnigError=function(){return(i._getLastOnigError=i.asm.getLastOnigError).apply(null,arguments)},i._createOnigScanner=function(){return(i._createOnigScanner=i.asm.createOnigScanner).apply(null,arguments)},i._freeOnigScanner=function(){return(i._freeOnigScanner=i.asm.freeOnigScanner).apply(null,arguments)},i._findNextOnigScannerMatch=function(){return(i._findNextOnigScannerMatch=i.asm.findNextOnigScannerMatch).apply(null,arguments)},i._findNextOnigScannerMatchDbg=function(){return(i._findNextOnigScannerMatchDbg=i.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},i.stackSave=function(){return(i.stackSave=i.asm.stackSave).apply(null,arguments)},i.stackAlloc=function(){return(i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)},i.stackRestore=function(){return(i.stackRestore=i.asm.stackRestore).apply(null,arguments)},i.__growWasmMemory=function(){return(i.__growWasmMemory=i.asm.__growWasmMemory).apply(null,arguments)},i.dynCall_vi=function(){return(i.dynCall_vi=i.asm.dynCall_vi).apply(null,arguments)},i.dynCall_iiii=function(){return(i.dynCall_iiii=i.asm.dynCall_iiii).apply(null,arguments)},i.dynCall_iiiii=function(){return(i.dynCall_iiiii=i.asm.dynCall_iiiii).apply(null,arguments)},i.dynCall_iii=function(){return(i.dynCall_iii=i.asm.dynCall_iii).apply(null,arguments)},i.dynCall_iidiiii=function(){return(i.dynCall_iidiiii=i.asm.dynCall_iidiiii).apply(null,arguments)},i.dynCall_vii=function(){return(i.dynCall_vii=i.asm.dynCall_vii).apply(null,arguments)},i.dynCall_ii=function(){return(i.dynCall_ii=i.asm.dynCall_ii).apply(null,arguments)},i.dynCall_i=function(){return(i.dynCall_i=i.asm.dynCall_i).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)},i.asm=re,i.UTF8ToString=v,i.then=function(e){if(se)e(i);else{var t=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){t&&t(),e(i)}}return i},W=function e(){se||le(),se||(W=e)},i.run=le,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return le(),e});e.exports=n}]);var Xe="/advscript-playground/assets/language-configuration.0bce86b7.json";var Qe,et={keys:{"vs/editor/contrib/format/format":["hint11","hintn1","hint1n","hintnn"],"vs/editor/common/config/editorOptions":["accessibilitySupport.auto","accessibilitySupport.on","accessibilitySupport.off","accessibilitySupport","comments.insertSpace","comments.ignoreEmptyLines","emptySelectionClipboard","find.cursorMoveOnType","editor.find.seedSearchStringFromSelection.never","editor.find.seedSearchStringFromSelection.always","editor.find.seedSearchStringFromSelection.selection","find.seedSearchStringFromSelection","editor.find.autoFindInSelection.never","editor.find.autoFindInSelection.always","editor.find.autoFindInSelection.multiline","find.autoFindInSelection","find.globalFindClipboard","find.addExtraSpaceOnTop","find.loop","fontLigatures","fontFeatureSettings","fontLigaturesGeneral","fontSize","fontWeightErrorMessage","fontWeight","editor.gotoLocation.multiple.peek","editor.gotoLocation.multiple.gotoAndPeek","editor.gotoLocation.multiple.goto","editor.gotoLocation.multiple.deprecated","editor.editor.gotoLocation.multipleDefinitions","editor.editor.gotoLocation.multipleTypeDefinitions","editor.editor.gotoLocation.multipleDeclarations","editor.editor.gotoLocation.multipleImplemenattions","editor.editor.gotoLocation.multipleReferences","alternativeDefinitionCommand","alternativeTypeDefinitionCommand","alternativeDeclarationCommand","alternativeImplementationCommand","alternativeReferenceCommand","hover.enabled","hover.delay","hover.sticky","hover.above","codeActions","inlayHints.enable","inlayHints.fontSize","inlayHints.fontFamily","lineHeight","minimap.enabled","minimap.size.proportional","minimap.size.fill","minimap.size.fit","minimap.size","minimap.side","minimap.showSlider","minimap.scale","minimap.renderCharacters","minimap.maxColumn","padding.top","padding.bottom","parameterHints.enabled","parameterHints.cycle","quickSuggestions.strings","quickSuggestions.comments","quickSuggestions.other","quickSuggestions","lineNumbers.off","lineNumbers.on","lineNumbers.relative","lineNumbers.interval","lineNumbers","rulers.size","rulers.color","rulers","scrollbar.vertical.auto","scrollbar.vertical.visible","scrollbar.vertical.fit","scrollbar.vertical","scrollbar.horizontal.auto","scrollbar.horizontal.visible","scrollbar.horizontal.fit","scrollbar.horizontal","scrollbar.verticalScrollbarSize","scrollbar.horizontalScrollbarSize","scrollbar.scrollByPage","inlineSuggest.enabled","bracketPairColorization.enabled","editor.guides.bracketPairs.true","editor.guides.bracketPairs.active","editor.guides.bracketPairs.false","editor.guides.bracketPairs","editor.guides.bracketPairsHorizontal.true","editor.guides.bracketPairsHorizontal.active","editor.guides.bracketPairsHorizontal.false","editor.guides.bracketPairsHorizontal","editor.guides.highlightActiveBracketPair","editor.guides.indentation","editor.guides.highlightActiveIndentation","suggest.insertMode.insert","suggest.insertMode.replace","suggest.insertMode","suggest.filterGraceful","suggest.localityBonus","suggest.shareSuggestSelections","suggest.snippetsPreventQuickSuggestions","suggest.showIcons","suggest.showStatusBar","suggest.preview","suggest.showInlineDetails","suggest.maxVisibleSuggestions.dep","deprecated","editor.suggest.showMethods","editor.suggest.showFunctions","editor.suggest.showConstructors","editor.suggest.showDeprecated","editor.suggest.showFields","editor.suggest.showVariables","editor.suggest.showClasss","editor.suggest.showStructs","editor.suggest.showInterfaces","editor.suggest.showModules","editor.suggest.showPropertys","editor.suggest.showEvents","editor.suggest.showOperators","editor.suggest.showUnits","editor.suggest.showValues","editor.suggest.showConstants","editor.suggest.showEnums","editor.suggest.showEnumMembers","editor.suggest.showKeywords","editor.suggest.showTexts","editor.suggest.showColors","editor.suggest.showFiles","editor.suggest.showReferences","editor.suggest.showCustomcolors","editor.suggest.showFolders","editor.suggest.showTypeParameters","editor.suggest.showSnippets","editor.suggest.showUsers","editor.suggest.showIssues","selectLeadingAndTrailingWhitespace","acceptSuggestionOnCommitCharacter","acceptSuggestionOnEnterSmart","acceptSuggestionOnEnter","accessibilityPageSize","editorViewAccessibleLabel","editor.autoClosingBrackets.languageDefined","editor.autoClosingBrackets.beforeWhitespace","autoClosingBrackets","editor.autoClosingDelete.auto","autoClosingDelete","editor.autoClosingOvertype.auto","autoClosingOvertype","editor.autoClosingQuotes.languageDefined","editor.autoClosingQuotes.beforeWhitespace","autoClosingQuotes","editor.autoIndent.none","editor.autoIndent.keep","editor.autoIndent.brackets","editor.autoIndent.advanced","editor.autoIndent.full","autoIndent","editor.autoSurround.languageDefined","editor.autoSurround.quotes","editor.autoSurround.brackets","autoSurround","stickyTabStops","codeLens","codeLensFontFamily","codeLensFontSize","colorDecorators","columnSelection","copyWithSyntaxHighlighting","cursorBlinking","cursorSmoothCaretAnimation","cursorStyle","cursorSurroundingLines","cursorSurroundingLinesStyle.default","cursorSurroundingLinesStyle.all","cursorSurroundingLinesStyle","cursorWidth","dragAndDrop","fastScrollSensitivity","folding","foldingStrategy.auto","foldingStrategy.indentation","foldingStrategy","foldingHighlight","foldingImportsByDefault","unfoldOnClickAfterEndOfLine","fontFamily","formatOnPaste","formatOnType","glyphMargin","hideCursorInOverviewRuler","letterSpacing","linkedEditing","links","matchBrackets","mouseWheelScrollSensitivity","mouseWheelZoom","multiCursorMergeOverlapping","multiCursorModifier.ctrlCmd","multiCursorModifier.alt",{key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"multiCursorPaste.spread","multiCursorPaste.full","multiCursorPaste","occurrencesHighlight","overviewRulerBorder","peekWidgetDefaultFocus.tree","peekWidgetDefaultFocus.editor","peekWidgetDefaultFocus","definitionLinkOpensInPeek","quickSuggestionsDelay","renameOnType","renameOnTypeDeprecate","renderControlCharacters","renderFinalNewline","renderLineHighlight.all","renderLineHighlight","renderLineHighlightOnlyWhenFocus","renderWhitespace.boundary","renderWhitespace.selection","renderWhitespace.trailing","renderWhitespace","roundedSelection","scrollBeyondLastColumn","scrollBeyondLastLine","scrollPredominantAxis","selectionClipboard","selectionHighlight","showFoldingControls.always","showFoldingControls.mouseover","showFoldingControls","showUnused","showDeprecated","snippetSuggestions.top","snippetSuggestions.bottom","snippetSuggestions.inline","snippetSuggestions.none","snippetSuggestions","smoothScrolling","suggestFontSize","suggestLineHeight","suggestOnTriggerCharacters","suggestSelection.first","suggestSelection.recentlyUsed","suggestSelection.recentlyUsedByPrefix","suggestSelection","tabCompletion.on","tabCompletion.off","tabCompletion.onlySnippets","tabCompletion","unusualLineTerminators.auto","unusualLineTerminators.off","unusualLineTerminators.prompt","unusualLineTerminators","useTabStops","wordSeparators","wordWrap.off","wordWrap.on",{key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},{key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},{key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},{key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"wrappingIndent.none","wrappingIndent.same","wrappingIndent.indent","wrappingIndent.deepIndent","wrappingIndent","wrappingStrategy.simple","wrappingStrategy.advanced","wrappingStrategy"],"vs/editor/contrib/anchorSelect/anchorSelect":["selectionAnchor","anchorSet","setSelectionAnchor","goToSelectionAnchor","selectFromAnchorToCursor","cancelSelectionAnchor"],"vs/editor/browser/controller/coreCommands":["stickydesc","stickydesc","removedCursor"],"vs/editor/contrib/bracketMatching/bracketMatching":["overviewRulerBracketMatchForeground","smartSelect.jumpBracket","smartSelect.selectToBracket",{key:"miGoToBracket",comment:["&& denotes a mnemonic"]}],"vs/editor/browser/widget/codeEditorWidget":["cursors.maximum"],"vs/editor/contrib/caretOperations/transpose":["transposeLetters.label"],"vs/editor/contrib/caretOperations/caretOperations":["caret.moveLeft","caret.moveRight"],"vs/editor/browser/widget/diffEditorWidget":["diffInsertIcon","diffRemoveIcon","diff.tooLarge"],"vs/editor/contrib/clipboard/clipboard":[{key:"miCut",comment:["&& denotes a mnemonic"]},"actions.clipboard.cutLabel","actions.clipboard.cutLabel","actions.clipboard.cutLabel",{key:"miCopy",comment:["&& denotes a mnemonic"]},"actions.clipboard.copyLabel","actions.clipboard.copyLabel","actions.clipboard.copyLabel","copy as","copy as",{key:"miPaste",comment:["&& denotes a mnemonic"]},"actions.clipboard.pasteLabel","actions.clipboard.pasteLabel","actions.clipboard.pasteLabel","actions.clipboard.copyWithSyntaxHighlightingLabel"],"vs/editor/contrib/codelens/codelensController":["showLensOnLine"],"vs/editor/contrib/comment/comment":["comment.line",{key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"comment.line.add","comment.line.remove","comment.block",{key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]}],"vs/editor/contrib/contextmenu/contextmenu":["action.showContextMenu.label"],"vs/editor/contrib/cursorUndo/cursorUndo":["cursor.undo","cursor.redo"],"vs/editor/contrib/find/findController":["startFindAction",{key:"miFind",comment:["&& denotes a mnemonic"]},"startFindWithSelectionAction","findNextMatchAction","findPreviousMatchAction","nextSelectionMatchFindAction","previousSelectionMatchFindAction","startReplace",{key:"miReplace",comment:["&& denotes a mnemonic"]}],"vs/editor/contrib/folding/folding":["unfoldAction.label","unFoldRecursivelyAction.label","foldAction.label","toggleFoldAction.label","foldRecursivelyAction.label","foldAllBlockComments.label","foldAllMarkerRegions.label","unfoldAllMarkerRegions.label","foldAllExcept.label","unfoldAllExcept.label","foldAllAction.label","unfoldAllAction.label","gotoParentFold.label","gotoPreviousFold.label","gotoNextFold.label","foldLevelAction.label","foldBackgroundBackground","editorGutter.foldingControlForeground"],"vs/editor/contrib/fontZoom/fontZoom":["EditorFontZoomIn.label","EditorFontZoomOut.label","EditorFontZoomReset.label"],"vs/editor/contrib/format/formatActions":["formatDocument.label","formatSelection.label"],"vs/editor/contrib/inlineCompletions/ghostTextController":["inlineSuggestionVisible","inlineSuggestionHasIndentation","inlineSuggestionHasIndentationLessThanTabSize","action.inlineSuggest.showNext","action.inlineSuggest.showPrevious","action.inlineSuggest.trigger"],"vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition":["multipleResults"],"vs/editor/contrib/gotoSymbol/goToCommands":["peek.submenu","def.title","noResultWord","generic.noResults","actions.goToDecl.label","actions.goToDeclToSide.label","actions.previewDecl.label","decl.title","decl.noResultWord","decl.generic.noResults","actions.goToDeclaration.label","decl.noResultWord","decl.generic.noResults","actions.peekDecl.label","typedef.title","goToTypeDefinition.noResultWord","goToTypeDefinition.generic.noResults","actions.goToTypeDefinition.label","actions.peekTypeDefinition.label","impl.title","goToImplementation.noResultWord","goToImplementation.generic.noResults","actions.goToImplementation.label","actions.peekImplementation.label","references.no","references.noGeneric","goToReferences.label","ref.title","references.action.label","ref.title","label.generic","generic.title","generic.noResult","ref.title",{key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},{key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},{key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},{key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},{key:"miGotoReference",comment:["&& denotes a mnemonic"]}],"vs/editor/contrib/hover/hover":[{key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},{key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]}],"vs/editor/contrib/gotoError/gotoError":["markerAction.next.label","nextMarkerIcon","markerAction.previous.label","previousMarkerIcon","markerAction.nextInFiles.label",{key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"markerAction.previousInFiles.label",{key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]}],"vs/editor/contrib/indentation/indentation":["indentationToSpaces","indentationToTabs","configuredTabSize",{key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"indentUsingTabs","indentUsingSpaces","detectIndentation","editor.reindentlines","editor.reindentselectedlines"],"vs/editor/contrib/inPlaceReplace/inPlaceReplace":["InPlaceReplaceAction.previous.label","InPlaceReplaceAction.next.label"],"vs/editor/contrib/linesOperations/linesOperations":["lines.copyUp",{key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"lines.copyDown",{key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"duplicateSelection",{key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"lines.moveUp",{key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"lines.moveDown",{key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"lines.sortAscending","lines.sortDescending","lines.deleteDuplicates","lines.trimTrailingWhitespace","lines.delete","lines.indent","lines.outdent","lines.insertBefore","lines.insertAfter","lines.deleteAllLeft","lines.deleteAllRight","lines.joinLines","editor.transpose","editor.transformToUppercase","editor.transformToLowercase","editor.transformToTitlecase","editor.transformToSnakecase"],"vs/editor/contrib/links/links":["links.navigate.executeCmd","links.navigate.follow","links.navigate.kb.meta.mac","links.navigate.kb.meta","links.navigate.kb.alt.mac","links.navigate.kb.alt","tooltip.explanation","invalid.url","missing.url","label"],"vs/editor/contrib/linkedEditing/linkedEditing":["linkedEditing.label","editorLinkedEditingBackground"],"vs/editor/contrib/parameterHints/parameterHints":["parameterHints.trigger.label"],"vs/editor/contrib/multicursor/multicursor":["cursorAdded","cursorsAdded","mutlicursor.insertAbove",{key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"mutlicursor.insertBelow",{key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"mutlicursor.insertAtEndOfEachLineSelected",{key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"mutlicursor.addCursorsToBottom","mutlicursor.addCursorsToTop","addSelectionToNextFindMatch",{key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"addSelectionToPreviousFindMatch",{key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"moveSelectionToNextFindMatch","moveSelectionToPreviousFindMatch","selectAllOccurrencesOfFindMatch",{key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"changeAll.label"],"vs/editor/contrib/rename/rename":["no result","resolveRenameLocationFailed","label","quotableLabel","aria","rename.failedApply","rename.failed","rename.label","enablePreview"],"vs/editor/contrib/smartSelect/smartSelect":["smartSelect.expand",{key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"smartSelect.shrink",{key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]}],"vs/editor/contrib/snippet/snippetController2":["inSnippetMode","hasNextTabstop","hasPrevTabstop"],"vs/editor/contrib/suggest/suggestController":["aria.alert.snippet","suggest.trigger.label","accept.insert","accept.insert","accept.replace","accept.replace","accept.insert","detail.more","detail.less","suggest.reset.label"],"vs/editor/contrib/tokenization/tokenization":["forceRetokenize"],"vs/editor/contrib/unusualLineTerminators/unusualLineTerminators":["unusualLineTerminators.title","unusualLineTerminators.message","unusualLineTerminators.detail","unusualLineTerminators.fix","unusualLineTerminators.ignore"],"vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode":[{key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"toggle.tabMovesFocus.on","toggle.tabMovesFocus.off"],"vs/editor/contrib/wordHighlighter/wordHighlighter":["wordHighlight","wordHighlightStrong","wordHighlightBorder","wordHighlightStrongBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","wordHighlight.next.label","wordHighlight.previous.label","wordHighlight.trigger.label"],"vs/editor/contrib/wordOperations/wordOperations":["deleteInsideWord"],"vs/editor/common/standaloneStrings":["noSelection","singleSelectionRange","singleSelection","multiSelectionRange","multiSelection","emergencyConfOn","openingDocs","readonlyDiffEditor","editableDiffEditor","readonlyEditor","editableEditor","changeConfigToOnMac","changeConfigToOnWinLinux","auto_on","auto_off","tabFocusModeOnMsg","tabFocusModeOnMsgNoKb","tabFocusModeOffMsg","tabFocusModeOffMsgNoKb","openDocMac","openDocWinLinux","outroMsg","showAccessibilityHelpAction","inspectTokens","gotoLineActionLabel","helpQuickAccess","quickCommandActionLabel","quickCommandActionHelp","quickOutlineActionLabel","quickOutlineByCategoryActionLabel","editorViewAccessibleLabel","accessibilityHelpMessage","toggleHighContrast","bulkEditServiceSummary"],"vs/editor/browser/editorExtensions":[{key:"miUndo",comment:["&& denotes a mnemonic"]},"undo",{key:"miRedo",comment:["&& denotes a mnemonic"]},"redo",{key:"miSelectAll",comment:["&& denotes a mnemonic"]},"selectAll"],"vs/platform/theme/common/colorRegistry":["foreground","errorForeground","iconForeground","focusBorder","contrastBorder","activeContrastBorder","textLinkForeground","textLinkActiveForeground","textCodeBlockBackground","widgetShadow","inputBoxBackground","inputBoxForeground","inputBoxBorder","inputBoxActiveOptionBorder","inputOption.activeBackground","inputOption.activeForeground","inputValidationInfoBackground","inputValidationInfoForeground","inputValidationInfoBorder","inputValidationWarningBackground","inputValidationWarningForeground","inputValidationWarningBorder","inputValidationErrorBackground","inputValidationErrorForeground","inputValidationErrorBorder","dropdownBackground","dropdownForeground","buttonForeground","buttonBackground","buttonHoverBackground","badgeBackground","badgeForeground","scrollbarShadow","scrollbarSliderBackground","scrollbarSliderHoverBackground","scrollbarSliderActiveBackground","progressBarBackground","editorError.background","editorError.foreground","errorBorder","editorWarning.background","editorWarning.foreground","warningBorder","editorInfo.background","editorInfo.foreground","infoBorder","editorHint.foreground","hintBorder","editorBackground","editorForeground","editorWidgetBackground","editorWidgetForeground","editorWidgetBorder","editorWidgetResizeBorder","pickerBackground","pickerForeground","pickerTitleBackground","pickerGroupForeground","pickerGroupBorder","keybindingLabelBackground","keybindingLabelForeground","keybindingLabelBorder","keybindingLabelBottomBorder","editorSelectionBackground","editorSelectionForeground","editorInactiveSelection","editorSelectionHighlight","editorSelectionHighlightBorder","editorFindMatch","findMatchHighlight","findRangeHighlight","editorFindMatchBorder","findMatchHighlightBorder","findRangeHighlightBorder","hoverHighlight","hoverBackground","hoverForeground","hoverBorder","statusBarBackground","activeLinkForeground","editorInlayHintForeground","editorInlayHintBackground","editorInlayHintForegroundTypes","editorInlayHintBackgroundTypes","editorInlayHintForegroundParameter","editorInlayHintBackgroundParameter","editorLightBulbForeground","editorLightBulbAutoFixForeground","diffEditorInserted","diffEditorRemoved","diffEditorInsertedOutline","diffEditorRemovedOutline","diffEditorBorder","diffDiagonalFill","listFocusBackground","listFocusForeground","listFocusOutline","listActiveSelectionBackground","listActiveSelectionForeground","listActiveSelectionIconForeground","listInactiveSelectionBackground","listInactiveSelectionForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listInactiveFocusOutline","listHoverBackground","listHoverForeground","listDropBackground","highlight","listFocusHighlightForeground","listFilterWidgetBackground","listFilterWidgetOutline","listFilterWidgetNoMatchesOutline","treeIndentGuidesStroke","treeIndentGuidesStroke","quickInput.list.focusBackground deprecation","quickInput.listFocusForeground","quickInput.listFocusIconForeground","quickInput.listFocusBackground","menuBorder","menuForeground","menuBackground","menuSelectionForeground","menuSelectionBackground","menuSelectionBorder","menuSeparatorBackground","toolbarHoverBackground","snippetTabstopHighlightBackground","snippetTabstopHighlightBorder","snippetFinalTabstopHighlightBackground","snippetFinalTabstopHighlightBorder","overviewRulerFindMatchForeground","overviewRulerSelectionHighlightForeground","minimapFindMatchHighlight","minimapSelectionOccurrenceHighlight","minimapSelectionHighlight","minimapError","overviewRuleWarning","minimapBackground","minimapForegroundOpacity","minimapSliderBackground","minimapSliderHoverBackground","minimapSliderActiveBackground","problemsErrorIconForeground","problemsWarningIconForeground","problemsInfoIconForeground"],"vs/editor/contrib/quickAccess/gotoLineQuickAccess":["cannotRunGotoLine","gotoLineColumnLabel","gotoLineLabel","gotoLineLabelEmptyWithLimit","gotoLineLabelEmpty"],"vs/editor/common/editorContextKeys":["editorTextFocus","editorFocus","textInputFocus","editorReadonly","inDiffEditor","editorColumnSelection","editorHasSelection","editorHasMultipleSelections","editorTabMovesFocus","editorHoverVisible","inCompositeEditor","editorLangId","editorHasCompletionItemProvider","editorHasCodeActionsProvider","editorHasCodeLensProvider","editorHasDefinitionProvider","editorHasDeclarationProvider","editorHasImplementationProvider","editorHasTypeDefinitionProvider","editorHasHoverProvider","editorHasDocumentHighlightProvider","editorHasDocumentSymbolProvider","editorHasReferenceProvider","editorHasRenameProvider","editorHasSignatureHelpProvider","editorHasInlayHintsProvider","editorHasDocumentFormattingProvider","editorHasDocumentSelectionFormattingProvider","editorHasMultipleDocumentFormattingProvider","editorHasMultipleDocumentSelectionFormattingProvider"],"vs/editor/contrib/symbolIcons/symbolIcons":["symbolIcon.arrayForeground","symbolIcon.booleanForeground","symbolIcon.classForeground","symbolIcon.colorForeground","symbolIcon.constantForeground","symbolIcon.constructorForeground","symbolIcon.enumeratorForeground","symbolIcon.enumeratorMemberForeground","symbolIcon.eventForeground","symbolIcon.fieldForeground","symbolIcon.fileForeground","symbolIcon.folderForeground","symbolIcon.functionForeground","symbolIcon.interfaceForeground","symbolIcon.keyForeground","symbolIcon.keywordForeground","symbolIcon.methodForeground","symbolIcon.moduleForeground","symbolIcon.namespaceForeground","symbolIcon.nullForeground","symbolIcon.numberForeground","symbolIcon.objectForeground","symbolIcon.operatorForeground","symbolIcon.packageForeground","symbolIcon.propertyForeground","symbolIcon.referenceForeground","symbolIcon.snippetForeground","symbolIcon.stringForeground","symbolIcon.structForeground","symbolIcon.textForeground","symbolIcon.typeParameterForeground","symbolIcon.unitForeground","symbolIcon.variableForeground"],"vs/editor/contrib/quickAccess/gotoSymbolQuickAccess":["cannotRunGotoSymbolWithoutEditor","cannotRunGotoSymbolWithoutSymbolProvider","noMatchingSymbolResults","noSymbolResults","openToSide","openToBottom","symbols","property","method","function","_constructor","variable","class","struct","event","operator","interface","namespace","package","typeParameter","modules","property","enum","enumMember","string","file","array","number","boolean","object","key","field","constant"],"vs/platform/quickinput/browser/helpQuickAccess":["globalCommands","editorCommands","helpPickAriaLabel"],"vs/editor/contrib/gotoSymbol/peek/referencesController":["referenceSearchVisible","labelLoading","metaTitle.N"],"vs/editor/common/modes/modesRegistry":["plainText.alias"],"vs/editor/common/view/editorColorRegistry":["lineHighlight","lineHighlightBorderBox","rangeHighlight","rangeHighlightBorder","symbolHighlight","symbolHighlightBorder","caret","editorCursorBackground","editorWhitespaces","editorIndentGuides","editorActiveIndentGuide","editorLineNumbers","editorActiveLineNumber","deprecatedEditorActiveLineNumber","editorActiveLineNumber","editorRuler","editorCodeLensForeground","editorBracketMatchBackground","editorBracketMatchBorder","editorOverviewRulerBorder","editorOverviewRulerBackground","editorGutter","unnecessaryCodeBorder","unnecessaryCodeOpacity","editorGhostTextBorder","editorGhostTextForeground","overviewRulerRangeHighlight","overviewRuleError","overviewRuleWarning","overviewRuleInfo","editorBracketHighlightForeground1","editorBracketHighlightForeground2","editorBracketHighlightForeground3","editorBracketHighlightForeground4","editorBracketHighlightForeground5","editorBracketHighlightForeground6","editorBracketHighlightUnexpectedBracketForeground","editorBracketPairGuide.background1","editorBracketPairGuide.background2","editorBracketPairGuide.background3","editorBracketPairGuide.background4","editorBracketPairGuide.background5","editorBracketPairGuide.background6","editorBracketPairGuide.activeBackground1","editorBracketPairGuide.activeBackground2","editorBracketPairGuide.activeBackground3","editorBracketPairGuide.activeBackground4","editorBracketPairGuide.activeBackground5","editorBracketPairGuide.activeBackground6"],"vs/editor/browser/widget/diffReview":["diffReviewInsertIcon","diffReviewRemoveIcon","diffReviewCloseIcon","label.close","no_lines_changed","one_line_changed","more_lines_changed",{key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"blankLine",{key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"equalLine","insertLine","deleteLine","editor.action.diffReview.next","editor.action.diffReview.prev"],"vs/editor/browser/widget/inlineDiffMargin":["diff.clipboard.copyDeletedLinesContent.label","diff.clipboard.copyDeletedLinesContent.single.label","diff.clipboard.copyChangedLinesContent.label","diff.clipboard.copyChangedLinesContent.single.label","diff.clipboard.copyDeletedLineContent.label","diff.clipboard.copyChangedLineContent.label","diff.inline.revertChange.label","diff.clipboard.copyDeletedLineContent.label","diff.clipboard.copyChangedLineContent.label"],"vs/platform/theme/common/iconRegistry":["iconDefintion.fontId","iconDefintion.fontCharacter","widgetClose"],"vs/editor/contrib/codeAction/codeActionCommands":["args.schema.kind","args.schema.apply","args.schema.apply.first","args.schema.apply.ifSingle","args.schema.apply.never","args.schema.preferred","applyCodeActionFailed","quickfix.trigger.label","editor.action.quickFix.noneMessage","editor.action.codeAction.noneMessage.preferred.kind","editor.action.codeAction.noneMessage.kind","editor.action.codeAction.noneMessage.preferred","editor.action.codeAction.noneMessage","refactor.label","editor.action.refactor.noneMessage.preferred.kind","editor.action.refactor.noneMessage.kind","editor.action.refactor.noneMessage.preferred","editor.action.refactor.noneMessage","source.label","editor.action.source.noneMessage.preferred.kind","editor.action.source.noneMessage.kind","editor.action.source.noneMessage.preferred","editor.action.source.noneMessage","organizeImports.label","editor.action.organize.noneMessage","fixAll.label","fixAll.noneMessage","autoFix.label","editor.action.autoFix.noneMessage"],"vs/base/browser/ui/actionbar/actionViewItems":[{key:"titleLabel",comment:["action title","action keybinding"]}],"vs/base/common/actions":["submenu.empty"],"vs/editor/contrib/find/findWidget":["findSelectionIcon","findCollapsedIcon","findExpandedIcon","findReplaceIcon","findReplaceAllIcon","findPreviousMatchIcon","findNextMatchIcon","label.find","placeholder.find","label.previousMatchButton","label.nextMatchButton","label.toggleSelectionFind","label.closeButton","label.replace","placeholder.replace","label.replaceButton","label.replaceAllButton","label.toggleReplaceButton","title.matchesCountLimit","label.matchesLocation","label.noResults","ariaSearchNoResultEmpty","ariaSearchNoResult","ariaSearchNoResultWithLineNum","ariaSearchNoResultWithLineNumNoCurrentMatch","ctrlEnter.keybindingChanged"],"vs/editor/contrib/folding/foldingDecorations":["foldingExpandedIcon","foldingCollapsedIcon"],"vs/editor/contrib/peekView/peekView":["inReferenceSearchEditor","label.close","peekViewTitleBackground","peekViewTitleForeground","peekViewTitleInfoForeground","peekViewBorder","peekViewResultsBackground","peekViewResultsMatchForeground","peekViewResultsFileForeground","peekViewResultsSelectionBackground","peekViewResultsSelectionForeground","peekViewEditorBackground","peekViewEditorGutterBackground","peekViewResultsMatchHighlight","peekViewEditorMatchHighlight","peekViewEditorMatchHighlightBorder"],"vs/editor/contrib/gotoSymbol/referencesModel":["aria.oneReference",{key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"aria.fileReferences.1","aria.fileReferences.N","aria.result.0","aria.result.1","aria.result.n1","aria.result.nm"],"vs/editor/contrib/gotoSymbol/symbolNavigation":["hasSymbols","location.kb","location"],"vs/editor/contrib/message/messageController":["messageVisible","editor.readonly"],"vs/editor/contrib/gotoError/gotoErrorWidget":["Error","Warning","Info","Hint","marker aria","problems","change","editorMarkerNavigationError","editorMarkerNavigationErrorHeaderBackground","editorMarkerNavigationWarning","editorMarkerNavigationWarningBackground","editorMarkerNavigationInfo","editorMarkerNavigationInfoHeaderBackground","editorMarkerNavigationBackground"],"vs/editor/contrib/parameterHints/parameterHintsWidget":["parameterHintsNextIcon","parameterHintsPreviousIcon","hint","editorHoverWidgetHighlightForeground"],"vs/platform/configuration/common/configurationRegistry":["defaultLanguageConfigurationOverrides.title","overrideSettings.defaultDescription","overrideSettings.errorMessage","config.property.empty","config.property.languageDefault","config.property.duplicate"],"vs/editor/contrib/rename/renameInputField":["renameInputVisible","renameAriaLabel",{key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']}],"vs/editor/contrib/suggest/suggest":["suggestWidgetVisible","suggestWidgetDetailsVisible","suggestWidgetMultipleSuggestions","suggestionMakesTextEdit","acceptSuggestionOnEnter","suggestionHasInsertAndReplaceRange","suggestionInsertMode","suggestionCanResolve"],"vs/editor/contrib/suggest/suggestWidget":["editorSuggestWidgetBackground","editorSuggestWidgetBorder","editorSuggestWidgetForeground","editorSuggestWidgetSelectedForeground","editorSuggestWidgetSelectedIconForeground","editorSuggestWidgetSelectedBackground","editorSuggestWidgetHighlightForeground","editorSuggestWidgetFocusHighlightForeground","suggestWidget.loading","suggestWidget.noSuggestions","ariaCurrenttSuggestionReadDetails","suggest"],"vs/editor/common/config/commonEditorConfig":["editorConfigurationTitle","tabSize","insertSpaces","detectIndentation","trimAutoWhitespace","largeFileOptimizations","wordBasedSuggestions","wordBasedSuggestionsMode.currentDocument","wordBasedSuggestionsMode.matchingDocuments","wordBasedSuggestionsMode.allDocuments","wordBasedSuggestionsMode","semanticHighlighting.true","semanticHighlighting.false","semanticHighlighting.configuredByTheme","semanticHighlighting.enabled","stablePeek","maxTokenizationLineLength","schema.brackets","schema.openBracket","schema.closeBracket","schema.colorizedBracketPairs","schema.openBracket","schema.closeBracket","maxComputationTime","maxFileSize","sideBySide","ignoreTrimWhitespace","renderIndicators","codeLens","wordWrap.off","wordWrap.on","wordWrap.inherit"],"vs/platform/contextkey/common/contextkeys":["isWindows"],"vs/editor/contrib/gotoSymbol/peek/referencesWidget":["missingPreviewMessage","noResults","peekView.alternateTitle"],"vs/platform/list/browser/listService":["workbenchConfigurationTitle","multiSelectModifier.ctrlCmd","multiSelectModifier.alt",{key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},{key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"horizontalScrolling setting","tree indent setting","render tree indent guides","list smoothScrolling setting","Mouse Wheel Scroll Sensitivity","Fast Scroll Sensitivity","keyboardNavigationSettingKey.simple","keyboardNavigationSettingKey.highlight","keyboardNavigationSettingKey.filter","keyboardNavigationSettingKey","automatic keyboard navigation setting","expand mode"],"vs/platform/quickinput/browser/commandsQuickAccess":["commandPickAriaLabelWithKeybinding","recentlyUsed","morecCommands","canNotRun"],"vs/platform/keybinding/common/abstractKeybindingService":["first.chord","missing.chord"],"vs/platform/contextkey/browser/contextKeyService":["getContextKeyInfo"],"vs/platform/markers/common/markers":["sev.error","sev.warning","sev.info"],"vs/platform/undoRedo/common/undoRedoService":[{key:"externalRemoval",comment:["{0} is a list of filenames"]},{key:"noParallelUniverses",comment:["{0} is a list of filenames"]},{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},{key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},{key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},{key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"confirmWorkspace",{key:"ok",comment:["{0} denotes a number that is > 1"]},"nok","cancel",{key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"confirmDifferentSource","confirmDifferentSource.yes","cancel",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},{key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},{key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},{key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},{key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]}],"vs/editor/browser/core/keybindingCancellation":["cancellableOperation"],"vs/editor/common/model/editStack":["edit"],"vs/editor/browser/controller/textAreaHandler":["editor","accessibilityOffAriaLabel"],"vs/base/browser/ui/findinput/findInputCheckboxes":["caseDescription","wordsDescription","regexDescription"],"vs/platform/actions/browser/menuEntryActionViewItem":["titleAndKb","titleAndKb"],"vs/editor/contrib/hover/markerHoverParticipant":["view problem","noQuickFixes","checkingForQuickFixes","noQuickFixes","quick fixes"],"vs/editor/contrib/hover/markdownHoverParticipant":["modesContentHover.loading","too many characters"],"vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant":["showNextInlineSuggestion","showPreviousInlineSuggestion","acceptInlineSuggestion","inlineSuggestionFollows"],"vs/editor/contrib/snippet/snippetVariables":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","SundayShort","MondayShort","TuesdayShort","WednesdayShort","ThursdayShort","FridayShort","SaturdayShort","January","February","March","April","May","June","July","August","September","October","November","December","JanuaryShort","FebruaryShort","MarchShort","AprilShort","MayShort","JuneShort","JulyShort","AugustShort","SeptemberShort","OctoberShort","NovemberShort","DecemberShort"],"vs/editor/contrib/suggest/suggestWidgetStatus":["ddd"],"vs/editor/contrib/suggest/suggestWidgetRenderer":["suggestMoreInfoIcon","readMore"],"vs/editor/contrib/suggest/suggestWidgetDetails":["details.close","loading"],"vs/editor/contrib/gotoSymbol/peek/referencesTree":["referencesCount","referenceCount","treeAriaLabel"],"vs/base/common/errorMessage":["stackTrace.format","nodeExceptionMessage","error.defaultMessage","error.defaultMessage","error.moreErrors","error.defaultMessage"],"vs/editor/contrib/codeAction/lightBulbWidget":["preferredcodeActionWithKb","codeActionWithKb","codeAction"],"vs/base/browser/ui/findinput/findInput":["defaultLabel"],"vs/base/browser/ui/findinput/replaceInput":["defaultLabel","label.preserveCaseCheckbox"],"vs/base/common/keybindingLabels":[{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},{key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},{key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},{key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},{key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},{key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]}],"vs/editor/contrib/colorPicker/colorPickerWidget":["clickToToggleColorOptions"],"vs/base/browser/ui/tree/abstractTree":["clear","disable filter on type","enable filter on type","empty","found"],"vs/base/browser/ui/menu/menu":[{key:"titleLabel",comment:["action title","action keybinding"]}],"vs/base/parts/quickinput/browser/quickInput":["quickInput.back","inputModeEntry","quickInput.steps","quickInputBox.ariaLabel",{key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},{key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"ok","custom","quickInput.backWithKeybinding","quickInput.back"],"vs/base/browser/ui/inputbox/inputBox":["alertErrorMessage","alertWarningMessage","alertInfoMessage",{key:"history.inputbox.hint",comment:["Text will be prefixed with ⇅ plus a single space, then used as a hint where input field keeps history"]}],"vs/base/browser/ui/iconLabel/iconLabelHover":["iconLabel.loading"],"vs/base/parts/quickinput/browser/quickInputList":["quickInput"],"vs/base/browser/ui/keybindingLabel/keybindingLabel":["unbound"]},messages:{"vs/editor/contrib/format/format":["Made 1 formatting edit on line {0}","Made {0} formatting edits on line {1}","Made 1 formatting edit between lines {0} and {1}","Made {0} formatting edits between lines {1} and {2}"],"vs/editor/common/config/editorOptions":["The editor will use platform APIs to detect when a Screen Reader is attached.","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled.","The editor will never be optimized for usage with a Screen Reader.","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.","Controls whether a space character is inserted when commenting.","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.","Controls whether copying without a selection copies the current line.","Controls whether the cursor should jump to find matches while typing.","Never seed search string from the editor selection.","Always seed search string from the editor selection, including word at cursor position.","Only seed search string from the editor selection.","Controls whether the search string in the Find Widget is seeded from the editor selection.","Never turn on Find in Selection automatically (default).","Always turn on Find in Selection automatically.","Turn on Find in Selection automatically when multiple lines of content are selected.","Controls the condition for turning on Find in Selection automatically.","Controls whether the Find Widget should read or modify the shared find clipboard on macOS.","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property.","Controls the font size in pixels.",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.','Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.',"Show peek view of the results (default)","Go to the primary result and show a peek view","Go to the primary result and enable peek-less navigation to others","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.","Controls the behavior the 'Go to References'-command when multiple target locations exist.","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.","Controls whether the hover is shown.","Controls the delay in milliseconds after which the hover is shown.","Controls whether the hover should remain visible when mouse is moved over it.","Prefer showing hovers above the line, if there's space.","Enables the code action lightbulb in the editor.","Enables the inlay hints in the editor.","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.","Controls whether the minimap is shown.","The minimap has the same size as the editor contents (and might scroll).","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling).","The minimap will shrink as necessary to never be larger than the editor (no scrolling).","Controls the size of the minimap.","Controls the side where to render the minimap.","Controls when the minimap slider is shown.","Scale of content drawn in the minimap: 1, 2 or 3.","Render the actual characters on a line as opposed to color blocks.","Limit the width of the minimap to render at most a certain number of columns.","Controls the amount of space between the top edge of the editor and the first line.","Controls the amount of space between the bottom edge of the editor and the last line.","Enables a pop-up that shows parameter documentation and type information as you type.","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.","Enable quick suggestions inside strings.","Enable quick suggestions inside comments.","Enable quick suggestions outside of strings and comments.","Controls whether suggestions should automatically show up while typing.","Line numbers are not rendered.","Line numbers are rendered as absolute number.","Line numbers are rendered as distance in lines to cursor position.","Line numbers are rendered every 10 lines.","Controls the display of line numbers.","Number of monospace characters at which this editor ruler will render.","Color of this editor ruler.","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.","The vertical scrollbar will be visible only when necessary.","The vertical scrollbar will always be visible.","The vertical scrollbar will always be hidden.","Controls the visibility of the vertical scrollbar.","The horizontal scrollbar will be visible only when necessary.","The horizontal scrollbar will always be visible.","The horizontal scrollbar will always be hidden.","Controls the visibility of the horizontal scrollbar.","The width of the vertical scrollbar.","The height of the horizontal scrollbar.","Controls whether clicks scroll by page or jump to click position.","Controls whether to automatically show inline suggestions in the editor.","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.","Enables bracket pair guides.","Enables bracket pair guides only for the active bracket pair.","Disables bracket pair guides.","Controls whether bracket pair guides are enabled or not.","Enables horizontal guides as addition to vertical bracket pair guides.","Enables horizontal guides only for the active bracket pair.","Disables horizontal bracket pair guides.","Controls whether horizontal bracket pair guides are enabled or not.","Controls whether bracket pair guides are enabled or not.","Controls whether the editor should render indent guides.","Controls whether the editor should highlight the active indent guide.","Insert suggestion without overwriting text right of the cursor.","Insert suggestion and overwrite text right of the cursor.","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.","Controls whether filtering and sorting suggestions accounts for small typos.","Controls whether sorting favors words that appear close to the cursor.","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).","Controls whether an active snippet prevents quick suggestions.","Controls whether to show or hide icons in suggestions.","Controls the visibility of the status bar at the bottom of the suggest widget.","Controls whether to preview the suggestion outcome in the editor.","Controls whether suggest details show inline with the label or only in the details widget","This setting is deprecated. The suggest widget can now be resized.","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.","When enabled IntelliSense shows `method`-suggestions.","When enabled IntelliSense shows `function`-suggestions.","When enabled IntelliSense shows `constructor`-suggestions.","When enabled IntelliSense shows `deprecated`-suggestions.","When enabled IntelliSense shows `field`-suggestions.","When enabled IntelliSense shows `variable`-suggestions.","When enabled IntelliSense shows `class`-suggestions.","When enabled IntelliSense shows `struct`-suggestions.","When enabled IntelliSense shows `interface`-suggestions.","When enabled IntelliSense shows `module`-suggestions.","When enabled IntelliSense shows `property`-suggestions.","When enabled IntelliSense shows `event`-suggestions.","When enabled IntelliSense shows `operator`-suggestions.","When enabled IntelliSense shows `unit`-suggestions.","When enabled IntelliSense shows `value`-suggestions.","When enabled IntelliSense shows `constant`-suggestions.","When enabled IntelliSense shows `enum`-suggestions.","When enabled IntelliSense shows `enumMember`-suggestions.","When enabled IntelliSense shows `keyword`-suggestions.","When enabled IntelliSense shows `text`-suggestions.","When enabled IntelliSense shows `color`-suggestions.","When enabled IntelliSense shows `file`-suggestions.","When enabled IntelliSense shows `reference`-suggestions.","When enabled IntelliSense shows `customcolor`-suggestions.","When enabled IntelliSense shows `folder`-suggestions.","When enabled IntelliSense shows `typeParameter`-suggestions.","When enabled IntelliSense shows `snippet`-suggestions.","When enabled IntelliSense shows `user`-suggestions.","When enabled IntelliSense shows `issues`-suggestions.","Whether leading and trailing whitespace should always be selected.","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.","Only accept a suggestion with `Enter` when it makes a textual change.","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.","Editor content","Use language configurations to determine when to autoclose brackets.","Autoclose brackets only when the cursor is to the left of whitespace.","Controls whether the editor should automatically close brackets after the user adds an opening bracket.","Remove adjacent closing quotes or brackets only if they were automatically inserted.","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.","Type over closing quotes or brackets only if they were automatically inserted.","Controls whether the editor should type over closing quotes or brackets.","Use language configurations to determine when to autoclose quotes.","Autoclose quotes only when the cursor is to the left of whitespace.","Controls whether the editor should automatically close quotes after the user adds an opening quote.","The editor will not insert indentation automatically.","The editor will keep the current line's indentation.","The editor will keep the current line's indentation and honor language defined brackets.","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages.","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.","Use language configurations to determine when to automatically surround selections.","Surround with quotes but not brackets.","Surround with brackets but not quotes.","Controls whether the editor should automatically surround selections when typing quotes or brackets.","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.","Controls whether the editor shows CodeLens.","Controls the font family for CodeLens.","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.","Controls whether the editor should render the inline color decorators and color picker.","Enable that the selection with the mouse and keys is doing column selection.","Controls whether syntax highlighting should be copied into the clipboard.","Control the cursor animation style.","Controls whether the smooth caret animation should be enabled.","Controls the cursor style.","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API.","`cursorSurroundingLines` is enforced always.","Controls when `cursorSurroundingLines` should be enforced.","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.","Controls whether the editor should allow moving selections via drag and drop.","Scrolling speed multiplier when pressing `Alt`.","Controls whether the editor has code folding enabled.","Use a language-specific folding strategy if available, else the indentation-based one.","Use the indentation-based folding strategy.","Controls the strategy for computing folding ranges.","Controls whether the editor should highlight folded ranges.","Controls whether the editor automatically collapses import ranges.","Controls whether clicking on the empty content after a folded line will unfold the line.","Controls the font family.","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.","Controls whether the editor should automatically format the line after typing.","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.","Controls whether the cursor should be hidden in the overview ruler.","Controls the letter spacing in pixels.","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.","Controls whether the editor should detect links and make them clickable.","Highlight matching brackets.","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.","Merge multiple cursors when they are overlapping.","Maps to `Control` on Windows and Linux and to `Command` on macOS.","Maps to `Alt` on Windows and Linux and to `Option` on macOS.","The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).","Each cursor pastes a single line of the text.","Each cursor pastes the full text.","Controls pasting when the line count of the pasted text matches the cursor count.","Controls whether the editor should highlight semantic symbol occurrences.","Controls whether a border should be drawn around the overview ruler.","Focus the tree when opening peek","Focus the editor when opening peek","Controls whether to focus the inline editor or the tree in the peek widget.","Controls whether the Go to Definition mouse gesture always opens the peek widget.","Controls the delay in milliseconds after which quick suggestions will show up.","Controls whether the editor auto renames on type.","Deprecated, use `editor.linkedEditing` instead.","Controls whether the editor should render control characters.","Render last line number when the file ends with a newline.","Highlights both the gutter and the current line.","Controls how the editor should render the current line highlight.","Controls if the editor should render the current line highlight only when the editor is focused.","Render whitespace characters except for single spaces between words.","Render whitespace characters only on selected text.","Render only trailing whitespace characters.","Controls how the editor should render whitespace characters.","Controls whether selections should have rounded corners.","Controls the number of extra characters beyond which the editor will scroll horizontally.","Controls whether the editor will scroll beyond the last line.","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.","Controls whether the Linux primary clipboard should be supported.","Controls whether the editor should highlight matches similar to the selection.","Always show the folding controls.","Only show the folding controls when the mouse is over the gutter.","Controls when the folding controls on the gutter are shown.","Controls fading out of unused code.","Controls strikethrough deprecated variables.","Show snippet suggestions on top of other suggestions.","Show snippet suggestions below other suggestions.","Show snippets suggestions with other suggestions.","Do not show snippet suggestions.","Controls whether snippets are shown with other suggestions and how they are sorted.","Controls whether the editor will scroll using an animation.","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.","Controls whether suggestions should automatically show up when typing trigger characters.","Always select the first suggestion.","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently.","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.","Controls how suggestions are pre-selected when showing the suggest list.","Tab complete will insert the best matching suggestion when pressing tab.","Disable tab completions.","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.","Enables tab completions.","Unusual line terminators are automatically removed.","Unusual line terminators are ignored.","Unusual line terminators prompt to be removed.","Remove unusual line terminators that might cause problems.","Inserting and deleting whitespace follows tab stops.","Characters that will be used as word separators when doing word related navigations or operations.","Lines will never wrap.","Lines will wrap at the viewport width.","Lines will wrap at `#editor.wordWrapColumn#`.","Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.","Controls how lines should wrap.","Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.","No indentation. Wrapped lines begin at column 1.","Wrapped lines get the same indentation as the parent.","Wrapped lines get +1 indentation toward the parent.","Wrapped lines get +2 indentation toward the parent.","Controls the indentation of wrapped lines.","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width.","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.","Controls the algorithm that computes wrapping points."],"vs/editor/contrib/anchorSelect/anchorSelect":["Selection Anchor","Anchor set at {0}:{1}","Set Selection Anchor","Go to Selection Anchor","Select from Anchor to Cursor","Cancel Selection Anchor"],"vs/editor/browser/controller/coreCommands":["Stick to the end even when going to longer lines","Stick to the end even when going to longer lines","Removed secondary cursors"],"vs/editor/contrib/bracketMatching/bracketMatching":["Overview ruler marker color for matching brackets.","Go to Bracket","Select to Bracket","Go to &&Bracket"],"vs/editor/browser/widget/codeEditorWidget":["The number of cursors has been limited to {0}."],"vs/editor/contrib/caretOperations/transpose":["Transpose Letters"],"vs/editor/contrib/caretOperations/caretOperations":["Move Selected Text Left","Move Selected Text Right"],"vs/editor/browser/widget/diffEditorWidget":["Line decoration for inserts in the diff editor.","Line decoration for removals in the diff editor.","Cannot compare files because one file is too large."],"vs/editor/contrib/clipboard/clipboard":["Cu&&t","Cut","Cut","Cut","&&Copy","Copy","Copy","Copy","Copy As","Copy As","&&Paste","Paste","Paste","Paste","Copy With Syntax Highlighting"],"vs/editor/contrib/codelens/codelensController":["Show CodeLens Commands For Current Line"],"vs/editor/contrib/comment/comment":["Toggle Line Comment","&&Toggle Line Comment","Add Line Comment","Remove Line Comment","Toggle Block Comment","Toggle &&Block Comment"],"vs/editor/contrib/contextmenu/contextmenu":["Show Editor Context Menu"],"vs/editor/contrib/cursorUndo/cursorUndo":["Cursor Undo","Cursor Redo"],"vs/editor/contrib/find/findController":["Find","&&Find","Find With Selection","Find Next","Find Previous","Find Next Selection","Find Previous Selection","Replace","&&Replace"],"vs/editor/contrib/folding/folding":["Unfold","Unfold Recursively","Fold","Toggle Fold","Fold Recursively","Fold All Block Comments","Fold All Regions","Unfold All Regions","Fold All Regions Except Selected","Unfold All Regions Except Selected","Fold All","Unfold All","Go to Parent Fold","Go to Previous Folding Range","Go to Next Folding Range","Fold Level {0}","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations.","Color of the folding control in the editor gutter."],"vs/editor/contrib/fontZoom/fontZoom":["Editor Font Zoom In","Editor Font Zoom Out","Editor Font Zoom Reset"],"vs/editor/contrib/format/formatActions":["Format Document","Format Selection"],"vs/editor/contrib/inlineCompletions/ghostTextController":["Whether an inline suggestion is visible","Whether the inline suggestion starts with whitespace","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab","Show Next Inline Suggestion","Show Previous Inline Suggestion","Trigger Inline Suggestion"],"vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition":["Click to show {0} definitions."],"vs/editor/contrib/gotoSymbol/goToCommands":["Peek","Definitions","No definition found for '{0}'","No definition found","Go to Definition","Open Definition to the Side","Peek Definition","Declarations","No declaration found for '{0}'","No declaration found","Go to Declaration","No declaration found for '{0}'","No declaration found","Peek Declaration","Type Definitions","No type definition found for '{0}'","No type definition found","Go to Type Definition","Peek Type Definition","Implementations","No implementation found for '{0}'","No implementation found","Go to Implementations","Peek Implementations","No references found for '{0}'","No references found","Go to References","References","Peek References","References","Go to Any Symbol","Locations","No results for '{0}'","References","Go to &&Definition","Go to &&Declaration","Go to &&Type Definition","Go to &&Implementations","Go to &&References"],"vs/editor/contrib/hover/hover":["Show Hover","Show Definition Preview Hover"],"vs/editor/contrib/gotoError/gotoError":["Go to Next Problem (Error, Warning, Info)","Icon for goto next marker.","Go to Previous Problem (Error, Warning, Info)","Icon for goto previous marker.","Go to Next Problem in Files (Error, Warning, Info)","Next &&Problem","Go to Previous Problem in Files (Error, Warning, Info)","Previous &&Problem"],"vs/editor/contrib/indentation/indentation":["Convert Indentation to Spaces","Convert Indentation to Tabs","Configured Tab Size","Select Tab Size for Current File","Indent Using Tabs","Indent Using Spaces","Detect Indentation from Content","Reindent Lines","Reindent Selected Lines"],"vs/editor/contrib/inPlaceReplace/inPlaceReplace":["Replace with Previous Value","Replace with Next Value"],"vs/editor/contrib/linesOperations/linesOperations":["Copy Line Up","&&Copy Line Up","Copy Line Down","Co&&py Line Down","Duplicate Selection","&&Duplicate Selection","Move Line Up","Mo&&ve Line Up","Move Line Down","Move &&Line Down","Sort Lines Ascending","Sort Lines Descending","Delete Duplicate Lines","Trim Trailing Whitespace","Delete Line","Indent Line","Outdent Line","Insert Line Above","Insert Line Below","Delete All Left","Delete All Right","Join Lines","Transpose characters around the cursor","Transform to Uppercase","Transform to Lowercase","Transform to Title Case","Transform to Snake Case"],"vs/editor/contrib/links/links":["Execute command","Follow link","cmd + click","ctrl + click","option + click","alt + click","Execute command {0}","Failed to open this link because it is not well-formed: {0}","Failed to open this link because its target is missing.","Open Link"],"vs/editor/contrib/linkedEditing/linkedEditing":["Start Linked Editing","Background color when the editor auto renames on type."],"vs/editor/contrib/parameterHints/parameterHints":["Trigger Parameter Hints"],"vs/editor/contrib/multicursor/multicursor":["Cursor added: {0}","Cursors added: {0}","Add Cursor Above","&&Add Cursor Above","Add Cursor Below","A&&dd Cursor Below","Add Cursors to Line Ends","Add C&&ursors to Line Ends","Add Cursors To Bottom","Add Cursors To Top","Add Selection To Next Find Match","Add &&Next Occurrence","Add Selection To Previous Find Match","Add P&&revious Occurrence","Move Last Selection To Next Find Match","Move Last Selection To Previous Find Match","Select All Occurrences of Find Match","Select All &&Occurrences","Change All Occurrences"],"vs/editor/contrib/rename/rename":["No result.","An unknown error occurred while resolving rename location","Renaming '{0}'","Renaming {0}","Successfully renamed '{0}' to '{1}'. Summary: {2}","Rename failed to apply edits","Rename failed to compute edits","Rename Symbol","Enable/disable the ability to preview changes before renaming"],"vs/editor/contrib/smartSelect/smartSelect":["Expand Selection","&&Expand Selection","Shrink Selection","&&Shrink Selection"],"vs/editor/contrib/snippet/snippetController2":["Whether the editor in current in snippet mode","Whether there is a next tab stop when in snippet mode","Whether there is a previous tab stop when in snippet mode"],"vs/editor/contrib/suggest/suggestController":["Accepting '{0}' made {1} additional edits","Trigger Suggest","Insert","Insert","Replace","Replace","Insert","show less","show more","Reset Suggest Widget Size"],"vs/editor/contrib/tokenization/tokenization":["Developer: Force Retokenize"],"vs/editor/contrib/unusualLineTerminators/unusualLineTerminators":["Unusual Line Terminators","Detected unusual line terminators","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.","Remove Unusual Line Terminators","Ignore"],"vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode":["Toggle Tab Key Moves Focus","Pressing Tab will now move focus to the next focusable element","Pressing Tab will now insert the tab character"],"vs/editor/contrib/wordHighlighter/wordHighlighter":["Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.","Border color of a symbol during read-access, like reading a variable.","Border color of a symbol during write-access, like writing to a variable.","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.","Go to Next Symbol Highlight","Go to Previous Symbol Highlight","Trigger Symbol Highlight"],"vs/editor/contrib/wordOperations/wordOperations":["Delete Word"],"vs/editor/common/standaloneStrings":["No selection","Line {0}, Column {1} ({2} selected)","Line {0}, Column {1}","{0} selections ({1} characters selected)","{0} selections","Now changing the setting `accessibilitySupport` to 'on'.","Now opening the Editor Accessibility documentation page."," in a read-only pane of a diff editor."," in a pane of a diff editor."," in a read-only code editor"," in a code editor","To configure the editor to be optimized for usage with a Screen Reader press Command+E now.","To configure the editor to be optimized for usage with a Screen Reader press Control+E now.","The editor is configured to be optimized for usage with a Screen Reader.","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time.","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}.","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding.","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}.","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.","Press Command+H now to open a browser window with more information related to editor accessibility.","Press Control+H now to open a browser window with more information related to editor accessibility.","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape.","Show Accessibility Help","Developer: Inspect Tokens","Go to Line/Column...","Show all Quick Access Providers","Command Palette","Show And Run Commands","Go to Symbol...","Go to Symbol by Category...","Editor content","Press Alt+F1 for Accessibility Options.","Toggle High Contrast Theme","Made {0} edits in {1} files"],"vs/editor/browser/editorExtensions":["&&Undo","Undo","&&Redo","Redo","&&Select All","Select All"],"vs/platform/theme/common/colorRegistry":["Overall foreground color. This color is only used if not overridden by a component.","Overall foreground color for error messages. This color is only used if not overridden by a component.","The default color for icons in the workbench.","Overall border color for focused elements. This color is only used if not overridden by a component.","An extra border around elements to separate them from others for greater contrast.","An extra border around active elements to separate them from others for greater contrast.","Foreground color for links in text.","Foreground color for links in text when clicked on and on mouse hover.","Background color for code blocks in text.","Shadow color of widgets such as find/replace inside the editor.","Input box background.","Input box foreground.","Input box border.","Border color of activated options in input fields.","Background color of activated options in input fields.","Foreground color of activated options in input fields.","Input validation background color for information severity.","Input validation foreground color for information severity.","Input validation border color for information severity.","Input validation background color for warning severity.","Input validation foreground color for warning severity.","Input validation border color for warning severity.","Input validation background color for error severity.","Input validation foreground color for error severity.","Input validation border color for error severity.","Dropdown background.","Dropdown foreground.","Button foreground color.","Button background color.","Button background color when hovering.","Badge background color. Badges are small information labels, e.g. for search results count.","Badge foreground color. Badges are small information labels, e.g. for search results count.","Scrollbar shadow to indicate that the view is scrolled.","Scrollbar slider background color.","Scrollbar slider background color when hovering.","Scrollbar slider background color when clicked on.","Background color of the progress bar that can show for long running operations.","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations.","Foreground color of error squigglies in the editor.","Border color of error boxes in the editor.","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations.","Foreground color of warning squigglies in the editor.","Border color of warning boxes in the editor.","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations.","Foreground color of info squigglies in the editor.","Border color of info boxes in the editor.","Foreground color of hint squigglies in the editor.","Border color of hint boxes in the editor.","Editor background color.","Editor default foreground color.","Background color of editor widgets, such as find/replace.","Foreground color of editor widgets, such as find/replace.","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.","Quick picker background color. The quick picker widget is the container for pickers like the command palette.","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.","Quick picker color for grouping labels.","Quick picker color for grouping borders.","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.","Color of the editor selection.","Color of the selected text for high contrast.","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations.","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations.","Border color for regions with the same content as the selection.","Color of the current search match.","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations.","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations.","Border color of the current search match.","Border color of the other search matches.","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations.","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations.","Background color of the editor hover.","Foreground color of the editor hover.","Border color of the editor hover.","Background color of the editor hover status bar.","Color of active links.","Foreground color of inline hints","Background color of inline hints","Foreground color of inline hints for types","Background color of inline hints for types","Foreground color of inline hints for parameters","Background color of inline hints for parameters","The color used for the lightbulb actions icon.","The color used for the lightbulb auto fix actions icon.","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations.","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations.","Outline color for the text that got inserted.","Outline color for text that got removed.","Border color between the two text editors.","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.","List/Tree background when hovering over items using the mouse.","List/Tree foreground when hovering over items using the mouse.","List/Tree drag and drop background when moving items around using the mouse.","List/Tree foreground color of the match highlights when searching inside the list/tree.","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.","Background color of the type filter widget in lists and trees.","Outline color of the type filter widget in lists and trees.","Outline color of the type filter widget in lists and trees, when there are no matches.","Tree stroke color for the indentation guides.","Tree stroke color for the indentation guides.","Please use quickInputList.focusBackground instead","Quick picker foreground color for the focused item.","Quick picker icon foreground color for the focused item.","Quick picker background color for the focused item.","Border color of menus.","Foreground color of menu items.","Background color of menu items.","Foreground color of the selected menu item in menus.","Background color of the selected menu item in menus.","Border color of the selected menu item in menus.","Color of a separator menu item in menus.","Toolbar background when hovering over actions using the mouse","Highlight background color of a snippet tabstop.","Highlight border color of a snippet tabstop.","Highlight background color of the final tabstop of a snippet.","Highlight border color of the final tabstop of a snippet.","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations.","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations.","Minimap marker color for find matches.","Minimap marker color for repeating editor selections.","Minimap marker color for the editor selection.","Minimap marker color for errors.","Minimap marker color for warnings.","Minimap background color.",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.',"Minimap slider background color.","Minimap slider background color when hovering.","Minimap slider background color when clicked on.","The color used for the problems error icon.","The color used for the problems warning icon.","The color used for the problems info icon."],"vs/editor/contrib/quickAccess/gotoLineQuickAccess":["Open a text editor first to go to a line.","Go to line {0} and character {1}.","Go to line {0}.","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.","Current Line: {0}, Character: {1}. Type a line number to navigate to."],"vs/editor/common/editorContextKeys":["Whether the editor text has focus (cursor is blinking)","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)","Whether an editor or a rich text input has focus (cursor is blinking)","Whether the editor is read only","Whether the context is a diff editor","Whether `editor.columnSelection` is enabled","Whether the editor has text selected","Whether the editor has multiple selections","Whether `Tab` will move focus out of the editor","Whether the editor hover is visible","Whether the editor is part of a larger editor (e.g. notebooks)","The language identifier of the editor","Whether the editor has a completion item provider","Whether the editor has a code actions provider","Whether the editor has a code lens provider","Whether the editor has a definition provider","Whether the editor has a declaration provider","Whether the editor has an implementation provider","Whether the editor has a type definition provider","Whether the editor has a hover provider","Whether the editor has a document highlight provider","Whether the editor has a document symbol provider","Whether the editor has a reference provider","Whether the editor has a rename provider","Whether the editor has a signature help provider","Whether the editor has an inline hints provider","Whether the editor has a document formatting provider","Whether the editor has a document selection formatting provider","Whether the editor has multiple document formatting providers","Whether the editor has multiple document selection formatting providers"],"vs/editor/contrib/symbolIcons/symbolIcons":["The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."],"vs/editor/contrib/quickAccess/gotoSymbolQuickAccess":["To go to a symbol, first open a text editor with symbol information.","The active text editor does not provide symbol information.","No matching editor symbols","No editor symbols","Open to the Side","Open to the Bottom","symbols ({0})","properties ({0})","methods ({0})","functions ({0})","constructors ({0})","variables ({0})","classes ({0})","structs ({0})","events ({0})","operators ({0})","interfaces ({0})","namespaces ({0})","packages ({0})","type parameters ({0})","modules ({0})","properties ({0})","enumerations ({0})","enumeration members ({0})","strings ({0})","files ({0})","arrays ({0})","numbers ({0})","booleans ({0})","objects ({0})","keys ({0})","fields ({0})","constants ({0})"],"vs/platform/quickinput/browser/helpQuickAccess":["global commands","editor commands","{0}, {1}"],"vs/editor/contrib/gotoSymbol/peek/referencesController":["Whether reference peek is visible, like 'Peek References' or 'Peek Definition'","Loading...","{0} ({1})"],"vs/editor/common/modes/modesRegistry":["Plain Text"],"vs/editor/common/view/editorColorRegistry":["Background color for the highlight of line at the cursor position.","Background color for the border around the line at the cursor position.","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations.","Background color of the border around highlighted ranges.","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations.","Background color of the border around highlighted symbols.","Color of the editor cursor.","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.","Color of whitespace characters in the editor.","Color of the editor indentation guides.","Color of the active editor indentation guides.","Color of editor line numbers.","Color of editor active line number","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.","Color of editor active line number","Color of the editor rulers.","Foreground color of editor CodeLens","Background color behind matching brackets","Color for matching brackets boxes","Color of the overview ruler border.","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.","Border color of unnecessary (unused) source code in the editor.","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.","Border color of ghost text in the editor.","Foreground color of the ghost text in the editor.","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations.","Overview ruler marker color for errors.","Overview ruler marker color for warnings.","Overview ruler marker color for infos.","Foreground color of brackets (1). Requires enabling bracket pair colorization.","Foreground color of brackets (2). Requires enabling bracket pair colorization.","Foreground color of brackets (3). Requires enabling bracket pair colorization.","Foreground color of brackets (4). Requires enabling bracket pair colorization.","Foreground color of brackets (5). Requires enabling bracket pair colorization.","Foreground color of brackets (6). Requires enabling bracket pair colorization.","Foreground color of unexpected brackets.","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."],"vs/editor/browser/widget/diffReview":["Icon for 'Insert' in diff review.","Icon for 'Remove' in diff review.","Icon for 'Close' in diff review.","Close","no lines changed","1 line changed","{0} lines changed","Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}","blank","{0} unchanged line {1}","{0} original line {1} modified line {2}","+ {0} modified line {1}","- {0} original line {1}","Go to Next Difference","Go to Previous Difference"],"vs/editor/browser/widget/inlineDiffMargin":["Copy deleted lines","Copy deleted line","Copy changed lines","Copy changed line","Copy deleted line ({0})","Copy changed line ({0})","Revert this change","Copy deleted line ({0})","Copy changed line ({0})"],"vs/platform/theme/common/iconRegistry":["The id of the font to use. If not set, the font that is defined first is used.","The font character associated with the icon definition.","Icon for the close action in widgets."],"vs/editor/contrib/codeAction/codeActionCommands":["Kind of the code action to run.","Controls when the returned actions are applied.","Always apply the first returned code action.","Apply the first returned code action if it is the only one.","Do not apply the returned code actions.","Controls if only preferred code actions should be returned.","An unknown error occurred while applying the code action","Quick Fix...","No code actions available","No preferred code actions for '{0}' available","No code actions for '{0}' available","No preferred code actions available","No code actions available","Refactor...","No preferred refactorings for '{0}' available","No refactorings for '{0}' available","No preferred refactorings available","No refactorings available","Source Action...","No preferred source actions for '{0}' available","No source actions for '{0}' available","No preferred source actions available","No source actions available","Organize Imports","No organize imports action available","Fix All","No fix all action available","Auto Fix...","No auto fixes available"],"vs/base/browser/ui/actionbar/actionViewItems":["{0} ({1})"],"vs/base/common/actions":["(empty)"],"vs/editor/contrib/find/findWidget":["Icon for 'Find in Selection' in the editor find widget.","Icon to indicate that the editor find widget is collapsed.","Icon to indicate that the editor find widget is expanded.","Icon for 'Replace' in the editor find widget.","Icon for 'Replace All' in the editor find widget.","Icon for 'Find Previous' in the editor find widget.","Icon for 'Find Next' in the editor find widget.","Find","Find","Previous Match","Next Match","Find in Selection","Close","Replace","Replace","Replace","Replace All","Toggle Replace","Only the first {0} results are highlighted, but all find operations work on the entire text.","{0} of {1}","No results","{0} found","{0} found for '{1}'","{0} found for '{1}', at {2}","{0} found for '{1}'","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior."],"vs/editor/contrib/folding/foldingDecorations":["Icon for expanded ranges in the editor glyph margin.","Icon for collapsed ranges in the editor glyph margin."],"vs/editor/contrib/peekView/peekView":["Whether the current code editor is embedded inside peek","Close","Background color of the peek view title area.","Color of the peek view title.","Color of the peek view title info.","Color of the peek view borders and arrow.","Background color of the peek view result list.","Foreground color for line nodes in the peek view result list.","Foreground color for file nodes in the peek view result list.","Background color of the selected entry in the peek view result list.","Foreground color of the selected entry in the peek view result list.","Background color of the peek view editor.","Background color of the gutter in the peek view editor.","Match highlight color in the peek view result list.","Match highlight color in the peek view editor.","Match highlight border in the peek view editor."],"vs/editor/contrib/gotoSymbol/referencesModel":["symbol in {0} on line {1} at column {2}","symbol in {0} on line {1} at column {2}, {3}","1 symbol in {0}, full path {1}","{0} symbols in {1}, full path {2}","No results found","Found 1 symbol in {0}","Found {0} symbols in {1}","Found {0} symbols in {1} files"],"vs/editor/contrib/gotoSymbol/symbolNavigation":["Whether there are symbol locations that can be navigated via keyboard-only.","Symbol {0} of {1}, {2} for next","Symbol {0} of {1}"],"vs/editor/contrib/message/messageController":["Whether the editor is currently showing an inline message","Cannot edit in read-only editor"],"vs/editor/contrib/gotoError/gotoErrorWidget":["Error","Warning","Info","Hint","{0} at {1}. ","{0} of {1} problems","{0} of {1} problem","Editor marker navigation widget error color.","Editor marker navigation widget error heading background.","Editor marker navigation widget warning color.","Editor marker navigation widget warning heading background.","Editor marker navigation widget info color.","Editor marker navigation widget info heading background.","Editor marker navigation widget background."],"vs/editor/contrib/parameterHints/parameterHintsWidget":["Icon for show next parameter hint.","Icon for show previous parameter hint.","{0}, hint","Foreground color of the active item in the parameter hint."],"vs/platform/configuration/common/configurationRegistry":["Default Language Configuration Overrides","Configure editor settings to be overridden for a language.","This setting does not support per-language configuration.","Cannot register an empty property","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.","Cannot register '{0}'. This property is already registered."],"vs/editor/contrib/rename/renameInputField":["Whether the rename input widget is visible","Rename input. Type new name and press Enter to commit.","{0} to Rename, {1} to Preview"],"vs/editor/contrib/suggest/suggest":["Whether suggestion are visible","Whether suggestion details are visible","Whether there are multiple suggestions to pick from","Whether inserting the current suggestion yields in a change or has everything already been typed","Whether suggestions are inserted when pressing Enter","Whether the current suggestion has insert and replace behaviour","Whether the default behaviour is to insert or replace","Whether the current suggestion supports to resolve further details"],"vs/editor/contrib/suggest/suggestWidget":["Background color of the suggest widget.","Border color of the suggest widget.","Foreground color of the suggest widget.","Foreground color of the selected entry in the suggest widget.","Icon foreground color of the selected entry in the suggest widget.","Background color of the selected entry in the suggest widget.","Color of the match highlights in the suggest widget.","Color of the match highlights in the suggest widget when an item is focused.","Loading...","No suggestions.","{0}, docs: {1}","Suggest"],"vs/editor/common/config/commonEditorConfig":["Editor","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.","Remove trailing auto inserted whitespace.","Special handling for large files to disable certain memory intensive features.","Controls whether completions should be computed based on words in the document.","Only suggest words from the active document.","Suggest words from all open documents of the same language.","Suggest words from all open documents.","Controls from which documents word based completions are computed.","Semantic highlighting enabled for all color themes.","Semantic highlighting disabled for all color themes.","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.","Controls whether the semanticHighlighting is shown for the languages that support it.","Keep peek editors open even when double clicking their content or when hitting `Escape`.","Lines above this length will not be tokenized for performance reasons","Defines the bracket symbols that increase or decrease the indentation.","The opening bracket character or string sequence.","The closing bracket character or string sequence.","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled.","The opening bracket character or string sequence.","The closing bracket character or string sequence.","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.","Maximum file size in MB for which to compute diffs. Use 0 for no limit.","Controls whether the diff editor shows the diff side by side or inline.","When enabled, the diff editor ignores changes in leading or trailing whitespace.","Controls whether the diff editor shows +/- indicators for added/removed changes.","Controls whether the editor shows CodeLens.","Lines will never wrap.","Lines will wrap at the viewport width.","Lines will wrap according to the `#editor.wordWrap#` setting."],"vs/platform/contextkey/common/contextkeys":["Whether the operating system is Windows"],"vs/editor/contrib/gotoSymbol/peek/referencesWidget":["no preview available","No results","References"],"vs/platform/list/browser/listService":["Workbench","Maps to `Control` on Windows and Linux and to `Command` on macOS.","Maps to `Alt` on Windows and Linux and to `Option` on macOS.","The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.","Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.","Controls tree indentation in pixels.","Controls whether the tree should render indent guides.","Controls whether lists and trees have smooth scrolling.","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.","Scrolling speed multiplier when pressing `Alt`.","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable."],"vs/platform/quickinput/browser/commandsQuickAccess":["{0}, {1}","recently used","other commands","Command '{0}' resulted in an error ({1})"],"vs/platform/keybinding/common/abstractKeybindingService":["({0}) was pressed. Waiting for second key of chord...","The key combination ({0}, {1}) is not a command."],"vs/platform/contextkey/browser/contextKeyService":["A command that returns information about context keys"],"vs/platform/markers/common/markers":["Error","Warning","Info"],"vs/platform/undoRedo/common/undoRedoService":["The following files have been closed and modified on disk: {0}.","The following files have been modified in an incompatible way: {0}.","Could not undo '{0}' across all files. {1}","Could not undo '{0}' across all files. {1}","Could not undo '{0}' across all files because changes were made to {1}","Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}","Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime","Would you like to undo '{0}' across all files?","Undo in {0} Files","Undo this File","Cancel","Could not undo '{0}' because there is already an undo or redo operation running.","Would you like to undo '{0}'?","Yes","Cancel","Could not redo '{0}' across all files. {1}","Could not redo '{0}' across all files. {1}","Could not redo '{0}' across all files because changes were made to {1}","Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}","Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime","Could not redo '{0}' because there is already an undo or redo operation running."],"vs/editor/browser/core/keybindingCancellation":["Whether the editor runs a cancellable operation, e.g. like 'Peek References'"],"vs/editor/common/model/editStack":["Typing"],"vs/editor/browser/controller/textAreaHandler":["editor","The editor is not accessible at this time. Press {0} for options."],"vs/base/browser/ui/findinput/findInputCheckboxes":["Match Case","Match Whole Word","Use Regular Expression"],"vs/platform/actions/browser/menuEntryActionViewItem":["{0} ({1})","{0} ({1})"],"vs/editor/contrib/hover/markerHoverParticipant":["View Problem","No quick fixes available","Checking for quick fixes...","No quick fixes available","Quick Fix..."],"vs/editor/contrib/hover/markdownHoverParticipant":["Loading...","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`."],"vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant":["Next","Previous","Accept","Suggestion:"],"vs/editor/contrib/snippet/snippetVariables":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat","January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"vs/editor/contrib/suggest/suggestWidgetStatus":["{0} ({1})"],"vs/editor/contrib/suggest/suggestWidgetRenderer":["Icon for more information in the suggest widget.","Read More"],"vs/editor/contrib/suggest/suggestWidgetDetails":["Close","Loading..."],"vs/editor/contrib/gotoSymbol/peek/referencesTree":["{0} references","{0} reference","References"],"vs/base/common/errorMessage":["{0}: {1}","A system error occurred ({0})","An unknown error occurred. Please consult the log for more details.","An unknown error occurred. Please consult the log for more details.","{0} ({1} errors in total)","An unknown error occurred. Please consult the log for more details."],"vs/editor/contrib/codeAction/lightBulbWidget":["Show Code Actions. Preferred Quick Fix Available ({0})","Show Code Actions ({0})","Show Code Actions"],"vs/base/browser/ui/findinput/findInput":["input"],"vs/base/browser/ui/findinput/replaceInput":["input","Preserve Case"],"vs/base/common/keybindingLabels":["Ctrl","Shift","Alt","Windows","Ctrl","Shift","Alt","Super","Control","Shift","Alt","Command","Control","Shift","Alt","Windows","Control","Shift","Alt","Super"],"vs/editor/contrib/colorPicker/colorPickerWidget":["Click to toggle color options (rgb/hsl/hex)"],"vs/base/browser/ui/tree/abstractTree":["Clear","Disable Filter on Type","Enable Filter on Type","No elements found","Matched {0} out of {1} elements"],"vs/base/browser/ui/menu/menu":["{0} ({1})"],"vs/base/parts/quickinput/browser/quickInput":["Back","Press 'Enter' to confirm your input or 'Escape' to cancel","{0}/{1}","Type to narrow down results.","{0} Results","{0} Selected","OK","Custom","Back ({0})","Back"],"vs/base/browser/ui/inputbox/inputBox":["Error: {0}","Warning: {0}","Info: {0}","for history"],"vs/base/browser/ui/iconLabel/iconLabelHover":["Loading..."],"vs/base/parts/quickinput/browser/quickInputList":["Quick Input"],"vs/base/browser/ui/keybindingLabel/keybindingLabel":["Unbound"]},bundles:{"vs/editor/editor.main":["vs/base/browser/ui/actionbar/actionViewItems","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/menu/menu","vs/base/browser/ui/tree/abstractTree","vs/base/common/actions","vs/base/common/errorMessage","vs/base/common/keybindingLabels","vs/base/parts/quickinput/browser/quickInput","vs/base/parts/quickinput/browser/quickInputList","vs/editor/browser/controller/coreCommands","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/editorExtensions","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/diffEditorWidget","vs/editor/browser/widget/diffReview","vs/editor/browser/widget/inlineDiffMargin","vs/editor/common/config/commonEditorConfig","vs/editor/common/config/editorOptions","vs/editor/common/editorContextKeys","vs/editor/common/model/editStack","vs/editor/common/modes/modesRegistry","vs/editor/common/standaloneStrings","vs/editor/common/view/editorColorRegistry","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/find/findController","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/folding","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/format","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoError/gotoError","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/hover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/message/messageController","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/peekView/peekView","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/rename","vs/editor/contrib/rename/renameInputField","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/snippet/snippetController2","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggest","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/suggest/suggestWidget","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidgetStatus","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordOperations/wordOperations","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/configuration/common/configurationRegistry","vs/platform/contextkey/browser/contextKeyService","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/list/browser/listService","vs/platform/markers/common/markers","vs/platform/quickinput/browser/commandsQuickAccess","vs/platform/quickinput/browser/helpQuickAccess","vs/platform/theme/common/colorRegistry","vs/platform/theme/common/iconRegistry","vs/platform/undoRedo/common/undoRedoService"]}},tt={"vs/base/browser/ui/actionbar/actionViewItems":["{0} ({1})"],"vs/base/browser/ui/findinput/findInput":["输入"],"vs/base/browser/ui/findinput/findInputCheckboxes":["区分大小写","全字匹配","使用正则表达式"],"vs/base/browser/ui/findinput/replaceInput":["输入","保留大小写"],"vs/base/browser/ui/iconLabel/iconLabelHover":["正在加载…"],"vs/base/browser/ui/inputbox/inputBox":["错误: {0}","警告: {0}","信息: {0}","对于历史记录"],"vs/base/browser/ui/keybindingLabel/keybindingLabel":["未绑定"],"vs/base/browser/ui/menu/menu":["{0} ({1})"],"vs/base/browser/ui/tree/abstractTree":["清除","禁用输入时筛选","启用输入时筛选","未找到元素","已匹配 {0} 个元素(共 {1} 个)"],"vs/base/common/actions":["(空)"],"vs/base/common/errorMessage":["{0}: {1}","发生了系统错误 ({0})","出现未知错误。有关详细信息，请参阅日志。","出现未知错误。有关详细信息，请参阅日志。","{0} 个(共 {1} 个错误)","出现未知错误。有关详细信息，请参阅日志。"],"vs/base/common/keybindingLabels":["Ctrl","Shift","Alt","Windows","Ctrl","Shift","Alt","超键","Control","Shift","Alt","Command","Control","Shift","Alt","Windows","Control","Shift","Alt","超键"],"vs/base/parts/quickinput/browser/quickInput":["上一步",'按 "Enter" 以确认或按 "Esc" 以取消',"{0}/{1}","在此输入可缩小结果范围。","{0} 个结果","已选 {0} 项","确定","自定义","后退 ({0})","上一步"],"vs/base/parts/quickinput/browser/quickInputList":["快速输入"],"vs/editor/browser/controller/coreCommands":["即使转到较长的行，也一直到末尾","即使转到较长的行，也一直到末尾","已删除辅助游标"],"vs/editor/browser/controller/textAreaHandler":["编辑器","现在无法访问编辑器。按 {0} 获取选项。"],"vs/editor/browser/core/keybindingCancellation":["编辑器是否运行可取消的操作，例如“预览引用”"],"vs/editor/browser/editorExtensions":["撤消(&&U)","撤消","恢复(&&R)","恢复","全选(&&S)","选择全部"],"vs/editor/browser/widget/codeEditorWidget":["光标数量被限制为 {0}。"],"vs/editor/browser/widget/diffEditorWidget":["差异编辑器中插入项的线条修饰。","差异编辑器中删除项的线条修饰。","文件过大，无法比较。"],"vs/editor/browser/widget/diffReview":["差异评审中的“插入”图标。","差异评审中的“删除”图标。","差异评审中的“关闭”图标。","关闭","未更改行","更改了 1 行","更改了 {0} 行","差异 {0}/ {1}: 原始行 {2}，{3}，修改后的行 {4}，{5}","空白","{0} 未更改的行 {1}","{0}原始行{1}修改的行{2}","+ {0}修改的行{1}","- {0}原始行{1}","转至下一个差异","转至上一个差异"],"vs/editor/browser/widget/inlineDiffMargin":["复制已删除的行","复制已删除的行","复制更改的行","复制更改的行","复制已删除的行({0})","复制更改的行({0})","还原此更改","复制已删除的行({0})","复制更改的行({0})"],"vs/editor/common/config/commonEditorConfig":["编辑器","一个制表符等于的空格数。在 `#editor.detectIndentation#` 启用时，根据文件内容，该设置可能会被覆盖。","按 `Tab` 键时插入空格。该设置在 `#editor.detectIndentation#` 启用时根据文件内容可能会被覆盖。","控制是否在打开文件时，基于文件内容自动检测 `#editor.tabSize#` 和 `#editor.insertSpaces#`。","删除自动插入的尾随空白符号。","对大型文件进行特殊处理，禁用某些内存密集型功能。","控制是否根据文档中的文字计算自动完成列表。","仅建议活动文档中的字词。","建议使用同一语言的所有打开的文档中的字词。","建议所有打开的文档中的字词。","控制通过哪些文档计算基于字词的补全。","对所有颜色主题启用语义突出显示。","对所有颜色主题禁用语义突出显示。",'语义突出显示是由当前颜色主题的 "semanticHighlighting" 设置配置的。',"控制是否为支持它的语言显示语义突出显示。","在速览编辑器中，即使双击其中的内容或者按 `Esc` 键，也保持其打开状态。","由于性能原因，超过这个长度的行将不会被标记","定义增加和减少缩进的括号。","左方括号字符或字符串序列。","右方括号字符或字符串序列。","如果启用方括号对着色，则按照其嵌套级别定义已着色的方括号对。","左方括号字符或字符串序列。","右方括号字符或字符串序列。","超时(以毫秒为单位)，之后将取消差异计算。使用0表示没有超时。","要为其计算差异的最大文件大小(MB)。使用 0 表示无限制。","控制差异编辑器的显示方式是并排还是内联。","启用后，差异编辑器将忽略前导空格或尾随空格中的更改。","控制差异编辑器是否为添加/删除的更改显示 +/- 指示符号。","控制是否在编辑器中显示 CodeLens。","永不换行。","将在视区宽度处换行。","将根据 `#editor.wordWrap#` 设置换行。"],"vs/editor/common/config/editorOptions":["编辑器将使用平台 API 以检测是否附加了屏幕阅读器。","编辑器将针对与屏幕阅读器搭配使用进行永久优化。将禁用自动换行。","编辑器将不再对屏幕阅读器的使用进行优化。","控制编辑器是否应在对屏幕阅读器进行了优化的模式下运行。设置为“开”将禁用自动换行。","控制在注释时是否插入空格字符。","控制在对行注释执行切换、添加或删除操作时，是否应忽略空行。","控制在没有选择内容时进行复制是否复制当前行。","控制在键入时光标是否应跳转以查找匹配项。","切勿为编辑器选择中的搜索字符串设定种子。","始终为编辑器选择中的搜索字符串设定种子，包括光标位置的字词。","仅为编辑器选择中的搜索字符串设定种子。","控制是否将编辑器选中内容作为搜索词填入到查找小组件中。","从不自动打开“在选定内容中查找”(默认)。","始终自动打开“在选定内容中查找”。","选择多行内容时，自动打开“在选定内容中查找”。","控制自动打开“在选定内容中查找”的条件。","控制“查找”小组件是否读取或修改 macOS 的共享查找剪贴板。",'控制 "查找小部件" 是否应在编辑器顶部添加额外的行。如果为 true, 则可以在 "查找小工具" 可见时滚动到第一行之外。',"控制在找不到其他匹配项时，是否自动从开头(或结尾)重新开始搜索。",'启用/禁用字体连字("calt" 和 "liga" 字体特性)。将此更改为字符串，可对 "font-feature-settings" CSS 属性进行精细控制。','显式 "font-feature-settings" CSS 属性。如果只需打开/关闭连字，可以改为传递布尔值。','配置字体连字或字体特性。可以是用于启用/禁用连字的布尔值，或用于设置 CSS "font-feature-settings" 属性值的字符串。',"控制字体大小(像素)。","仅允许使用关键字“正常”和“加粗”，或使用介于 1 至 1000 之间的数字。","控制字体粗细。接受关键字“正常”和“加粗”，或者接受介于 1 至 1000 之间的数字。","显示结果的预览视图 (默认值)","转到主结果并显示预览视图","转到主结果，并对其他人启用防偷窥导航",'此设置已弃用，请改用单独的设置，如"editor.editor.gotoLocation.multipleDefinitions"或"editor.editor.gotoLocation.multipleImplementations"。','控制存在多个目标位置时"转到定义"命令的行为。','控制存在多个目标位置时"转到类型定义"命令的行为。','控制存在多个目标位置时"转到声明"命令的行为。','控制存在多个目标位置时"转到实现"命令的行为。','控制存在多个目标位置时"转到引用"命令的行为。','当"转到定义"的结果为当前位置时将要执行的替代命令的 ID。','当"转到类型定义"的结果是当前位置时正在执行的备用命令 ID。','当"转到声明"的结果为当前位置时将要执行的替代命令的 ID。','当"转到实现"的结果为当前位置时将要执行的替代命令的 ID。','当"转到引用"的结果是当前位置时正在执行的替代命令 ID。',"控制是否显示悬停提示。","控制显示悬停提示前的等待时间 (毫秒)。","控制当鼠标移动到悬停提示上时，其是否保持可见。","如果有空间，首选在线条上方显示悬停。","在编辑器中启用代码操作小灯泡提示。","在编辑器中启用内联提示。","控制编辑器中内嵌提示的字号。当配置的值小于 `5` 或大于编辑器字号时，默认使用 90% 的 `#editor.fontSize#`。","在编辑器中控制内嵌提示的字体系列。设置为空时，使用 `#editor.fontFamily#`。","控制行高。\r\n - 使用 0 根据字号自动计算行高。\r\n - 介于 0 和 8 之间的值将用作字号的乘数。\r\n - 大于或等于 8 的值将用作有效值。","控制是否显示缩略图。","迷你地图的大小与编辑器内容相同(并且可能滚动)。","迷你地图将根据需要拉伸或缩小以填充编辑器的高度(不滚动)。","迷你地图将根据需要缩小，永远不会大于编辑器(不滚动)。","控制迷你地图的大小。","控制在哪一侧显示缩略图。","控制何时显示迷你地图滑块。","在迷你地图中绘制的内容比例: 1、2 或 3。","渲染每行的实际字符，而不是色块。","限制缩略图的宽度，控制其最多显示的列数。","控制编辑器的顶边和第一行之间的间距量。","控制编辑器的底边和最后一行之间的间距量。","在输入时显示含有参数文档和类型信息的小面板。","控制参数提示菜单在到达列表末尾时进行循环还是关闭。","在字符串内启用快速建议。","在注释内启用快速建议。","在字符串和注释外启用快速建议。","控制是否在键入时自动显示建议。","不显示行号。","将行号显示为绝对行数。","将行号显示为与光标相隔的行数。","每 10 行显示一次行号。","控制行号的显示。","此编辑器标尺将渲染的等宽字符数。","此编辑器标尺的颜色。","在一定数量的等宽字符后显示垂直标尺。输入多个值，显示多个标尺。若数组为空，则不绘制标尺。","垂直滚动条仅在必要时可见。","垂直滚动条将始终可见。","垂直滚动条将始终隐藏。","控制垂直滚动条的可见性。","水平滚动条仅在必要时可见。","水平滚动条将始终可见。","水平滚动条将始终隐藏。","控制水平滚动条的可见性。","垂直滚动条的宽度。","水平滚动条的高度。","控制单击按页滚动还是跳转到单击位置。","控制是否在编辑器中自动显示内联建议。","控制是否启用括号对着色。使用 “workbench.colorCustomizations” 替代括号突出显示颜色。","启用括号对参考线。","仅为活动括号对启用括号对参考线。","禁用括号对参考线。","控制是否启用括号对指南。","启用水平参考线作为垂直括号对参考线的添加项。","仅为活动括号对启用水平参考线。","禁用水平括号对参考线。","控制是否启用水平括号对指南。","控制是否启用括号对指南。","控制编辑器是否显示缩进参考线。","控制是否突出显示编辑器中活动的缩进参考线。","插入建议而不覆盖光标右侧的文本。","插入建议并覆盖光标右侧的文本。","控制接受补全时是否覆盖单词。请注意，这取决于扩展选择使用此功能。","控制对建议的筛选和排序是否考虑小的拼写错误。","控制排序时是否首选光标附近的字词。","控制是否在多个工作区和窗口间共享记忆的建议选项(需要 `#editor.suggestSelection#`)。","控制活动代码段是否阻止快速建议。","控制是否在建议中显示或隐藏图标。","控制建议小部件底部的状态栏的可见性。","控制是否在编辑器中预览建议结果。","控制建议详细信息是随标签一起显示还是仅显示在详细信息小组件中","此设置已弃用。现在可以调整建议小组件的大小。",'此设置已弃用，请改用单独的设置，如"editor.suggest.showKeywords"或"editor.suggest.showSnippets"。',"启用后，IntelliSense 将显示“方法”建议。","启用后，IntelliSense 将显示“函数”建议。","启用后，IntelliSense 将显示“构造函数”建议。","启用后，IntelliSense 将显示“已启用”建议。","启用后，IntelliSense 将显示“字段”建议。","启用后，IntelliSense 将显示“变量”建议。","启用后，IntelliSense 将显示“类”建议。","启用后，IntelliSense 将显示“结构”建议。","启用后，IntelliSense 将显示“接口”建议。","启用后，IntelliSense 将显示“模块”建议。","启用后，IntelliSense 将显示“属性”建议。","启用后，IntelliSense 将显示“事件”建议。","启用后，IntelliSense 将显示“操作符”建议。","启用后，IntelliSense 将显示“单位”建议。","启用后，IntelliSense 将显示“值”建议。","启用后，IntelliSense 将显示“常量”建议。","启用后，IntelliSense 将显示“枚举”建议。",'启用后，IntelliSense 将显示 "enumMember" 建议。',"启用后，IntelliSense 将显示“关键字”建议。","启用后，IntelliSense 将显示“文本”建议。","启用后，IntelliSense 将显示“颜色”建议。","启用后，IntelliSense 将显示“文件”建议。","启用后，IntelliSense 将显示“参考”建议。","启用后，IntelliSense 将显示“自定义颜色”建议。","启用后，IntelliSense 将显示“文件夹”建议。",'启用后，IntelliSense 将显示 "typeParameter" 建议。',"启用后，IntelliSense 将显示“片段”建议。",'启用后，IntelliSense 将显示"用户"建议。','启用后，IntelliSense 将显示"问题"建议。',"是否应始终选择前导和尾随空格。","控制是否应在遇到提交字符时接受建议。例如，在 JavaScript 中，半角分号 (`;`) 可以为提交字符，能够在接受建议的同时键入该字符。","仅当建议包含文本改动时才可使用 `Enter` 键进行接受。","控制除了 `Tab` 键以外， `Enter` 键是否同样可以接受建议。这能减少“插入新行”和“接受建议”命令之间的歧义。","控制编辑器中可由屏幕阅读器一次读出的行数。我们检测到屏幕阅读器时，会自动将默认值设置为 500。警告: 如果行数大于默认值，可能会影响性能。","编辑器内容","使用语言配置确定何时自动闭合括号。","仅当光标位于空白字符左侧时，才自动闭合括号。","控制编辑器是否在左括号后自动插入右括号。","仅在自动插入时才删除相邻的右引号或右括号。","控制在删除时编辑器是否应删除相邻的右引号或右方括号。","仅在自动插入时才改写右引号或右括号。","控制编辑器是否应改写右引号或右括号。","使用语言配置确定何时自动闭合引号。","仅当光标位于空白字符左侧时，才自动闭合引号。","控制编辑器是否在左引号后自动插入右引号。","编辑器不会自动插入缩进。","编辑器将保留当前行的缩进。","编辑器将保留当前行的缩进并遵循语言定义的括号。","编辑器将保留当前行的缩进、使用语言定义的括号并调用语言定义的特定 onEnterRules。","编辑器将保留当前行的缩进，使用语言定义的括号，调用由语言定义的特殊输入规则，并遵循由语言定义的缩进规则。","控制编辑器是否应在用户键入、粘贴、移动或缩进行时自动调整缩进。","使用语言配置确定何时自动包住所选内容。","使用引号而非括号来包住所选内容。","使用括号而非引号来包住所选内容。","控制在键入引号或方括号时，编辑器是否应自动将所选内容括起来。","在使用空格进行缩进时模拟制表符的选择行为。所选内容将始终使用制表符停止位。","控制是否在编辑器中显示 CodeLens。","控制 CodeLens 的字体系列。","控制 CodeLens 的字体大小(像素)。设置为 `0` 时，将使用 `#editor.fontSize#` 的 90%。","控制编辑器是否显示内联颜色修饰器和颜色选取器。","启用使用鼠标和键进行列选择。","控制在复制时是否同时复制语法高亮。","控制光标的动画样式。","控制是否启用平滑插入动画。","控制光标样式。",'控制光标周围可见的前置行和尾随行的最小数目。在其他一些编辑器中称为 "scrollOff" 或 "scrollOffset"。','仅当通过键盘或 API 触发时，才会强制执行"光标环绕行"。','始终强制执行 "cursorSurroundingLines"','控制何时应强制执行"光标环绕行"。',"当 `#editor.cursorStyle#` 设置为 `line` 时，控制光标的宽度。","控制在编辑器中是否允许通过拖放来移动选中内容。",'按下"Alt"时滚动速度倍增。',"控制编辑器是否启用了代码折叠。","使用特定于语言的折叠策略(如果可用)，否则使用基于缩进的策略。","使用基于缩进的折叠策略。","控制计算折叠范围的策略。","控制编辑器是否应突出显示折叠范围。","控制编辑器是否自动折叠导入范围。","控制单击已折叠的行后面的空内容是否会展开该行。","控制字体系列。","控制编辑器是否自动格式化粘贴的内容。格式化程序必须可用，并且能针对文档中的某一范围进行格式化。","控制编辑器在键入一行后是否自动格式化该行。","控制编辑器是否应呈现垂直字形边距。字形边距最常用于调试。","控制是否在概览标尺中隐藏光标。","控制字母间距(像素)。","控制编辑器是否已启用链接编辑。相关符号(如 HTML 标记)在编辑时进行更新，具体由语言而定。","控制是否在编辑器中检测链接并使其可被点击。","突出显示匹配的括号。","对鼠标滚轮滚动事件的 `deltaX` 和 `deltaY` 乘上的系数。","按住 `Ctrl` 键并滚动鼠标滚轮时对编辑器字体大小进行缩放。","当多个光标重叠时进行合并。","映射为 `Ctrl` (Windows 和 Linux) 或 `Command` (macOS)。","映射为 `Alt` (Windows 和 Linux) 或 `Option` (macOS)。","在通过鼠标添加多个光标时使用的修改键。“转到定义”和“打开链接”功能所需的鼠标动作将会相应调整，不与多光标修改键冲突。[阅读详细信息](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier)。","每个光标粘贴一行文本。","每个光标粘贴全文。","控制粘贴时粘贴文本的行计数与光标计数相匹配。","控制编辑器是否突出显示语义符号的匹配项。","控制是否在概览标尺周围绘制边框。","打开速览时聚焦树","打开预览时将焦点放在编辑器上","控制是将焦点放在内联编辑器上还是放在预览小部件中的树上。",'控制"转到定义"鼠标手势是否始终打开预览小部件。',"控制显示快速建议前的等待时间 (毫秒)。","控制是否在编辑器中输入时自动重命名。",'已弃用，请改用 "editor.linkedEditing"。',"控制编辑器是否显示控制字符。","当文件以换行符结束时, 呈现最后一行的行号。","同时突出显示导航线和当前行。","控制编辑器的当前行进行高亮显示的方式。","控制编辑器是否仅在焦点在编辑器时突出显示当前行。","呈现空格字符(字词之间的单个空格除外)。","仅在选定文本上呈现空白字符。","仅呈现尾随空格字符。","控制编辑器在空白字符上显示符号的方式。","控制选区是否有圆角。","控制编辑器水平滚动时可以超过范围的字符数。","控制编辑器是否可以滚动到最后一行之后。","同时垂直和水平滚动时，仅沿主轴滚动。在触控板上垂直滚动时，可防止水平漂移。","控制是否支持 Linux 主剪贴板。","控制编辑器是否应突出显示与所选内容类似的匹配项。","始终显示折叠控件。","仅在鼠标位于装订线上方时显示折叠控件。","控制何时显示行号槽上的折叠控件。","控制是否淡化未使用的代码。","控制加删除线被弃用的变量。","在其他建议上方显示代码片段建议。","在其他建议下方显示代码片段建议。","在其他建议中穿插显示代码片段建议。","不显示代码片段建议。","控制代码片段是否与其他建议一起显示及其排列的位置。","控制编辑器是否使用动画滚动。","建议小部件的字号。如果设置为 `0`，则使用 `#editor.fontSize#` 的值。","建议小部件的行高。如果设置为 `0`，则使用 `#editor.lineHeight#` 的值。最小值为 8。","控制在键入触发字符后是否自动显示建议。","始终选择第一个建议。","选择最近的建议，除非进一步键入选择其他项。例如 `console. -> console.log`，因为最近补全过 `log`。","根据之前补全过的建议的前缀来进行选择。例如，`co -> console`、`con -> const`。","控制在建议列表中如何预先选择建议。","在按下 Tab 键时进行 Tab 补全，将插入最佳匹配建议。","禁用 Tab 补全。",'在前缀匹配时进行 Tab 补全。在 "quickSuggestions" 未启用时体验最好。',"启用 Tab 补全。","自动删除异常的行终止符。","忽略异常的行终止符。","提示删除异常的行终止符。","删除可能导致问题的异常行终止符。","根据制表位插入和删除空格。","执行单词相关的导航或操作时作为单词分隔符的字符。","永不换行。","将在视区宽度处换行。","在 `#editor.wordWrapColumn#` 处折行。","在视区宽度和 `#editor.wordWrapColumn#` 中的较小值处折行。","控制折行的方式。","在 `#editor.wordWrap#` 为 `wordWrapColumn` 或 `bounded` 时，控制编辑器的折行列。","没有缩进。折行从第 1 列开始。","折行的缩进量与其父级相同。","折行的缩进量比其父级多 1。","折行的缩进量比其父级多 2。","控制折行的缩进。","假定所有字符的宽度相同。这是一种快速算法，适用于等宽字体和某些字形宽度相等的文字(如拉丁字符)。","将包装点计算委托给浏览器。这是一个缓慢算法，可能会导致大型文件被冻结，但它在所有情况下都正常工作。","控制计算包裹点的算法。"],"vs/editor/common/editorContextKeys":["编辑器文本是否具有焦点(光标是否闪烁)","编辑器或编辑器小组件是否具有焦点(例如焦点在“查找”小组件中)","编辑器或 RTF 输入是否有焦点(光标是否闪烁)","编辑器是否为只读","上下文是否为差异编辑器",'是否已启用 "editor.columnSelection"',"编辑器是否已选定文本","编辑器是否有多个选择",'"Tab" 是否将焦点移出编辑器',"编辑器软键盘是否可见","该编辑器是否是更大的编辑器(例如笔记本)的一部分","编辑器的语言标识符","编辑器是否具有补全项提供程序","编辑器是否具有代码操作提供程序","编辑器是否具有 CodeLens 提供程序","编辑器是否具有定义提供程序","编辑器是否具有声明提供程序","编辑器是否具有实现提供程序","编辑器是否具有类型定义提供程序","编辑器是否具有悬停提供程序","编辑器是否具有文档突出显示提供程序","编辑器是否具有文档符号提供程序","编辑器是否具有引用提供程序","编辑器是否具有重命名提供程序","编辑器是否具有签名帮助提供程序","编辑器是否具有内联提示提供程序","编辑器是否具有文档格式设置提供程序","编辑器是否具有文档选择格式设置提供程序","编辑器是否具有多个文档格式设置提供程序","编辑器是否有多个文档选择格式设置提供程序"],"vs/editor/common/model/editStack":["输入"],"vs/editor/common/modes/modesRegistry":["纯文本"],"vs/editor/common/standaloneStrings":["无选择","行 {0}, 列 {1} (选中 {2})","行 {0}, 列 {1}","{0} 选择(已选择 {1} 个字符)","{0} 选择",'现在将 "辅助功能支持" 设置更改为 "打开"。',"现在正在打开“编辑器辅助功能”文档页。","在差异编辑器的只读窗格中。","在一个差异编辑器的窗格中。","在只读代码编辑器中","在代码编辑器中","若要配置编辑器，将其进行优化以最好地配合屏幕阅读器的使用，请立即按 Command+E。","若要配置编辑器，将其进行优化以最高效地配合屏幕阅读器的使用，按下 Ctrl+E。","配置编辑器，将其进行优化以最好地配合屏幕读取器的使用。","编辑器被配置为永远不进行优化以配合屏幕读取器的使用, 而当前不是这种情况。","在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。通过按 {0} 切换此行为。","在当前编辑器中按 Tab 会将焦点移动到下一个可聚焦的元素。当前无法通过按键绑定触发命令 {0}。","在当前编辑器中按 Tab 将插入制表符。通过按 {0} 切换此行为。","在当前编辑器中按 Tab 会插入制表符。当前无法通过键绑定触发命令 {0}。","现在按 Command+H 打开一个浏览器窗口, 其中包含有关编辑器辅助功能的详细信息。","现在按 Ctrl+H 打开一个浏览器窗口, 其中包含有关编辑器辅助功能的更多信息。","你可以按 Esc 或 Shift+Esc 消除此工具提示并返回到编辑器。","显示辅助功能帮助","开发人员: 检查令牌","转到行/列...","显示所有快速访问提供程序","命令面板","显示并运行命令","转到符号...","按类别转到符号...","编辑器内容","按 Alt+F1 可打开辅助功能选项。","切换高对比度主题","在 {1} 个文件中进行了 {0} 次编辑"],"vs/editor/common/view/editorColorRegistry":["光标所在行高亮内容的背景颜色。","光标所在行四周边框的背景颜色。","背景颜色的高亮范围，喜欢通过快速打开和查找功能。颜色不能不透明，以免隐藏底层装饰。","高亮区域边框的背景颜色。","高亮显示符号的背景颜色，例如转到定义或转到下一个/上一个符号。颜色不能是不透明的，以免隐藏底层装饰。","高亮显示符号周围的边框的背景颜色。","编辑器光标颜色。","编辑器光标的背景色。可以自定义块型光标覆盖字符的颜色。","编辑器中空白字符的颜色。","编辑器缩进参考线的颜色。","编辑器活动缩进参考线的颜色。","编辑器行号的颜色。","编辑器活动行号的颜色",'"Id" 已被弃用，请改用 "editorLineNumber.activeForeground"。',"编辑器活动行号的颜色","编辑器标尺的颜色。","编辑器 CodeLens 的前景色","匹配括号的背景色","匹配括号外框的颜色","概览标尺边框的颜色。","编辑器概述标尺的背景色。仅当缩略图已启用且置于编辑器右侧时才使用。","编辑器导航线的背景色。导航线包括边缘符号和行号。","编辑器中不必要(未使用)的源代码的边框颜色。",'非必须(未使用)代码的在编辑器中显示的不透明度。例如，"#000000c0" 将以 75% 的不透明度显示代码。对于高对比度主题，请使用 ”editorUnnecessaryCode.border“ 主题来为非必须代码添加下划线，以避免颜色淡化。',"编辑器中虚影文本的边框颜色。","编辑器中虚影文本的前景色。","用于突出显示范围的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。","概览标尺中错误标记的颜色。","概览标尺中警告标记的颜色。","概览标尺中信息标记的颜色。","括号的前景色(1)。需要启用括号对着色。","括号的前景色(2)。需要启用括号对着色。","括号的前景色(3)。需要启用括号对着色。","括号的前景色(4)。需要启用括号对着色。","括号的前景色(5)。需要启用括号对着色。","括号的前景色(6)。需要启用括号对着色。","方括号出现意外的前景色。","非活动括号对指南的背景色(1)。需要启用括号对指南。","非活动括号对指南的背景色(2)。需要启用括号对指南。","非活动括号对指南的背景色(3)。需要启用括号对指南。","非活动括号对指南的背景色(4)。需要启用括号对指南。","非活动括号对指南的背景色(5)。需要启用括号对指南。","非活动括号对指南的背景色(6)。需要启用括号对指南。","活动括号对指南的背景色(1)。需要启用括号对指南。","活动括号对指南的背景色(2)。需要启用括号对指南。","活动括号对指南的背景色(3)。需要启用括号对指南。","活动括号对指南的背景色(4)。需要启用括号对指南。","活动括号对指南的背景色(5)。需要启用括号对指南。","活动括号对指南的背景色(6)。需要启用括号对指南。"],"vs/editor/contrib/anchorSelect/anchorSelect":["选择定位点","定位点设置为 {0}:{1}","设置选择定位点","转到选择定位点","选择从定位点到光标","取消选择定位点"],"vs/editor/contrib/bracketMatching/bracketMatching":["概览标尺上表示匹配括号的标记颜色。","转到括号","选择括号所有内容","转到括号(&&B)"],"vs/editor/contrib/caretOperations/caretOperations":["向左移动所选文本","向右移动所选文本"],"vs/editor/contrib/caretOperations/transpose":["转置字母"],"vs/editor/contrib/clipboard/clipboard":["剪切(&&T)","剪切","剪切","剪切","复制(&&C)","复制","复制","复制","复制为","复制为","粘贴(&&P)","粘贴","粘贴","粘贴","复制并突出显示语法"],"vs/editor/contrib/codeAction/codeActionCommands":["要运行的代码操作的种类。","控制何时应用返回的操作。","始终应用第一个返回的代码操作。","如果仅返回的第一个代码操作，则应用该操作。","不要应用返回的代码操作。","如果只应返回首选代码操作，则应返回控件。","应用代码操作时发生未知错误","快速修复...","没有可用的代码操作",'没有适用于"{0}"的首选代码操作','没有适用于"{0}"的代码操作',"没有可用的首选代码操作","没有可用的代码操作","重构...",'没有适用于"{0}"的首选重构','没有可用的"{0}"重构',"没有可用的首选重构","没有可用的重构操作","源代码操作...",'没有适用于"{0}"的首选源操作',"没有适用于“ {0}”的源操作","没有可用的首选源操作","没有可用的源代码操作","整理 import 语句","没有可用的整理 import 语句操作","全部修复","没有可用的“全部修复”操作","自动修复...","没有可用的自动修复程序"],"vs/editor/contrib/codeAction/lightBulbWidget":["显示代码操作。首选可用的快速修复({0})","显示代码操作({0})","显示代码操作"],"vs/editor/contrib/codelens/codelensController":["显示当前行的 Code Lens 命令"],"vs/editor/contrib/colorPicker/colorPickerWidget":["单击以切换颜色选项 (rgb/hsl/hex)"],"vs/editor/contrib/comment/comment":["切换行注释","切换行注释(&&T)","添加行注释","删除行注释","切换块注释","切换块注释(&&B)"],"vs/editor/contrib/contextmenu/contextmenu":["显示编辑器上下文菜单"],"vs/editor/contrib/cursorUndo/cursorUndo":["光标撤消","光标重做"],"vs/editor/contrib/find/findController":["查找","查找(&&F)","查找选定内容","查找下一个","查找上一个","查找下一个选择","查找上一个选择","替换","替换(&&R)"],"vs/editor/contrib/find/findWidget":["编辑器查找小组件中的“在选定内容中查找”图标。","用于指示编辑器查找小组件已折叠的图标。","用于指示编辑器查找小组件已展开的图标。","编辑器查找小组件中的“替换”图标。","编辑器查找小组件中的“全部替换”图标。","编辑器查找小组件中的“查找上一个”图标。","编辑器查找小组件中的“查找下一个”图标。","查找","查找","上一个匹配项","下一个匹配项","在选定内容中查找","关闭","替换","替换","替换","全部替换","切换替换","仅高亮了前 {0} 个结果，但所有查找操作均针对全文。","{1} 中的 {0}","无结果","找到 {0}","为“{1}”找到 {0}","在 {2} 处找到“{1}”的 {0}","为“{1}”找到 {0}","Ctrl+Enter 现在由全部替换改为插入换行。你可以修改editor.action.replaceAll 的按键绑定以覆盖此行为。"],"vs/editor/contrib/folding/folding":["展开","以递归方式展开","折叠","切换折叠","以递归方式折叠","折叠所有块注释","折叠所有区域","展开所有区域","折叠除所选区域之外的所有区域","展开除所选区域之外的所有区域","全部折叠","全部展开","跳转到父级折叠","转到上一个折叠范围","转到下一个折叠范围","折叠级别 {0}","折叠范围后面的背景颜色。颜色必须设为透明，以免隐藏底层装饰。","编辑器装订线中折叠控件的颜色。"],"vs/editor/contrib/folding/foldingDecorations":["编辑器字形边距中已展开的范围的图标。","编辑器字形边距中已折叠的范围的图标。"],"vs/editor/contrib/fontZoom/fontZoom":["放大编辑器字体","缩小编辑器字体","重置编辑器字体大小"],"vs/editor/contrib/format/format":["在第 {0} 行进行了 1 次格式编辑","在第 {1} 行进行了 {0} 次格式编辑","第 {0} 行到第 {1} 行间进行了 1 次格式编辑","第 {1} 行到第 {2} 行间进行了 {0} 次格式编辑"],"vs/editor/contrib/format/formatActions":["格式化文档","格式化选定内容"],"vs/editor/contrib/gotoError/gotoError":["转到下一个问题 (错误、警告、信息)","“转到下一个”标记的图标。","转到上一个问题 (错误、警告、信息)","“转到上一个”标记的图标。","转到文件中的下一个问题 (错误、警告、信息)","下一个问题(&&P)","转到文件中的上一个问题 (错误、警告、信息)","上一个问题(&&P)"],"vs/editor/contrib/gotoError/gotoErrorWidget":["错误","警告","信息","提示","{1} 中的 {0}","{0} 个问题(共 {1} 个)","{0} 个问题(共 {1} 个)","编辑器标记导航小组件错误颜色。","编辑器标记导航小组件错误标题背景色。","编辑器标记导航小组件警告颜色。","编辑器标记导航小组件警告标题背景色。","编辑器标记导航小组件信息颜色。","编辑器标记导航小组件信息标题背景色。","编辑器标记导航小组件背景色。"],"vs/editor/contrib/gotoSymbol/goToCommands":["快速查看","定义","未找到“{0}”的任何定义","找不到定义","转到定义","打开侧边的定义","速览定义","声明","未找到“{0}”的声明","未找到声明","转到声明","未找到“{0}”的声明","未找到声明","查看声明","类型定义","未找到“{0}”的类型定义","未找到类型定义","转到类型定义","快速查看类型定义","实现","未找到“{0}”的实现","未找到实现","转到实现","查看实现",'未找到"{0}"的引用',"未找到引用","转到引用","引用","查看引用","引用","转到任何符号","位置","无“{0}”的结果","引用","转到定义(&&D)","转到声明(&&D)","转到类型定义(&&T)","转到实现(&&I)","转到引用(&&R)"],"vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition":["单击显示 {0} 个定义。"],"vs/editor/contrib/gotoSymbol/peek/referencesController":["引用速览是否可见，例如“速览引用”或“速览定义”","正在加载...","{0} ({1})"],"vs/editor/contrib/gotoSymbol/peek/referencesTree":["{0} 个引用","{0} 个引用","引用"],"vs/editor/contrib/gotoSymbol/peek/referencesWidget":["无可用预览","无结果","引用"],"vs/editor/contrib/gotoSymbol/referencesModel":["在文件 {0} 的 {1} 行 {2} 列的符号","{0} 中 {1} 行 {2} 列的符号，{3}","{0} 中有 1 个符号，完整路径: {1}","{1} 中有 {0} 个符号，完整路径: {2}","未找到结果","在 {0} 中找到 1 个符号","在 {1} 中找到 {0} 个符号","在 {1} 个文件中找到 {0} 个符号"],"vs/editor/contrib/gotoSymbol/symbolNavigation":["是否存在只能通过键盘导航的符号位置。","{1} 的符号 {0}，下一个使用 {2}","{1} 的符号 {0}"],"vs/editor/contrib/hover/hover":["显示悬停","显示定义预览悬停"],"vs/editor/contrib/hover/markdownHoverParticipant":["正在加载...","出于性能原因，未对长行进行解析。解析长度阈值可通过“editor.maxTokenizationLineLength”进行配置。"],"vs/editor/contrib/hover/markerHoverParticipant":["查看问题","没有可用的快速修复","正在检查快速修复...","没有可用的快速修复","快速修复..."],"vs/editor/contrib/inPlaceReplace/inPlaceReplace":["替换为上一个值","替换为下一个值"],"vs/editor/contrib/indentation/indentation":["将缩进转换为空格","将缩进转换为制表符","已配置制表符大小","选择当前文件的制表符大小",'使用 "Tab" 缩进',"使用空格缩进","从内容中检测缩进方式","重新缩进行","重新缩进所选行"],"vs/editor/contrib/inlineCompletions/ghostTextController":["内联建议是否可见","内联建议是否以空白开头","内联建议是否以小于选项卡插入内容的空格开头","显示下一个内联建议","显示上一个内联建议","触发内联建议"],"vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant":["下一个","上一个","接受","建议:"],"vs/editor/contrib/linesOperations/linesOperations":["向上复制行","向上复制一行(&&C)","向下复制行","向下复制一行(&&P)","重复选择","重复选择(&&D)","向上移动行","向上移动一行(&&V)","向下移动行","向下移动一行(&&L)","按升序排列行","按降序排列行","删除重复行","裁剪尾随空格","删除行","行缩进","行减少缩进","在上面插入行","在下面插入行","删除左侧所有内容","删除右侧所有内容","合并行","转置光标处的字符","转换为大写","转换为小写","转换为词首字母大写","转换为蛇形命名法"],"vs/editor/contrib/linkedEditing/linkedEditing":["启动链接编辑","编辑器根据类型自动重命名时的背景色。"],"vs/editor/contrib/links/links":["执行命令","打开链接","cmd + 单击","ctrl + 单击","option + 单击","alt + 单击","执行命令 {0}","此链接格式不正确，无法打开: {0}","此链接目标已丢失，无法打开。","打开链接"],"vs/editor/contrib/message/messageController":["编辑器当前是否正在显示内联消息","无法在只读编辑器中编辑"],"vs/editor/contrib/multicursor/multicursor":["添加的光标: {0}","添加的游标: {0}","在上面添加光标","在上面添加光标(&&A)","在下面添加光标","在下面添加光标(&&D)","在行尾添加光标","在行尾添加光标(&&U)","在底部添加光标","在顶部添加光标","将下一个查找匹配项添加到选择","添加下一个匹配项(&&N)","将选择内容添加到上一查找匹配项","添加上一个匹配项(&&R)","将上次选择移动到下一个查找匹配项","将上个选择内容移动到上一查找匹配项","选择所有找到的查找匹配项","选择所有匹配项(&&O)","更改所有匹配项"],"vs/editor/contrib/parameterHints/parameterHints":["触发参数提示"],"vs/editor/contrib/parameterHints/parameterHintsWidget":["“显示下一个参数”提示的图标。","“显示上一个参数”提示的图标。","{0}，提示","参数提示中活动项的前景色。"],"vs/editor/contrib/peekView/peekView":["速览中是否嵌入了当前代码编辑器","关闭","速览视图标题区域背景颜色。","速览视图标题颜色。","速览视图标题信息颜色。","速览视图边框和箭头颜色。","速览视图结果列表背景色。","速览视图结果列表中行节点的前景色。","速览视图结果列表中文件节点的前景色。","速览视图结果列表中所选条目的背景色。","速览视图结果列表中所选条目的前景色。","速览视图编辑器背景色。","速览视图编辑器中装订线的背景色。","在速览视图结果列表中匹配突出显示颜色。","在速览视图编辑器中匹配突出显示颜色。","在速览视图编辑器中匹配项的突出显示边框。"],"vs/editor/contrib/quickAccess/gotoLineQuickAccess":["先打开文本编辑器然后跳转到行。","转到第 {0} 行第 {1} 个字符。","转到行 {0}。","当前行: {0}，字符: {1}。键入要导航到的行号(介于 1 至 {2} 之间)。","当前行: {0}，字符: {1}。 键入要导航到的行号。"],"vs/editor/contrib/quickAccess/gotoSymbolQuickAccess":["要转到符号，首先打开具有符号信息的文本编辑器。","活动文本编辑器不提供符号信息。","没有匹配的编辑器符号","没有编辑器符号","在侧边打开","在底部打开","符号({0})","属性({0})","方法({0})","函数({0})","构造函数 ({0})","变量({0})","类({0})","结构({0})","事件({0})","运算符({0})","接口({0})","命名空间({0})","包({0})","类型参数({0})","模块({0})","属性({0})","枚举({0})","枚举成员({0})","字符串({0})","文件({0})","数组({0})","数字({0})","布尔值({0})","对象({0})","键({0})","字段({0})","常量({0})"],"vs/editor/contrib/rename/rename":["无结果。","解析重命名位置时发生未知错误","正在重命名“{0}”","重命名 {0}","成功将“{0}”重命名为“{1}”。摘要: {2}","重命名无法应用修改","重命名无法计算修改","重命名符号","启用/禁用重命名之前预览更改的功能"],"vs/editor/contrib/rename/renameInputField":["重命名输入小组件是否可见",'重命名输入。键入新名称并按 "Enter" 提交。',"按 {0} 进行重命名，按 {1} 进行预览"],"vs/editor/contrib/smartSelect/smartSelect":["展开选择","扩大选区(&&E)","收起选择","缩小选区(&&S)"],"vs/editor/contrib/snippet/snippetController2":["编辑器目前是否在代码片段模式下","在代码片段模式下时是否存在下一制表位","在代码片段模式下时是否存在上一制表位"],"vs/editor/contrib/snippet/snippetVariables":["星期天","星期一","星期二","星期三","星期四","星期五","星期六","周日","周一","周二","周三","周四","周五","周六","一月","二月","三月","四月","5月","六月","七月","八月","九月","十月","十一月","十二月","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11 月","12月"],"vs/editor/contrib/suggest/suggest":["建议是否可见","建议详细信息是否可见","是否存在多条建议可供选择","插入当前建议是否会导致更改或导致已键入所有内容","按 Enter 时是否会插入建议","当前建议是否具有插入和替换行为","默认行为是否是插入或替换","当前建议是否支持解析更多详细信息"],"vs/editor/contrib/suggest/suggestController":["选择“{0}”后进行了其他 {1} 次编辑","触发建议","插入","插入","替换","替换","插入","显示更少","显示更多","重置建议小组件大小"],"vs/editor/contrib/suggest/suggestWidget":["建议小组件的背景色。","建议小组件的边框颜色。","建议小组件的前景色。","建议小组件中所选条目的前景色。","建议小组件中所选条目的图标前景色。","建议小组件中所选条目的背景色。","建议小组件中匹配内容的高亮颜色。","当某项获得焦点时，在建议小组件中突出显示的匹配项的颜色。","正在加载...","无建议。","{0}，文档: {1}","建议"],"vs/editor/contrib/suggest/suggestWidgetDetails":["关闭","正在加载…"],"vs/editor/contrib/suggest/suggestWidgetRenderer":["建议小组件中的详细信息的图标。","了解详细信息"],"vs/editor/contrib/suggest/suggestWidgetStatus":["{0} ({1})"],"vs/editor/contrib/symbolIcons/symbolIcons":["数组符号的前景色。这些符号将显示在大纲、痕迹导航栏和建议小组件中。","布尔符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","类符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","颜色符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","常量符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","构造函数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","枚举符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","枚举器成员符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","事件符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","字段符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","文件符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","文件夹符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","函数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","接口符号的前景色。这些符号将显示在大纲、痕迹导航栏和建议小组件中。","键符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","关键字符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","方法符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","模块符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","命名空间符号的前景颜色。这些符号出现在轮廓、痕迹导航栏和建议小部件中。","空符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","数字符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","对象符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","运算符符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","包符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","属性符号的前景色。这些符号出现在大纲、痕迹导航栏和建议小组件中。","参考符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","片段符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","字符串符号的前景颜色。这些符号出现在轮廓、痕迹导航栏和建议小部件中。","结构符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","文本符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","类型参数符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","单位符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。","变量符号的前景颜色。这些符号出现在大纲、痕迹导航栏和建议小部件中。"],"vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode":["切换 Tab 键移动焦点","Tab 键将移动到下一可聚焦的元素","Tab 键将插入制表符"],"vs/editor/contrib/tokenization/tokenization":["开发人员: 强制重新进行标记"],"vs/editor/contrib/unusualLineTerminators/unusualLineTerminators":["异常行终止符","检测到异常行终止符","文件“{0}”包含一个或多个异常的行终止符，例如行分隔符(LS)或段落分隔符(PS)。\r\n\r\n建议从文件中删除它们。可通过“editor.unusualLineTerminators”进行配置。","删除异常行终止符","忽略"],"vs/editor/contrib/wordHighlighter/wordHighlighter":["读取访问期间符号的背景色，例如读取变量时。颜色必须透明，以免隐藏下面的修饰效果。","写入访问过程中符号的背景色，例如写入变量时。颜色必须透明，以免隐藏下面的修饰效果。","符号在进行读取访问操作时的边框颜色，例如读取变量。","符号在进行写入访问操作时的边框颜色，例如写入变量。","用于突出显示符号的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。","用于突出显示写权限符号的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。","转到下一个突出显示的符号","转到上一个突出显示的符号","触发符号高亮"],"vs/editor/contrib/wordOperations/wordOperations":["删除 Word"],"vs/platform/actions/browser/menuEntryActionViewItem":["{0} ({1})","{0} ({1})"],"vs/platform/configuration/common/configurationRegistry":["默认语言配置替代","针对某种语言，配置替代编辑器设置。","此设置不支持按语言配置。","无法注册空属性",'无法注册“{0}”。其符合描述特定语言编辑器设置的表达式 "\\\\[.*\\\\]$"。请使用 "configurationDefaults"。',"无法注册“{0}”。此属性已注册。"],"vs/platform/contextkey/browser/contextKeyService":["用于返回上下文键的相关信息的命令"],"vs/platform/contextkey/common/contextkeys":["操作系统是否为 Windows"],"vs/platform/keybinding/common/abstractKeybindingService":["({0})已按下。正在等待按下第二个键...","组合键({0}，{1})不是命令。"],"vs/platform/list/browser/listService":["工作台","映射为 `Ctrl` (Windows 和 Linux) 或 `Command` (macOS)。","映射为 `Alt` (Windows 和 Linux) 或 `Option` (macOS)。","在通过鼠标多选树和列表条目时使用的修改键 (例如“资源管理器”、“打开的编辑器”和“源代码管理”视图)。“在侧边打开”功能所需的鼠标动作 (若可用) 将会相应调整，不与多选修改键冲突。","控制如何使用鼠标打开树和列表中的项(若支持)。请注意，如果此设置不适用，某些树和列表可能会选择忽略它。","控制列表和树是否支持工作台中的水平滚动。警告: 打开此设置影响会影响性能。","控制树缩进(以像素为单位)。","控制树是否应呈现缩进参考线。","控制列表和树是否具有平滑滚动效果。","对鼠标滚轮滚动事件的 `deltaX` 和 `deltaY` 乘上的系数。",'按下"Alt"时滚动速度倍增。',"简单键盘导航聚焦与键盘输入相匹配的元素。仅对前缀进行匹配。","高亮键盘导航会突出显示与键盘输入相匹配的元素。进一步向上和向下导航将仅遍历突出显示的元素。","筛选器键盘导航将筛选出并隐藏与键盘输入不匹配的所有元素。","控制工作台中的列表和树的键盘导航样式。它可为“简单”、“突出显示”或“筛选”。","控制列表和树中的键盘导航是否仅通过键入自动触发。如果设置为 `false` ，键盘导航只在执行 `list.toggleKeyboardNavigation` 命令时触发，您可以为该命令指定键盘快捷方式。","控制在单击文件夹名称时如何扩展树文件夹。请注意，如果不适用，某些树和列表可能会选择忽略此设置。"],"vs/platform/markers/common/markers":["错误","警告","信息"],"vs/platform/quickinput/browser/commandsQuickAccess":["{0}, {1}","最近使用","其他命令",'命令"{0}"导致错误 ({1})'],"vs/platform/quickinput/browser/helpQuickAccess":["全局命令","编辑器命令","{0}, {1}"],"vs/platform/theme/common/colorRegistry":["整体前景色。此颜色仅在不被组件覆盖时适用。","错误信息的整体前景色。此颜色仅在不被组件覆盖时适用。","工作台中图标的默认颜色。","焦点元素的整体边框颜色。此颜色仅在不被其他组件覆盖时适用。","在元素周围额外的一层边框，用来提高对比度从而区别其他元素。","在活动元素周围额外的一层边框，用来提高对比度从而区别其他元素。","文本中链接的前景色。","文本中链接在点击或鼠标悬停时的前景色 。","文本中代码块的背景颜色。","编辑器内小组件(如查找/替换)的阴影颜色。","输入框背景色。","输入框前景色。","输入框边框。","输入字段中已激活选项的边框颜色。","输入字段中激活选项的背景颜色。","输入字段中已激活的选项的前景色。","输入验证结果为信息级别时的背景色。","输入验证结果为信息级别时的前景色。","严重性为信息时输入验证的边框颜色。","严重性为警告时输入验证的背景色。","输入验证结果为警告级别时的前景色。","严重性为警告时输入验证的边框颜色。","输入验证结果为错误级别时的背景色。","输入验证结果为错误级别时的前景色。","严重性为错误时输入验证的边框颜色。","下拉列表背景色。","下拉列表前景色。","按钮前景色。","按钮背景色。","按钮在悬停时的背景颜色。","Badge 背景色。Badge 是小型的信息标签，如表示搜索结果数量的标签。","Badge 前景色。Badge 是小型的信息标签，如表示搜索结果数量的标签。","表示视图被滚动的滚动条阴影。","滚动条滑块背景色","滚动条滑块在悬停时的背景色","滚动条滑块在被点击时的背景色。","表示长时间操作的进度条的背景色。","编辑器中错误文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","编辑器中错误波浪线的前景色。","编辑器中错误框的边框颜色。","编辑器中警告文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","编辑器中警告波浪线的前景色。","编辑器中警告框的边框颜色。","编辑器中信息文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","编辑器中信息波浪线的前景色。","编辑器中信息框的边框颜色。","编辑器中提示波浪线的前景色。","编辑器中提示框的边框颜色。","编辑器背景色。","编辑器默认前景色。","编辑器组件(如查找/替换)背景颜色。","编辑器小部件的前景色，如查找/替换。","编辑器小部件的边框颜色。此颜色仅在小部件有边框且不被小部件重写时适用。","编辑器小部件大小调整条的边框颜色。此颜色仅在小部件有调整边框且不被小部件颜色覆盖时使用。","背景颜色快速选取器。快速选取器小部件是选取器(如命令调色板)的容器。","前景颜色快速选取器。快速选取器小部件是命令调色板等选取器的容器。","标题背景颜色快速选取器。快速选取器小部件是命令调色板等选取器的容器。","快速选取器分组标签的颜色。","快速选取器分组边框的颜色。","键绑定标签背景色。键绑定标签用于表示键盘快捷方式。","键绑定标签前景色。键绑定标签用于表示键盘快捷方式。","键绑定标签边框色。键绑定标签用于表示键盘快捷方式。","键绑定标签边框底部色。键绑定标签用于表示键盘快捷方式。","编辑器所选内容的颜色。","用以彰显高对比度的所选文本的颜色。","非活动编辑器中所选内容的颜色，颜色必须透明，以免隐藏下面的装饰效果。","具有与所选项相关内容的区域的颜色。颜色必须透明，以免隐藏下面的修饰效果。","与所选项内容相同的区域的边框颜色。","当前搜索匹配项的颜色。","其他搜索匹配项的颜色。颜色必须透明，以免隐藏下面的修饰效果。","限制搜索范围的颜色。颜色不能不透明，以免隐藏底层装饰。","当前搜索匹配项的边框颜色。","其他搜索匹配项的边框颜色。","限制搜索的范围的边框颜色。颜色必须透明，以免隐藏下面的修饰效果。","在下面突出显示悬停的字词。颜色必须透明，以免隐藏下面的修饰效果。","编辑器悬停提示的背景颜色。","编辑器悬停的前景颜色。","光标悬停时编辑器的边框颜色。","编辑器悬停状态栏的背景色。","活动链接颜色。","内联提示的前景色","内联提示的背景色","类型内联提示的前景色","类型内联提示的背景色","参数内联提示的前景色","参数内联提示的背景色","用于灯泡操作图标的颜色。","用于灯泡自动修复操作图标的颜色。","已插入的文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","已删除的文本的背景色。颜色必须透明，以免隐藏下面的修饰效果。","插入的文本的轮廓颜色。","被删除文本的轮廓颜色。","两个文本编辑器之间的边框颜色。","差异编辑器的对角线填充颜色。对角线填充用于并排差异视图。","焦点项在列表或树活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。","焦点项在列表或树活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。","列表/树活动时，焦点项目的列表/树边框色。活动的列表/树具有键盘焦点，非活动的没有。","已选项在列表或树活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。","已选项在列表或树活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。","已选项在列表/树活动时的列表/树图标前景颜色。活动的列表/树具有键盘焦点，非活动的则没有。","已选项在列表或树非活动时的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。","已选项在列表或树非活动时的前景颜色。活动的列表或树具有键盘焦点，非活动的没有。","已选项在列表/树非活动时的图标前景颜色。活动的列表/树具有键盘焦点，非活动的则没有。","非活动的列表或树控件中焦点项的背景颜色。活动的列表或树具有键盘焦点，非活动的没有。","列表/数非活动时，焦点项目的列表/树边框色。活动的列表/树具有键盘焦点，非活动的没有。","使用鼠标移动项目时，列表或树的背景颜色。","鼠标在项目上悬停时，列表或树的前景颜色。","使用鼠标移动项目时，列表或树进行拖放的背景颜色。","在列表或树中搜索时，其中匹配内容的高亮颜色。","在列表或树中搜索时，匹配活动聚焦项的突出显示内容的列表/树前景色。","列表和树中类型筛选器小组件的背景色。","列表和树中类型筛选器小组件的轮廓颜色。","当没有匹配项时，列表和树中类型筛选器小组件的轮廓颜色。","缩进参考线的树描边颜色。","缩进参考线的树描边颜色。","请改用 quickInputList.focusBackground","焦点项目的快速选择器前景色。","焦点项目的快速选取器图标前景色。","焦点项目的快速选择器背景色。","菜单的边框颜色。","菜单项的前景颜色。","菜单项的背景颜色。","菜单中选定菜单项的前景色。","菜单中所选菜单项的背景色。","菜单中所选菜单项的边框颜色。","菜单中分隔线的颜色。","使用鼠标悬停在操作上时显示工具栏背景","代码片段 Tab 位的高亮背景色。","代码片段 Tab 位的高亮边框颜色。","代码片段中最后的 Tab 位的高亮背景色。","代码片段中最后的制表位的高亮边框颜色。","用于查找匹配项的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。","用于突出显示所选内容的概述标尺标记颜色。颜色必须透明，以免隐藏下面的修饰效果。","用于查找匹配项的迷你地图标记颜色。","用于重复编辑器选择的缩略图标记颜色。","编辑器选区在迷你地图中对应的标记颜色。","用于错误的迷你地图标记颜色。","用于警告的迷你地图标记颜色。","迷你地图背景颜色。",'在缩略图中呈现的前景元素的不透明度。例如，"#000000c0" 将呈现不透明度为 75% 的元素。',"迷你地图滑块背景颜色。","悬停时，迷你地图滑块的背景颜色。","单击时，迷你地图滑块的背景颜色。","用于问题错误图标的颜色。","用于问题警告图标的颜色。","用于问题信息图标的颜色。"],"vs/platform/theme/common/iconRegistry":["要使用的字体的 ID。如果未设置，则使用最先定义的字体。","与图标定义关联的字体字符。","小组件中“关闭”操作的图标。"],"vs/platform/undoRedo/common/undoRedoService":["以下文件已关闭并且已在磁盘上修改: {0}。","以下文件已以不兼容的方式修改: {0}。","无法在所有文件中撤消“{0}”。{1}","无法在所有文件中撤消“{0}”。{1}","无法撤消所有文件的“{0}”，因为已更改 {1}","无法跨所有文件撤销“{0}”，因为 {1} 上已有一项撤消或重做操作正在运行","无法跨所有文件撤销“{0}”，因为同时发生了一项撤消或重做操作","是否要在所有文件中撤消“{0}”?","在 {0} 个文件中撤消","撤消此文件","取消","无法撤销“{0}”，因为已有一项撤消或重做操作正在运行。","是否要撤消“{0}”?","是","取消","无法在所有文件中重做“{0}”。{1}","无法在所有文件中重做“{0}”。{1}","无法对所有文件重做“{0}”，因为已更改 {1}","无法跨所有文件重做“{0}”，因为 {1} 上已有一项撤消或重做操作正在运行","无法跨所有文件重做“{0}”，因为同时发生了一项撤消或重做操作","无法重做“{0}”，因为已有一项撤消或重做操作正在运行。"]};function it(e,t,i,...n){var o,r,s="object"==typeof t?t.key:t,a=null!=(r=null==(o=(globalThis.MonacoEnvironment.locale||{})[e])?void 0:o[s])?r:i;return a||(a=i),function(e,t){return 0===t.length?e:String(e).replace(/\{(\d+)\}/g,((e,i)=>{var n,o=i[0];return null!=(n=t[o])?n:e}))}(a,n)}window.MonacoEnvironment.locale=function(){const e=Object.create(null);for(const t of et.bundles["vs/editor/editor.main"]){const i=et.keys[t],n=et.messages[t],o=tt[t]||n,r={};if(o)for(let e=0;e<i.length;e++){const t=i[e],s="string"==typeof t?t:t.key;let a=o[e];void 0===a&&(a=n[e]),r[s]=a}e[t]=r}return console.debug("setupLocale"),e}();let nt,ot,rt,st=!1,at=!1,lt=!1,ut=!1,ct=!1,dt=!1,ht="en";const gt="object"==typeof self?self:"object"==typeof global?global:{};let pt;void 0!==gt.vscode&&void 0!==gt.vscode.process?pt=gt.vscode.process:"undefined"!=typeof process&&(pt=process);const mt="string"==typeof(null===(Qe=null==pt?void 0:pt.versions)||void 0===Qe?void 0:Qe.electron)&&"renderer"===pt.type;if("object"!=typeof navigator||mt)if("object"==typeof pt){st="win32"===pt.platform,at="darwin"===pt.platform,lt="linux"===pt.platform,lt&&pt.env.SNAP&&pt.env.SNAP_REVISION,nt="en",ht="en";const e=pt.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),i=t.availableLanguages["*"];nt=t.locale,ht=i||"en",ot=t._translationsConfigFile}catch(rU){}ut=!0}else console.error("Unable to resolve platform.");else rt=navigator.userAgent,st=rt.indexOf("Windows")>=0,at=rt.indexOf("Macintosh")>=0,dt=(rt.indexOf("Macintosh")>=0||rt.indexOf("iPad")>=0||rt.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,lt=rt.indexOf("Linux")>=0,ct=!0,nt=navigator.language,ht=nt;const ft=st,vt=at,_t=lt,bt=ut,Ct=ct,wt=dt,yt=rt,St=function(){if(gt.setImmediate)return gt.setImmediate.bind(gt);if("function"==typeof gt.postMessage&&!gt.importScripts){let e=[];gt.addEventListener("message",(t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeSetImmediateId)return e.splice(i,1),void n.callback()}}));let t=0;return i=>{const n=++t;e.push({id:n,callback:i}),gt.postMessage({vscodeSetImmediateId:n},"*")}}if("function"==typeof(null==pt?void 0:pt.nextTick))return pt.nextTick.bind(pt);const e=Promise.resolve();return t=>e.then(t)}(),Dt=at||dt?2:st?1:3;let kt=!0,It=!1;function Et(){if(!It){It=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);kt=513===t[0]}return kt}const xt=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const i of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")e.indexOf(i)>=0||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function Lt(e){let t=xt;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const At={maxLen:1e3,windowSize:15,timeBudget:150};function Nt(e,t,i,n,o=At){if(i.length>o.maxLen){let r=e-o.maxLen/2;return r<0?r=0:n+=r,Nt(e,t,i=i.substring(r,e+o.maxLen/2),n,o)}const r=Date.now(),s=e-1-n;let a=-1,l=null;for(let u=1;!(Date.now()-r>=o.timeBudget);u++){const e=s-o.windowSize*u;t.lastIndex=Math.max(0,e);const n=Tt(t,i,s,a);if(!n&&l)break;if(l=n,e<=0)break;a=e}if(l){let e={word:l[0],startColumn:n+1+l.index,endColumn:n+1+l.index+l[0].length};return t.lastIndex=0,e}return null}function Tt(e,t,i,n){let o;for(;o=e.exec(t);){const t=o.index||0;if(t<=i&&e.lastIndex>=i)return o;if(n>0&&t>n)return null}return null}class Ot{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class Ft{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Mt{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Rt{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}compute(e,t,i){return i}}class Pt{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class Bt{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}function Wt(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class Vt extends Bt{constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return Wt(e,this.defaultValue)}}function Ht(e,t,i,n){if(void 0===e)return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(i,o),o=Math.min(n,o),0|o)}class zt extends Bt{constructor(e,t,i,n,o,r){void 0!==r&&(r.type="integer",r.default=i,r.minimum=n,r.maximum=o),super(e,t,i,r),this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){return Ht(e,t,i,n)}validate(e){return zt.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class Kt extends Bt{constructor(e,t,i,n,o){void 0!==o&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(Kt.float(e,this.defaultValue))}}class Ut extends Bt{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return Ut.string(e,this.defaultValue)}}function jt(e,t,i){return"string"!=typeof e||-1===i.indexOf(e)?t:e}class qt extends Bt{constructor(e,t,i,n,o){void 0!==o&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return jt(e,this.defaultValue,this._allowedValues)}}class $t extends Rt{constructor(e,t,i,n,o,r,s){void 0!==s&&(s.type="string",s.enum=o,s.default=n),super(e,t,i,s),this._allowedValues=o,this._convert=r}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var Gt,Zt;(Zt=Gt||(Gt={}))[Zt.Line=1]="Line",Zt[Zt.Block=2]="Block",Zt[Zt.Underline=3]="Underline",Zt[Zt.LineThin=4]="LineThin",Zt[Zt.BlockOutline=5]="BlockOutline",Zt[Zt.UnderlineThin=6]="UnderlineThin";class Yt extends Rt{constructor(){super(44,"fontLigatures",Yt.OFF,{anyOf:[{type:"boolean",description:it("vs/editor/common/config/editorOptions","fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:it("vs/editor/common/config/editorOptions","fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:it("vs/editor/common/config/editorOptions","fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?Yt.OFF:"true"===e?Yt.ON:e:Boolean(e)?Yt.ON:Yt.OFF}}Yt.OFF='"liga" off, "calt" off',Yt.ON='"liga" on, "calt" on';class Jt extends Rt{constructor(){super(46,"fontWeight",ii.fontWeight,{anyOf:[{type:"number",minimum:Jt.MINIMUM_VALUE,maximum:Jt.MAXIMUM_VALUE,errorMessage:it("vs/editor/common/config/editorOptions","fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Jt.SUGGESTION_VALUES}],default:ii.fontWeight,description:it("vs/editor/common/config/editorOptions","fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(zt.clampedInt(e,ii.fontWeight,Jt.MINIMUM_VALUE,Jt.MAXIMUM_VALUE))}}Jt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Jt.MINIMUM_VALUE=1,Jt.MAXIMUM_VALUE=1e3;class Xt extends Pt{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(e,t,i){return Xt.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const r=t.stableMinimapLayoutInput,s=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,u=e.scrollBeyondLastLine,c=e.minimap.renderCharacters;let d=o>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const h=e.minimap.maxColumn,g=e.minimap.size,p=e.minimap.side,m=e.verticalScrollbarWidth,f=e.viewLineCount,v=e.remainingWidth,_=e.isViewportWrapping,b=c?2:3;let C=Math.floor(o*n);const w=C/o;let y=!1,S=!1,D=b*d,k=d/o,I=1;if("fill"===g||"fit"===g){const{typicalViewportLineCount:i,extraLinesBeyondLastLine:r,desiredRatio:l,minimapLineCount:c}=Xt.computeContainedMinimapLineCount({viewLineCount:f,scrollBeyondLastLine:u,height:n,lineHeight:a,pixelRatio:o});if(f/c>1)y=!0,S=!0,d=1,D=1,k=d/o;else{let n=!1,u=d+1;if("fit"===g){const e=Math.ceil((f+r)*D);_&&s&&v<=t.stableFitRemainingWidth?(n=!0,u=t.stableFitMaxMinimapScale):n=e>C}if("fill"===g||n){y=!0;const n=d;D=Math.min(a*o,Math.max(1,Math.floor(1/l))),_&&s&&v<=t.stableFitRemainingWidth&&(u=t.stableFitMaxMinimapScale),d=Math.min(u,Math.max(1,Math.floor(D/b))),d>n&&(I=Math.min(2,d/n)),k=d/o/I,C=Math.ceil(Math.max(i,f+r)*D),_?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=v,t.stableFitMaxMinimapScale=d):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const E=Math.floor(h*k),x=Math.min(E,Math.max(0,Math.floor((v-m-2)*k/(l+k)))+8);let L=Math.floor(o*x);const A=L/o;L=Math.floor(L*I);return{renderMinimap:c?1:2,minimapLeft:"left"===p?0:i-x-m,minimapWidth:x,minimapHeightIsEditorHeight:y,minimapIsSampling:S,minimapScale:d,minimapLineHeight:D,minimapCanvasInnerWidth:L,minimapCanvasInnerHeight:C,minimapCanvasOuterWidth:A,minimapCanvasOuterHeight:w}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,o=0|t.lineHeight,r=0|t.lineNumbersDigitCount,s=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,u=t.viewLineCount,c=e.get(121),d="inherit"===c?e.get(120):c,h="inherit"===d?e.get(116):d,g=e.get(119),p=e.get(2),m=t.isDominatedByLongLines,f=e.get(49),v=0!==e.get(59).renderType,_=e.get(60),b=e.get(93),C=e.get(64),w=e.get(91),y=w.verticalScrollbarSize,S=w.verticalHasArrows,D=w.arrowSize,k=w.horizontalScrollbarSize,I=e.get(57),E=e.get(37);let x;if("string"==typeof I&&/^\d+(\.\d+)?ch$/.test(I)){const e=parseFloat(I.substr(0,I.length-2));x=zt.clampedInt(e*s,0,0,1e3)}else x=zt.clampedInt(I,0,0,1e3);E&&(x+=16);let L=0;if(v){const e=Math.max(r,_);L=Math.round(e*a)}let A=0;f&&(A=o);let N=0,T=N+A,O=T+L,F=O+x;const M=i-A-L-x;let R=!1,P=!1,B=-1;2!==p&&("inherit"===d&&m?(R=!0,P=!0):"on"===h||"bounded"===h?P=!0:"wordWrapColumn"===h&&(B=g));const W=Xt._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:s,pixelRatio:l,scrollBeyondLastLine:b,minimap:C,verticalScrollbarWidth:y,viewLineCount:u,remainingWidth:M,isViewportWrapping:P},t.memory||new Mt);0!==W.renderMinimap&&0===W.minimapLeft&&(N+=W.minimapWidth,T+=W.minimapWidth,O+=W.minimapWidth,F+=W.minimapWidth);const V=M-W.minimapWidth,H=Math.max(1,Math.floor((V-y-2)/s)),z=S?D:0;return P&&(B=Math.max(1,H),"bounded"===h&&(B=Math.min(B,g))),{width:i,height:n,glyphMarginLeft:N,glyphMarginWidth:A,lineNumbersLeft:T,lineNumbersWidth:L,decorationsLeft:O,decorationsWidth:x,contentLeft:F,contentWidth:V,minimap:W,viewportColumn:H,isWordWrapMinified:R,isViewportWrapping:P,wrappingColumn:B,verticalScrollbarWidth:y,horizontalScrollbarHeight:k,overviewRuler:{top:z,width:y,height:n-2*z,right:0}}}}function Qt(e){const t=e.get(86);return"editable"===t?e.get(80):"on"!==t}function ei(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}function ti(e,t,i){const n=i.indexOf(e);return-1===n?t:i[n]}const ii={fontFamily:vt?"Menlo, Monaco, 'Courier New', monospace":_t?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:vt?12:14,lineHeight:0,letterSpacing:0},ni={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},oi=[];function ri(e){return oi[e.id]=e,e}const si={acceptSuggestionOnCommitCharacter:ri(new Vt(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:it("vs/editor/common/config/editorOptions","acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ri(new qt(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",it("vs/editor/common/config/editorOptions","acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:it("vs/editor/common/config/editorOptions","acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ri(new class extends Rt{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[it("vs/editor/common/config/editorOptions","accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),it("vs/editor/common/config/editorOptions","accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),it("vs/editor/common/config/editorOptions","accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:it("vs/editor/common/config/editorOptions","accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:ri(new zt(3,"accessibilityPageSize",10,1,1073741824,{description:it("vs/editor/common/config/editorOptions","accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:ri(new Ut(4,"ariaLabel",it("vs/editor/common/config/editorOptions","editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:ri(new qt(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",it("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),it("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:it("vs/editor/common/config/editorOptions","autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:ri(new qt(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",it("vs/editor/common/config/editorOptions","editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:it("vs/editor/common/config/editorOptions","autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ri(new qt(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",it("vs/editor/common/config/editorOptions","editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:it("vs/editor/common/config/editorOptions","autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ri(new qt(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",it("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),it("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:it("vs/editor/common/config/editorOptions","autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ri(new $t(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[it("vs/editor/common/config/editorOptions","editor.autoIndent.none","The editor will not insert indentation automatically."),it("vs/editor/common/config/editorOptions","editor.autoIndent.keep","The editor will keep the current line's indentation."),it("vs/editor/common/config/editorOptions","editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),it("vs/editor/common/config/editorOptions","editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),it("vs/editor/common/config/editorOptions","editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:it("vs/editor/common/config/editorOptions","autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ri(new Vt(10,"automaticLayout",!1)),autoSurround:ri(new qt(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),it("vs/editor/common/config/editorOptions","editor.autoSurround.quotes","Surround with quotes but not brackets."),it("vs/editor/common/config/editorOptions","editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:it("vs/editor/common/config/editorOptions","autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:ri(new class extends Rt{constructor(){const e={enabled:ni.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:it("vs/editor/common/config/editorOptions","bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:Wt(e.enabled,this.defaultValue.enabled)}}}),bracketPairGuides:ri(new class extends Rt{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[it("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.true","Enables bracket pair guides."),it("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),it("vs/editor/common/config/editorOptions","editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:it("vs/editor/common/config/editorOptions","editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[it("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),it("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),it("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:it("vs/editor/common/config/editorOptions","editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:it("vs/editor/common/config/editorOptions","editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:it("vs/editor/common/config/editorOptions","editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:it("vs/editor/common/config/editorOptions","editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{bracketPairs:ti(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ti(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Wt(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Wt(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Wt(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:ri(new Vt(103,"stickyTabStops",!1,{description:it("vs/editor/common/config/editorOptions","stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ri(new Vt(14,"codeLens",!0,{description:it("vs/editor/common/config/editorOptions","codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ri(new Ut(15,"codeLensFontFamily","",{description:it("vs/editor/common/config/editorOptions","codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ri(new zt(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:it("vs/editor/common/config/editorOptions","codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:ri(new Vt(17,"colorDecorators",!0,{description:it("vs/editor/common/config/editorOptions","colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:ri(new Vt(18,"columnSelection",!1,{description:it("vs/editor/common/config/editorOptions","columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ri(new class extends Rt{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:it("vs/editor/common/config/editorOptions","comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:it("vs/editor/common/config/editorOptions","comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:Wt(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Wt(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:ri(new Vt(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ri(new Vt(21,"copyWithSyntaxHighlighting",!0,{description:it("vs/editor/common/config/editorOptions","copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ri(new $t(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:it("vs/editor/common/config/editorOptions","cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ri(new Vt(23,"cursorSmoothCaretAnimation",!1,{description:it("vs/editor/common/config/editorOptions","cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ri(new $t(24,"cursorStyle",Gt.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return Gt.Line;case"block":return Gt.Block;case"underline":return Gt.Underline;case"line-thin":return Gt.LineThin;case"block-outline":return Gt.BlockOutline;case"underline-thin":return Gt.UnderlineThin}}),{description:it("vs/editor/common/config/editorOptions","cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ri(new zt(25,"cursorSurroundingLines",0,0,1073741824,{description:it("vs/editor/common/config/editorOptions","cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ri(new qt(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),it("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:it("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:ri(new zt(27,"cursorWidth",0,0,1073741824,{markdownDescription:it("vs/editor/common/config/editorOptions","cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ri(new Vt(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ri(new Vt(29,"disableMonospaceOptimizations",!1)),domReadOnly:ri(new Vt(30,"domReadOnly",!1)),dragAndDrop:ri(new Vt(31,"dragAndDrop",!0,{description:it("vs/editor/common/config/editorOptions","dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ri(new class extends Vt{constructor(){super(32,"emptySelectionClipboard",!0,{description:it("vs/editor/common/config/editorOptions","emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),extraEditorClassName:ri(new Ut(33,"extraEditorClassName","")),fastScrollSensitivity:ri(new Kt(34,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:it("vs/editor/common/config/editorOptions","fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ri(new class extends Rt{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:it("vs/editor/common/config/editorOptions","find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[it("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),it("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),it("vs/editor/common/config/editorOptions","editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:it("vs/editor/common/config/editorOptions","find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[it("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),it("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),it("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:it("vs/editor/common/config/editorOptions","find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:it("vs/editor/common/config/editorOptions","find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:vt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:it("vs/editor/common/config/editorOptions","find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:it("vs/editor/common/config/editorOptions","find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:Wt(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":jt(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":jt(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Wt(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Wt(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Wt(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:ri(new Vt(36,"fixedOverflowWidgets",!1)),folding:ri(new Vt(37,"folding",!0,{description:it("vs/editor/common/config/editorOptions","folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ri(new qt(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),it("vs/editor/common/config/editorOptions","foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:it("vs/editor/common/config/editorOptions","foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ri(new Vt(39,"foldingHighlight",!0,{description:it("vs/editor/common/config/editorOptions","foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:ri(new Vt(40,"foldingImportsByDefault",!1,{description:it("vs/editor/common/config/editorOptions","foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:ri(new Vt(41,"unfoldOnClickAfterEndOfLine",!1,{description:it("vs/editor/common/config/editorOptions","unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ri(new Ut(42,"fontFamily",ii.fontFamily,{description:it("vs/editor/common/config/editorOptions","fontFamily","Controls the font family.")})),fontInfo:ri(new class extends Pt{constructor(){super(43)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:ri(new Yt),fontSize:ri(new class extends Bt{constructor(){super(45,"fontSize",ii.fontSize,{type:"number",minimum:6,maximum:100,default:ii.fontSize,description:it("vs/editor/common/config/editorOptions","fontSize","Controls the font size in pixels.")})}validate(e){let t=Kt.float(e,this.defaultValue);return 0===t?ii.fontSize:Kt.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:ri(new Jt),formatOnPaste:ri(new Vt(47,"formatOnPaste",!1,{description:it("vs/editor/common/config/editorOptions","formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ri(new Vt(48,"formatOnType",!1,{description:it("vs/editor/common/config/editorOptions","formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ri(new Vt(49,"glyphMargin",!0,{description:it("vs/editor/common/config/editorOptions","glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ri(new class extends Rt{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[it("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),it("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),it("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:it("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:it("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:it("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:it("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:it("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:it("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:it("vs/editor/common/config/editorOptions","alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:it("vs/editor/common/config/editorOptions","alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:it("vs/editor/common/config/editorOptions","alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:it("vs/editor/common/config/editorOptions","alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:it("vs/editor/common/config/editorOptions","alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,r;if(!e||"object"!=typeof e)return this.defaultValue;const s=e;return{multiple:jt(s.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=s.multipleDefinitions)&&void 0!==t?t:jt(s.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=s.multipleTypeDefinitions)&&void 0!==i?i:jt(s.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=s.multipleDeclarations)&&void 0!==n?n:jt(s.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=s.multipleImplementations)&&void 0!==o?o:jt(s.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(r=s.multipleReferences)&&void 0!==r?r:jt(s.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Ut.string(s.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Ut.string(s.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Ut.string(s.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Ut.string(s.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Ut.string(s.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:ri(new Vt(51,"hideCursorInOverviewRuler",!1,{description:it("vs/editor/common/config/editorOptions","hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:ri(new class extends Rt{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:it("vs/editor/common/config/editorOptions","hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:it("vs/editor/common/config/editorOptions","hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:it("vs/editor/common/config/editorOptions","hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:it("vs/editor/common/config/editorOptions","hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Wt(t.enabled,this.defaultValue.enabled),delay:zt.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Wt(t.sticky,this.defaultValue.sticky),above:Wt(t.above,this.defaultValue.above)}}}),inDiffEditor:ri(new Vt(53,"inDiffEditor",!1)),letterSpacing:ri(new Kt(55,"letterSpacing",ii.letterSpacing,(e=>Kt.clamp(e,-5,20)),{description:it("vs/editor/common/config/editorOptions","letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ri(new class extends Rt{constructor(){const e={enabled:!0};super(56,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:it("vs/editor/common/config/editorOptions","codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:Wt(e.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:ri(new Bt(57,"lineDecorationsWidth",10)),lineHeight:ri(new class extends Kt{constructor(){super(58,"lineHeight",ii.lineHeight,(e=>Kt.clamp(e,0,150)),{markdownDescription:it("vs/editor/common/config/editorOptions","lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:ri(new class extends Rt{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[it("vs/editor/common/config/editorOptions","lineNumbers.off","Line numbers are not rendered."),it("vs/editor/common/config/editorOptions","lineNumbers.on","Line numbers are rendered as absolute number."),it("vs/editor/common/config/editorOptions","lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),it("vs/editor/common/config/editorOptions","lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:it("vs/editor/common/config/editorOptions","lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:ri(new zt(60,"lineNumbersMinChars",5,1,300)),linkedEditing:ri(new Vt(61,"linkedEditing",!1,{description:it("vs/editor/common/config/editorOptions","linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:ri(new Vt(62,"links",!0,{description:it("vs/editor/common/config/editorOptions","links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ri(new qt(63,"matchBrackets","always",["always","near","never"],{description:it("vs/editor/common/config/editorOptions","matchBrackets","Highlight matching brackets.")})),minimap:ri(new class extends Rt{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:it("vs/editor/common/config/editorOptions","minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[it("vs/editor/common/config/editorOptions","minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),it("vs/editor/common/config/editorOptions","minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),it("vs/editor/common/config/editorOptions","minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:it("vs/editor/common/config/editorOptions","minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:it("vs/editor/common/config/editorOptions","minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:it("vs/editor/common/config/editorOptions","minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:it("vs/editor/common/config/editorOptions","minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:it("vs/editor/common/config/editorOptions","minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:it("vs/editor/common/config/editorOptions","minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Wt(t.enabled,this.defaultValue.enabled),size:jt(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:jt(t.side,this.defaultValue.side,["right","left"]),showSlider:jt(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Wt(t.renderCharacters,this.defaultValue.renderCharacters),scale:zt.clampedInt(t.scale,1,1,3),maxColumn:zt.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:ri(new qt(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ri(new Kt(66,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:it("vs/editor/common/config/editorOptions","mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ri(new Vt(67,"mouseWheelZoom",!1,{markdownDescription:it("vs/editor/common/config/editorOptions","mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ri(new Vt(68,"multiCursorMergeOverlapping",!0,{description:it("vs/editor/common/config/editorOptions","multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ri(new $t(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?vt?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[it("vs/editor/common/config/editorOptions","multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),it("vs/editor/common/config/editorOptions","multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:it("vs/editor/common/config/editorOptions",{key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ri(new qt(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[it("vs/editor/common/config/editorOptions","multiCursorPaste.spread","Each cursor pastes a single line of the text."),it("vs/editor/common/config/editorOptions","multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:it("vs/editor/common/config/editorOptions","multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:ri(new Vt(71,"occurrencesHighlight",!0,{description:it("vs/editor/common/config/editorOptions","occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:ri(new Vt(72,"overviewRulerBorder",!0,{description:it("vs/editor/common/config/editorOptions","overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ri(new zt(73,"overviewRulerLanes",3,0,3)),padding:ri(new class extends Rt{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:it("vs/editor/common/config/editorOptions","padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:it("vs/editor/common/config/editorOptions","padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:zt.clampedInt(t.top,0,0,1e3),bottom:zt.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:ri(new class extends Rt{constructor(){const e={enabled:!0,cycle:!1};super(75,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:it("vs/editor/common/config/editorOptions","parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:it("vs/editor/common/config/editorOptions","parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Wt(t.enabled,this.defaultValue.enabled),cycle:Wt(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:ri(new qt(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),it("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:it("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ri(new Vt(77,"definitionLinkOpensInPeek",!1,{description:it("vs/editor/common/config/editorOptions","definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ri(new class extends Rt{constructor(){const e={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:it("vs/editor/common/config/editorOptions","quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:it("vs/editor/common/config/editorOptions","quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:it("vs/editor/common/config/editorOptions","quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:it("vs/editor/common/config/editorOptions","quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,i={other:Wt(t.other,this.defaultValue.other),comments:Wt(t.comments,this.defaultValue.comments),strings:Wt(t.strings,this.defaultValue.strings)};return!!(i.other&&i.comments&&i.strings)||!!(i.other||i.comments||i.strings)&&i}return this.defaultValue}}),quickSuggestionsDelay:ri(new zt(79,"quickSuggestionsDelay",10,0,1073741824,{description:it("vs/editor/common/config/editorOptions","quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ri(new Vt(80,"readOnly",!1)),renameOnType:ri(new Vt(81,"renameOnType",!1,{description:it("vs/editor/common/config/editorOptions","renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:it("vs/editor/common/config/editorOptions","renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ri(new Vt(82,"renderControlCharacters",!0,{description:it("vs/editor/common/config/editorOptions","renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:ri(new Vt(83,"renderFinalNewline",!0,{description:it("vs/editor/common/config/editorOptions","renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ri(new qt(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",it("vs/editor/common/config/editorOptions","renderLineHighlight.all","Highlights both the gutter and the current line.")],description:it("vs/editor/common/config/editorOptions","renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ri(new Vt(85,"renderLineHighlightOnlyWhenFocus",!1,{description:it("vs/editor/common/config/editorOptions","renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ri(new qt(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ri(new qt(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",it("vs/editor/common/config/editorOptions","renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),it("vs/editor/common/config/editorOptions","renderWhitespace.selection","Render whitespace characters only on selected text."),it("vs/editor/common/config/editorOptions","renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:it("vs/editor/common/config/editorOptions","renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ri(new zt(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ri(new Vt(89,"roundedSelection",!0,{description:it("vs/editor/common/config/editorOptions","roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ri(new class extends Rt{constructor(){const e=[],t={type:"number",description:it("vs/editor/common/config/editorOptions","rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:it("vs/editor/common/config/editorOptions","rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:it("vs/editor/common/config/editorOptions","rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if("number"==typeof i)t.push({column:zt.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"==typeof i){const e=i;t.push({column:zt.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:ri(new class extends Rt{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[it("vs/editor/common/config/editorOptions","scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),it("vs/editor/common/config/editorOptions","scrollbar.vertical.visible","The vertical scrollbar will always be visible."),it("vs/editor/common/config/editorOptions","scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:it("vs/editor/common/config/editorOptions","scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[it("vs/editor/common/config/editorOptions","scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),it("vs/editor/common/config/editorOptions","scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),it("vs/editor/common/config/editorOptions","scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:it("vs/editor/common/config/editorOptions","scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:it("vs/editor/common/config/editorOptions","scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:it("vs/editor/common/config/editorOptions","scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:it("vs/editor/common/config/editorOptions","scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,i=zt.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=zt.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:zt.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ei(t.vertical,this.defaultValue.vertical),horizontal:ei(t.horizontal,this.defaultValue.horizontal),useShadows:Wt(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Wt(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Wt(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Wt(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Wt(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:zt.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:zt.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:Wt(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:ri(new zt(92,"scrollBeyondLastColumn",5,0,1073741824,{description:it("vs/editor/common/config/editorOptions","scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ri(new Vt(93,"scrollBeyondLastLine",!0,{description:it("vs/editor/common/config/editorOptions","scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ri(new Vt(94,"scrollPredominantAxis",!0,{description:it("vs/editor/common/config/editorOptions","scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ri(new Vt(95,"selectionClipboard",!0,{description:it("vs/editor/common/config/editorOptions","selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:_t})),selectionHighlight:ri(new Vt(96,"selectionHighlight",!0,{description:it("vs/editor/common/config/editorOptions","selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ri(new Vt(97,"selectOnLineNumbers",!0)),showFoldingControls:ri(new qt(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","showFoldingControls.always","Always show the folding controls."),it("vs/editor/common/config/editorOptions","showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:it("vs/editor/common/config/editorOptions","showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ri(new Vt(99,"showUnused",!0,{description:it("vs/editor/common/config/editorOptions","showUnused","Controls fading out of unused code.")})),showDeprecated:ri(new Vt(124,"showDeprecated",!0,{description:it("vs/editor/common/config/editorOptions","showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ri(new class extends Rt{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:it("vs/editor/common/config/editorOptions","inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:it("vs/editor/common/config/editorOptions","inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:it("vs/editor/common/config/editorOptions","inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Wt(t.enabled,this.defaultValue.enabled),fontSize:zt.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Ut.string(t.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:ri(new qt(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),it("vs/editor/common/config/editorOptions","snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),it("vs/editor/common/config/editorOptions","snippetSuggestions.inline","Show snippets suggestions with other suggestions."),it("vs/editor/common/config/editorOptions","snippetSuggestions.none","Do not show snippet suggestions.")],description:it("vs/editor/common/config/editorOptions","snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ri(new class extends Rt{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:it("vs/editor/common/config/editorOptions","selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:Wt(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:ri(new Vt(102,"smoothScrolling",!1,{description:it("vs/editor/common/config/editorOptions","smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ri(new zt(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ri(new class extends Rt{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[it("vs/editor/common/config/editorOptions","suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),it("vs/editor/common/config/editorOptions","suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:it("vs/editor/common/config/editorOptions","suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:it("vs/editor/common/config/editorOptions","suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:it("vs/editor/common/config/editorOptions","suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:it("vs/editor/common/config/editorOptions","suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:it("vs/editor/common/config/editorOptions","suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:it("vs/editor/common/config/editorOptions","suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:it("vs/editor/common/config/editorOptions","suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:it("vs/editor/common/config/editorOptions","suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:it("vs/editor/common/config/editorOptions","suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:it("vs/editor/common/config/editorOptions","suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:it("vs/editor/common/config/editorOptions","deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:it("vs/editor/common/config/editorOptions","editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:jt(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Wt(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Wt(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Wt(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Wt(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:Wt(t.showIcons,this.defaultValue.showIcons),showStatusBar:Wt(t.showStatusBar,this.defaultValue.showStatusBar),preview:Wt(t.preview,this.defaultValue.preview),previewMode:jt(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Wt(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Wt(t.showMethods,this.defaultValue.showMethods),showFunctions:Wt(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Wt(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Wt(t.showDeprecated,this.defaultValue.showDeprecated),showFields:Wt(t.showFields,this.defaultValue.showFields),showVariables:Wt(t.showVariables,this.defaultValue.showVariables),showClasses:Wt(t.showClasses,this.defaultValue.showClasses),showStructs:Wt(t.showStructs,this.defaultValue.showStructs),showInterfaces:Wt(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Wt(t.showModules,this.defaultValue.showModules),showProperties:Wt(t.showProperties,this.defaultValue.showProperties),showEvents:Wt(t.showEvents,this.defaultValue.showEvents),showOperators:Wt(t.showOperators,this.defaultValue.showOperators),showUnits:Wt(t.showUnits,this.defaultValue.showUnits),showValues:Wt(t.showValues,this.defaultValue.showValues),showConstants:Wt(t.showConstants,this.defaultValue.showConstants),showEnums:Wt(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Wt(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Wt(t.showKeywords,this.defaultValue.showKeywords),showWords:Wt(t.showWords,this.defaultValue.showWords),showColors:Wt(t.showColors,this.defaultValue.showColors),showFiles:Wt(t.showFiles,this.defaultValue.showFiles),showReferences:Wt(t.showReferences,this.defaultValue.showReferences),showFolders:Wt(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Wt(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Wt(t.showSnippets,this.defaultValue.showSnippets),showUsers:Wt(t.showUsers,this.defaultValue.showUsers),showIssues:Wt(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:ri(new class extends Rt{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:it("vs/editor/common/config/editorOptions","inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:Wt(t.enabled,this.defaultValue.enabled),mode:jt(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:ri(new zt(106,"suggestFontSize",0,0,1e3,{markdownDescription:it("vs/editor/common/config/editorOptions","suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:ri(new zt(107,"suggestLineHeight",0,0,1e3,{markdownDescription:it("vs/editor/common/config/editorOptions","suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:ri(new Vt(108,"suggestOnTriggerCharacters",!0,{description:it("vs/editor/common/config/editorOptions","suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ri(new qt(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[it("vs/editor/common/config/editorOptions","suggestSelection.first","Always select the first suggestion."),it("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),it("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:it("vs/editor/common/config/editorOptions","suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ri(new qt(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),it("vs/editor/common/config/editorOptions","tabCompletion.off","Disable tab completions."),it("vs/editor/common/config/editorOptions","tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:it("vs/editor/common/config/editorOptions","tabCompletion","Enables tab completions.")})),tabIndex:ri(new zt(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:ri(new qt(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","unusualLineTerminators.auto","Unusual line terminators are automatically removed."),it("vs/editor/common/config/editorOptions","unusualLineTerminators.off","Unusual line terminators are ignored."),it("vs/editor/common/config/editorOptions","unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:it("vs/editor/common/config/editorOptions","unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ri(new Vt(113,"useShadowDOM",!0)),useTabStops:ri(new Vt(114,"useTabStops",!0,{description:it("vs/editor/common/config/editorOptions","useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:ri(new Ut(115,"wordSeparators","`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",{description:it("vs/editor/common/config/editorOptions","wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ri(new qt(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[it("vs/editor/common/config/editorOptions","wordWrap.off","Lines will never wrap."),it("vs/editor/common/config/editorOptions","wordWrap.on","Lines will wrap at the viewport width."),it("vs/editor/common/config/editorOptions",{key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),it("vs/editor/common/config/editorOptions",{key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:it("vs/editor/common/config/editorOptions",{key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ri(new Ut(117,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:ri(new Ut(118,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:ri(new zt(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:it("vs/editor/common/config/editorOptions",{key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ri(new qt(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ri(new qt(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ri(new $t(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[it("vs/editor/common/config/editorOptions","wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),it("vs/editor/common/config/editorOptions","wrappingIndent.same","Wrapped lines get the same indentation as the parent."),it("vs/editor/common/config/editorOptions","wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),it("vs/editor/common/config/editorOptions","wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:it("vs/editor/common/config/editorOptions","wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:ri(new qt(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[it("vs/editor/common/config/editorOptions","wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),it("vs/editor/common/config/editorOptions","wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:it("vs/editor/common/config/editorOptions","wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:ri(new class extends Pt{constructor(){super(126,[65,33])}compute(e,t,i){const n=["monaco-editor"];return t.get(33)&&n.push(t.get(33)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(65)?n.push("mouse-default"):"copy"===t.get(65)&&n.push("mouse-copy"),t.get(99)&&n.push("showUnused"),t.get(124)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:ri(new class extends Pt{constructor(){super(127)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:ri(new class extends Pt{constructor(){super(128,[80])}compute(e,t,i){return!!t.get(80)||e.tabFocusMode}}),layoutInfo:ri(new Xt),wrappingInfo:ri(new class extends Pt{constructor(){super(130,[129])}compute(e,t,i){const n=t.get(129);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}})};const ai=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function li(e){di(e)||ai.onUnexpectedError(e)}function ui(e){di(e)||ai.onUnexpectedExternalError(e)}function ci(e){if(e instanceof Error){let{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack}}return e}function di(e){return e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message}function hi(){const e=new Error("Canceled");return e.name=e.message,e}function gi(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}class pi extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}function mi(e){const t=this;let i,n=!1;return function(){return n||(n=!0,i=e.apply(t,arguments)),i}}var fi;!function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.find=function(e,t){for(const i of e)if(t(i))return i},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){let i=0;for(const n of e)yield t(n,i++)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.concatNested=function*(e){for(const t of e)for(const e of t)yield e},e.reduce=function(e,t,i){let n=i;for(const o of e)n=t(n,o);return n},e.slice=function*(e,t,i=e.length){for(t<0&&(t+=e.length),i<0?i+=e.length:i>e.length&&(i=e.length);t<i;t++)yield e[t]},e.consume=function(t,i=Number.POSITIVE_INFINITY){const n=[];if(0===i)return[n,t];const o=t[Symbol.iterator]();for(let r=0;r<i;r++){const t=o.next();if(t.done)return[n,e.empty()];n.push(t.value)}return[n,{[Symbol.iterator]:()=>o}]},e.equals=function(e,t,i=((e,t)=>e===t)){const n=e[Symbol.iterator](),o=t[Symbol.iterator]();for(;;){const e=n.next(),t=o.next();if(e.done!==t.done)return!1;if(e.done)return!0;if(!i(e.value,t.value))return!1}}}(fi||(fi={}));class vi extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function _i(e){return"function"==typeof e.dispose&&0===e.dispose.length}function bi(e){if(fi.is(e)){let t=[];for(const i of e)if(i)try{i.dispose()}catch(rU){t.push(rU)}if(1===t.length)throw t[0];if(t.length>1)throw new vi(t);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function Ci(...e){return wi((()=>bi(e)))}function wi(e){return{dispose:mi((()=>{e()}))}}class yi{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{bi(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?yi.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}yi.DISABLE_DISPOSED_WARNING=!1;class Si{constructor(){this._store=new yi,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}Si.None=Object.freeze({dispose(){}});class Di{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class ki{constructor(e){this.object=e}dispose(){}}class Ii{constructor(e){this.element=e,this.next=Ii.Undefined,this.prev=Ii.Undefined}}Ii.Undefined=new Ii(void 0);class Ei{constructor(){this._first=Ii.Undefined,this._last=Ii.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Ii.Undefined}clear(){let e=this._first;for(;e!==Ii.Undefined;){const t=e.next;e.prev=Ii.Undefined,e.next=Ii.Undefined,e=t}this._first=Ii.Undefined,this._last=Ii.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new Ii(e);if(this._first===Ii.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==Ii.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ii.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Ii.Undefined&&e.next!==Ii.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ii.Undefined&&e.next===Ii.Undefined?(this._first=Ii.Undefined,this._last=Ii.Undefined):e.next===Ii.Undefined?(this._last=this._last.prev,this._last.next=Ii.Undefined):e.prev===Ii.Undefined&&(this._first=this._first.next,this._first.prev=Ii.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ii.Undefined;)yield e.element,e=e.next}}const xi=gt.performance&&"function"==typeof gt.performance.now;class Li{constructor(e){this._highResolution=xi&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new Li(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?gt.performance.now():Date.now()}}var Ai;!function(e){function t(e){return(t,i=null,n)=>{let o,r=!1;return o=e((e=>{if(!r)return o?o.dispose():r=!0,t.call(i,e)}),null,n),r&&o.dispose(),o}}function i(e,t){return s(((i,n=null,o)=>e((e=>i.call(n,t(e))),null,o)))}function n(e,t){return s(((i,n=null,o)=>e((e=>{t(e),i.call(n,e)}),null,o)))}function o(e,t){return s(((i,n=null,o)=>e((e=>t(e)&&i.call(n,e)),null,o)))}function r(e,t,n){let o=n;return i(e,(e=>(o=t(o,e),o)))}function s(e){let t;const i=new Ti({onFirstListenerAdd(){t=e(i.fire,i)},onLastListenerRemove(){t.dispose()}});return i.event}function a(e,t,i=100,n=!1,o){let r,s,a,l=0;const u=new Ti({leakWarningThreshold:o,onFirstListenerAdd(){r=e((e=>{l++,s=t(s,e),n&&!a&&(u.fire(s),s=void 0),clearTimeout(a),a=setTimeout((()=>{const e=s;s=void 0,a=void 0,(!n||l>1)&&u.fire(e),l=0}),i)}))},onLastListenerRemove(){r.dispose()}});return u.event}function l(e,t=((e,t)=>e===t)){let i,n=!0;return o(e,(e=>{const o=n||!t(e,i);return n=!1,i=e,o}))}e.None=()=>Si.None,e.once=t,e.map=i,e.forEach=n,e.filter=o,e.signal=function(e){return e},e.any=function(...e){return(t,i=null,n)=>Ci(...e.map((e=>e((e=>t.call(i,e)),null,n))))},e.reduce=r,e.debounce=a,e.latch=l,e.split=function(t,i){return[e.filter(t,i),e.filter(t,(e=>!i(e)))]},e.buffer=function(e,t=!1,i=[]){let n=i.slice(),o=e((e=>{n?n.push(e):s.fire(e)}));const r=()=>{n&&n.forEach((e=>s.fire(e))),n=null},s=new Ti({onFirstListenerAdd(){o||(o=e((e=>s.fire(e))))},onFirstListenerDidAdd(){n&&(t?setTimeout(r):r())},onLastListenerRemove(){o&&o.dispose(),o=null}});return s.event};class u{constructor(e){this.event=e}map(e){return new u(i(this.event,e))}forEach(e){return new u(n(this.event,e))}filter(e){return new u(o(this.event,e))}reduce(e,t){return new u(r(this.event,e,t))}latch(){return new u(l(this.event))}debounce(e,t=100,i=!1,n){return new u(a(this.event,e,t,i,n))}on(e,t,i){return this.event(e,t,i)}once(e,i,n){return t(this.event)(e,i,n)}}e.chain=function(e){return new u(e)},e.fromNodeEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new Ti({onFirstListenerAdd:()=>e.on(t,n),onLastListenerRemove:()=>e.removeListener(t,n)});return o.event},e.fromDOMEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new Ti({onFirstListenerAdd:()=>e.addEventListener(t,n),onLastListenerRemove:()=>e.removeEventListener(t,n)});return o.event},e.toPromise=function(e){return new Promise((i=>t(e)(i)))}}(Ai||(Ai={}));class Ni{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${Ni._idPool++}`}start(e){this._stopWatch=new Li(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}Ni._idPool=0;class Ti{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=(null===(t=this._options)||void 0===t?void 0:t._profName)?new Ni(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,i)=>{var n;this._listeners||(this._listeners=new Ei);const o=this._listeners.isEmpty();o&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const r=this._listeners.push(t?[e,t]:e);o&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const s=null===(n=this._leakageMon)||void 0===n?void 0:n.check(this._listeners.size),a=wi((()=>{if(s&&s(),!this._disposed&&(r(),this._options&&this._options.onLastListenerRemove)){this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)}}));return i instanceof yi?i.add(a):Array.isArray(i)&&i.push(a),a}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Ei);for(let t of this._listeners)this._deliveryQueue.push([t,e]);for(null===(t=this._perfMon)||void 0===t||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(rU){li(rU)}}null===(i=this._perfMon)||void 0===i||i.stop()}}dispose(){var e,t,i,n,o;this._disposed||(this._disposed=!0,null===(e=this._listeners)||void 0===e||e.clear(),null===(t=this._deliveryQueue)||void 0===t||t.clear(),null===(n=null===(i=this._options)||void 0===i?void 0:i.onLastListenerRemove)||void 0===n||n.call(i),null===(o=this._leakageMon)||void 0===o||o.dispose())}}class Oi extends Ti{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Ei,this._mergeFn=null==e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class Fi extends Oi{constructor(e){var t;super(e),this._delay=null!==(t=e.delay)&&void 0!==t?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(e)}}class Mi{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e((e=>{const n=this.buffers[this.buffers.length-1];n?n.push((()=>t.call(i,e))):t.call(i,e)}),void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach((e=>e())),i}}class Ri{constructor(){this.listening=!1,this.inputEvent=Ai.None,this.inputEventListener=Si.None,this.emitter=new Ti({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const Pi=Object.freeze((function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}}));var Bi,Wi;(Wi=Bi||(Bi={})).isCancellationToken=function(e){return e===Wi.None||e===Wi.Cancelled||e instanceof Vi||!(!e||"object"!=typeof e)&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},Wi.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ai.None}),Wi.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Pi});class Vi{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Pi:(this._emitter||(this._emitter=new Ti),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class Hi{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Vi),this._token}cancel(){this._token?this._token instanceof Vi&&this._token.cancel():this._token=Bi.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Vi&&this._token.dispose():this._token=Bi.None}}class zi{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const Ki=new zi,Ui=new zi,ji=new zi,qi=new Array(230),$i={},Gi=[],Zi=Object.create(null),Yi=Object.create(null),Ji=[],Xi=[];for(let sU=0;sU<=193;sU++)Ji[sU]=-1;for(let sU=0;sU<=126;sU++)Xi[sU]=-1;var Qi,en;function tn(e,t){return(e|(65535&t)<<16>>>0)>>>0}let nn;if(function(){const e="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[0,1,1,"Hyper",0,e,0,e,e,e],[0,1,2,"Super",0,e,0,e,e,e],[0,1,3,"Fn",0,e,0,e,e,e],[0,1,4,"FnLock",0,e,0,e,e,e],[0,1,5,"Suspend",0,e,0,e,e,e],[0,1,6,"Resume",0,e,0,e,e,e],[0,1,7,"Turbo",0,e,0,e,e,e],[0,1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[0,1,9,"WakeUp",0,e,0,e,e,e],[31,0,10,"KeyA",31,"A",65,"VK_A",e,e],[32,0,11,"KeyB",32,"B",66,"VK_B",e,e],[33,0,12,"KeyC",33,"C",67,"VK_C",e,e],[34,0,13,"KeyD",34,"D",68,"VK_D",e,e],[35,0,14,"KeyE",35,"E",69,"VK_E",e,e],[36,0,15,"KeyF",36,"F",70,"VK_F",e,e],[37,0,16,"KeyG",37,"G",71,"VK_G",e,e],[38,0,17,"KeyH",38,"H",72,"VK_H",e,e],[39,0,18,"KeyI",39,"I",73,"VK_I",e,e],[40,0,19,"KeyJ",40,"J",74,"VK_J",e,e],[41,0,20,"KeyK",41,"K",75,"VK_K",e,e],[42,0,21,"KeyL",42,"L",76,"VK_L",e,e],[43,0,22,"KeyM",43,"M",77,"VK_M",e,e],[44,0,23,"KeyN",44,"N",78,"VK_N",e,e],[45,0,24,"KeyO",45,"O",79,"VK_O",e,e],[46,0,25,"KeyP",46,"P",80,"VK_P",e,e],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[48,0,27,"KeyR",48,"R",82,"VK_R",e,e],[49,0,28,"KeyS",49,"S",83,"VK_S",e,e],[50,0,29,"KeyT",50,"T",84,"VK_T",e,e],[51,0,30,"KeyU",51,"U",85,"VK_U",e,e],[52,0,31,"KeyV",52,"V",86,"VK_V",e,e],[53,0,32,"KeyW",53,"W",87,"VK_W",e,e],[54,0,33,"KeyX",54,"X",88,"VK_X",e,e],[55,0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[22,0,36,"Digit1",22,"1",49,"VK_1",e,e],[23,0,37,"Digit2",23,"2",50,"VK_2",e,e],[24,0,38,"Digit3",24,"3",51,"VK_3",e,e],[25,0,39,"Digit4",25,"4",52,"VK_4",e,e],[26,0,40,"Digit5",26,"5",53,"VK_5",e,e],[27,0,41,"Digit6",27,"6",54,"VK_6",e,e],[28,0,42,"Digit7",28,"7",55,"VK_7",e,e],[29,0,43,"Digit8",29,"8",56,"VK_8",e,e],[30,0,44,"Digit9",30,"9",57,"VK_9",e,e],[21,0,45,"Digit0",21,"0",48,"VK_0",e,e],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[10,1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,e,0,e,e,e],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[59,1,64,"F1",59,"F1",112,"VK_F1",e,e],[60,1,65,"F2",60,"F2",113,"VK_F2",e,e],[61,1,66,"F3",61,"F3",114,"VK_F3",e,e],[62,1,67,"F4",62,"F4",115,"VK_F4",e,e],[63,1,68,"F5",63,"F5",116,"VK_F5",e,e],[64,1,69,"F6",64,"F6",117,"VK_F6",e,e],[65,1,70,"F7",65,"F7",118,"VK_F7",e,e],[66,1,71,"F8",66,"F8",119,"VK_F8",e,e],[67,1,72,"F9",67,"F9",120,"VK_F9",e,e],[68,1,73,"F10",68,"F10",121,"VK_F10",e,e],[69,1,74,"F11",69,"F11",122,"VK_F11",e,e],[70,1,75,"F12",70,"F12",123,"VK_F12",e,e],[0,1,76,"PrintScreen",0,e,0,e,e,e],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",e,e],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[14,1,80,"Home",14,"Home",36,"VK_HOME",e,e],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[13,1,83,"End",13,"End",35,"VK_END",e,e],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",e,e],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",e,e],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",e,e],[3,1,94,"NumpadEnter",3,e,0,e,e,e],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",e,e],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",e,e],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",e,e],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",e,e],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",e,e],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",e,e],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",e,e],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",e,e],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",e,e],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",e,e],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",e,e],[58,1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[0,1,108,"Power",0,e,0,e,e,e],[0,1,109,"NumpadEqual",0,e,0,e,e,e],[71,1,110,"F13",71,"F13",124,"VK_F13",e,e],[72,1,111,"F14",72,"F14",125,"VK_F14",e,e],[73,1,112,"F15",73,"F15",126,"VK_F15",e,e],[74,1,113,"F16",74,"F16",127,"VK_F16",e,e],[75,1,114,"F17",75,"F17",128,"VK_F17",e,e],[76,1,115,"F18",76,"F18",129,"VK_F18",e,e],[77,1,116,"F19",77,"F19",130,"VK_F19",e,e],[0,1,117,"F20",0,e,0,"VK_F20",e,e],[0,1,118,"F21",0,e,0,"VK_F21",e,e],[0,1,119,"F22",0,e,0,"VK_F22",e,e],[0,1,120,"F23",0,e,0,"VK_F23",e,e],[0,1,121,"F24",0,e,0,"VK_F24",e,e],[0,1,122,"Open",0,e,0,e,e,e],[0,1,123,"Help",0,e,0,e,e,e],[0,1,124,"Select",0,e,0,e,e,e],[0,1,125,"Again",0,e,0,e,e,e],[0,1,126,"Undo",0,e,0,e,e,e],[0,1,127,"Cut",0,e,0,e,e,e],[0,1,128,"Copy",0,e,0,e,e,e],[0,1,129,"Paste",0,e,0,e,e,e],[0,1,130,"Find",0,e,0,e,e,e],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",e,e],[0,1,136,"KanaMode",0,e,0,e,e,e],[0,0,137,"IntlYen",0,e,0,e,e,e],[0,1,138,"Convert",0,e,0,e,e,e],[0,1,139,"NonConvert",0,e,0,e,e,e],[0,1,140,"Lang1",0,e,0,e,e,e],[0,1,141,"Lang2",0,e,0,e,e,e],[0,1,142,"Lang3",0,e,0,e,e,e],[0,1,143,"Lang4",0,e,0,e,e,e],[0,1,144,"Lang5",0,e,0,e,e,e],[0,1,145,"Abort",0,e,0,e,e,e],[0,1,146,"Props",0,e,0,e,e,e],[0,1,147,"NumpadParenLeft",0,e,0,e,e,e],[0,1,148,"NumpadParenRight",0,e,0,e,e,e],[0,1,149,"NumpadBackspace",0,e,0,e,e,e],[0,1,150,"NumpadMemoryStore",0,e,0,e,e,e],[0,1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[0,1,152,"NumpadMemoryClear",0,e,0,e,e,e],[0,1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[0,1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[0,1,155,"NumpadClear",0,e,0,e,e,e],[0,1,156,"NumpadClearEntry",0,e,0,e,e,e],[5,1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[4,1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[6,1,0,e,6,"Alt",18,"VK_MENU",e,e],[57,1,0,e,57,"Meta",0,"VK_COMMAND",e,e],[5,1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[4,1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[6,1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[57,1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[5,1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[4,1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[6,1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[57,1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[0,1,165,"BrightnessUp",0,e,0,e,e,e],[0,1,166,"BrightnessDown",0,e,0,e,e,e],[0,1,167,"MediaPlay",0,e,0,e,e,e],[0,1,168,"MediaRecord",0,e,0,e,e,e],[0,1,169,"MediaFastForward",0,e,0,e,e,e],[0,1,170,"MediaRewind",0,e,0,e,e,e],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",e,e],[0,1,174,"Eject",0,e,0,e,e,e],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[0,1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[0,1,180,"SelectTask",0,e,0,e,e,e],[0,1,181,"LaunchScreenSaver",0,e,0,e,e,e],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[0,1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[0,1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[0,1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[0,1,189,"ZoomToggle",0,e,0,e,e,e],[0,1,190,"MailReply",0,e,0,e,e,e],[0,1,191,"MailForward",0,e,0,e,e,e],[0,1,192,"MailSend",0,e,0,e,e,e],[109,1,0,e,109,"KeyInComposition",229,e,e,e],[111,1,0,e,111,"ABNT_C2",194,"VK_ABNT_C2",e,e],[91,1,0,e,91,"OEM_8",223,"VK_OEM_8",e,e],[0,1,0,e,0,e,0,"VK_CLEAR",e,e],[0,1,0,e,0,e,0,"VK_KANA",e,e],[0,1,0,e,0,e,0,"VK_HANGUL",e,e],[0,1,0,e,0,e,0,"VK_JUNJA",e,e],[0,1,0,e,0,e,0,"VK_FINAL",e,e],[0,1,0,e,0,e,0,"VK_HANJA",e,e],[0,1,0,e,0,e,0,"VK_KANJI",e,e],[0,1,0,e,0,e,0,"VK_CONVERT",e,e],[0,1,0,e,0,e,0,"VK_NONCONVERT",e,e],[0,1,0,e,0,e,0,"VK_ACCEPT",e,e],[0,1,0,e,0,e,0,"VK_MODECHANGE",e,e],[0,1,0,e,0,e,0,"VK_SELECT",e,e],[0,1,0,e,0,e,0,"VK_PRINT",e,e],[0,1,0,e,0,e,0,"VK_EXECUTE",e,e],[0,1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[0,1,0,e,0,e,0,"VK_HELP",e,e],[0,1,0,e,0,e,0,"VK_APPS",e,e],[0,1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[0,1,0,e,0,e,0,"VK_PACKET",e,e],[0,1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_ATTN",e,e],[0,1,0,e,0,e,0,"VK_CRSEL",e,e],[0,1,0,e,0,e,0,"VK_EXSEL",e,e],[0,1,0,e,0,e,0,"VK_EREOF",e,e],[0,1,0,e,0,e,0,"VK_PLAY",e,e],[0,1,0,e,0,e,0,"VK_ZOOM",e,e],[0,1,0,e,0,e,0,"VK_NONAME",e,e],[0,1,0,e,0,e,0,"VK_PA1",e,e],[0,1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]];let i=[],n=[];for(const o of t){const[e,t,r,s,a,l,u,c,d,h]=o;if(n[r]||(n[r]=!0,Gi[r]=s,Zi[s]=r,Yi[s.toLowerCase()]=r,t&&(Ji[r]=a,0!==a&&3!==a&&5!==a&&4!==a&&6!==a&&57!==a&&(Xi[a]=r))),!i[a]){if(i[a]=!0,!l)throw new Error(`String representation missing for key code ${a} around scan code ${s}`);Ki.define(a,l),Ui.define(a,d||l),ji.define(a,h||d||l)}u&&(qi[u]=a),c&&($i[c]=a)}Xi[3]=46}(),(en=Qi||(Qi={})).toString=function(e){return Ki.keyCodeToStr(e)},en.fromString=function(e){return Ki.strToKeyCode(e)},en.toUserSettingsUS=function(e){return Ui.keyCodeToStr(e)},en.toUserSettingsGeneral=function(e){return ji.keyCodeToStr(e)},en.fromUserSettings=function(e){return Ui.strToKeyCode(e)||ji.strToKeyCode(e)},en.toElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Ki.keyCodeToStr(e)},void 0!==gt.vscode&&void 0!==gt.vscode.process){const e=gt.vscode.process;nn={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd(),nextTick:e=>St(e)}}else nn="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd(),nextTick:e=>process.nextTick(e)}:{get platform(){return ft?"win32":vt?"darwin":"linux"},get arch(){},nextTick:e=>St(e),get env(){return{}},cwd:()=>"/"};const on=nn.cwd,rn=nn.env,sn=nn.platform;class an extends Error{constructor(e,t,i){let n;"string"==typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=-1!==e.indexOf(".")?"property":"argument";let r=`The "${e}" ${o} ${n} of type ${t}`;r+=". Received type "+typeof i,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function ln(e,t){if("string"!=typeof e)throw new an(t,"string",e)}function un(e){return 47===e||92===e}function cn(e){return 47===e}function dn(e){return e>=65&&e<=90||e>=97&&e<=122}function hn(e,t,i,n){let o="",r=0,s=-1,a=0,l=0;for(let u=0;u<=e.length;++u){if(u<e.length)l=e.charCodeAt(u);else{if(n(l))break;l=47}if(n(l)){if(s===u-1||1===a);else if(2===a){if(o.length<2||2!==r||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2)){if(o.length>2){const e=o.lastIndexOf(i);-1===e?(o="",r=0):(o=o.slice(0,e),r=o.length-1-o.lastIndexOf(i)),s=u,a=0;continue}if(0!==o.length){o="",r=0,s=u,a=0;continue}}t&&(o+=o.length>0?`${i}..`:"..",r=2)}else o.length>0?o+=`${i}${e.slice(s+1,u)}`:o=e.slice(s+1,u),r=u-s-1;s=u,a=0}else 46===l&&-1!==a?++a:a=-1}return o}function gn(e,t){if(null===t||"object"!=typeof t)throw new an("pathObject","Object",t);const i=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${n}`:`${i}${e}${n}`:n}const pn={resolve(...e){let t="",i="",n=!1;for(let o=e.length-1;o>=-1;o--){let r;if(o>=0){if(r=e[o],ln(r,"path"),0===r.length)continue}else 0===t.length?r=on():(r=rn[`=${t}`]||on(),(void 0===r||r.slice(0,2).toLowerCase()!==t.toLowerCase()&&92===r.charCodeAt(2))&&(r=`${t}\\`));const s=r.length;let a=0,l="",u=!1;const c=r.charCodeAt(0);if(1===s)un(c)&&(a=1,u=!0);else if(un(c))if(u=!0,un(r.charCodeAt(1))){let e=2,t=e;for(;e<s&&!un(r.charCodeAt(e));)e++;if(e<s&&e!==t){const i=r.slice(t,e);for(t=e;e<s&&un(r.charCodeAt(e));)e++;if(e<s&&e!==t){for(t=e;e<s&&!un(r.charCodeAt(e));)e++;e!==s&&e===t||(l=`\\\\${i}\\${r.slice(t,e)}`,a=e)}}}else a=1;else dn(c)&&58===r.charCodeAt(1)&&(l=r.slice(0,2),a=2,s>2&&un(r.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(n){if(t.length>0)break}else if(i=`${r.slice(a)}\\${i}`,n=u,u&&t.length>0)break}return i=hn(i,!n,"\\",un),n?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){ln(e,"path");const t=e.length;if(0===t)return".";let i,n=0,o=!1;const r=e.charCodeAt(0);if(1===t)return cn(r)?"\\":e;if(un(r))if(o=!0,un(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!un(e.charCodeAt(o));)o++;if(o<t&&o!==r){const s=e.slice(r,o);for(r=o;o<t&&un(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!un(e.charCodeAt(o));)o++;if(o===t)return`\\\\${s}\\${e.slice(r)}\\`;o!==r&&(i=`\\\\${s}\\${e.slice(r,o)}`,n=o)}}}else n=1;else dn(r)&&58===e.charCodeAt(1)&&(i=e.slice(0,2),n=2,t>2&&un(e.charCodeAt(2))&&(o=!0,n=3));let s=n<t?hn(e.slice(n),!o,"\\",un):"";return 0!==s.length||o||(s="."),s.length>0&&un(e.charCodeAt(t-1))&&(s+="\\"),void 0===i?o?`\\${s}`:s:o?`${i}\\${s}`:`${i}${s}`},isAbsolute(e){ln(e,"path");const t=e.length;if(0===t)return!1;const i=e.charCodeAt(0);return un(i)||t>2&&dn(i)&&58===e.charCodeAt(1)&&un(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,i;for(let r=0;r<e.length;++r){const n=e[r];ln(n,"path"),n.length>0&&(void 0===t?t=i=n:t+=`\\${n}`)}if(void 0===t)return".";let n=!0,o=0;if("string"==typeof i&&un(i.charCodeAt(0))){++o;const e=i.length;e>1&&un(i.charCodeAt(1))&&(++o,e>2&&(un(i.charCodeAt(2))?++o:n=!1))}if(n){for(;o<t.length&&un(t.charCodeAt(o));)o++;o>=2&&(t=`\\${t.slice(o)}`)}return pn.normalize(t)},relative(e,t){if(ln(e,"from"),ln(t,"to"),e===t)return"";const i=pn.resolve(e),n=pn.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let o=0;for(;o<e.length&&92===e.charCodeAt(o);)o++;let r=e.length;for(;r-1>o&&92===e.charCodeAt(r-1);)r--;const s=r-o;let a=0;for(;a<t.length&&92===t.charCodeAt(a);)a++;let l=t.length;for(;l-1>a&&92===t.charCodeAt(l-1);)l--;const u=l-a,c=s<u?s:u;let d=-1,h=0;for(;h<c;h++){const i=e.charCodeAt(o+h);if(i!==t.charCodeAt(a+h))break;92===i&&(d=h)}if(h!==c){if(-1===d)return n}else{if(u>c){if(92===t.charCodeAt(a+h))return n.slice(a+h+1);if(2===h)return n.slice(a+h)}s>c&&(92===e.charCodeAt(o+h)?d=h:2===h&&(d=3)),-1===d&&(d=0)}let g="";for(h=o+d+1;h<=r;++h)h!==r&&92!==e.charCodeAt(h)||(g+=0===g.length?"..":"\\..");return a+=d,g.length>0?`${g}${n.slice(a,l)}`:(92===n.charCodeAt(a)&&++a,n.slice(a,l))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=pn.resolve(e);if(t.length<=2)return e;if(92===t.charCodeAt(0)){if(92===t.charCodeAt(1)){const e=t.charCodeAt(2);if(63!==e&&46!==e)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(dn(t.charCodeAt(0))&&58===t.charCodeAt(1)&&92===t.charCodeAt(2))return`\\\\?\\${t}`;return e},dirname(e){ln(e,"path");const t=e.length;if(0===t)return".";let i=-1,n=0;const o=e.charCodeAt(0);if(1===t)return un(o)?e:".";if(un(o)){if(i=n=1,un(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!un(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&un(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!un(e.charCodeAt(o));)o++;if(o===t)return e;o!==r&&(i=n=o+1)}}}}else dn(o)&&58===e.charCodeAt(1)&&(i=t>2&&un(e.charCodeAt(2))?3:2,n=i);let r=-1,s=!0;for(let a=t-1;a>=n;--a)if(un(e.charCodeAt(a))){if(!s){r=a;break}}else s=!1;if(-1===r){if(-1===i)return".";r=i}return e.slice(0,r)},basename(e,t){void 0!==t&&ln(t,"ext"),ln(e,"path");let i,n=0,o=-1,r=!0;if(e.length>=2&&dn(e.charCodeAt(0))&&58===e.charCodeAt(1)&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(i=e.length-1;i>=n;--i){const l=e.charCodeAt(i);if(un(l)){if(!r){n=i+1;break}}else-1===a&&(r=!1,a=i+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(o=i):(s=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=n;--i)if(un(e.charCodeAt(i))){if(!r){n=i+1;break}}else-1===o&&(r=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){ln(e,"path");let t=0,i=-1,n=0,o=-1,r=!0,s=0;e.length>=2&&58===e.charCodeAt(1)&&dn(e.charCodeAt(0))&&(t=n=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(un(t)){if(!r){n=a+1;break}}else-1===o&&(r=!1,o=a+1),46===t?-1===i?i=a:1!==s&&(s=1):-1!==i&&(s=-1)}return-1===i||-1===o||0===s||1===s&&i===o-1&&i===n+1?"":e.slice(i,o)},format:gn.bind(null,"\\"),parse(e){ln(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.length;let n=0,o=e.charCodeAt(0);if(1===i)return un(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(un(o)){if(n=1,un(e.charCodeAt(1))){let t=2,o=t;for(;t<i&&!un(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&un(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&!un(e.charCodeAt(t));)t++;t===i?n=t:t!==o&&(n=t+1)}}}}else if(dn(o)&&58===e.charCodeAt(1)){if(i<=2)return t.root=t.dir=e,t;if(n=2,un(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let r=-1,s=n,a=-1,l=!0,u=e.length-1,c=0;for(;u>=n;--u)if(o=e.charCodeAt(u),un(o)){if(!l){s=u+1;break}}else-1===a&&(l=!1,a=u+1),46===o?-1===r?r=u:1!==c&&(c=1):-1!==r&&(c=-1);return-1!==a&&(-1===r||0===c||1===c&&r===a-1&&r===s+1?t.base=t.name=e.slice(s,a):(t.name=e.slice(s,r),t.base=e.slice(s,a),t.ext=e.slice(r,a))),t.dir=s>0&&s!==n?e.slice(0,s-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},mn={resolve(...e){let t="",i=!1;for(let n=e.length-1;n>=-1&&!i;n--){const o=n>=0?e[n]:on();ln(o,"path"),0!==o.length&&(t=`${o}/${t}`,i=47===o.charCodeAt(0))}return t=hn(t,!i,"/",cn),i?`/${t}`:t.length>0?t:"."},normalize(e){if(ln(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=hn(e,!t,"/",cn)).length?t?"/":i?"./":".":(i&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(ln(e,"path"),e.length>0&&47===e.charCodeAt(0)),join(...e){if(0===e.length)return".";let t;for(let i=0;i<e.length;++i){const n=e[i];ln(n,"path"),n.length>0&&(void 0===t?t=n:t+=`/${n}`)}return void 0===t?".":mn.normalize(t)},relative(e,t){if(ln(e,"from"),ln(t,"to"),e===t)return"";if((e=mn.resolve(e))===(t=mn.resolve(t)))return"";const i=e.length,n=i-1,o=t.length-1,r=n<o?n:o;let s=-1,a=0;for(;a<r;a++){const i=e.charCodeAt(1+a);if(i!==t.charCodeAt(1+a))break;47===i&&(s=a)}if(a===r)if(o>r){if(47===t.charCodeAt(1+a))return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else n>r&&(47===e.charCodeAt(1+a)?s=a:0===a&&(s=0));let l="";for(a=1+s+1;a<=i;++a)a!==i&&47!==e.charCodeAt(a)||(l+=0===l.length?"..":"/..");return`${l}${t.slice(1+s)}`},toNamespacedPath:e=>e,dirname(e){if(ln(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0);let i=-1,n=!0;for(let o=e.length-1;o>=1;--o)if(47===e.charCodeAt(o)){if(!n){i=o;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&ln(t,"ext"),ln(e,"path");let i,n=0,o=-1,r=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(47===l){if(!r){n=i+1;break}}else-1===a&&(r=!1,a=i+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(o=i):(s=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!r){n=i+1;break}}else-1===o&&(r=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){ln(e,"path");let t=-1,i=0,n=-1,o=!0,r=0;for(let s=e.length-1;s>=0;--s){const a=e.charCodeAt(s);if(47!==a)-1===n&&(o=!1,n=s+1),46===a?-1===t?t=s:1!==r&&(r=1):-1!==t&&(r=-1);else if(!o){i=s+1;break}}return-1===t||-1===n||0===r||1===r&&t===n-1&&t===i+1?"":e.slice(t,n)},format:gn.bind(null,"/"),parse(e){ln(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=47===e.charCodeAt(0);let n;i?(t.root="/",n=1):n=0;let o=-1,r=0,s=-1,a=!0,l=e.length-1,u=0;for(;l>=n;--l){const t=e.charCodeAt(l);if(47!==t)-1===s&&(a=!1,s=l+1),46===t?-1===o?o=l:1!==u&&(u=1):-1!==o&&(u=-1);else if(!a){r=l+1;break}}if(-1!==s){const n=0===r&&i?1:r;-1===o||0===u||1===u&&o===s-1&&o===r+1?t.base=t.name=e.slice(n,s):(t.name=e.slice(n,o),t.base=e.slice(n,s),t.ext=e.slice(o,s))}return r>0?t.dir=e.slice(0,r-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};mn.win32=pn.win32=pn,mn.posix=pn.posix=mn;const fn="win32"===sn?pn.normalize:mn.normalize,vn="win32"===sn?pn.resolve:mn.resolve,_n="win32"===sn?pn.relative:mn.relative,bn="win32"===sn?pn.dirname:mn.dirname,Cn="win32"===sn?pn.basename:mn.basename,wn="win32"===sn?pn.extname:mn.extname,yn="win32"===sn?pn.sep:mn.sep,Sn=/^\w[\w\d+.-]*$/,Dn=/^\//,kn=/^\/\//;function In(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Sn.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!Dn.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(kn.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const En="/",xn=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Ln{constructor(e,t,i,n,o,r=!1){"object"==typeof e?(this.scheme=e.scheme||"",this.authority=e.authority||"",this.path=e.path||"",this.query=e.query||"",this.fragment=e.fragment||""):(this.scheme=function(e,t){return e||t?e:"file"}(e,r),this.authority=t||"",this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==En&&(t=En+t):t=En}return t}(this.scheme,i||""),this.query=n||"",this.fragment=o||"",In(this,r))}static isUri(e){return e instanceof Ln||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)}get fsPath(){return Mn(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:r}=e;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===n?n=this.path:null===n&&(n=""),void 0===o?o=this.query:null===o&&(o=""),void 0===r?r=this.fragment:null===r&&(r=""),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&r===this.fragment?this:new Nn(t,i,n,o,r)}static parse(e,t=!1){const i=xn.exec(e);return i?new Nn(i[2]||"",Wn(i[4]||""),Wn(i[5]||""),Wn(i[7]||""),Wn(i[9]||""),t):new Nn("","","","","")}static file(e){let t="";if(ft&&(e=e.replace(/\\/g,En)),e[0]===En&&e[1]===En){const i=e.indexOf(En,2);-1===i?(t=e.substring(2),e=En):(t=e.substring(2,i),e=e.substring(i)||En)}return new Nn("file",t,e,"","")}static from(e){const t=new Nn(e.scheme,e.authority,e.path,e.query,e.fragment);return In(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return i=ft&&"file"===e.scheme?Ln.file(pn.join(Mn(e,!0),...t)).path:mn.join(e.path,...t),e.with({path:i})}toString(e=!1){return Rn(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Ln)return e;{const t=new Nn(e);return t._formatted=e.external,t._fsPath=e._sep===An?e.fsPath:null,t}}return e}}const An=ft?1:void 0;class Nn extends Ln{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=Mn(this,!1)),this._fsPath}toString(e=!1){return e?Rn(this,!0):(this._formatted||(this._formatted=Rn(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=An),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const Tn={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function On(e,t){let i,n=-1;for(let o=0;o<e.length;o++){const r=e.charCodeAt(o);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||45===r||46===r||95===r||126===r||t&&47===r)-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),void 0!==i&&(i+=e.charAt(o));else{void 0===i&&(i=e.substr(0,o));const t=Tn[r];void 0!==t?(-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),i+=t):-1===n&&(n=o)}}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function Fn(e){let t;for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);35===n||63===n?(void 0===t&&(t=e.substr(0,i)),t+=Tn[n]):void 0!==t&&(t+=e[i])}return void 0!==t?t:e}function Mn(e,t){let i;return i=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,ft&&(i=i.replace(/\//g,"\\")),i}function Rn(e,t){const i=t?Fn:On;let n="",{scheme:o,authority:r,path:s,query:a,fragment:l}=e;if(o&&(n+=o,n+=":"),(r||"file"===o)&&(n+=En,n+=En),r){let e=r.indexOf("@");if(-1!==e){const t=r.substr(0,e);r=r.substr(e+1),e=t.indexOf(":"),-1===e?n+=i(t,!1):(n+=i(t.substr(0,e),!1),n+=":",n+=i(t.substr(e+1),!1)),n+="@"}r=r.toLowerCase(),e=r.indexOf(":"),-1===e?n+=i(r,!1):(n+=i(r.substr(0,e),!1),n+=r.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}n+=i(s,!0)}return a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=t?l:On(l,!1)),n}function Pn(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+Pn(e.substr(3)):e}}const Bn=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Wn(e){return e.match(Bn)?e.replace(Bn,(e=>Pn(e))):e}class Vn{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Vn(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Vn.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Vn.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return Vn.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let i=0|e.lineNumber,n=0|t.lineNumber;if(i===n){return(0|e.column)-(0|t.column)}return i-n}clone(){return new Vn(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Vn(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}class Hn{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return Hn.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Hn.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return Hn.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return Hn.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return Hn.plusRange(this,e)}static plusRange(e,t){let i,n,o,r;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,r=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,r=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,r=e.endColumn),new Hn(i,n,o,r)}intersectRanges(e){return Hn.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,u=t.endColumn;return i<s?(i=s,n=a):i===s&&(n=Math.max(n,a)),o>l?(o=l,r=u):o===l&&(r=Math.min(r,u)),i>o||i===o&&n>r?null:new Hn(i,n,o,r)}equalsRange(e){return Hn.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return Hn.getEndPosition(this)}static getEndPosition(e){return new Vn(e.endLineNumber,e.endColumn)}getStartPosition(){return Hn.getStartPosition(this)}static getStartPosition(e){return new Vn(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new Hn(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new Hn(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return Hn.collapseToStart(this)}static collapseToStart(e){return new Hn(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new Hn(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new Hn(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const i=0|e.startLineNumber,n=0|t.startLineNumber;if(i===n){const i=0|e.startColumn,n=0|t.startColumn;if(i===n){const i=0|e.endLineNumber,n=0|t.endLineNumber;if(i===n){return(0|e.endColumn)-(0|t.endColumn)}return i-n}return i-n}return i-n}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}class zn extends Hn{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return zn.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new zn(this.startLineNumber,this.startColumn,e,t):new zn(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Vn(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new zn(e,t,this.endLineNumber,this.endColumn):new zn(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new zn(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new zn(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,i,n,o){return 0===o?new zn(e,t,i,n):new zn(i,n,e,t)}}class Kn{constructor(e,t,i){this._tokenBrand=void 0,this.offset=0|e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class Un{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class jn{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}var qn,$n,Gn,Zn,Yn,Jn,Xn,Qn,eo,to,io,no,oo,ro,so,ao,lo,uo,co,ho,go,po,mo,fo,vo,_o,bo,Co,wo,yo,So,Do,ko,Io,Eo,xo,Lo,Ao,No,To,Oo,Fo,Mo,Ro,Po,Bo,Wo,Vo,Ho,zo,Ko,Uo,jo,qo,$o,Go,Zo,Yo,Jo,Xo,Qo,er,tr,ir,nr,or,rr,sr,ar;($n=qn||(qn={}))[$n.Unknown=0]="Unknown",$n[$n.Disabled=1]="Disabled",$n[$n.Enabled=2]="Enabled",(Zn=Gn||(Gn={}))[Zn.KeepWhitespace=1]="KeepWhitespace",Zn[Zn.InsertAsSnippet=4]="InsertAsSnippet",(Jn=Yn||(Yn={}))[Jn.Method=0]="Method",Jn[Jn.Function=1]="Function",Jn[Jn.Constructor=2]="Constructor",Jn[Jn.Field=3]="Field",Jn[Jn.Variable=4]="Variable",Jn[Jn.Class=5]="Class",Jn[Jn.Struct=6]="Struct",Jn[Jn.Interface=7]="Interface",Jn[Jn.Module=8]="Module",Jn[Jn.Property=9]="Property",Jn[Jn.Event=10]="Event",Jn[Jn.Operator=11]="Operator",Jn[Jn.Unit=12]="Unit",Jn[Jn.Value=13]="Value",Jn[Jn.Constant=14]="Constant",Jn[Jn.Enum=15]="Enum",Jn[Jn.EnumMember=16]="EnumMember",Jn[Jn.Keyword=17]="Keyword",Jn[Jn.Text=18]="Text",Jn[Jn.Color=19]="Color",Jn[Jn.File=20]="File",Jn[Jn.Reference=21]="Reference",Jn[Jn.Customcolor=22]="Customcolor",Jn[Jn.Folder=23]="Folder",Jn[Jn.TypeParameter=24]="TypeParameter",Jn[Jn.User=25]="User",Jn[Jn.Issue=26]="Issue",Jn[Jn.Snippet=27]="Snippet",(Qn=Xn||(Xn={}))[Qn.Deprecated=1]="Deprecated",(to=eo||(eo={}))[to.Invoke=0]="Invoke",to[to.TriggerCharacter=1]="TriggerCharacter",to[to.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(no=io||(io={}))[no.EXACT=0]="EXACT",no[no.ABOVE=1]="ABOVE",no[no.BELOW=2]="BELOW",(ro=oo||(oo={}))[ro.NotSet=0]="NotSet",ro[ro.ContentFlush=1]="ContentFlush",ro[ro.RecoverFromMarkers=2]="RecoverFromMarkers",ro[ro.Explicit=3]="Explicit",ro[ro.Paste=4]="Paste",ro[ro.Undo=5]="Undo",ro[ro.Redo=6]="Redo",(ao=so||(so={}))[ao.LF=1]="LF",ao[ao.CRLF=2]="CRLF",(uo=lo||(lo={}))[uo.Text=0]="Text",uo[uo.Read=1]="Read",uo[uo.Write=2]="Write",(ho=co||(co={}))[ho.None=0]="None",ho[ho.Keep=1]="Keep",ho[ho.Brackets=2]="Brackets",ho[ho.Advanced=3]="Advanced",ho[ho.Full=4]="Full",(po=go||(go={}))[po.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",po[po.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",po[po.accessibilitySupport=2]="accessibilitySupport",po[po.accessibilityPageSize=3]="accessibilityPageSize",po[po.ariaLabel=4]="ariaLabel",po[po.autoClosingBrackets=5]="autoClosingBrackets",po[po.autoClosingDelete=6]="autoClosingDelete",po[po.autoClosingOvertype=7]="autoClosingOvertype",po[po.autoClosingQuotes=8]="autoClosingQuotes",po[po.autoIndent=9]="autoIndent",po[po.automaticLayout=10]="automaticLayout",po[po.autoSurround=11]="autoSurround",po[po.bracketPairColorization=12]="bracketPairColorization",po[po.guides=13]="guides",po[po.codeLens=14]="codeLens",po[po.codeLensFontFamily=15]="codeLensFontFamily",po[po.codeLensFontSize=16]="codeLensFontSize",po[po.colorDecorators=17]="colorDecorators",po[po.columnSelection=18]="columnSelection",po[po.comments=19]="comments",po[po.contextmenu=20]="contextmenu",po[po.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",po[po.cursorBlinking=22]="cursorBlinking",po[po.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",po[po.cursorStyle=24]="cursorStyle",po[po.cursorSurroundingLines=25]="cursorSurroundingLines",po[po.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",po[po.cursorWidth=27]="cursorWidth",po[po.disableLayerHinting=28]="disableLayerHinting",po[po.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",po[po.domReadOnly=30]="domReadOnly",po[po.dragAndDrop=31]="dragAndDrop",po[po.emptySelectionClipboard=32]="emptySelectionClipboard",po[po.extraEditorClassName=33]="extraEditorClassName",po[po.fastScrollSensitivity=34]="fastScrollSensitivity",po[po.find=35]="find",po[po.fixedOverflowWidgets=36]="fixedOverflowWidgets",po[po.folding=37]="folding",po[po.foldingStrategy=38]="foldingStrategy",po[po.foldingHighlight=39]="foldingHighlight",po[po.foldingImportsByDefault=40]="foldingImportsByDefault",po[po.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",po[po.fontFamily=42]="fontFamily",po[po.fontInfo=43]="fontInfo",po[po.fontLigatures=44]="fontLigatures",po[po.fontSize=45]="fontSize",po[po.fontWeight=46]="fontWeight",po[po.formatOnPaste=47]="formatOnPaste",po[po.formatOnType=48]="formatOnType",po[po.glyphMargin=49]="glyphMargin",po[po.gotoLocation=50]="gotoLocation",po[po.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",po[po.hover=52]="hover",po[po.inDiffEditor=53]="inDiffEditor",po[po.inlineSuggest=54]="inlineSuggest",po[po.letterSpacing=55]="letterSpacing",po[po.lightbulb=56]="lightbulb",po[po.lineDecorationsWidth=57]="lineDecorationsWidth",po[po.lineHeight=58]="lineHeight",po[po.lineNumbers=59]="lineNumbers",po[po.lineNumbersMinChars=60]="lineNumbersMinChars",po[po.linkedEditing=61]="linkedEditing",po[po.links=62]="links",po[po.matchBrackets=63]="matchBrackets",po[po.minimap=64]="minimap",po[po.mouseStyle=65]="mouseStyle",po[po.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",po[po.mouseWheelZoom=67]="mouseWheelZoom",po[po.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",po[po.multiCursorModifier=69]="multiCursorModifier",po[po.multiCursorPaste=70]="multiCursorPaste",po[po.occurrencesHighlight=71]="occurrencesHighlight",po[po.overviewRulerBorder=72]="overviewRulerBorder",po[po.overviewRulerLanes=73]="overviewRulerLanes",po[po.padding=74]="padding",po[po.parameterHints=75]="parameterHints",po[po.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",po[po.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",po[po.quickSuggestions=78]="quickSuggestions",po[po.quickSuggestionsDelay=79]="quickSuggestionsDelay",po[po.readOnly=80]="readOnly",po[po.renameOnType=81]="renameOnType",po[po.renderControlCharacters=82]="renderControlCharacters",po[po.renderFinalNewline=83]="renderFinalNewline",po[po.renderLineHighlight=84]="renderLineHighlight",po[po.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",po[po.renderValidationDecorations=86]="renderValidationDecorations",po[po.renderWhitespace=87]="renderWhitespace",po[po.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",po[po.roundedSelection=89]="roundedSelection",po[po.rulers=90]="rulers",po[po.scrollbar=91]="scrollbar",po[po.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",po[po.scrollBeyondLastLine=93]="scrollBeyondLastLine",po[po.scrollPredominantAxis=94]="scrollPredominantAxis",po[po.selectionClipboard=95]="selectionClipboard",po[po.selectionHighlight=96]="selectionHighlight",po[po.selectOnLineNumbers=97]="selectOnLineNumbers",po[po.showFoldingControls=98]="showFoldingControls",po[po.showUnused=99]="showUnused",po[po.snippetSuggestions=100]="snippetSuggestions",po[po.smartSelect=101]="smartSelect",po[po.smoothScrolling=102]="smoothScrolling",po[po.stickyTabStops=103]="stickyTabStops",po[po.stopRenderingLineAfter=104]="stopRenderingLineAfter",po[po.suggest=105]="suggest",po[po.suggestFontSize=106]="suggestFontSize",po[po.suggestLineHeight=107]="suggestLineHeight",po[po.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",po[po.suggestSelection=109]="suggestSelection",po[po.tabCompletion=110]="tabCompletion",po[po.tabIndex=111]="tabIndex",po[po.unusualLineTerminators=112]="unusualLineTerminators",po[po.useShadowDOM=113]="useShadowDOM",po[po.useTabStops=114]="useTabStops",po[po.wordSeparators=115]="wordSeparators",po[po.wordWrap=116]="wordWrap",po[po.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",po[po.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",po[po.wordWrapColumn=119]="wordWrapColumn",po[po.wordWrapOverride1=120]="wordWrapOverride1",po[po.wordWrapOverride2=121]="wordWrapOverride2",po[po.wrappingIndent=122]="wrappingIndent",po[po.wrappingStrategy=123]="wrappingStrategy",po[po.showDeprecated=124]="showDeprecated",po[po.inlayHints=125]="inlayHints",po[po.editorClassName=126]="editorClassName",po[po.pixelRatio=127]="pixelRatio",po[po.tabFocusMode=128]="tabFocusMode",po[po.layoutInfo=129]="layoutInfo",po[po.wrappingInfo=130]="wrappingInfo",(fo=mo||(mo={}))[fo.TextDefined=0]="TextDefined",fo[fo.LF=1]="LF",fo[fo.CRLF=2]="CRLF",(_o=vo||(vo={}))[_o.LF=0]="LF",_o[_o.CRLF=1]="CRLF",(Co=bo||(bo={}))[Co.None=0]="None",Co[Co.Indent=1]="Indent",Co[Co.IndentOutdent=2]="IndentOutdent",Co[Co.Outdent=3]="Outdent",(yo=wo||(wo={}))[yo.Other=0]="Other",yo[yo.Type=1]="Type",yo[yo.Parameter=2]="Parameter",(Do=So||(So={}))[Do.Automatic=0]="Automatic",Do[Do.Explicit=1]="Explicit",(Io=ko||(ko={}))[Io.DependsOnKbLayout=-1]="DependsOnKbLayout",Io[Io.Unknown=0]="Unknown",Io[Io.Backspace=1]="Backspace",Io[Io.Tab=2]="Tab",Io[Io.Enter=3]="Enter",Io[Io.Shift=4]="Shift",Io[Io.Ctrl=5]="Ctrl",Io[Io.Alt=6]="Alt",Io[Io.PauseBreak=7]="PauseBreak",Io[Io.CapsLock=8]="CapsLock",Io[Io.Escape=9]="Escape",Io[Io.Space=10]="Space",Io[Io.PageUp=11]="PageUp",Io[Io.PageDown=12]="PageDown",Io[Io.End=13]="End",Io[Io.Home=14]="Home",Io[Io.LeftArrow=15]="LeftArrow",Io[Io.UpArrow=16]="UpArrow",Io[Io.RightArrow=17]="RightArrow",Io[Io.DownArrow=18]="DownArrow",Io[Io.Insert=19]="Insert",Io[Io.Delete=20]="Delete",Io[Io.Digit0=21]="Digit0",Io[Io.Digit1=22]="Digit1",Io[Io.Digit2=23]="Digit2",Io[Io.Digit3=24]="Digit3",Io[Io.Digit4=25]="Digit4",Io[Io.Digit5=26]="Digit5",Io[Io.Digit6=27]="Digit6",Io[Io.Digit7=28]="Digit7",Io[Io.Digit8=29]="Digit8",Io[Io.Digit9=30]="Digit9",Io[Io.KeyA=31]="KeyA",Io[Io.KeyB=32]="KeyB",Io[Io.KeyC=33]="KeyC",Io[Io.KeyD=34]="KeyD",Io[Io.KeyE=35]="KeyE",Io[Io.KeyF=36]="KeyF",Io[Io.KeyG=37]="KeyG",Io[Io.KeyH=38]="KeyH",Io[Io.KeyI=39]="KeyI",Io[Io.KeyJ=40]="KeyJ",Io[Io.KeyK=41]="KeyK",Io[Io.KeyL=42]="KeyL",Io[Io.KeyM=43]="KeyM",Io[Io.KeyN=44]="KeyN",Io[Io.KeyO=45]="KeyO",Io[Io.KeyP=46]="KeyP",Io[Io.KeyQ=47]="KeyQ",Io[Io.KeyR=48]="KeyR",Io[Io.KeyS=49]="KeyS",Io[Io.KeyT=50]="KeyT",Io[Io.KeyU=51]="KeyU",Io[Io.KeyV=52]="KeyV",Io[Io.KeyW=53]="KeyW",Io[Io.KeyX=54]="KeyX",Io[Io.KeyY=55]="KeyY",Io[Io.KeyZ=56]="KeyZ",Io[Io.Meta=57]="Meta",Io[Io.ContextMenu=58]="ContextMenu",Io[Io.F1=59]="F1",Io[Io.F2=60]="F2",Io[Io.F3=61]="F3",Io[Io.F4=62]="F4",Io[Io.F5=63]="F5",Io[Io.F6=64]="F6",Io[Io.F7=65]="F7",Io[Io.F8=66]="F8",Io[Io.F9=67]="F9",Io[Io.F10=68]="F10",Io[Io.F11=69]="F11",Io[Io.F12=70]="F12",Io[Io.F13=71]="F13",Io[Io.F14=72]="F14",Io[Io.F15=73]="F15",Io[Io.F16=74]="F16",Io[Io.F17=75]="F17",Io[Io.F18=76]="F18",Io[Io.F19=77]="F19",Io[Io.NumLock=78]="NumLock",Io[Io.ScrollLock=79]="ScrollLock",Io[Io.Semicolon=80]="Semicolon",Io[Io.Equal=81]="Equal",Io[Io.Comma=82]="Comma",Io[Io.Minus=83]="Minus",Io[Io.Period=84]="Period",Io[Io.Slash=85]="Slash",Io[Io.Backquote=86]="Backquote",Io[Io.BracketLeft=87]="BracketLeft",Io[Io.Backslash=88]="Backslash",Io[Io.BracketRight=89]="BracketRight",Io[Io.Quote=90]="Quote",Io[Io.OEM_8=91]="OEM_8",Io[Io.IntlBackslash=92]="IntlBackslash",Io[Io.Numpad0=93]="Numpad0",Io[Io.Numpad1=94]="Numpad1",Io[Io.Numpad2=95]="Numpad2",Io[Io.Numpad3=96]="Numpad3",Io[Io.Numpad4=97]="Numpad4",Io[Io.Numpad5=98]="Numpad5",Io[Io.Numpad6=99]="Numpad6",Io[Io.Numpad7=100]="Numpad7",Io[Io.Numpad8=101]="Numpad8",Io[Io.Numpad9=102]="Numpad9",Io[Io.NumpadMultiply=103]="NumpadMultiply",Io[Io.NumpadAdd=104]="NumpadAdd",Io[Io.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",Io[Io.NumpadSubtract=106]="NumpadSubtract",Io[Io.NumpadDecimal=107]="NumpadDecimal",Io[Io.NumpadDivide=108]="NumpadDivide",Io[Io.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",Io[Io.ABNT_C1=110]="ABNT_C1",Io[Io.ABNT_C2=111]="ABNT_C2",Io[Io.AudioVolumeMute=112]="AudioVolumeMute",Io[Io.AudioVolumeUp=113]="AudioVolumeUp",Io[Io.AudioVolumeDown=114]="AudioVolumeDown",Io[Io.BrowserSearch=115]="BrowserSearch",Io[Io.BrowserHome=116]="BrowserHome",Io[Io.BrowserBack=117]="BrowserBack",Io[Io.BrowserForward=118]="BrowserForward",Io[Io.MediaTrackNext=119]="MediaTrackNext",Io[Io.MediaTrackPrevious=120]="MediaTrackPrevious",Io[Io.MediaStop=121]="MediaStop",Io[Io.MediaPlayPause=122]="MediaPlayPause",Io[Io.LaunchMediaPlayer=123]="LaunchMediaPlayer",Io[Io.LaunchMail=124]="LaunchMail",Io[Io.LaunchApp2=125]="LaunchApp2",Io[Io.MAX_VALUE=126]="MAX_VALUE",(xo=Eo||(Eo={}))[xo.Hint=1]="Hint",xo[xo.Info=2]="Info",xo[xo.Warning=4]="Warning",xo[xo.Error=8]="Error",(Ao=Lo||(Lo={}))[Ao.Unnecessary=1]="Unnecessary",Ao[Ao.Deprecated=2]="Deprecated",(To=No||(No={}))[To.Inline=1]="Inline",To[To.Gutter=2]="Gutter",(Fo=Oo||(Oo={}))[Fo.UNKNOWN=0]="UNKNOWN",Fo[Fo.TEXTAREA=1]="TEXTAREA",Fo[Fo.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",Fo[Fo.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",Fo[Fo.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",Fo[Fo.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",Fo[Fo.CONTENT_TEXT=6]="CONTENT_TEXT",Fo[Fo.CONTENT_EMPTY=7]="CONTENT_EMPTY",Fo[Fo.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",Fo[Fo.CONTENT_WIDGET=9]="CONTENT_WIDGET",Fo[Fo.OVERVIEW_RULER=10]="OVERVIEW_RULER",Fo[Fo.SCROLLBAR=11]="SCROLLBAR",Fo[Fo.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",Fo[Fo.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",(Ro=Mo||(Mo={}))[Ro.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",Ro[Ro.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",Ro[Ro.TOP_CENTER=2]="TOP_CENTER",(Bo=Po||(Po={}))[Bo.Left=1]="Left",Bo[Bo.Center=2]="Center",Bo[Bo.Right=4]="Right",Bo[Bo.Full=7]="Full",(Vo=Wo||(Wo={}))[Vo.Off=0]="Off",Vo[Vo.On=1]="On",Vo[Vo.Relative=2]="Relative",Vo[Vo.Interval=3]="Interval",Vo[Vo.Custom=4]="Custom",(zo=Ho||(Ho={}))[zo.None=0]="None",zo[zo.Text=1]="Text",zo[zo.Blocks=2]="Blocks",(Uo=Ko||(Ko={}))[Uo.Smooth=0]="Smooth",Uo[Uo.Immediate=1]="Immediate",(qo=jo||(jo={}))[qo.Auto=1]="Auto",qo[qo.Hidden=2]="Hidden",qo[qo.Visible=3]="Visible",(Go=$o||($o={}))[Go.LTR=0]="LTR",Go[Go.RTL=1]="RTL",(Yo=Zo||(Zo={}))[Yo.Invoke=1]="Invoke",Yo[Yo.TriggerCharacter=2]="TriggerCharacter",Yo[Yo.ContentChange=3]="ContentChange",(Xo=Jo||(Jo={}))[Xo.File=0]="File",Xo[Xo.Module=1]="Module",Xo[Xo.Namespace=2]="Namespace",Xo[Xo.Package=3]="Package",Xo[Xo.Class=4]="Class",Xo[Xo.Method=5]="Method",Xo[Xo.Property=6]="Property",Xo[Xo.Field=7]="Field",Xo[Xo.Constructor=8]="Constructor",Xo[Xo.Enum=9]="Enum",Xo[Xo.Interface=10]="Interface",Xo[Xo.Function=11]="Function",Xo[Xo.Variable=12]="Variable",Xo[Xo.Constant=13]="Constant",Xo[Xo.String=14]="String",Xo[Xo.Number=15]="Number",Xo[Xo.Boolean=16]="Boolean",Xo[Xo.Array=17]="Array",Xo[Xo.Object=18]="Object",Xo[Xo.Key=19]="Key",Xo[Xo.Null=20]="Null",Xo[Xo.EnumMember=21]="EnumMember",Xo[Xo.Struct=22]="Struct",Xo[Xo.Event=23]="Event",Xo[Xo.Operator=24]="Operator",Xo[Xo.TypeParameter=25]="TypeParameter",(er=Qo||(Qo={}))[er.Deprecated=1]="Deprecated",(ir=tr||(tr={}))[ir.Hidden=0]="Hidden",ir[ir.Blink=1]="Blink",ir[ir.Smooth=2]="Smooth",ir[ir.Phase=3]="Phase",ir[ir.Expand=4]="Expand",ir[ir.Solid=5]="Solid",function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(nr||(nr={})),(rr=or||(or={}))[rr.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",rr[rr.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",rr[rr.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",rr[rr.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(ar=sr||(sr={}))[ar.None=0]="None",ar[ar.Same=1]="Same",ar[ar.Indent=2]="Indent",ar[ar.DeepIndent=3]="DeepIndent";class lr{static chord(e,t){return tn(e,t)}}function ur(){return{editor:void 0,languages:void 0,CancellationTokenSource:Hi,Emitter:Ti,KeyCode:ko,KeyMod:lr,Position:Vn,Range:Hn,Selection:zn,SelectionDirection:$o,MarkerSeverity:Eo,MarkerTag:Lo,Uri:Ln,Token:Kn}}lr.CtrlCmd=2048,lr.Shift=1024,lr.Alt=512,lr.WinCtrl=256;var cr,dr;(dr=cr||(cr={})).serviceIds=new Map,dr.DI_TARGET="$di$target",dr.DI_DEPENDENCIES="$di$dependencies",dr.getServiceDependencies=function(e){return e[dr.DI_DEPENDENCIES]||[]};const hr=pr("instantiationService");function gr(e,t,i,n){t[cr.DI_TARGET]===t?t[cr.DI_DEPENDENCIES].push({id:e,index:i,optional:n}):(t[cr.DI_DEPENDENCIES]=[{id:e,index:i,optional:n}],t[cr.DI_TARGET]=t)}function pr(e){if(cr.serviceIds.has(e))return cr.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");gr(t,e,n,!1)};return t.toString=()=>e,cr.serviceIds.set(e,t),t}function mr(e){return function(t,i,n){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");gr(e,t,n,!0)}}const fr=pr("codeEditorService");class vr{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new Ti,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function _r(){return vr.INSTANCE.getZoomLevel()}function br(e){return vr.INSTANCE.onDidChangeZoomLevel(e)}function Cr(){return vr.INSTANCE.getPixelRatio()}vr.INSTANCE=new vr;const wr=navigator.userAgent,yr=wr.indexOf("Firefox")>=0,Sr=wr.indexOf("AppleWebKit")>=0,Dr=wr.indexOf("Chrome")>=0,kr=!Dr&&wr.indexOf("Safari")>=0,Ir=!Dr&&!kr&&Sr,Er=wr.indexOf("Android")>=0,xr=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,Lr=(bt||document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator&&navigator.clipboard&&navigator.clipboard.writeText,bt||navigator&&navigator.clipboard&&navigator.clipboard.readText,bt||xr||navigator.keyboard,"ontouchstart"in window||navigator.maxTouchPoints,window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0));function Ar(e,t){if(0===e)return null;const i=(65535&e)>>>0,n=(4294901760&e)>>>16;return new Or(0!==n?[Nr(i,t),Nr(n,t)]:[Nr(i,t)])}function Nr(e,t){const i=!!(2048&e),n=!!(256&e);return new Tr(2===t?n:i,!!(1024&e),!!(512&e),2===t?i:n,255&e)}class Tr{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new Or([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class Or{constructor(e){if(0===e.length)throw gi("parts");this.parts=e}}class Fr{constructor(e,t,i,n,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=r}}const Mr=vt?256:2048,Rr=vt?2048:256;class Pr{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return Qi.fromString(t)}const t=e.keyCode;if(3===t)return 7;if(yr){if(59===t)return 80;if(107===t)return 81;if(109===t)return 83;if(vt&&224===t)return 57}else if(Sr){if(91===t)return 57;if(vt&&93===t)return 57;if(!vt&&92===t)return 57}return qi[t]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Mr),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=Rr),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new Tr(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let Br=!1,Wr=null;function Vr(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&t.origin!==i.origin)return Br=!0,null}catch(rU){return Br=!0,null}return e.parent}class Hr{static getSameOriginWindowChain(){if(!Wr){Wr=[];let e,t=window;do{e=Vr(t),e?Wr.push({window:t,iframeElement:t.frameElement||null}):Wr.push({window:t,iframeElement:null}),t=e}while(t)}return Wr.slice(0)}static hasDifferentOriginAncestor(){return Wr||this.getSameOriginWindowChain(),Br}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,o=this.getSameOriginWindowChain();for(const r of o){if(i+=r.window.scrollY,n+=r.window.scrollX,r.window===t)break;if(!r.iframeElement)break;let e=r.iframeElement.getBoundingClientRect();i+=e.top,n+=e.left}return{top:i,left:n}}}class zr{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=Hr.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Kr{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let t=e,i=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==i.VERTICAL_AXIS&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaY=yr&&!vt?-e.deltaY/3:-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)this.deltaX=kr&&ft?-t.wheelDeltaX/120:t.wheelDeltaX/120;else if(void 0!==i.HORIZONTAL_AXIS&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaX=yr&&!vt?-e.deltaX/3:-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}var Ur=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function jr(e){const t=new Hi,i=e(t.token),n=new Promise(((e,n)=>{const o=t.token.onCancellationRequested((()=>{o.dispose(),t.dispose(),n(hi())}));Promise.resolve(i).then((i=>{o.dispose(),t.dispose(),e(i)}),(e=>{o.dispose(),t.dispose(),n(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return n.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return n.finally(e)}}}function qr(e,t,i){return Promise.race([e,new Promise((e=>t.onCancellationRequested((()=>e(i)))))])}class $r{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{this.queuedPromise=null;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((t=>{this.activePromise.then(e,e).then(t)}))}return new Promise(((e,t)=>{this.queuedPromise.then(e,t)}))}return this.activePromise=e(),new Promise(((e,t)=>{this.activePromise.then((t=>{this.activePromise=null,e(t)}),(e=>{this.activePromise=null,t(e)}))}))}}class Gr{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}}))),this.timeout=setTimeout((()=>{this.timeout=null,this.doResolve&&this.doResolve(null)}),t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(hi()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class Zr{constructor(e){this.delayer=new Gr(e),this.throttler=new $r}trigger(e,t){return this.delayer.trigger((()=>this.throttler.queue(e)),t)}dispose(){this.delayer.dispose()}}function Yr(e,t){return t?new Promise(((i,n)=>{const o=setTimeout((()=>{r.dispose(),i()}),e),r=t.onCancellationRequested((()=>{clearTimeout(o),r.dispose(),n(hi())}))})):jr((t=>Yr(e,t)))}function Jr(e,t=0){const i=setTimeout(e,t);return wi((()=>clearTimeout(i)))}function Xr(e,t=(e=>!!e),i=null){let n=0;const o=e.length,r=()=>{if(n>=o)return Promise.resolve(i);const s=e[n++];return Promise.resolve(s()).then((e=>t(e)?Promise.resolve(e):r()))};return r()}class Qr{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class es{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval((()=>{e()}),t)}}class ts{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let is;is="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?e=>{const t=setTimeout((()=>{const t=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,t-Date.now())}))}));let i=!1;return{dispose(){i||(i=!0,clearTimeout(t))}}}:(e,t)=>{const i=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}};class ns{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=is((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}var os,rs,ss,as;(rs=os||(os={})).settled=function(e){return Ur(this,void 0,void 0,(function*(){let t;const i=yield Promise.all(e.map((e=>e.then((e=>e),(e=>{t||(t=e)})))));if(void 0!==t)throw t;return i}))},rs.withAsyncBody=function(e){return new Promise(((t,i)=>Ur(this,void 0,void 0,(function*(){try{yield e(t,i)}catch(n){i(n)}}))))},(as=ss||(ss={})).inMemory="inmemory",as.vscode="vscode",as.internal="private",as.walkThrough="walkThrough",as.walkThroughSnippet="walkThroughSnippet",as.http="http",as.https="https",as.file="file",as.mailto="mailto",as.untitled="untitled",as.data="data",as.command="command",as.vscodeRemote="vscode-remote",as.vscodeRemoteResource="vscode-remote-resource",as.userData="vscode-userdata",as.vscodeCustomEditor="vscode-custom-editor",as.vscodeNotebook="vscode-notebook",as.vscodeNotebookCell="vscode-notebook-cell",as.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",as.vscodeNotebookCellOutput="vscode-notebook-cell-output",as.vscodeInteractive="vscode-interactive",as.vscodeInteractiveInput="vscode-interactive-input",as.vscodeSettings="vscode-settings",as.vscodeWorkspaceTrust="vscode-workspace-trust",as.vscodeTerminal="vscode-terminal",as.webviewPanel="webview-panel",as.vscodeWebview="vscode-webview",as.extension="extension",as.vscodeFileResource="vscode-file",as.tmp="tmp";const ls=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&(i=`[${i}]`);const n=this._ports[t],o=this._connectionTokens[t];let r=`path=${encodeURIComponent(e.path)}`;return"string"==typeof o&&(r+=`&tkn=${encodeURIComponent(o)}`),Ln.from({scheme:Ct?this._preferredWebSchema:ss.vscodeRemoteResource,authority:`${i}:${n}`,path:"/vscode-remote-resource",query:r})}};class us{asBrowserUri(e,t){const i=this.toUri(e,t);return i.scheme===ss.vscodeRemote?ls.rewrite(i):i.scheme===ss.file&&(bt||"function"==typeof gt.importScripts&&gt.origin===`${ss.vscodeFileResource}://${us.FALLBACK_AUTHORITY}`)?i.with({scheme:ss.vscodeFileResource,authority:i.authority||us.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return Ln.isUri(e)?e:Ln.parse(t.toUrl(e))}}us.FALLBACK_AUTHORITY="vscode-app";const cs=new us;function ds(e){for(;e.firstChild;)e.firstChild.remove()}function hs(e){var t;return null!==(t=null==e?void 0:e.isConnected)&&void 0!==t&&t}class gs{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function ps(e,t,i,n){return new gs(e,t,i,n)}function ms(e){return function(t){return e(new zr(t))}}let fs=function(e,t,i,n){let o=i;return"click"===t||"mousedown"===t?o=ms(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=function(e){return function(t){return e(new Pr(t))}}(i)),ps(e,t,o,n)},vs=function(e,t,i){return _s(e,ms(t),i)};function _s(e,t,i){return ps(e,wt&&Lr?Qs.POINTER_DOWN:Qs.MOUSE_DOWN,t,i)}function bs(e,t,i){return ps(e,wt&&Lr?Qs.POINTER_UP:Qs.MOUSE_UP,t,i)}function Cs(e,t){return ps(e,"mouseout",(i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)}))}let ws,ys,Ss=null;class Ds{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(rU){li(rU)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,i=!1,n=!1,o=()=>{for(i=!1,t=e,e=[],n=!0;t.length>0;){t.sort(Ds.sort),t.shift().execute()}n=!1};ys=(t,n=0)=>{let r=new Ds(t,n);return e.push(r),i||(i=!0,function(e){if(!Ss){const e=e=>setTimeout((()=>e((new Date).getTime())),0);Ss=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}Ss.call(self,e)}(o)),r},ws=(e,i)=>{if(n){let n=new Ds(e,i);return t.push(n),n}return ys(e,i)}}();const ks=function(e,t){return t};class Is extends Si{constructor(e,t,i,n=ks,o=8){super();let r=null,s=0,a=this._register(new Qr),l=()=>{s=(new Date).getTime(),i(r),r=null};this._register(ps(e,t,(e=>{r=n(r,e);let t=(new Date).getTime()-s;t>=o?(a.cancel(),l()):a.setIfNotSet(l,o-t)})))}}function Es(e,t,i,n,o){return new Is(e,t,i,n,o)}function xs(e){return document.defaultView.getComputedStyle(e,null)}function Ls(e){if(e!==document.body)return new Ns(e.clientWidth,e.clientHeight);if(wt&&window.visualViewport)return new Ns(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new Ns(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Ns(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Ns(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class As{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=xs(e),o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),As.convertToPixels(e,o)}static getBorderLeftWidth(e){return As.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return As.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return As.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return As.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return As.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return As.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return As.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return As.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return As.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return As.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return As.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return As.getDimension(e,"margin-bottom","marginBottom")}}class Ns{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new Ns(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof Ns?e:new Ns(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}}function Ts(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;const o=Ks(e)?null:xs(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=As.getBorderLeftWidth(e),i+=As.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}function Os(e,t,i){"number"==typeof t&&(e.style.width=`${t}px`),"number"==typeof i&&(e.style.height=`${i}px`)}function Fs(e){let t=e.getBoundingClientRect();return{left:t.left+Ms.scrollX,top:t.top+Ms.scrollY,width:t.width,height:t.height}}const Ms=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Rs(e){let t=As.getMarginLeft(e)+As.getMarginRight(e);return e.offsetWidth+t}function Ps(e){let t=As.getBorderLeftWidth(e)+As.getBorderRightWidth(e),i=As.getPaddingLeft(e)+As.getPaddingRight(e);return e.offsetWidth-t-i}function Bs(e){let t=As.getBorderTopWidth(e)+As.getBorderBottomWidth(e),i=As.getPaddingTop(e)+As.getPaddingBottom(e);return e.offsetHeight-t-i}function Ws(e){let t=As.getMarginTop(e)+As.getMarginBottom(e);return e.offsetHeight+t}function Vs(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function Hs(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(i)if("string"==typeof i){if(e.classList.contains(i))return null}else if(e===i)return null;e=e.parentNode}return null}function zs(e,t,i){return!!Hs(e,t,i)}function Ks(e){return e&&!!e.host&&!!e.mode}function Us(e){return!!js(e)}function js(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return Ks(e)?e:null}function qs(){let e=document.activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function $s(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let Gs=null;function Zs(){return Gs||(Gs=$s()),Gs}function Ys(e,t,i=Zs()){i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function Js(e,t=Zs()){if(!t)return;let i=function(e){var t,i;return(null===(t=null==e?void 0:e.sheet)||void 0===t?void 0:t.rules)?e.sheet.rules:(null===(i=null==e?void 0:e.sheet)||void 0===i?void 0:i.cssRules)?e.sheet.cssRules:[]}(t),n=[];for(let o=0;o<i.length;o++){-1!==i[o].selectorText.indexOf(e)&&n.push(o)}for(let o=n.length-1;o>=0;o--)t.sheet.deleteRule(n[o])}function Xs(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const Qs={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Sr?"webkitAnimationStart":"animationstart",ANIMATION_END:Sr?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Sr?"webkitAnimationIteration":"animationiteration"},ea={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};class ta extends Si{constructor(e){super(),this._onDidFocus=this._register(new Ti),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new Ti),this.onDidBlur=this._onDidBlur.event;let t=Vs(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout((()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{Vs(document.activeElement,e)!==t&&(t?o():n())},this._register(ps(e,Qs.FOCUS,n,!0)),this._register(ps(e,Qs.BLUR,o,!0))}}function ia(e){return new ta(e)}function na(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function oa(e,t){return e.insertBefore(t,e.firstChild),t}function ra(e,...t){e.innerText="",na(e,...t)}const sa=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var aa,la;function ua(e,t,i,...n){let o=sa.exec(t);if(!o)throw new Error("Bad use of emmet");i=Object.assign({},i||{});let r,s=o[1]||"div";return r=e!==aa.HTML?document.createElementNS(e,s):document.createElement(s),o[3]&&(r.id=o[3]),o[4]&&(r.className=o[4].replace(/\./g," ").trim()),Object.keys(i).forEach((e=>{const t=i[e];void 0!==t&&(/^on\w+$/.test(e)?r[e]=t:"selected"===e?t&&r.setAttribute(e,"true"):r.setAttribute(e,t))})),r.append(...n),r}function ca(e,t,...i){return ua(aa.HTML,e,t,...i)}function da(...e){for(let t of e)t.style.display="",t.removeAttribute("aria-hidden")}function ha(...e){for(let t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function ga(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function pa(e){window.open(e,"_blank","noopener")}function ma(e){return e?`url('${cs.asBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function fa(e){return`'${e.replace(/'/g,"%27")}'`}(la=aa||(aa={})).HTML="http://www.w3.org/1999/xhtml",la.SVG="http://www.w3.org/2000/svg",ca.SVG=function(e,t,...i){return ua(aa.SVG,e,t,...i)},ls.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class va extends Ti{constructor(){super(),this._subscriptions=new yi,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(ps(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=new Pr(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}),!0)),this._subscriptions.add(ps(window,"keyup",(e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))}),!0)),this._subscriptions.add(ps(document.body,"mousedown",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(ps(document.body,"mouseup",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(ps(document.body,"mousemove",(e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)}),!0)),this._subscriptions.add(ps(window,"blur",(()=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return va.instance||(va.instance=new va),va.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function _a(e){return!e||"string"!=typeof e||0===e.trim().length}const ba=/{(\d+)}/g;function Ca(e,...t){return 0===t.length?e:e.replace(ba,(function(e,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=t.length?e:t[n]}))}function wa(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function ya(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Sa(e,t=" "){return ka(Da(e,t),t)}function Da(e,t){if(!e||!t)return e;const i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function ka(e,t){if(!e||!t)return e;const i=t.length,n=e.length;if(0===i||0===n)return e;let o=n,r=-1;for(;r=e.lastIndexOf(t,o-1),-1!==r&&r+i===o;){if(0===r)return"";o=r}return e.substring(0,o)}function Ia(e){return e.replace(/\*/g,"")}function Ea(e,t,i={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=ya(e)),i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),i.unicode&&(n+="u"),new RegExp(e,n)}function xa(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function La(e){return e.split(/\r\n|\r|\n/)}function Aa(e){for(let t=0,i=e.length;t<i;t++){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function Na(e,t=0,i=e.length){for(let n=t;n<i;n++){const i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,i)}function Ta(e,t=e.length-1){for(let i=t;i>=0;i--){const t=e.charCodeAt(i);if(32!==t&&9!==t)return i}return-1}function Oa(e,t){return e<t?-1:e>t?1:0}function Fa(e,t,i=0,n=e.length,o=0,r=t.length){for(;i<n&&o<r;i++,o++){let n=e.charCodeAt(i),r=t.charCodeAt(o);if(n<r)return-1;if(n>r)return 1}const s=n-i,a=r-o;return s<a?-1:s>a?1:0}function Ma(e,t){return Ra(e,t,0,e.length,0,t.length)}function Ra(e,t,i=0,n=e.length,o=0,r=t.length){for(;i<n&&o<r;i++,o++){let s=e.charCodeAt(i),a=t.charCodeAt(o);if(s===a)continue;if(s>=128||a>=128)return Fa(e.toLowerCase(),t.toLowerCase(),i,n,o,r);Pa(s)&&(s-=32),Pa(a)&&(a-=32);const l=s-a;if(0!==l)return l}const s=n-i,a=r-o;return s<a?-1:s>a?1:0}function Pa(e){return e>=97&&e<=122}function Ba(e){return e>=65&&e<=90}function Wa(e,t){return e.length===t.length&&0===Ra(e,t)}function Va(e,t){const i=t.length;return!(t.length>e.length)&&0===Ra(e,t,0,i)}function Ha(e,t){let i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n}function za(e,t){let i,n=Math.min(e.length,t.length);const o=e.length-1,r=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(o-i)!==t.charCodeAt(r-i))return i;return n}function Ka(e){return 55296<=e&&e<=56319}function Ua(e){return 56320<=e&&e<=57343}function ja(e,t){return t-56320+(e-55296<<10)+65536}function qa(e,t,i){const n=e.charCodeAt(i);if(Ka(n)&&i+1<t){const t=e.charCodeAt(i+1);if(Ua(t))return ja(n,t)}return n}function $a(e,t){const i=e.charCodeAt(t-1);if(Ua(i)&&t>1){const n=e.charCodeAt(t-2);if(Ka(n))return ja(n,i)}return i}function Ga(e,t){const i=cl.getInstance(),n=t,o=e.length,r=qa(e,o,t);t+=r>=65536?2:1;let s=i.getGraphemeBreakType(r);for(;t<o;){const n=qa(e,o,t),r=i.getGraphemeBreakType(n);if(ul(s,r))break;t+=n>=65536?2:1,s=r}return t-n}const Za=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Ya(e){return Za.test(e)}const Ja=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;const Xa=/^[\t\n\r\x20-\x7E]*$/;function Qa(e){return Xa.test(e)}const el=/[\u2028\u2029]/;function tl(e){return el.test(e)}function il(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function nl(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129750}const ol=String.fromCharCode(65279);function rl(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function sl(e,t=!1){return!!e&&(t&&(e=e.replace(/\\./g,"")),e.toLowerCase()!==e)}function al(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function ll(e){return cl.getInstance().getGraphemeBreakType(e)}function ul(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}class cl{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return cl._INSTANCE||(cl._INSTANCE=new cl),cl._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}function dl(e,t){if(0===e)return 0;const i=function(e,t){let i=$a(t,e);e-=hl(i);for(;gl(i)||65039===i||8419===i;){if(0===e)return;i=$a(t,e),e-=hl(i)}if(!nl(i))return;if(e>=0){const i=$a(t,e);8205===i&&(e-=hl(i))}return e}(e,t);if(void 0!==i)return i;return e-=hl($a(t,e))}function hl(e){return e>=65536?2:1}function gl(e){return 127995<=e&&e<=127999}var pl,ml;cl._INSTANCE=null;class fl{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class vl{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?Fa(e,this._value,0,e.length,this._from,this._to):Ra(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class _l{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?Fa(e,this._value,0,e.length,this._from,this._to):Ra(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class bl{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new _l(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return Ma(e,this._value.scheme);if(2===this._states[this._stateIdx])return Ma(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return Oa(e,this._value.query);if(5===this._states[this._stateIdx])return Oa(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class Cl{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return null!==(t=null===(e=this.left)||void 0===e?void 0:e.height)&&void 0!==t?t:0}get heightRight(){var e,t;return null!==(t=null===(e=this.right)||void 0===e?void 0:e.height)&&void 0!==t?t:0}}class wl{constructor(e){this._iter=e}static forUris(e=(()=>!1)){return new wl(new bl(e))}static forStrings(){return new wl(new fl)}static forConfigKeys(){return new wl(new vl)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;this._root||(this._root=new Cl,this._root.segment=i.value());const o=[];for(n=this._root;;){const e=i.cmp(n.segment);if(e>0)n.left||(n.left=new Cl,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(e<0)n.right||(n.right=new Cl,n.right.segment=i.value()),o.push([1,n]),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new Cl,n.mid.segment=i.value()),o.push([0,n]),n=n.mid}}const r=n.value;n.value=t,n.key=e;for(let s=o.length-1;s>=0;s--){const e=o[s][1];e.updateHeight();const t=e.balanceFactor();if(t<-1||t>1){const t=o[s][0],i=o[s+1][0];if(1===t&&1===i)o[s][1]=e.rotateLeft();else if(-1===t&&-1===i)o[s][1]=e.rotateRight();else if(1===t&&-1===i)e.right=o[s+1][1]=o[s+1][1].rotateRight(),o[s][1]=e.rotateLeft();else{if(-1!==t||1!==i)throw new Error;e.left=o[s+1][1]=o[s+1][1].rotateLeft(),o[s][1]=e.rotateRight()}if(s>0)switch(o[s-1][0]){case-1:o[s-1][1].left=o[s][1];break;case 1:o[s-1][1].right=o[s][1];break;case 0:o[s-1][1].mid=o[s][1]}else this._root=o[0][1]}}return r}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),i=i.mid}}return i}has(e){const t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const n=this._iter.reset(e),o=[];let r=this._root;for(;r;){const e=n.cmp(r.segment);if(e>0)o.push([-1,r]),r=r.left;else if(e<0)o.push([1,r]),r=r.right;else{if(!n.hasNext())break;n.next(),o.push([0,r]),r=r.mid}}if(r){if(t?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const e=this._min(r.right),{key:t,value:i,segment:n}=e;this._delete(e.key,!1),r.key=t,r.value=i,r.segment=n}else{const e=null!==(i=r.left)&&void 0!==i?i:r.right;if(o.length>0){const[t,i]=o[o.length-1];switch(t){case-1:i.left=e;break;case 0:i.mid=e;break;case 1:i.right=e}}else this._root=e}for(let e=o.length-1;e>=0;e--){const t=o[e][1];t.updateHeight();const i=t.balanceFactor();if(i>1?(t.right.balanceFactor()>=0||(t.right=o[e+1][1]=o[e+1][1].rotateRight()),o[e][1]=t.rotateLeft()):i<-1&&(t.left.balanceFactor()<=0||(t.left=o[e+1][1]=o[e+1][1].rotateLeft()),o[e][1]=t.rotateRight()),e>0)switch(o[e-1][0]){case-1:o[e-1][1].left=o[e][1];break;case 1:o[e-1][1].right=o[e][1];break;case 0:o[e-1][1].mid=o[e][1]}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i,n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),i=n.value||i,n=n.mid}}return n&&n.value||i}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())return i.mid?this._entries(i.mid):void 0;t.next(),i=i.mid}}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}}class yl{constructor(e,t){this.uri=e,this.value=t}}class Sl{constructor(e,t){this[pl]="ResourceMap",e instanceof Sl?(this.map=new Map(e.map),this.toKey=null!=t?t:Sl.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:Sl.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new yl(e,t)),this}get(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(pl=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}}Sl.defaultToKey=e=>e.toString();class Dl{constructor(){this[ml]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return 0!==t&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:default:this.addItemLast(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.key,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.value,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:[i.key,i.value],done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}[(ml=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,i)=>{e.push([i,t])})),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class kl extends Dl{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}const Il="undefined"!=typeof Buffer;let El;class xl{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return Il&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new xl(e)}toString(){return Il?this.buffer.toString():(El||(El=new TextDecoder),El.decode(this.buffer))}}function Ll(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function Al(e,t,i){e[i+0]=255&t,t>>>=8,e[i+1]=255&t}function Nl(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function Tl(e,t,i){e[i+3]=t,t>>>=8,e[i+2]=t,t>>>=8,e[i+1]=t,t>>>=8,e[i]=t}function Ol(e,t){return e[t]}function Fl(e,t,i){e[i]=t}function Ml(e){let t=JSON.parse(e);return t=Rl(t),t}function Rl(e,t=0){if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return Ln.revive(e);case 2:return new RegExp(e.source,e.flags)}if(e instanceof xl||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let i=0;i<e.length;++i)e[i]=Rl(e[i],t+1);else for(const i in e)Object.hasOwnProperty.call(e,i)&&(e[i]=Rl(e[i],t+1))}return e}function Pl(e){return-1===e.indexOf("/")&&(e=function(e){return e.replace(/[\\/]/g,mn.sep)}(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function Bl(e){const t=fn(e);return ft?!(e.length>3)&&(Wl(t)&&(2===e.length||92===t.charCodeAt(2))):t===mn.sep}function Wl(e){return!!ft&&(((t=e.charCodeAt(0))>=65&&t<=90||t>=97&&t<=122)&&58===e.charCodeAt(1));var t}function Vl(e){return Mn(e,!0)}const Hl=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Oa(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return Ln.joinPath(e,...t)}basenameOrAuthority(e){return Ul(e)||e.authority}basename(e){return mn.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===ss.file?t=Ln.file(bn(Vl(e))).path:(t=mn.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===ss.file?Ln.file(fn(Vl(e))).path:mn.normalize(e.path),e.with({path:t})}resolvePath(e,t){if(e.scheme===ss.file){const i=Ln.file(vn(Vl(e),t));return e.with({authority:i.authority,path:i.path})}return t=Pl(t),e.with({path:mn.resolve(e.path,t)})}}((()=>!1)),zl=Hl.isEqual.bind(Hl),Kl=Hl.basenameOrAuthority.bind(Hl),Ul=Hl.basename.bind(Hl),jl=Hl.dirname.bind(Hl),ql=Hl.joinPath.bind(Hl),$l=Hl.normalizePath.bind(Hl),Gl=Hl.resolvePath.bind(Hl);var Zl,Yl;function Jl(e){return Array.isArray(e)}function Xl(e){return"string"==typeof e}function Ql(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function eu(e){return"number"==typeof e&&!isNaN(e)}function tu(e){return!0===e||!1===e}function iu(e){return void 0===e}function nu(e){return!ou(e)}function ou(e){return iu(e)||null===e}function ru(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function su(e){if(ou(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function au(e){return"function"==typeof e}function lu(e,t){if(Xl(t)){if(typeof e!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(au(t)){try{if(e instanceof t)return}catch(i){}if(!ou(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function uu(e){const t=[];for(const i of function(e){let t=[],i=Object.getPrototypeOf(e);for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}(e))"function"==typeof e[i]&&t.push(i);return t}function cu(e){return null===e?void 0:e}(Yl=Zl||(Zl={})).META_DATA_LABEL="label",Yl.META_DATA_DESCRIPTION="description",Yl.META_DATA_SIZE="size",Yl.META_DATA_MIME="mime",Yl.parseMetaData=function(e){const t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((e=>{const[i,n]=e.split(":");i&&n&&t.set(i,n)}));const i=e.path.substring(0,e.path.indexOf(";"));return i&&t.set(Yl.META_DATA_MIME,i),t};const du=pr("commandService"),hu=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new Ti,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let n of e.description.args)t.push(n.constraint);const i=e.handler;e.handler=function(e,...n){return function(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)lu(e[n],t[n])}(n,t),i(e,...n)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new Ei,this._commands.set(i,n));let o=n.unshift(e),r=wi((()=>{o();const e=this._commands.get(i);(null==e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),r}registerCommandAlias(e,t){return hu.registerCommand(e,((e,...i)=>e.get(du).executeCommand(t,...i)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return fi.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};var gu,pu;hu.registerCommand("noop",(()=>{})),(pu=gu||(gu={}))[pu.API=0]="API",pu[pu.USER=1]="USER";var mu=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const fu=pr("openerService"),vu=Object.freeze({_serviceBrand:void 0,registerOpener:()=>Si.None,registerValidator:()=>Si.None,registerExternalUriResolver:()=>Si.None,setDefaultExternalOpener(){},registerExternalOpener:()=>Si.None,open(){return mu(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return mu(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});function _u(e,t){return Ln.isUri(e)?Wa(e.scheme,t):Va(e,t+":")}var bu=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Cu=function(e,t){return function(i,n){t(i,n,e)}},wu=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let yu=class{constructor(e){this._commandService=e}open(e,t){return wu(this,void 0,void 0,(function*(){if(!_u(e,ss.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=Ln.parse(e));let i=[];try{i=Ml(decodeURIComponent(e.query))}catch(n){try{i=Ml(e.query)}catch(o){}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0}))}};yu=bu([Cu(0,du)],yu);let Su=class{constructor(e){this._editorService=e}open(e,t){return wu(this,void 0,void 0,(function*(){let i;"string"==typeof e&&(e=Ln.parse(e));const n=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1},e=e.with({fragment:""})),e.scheme===ss.file&&(e=$l(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:(null==t?void 0:t.fromUserGesture)?gu.USER:gu.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};Su=bu([Cu(0,fr)],Su);let Du=class{constructor(e,t){this._openers=new Ei,this._validators=new Ei,this._resolvers=new Ei,this._resolvedUriTargets=new Sl((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new Ei,this._defaultExternalOpener={openExternal:e=>wu(this,void 0,void 0,(function*(){return _u(e,ss.http)||_u(e,ss.https)?pa(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>wu(this,void 0,void 0,(function*(){return!!((null==t?void 0:t.openExternal)||_u(e,ss.mailto)||_u(e,ss.http)||_u(e,ss.https))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new yu(t)),this._openers.push(new Su(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return wu(this,void 0,void 0,(function*(){const n="string"==typeof e?Ln.parse(e):e,o=null!==(i=this._resolvedUriTargets.get(n))&&void 0!==i?i:e;for(const e of this._validators)if(!(yield e.shouldOpen(o)))return!1;for(const i of this._openers){if(yield i.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return wu(this,void 0,void 0,(function*(){for(const n of this._resolvers)try{const i=yield n.resolveExternalUri(e,t);if(i)return this._resolvedUriTargets.has(i.resolved)||this._resolvedUriTargets.set(i.resolved,e),i}catch(i){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return wu(this,void 0,void 0,(function*(){const i="string"==typeof e?Ln.parse(e):e;let n,o;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch(r){n=i}if(o="string"==typeof e&&i.toString()===n.toString()?e:encodeURI(n.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(yield t.openExternal(o,{sourceUri:i,preferredOpenerId:e},Bi.None))return!0}}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Bi.None)}))}dispose(){this._validators.clear()}};function ku(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}function Iu(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((i=>{e[i]&&"object"==typeof e[i]?t[i]=Iu(e[i]):t[i]=e[i]})),t}Du=bu([Cu(0,fr),Cu(1,du)],Du);const Eu=Object.prototype.hasOwnProperty;function xu(e,t){return Lu(e,t,new Set)}function Lu(e,t,i){if(ou(e))return e;const n=t(e);if(void 0!==n)return n;if(Jl(e)){const n=[];for(const o of e)n.push(Lu(o,t,i));return n}if(Ql(e)){if(i.has(e))throw new Error("Cannot clone recursive data-structure");i.add(e);const n={};for(let o in e)Eu.call(e,o)&&(n[o]=Lu(e[o],t,i));return i.delete(e),n}return e}function Au(e,t,i=!0){return Ql(e)?(Ql(t)&&Object.keys(t).forEach((n=>{n in e?i&&(Ql(e[n])&&Ql(t[n])?Au(e[n],t[n],i):e[n]=t[n]):e[n]=t[n]})),e):t}function Nu(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!Nu(e[i],t[i]))return!1}else{const o=[];for(n in e)o.push(n);o.sort();const r=[];for(n in t)r.push(n);if(r.sort(),!Nu(o,r))return!1;for(i=0;i<o.length;i++)if(!Nu(e[o[i]],t[o[i]]))return!1}return!0}function Tu(e,t,i){const n=t(e);return void 0===n?i:n}const Ou={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class Fu extends Si{constructor(e,t={}){super(),this._onDidUpdate=this._register(new Ti),this._editor=e,this._options=Au(t,Ou,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose((()=>this.dispose()))),this._register(this._editor.onDidUpdateDiff((()=>this._onDiffUpdated()))),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((e=>{this.ignoreSelectionChange||(this.nextIdx=-1)}))),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel((e=>{this.revealFirst=!0}))),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach((e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((e=>{this.ranges.push({rhs:!0,range:new Hn(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):0===e.modifiedEndLineNumber?this.ranges.push({rhs:!0,range:new Hn(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new Hn(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber+1,1)})})),this.ranges.sort(((e,t)=>Hn.compareRangesUsingStarts(e.range,t.range))),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(i){for(let n=0,o=this.ranges.length;n<o&&!t;n++){let o=this.ranges[n].range;i.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(ku(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let e=i.range.getStartPosition();this._editor.setPosition(e),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const Mu=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Ti,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Ru=vt?1.5:1.35;class Pu{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i,n){const o=e.get(42),r=e.get(46),s=e.get(45),a=e.get(44),l=e.get(58),u=e.get(55);return Pu._create(o,r,s,a,l,u,t,i,n)}static _create(e,t,i,n,o,r,s,a,l){0===o?o=Ru*i:o<8&&(o*=i),(o=Math.round(o))<8&&(o=8);const u=1+(l?0:.1*Mu.getZoomLevel());return new Pu({zoomLevel:s,pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i*=u,fontFeatureSettings:n,lineHeight:o*=u,letterSpacing:r})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(e){const t=Pu._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}class Bu extends Pu{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}const Wu={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var Vu,Hu,zu,Ku;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(Vu||(Vu={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(Hu||(Hu={}));class Uu{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Nu(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class ju{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}(Ku=zu||(zu={}))[Ku.Disabled=0]="Disabled",Ku[Ku.EnabledForActive=1]="EnabledForActive",Ku[Ku.Enabled=2]="Enabled";class qu{constructor(e,t,i){this.visibleColumn=e,this.className=t,this.horizontalLine=i}}class $u{constructor(e,t){this.top=e,this.endColumn=t}}class Gu{constructor(e,t,i,n,o,r){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=r}}class Zu{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function Yu(e){return Ju(e,0)}function Ju(e,t){switch(typeof e){case"object":return null===e?Xu(349,t):Array.isArray(e)?(i=e,n=Xu(104579,n=t),i.reduce(((e,t)=>Ju(t,e)),n)):function(e,t){return t=Xu(181387,t),Object.keys(e).sort().reduce(((t,i)=>(t=Qu(i,t),Ju(e[i],t))),t)}(e,t);case"string":return Qu(e,t);case"boolean":return function(e,t){return Xu(e?433:863,t)}(e,t);case"number":return Xu(e,t);case"undefined":return Xu(937,t);default:return Xu(617,t)}var i,n}function Xu(e,t){return(t<<5)-t+e|0}function Qu(e,t){t=Xu(149417,t);for(let i=0,n=e.length;i<n;i++)t=Xu(e.charCodeAt(i),t);return t}function ec(e,t,i=32){const n=i-t;return(e<<t|(~((1<<n)-1)&e)>>>n)>>>0}function tc(e,t=0,i=e.byteLength,n=0){for(let o=0;o<i;o++)e[t+o]=n}function ic(e,t=32){return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join(""):function(e,t,i="0"){for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}class nc{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let n,o,r=this._buffLen,s=this._leftoverHighSurrogate;for(0!==s?(n=s,o=-1,s=0):(n=e.charCodeAt(0),o=0);;){let a=n;if(Ka(n)){if(!(o+1<t)){s=n;break}{const t=e.charCodeAt(o+1);Ua(t)?(o++,a=ja(n,t)):a=65533}}else Ua(n)&&(a=65533);if(r=this._push(i,r,a),o++,!(o<t))break;n=e.charCodeAt(o)}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),ic(this._h0)+ic(this._h1)+ic(this._h2)+ic(this._h3)+ic(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,tc(this._buff,this._buffLen),this._buffLen>56&&(this._step(),tc(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=nc._bigBlock32,t=this._buffDV;for(let c=0;c<64;c+=4)e.setUint32(c,t.getUint32(c,!1),!1);for(let c=64;c<320;c+=4)e.setUint32(c,ec(e.getUint32(c-12,!1)^e.getUint32(c-32,!1)^e.getUint32(c-56,!1)^e.getUint32(c-64,!1),1),!1);let i,n,o,r=this._h0,s=this._h1,a=this._h2,l=this._h3,u=this._h4;for(let c=0;c<80;c++)c<20?(i=s&a|~s&l,n=1518500249):c<40?(i=s^a^l,n=1859775393):c<60?(i=s&a|s&l|a&l,n=2400959708):(i=s^a^l,n=3395469782),o=ec(r,5)+i+u+n+e.getUint32(4*c,!1)&4294967295,u=l,l=a,a=ec(s,30),s=r,r=o;this._h0=this._h0+r&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+u&4294967295}}function oc(e,t,i){return Math.min(Math.max(e,t),i)}nc._bigBlock32=new DataView(new ArrayBuffer(320));class rc{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}get value(){return this._val}}const sc=/\//g;function ac(e){switch(e){case 0:return"";case 1:return"[^/\\\\]*?";default:return"(?:[/\\\\]|[^/\\\\]+[/\\\\]|[/\\\\][^/\\\\]+)*?"}}function lc(e,t){if(!e)return[];const i=[];let n=!1,o=!1,r="";for(const s of e){switch(s){case t:if(!n&&!o){i.push(r),r="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":o=!0;break;case"]":o=!1}r+=s}return r&&i.push(r),i}function uc(e){if(!e)return"";let t="";const i=lc(e,"/");if(i.every((e=>"**"===e)))t=".*";else{let e=!1;i.forEach(((n,o)=>{if("**"===n)return void(e||(t+=ac(2),e=!0));let r=!1,s="",a=!1,l="";for(const e of n)if("}"!==e&&r)s+=e;else if(!a||"]"===e&&l)switch(e){case"{":r=!0;continue;case"[":a=!0;continue;case"}":const i=`(?:${lc(s,",").map((e=>uc(e))).join("|")})`;t+=i,r=!1,s="";break;case"]":t+="["+l+"]",a=!1,l="";break;case"?":t+="[^/\\\\]";continue;case"*":t+=ac(1);continue;default:t+=ya(e)}else{let t;t="-"===e?e:"^"!==e&&"!"!==e||l?"/"===e?"":ya(e):"^",l+=t}o<i.length-1&&("**"!==i[o+1]||o+2<i.length)&&(t+="[/\\\\]"),e=!1}))}return t}const cc=/^\*\*\/\*\.[\w\.-]+$/,dc=/^\*\*\/([\w\.-]+)\/?$/,hc=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,gc=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,pc=/^\*\*((\/[\w\.-]+)+)\/?$/,mc=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,fc=new kl(1e4),vc=function(){return!1},_c=function(){return null};function bc(e,t){if(!e)return _c;let i;i="string"!=typeof e?e.pattern:e,i=i.trim();const n=`${i}_${!!t.trimForExclusions}`;let o,r=fc.get(n);if(r)return Cc(r,e);if(cc.test(i)){const e=i.substr(4);r=function(t,n){return"string"==typeof t&&t.endsWith(e)?i:null}}else r=(o=dc.exec(wc(i,t)))?function(e,t){const i=`/${e}`,n=`\\${e}`,o=function(o,r){return"string"!=typeof o?null:r?r===e?t:null:o===e||o.endsWith(i)||o.endsWith(n)?t:null},r=[e];return o.basenames=r,o.patterns=[t],o.allBasenames=r,o}(o[1],i):(t.trimForExclusions?gc:hc).test(i)?function(e,t){const i=Dc(e.slice(1,-1).split(",").map((e=>bc(e,t))).filter((e=>e!==_c)),e),n=i.length;if(!n)return _c;if(1===n)return i[0];const o=function(t,n){for(let o=0,r=i.length;o<r;o++)if(i[o](t,n))return e;return null},r=i.find((e=>!!e.allBasenames));r&&(o.allBasenames=r.allBasenames);const s=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);s.length&&(o.allPaths=s);return o}(i,t):(o=pc.exec(wc(i,t)))?yc(o[1].substr(1),i,!0):(o=mc.exec(wc(i,t)))?yc(o[1],i,!1):function(e){try{const t=new RegExp(`^${uc(e)}$`);return function(i){return t.lastIndex=0,"string"==typeof i&&t.test(i)?e:null}}catch(t){return _c}}(i);return fc.set(n,r),Cc(r,e)}function Cc(e,t){return"string"==typeof t?e:function(i,n){return function(e,t,i,n=yn){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!Va(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===n&&i--,e.charAt(i)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}(i,t.base)?e(_n(t.base,i),n):null}}function wc(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function yc(e,t,i){const n=yn===mn.sep,o=n?e:e.replace(sc,yn),r=yn+o,s=mn.sep+e,a=i?function(i,a){return"string"!=typeof i||i!==o&&!i.endsWith(r)&&(n||i!==e&&!i.endsWith(s))?null:t}:function(i,r){return"string"!=typeof i||i!==o&&(n||i!==e)?null:t};return a.allPaths=[(i?"*/":"./")+e],a}function Sc(e,t={}){if(!e)return vc;if("string"==typeof e||function(e){const t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const i=bc(e,t);if(i===_c)return vc;const n=function(e,t){return!!i(e,t)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,t){const i=Dc(Object.getOwnPropertyNames(e).map((i=>function(e,t,i){if(!1===t)return _c;const n=bc(e,i);if(n===_c)return _c;if("boolean"==typeof t)return n;if(t){const i=t.when;if("string"==typeof i){const t=(t,o,r,s)=>{if(!s||!n(t,o))return null;const a=s(i.replace("$(basename)",r));return(l=a)&&"function"==typeof l.then?a.then((t=>t?e:null)):a?e:null;var l};return t.requiresSiblings=!0,t}}return n}(i,e[i],t))).filter((e=>e!==_c))),n=i.length;if(!n)return _c;if(!i.some((e=>!!e.requiresSiblings))){if(1===n)return i[0];const e=function(e,t){for(let n=0,o=i.length;n<o;n++){const o=i[n](e,t);if(o)return o}return null},t=i.find((e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const o=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return o.length&&(e.allPaths=o),e}const o=function(e,t,n){let o;for(let r=0,s=i.length;r<s;r++){const s=i[r];s.requiresSiblings&&n&&(t||(t=Cn(e)),o||(o=t.substr(0,t.length-wn(e).length)));const a=s(e,t,o,n);if(a)return a}return null},r=i.find((e=>!!e.allBasenames));r&&(o.allBasenames=r.allBasenames);const s=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);s.length&&(o.allPaths=s);return o}(e,t)}function Dc(e,t){const i=e.filter((e=>!!e.basenames));if(i.length<2)return e;const n=i.reduce(((e,t)=>{const i=t.basenames;return i?e.concat(i):e}),[]);let o;if(t){o=[];for(let e=0,i=n.length;e<i;e++)o.push(t)}else o=i.reduce(((e,t)=>{const i=t.patterns;return i?e.concat(i):e}),[]);const r=function(e,t){if("string"!=typeof e)return null;if(!t){let i;for(i=e.length;i>0;i--){const t=e.charCodeAt(i-1);if(47===t||92===t)break}t=e.substr(i)}const i=n.indexOf(t);return-1!==i?o[i]:null};r.basenames=n,r.patterns=o,r.allBasenames=n;const s=e.filter((e=>!e.basenames));return s.push(r),s}function kc(e,t,i,n){if(Array.isArray(e)){let o=0;for(const r of e){const e=kc(r,t,i,n);if(10===e)return e;e>o&&(o=e)}return o}if("string"==typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:a,pattern:l,scheme:u,hasAccessToAllModels:c}=e;if(!n&&!c)return 0;let d=0;if(u)if(u===t.scheme)d=10;else{if("*"!==u)return 0;d=5}if(a)if(a===i)d=10;else{if("*"!==a)return 0;d=Math.max(d,5)}if(l){let e;if(e="string"==typeof l?l:Object.assign(Object.assign({},l),{base:fn(l.base)}),e!==t.fsPath&&(o=e,r=t.fsPath,!o||"string"!=typeof r||!Sc(o)(r,void 0,s)))return 0;d=10}return d}return 0;var o,r,s}const Ic=pr("modelService");function Ec(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}function xc(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(xc):!!e.exclusive)}class Lc{constructor(){this._clock=0,this._entries=[],this._onDidChange=new Ti}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),wi((()=>{if(i){let e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,(e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))})),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=kc(t.selector,e.uri,e.getLanguageId(),Ec(e)),xc(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(Lc._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}const Ac=new WeakMap;let Nc=0;class Tc{constructor(e,t,i=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=i,this._cache=new kl(50,.7)}_key(e){return e.id+this._registry.all(e).reduce(((e,t)=>Ju(function(e){let t=Ac.get(e);return void 0===t&&(t=++Nc,Ac.set(e,t)),t}(t),e)),0)}_clamp(e){return void 0===e?this.min:Math.min(this.max,Math.max(this.min,Math.floor(1.3*e)))}get(e){const t=this._key(e),i=this._cache.get(t);return this._clamp(null==i?void 0:i.value)}update(e,t){const i=this._key(e);let n=this._cache.get(i);return n||(n=new rc,this._cache.set(i,n)),n.update(t),this.get(e)}}const Oc=new class{constructor(){this._icons=new Map,this._onDidRegister=new Ti}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},Fc=Oc;function Mc(e,t){return new Rc(e,t)}class Rc{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,Oc.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var Pc,Bc;!function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9\\-]+",e.iconModifierExpression="~[A-Za-z]+";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function i(e){if(e instanceof Rc)return["codicon","codicon-"+e.id];const n=t.exec(e.id);if(!n)return i(Rc.error);let[,o,r]=n;const s=["codicon","codicon-"+o];return r&&s.push("codicon-modifier-"+r.substr(1)),s}e.asClassNameArray=i,e.asClassName=function(e){return i(e).join(" ")},e.asCSSSelector=function(e){return"."+i(e).join(".")}}(Pc||(Pc={})),(Bc=Rc||(Rc={})).add=new Bc("add",{fontCharacter:"\\ea60"}),Bc.plus=new Bc("plus",Bc.add.definition),Bc.gistNew=new Bc("gist-new",Bc.add.definition),Bc.repoCreate=new Bc("repo-create",Bc.add.definition),Bc.lightbulb=new Bc("lightbulb",{fontCharacter:"\\ea61"}),Bc.lightBulb=new Bc("light-bulb",{fontCharacter:"\\ea61"}),Bc.repo=new Bc("repo",{fontCharacter:"\\ea62"}),Bc.repoDelete=new Bc("repo-delete",{fontCharacter:"\\ea62"}),Bc.gistFork=new Bc("gist-fork",{fontCharacter:"\\ea63"}),Bc.repoForked=new Bc("repo-forked",{fontCharacter:"\\ea63"}),Bc.gitPullRequest=new Bc("git-pull-request",{fontCharacter:"\\ea64"}),Bc.gitPullRequestAbandoned=new Bc("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),Bc.recordKeys=new Bc("record-keys",{fontCharacter:"\\ea65"}),Bc.keyboard=new Bc("keyboard",{fontCharacter:"\\ea65"}),Bc.tag=new Bc("tag",{fontCharacter:"\\ea66"}),Bc.tagAdd=new Bc("tag-add",{fontCharacter:"\\ea66"}),Bc.tagRemove=new Bc("tag-remove",{fontCharacter:"\\ea66"}),Bc.person=new Bc("person",{fontCharacter:"\\ea67"}),Bc.personFollow=new Bc("person-follow",{fontCharacter:"\\ea67"}),Bc.personOutline=new Bc("person-outline",{fontCharacter:"\\ea67"}),Bc.personFilled=new Bc("person-filled",{fontCharacter:"\\ea67"}),Bc.gitBranch=new Bc("git-branch",{fontCharacter:"\\ea68"}),Bc.gitBranchCreate=new Bc("git-branch-create",{fontCharacter:"\\ea68"}),Bc.gitBranchDelete=new Bc("git-branch-delete",{fontCharacter:"\\ea68"}),Bc.sourceControl=new Bc("source-control",{fontCharacter:"\\ea68"}),Bc.mirror=new Bc("mirror",{fontCharacter:"\\ea69"}),Bc.mirrorPublic=new Bc("mirror-public",{fontCharacter:"\\ea69"}),Bc.star=new Bc("star",{fontCharacter:"\\ea6a"}),Bc.starAdd=new Bc("star-add",{fontCharacter:"\\ea6a"}),Bc.starDelete=new Bc("star-delete",{fontCharacter:"\\ea6a"}),Bc.starEmpty=new Bc("star-empty",{fontCharacter:"\\ea6a"}),Bc.comment=new Bc("comment",{fontCharacter:"\\ea6b"}),Bc.commentAdd=new Bc("comment-add",{fontCharacter:"\\ea6b"}),Bc.alert=new Bc("alert",{fontCharacter:"\\ea6c"}),Bc.warning=new Bc("warning",{fontCharacter:"\\ea6c"}),Bc.search=new Bc("search",{fontCharacter:"\\ea6d"}),Bc.searchSave=new Bc("search-save",{fontCharacter:"\\ea6d"}),Bc.logOut=new Bc("log-out",{fontCharacter:"\\ea6e"}),Bc.signOut=new Bc("sign-out",{fontCharacter:"\\ea6e"}),Bc.logIn=new Bc("log-in",{fontCharacter:"\\ea6f"}),Bc.signIn=new Bc("sign-in",{fontCharacter:"\\ea6f"}),Bc.eye=new Bc("eye",{fontCharacter:"\\ea70"}),Bc.eyeUnwatch=new Bc("eye-unwatch",{fontCharacter:"\\ea70"}),Bc.eyeWatch=new Bc("eye-watch",{fontCharacter:"\\ea70"}),Bc.circleFilled=new Bc("circle-filled",{fontCharacter:"\\ea71"}),Bc.primitiveDot=new Bc("primitive-dot",{fontCharacter:"\\ea71"}),Bc.closeDirty=new Bc("close-dirty",{fontCharacter:"\\ea71"}),Bc.debugBreakpoint=new Bc("debug-breakpoint",{fontCharacter:"\\ea71"}),Bc.debugBreakpointDisabled=new Bc("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),Bc.debugHint=new Bc("debug-hint",{fontCharacter:"\\ea71"}),Bc.primitiveSquare=new Bc("primitive-square",{fontCharacter:"\\ea72"}),Bc.edit=new Bc("edit",{fontCharacter:"\\ea73"}),Bc.pencil=new Bc("pencil",{fontCharacter:"\\ea73"}),Bc.info=new Bc("info",{fontCharacter:"\\ea74"}),Bc.issueOpened=new Bc("issue-opened",{fontCharacter:"\\ea74"}),Bc.gistPrivate=new Bc("gist-private",{fontCharacter:"\\ea75"}),Bc.gitForkPrivate=new Bc("git-fork-private",{fontCharacter:"\\ea75"}),Bc.lock=new Bc("lock",{fontCharacter:"\\ea75"}),Bc.mirrorPrivate=new Bc("mirror-private",{fontCharacter:"\\ea75"}),Bc.close=new Bc("close",{fontCharacter:"\\ea76"}),Bc.removeClose=new Bc("remove-close",{fontCharacter:"\\ea76"}),Bc.x=new Bc("x",{fontCharacter:"\\ea76"}),Bc.repoSync=new Bc("repo-sync",{fontCharacter:"\\ea77"}),Bc.sync=new Bc("sync",{fontCharacter:"\\ea77"}),Bc.clone=new Bc("clone",{fontCharacter:"\\ea78"}),Bc.desktopDownload=new Bc("desktop-download",{fontCharacter:"\\ea78"}),Bc.beaker=new Bc("beaker",{fontCharacter:"\\ea79"}),Bc.microscope=new Bc("microscope",{fontCharacter:"\\ea79"}),Bc.vm=new Bc("vm",{fontCharacter:"\\ea7a"}),Bc.deviceDesktop=new Bc("device-desktop",{fontCharacter:"\\ea7a"}),Bc.file=new Bc("file",{fontCharacter:"\\ea7b"}),Bc.fileText=new Bc("file-text",{fontCharacter:"\\ea7b"}),Bc.more=new Bc("more",{fontCharacter:"\\ea7c"}),Bc.ellipsis=new Bc("ellipsis",{fontCharacter:"\\ea7c"}),Bc.kebabHorizontal=new Bc("kebab-horizontal",{fontCharacter:"\\ea7c"}),Bc.mailReply=new Bc("mail-reply",{fontCharacter:"\\ea7d"}),Bc.reply=new Bc("reply",{fontCharacter:"\\ea7d"}),Bc.organization=new Bc("organization",{fontCharacter:"\\ea7e"}),Bc.organizationFilled=new Bc("organization-filled",{fontCharacter:"\\ea7e"}),Bc.organizationOutline=new Bc("organization-outline",{fontCharacter:"\\ea7e"}),Bc.newFile=new Bc("new-file",{fontCharacter:"\\ea7f"}),Bc.fileAdd=new Bc("file-add",{fontCharacter:"\\ea7f"}),Bc.newFolder=new Bc("new-folder",{fontCharacter:"\\ea80"}),Bc.fileDirectoryCreate=new Bc("file-directory-create",{fontCharacter:"\\ea80"}),Bc.trash=new Bc("trash",{fontCharacter:"\\ea81"}),Bc.trashcan=new Bc("trashcan",{fontCharacter:"\\ea81"}),Bc.history=new Bc("history",{fontCharacter:"\\ea82"}),Bc.clock=new Bc("clock",{fontCharacter:"\\ea82"}),Bc.folder=new Bc("folder",{fontCharacter:"\\ea83"}),Bc.fileDirectory=new Bc("file-directory",{fontCharacter:"\\ea83"}),Bc.symbolFolder=new Bc("symbol-folder",{fontCharacter:"\\ea83"}),Bc.logoGithub=new Bc("logo-github",{fontCharacter:"\\ea84"}),Bc.markGithub=new Bc("mark-github",{fontCharacter:"\\ea84"}),Bc.github=new Bc("github",{fontCharacter:"\\ea84"}),Bc.terminal=new Bc("terminal",{fontCharacter:"\\ea85"}),Bc.console=new Bc("console",{fontCharacter:"\\ea85"}),Bc.repl=new Bc("repl",{fontCharacter:"\\ea85"}),Bc.zap=new Bc("zap",{fontCharacter:"\\ea86"}),Bc.symbolEvent=new Bc("symbol-event",{fontCharacter:"\\ea86"}),Bc.error=new Bc("error",{fontCharacter:"\\ea87"}),Bc.stop=new Bc("stop",{fontCharacter:"\\ea87"}),Bc.variable=new Bc("variable",{fontCharacter:"\\ea88"}),Bc.symbolVariable=new Bc("symbol-variable",{fontCharacter:"\\ea88"}),Bc.array=new Bc("array",{fontCharacter:"\\ea8a"}),Bc.symbolArray=new Bc("symbol-array",{fontCharacter:"\\ea8a"}),Bc.symbolModule=new Bc("symbol-module",{fontCharacter:"\\ea8b"}),Bc.symbolPackage=new Bc("symbol-package",{fontCharacter:"\\ea8b"}),Bc.symbolNamespace=new Bc("symbol-namespace",{fontCharacter:"\\ea8b"}),Bc.symbolObject=new Bc("symbol-object",{fontCharacter:"\\ea8b"}),Bc.symbolMethod=new Bc("symbol-method",{fontCharacter:"\\ea8c"}),Bc.symbolFunction=new Bc("symbol-function",{fontCharacter:"\\ea8c"}),Bc.symbolConstructor=new Bc("symbol-constructor",{fontCharacter:"\\ea8c"}),Bc.symbolBoolean=new Bc("symbol-boolean",{fontCharacter:"\\ea8f"}),Bc.symbolNull=new Bc("symbol-null",{fontCharacter:"\\ea8f"}),Bc.symbolNumeric=new Bc("symbol-numeric",{fontCharacter:"\\ea90"}),Bc.symbolNumber=new Bc("symbol-number",{fontCharacter:"\\ea90"}),Bc.symbolStructure=new Bc("symbol-structure",{fontCharacter:"\\ea91"}),Bc.symbolStruct=new Bc("symbol-struct",{fontCharacter:"\\ea91"}),Bc.symbolParameter=new Bc("symbol-parameter",{fontCharacter:"\\ea92"}),Bc.symbolTypeParameter=new Bc("symbol-type-parameter",{fontCharacter:"\\ea92"}),Bc.symbolKey=new Bc("symbol-key",{fontCharacter:"\\ea93"}),Bc.symbolText=new Bc("symbol-text",{fontCharacter:"\\ea93"}),Bc.symbolReference=new Bc("symbol-reference",{fontCharacter:"\\ea94"}),Bc.goToFile=new Bc("go-to-file",{fontCharacter:"\\ea94"}),Bc.symbolEnum=new Bc("symbol-enum",{fontCharacter:"\\ea95"}),Bc.symbolValue=new Bc("symbol-value",{fontCharacter:"\\ea95"}),Bc.symbolRuler=new Bc("symbol-ruler",{fontCharacter:"\\ea96"}),Bc.symbolUnit=new Bc("symbol-unit",{fontCharacter:"\\ea96"}),Bc.activateBreakpoints=new Bc("activate-breakpoints",{fontCharacter:"\\ea97"}),Bc.archive=new Bc("archive",{fontCharacter:"\\ea98"}),Bc.arrowBoth=new Bc("arrow-both",{fontCharacter:"\\ea99"}),Bc.arrowDown=new Bc("arrow-down",{fontCharacter:"\\ea9a"}),Bc.arrowLeft=new Bc("arrow-left",{fontCharacter:"\\ea9b"}),Bc.arrowRight=new Bc("arrow-right",{fontCharacter:"\\ea9c"}),Bc.arrowSmallDown=new Bc("arrow-small-down",{fontCharacter:"\\ea9d"}),Bc.arrowSmallLeft=new Bc("arrow-small-left",{fontCharacter:"\\ea9e"}),Bc.arrowSmallRight=new Bc("arrow-small-right",{fontCharacter:"\\ea9f"}),Bc.arrowSmallUp=new Bc("arrow-small-up",{fontCharacter:"\\eaa0"}),Bc.arrowUp=new Bc("arrow-up",{fontCharacter:"\\eaa1"}),Bc.bell=new Bc("bell",{fontCharacter:"\\eaa2"}),Bc.bold=new Bc("bold",{fontCharacter:"\\eaa3"}),Bc.book=new Bc("book",{fontCharacter:"\\eaa4"}),Bc.bookmark=new Bc("bookmark",{fontCharacter:"\\eaa5"}),Bc.debugBreakpointConditionalUnverified=new Bc("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),Bc.debugBreakpointConditional=new Bc("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),Bc.debugBreakpointConditionalDisabled=new Bc("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),Bc.debugBreakpointDataUnverified=new Bc("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),Bc.debugBreakpointData=new Bc("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),Bc.debugBreakpointDataDisabled=new Bc("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),Bc.debugBreakpointLogUnverified=new Bc("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),Bc.debugBreakpointLog=new Bc("debug-breakpoint-log",{fontCharacter:"\\eaab"}),Bc.debugBreakpointLogDisabled=new Bc("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),Bc.briefcase=new Bc("briefcase",{fontCharacter:"\\eaac"}),Bc.broadcast=new Bc("broadcast",{fontCharacter:"\\eaad"}),Bc.browser=new Bc("browser",{fontCharacter:"\\eaae"}),Bc.bug=new Bc("bug",{fontCharacter:"\\eaaf"}),Bc.calendar=new Bc("calendar",{fontCharacter:"\\eab0"}),Bc.caseSensitive=new Bc("case-sensitive",{fontCharacter:"\\eab1"}),Bc.check=new Bc("check",{fontCharacter:"\\eab2"}),Bc.checklist=new Bc("checklist",{fontCharacter:"\\eab3"}),Bc.chevronDown=new Bc("chevron-down",{fontCharacter:"\\eab4"}),Bc.dropDownButton=new Bc("drop-down-button",Bc.chevronDown.definition),Bc.chevronLeft=new Bc("chevron-left",{fontCharacter:"\\eab5"}),Bc.chevronRight=new Bc("chevron-right",{fontCharacter:"\\eab6"}),Bc.chevronUp=new Bc("chevron-up",{fontCharacter:"\\eab7"}),Bc.chromeClose=new Bc("chrome-close",{fontCharacter:"\\eab8"}),Bc.chromeMaximize=new Bc("chrome-maximize",{fontCharacter:"\\eab9"}),Bc.chromeMinimize=new Bc("chrome-minimize",{fontCharacter:"\\eaba"}),Bc.chromeRestore=new Bc("chrome-restore",{fontCharacter:"\\eabb"}),Bc.circleOutline=new Bc("circle-outline",{fontCharacter:"\\eabc"}),Bc.debugBreakpointUnverified=new Bc("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),Bc.circleSlash=new Bc("circle-slash",{fontCharacter:"\\eabd"}),Bc.circuitBoard=new Bc("circuit-board",{fontCharacter:"\\eabe"}),Bc.clearAll=new Bc("clear-all",{fontCharacter:"\\eabf"}),Bc.clippy=new Bc("clippy",{fontCharacter:"\\eac0"}),Bc.closeAll=new Bc("close-all",{fontCharacter:"\\eac1"}),Bc.cloudDownload=new Bc("cloud-download",{fontCharacter:"\\eac2"}),Bc.cloudUpload=new Bc("cloud-upload",{fontCharacter:"\\eac3"}),Bc.code=new Bc("code",{fontCharacter:"\\eac4"}),Bc.collapseAll=new Bc("collapse-all",{fontCharacter:"\\eac5"}),Bc.colorMode=new Bc("color-mode",{fontCharacter:"\\eac6"}),Bc.commentDiscussion=new Bc("comment-discussion",{fontCharacter:"\\eac7"}),Bc.compareChanges=new Bc("compare-changes",{fontCharacter:"\\eafd"}),Bc.creditCard=new Bc("credit-card",{fontCharacter:"\\eac9"}),Bc.dash=new Bc("dash",{fontCharacter:"\\eacc"}),Bc.dashboard=new Bc("dashboard",{fontCharacter:"\\eacd"}),Bc.database=new Bc("database",{fontCharacter:"\\eace"}),Bc.debugContinue=new Bc("debug-continue",{fontCharacter:"\\eacf"}),Bc.debugDisconnect=new Bc("debug-disconnect",{fontCharacter:"\\ead0"}),Bc.debugPause=new Bc("debug-pause",{fontCharacter:"\\ead1"}),Bc.debugRestart=new Bc("debug-restart",{fontCharacter:"\\ead2"}),Bc.debugStart=new Bc("debug-start",{fontCharacter:"\\ead3"}),Bc.debugStepInto=new Bc("debug-step-into",{fontCharacter:"\\ead4"}),Bc.debugStepOut=new Bc("debug-step-out",{fontCharacter:"\\ead5"}),Bc.debugStepOver=new Bc("debug-step-over",{fontCharacter:"\\ead6"}),Bc.debugStop=new Bc("debug-stop",{fontCharacter:"\\ead7"}),Bc.debug=new Bc("debug",{fontCharacter:"\\ead8"}),Bc.deviceCameraVideo=new Bc("device-camera-video",{fontCharacter:"\\ead9"}),Bc.deviceCamera=new Bc("device-camera",{fontCharacter:"\\eada"}),Bc.deviceMobile=new Bc("device-mobile",{fontCharacter:"\\eadb"}),Bc.diffAdded=new Bc("diff-added",{fontCharacter:"\\eadc"}),Bc.diffIgnored=new Bc("diff-ignored",{fontCharacter:"\\eadd"}),Bc.diffModified=new Bc("diff-modified",{fontCharacter:"\\eade"}),Bc.diffRemoved=new Bc("diff-removed",{fontCharacter:"\\eadf"}),Bc.diffRenamed=new Bc("diff-renamed",{fontCharacter:"\\eae0"}),Bc.diff=new Bc("diff",{fontCharacter:"\\eae1"}),Bc.discard=new Bc("discard",{fontCharacter:"\\eae2"}),Bc.editorLayout=new Bc("editor-layout",{fontCharacter:"\\eae3"}),Bc.emptyWindow=new Bc("empty-window",{fontCharacter:"\\eae4"}),Bc.exclude=new Bc("exclude",{fontCharacter:"\\eae5"}),Bc.extensions=new Bc("extensions",{fontCharacter:"\\eae6"}),Bc.eyeClosed=new Bc("eye-closed",{fontCharacter:"\\eae7"}),Bc.fileBinary=new Bc("file-binary",{fontCharacter:"\\eae8"}),Bc.fileCode=new Bc("file-code",{fontCharacter:"\\eae9"}),Bc.fileMedia=new Bc("file-media",{fontCharacter:"\\eaea"}),Bc.filePdf=new Bc("file-pdf",{fontCharacter:"\\eaeb"}),Bc.fileSubmodule=new Bc("file-submodule",{fontCharacter:"\\eaec"}),Bc.fileSymlinkDirectory=new Bc("file-symlink-directory",{fontCharacter:"\\eaed"}),Bc.fileSymlinkFile=new Bc("file-symlink-file",{fontCharacter:"\\eaee"}),Bc.fileZip=new Bc("file-zip",{fontCharacter:"\\eaef"}),Bc.files=new Bc("files",{fontCharacter:"\\eaf0"}),Bc.filter=new Bc("filter",{fontCharacter:"\\eaf1"}),Bc.flame=new Bc("flame",{fontCharacter:"\\eaf2"}),Bc.foldDown=new Bc("fold-down",{fontCharacter:"\\eaf3"}),Bc.foldUp=new Bc("fold-up",{fontCharacter:"\\eaf4"}),Bc.fold=new Bc("fold",{fontCharacter:"\\eaf5"}),Bc.folderActive=new Bc("folder-active",{fontCharacter:"\\eaf6"}),Bc.folderOpened=new Bc("folder-opened",{fontCharacter:"\\eaf7"}),Bc.gear=new Bc("gear",{fontCharacter:"\\eaf8"}),Bc.gift=new Bc("gift",{fontCharacter:"\\eaf9"}),Bc.gistSecret=new Bc("gist-secret",{fontCharacter:"\\eafa"}),Bc.gist=new Bc("gist",{fontCharacter:"\\eafb"}),Bc.gitCommit=new Bc("git-commit",{fontCharacter:"\\eafc"}),Bc.gitCompare=new Bc("git-compare",{fontCharacter:"\\eafd"}),Bc.gitMerge=new Bc("git-merge",{fontCharacter:"\\eafe"}),Bc.githubAction=new Bc("github-action",{fontCharacter:"\\eaff"}),Bc.githubAlt=new Bc("github-alt",{fontCharacter:"\\eb00"}),Bc.globe=new Bc("globe",{fontCharacter:"\\eb01"}),Bc.grabber=new Bc("grabber",{fontCharacter:"\\eb02"}),Bc.graph=new Bc("graph",{fontCharacter:"\\eb03"}),Bc.gripper=new Bc("gripper",{fontCharacter:"\\eb04"}),Bc.heart=new Bc("heart",{fontCharacter:"\\eb05"}),Bc.home=new Bc("home",{fontCharacter:"\\eb06"}),Bc.horizontalRule=new Bc("horizontal-rule",{fontCharacter:"\\eb07"}),Bc.hubot=new Bc("hubot",{fontCharacter:"\\eb08"}),Bc.inbox=new Bc("inbox",{fontCharacter:"\\eb09"}),Bc.issueClosed=new Bc("issue-closed",{fontCharacter:"\\eba4"}),Bc.issueReopened=new Bc("issue-reopened",{fontCharacter:"\\eb0b"}),Bc.issues=new Bc("issues",{fontCharacter:"\\eb0c"}),Bc.italic=new Bc("italic",{fontCharacter:"\\eb0d"}),Bc.jersey=new Bc("jersey",{fontCharacter:"\\eb0e"}),Bc.json=new Bc("json",{fontCharacter:"\\eb0f"}),Bc.kebabVertical=new Bc("kebab-vertical",{fontCharacter:"\\eb10"}),Bc.key=new Bc("key",{fontCharacter:"\\eb11"}),Bc.law=new Bc("law",{fontCharacter:"\\eb12"}),Bc.lightbulbAutofix=new Bc("lightbulb-autofix",{fontCharacter:"\\eb13"}),Bc.linkExternal=new Bc("link-external",{fontCharacter:"\\eb14"}),Bc.link=new Bc("link",{fontCharacter:"\\eb15"}),Bc.listOrdered=new Bc("list-ordered",{fontCharacter:"\\eb16"}),Bc.listUnordered=new Bc("list-unordered",{fontCharacter:"\\eb17"}),Bc.liveShare=new Bc("live-share",{fontCharacter:"\\eb18"}),Bc.loading=new Bc("loading",{fontCharacter:"\\eb19"}),Bc.location=new Bc("location",{fontCharacter:"\\eb1a"}),Bc.mailRead=new Bc("mail-read",{fontCharacter:"\\eb1b"}),Bc.mail=new Bc("mail",{fontCharacter:"\\eb1c"}),Bc.markdown=new Bc("markdown",{fontCharacter:"\\eb1d"}),Bc.megaphone=new Bc("megaphone",{fontCharacter:"\\eb1e"}),Bc.mention=new Bc("mention",{fontCharacter:"\\eb1f"}),Bc.milestone=new Bc("milestone",{fontCharacter:"\\eb20"}),Bc.mortarBoard=new Bc("mortar-board",{fontCharacter:"\\eb21"}),Bc.move=new Bc("move",{fontCharacter:"\\eb22"}),Bc.multipleWindows=new Bc("multiple-windows",{fontCharacter:"\\eb23"}),Bc.mute=new Bc("mute",{fontCharacter:"\\eb24"}),Bc.noNewline=new Bc("no-newline",{fontCharacter:"\\eb25"}),Bc.note=new Bc("note",{fontCharacter:"\\eb26"}),Bc.octoface=new Bc("octoface",{fontCharacter:"\\eb27"}),Bc.openPreview=new Bc("open-preview",{fontCharacter:"\\eb28"}),Bc.package_=new Bc("package",{fontCharacter:"\\eb29"}),Bc.paintcan=new Bc("paintcan",{fontCharacter:"\\eb2a"}),Bc.pin=new Bc("pin",{fontCharacter:"\\eb2b"}),Bc.play=new Bc("play",{fontCharacter:"\\eb2c"}),Bc.run=new Bc("run",{fontCharacter:"\\eb2c"}),Bc.plug=new Bc("plug",{fontCharacter:"\\eb2d"}),Bc.preserveCase=new Bc("preserve-case",{fontCharacter:"\\eb2e"}),Bc.preview=new Bc("preview",{fontCharacter:"\\eb2f"}),Bc.project=new Bc("project",{fontCharacter:"\\eb30"}),Bc.pulse=new Bc("pulse",{fontCharacter:"\\eb31"}),Bc.question=new Bc("question",{fontCharacter:"\\eb32"}),Bc.quote=new Bc("quote",{fontCharacter:"\\eb33"}),Bc.radioTower=new Bc("radio-tower",{fontCharacter:"\\eb34"}),Bc.reactions=new Bc("reactions",{fontCharacter:"\\eb35"}),Bc.references=new Bc("references",{fontCharacter:"\\eb36"}),Bc.refresh=new Bc("refresh",{fontCharacter:"\\eb37"}),Bc.regex=new Bc("regex",{fontCharacter:"\\eb38"}),Bc.remoteExplorer=new Bc("remote-explorer",{fontCharacter:"\\eb39"}),Bc.remote=new Bc("remote",{fontCharacter:"\\eb3a"}),Bc.remove=new Bc("remove",{fontCharacter:"\\eb3b"}),Bc.replaceAll=new Bc("replace-all",{fontCharacter:"\\eb3c"}),Bc.replace=new Bc("replace",{fontCharacter:"\\eb3d"}),Bc.repoClone=new Bc("repo-clone",{fontCharacter:"\\eb3e"}),Bc.repoForcePush=new Bc("repo-force-push",{fontCharacter:"\\eb3f"}),Bc.repoPull=new Bc("repo-pull",{fontCharacter:"\\eb40"}),Bc.repoPush=new Bc("repo-push",{fontCharacter:"\\eb41"}),Bc.report=new Bc("report",{fontCharacter:"\\eb42"}),Bc.requestChanges=new Bc("request-changes",{fontCharacter:"\\eb43"}),Bc.rocket=new Bc("rocket",{fontCharacter:"\\eb44"}),Bc.rootFolderOpened=new Bc("root-folder-opened",{fontCharacter:"\\eb45"}),Bc.rootFolder=new Bc("root-folder",{fontCharacter:"\\eb46"}),Bc.rss=new Bc("rss",{fontCharacter:"\\eb47"}),Bc.ruby=new Bc("ruby",{fontCharacter:"\\eb48"}),Bc.saveAll=new Bc("save-all",{fontCharacter:"\\eb49"}),Bc.saveAs=new Bc("save-as",{fontCharacter:"\\eb4a"}),Bc.save=new Bc("save",{fontCharacter:"\\eb4b"}),Bc.screenFull=new Bc("screen-full",{fontCharacter:"\\eb4c"}),Bc.screenNormal=new Bc("screen-normal",{fontCharacter:"\\eb4d"}),Bc.searchStop=new Bc("search-stop",{fontCharacter:"\\eb4e"}),Bc.server=new Bc("server",{fontCharacter:"\\eb50"}),Bc.settingsGear=new Bc("settings-gear",{fontCharacter:"\\eb51"}),Bc.settings=new Bc("settings",{fontCharacter:"\\eb52"}),Bc.shield=new Bc("shield",{fontCharacter:"\\eb53"}),Bc.smiley=new Bc("smiley",{fontCharacter:"\\eb54"}),Bc.sortPrecedence=new Bc("sort-precedence",{fontCharacter:"\\eb55"}),Bc.splitHorizontal=new Bc("split-horizontal",{fontCharacter:"\\eb56"}),Bc.splitVertical=new Bc("split-vertical",{fontCharacter:"\\eb57"}),Bc.squirrel=new Bc("squirrel",{fontCharacter:"\\eb58"}),Bc.starFull=new Bc("star-full",{fontCharacter:"\\eb59"}),Bc.starHalf=new Bc("star-half",{fontCharacter:"\\eb5a"}),Bc.symbolClass=new Bc("symbol-class",{fontCharacter:"\\eb5b"}),Bc.symbolColor=new Bc("symbol-color",{fontCharacter:"\\eb5c"}),Bc.symbolConstant=new Bc("symbol-constant",{fontCharacter:"\\eb5d"}),Bc.symbolEnumMember=new Bc("symbol-enum-member",{fontCharacter:"\\eb5e"}),Bc.symbolField=new Bc("symbol-field",{fontCharacter:"\\eb5f"}),Bc.symbolFile=new Bc("symbol-file",{fontCharacter:"\\eb60"}),Bc.symbolInterface=new Bc("symbol-interface",{fontCharacter:"\\eb61"}),Bc.symbolKeyword=new Bc("symbol-keyword",{fontCharacter:"\\eb62"}),Bc.symbolMisc=new Bc("symbol-misc",{fontCharacter:"\\eb63"}),Bc.symbolOperator=new Bc("symbol-operator",{fontCharacter:"\\eb64"}),Bc.symbolProperty=new Bc("symbol-property",{fontCharacter:"\\eb65"}),Bc.wrench=new Bc("wrench",{fontCharacter:"\\eb65"}),Bc.wrenchSubaction=new Bc("wrench-subaction",{fontCharacter:"\\eb65"}),Bc.symbolSnippet=new Bc("symbol-snippet",{fontCharacter:"\\eb66"}),Bc.tasklist=new Bc("tasklist",{fontCharacter:"\\eb67"}),Bc.telescope=new Bc("telescope",{fontCharacter:"\\eb68"}),Bc.textSize=new Bc("text-size",{fontCharacter:"\\eb69"}),Bc.threeBars=new Bc("three-bars",{fontCharacter:"\\eb6a"}),Bc.thumbsdown=new Bc("thumbsdown",{fontCharacter:"\\eb6b"}),Bc.thumbsup=new Bc("thumbsup",{fontCharacter:"\\eb6c"}),Bc.tools=new Bc("tools",{fontCharacter:"\\eb6d"}),Bc.triangleDown=new Bc("triangle-down",{fontCharacter:"\\eb6e"}),Bc.triangleLeft=new Bc("triangle-left",{fontCharacter:"\\eb6f"}),Bc.triangleRight=new Bc("triangle-right",{fontCharacter:"\\eb70"}),Bc.triangleUp=new Bc("triangle-up",{fontCharacter:"\\eb71"}),Bc.twitter=new Bc("twitter",{fontCharacter:"\\eb72"}),Bc.unfold=new Bc("unfold",{fontCharacter:"\\eb73"}),Bc.unlock=new Bc("unlock",{fontCharacter:"\\eb74"}),Bc.unmute=new Bc("unmute",{fontCharacter:"\\eb75"}),Bc.unverified=new Bc("unverified",{fontCharacter:"\\eb76"}),Bc.verified=new Bc("verified",{fontCharacter:"\\eb77"}),Bc.versions=new Bc("versions",{fontCharacter:"\\eb78"}),Bc.vmActive=new Bc("vm-active",{fontCharacter:"\\eb79"}),Bc.vmOutline=new Bc("vm-outline",{fontCharacter:"\\eb7a"}),Bc.vmRunning=new Bc("vm-running",{fontCharacter:"\\eb7b"}),Bc.watch=new Bc("watch",{fontCharacter:"\\eb7c"}),Bc.whitespace=new Bc("whitespace",{fontCharacter:"\\eb7d"}),Bc.wholeWord=new Bc("whole-word",{fontCharacter:"\\eb7e"}),Bc.window=new Bc("window",{fontCharacter:"\\eb7f"}),Bc.wordWrap=new Bc("word-wrap",{fontCharacter:"\\eb80"}),Bc.zoomIn=new Bc("zoom-in",{fontCharacter:"\\eb81"}),Bc.zoomOut=new Bc("zoom-out",{fontCharacter:"\\eb82"}),Bc.listFilter=new Bc("list-filter",{fontCharacter:"\\eb83"}),Bc.listFlat=new Bc("list-flat",{fontCharacter:"\\eb84"}),Bc.listSelection=new Bc("list-selection",{fontCharacter:"\\eb85"}),Bc.selection=new Bc("selection",{fontCharacter:"\\eb85"}),Bc.listTree=new Bc("list-tree",{fontCharacter:"\\eb86"}),Bc.debugBreakpointFunctionUnverified=new Bc("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),Bc.debugBreakpointFunction=new Bc("debug-breakpoint-function",{fontCharacter:"\\eb88"}),Bc.debugBreakpointFunctionDisabled=new Bc("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),Bc.debugStackframeActive=new Bc("debug-stackframe-active",{fontCharacter:"\\eb89"}),Bc.debugStackframeDot=new Bc("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),Bc.debugStackframe=new Bc("debug-stackframe",{fontCharacter:"\\eb8b"}),Bc.debugStackframeFocused=new Bc("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),Bc.debugBreakpointUnsupported=new Bc("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),Bc.symbolString=new Bc("symbol-string",{fontCharacter:"\\eb8d"}),Bc.debugReverseContinue=new Bc("debug-reverse-continue",{fontCharacter:"\\eb8e"}),Bc.debugStepBack=new Bc("debug-step-back",{fontCharacter:"\\eb8f"}),Bc.debugRestartFrame=new Bc("debug-restart-frame",{fontCharacter:"\\eb90"}),Bc.callIncoming=new Bc("call-incoming",{fontCharacter:"\\eb92"}),Bc.callOutgoing=new Bc("call-outgoing",{fontCharacter:"\\eb93"}),Bc.menu=new Bc("menu",{fontCharacter:"\\eb94"}),Bc.expandAll=new Bc("expand-all",{fontCharacter:"\\eb95"}),Bc.feedback=new Bc("feedback",{fontCharacter:"\\eb96"}),Bc.groupByRefType=new Bc("group-by-ref-type",{fontCharacter:"\\eb97"}),Bc.ungroupByRefType=new Bc("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),Bc.account=new Bc("account",{fontCharacter:"\\eb99"}),Bc.bellDot=new Bc("bell-dot",{fontCharacter:"\\eb9a"}),Bc.debugConsole=new Bc("debug-console",{fontCharacter:"\\eb9b"}),Bc.library=new Bc("library",{fontCharacter:"\\eb9c"}),Bc.output=new Bc("output",{fontCharacter:"\\eb9d"}),Bc.runAll=new Bc("run-all",{fontCharacter:"\\eb9e"}),Bc.syncIgnored=new Bc("sync-ignored",{fontCharacter:"\\eb9f"}),Bc.pinned=new Bc("pinned",{fontCharacter:"\\eba0"}),Bc.githubInverted=new Bc("github-inverted",{fontCharacter:"\\eba1"}),Bc.debugAlt=new Bc("debug-alt",{fontCharacter:"\\eb91"}),Bc.serverProcess=new Bc("server-process",{fontCharacter:"\\eba2"}),Bc.serverEnvironment=new Bc("server-environment",{fontCharacter:"\\eba3"}),Bc.pass=new Bc("pass",{fontCharacter:"\\eba4"}),Bc.stopCircle=new Bc("stop-circle",{fontCharacter:"\\eba5"}),Bc.playCircle=new Bc("play-circle",{fontCharacter:"\\eba6"}),Bc.record=new Bc("record",{fontCharacter:"\\eba7"}),Bc.debugAltSmall=new Bc("debug-alt-small",{fontCharacter:"\\eba8"}),Bc.vmConnect=new Bc("vm-connect",{fontCharacter:"\\eba9"}),Bc.cloud=new Bc("cloud",{fontCharacter:"\\ebaa"}),Bc.merge=new Bc("merge",{fontCharacter:"\\ebab"}),Bc.exportIcon=new Bc("export",{fontCharacter:"\\ebac"}),Bc.graphLeft=new Bc("graph-left",{fontCharacter:"\\ebad"}),Bc.magnet=new Bc("magnet",{fontCharacter:"\\ebae"}),Bc.notebook=new Bc("notebook",{fontCharacter:"\\ebaf"}),Bc.redo=new Bc("redo",{fontCharacter:"\\ebb0"}),Bc.checkAll=new Bc("check-all",{fontCharacter:"\\ebb1"}),Bc.pinnedDirty=new Bc("pinned-dirty",{fontCharacter:"\\ebb2"}),Bc.passFilled=new Bc("pass-filled",{fontCharacter:"\\ebb3"}),Bc.circleLargeFilled=new Bc("circle-large-filled",{fontCharacter:"\\ebb4"}),Bc.circleLargeOutline=new Bc("circle-large-outline",{fontCharacter:"\\ebb5"}),Bc.combine=new Bc("combine",{fontCharacter:"\\ebb6"}),Bc.gather=new Bc("gather",{fontCharacter:"\\ebb6"}),Bc.table=new Bc("table",{fontCharacter:"\\ebb7"}),Bc.variableGroup=new Bc("variable-group",{fontCharacter:"\\ebb8"}),Bc.typeHierarchy=new Bc("type-hierarchy",{fontCharacter:"\\ebb9"}),Bc.typeHierarchySub=new Bc("type-hierarchy-sub",{fontCharacter:"\\ebba"}),Bc.typeHierarchySuper=new Bc("type-hierarchy-super",{fontCharacter:"\\ebbb"}),Bc.gitPullRequestCreate=new Bc("git-pull-request-create",{fontCharacter:"\\ebbc"}),Bc.runAbove=new Bc("run-above",{fontCharacter:"\\ebbd"}),Bc.runBelow=new Bc("run-below",{fontCharacter:"\\ebbe"}),Bc.notebookTemplate=new Bc("notebook-template",{fontCharacter:"\\ebbf"}),Bc.debugRerun=new Bc("debug-rerun",{fontCharacter:"\\ebc0"}),Bc.workspaceTrusted=new Bc("workspace-trusted",{fontCharacter:"\\ebc1"}),Bc.workspaceUntrusted=new Bc("workspace-untrusted",{fontCharacter:"\\ebc2"}),Bc.workspaceUnspecified=new Bc("workspace-unspecified",{fontCharacter:"\\ebc3"}),Bc.terminalCmd=new Bc("terminal-cmd",{fontCharacter:"\\ebc4"}),Bc.terminalDebian=new Bc("terminal-debian",{fontCharacter:"\\ebc5"}),Bc.terminalLinux=new Bc("terminal-linux",{fontCharacter:"\\ebc6"}),Bc.terminalPowershell=new Bc("terminal-powershell",{fontCharacter:"\\ebc7"}),Bc.terminalTmux=new Bc("terminal-tmux",{fontCharacter:"\\ebc8"}),Bc.terminalUbuntu=new Bc("terminal-ubuntu",{fontCharacter:"\\ebc9"}),Bc.terminalBash=new Bc("terminal-bash",{fontCharacter:"\\ebca"}),Bc.arrowSwap=new Bc("arrow-swap",{fontCharacter:"\\ebcb"}),Bc.copy=new Bc("copy",{fontCharacter:"\\ebcc"}),Bc.personAdd=new Bc("person-add",{fontCharacter:"\\ebcd"}),Bc.filterFilled=new Bc("filter-filled",{fontCharacter:"\\ebce"}),Bc.wand=new Bc("wand",{fontCharacter:"\\ebcf"}),Bc.debugLineByLine=new Bc("debug-line-by-line",{fontCharacter:"\\ebd0"}),Bc.inspect=new Bc("inspect",{fontCharacter:"\\ebd1"}),Bc.layers=new Bc("layers",{fontCharacter:"\\ebd2"}),Bc.layersDot=new Bc("layers-dot",{fontCharacter:"\\ebd3"}),Bc.layersActive=new Bc("layers-active",{fontCharacter:"\\ebd4"}),Bc.compass=new Bc("compass",{fontCharacter:"\\ebd5"}),Bc.compassDot=new Bc("compass-dot",{fontCharacter:"\\ebd6"}),Bc.compassActive=new Bc("compass-active",{fontCharacter:"\\ebd7"}),Bc.azure=new Bc("azure",{fontCharacter:"\\ebd8"}),Bc.issueDraft=new Bc("issue-draft",{fontCharacter:"\\ebd9"}),Bc.gitPullRequestClosed=new Bc("git-pull-request-closed",{fontCharacter:"\\ebda"}),Bc.gitPullRequestDraft=new Bc("git-pull-request-draft",{fontCharacter:"\\ebdb"}),Bc.debugAll=new Bc("debug-all",{fontCharacter:"\\ebdc"}),Bc.debugCoverage=new Bc("debug-coverage",{fontCharacter:"\\ebdd"}),Bc.runErrors=new Bc("run-errors",{fontCharacter:"\\ebde"}),Bc.folderLibrary=new Bc("folder-library",{fontCharacter:"\\ebdf"}),Bc.debugContinueSmall=new Bc("debug-continue-small",{fontCharacter:"\\ebe0"}),Bc.beakerStop=new Bc("beaker-stop",{fontCharacter:"\\ebe1"}),Bc.graphLine=new Bc("graph-line",{fontCharacter:"\\ebe2"}),Bc.graphScatter=new Bc("graph-scatter",{fontCharacter:"\\ebe3"}),Bc.pieChart=new Bc("pie-chart",{fontCharacter:"\\ebe4"}),Bc.bracket=new Bc("bracket",Bc.json.definition),Bc.bracketDot=new Bc("bracket-dot",{fontCharacter:"\\ebe5"}),Bc.bracketError=new Bc("bracket-error",{fontCharacter:"\\ebe6"}),Bc.lockSmall=new Bc("lock-small",{fontCharacter:"\\ebe7"}),Bc.azureDevops=new Bc("azure-devops",{fontCharacter:"\\ebe8"}),Bc.verifiedFilled=new Bc("verified-filled",{fontCharacter:"\\ebe9"});class Wc{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let o=`color: ${t[i]};`;return 1&n&&(o+="font-style: italic;"),2&n&&(o+="font-weight: bold;"),4&n&&(o+="text-decoration: underline;"),o}}const Vc=function(){let e=Object.create(null);return e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues",function(t){const i=e[t];let n=i&&Fc.get(i);return n||(console.info("No codicon found for CompletionItemKind "+t),n=Rc.symbolProperty),n.classNames}}();let Hc=function(){let e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26,function(t,i){let n=e[t];return void 0!==n||i||(n=9),n}}();var zc,Kc,Uc,jc,qc;function $c(e){return e&&Ln.isUri(e.uri)&&Hn.isIRange(e.range)&&(Hn.isIRange(e.originSelectionRange)||Hn.isIRange(e.targetSelectionRange))}!function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(zc||(zc={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(Kc||(Kc={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(Uc||(Uc={})),function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const i=new Map;i.set(0,"file"),i.set(1,"module"),i.set(2,"namespace"),i.set(3,"package"),i.set(4,"class"),i.set(5,"method"),i.set(6,"property"),i.set(7,"field"),i.set(8,"constructor"),i.set(9,"enum"),i.set(10,"interface"),i.set(11,"function"),i.set(12,"variable"),i.set(13,"constant"),i.set(14,"string"),i.set(15,"number"),i.set(16,"boolean"),i.set(17,"array"),i.set(18,"object"),i.set(19,"key"),i.set(20,"null"),i.set(21,"enum-member"),i.set(22,"struct"),i.set(23,"event"),i.set(24,"operator"),i.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return i.get(e)},e.toCssClassName=function(e,t){const n=i.get(e);let o=n&&Fc.get("symbol-"+n);return o||(console.info("No codicon found for SymbolKind "+e),o=Rc.symbolProperty),`${t?"inline":"block"} ${o.classNames}`}}(jc||(jc={}));class Gc{constructor(e){this.value=e}}Gc.Comment=new Gc("comment"),Gc.Imports=new Gc("imports"),Gc.Region=new Gc("region"),function(e){e[e.Other=0]="Other",e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(qc||(qc={}));const Zc=new Lc,Yc=new Lc,Jc=new Lc,Xc=new Lc,Qc=new Lc,ed=new Lc,td=new Lc,id=new Lc,nd=new Lc,od=new Lc,rd=new Lc,sd=new Lc,ad=new Lc,ld=new Lc,ud=new Lc,cd=new Lc,dd=new Lc,hd=new Lc,gd=new Lc,pd=new Lc,md=new Lc,fd=new Lc,vd=new Lc,_d=new Lc,bd=new Lc,Cd=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new Ti,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),wi((()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))}))}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then((t=>{this._promises.delete(e),!n&&t&&(i=this.register(e,t))}))),wi((()=>{n=!0,i&&i.dispose()}))}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then((t=>this.get(e))):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};const wd=new class{clone(){return this}equals(e){return this===e}},yd="vs.editor.nullMode";function Sd(e,t,i,n){return new Un([new Kn(n,"",e)],i)}function Dd(e,t,i,n){let o=new Uint32Array(2);return o[0]=n,o[1]=(16384|e<<0|2<<23)>>>0,new jn(o,null===i?wd:i)}const kd=pr("editorWorkerService"),Id=pr("modeService"),Ed=pr("textModelService");let xd=!1;function Ld(e){Ct&&(xd||(xd=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class Ad{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}}class Nd{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class Td{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}}class Od{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class Fd{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class Md{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise(((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new Ad(this._workerId,i,e,t))}))}listen(e,t){let i=null;const n=new Ti({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new Td(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new Fd(this._workerId,i)),i=null}});return n.event}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;return e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),void t.reject(i)}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then((e=>{this._send(new Nd(this._workerId,t,e,void 0))}),(e=>{e.detail instanceof Error&&(e.detail=ci(e.detail)),this._send(new Nd(this._workerId,t,void 0,ci(e)))}))}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)((e=>{this._send(new Od(this._workerId,t,e))}));this._pendingEvents.set(t,i)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){let t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class Rd extends Si{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",(e=>{this._protocol.handleMessage(e)}),(e=>{n&&n(e)}))),this._protocol=new Md({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(rU){return Promise.reject(rU)}},handleEvent:(e,t)=>{if(Bd(e)){const n=i[e].call(i,t);if("function"!=typeof n)throw new Error(`Missing dynamic event ${e} on main thread host.`);return n}if(Pd(e)){const t=i[e];if("function"!=typeof t)throw new Error(`Missing event ${e} on main thread host.`);return t}throw new Error(`Malformed event name ${e}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;void 0!==gt.require&&"function"==typeof gt.require.getConfig?o=gt.require.getConfig():void 0!==gt.requirejs&&(o=gt.requirejs.s.contexts._.config);const r=uu(i);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,r]);const s=(e,t)=>this._request(e,t),a=(e,t)=>this._protocol.listen(e,t);this._lazyProxy=new Promise(((e,i)=>{n=i,this._onModuleLoaded.then((t=>{e(function(e,t,i){const n=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},o=e=>function(t){return i(e,t)};let r={};for(const s of e)Bd(s)?r[s]=o(s):Pd(s)?r[s]=i(s,void 0):r[s]=n(s);return r}(t,s,a))}),(e=>{i(e),this._onError("Worker failed to load "+t,e)}))}))}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise(((i,n)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(e,t).then(i,n)}),n)}))}_onError(e,t){console.error(e),console.info(t)}}function Pd(e){return"o"===e[0]&&"n"===e[1]&&Ba(e.charCodeAt(2))}function Bd(e){return/^onDynamic/.test(e)&&Ba(e.charCodeAt(9))}var Wd;const Vd=null===(Wd=window.trustedTypes)||void 0===Wd?void 0:Wd.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class Hd{constructor(e,t,i,n,o){this.id=t;const r=function(e,t){if(gt.MonacoEnvironment){if("function"==typeof gt.MonacoEnvironment.getWorker)return gt.MonacoEnvironment.getWorker(e,t);if("function"==typeof gt.MonacoEnvironment.getWorkerUrl){const i=gt.MonacoEnvironment.getWorkerUrl(e,t);return new Worker(Vd?Vd.createScriptURL(i):i,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",i);"function"==typeof r.then?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)}))}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then((i=>i.postMessage(e,t)))}dispose(){this.worker&&this.worker.then((e=>e.terminate())),this.worker=null}}class zd{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++zd.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Hd(e,n,this._label||"anonymous"+n,t,(e=>{Ld(e),this._webWorkerFailedBeforeError=e,i(e)}))}}var Kd;zd.LAST_WORKER_ID=0,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(Kd||(Kd={}));class Ud{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}}class jd{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)qd(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),qd(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),qd(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),qd(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&qd(this.autoClosingPairsCloseSingleChar,t.close,t)}}function qd(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}function $d(e,t){let i=e.getCount(),n=e.findTokenIndexAtOffset(t),o=e.getLanguageId(n),r=n;for(;r+1<i&&e.getLanguageId(r+1)===o;)r++;let s=n;for(;s>0&&e.getLanguageId(s-1)===o;)s--;return new Gd(e,o,s,r+1,e.getStartOffset(s),e.getEndOffset(r))}class Gd{constructor(e,t,i,n,o,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function Zd(e){return 0!=(7&e)}class Yd{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new Ud(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new Ud({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=Jd(e.colorizedBracketPairs.map((e=>[e[0],e[1]]))):e.brackets?this._colorizedBracketPairs=Jd(e.brackets.map((e=>[e[0],e[1]])).filter((e=>!("<"===e[0]&&">"===e[1])))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new Ud({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:Yd.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){if(0===t.getTokenCount())return!0;const n=t.findTokenIndexAtOffset(i-2),o=t.getStandardTokenType(n);return e.isOK(o)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}function Jd(e){return e.filter((([e,t])=>""!==e&&""!==t))}let Xd,Qd,eh;function th(){return Xd||(Xd=new TextDecoder("UTF-16LE")),Xd}function ih(){return eh||(eh=Et()?th():(Qd||(Qd=new TextDecoder("UTF-16BE")),Qd)),eh}Yd.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";const nh="undefined"!=typeof TextDecoder;let oh,rh;function sh(e,t,i){let n=[],o=0;for(let r=0;r<i;r++){const i=Ll(e,t);t+=2,n[o++]=String.fromCharCode(i)}return n.join("")}nh?(oh=e=>new ah(e),rh=function(e,t,i){const n=new Uint16Array(e.buffer,t,i);if(i>0&&(65279===n[0]||65534===n[0]))return sh(e,t,i);return th().decode(n)}):(oh=e=>new lh,rh=sh);class ah{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return ih().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||Ka(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class lh{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class uh{constructor(e,t,i,n,o,r){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=r,this._openSet=uh._toSet(this.open),this._closeSet=uh._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class ch{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const i=[];for(let s=0;s<t;s++)i[s]=s;const n=(e,t)=>{const[i,n]=e,[o,r]=t;return i===o||i===r||n===o||n===r},o=(e,n)=>{const o=Math.min(e,n),r=Math.max(e,n);for(let s=0;s<t;s++)i[s]===r&&(i[s]=o)};for(let s=0;s<t;s++){const r=e[s];for(let a=s+1;a<t;a++)n(r,e[a])&&o(i[s],i[a])}const r=[];for(let s=0;s<t;s++){let n=[],o=[];for(let r=0;r<t;r++)if(i[r]===s){const[t,i]=e[r];n.push(t),o.push(i)}n.length>0&&r.push({open:n,close:o})}return r}(t);this.brackets=i.map(((t,n)=>new uh(e,n,t.open,t.close,function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let r=0,s=o.length;r<s;r++)dh(o[r],i,n,o);return o=gh(o),o.sort(hh),o.reverse(),mh(o)}(t.open,t.close,i,n),function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let r=0,s=o.length;r<s;r++)dh(o[r],i,n,o);return o=gh(o),o.sort(hh),o.reverse(),mh(o.map(fh))}(t.open,t.close,i,n)))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=gh(t),mh(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=gh(t),mh(t.map(fh))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const n of this.brackets){for(const e of n.open)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of n.close)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function dh(e,t,i,n){for(let o=0,r=t.length;o<r;o++){if(o===i)continue;const r=t[o];for(const t of r.open)t.indexOf(e)>=0&&n.push(t);for(const t of r.close)t.indexOf(e)>=0&&n.push(t)}}function hh(e,t){return e.length-t.length}function gh(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function ph(e){const t=/^[\w ]+$/.test(e);return e=ya(e),t?`\\b${e}\\b`:e}function mh(e){return Ea(`(${e.map(ph).join(")|(")})`,!0)}const fh=function(){let e=null,t=null;return function(i){return e!==i&&(e=i,t=function(e){if(nh){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return ih().decode(t)}{let t=[],i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charAt(n);return t.join("")}}(e)),t}}();class vh{static _findPrevBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let r=i.length-(o.index||0),s=o[0].length,a=n+r;return new Hn(t,a-s+1,t,a+1)}static findPrevBracketInRange(e,t,i,n,o){const r=fh(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,r,n)}static findNextBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let r=o.index||0,s=o[0].length;if(0===s)return null;let a=n+r;return new Hn(t,a+1,t,a+1+s)}static findNextBracketInRange(e,t,i,n,o){const r=i.substring(n,o);return this.findNextBracketInText(e,t,r,n)}}class _h{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return e=e.filter(((e,t,i)=>i.indexOf(e)===t)),e}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if(Zd(t.getStandardTokenType(n)))return null;const o=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,i-1)+e,s=vh.findPrevBracketInRange(o,1,r,0,r.length);if(!s)return null;const a=r.substring(s.startColumn-1,s.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(s.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}function bh(e){return e.global&&(e.lastIndex=0),!0}class Ch{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&bh(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&bh(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&bh(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&bh(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class wh{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=wh._createOpenBracketRegExp(e[0]),i=wh._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,r=this._regExpRules.length;o<r;o++){let e=this._regExpRules[o];if([{reg:e.beforeText,text:i},{reg:e.afterText,text:n},{reg:e.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)))))return e.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,r=this._brackets.length;o<r;o++){let e=this._brackets[o];if(e.openRegExp.test(i)&&e.closeRegExp.test(n))return{indentAction:Kd.IndentOutdent}}if(e>=2&&i.length>0)for(let o=0,r=this._brackets.length;o<r;o++){if(this._brackets[o].openRegExp.test(i))return{indentAction:Kd.Indent}}return null}static _createOpenBracketRegExp(e){let t=ya(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",wh._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=ya(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,wh._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return li(t),null}}}const yh=new class{constructor(){this.data=new Map}add(e,t){ku(Xl(e)),ku(Ql(t)),ku(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},Sh="base.contributions.json";const Dh=new class{constructor(){this._onDidChangeSchema=new Ti,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};yh.add(Sh,Dh);const kh={Configuration:"base.contributions.configuration"},Ih={properties:{},patternProperties:{}},Eh={properties:{},patternProperties:{}},xh={properties:{},patternProperties:{}},Lh={properties:{},patternProperties:{}},Ah={properties:{},patternProperties:{}},Nh={properties:{},patternProperties:{}},Th=yh.as(Sh);const Oh=new RegExp("\\[.*\\]$");function Fh(e){return e.substring(1,e.length-1)}const Mh=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Ti,this._onDidUpdateConfiguration=new Ti,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:it("vs/platform/configuration/common/configurationRegistry","defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},Th.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=this.doRegisterConfigurations(e,t);Th.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach((e=>{i.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),i}validateAndRegisterProperties(e,t=!0,i,n=3){var o;n=ou(e.scope)?n:e.scope;let r=[],s=e.properties;if(s)for(let l in s){if(t&&Rh(l)){delete s[l];continue}const e=s[l];this.updatePropertyDefaultValue(l,e),Oh.test(l)?e.scope=void 0:(e.scope=ou(e.scope)?n:e.scope,e.restricted=ou(e.restricted)?!!(null===(o=null==i?void 0:i.restrictedConfigurations)||void 0===o?void 0:o.includes(l)):e.restricted),!s[l].hasOwnProperty("included")||s[l].included?(this.configurationProperties[l]=s[l],!s[l].deprecationMessage&&s[l].markdownDeprecationMessage&&(s[l].deprecationMessage=s[l].markdownDeprecationMessage),r.push(l)):(this.excludedConfigurationProperties[l]=s[l],delete s[l])}let a=e.allOf;if(a)for(let l of a)r.push(...this.validateAndRegisterProperties(l,t,i,n));return r}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let i=e.properties;if(i)for(const t in i)this.updateSchema(t,i[t]);let n=e.allOf;n&&n.forEach(t)};t(e)}updateSchema(e,t){switch(Ih.properties[e]=t,t.scope){case 1:Eh.properties[e]=t;break;case 2:xh.properties[e]=t;break;case 6:Lh.properties[e]=t;break;case 3:Ah.properties[e]=t;break;case 4:Nh.properties[e]=t;break;case 5:Nh.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:it("vs/platform/configuration/common/configurationRegistry","overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:it("vs/platform/configuration/common/configurationRegistry","overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:"vscode://schemas/settings/resourceLanguage"};this.updatePropertyDefaultValue(t,i),Ih.properties[t]=i,Eh.properties[t]=i,xh.properties[t]=i,Lh.properties[t]=i,Ah.properties[t]=i,Nh.properties[t]=i}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];iu(i)&&(i=t.default),iu(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i}};function Rh(e){return e.trim()?Oh.test(e)?it("vs/platform/configuration/common/configurationRegistry","config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==Mh.getConfigurationProperties()[e]?it("vs/platform/configuration/common/configurationRegistry","config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null:it("vs/platform/configuration/common/configurationRegistry","config.property.empty","Cannot register an empty property")}yh.add(kh.Configuration,Mh);const Ph=pr("configurationService");function Bh(e,t){const i=Object.create(null);for(let n in e)Wh(i,n,e[n],t);return i}function Wh(e,t,i,n){const o=t.split("."),r=o.pop();let s=e;for(let a=0;a<o.length;a++){let e=o[a],i=s[e];switch(typeof i){case"undefined":i=s[e]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${o.slice(0,a+1).join(".")} is ${JSON.stringify(i)}`)}s=i}if("object"==typeof s&&null!==s)try{s[r]=i}catch(rU){n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}else n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}function Vh(e,t){Hh(e,t.split("."))}function Hh(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!=typeof n||Array.isArray(n)||(Hh(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}class zh{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const Kh=[];function Uh(e,t,i){t instanceof zh||(t=new zh(t,[],i)),Kh.push([e,t])}var jh=function(e,t){return function(i,n){t(i,n,e)}};class qh{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const $h=pr("languageConfigurationService");let Gh=class extends Si{constructor(e,t){super(),this.configurationService=e,this.modeService=t,this.onDidChangeEmitter=this._register(new Ti),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(Zh));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>i.has(e))),n=e.change.overrides.filter((([e,t])=>t.some((e=>i.has(e))))).map((([e])=>this.modeService.validateLanguageId(e)));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new qh(void 0));else for(const i of n)i&&(this.configurations.delete(i),this.onDidChangeEmitter.fire(new qh(i)))}))),this._register(Xh.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new qh(e.languageId))})))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,i){let n=Xh.getLanguageConfiguration(e);if(!n){const t=i.validateLanguageId(e);if(!t)throw new Error("Unexpected languageId");n=new ig(t,{})}const o=function(e,t){const i=t.getValue(Zh.brackets,{overrideIdentifier:e}),n=t.getValue(Zh.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:Yh(i),colorizedBracketPairs:Yh(n)}}(n.languageId,t),r=eg([n.underlyingConfig,o]);return new ig(n.languageId,r)}(e,this.configurationService,this.modeService),this.configurations.set(e,t)),t}};Gh=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([jh(0,Ph),jh(1,Id)],Gh);const Zh={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function Yh(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}class Jh{constructor(e){this.languageId=e}}const Xh=new class{constructor(){this._entries=new Map,this._onDidChange=new Ti,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let n=this._entries.get(e);n||(n=new Qh(e),this._entries.set(e,n));const o=n.register(t,i);return this._onDidChange.fire(new Jh(e)),wi((()=>{o.dispose(),this._onDidChange.fire(new Jh(e))}))}getLanguageConfiguration(e){let t=this._entries.get(e);return(null==t?void 0:t.getResolvedConfiguration())||null}getIndentationRules(e){const t=this.getLanguageConfiguration(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let n=$d(t,i-1),o=this._getElectricCharacterSupport(n.languageId);return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}getComments(e){let t=this.getLanguageConfiguration(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new jd(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():Yd.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){const n=$d(t,i-1);return Yd.shouldAutoClosePair(e,n,i-n.firstCharOffset)}getWordDefinition(e){let t=this.getLanguageConfiguration(e);return Lt(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this.getLanguageConfiguration(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let o,r=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==n)return r;let t=e.getLineContent(o);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return o;r=o}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;const o=this.getIndentRulesSupport(t.getLanguageId());if(!o)return null;if(i<=1)return{indentation:"",action:null};const r=this.getPrecedingValidLine(t,i,o);if(r<0)return null;if(r<1)return{indentation:"",action:null};const s=t.getLineContent(r);if(o.shouldIncrease(s)||o.shouldIndentNextLine(s))return{indentation:Na(s),action:Kd.Indent,line:r};if(o.shouldDecrease(s))return{indentation:Na(s),action:null,line:r};{if(1===r)return{indentation:Na(t.getLineContent(r)),action:null,line:r};const e=r-1,i=o.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!o.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:Na(t.getLineContent(i+1)),action:null,line:i+1}}if(n)return{indentation:Na(t.getLineContent(r)),action:null,line:r};for(let n=r;n>0;n--){const e=t.getLineContent(n);if(o.shouldIncrease(e))return{indentation:Na(e),action:Kd.Indent,line:n};if(o.shouldIndentNextLine(e)){let e=0;for(let i=n-1;i>0;i--)if(!o.shouldIndentNextLine(t.getLineContent(n))){e=i;break}return{indentation:Na(t.getLineContent(e+1)),action:null,line:e+1}}if(o.shouldDecrease(e))return{indentation:Na(e),action:null,line:n}}return{indentation:Na(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,o){if(e<4)return null;const r=this.getLanguageConfiguration(i);if(!r)return null;const s=this.getIndentRulesSupport(i);if(!s)return null;const a=this.getInheritIndentForLine(e,t,n),l=t.getLineContent(n);if(a){const i=a.line;if(void 0!==i){const n=r.onEnter(e,"",t.getLineContent(i),"");if(n){let e=Na(t.getLineContent(i));return n.removeText&&(e=e.substring(0,e.length-n.removeText)),n.indentAction===Kd.Indent||n.indentAction===Kd.IndentOutdent?e=o.shiftIndent(e):n.indentAction===Kd.Outdent&&(e=o.unshiftIndent(e)),s.shouldDecrease(l)&&(e=o.unshiftIndent(e)),n.appendText&&(e+=n.appendText),Na(e)}}return s.shouldDecrease(l)?a.action===Kd.Indent?a.indentation:o.unshiftIndent(a.indentation):a.action===Kd.Indent?o.shiftIndent(a.indentation):a.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);const o=t.getLineTokens(i.startLineNumber),r=$d(o,i.startColumn-1),s=r.getLineContent();let a,l,u=!1;if(r.firstCharOffset>0&&o.getLanguageId(0)!==r.languageId?(u=!0,a=s.substr(0,i.startColumn-1-r.firstCharOffset)):a=o.getLineContent().substring(0,i.startColumn-1),i.isEmpty())l=s.substr(i.startColumn-1-r.firstCharOffset);else{l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset)}const c=this.getIndentRulesSupport(r.languageId);if(!c)return null;const d=a,h=Na(a),g={getLineTokens:e=>t.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i),getLineContent:e=>e===i.startLineNumber?d:t.getLineContent(e)},p=Na(o.getLineContent()),m=this.getInheritIndentForLine(e,g,i.startLineNumber+1);if(!m){const e=u?p:h;return{beforeEnter:e,afterEnter:e}}let f=u?p:m.indentation;return m.action===Kd.Indent&&(f=n.shiftIndent(f)),c.shouldDecrease(l)&&(f=n.unshiftIndent(f)),{beforeEnter:u?p:h,afterEnter:f}}getIndentActionForType(e,t,i,n,o){if(e<4)return null;const r=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(r.firstCharOffset)return null;const s=this.getIndentRulesSupport(r.languageId);if(!s)return null;const a=r.getLineContent(),l=a.substr(0,i.startColumn-1-r.firstCharOffset);let u;if(i.isEmpty())u=a.substr(i.startColumn-1-r.firstCharOffset);else{u=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset)}if(!s.shouldDecrease(l+u)&&s.shouldDecrease(l+n+u)){const n=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!n)return null;let r=n.indentation;return n.action!==Kd.Indent&&(r=o.unshiftIndent(r)),r}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageId());return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,i){const n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),o=this.getLanguageConfiguration(n.languageId);if(!o)return null;const r=n.getLineContent(),s=r.substr(0,i.startColumn-1-n.firstCharOffset);let a;if(i.isEmpty())a=r.substr(i.startColumn-1-n.firstCharOffset);else{a=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset)}let l="";if(i.startLineNumber>1&&0===n.firstCharOffset){const e=this.getScopedLineTokens(t,i.startLineNumber-1);e.languageId===n.languageId&&(l=e.getLineContent())}const u=o.onEnter(e,l,s,a);if(!u)return null;const c=u.indentAction;let d=u.appendText;const h=u.removeText||0;d?c===Kd.Indent&&(d="\t"+d):d=c===Kd.Indent||c===Kd.IndentOutdent?"\t":"";let g=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return h&&(g=g.substring(0,g.length-h)),{indentAction:c,appendText:d,removeText:h,indentation:g}}getIndentationAtPosition(e,t,i){let n=Na(e.getLineContent(t));return n.length>i-1&&(n=n.substring(0,i-1)),n}getScopedLineTokens(e,t,i){e.forceTokenization(t);return $d(e.getLineTokens(t),void 0===i?e.getLineMaxColumn(t)-1:i-1)}};class Qh{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new tg(e,t,++this._order);return this._entries.push(i),this._resolved=null,wi((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===i){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new ig(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(tg.cmp),eg(this._entries.map((e=>e.configuration))))}}function eg(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const i of e)t={comments:i.comments||t.comments,brackets:i.brackets||t.brackets,wordPattern:i.wordPattern||t.wordPattern,indentationRules:i.indentationRules||t.indentationRules,onEnterRules:i.onEnterRules||t.onEnterRules,autoClosingPairs:i.autoClosingPairs||t.autoClosingPairs,surroundingPairs:i.surroundingPairs||t.surroundingPairs,autoCloseBefore:i.autoCloseBefore||t.autoCloseBefore,folding:i.folding||t.folding,colorizedBracketPairs:i.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:i.__electricCharacterSupport||t.__electricCharacterSupport};return t}class tg{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class ig{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new wh(this.underlyingConfig):null,this.comments=ig._handleComments(this.underlyingConfig),this.characterPair=new Yd(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||xt,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new Ch(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return Lt(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new ch(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new _h(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}Uh($h,Gh);class ng{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class og{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function rg(e,t,i){return new ug(new og(e),new og(t)).ComputeDiff(i).changes}class sg{static Assert(e,t){if(!e)throw new Error(t)}}class ag{static Copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}static Copy2(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}}class lg{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new ng(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class ug{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,o,r]=ug._getElements(e),[s,a,l]=ug._getElements(t);this._hasStrings=r&&l,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(ug._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=Qu(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;return ug._getStrictElement(this._originalSequence,e)===ug._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const r=[!1];let s=this.ComputeDiffRecursive(e,t,i,n,r);return o&&(s=this.PrettifyChanges(s)),{quitEarly:r[0],changes:s}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let o;return i<=n?(sg.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new ng(e,0,i,n-i+1)]):e<=t?(sg.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[new ng(e,t-e+1,i,0)]):(sg.Assert(e===t+1,"originalStart should only be one more than originalEnd"),sg.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}const r=[0],s=[0],a=this.ComputeRecursionPoint(e,t,i,n,r,s,o),l=r[0],u=s[0];if(null!==a)return a;if(!o[0]){const r=this.ComputeDiffRecursive(e,l,i,u,o);let s=[];return s=o[0]?[new ng(l+1,t-(l+1)+1,u+1,n-(u+1)+1)]:this.ComputeDiffRecursive(l+1,t,u+1,n,o),this.ConcatenateChanges(r,s)}return[new ng(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,r,s,a,l,u,c,d,h,g,p,m,f,v){let _=null,b=null,C=new lg,w=t,y=i,S=h[0]-m[0]-n,D=-1073741824,k=this.m_forwardHistory.length-1;do{const t=S+e;t===w||t<y&&l[t-1]<l[t+1]?(g=(c=l[t+1])-S-n,c<D&&C.MarkNextChange(),D=c,C.AddModifiedElement(c+1,g),S=t+1-e):(g=(c=l[t-1]+1)-S-n,c<D&&C.MarkNextChange(),D=c-1,C.AddOriginalElement(c,g+1),S=t-1-e),k>=0&&(e=(l=this.m_forwardHistory[k])[0],w=1,y=l.length-1)}while(--k>=-1);if(_=C.getReverseChanges(),v[0]){let e=h[0]+1,t=m[0]+1;if(null!==_&&_.length>0){const i=_[_.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}b=[new ng(e,d-e+1,t,p-t+1)]}else{C=new lg,w=r,y=s,S=h[0]-m[0]-a,D=1073741824,k=f?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=S+o;e===w||e<y&&u[e-1]>=u[e+1]?(g=(c=u[e+1]-1)-S-a,c>D&&C.MarkNextChange(),D=c+1,C.AddOriginalElement(c+1,g+1),S=e+1-o):(g=(c=u[e-1])-S-a,c>D&&C.MarkNextChange(),D=c,C.AddModifiedElement(c+1,g+1),S=e-1-o),k>=0&&(o=(u=this.m_reverseHistory[k])[0],w=1,y=u.length-1)}while(--k>=-1);b=C.getChanges()}return this.ConcatenateChanges(_,b)}ComputeRecursionPoint(e,t,i,n,o,r,s){let a=0,l=0,u=0,c=0,d=0,h=0;e--,i--,o[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(n-i),p=g+1,m=new Int32Array(p),f=new Int32Array(p),v=n-i,_=t-e,b=e-i,C=t-n,w=(_-v)%2==0;m[v]=e,f[_]=t,s[0]=!1;for(let y=1;y<=g/2+1;y++){let g=0,S=0;u=this.ClipDiagonalBound(v-y,y,v,p),c=this.ClipDiagonalBound(v+y,y,v,p);for(let e=u;e<=c;e+=2){a=e===u||e<c&&m[e-1]<m[e+1]?m[e+1]:m[e-1]+1,l=a-(e-v)-b;const i=a;for(;a<t&&l<n&&this.ElementsAreEqual(a+1,l+1);)a++,l++;if(m[e]=a,a+l>g+S&&(g=a,S=l),!w&&Math.abs(e-_)<=y-1&&a>=f[e])return o[0]=a,r[0]=l,i<=f[e]&&y<=1448?this.WALKTRACE(v,u,c,b,_,d,h,C,m,f,a,t,o,l,n,r,w,s):null}const D=(g-e+(S-i)-y)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(g,D))return s[0]=!0,o[0]=g,r[0]=S,D>0&&y<=1448?this.WALKTRACE(v,u,c,b,_,d,h,C,m,f,a,t,o,l,n,r,w,s):(e++,i++,[new ng(e,t-e+1,i,n-i+1)]);d=this.ClipDiagonalBound(_-y,y,_,p),h=this.ClipDiagonalBound(_+y,y,_,p);for(let p=d;p<=h;p+=2){a=p===d||p<h&&f[p-1]>=f[p+1]?f[p+1]-1:f[p-1],l=a-(p-_)-C;const g=a;for(;a>e&&l>i&&this.ElementsAreEqual(a,l);)a--,l--;if(f[p]=a,w&&Math.abs(p-v)<=y&&a<=m[p])return o[0]=a,r[0]=l,g>=m[p]&&y<=1448?this.WALKTRACE(v,u,c,b,_,d,h,C,m,f,a,t,o,l,n,r,w,s):null}if(y<=1447){let e=new Int32Array(c-u+2);e[0]=v-u+1,ag.Copy2(m,u,e,1,c-u+1),this.m_forwardHistory.push(e),e=new Int32Array(h-d+2),e[0]=_-d+1,ag.Copy2(f,d,e,1,h-d+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(v,u,c,b,_,d,h,C,m,f,a,t,o,l,n,r,w,s)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=i.originalLength>0,s=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!s||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const e=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!e)break;i.originalStart++,i.modifiedStart++}let a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const i=e[t-1];n=i.originalStart+i.originalLength,o=i.modifiedStart+i.modifiedLength}const r=i.originalLength>0,s=i.modifiedLength>0;let a=0,l=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){const t=i.originalStart-e,u=i.modifiedStart-e;if(t<n||u<o)break;if(r&&!this.OriginalElementsAreEqual(t,t+i.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(u,u+i.modifiedLength))break;const c=(t===n&&u===o?5:0)+this._boundaryScore(t,i.originalLength,u,i.modifiedLength);c>l&&(l=c,a=e)}i.originalStart-=a,i.modifiedStart-=a;const u=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],u)&&(e[t-1]=u[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const i=e[t-1],n=e[t],o=n.originalStart-i.originalStart-i.originalLength,r=i.originalStart,s=n.originalStart+n.originalLength,a=s-r,l=i.modifiedStart,u=n.modifiedStart+n.modifiedLength,c=u-l;if(o<5&&a<20&&c<20){const e=this._findBetterContiguousSequence(r,a,l,c,o);if(e){const[t,r]=e;t===i.originalStart+i.originalLength&&r===i.modifiedStart+i.modifiedLength||(i.originalLength=t-i.originalStart,i.modifiedLength=r-i.modifiedStart,n.originalStart=t+o,n.modifiedStart=r+o,n.originalLength=s-n.originalStart,n.modifiedLength=u-n.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;const r=e+t-o+1,s=i+n-o+1;let a=0,l=0,u=0;for(let c=e;c<r;c++)for(let e=i;e<s;e++){const t=this._contiguousSequenceScore(c,e,o);t>0&&t>a&&(a=t,l=c,u=e)}return a>0?[l,u]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){let i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return ag.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],ag.Copy(t,1,n,e.length,t.length-1),n}{const i=new Array(e.length+t.length);return ag.Copy(e,0,i,0,e.length),ag.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,i){if(sg.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),sg.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const n=e.originalStart;let o=e.originalLength;const r=e.modifiedStart;let s=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new ng(n,o,r,s),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=t%2==0;if(e<0){return o===(i%2==0)?0:1}return o===((n-i-1)%2==0)?n-1:n-2}}function cg(e,t,i,n){return new ug(e,t,i).ComputeDiff(n)}class dg{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=fg(e[n],1),i[n]=vg(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],r=[];let s=0;for(let a=t;a<=i;a++){const t=this.lines[a],i=e?this._startColumns[a]:1,l=e?this._endColumns[a]:t.length+1;for(let e=i;e<l;e++)n[s]=t.charCodeAt(e-1),o[s]=a+1,r[s]=e,s++}return new hg(n,o,r)}}class hg{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class gg{constructor(e,t,i,n,o,r,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){let n,o,r,s,a,l,u,c;return 0===e.originalLength?(n=0,o=0,r=0,s=0):(n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),s=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(a=0,l=0,u=0,c=0):(a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),u=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),c=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new gg(n,o,r,s,a,l,u,c)}}class pg{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,r,s){let a,l,u,c,d;if(0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,l=0):(a=i.getStartLineNumber(t.originalStart),l=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(u=n.getStartLineNumber(t.modifiedStart)-1,c=0):(u=n.getStartLineNumber(t.modifiedStart),c=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const r=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let l=cg(r,a,o,!0).changes;s&&(l=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let n=1,o=e.length;n<o;n++){const o=e[n],r=o.originalStart-(i.originalStart+i.originalLength),s=o.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(r,s)<3?(i.originalLength=o.originalStart+o.originalLength-i.originalStart,i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart):(t.push(o),i=o)}return t}(l)),d=[];for(let e=0,t=l.length;e<t;e++)d.push(gg.createFromDiffChange(l[e],r,a))}return new pg(a,l,u,c,d)}}class mg{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new dg(e),this.modified=new dg(t),this.continueLineDiff=_g(i.maxComputationTime),this.continueCharDiff=_g(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=cg(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let i=0,n=t.length;i<n;i++)e.push(pg.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:e}}const n=[];let o=0,r=0;for(let s=-1,a=t.length;s<a;s++){const e=s+1<a?t[s+1]:null,i=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;for(;o<i&&r<l;){const e=this.originalLines[o],t=this.modifiedLines[r];if(e!==t){{let i=fg(e,1),s=fg(t,1);for(;i>1&&s>1;){if(e.charCodeAt(i-2)!==t.charCodeAt(s-2))break;i--,s--}(i>1||s>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,i,r+1,1,s)}{let i=vg(e,1),s=vg(t,1);const a=e.length+1,l=t.length+1;for(;i<a&&s<l;){if(e.charCodeAt(i-1)!==e.charCodeAt(s-1))break;i++,s++}(i<a||s<l)&&this._pushTrimWhitespaceCharChange(n,o+1,i,a,r+1,s,l)}}o++,r++}e&&(n.push(pg.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=e.originalLength,r+=e.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,r,s){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,r,s))return;let a;this.shouldComputeCharChanges&&(a=[new gg(t,i,t,n,o,r,o,s)]),e.push(new pg(t,t,o,o,a))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,r,s){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new gg(t,i,t,n,o,r,o,s)),!0))}}function fg(e,t){const i=Aa(e);return-1===i?t:i+1}function vg(e,t){const i=Ta(e);return-1===i?t:i+2}function _g(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}function bg(e){return e<0?0:e>255?255:0|e}function Cg(e){return e<0?0:e>4294967295?4294967295:0|e}class wg{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class yg{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Cg(e);const i=this.values,n=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=Cg(e),t=Cg(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Cg(e),t=Cg(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;let o=i.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Cg(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,r=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],r=o-this.values[n],e<r)i=n-1;else{if(!(e>=o))break;t=n+1}return new wg(n,e-r)}}class Sg{constructor(e){let t=bg(e);this._defaultValue=t,this._asciiMap=Sg._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=bg(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class Dg{constructor(){this._actual=new Sg(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}}class kg{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,r=e*t;o<r;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class Ig{constructor(e){let t=0,i=0;for(let o=0,r=e.length;o<r;o++){let[n,r,s]=e[o];r>t&&(t=r),n>i&&(i=n),s>i&&(i=s)}t++,i++;let n=new kg(i,t,0);for(let o=0,r=e.length;o<r;o++){let[t,i,r]=e[o];n.set(t,i,r)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let Eg=null;let xg=null;class Lg{static _createLink(e,t,i,n,o){let r=o-1;do{const i=t.charCodeAt(r);if(2!==e.get(i))break;r--}while(r>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(r);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&r--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:r+2},url:t.substring(n,r+1)}}static computeLinks(e,t=function(){return null===Eg&&(Eg=new Ig([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Eg}()){const i=function(){if(null===xg){xg=new Sg(0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let i=0;i<e.length;i++)xg.set(e.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)xg.set(t.charCodeAt(i),2)}return xg}();let n=[];for(let o=1,r=e.getLineCount();o<=r;o++){const r=e.getLineContent(o),s=r.length;let a=0,l=0,u=0,c=1,d=!1,h=!1,g=!1,p=!1;for(;a<s;){let e=!1;const s=r.charCodeAt(a);if(13===c){let t;switch(s){case 40:d=!0,t=0;break;case 41:t=d?0:1;break;case 91:g=!0,h=!0,t=0;break;case 93:g=!1,t=h?0:1;break;case 123:p=!0,t=0;break;case 125:t=p?0:1;break;case 39:t=34===u||96===u?0:1;break;case 34:t=39===u||96===u?0:1;break;case 96:t=39===u||34===u?0:1;break;case 42:t=42===u?1:0;break;case 124:t=124===u?1:0;break;case 32:t=g?0:1;break;default:t=i.get(s)}1===t&&(n.push(Lg._createLink(i,r,o,l,a)),e=!0)}else if(12===c){let t;91===s?(h=!0,t=0):t=i.get(s),1===t?e=!0:c=13}else c=t.nextState(c,s),0===c&&(e=!0);e&&(c=1,d=!1,h=!1,p=!1,l=a+1,u=s),a++}13===c&&n.push(Lg._createLink(i,r,o,l,s))}return n}}class Ag{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){let i=this.doNavigateValueSet(t,o);if(i)return{range:e,value:i}}if(i&&n){let e=this.doNavigateValueSet(n,o);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),o=parseFloat(e);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,r=e.length;null===n&&o<r;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}Ag.INSTANCE=new Ag;var Ng=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Tg extends class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Vn(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new yg(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;let i=La(t);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=Nt(e.column,Lt(t),this._lines[e.lineNumber-1],0);return i?new Hn(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",r=0,s=[];return{*[Symbol.iterator](){for(;;)if(r<s.length){const e=o.substring(s[r].start,s[r].end);r+=1,yield e}else{if(!(n<t.length))break;o=t[n],s=i(o,e),r=0,n+=1}}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(const r of n)o.push({word:i.substring(r.start,r.end),startColumn:r.start+1,endColumn:r.end+1});return o}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let r=i+1;r<n;r++)o.push(this._lines[r]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Vn.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class Og{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach((t=>e.push(this._models[t]))),e}acceptNewModel(e){this._models[e.url]=new Tg(Ln.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,n){return Ng(this,void 0,void 0,(function*(){const o=this._getModel(e),r=this._getModel(t);if(!o||!r)return null;const s=o.getLinesContent(),a=r.getLinesContent(),l=new mg(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),u=!(l.changes.length>0)&&this._modelsAreIdentical(o,r);return{quitEarly:l.quitEarly,identical:u,changes:l.changes}}))}_modelsAreIdentical(e,t){const i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++){if(e.getLineContent(n)!==t.getLineContent(n))return!1}return!0}computeMoreMinimalEdits(e,t){return Ng(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const n=[];let o;t=t.slice(0).sort(((e,t)=>{if(e.range&&t.range)return Hn.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)}));for(let{range:e,text:r,eol:s}of t){if("number"==typeof s&&(o=s),Hn.isEmpty(e)&&!r)continue;const t=i.getValueInRange(e);if(r=r.replace(/\r\n|\n|\r/g,i.eol),t===r)continue;if(Math.max(r.length,t.length)>Og._diffLimit){n.push({range:e,text:r});continue}const a=rg(t,r,!1),l=i.offsetAt(Hn.lift(e).getStartPosition());for(const e of a){const t=i.positionAt(l+e.originalStart),o=i.positionAt(l+e.originalStart+e.originalLength),s={text:r.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:o.lineNumber,endColumn:o.column}};i.getValueInRange(s.range)!==s.text&&n.push(s)}}return"number"==typeof o&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n}))}computeLinks(e){return Ng(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?Lg.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,i,n){return Ng(this,void 0,void 0,(function*(){const o=new Li(!0),r=new RegExp(i,n),s=new Set;e:for(let i of e){const e=this._getModel(i);if(e)for(let i of e.words(r))if(i!==t&&isNaN(Number(i))&&(s.add(i),s.size>Og._suggestionsLimit))break e}return{words:Array.from(s),duration:o.elapsed()}}))}computeWordRanges(e,t,i,n){return Ng(this,void 0,void 0,(function*(){let o=this._getModel(e);if(!o)return Object.create(null);const r=new RegExp(i,n),s=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=o.getLineWords(e,r);for(const i of t){if(!isNaN(Number(i.word)))continue;let t=s[i.word];t||(t=[],s[i.word]=t),t.push({startLineNumber:e,startColumn:i.startColumn,endLineNumber:e,endColumn:i.endColumn})}}return s}))}navigateValueSet(e,t,i,n,o){return Ng(this,void 0,void 0,(function*(){let r=this._getModel(e);if(!r)return null;let s=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=r.getValueInRange(t),l=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);if(!l)return null;let u=r.getValueInRange(l);return Ag.INSTANCE.navigateValueSet(t,a,l,u,i)}))}loadForeignModule(e,t,i){let n={host:function(e,t){const i=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let n={};for(const o of e)n[o]=i(o);return n}(i,((e,t)=>this._host.fhr(e,t))),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(n,t),Promise.resolve(uu(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(rU){return Promise.reject(rU)}}}Og._diffLimit=1e5,Og._suggestionsLimit=1e4,"function"==typeof importScripts&&(gt.monaco=ur());const Fg=pr("textResourceConfigurationService"),Mg=pr("textResourcePropertiesService");function Rg(e,t=0){return e[e.length-(1+t)]}function Pg(e,t,i=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function Bg(e,t,i){let n=0,o=e.length-1;for(;n<=o;){const r=(n+o)/2|0,s=i(e[r],t);if(s<0)n=r+1;else{if(!(s>0))return r;o=r-1}}return-(n+1)}function Wg(e,t){let i=0,n=e.length;if(0===n)return 0;for(;i<n;){const o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}function Vg(e,t,i){if((e|=0)>=t.length)throw new TypeError("invalid index");let n=t[Math.floor(t.length*Math.random())],o=[],r=[],s=[];for(let a of t){const e=i(a,n);e<0?o.push(a):e>0?r.push(a):s.push(a)}return e<o.length?Vg(e,o,i):e<o.length+s.length?s[0]:Vg(e-(o.length+s.length),r,i)}function Hg(e,t){const i=[];let n;for(const o of e.slice(0).sort(t))n&&0===t(n[0],o)?n.push(o):(n=[o],i.push(n));return i}function zg(e){return e.filter((e=>!!e))}function Kg(e){return!Array.isArray(e)||0===e.length}function Ug(e){return Array.isArray(e)&&e.length>0}function jg(e,t=(e=>e)){const i=new Set;return e.filter((e=>{const n=t(e);return!i.has(n)&&(i.add(n),!0)}))}function qg(e,t){return e.length>0?e[0]:t}function $g(e){return[].concat(...e)}function Gg(e,t){let i="number"==typeof t?e:0;"number"==typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let o=i;o<t;o++)n.push(o);else for(let o=i;o>t;o--)n.push(o);return n}function Zg(e,t,i){const n=e.slice(0,t),o=e.slice(t);return n.concat(i,o)}function Yg(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function Jg(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function Xg(e){return Array.isArray(e)?e:[e]}function Qg(e,t,i,n){const o=ep(e,t),r=e.splice(o,i);return function(e,t,i){const n=ep(e,t),o=e.length,r=i.length;e.length=o+r;for(let s=o-1;s>=n;s--)e[s+r]=e[s];for(let s=0;s<r;s++)e[s+n]=i[s]}(e,o,n),r}function ep(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}class tp{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){return this.items[this.firstIdx]}}const ip=pr("logService");var np,op;(op=np||(np={}))[op.Trace=0]="Trace",op[op.Debug=1]="Debug",op[op.Info=2]="Info",op[op.Warning=3]="Warning",op[op.Error=4]="Error",op[op.Critical=5]="Critical",op[op.Off=6]="Off";const rp=np.Info;class sp extends Si{constructor(){super(...arguments),this.level=rp,this._onDidChangeLogLevel=this._register(new Ti)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class ap extends sp{constructor(e=rp){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=np.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=np.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=np.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=np.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class lp extends Si{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}var up=function(e,t){return function(i,n){t(i,n,e)}},cp=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function dp(e,t){let i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let hp=class extends Si{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new pp(this._modelService)),this._logService=i,this._register(pd.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>dp(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(Jc.register("*",new gp(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}computeDiff(e,t,i,n){return this._workerManager.withWorker().then((o=>o.computeDiff(e,t,i,n)))}computeMoreMinimalEdits(e,t){if(Ug(t)){if(!dp(this._modelService,e))return Promise.resolve(t);const i=Li.create(!0),n=this._workerManager.withWorker().then((i=>i.computeMoreMinimalEdits(e,t)));return n.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed()))),Promise.race([n,Yr(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return dp(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then((n=>n.navigateValueSet(e,t,i)))}canComputeWordRanges(e){return dp(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((i=>i.computeWordRanges(e,t)))}};hp=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([up(0,Ic),up(1,Fg),up(2,ip)],hp);class gp{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return cp(this,void 0,void 0,(function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const n=[];if("currentDocument"===i.wordBasedSuggestionsMode)dp(this._modelService,e.uri)&&n.push(e.uri);else for(const t of this._modelService.getModels())dp(this._modelService,t.uri)&&(t===e?n.unshift(t.uri):"allDocuments"!==i.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||n.push(t.uri));if(0===n.length)return;const o=Xh.getWordDefinition(e.getLanguageId()),r=e.getWordAtPosition(t),s=r?new Hn(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):Hn.fromPositions(t),a=s.setEndPosition(t.lineNumber,t.column),l=yield this._workerManager.withWorker(),u=yield l.textualSuggest(n,null==r?void 0:r.word,o);return u?{duration:u.duration,suggestions:u.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:s}})))}:void 0}))}}class pp extends Si{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new es).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _p(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class mp extends Si{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new es;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)bi(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){let e=i.toString();this._syncedModels[e]||this._beginModelSync(i,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i)}for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){let i=this._modelService.getModel(e);if(!i)return;if(!t&&i.isTooLargeForSyncing())return;let n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const o=new yi;o.add(i.onDidChangeContent((e=>{this._proxy.acceptModelChanged(n.toString(),e)}))),o.add(i.onWillDispose((()=>{this._stopModelSync(n)}))),o.add(wi((()=>{this._proxy.acceptRemovedModel(n)}))),this._syncedModels[n]=o}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],bi(t)}}class fp{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class vp{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class _p extends Si{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new zd(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Rd(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new vp(this)))}catch(e){Ld(e),this._worker=new fp(new Og(new vp(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(Ld(e),this._worker=new fp(new Og(new vp(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new mp(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return cp(this,void 0,void 0,(function*(){return this._disposed?Promise.reject(hi()):this._getProxy().then((i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i)))}))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then((o=>o.computeDiff(e.toString(),t.toString(),i,n)))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then((i=>i.computeMoreMinimalEdits(e.toString(),t)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}textualSuggest(e,t,i){return cp(this,void 0,void 0,(function*(){const n=yield this._withSyncedResources(e),o=i.source,r=xa(i);return n.textualSuggest(e.map((e=>e.toString())),t,o,r)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let o=Xh.getWordDefinition(n.getLanguageId()),r=o.source,s=xa(o);return i.computeWordRanges(e.toString(),t,r,s)}))}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then((n=>{let o=this._modelService.getModel(e);if(!o)return null;let r=Xh.getWordDefinition(o.getLanguageId()),s=r.source,a=xa(r);return n.navigateValueSet(e.toString(),t,i,s,a)}))}dispose(){super.dispose(),this._disposed=!0}}class bp extends _p{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(rU){return Promise.reject(rU)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?uu(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let o={};for(const e of t)o[e]=n(e,i);return o}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}class Cp{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){const i=Cp.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new Cp(n,e,t)}equals(e){return e instanceof Cp&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const n=t<<1,o=n+(i<<1);for(let r=n;r<o;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)],i=Wc.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return Wc.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return Wc.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return Wc.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[1+(e<<1)];return Wc.getInlineStyleFromMetadata(i,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Cp.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new wp(this,e,t,i)}static convertToEndOffset(e,t){const i=(e.length>>>1)-1;for(let n=0;n<i;n++)e[n<<1]=e[n+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const o=i+Math.floor((n-i)/2),r=e[o<<1];if(r===t)return o+1;r<t?i=o+1:r>t&&(n=o)}return i}withInserted(e){if(0===e.length)return this;let t=0,i=0,n="";const o=new Array;let r=0;for(;;){let s=t<this._tokensCount?this._tokens[t<<1]:-1,a=i<e.length?e[i]:null;if(-1!==s&&(null===a||s<=a.offset)){n+=this._text.substring(r,s);const e=this._tokens[1+(t<<1)];o.push(n.length,e),t++,r=s}else{if(!a)break;if(a.offset>r){n+=this._text.substring(r,a.offset);const e=this._tokens[1+(t<<1)];o.push(n.length,e),r=a.offset}n+=a.text,o.push(n.length,a.tokenMetadata),i++}}return new Cp(new Uint32Array(o),n,this._languageIdCodec)}}Cp.defaultTokenMetadata=16793600;class wp{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,r=e.getCount();o<r;o++){if(e.getStartOffset(o)>=i)break;this._tokensCount++}}equals(e){return e instanceof wp&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class yp{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!yp._equals(e[n],t[n]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const n=t+1,o=i+1,r=i-t,s=[];let a=0;for(const l of e)l.endColumn<=n||l.startColumn>=o||(s[a++]=new yp(Math.max(1,l.startColumn-n+1),Math.min(r+1,l.endColumn-n+1),l.className,l.type));return s}static filter(e,t,i,n){if(0===e.length)return[];let o=[],r=0;for(let s=0,a=e.length;s<a;s++){const a=e[s],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const u=l.startLineNumber===t?l.startColumn:i,c=l.endLineNumber===t?l.endColumn:n;o[r++]=new yp(u,c,a.inlineClassName,a.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=yp._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class Sp{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class Dp{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new Sp(t,this.stopOffsets[e],this.classNames.join(" "),Dp._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new Sp(t,e-1,this.classNames.join(" "),Dp._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class kp{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class Ip{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Ep{constructor(e,t,i,n,o,r,s,a,l,u,c,d,h,g,p,m,f,v,_){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=r,this.fauxIndentLength=s,this.lineTokens=a,this.lineDecorations=l.sort(yp.compare),this.tabSize=u,this.startVisibleColumn=c,this.spaceWidth=d,this.stopRenderingLineAfter=p,this.renderWhitespace="all"===m?4:"boundary"===m?1:"selection"===m?2:"trailing"===m?3:0,this.renderControlCharacters=f,this.fontLigatures=v,this.selectionsOnLine=_&&_.sort(((e,t)=>e.startOffset<t.startOffset?-1:1));Math.abs(g-d)<Math.abs(h-d)?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=h,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&yp.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class xp{constructor(e,t){this.partIndex=e,this.charIndex=t}}class Lp{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,i,n){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=Lp.getPartIndex(t),n=Lp.getCharIndex(t);return new xp(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;let n=(e<<16|i<<0)>>>0,o=0,r=this.length-1;for(;o+1<r;){let e=o+r>>>1,t=this._data[e];if(t===n)return e;t>n?r=e:o=e}if(o===r)return o;let s=this._data[o],a=this._data[r];if(s===n)return o;if(a===n)return r;let l,u=Lp.getPartIndex(s),c=Lp.getCharIndex(s);return l=u!==Lp.getPartIndex(a)?t:Lp.getCharIndex(a),i-c<=l-i?o:r}}class Ap{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function Np(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let i=0,n=0,o=0;for(const s of e.lineDecorations)1!==s.type&&2!==s.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(s.className),t.appendASCIIString('"></span>'),1===s.type&&(o|=1,i++),2===s.type&&(o|=2,n++));t.appendASCIIString("</span>");const r=new Lp(1,i+n);return r.setColumnInfo(1,i,0,0),new Ap(r,!1,o)}return t.appendASCIIString("<span><span></span></span>"),new Ap(new Lp(0,0),!1,0)}return function(e,t){const i=e.fontIsMonospace,n=e.canUseHalfwidthRightwardsArrow,o=e.containsForeignElements,r=e.lineContent,s=e.len,a=e.isOverflowing,l=e.parts,u=e.fauxIndentLength,c=e.tabSize,d=e.startVisibleColumn,h=e.containsRTL,g=e.spaceWidth,p=e.renderSpaceCharCode,m=e.renderWhitespace,f=e.renderControlCharacters,v=new Lp(s+1,l.length);let _=!1,b=0,C=d,w=0,y=0,S=0,D=0;h?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let k=0,I=l.length;k<I;k++){D+=S;const e=l[k],a=e.endIndex,d=e.type,h=0!==m&&e.isWhitespace(),I=h&&!i&&("mtkw"===d||!o),E=b===a&&e.isPseudoAfter();if(w=0,t.appendASCIIString('<span class="'),t.appendASCIIString(I?"mtkz":d),t.appendASCII(34),h){let e=0;{let t=b,i=C;for(;t<a;t++){const n=0|(9===r.charCodeAt(t)?c-i%c:1);e+=n,t>=u&&(i+=n)}}for(I&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(g*e)),t.appendASCIIString('px"')),t.appendASCII(62);b<a;b++){v.setColumnInfo(b+1,k-y,w,D),y=0;let e;if(9===r.charCodeAt(b)){e=c-C%c|0,!n||e>1?t.write1(8594):t.write1(65515);for(let i=2;i<=e;i++)t.write1(160)}else e=1,t.write1(p);w+=e,b>=u&&(C+=e)}S=e}else{let e=0;for(t.appendASCII(62);b<a;b++){v.setColumnInfo(b+1,k-y,w,D),y=0;const i=r.charCodeAt(b);let n=1,o=1;switch(i){case 9:n=c-C%c,o=n;for(let e=1;e<=n;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:f?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:il(i)&&o++,f&&i<32?t.write1(9216+i):f&&127===i?t.write1(9249):f&&Mp(i)?(t.appendASCIIString("[U+"),t.appendASCIIString(Rp(i)),t.appendASCIIString("]"),n=8):t.write1(i)}w+=n,e+=n,b>=u&&(C+=o)}S=e}E?y++:y=0,b>=s&&!_&&e.isPseudoAfter()&&(_=!0,v.setColumnInfo(b+1,k,w,D)),t.appendASCIIString("</span>")}_||v.setColumnInfo(s+1,l.length-1,w,D);a&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new Ap(v,h,o)}(function(e){const t=e.lineContent;let i,n;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,n=e.stopRenderingLineAfter):(i=!1,n=t.length);let o=function(e,t,i){let n=[],o=0;t>0&&(n[o++]=new kp(t,"",0));for(let r=0,s=e.getCount();r<s;r++){const s=e.getEndOffset(r);if(s<=t)continue;const a=e.getClassName(r);if(s>=i){n[o++]=new kp(i,a,0);break}n[o++]=new kp(s,a,0)}return n}(e.lineTokens,e.fauxIndentLength,n);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(o=function(e,t,i,n){const o=e.continuesWithWrappedLine,r=e.fauxIndentLength,s=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,u=e.selectionsOnLine,c=1===e.renderWhitespace,d=3===e.renderWhitespace,h=e.renderSpaceWidth!==e.spaceWidth;let g=[],p=0,m=0,f=n[m].type,v=n[m].endIndex;const _=n.length;let b,C=!1,w=Aa(t);-1===w?(C=!0,w=i,b=i):b=Ta(t);let y=!1,S=0,D=u&&u[S],k=a%s;for(let E=r;E<i;E++){const e=t.charCodeAt(E);let o;if(D&&E>=D.endOffset&&(S++,D=u&&u[S]),E<w||E>b)o=!0;else if(9===e)o=!0;else if(32===e)if(c)if(y)o=!0;else{const e=E+1<i?t.charCodeAt(E+1):0;o=32===e||9===e}else o=!0;else o=!1;if(o&&u&&(o=!!D&&D.startOffset<=E&&D.endOffset>E),o&&d&&(o=C||E>b),y){if(!o||!l&&k>=s){if(h){for(let e=(p>0?g[p-1].endIndex:r)+1;e<=E;e++)g[p++]=new kp(e,"mtkw",1)}else g[p++]=new kp(E,"mtkw",1);k%=s}}else(E===v||o&&E>r)&&(g[p++]=new kp(E,f,0),k%=s);for(9===e?k=s:il(e)?k+=2:k++,y=o;E===v&&(m++,m<_);)f=n[m].type,v=n[m].endIndex}let I=!1;if(y)if(o&&c){let e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0;32===e&&32!==n&&9!==n||(I=!0)}else I=!0;if(I)if(h){for(let e=(p>0?g[p-1].endIndex:r)+1;e<=i;e++)g[p++]=new kp(e,"mtkw",1)}else g[p++]=new kp(i,"mtkw",1);else g[p++]=new kp(i,f,0);return g}(e,t,n,o));let r=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type||1===i.type?r|=1:2===i.type&&(r|=2)}o=function(e,t,i,n){n.sort(yp.compare);const o=class{static normalize(e,t){if(0===t.length)return[];let i=[];const n=new Dp;let o=0;for(let r=0,s=t.length;r<s;r++){const s=t[r];let a=s.startColumn,l=s.endColumn;const u=s.className,c=1===s.type?2:2===s.type?4:0;a>1&&Ka(e.charCodeAt(a-2))&&a--,l>1&&Ka(e.charCodeAt(l-2))&&l--;const d=a-1,h=l-2;o=n.consumeLowerThan(d,o,i),0===n.count&&(o=d),n.insert(h,u,c)}return n.consumeLowerThan(1073741824,o,i),i}}.normalize(e,n),r=o.length;let s=0,a=[],l=0,u=0;for(let d=0,h=i.length;d<h;d++){const e=i[d],t=e.endIndex,n=e.type,c=e.metadata;for(;s<r&&o[s].startOffset<t;){const e=o[s];if(e.startOffset>u&&(u=e.startOffset,a[l++]=new kp(u,n,c)),!(e.endOffset+1<=t)){u=t,a[l++]=new kp(u,n+" "+e.className,c|e.metadata);break}u=e.endOffset+1,a[l++]=new kp(u,n+" "+e.className,c|e.metadata),s++}t>u&&(u=t,a[l++]=new kp(u,n,c))}const c=i[i.length-1].endIndex;if(s<r&&o[s].startOffset===c)for(;s<r&&o[s].startOffset===c;){const e=o[s];a[l++]=new kp(u,e.className,e.metadata),s++}return a}(t,0,o,e.lineDecorations)}e.containsRTL||(o=function(e,t,i){let n=0,o=[],r=0;if(i)for(let s=0,a=t.length;s<a;s++){const i=t[s],a=i.endIndex;if(n+50<a){const t=i.type,s=i.metadata;let l=-1,u=n;for(let i=n;i<a;i++)32===e.charCodeAt(i)&&(l=i),-1!==l&&i-u>=50&&(o[r++]=new kp(l+1,t,s),u=l+1,l=-1);u!==a&&(o[r++]=new kp(a,t,s))}else o[r++]=i;n=a}else for(let s=0,a=t.length;s<a;s++){const e=t[s],i=e.endIndex;let a=i-n;if(a>50){const t=e.type,s=e.metadata,l=Math.ceil(a/50);for(let e=1;e<l;e++){let i=n+50*e;o[r++]=new kp(i,t,s)}o[r++]=new kp(i,t,s)}else o[r++]=e;n=i}return o}(t,o,!e.isBasicASCII||e.fontLigatures));e.renderControlCharacters&&!e.isBasicASCII&&(o=function(e,t){let i=[],n=new kp(0,"",0),o=0;for(const r of t){const t=r.endIndex;for(;o<t;o++){Mp(e.charCodeAt(o))&&(o>n.endIndex&&(n=new kp(o,r.type,r.metadata),i.push(n)),n=new kp(o+1,"mtkcontrol",r.metadata),i.push(n))}o>n.endIndex&&(n=new kp(t,r.type,r.metadata),i.push(n))}return i}(t,o));return new Fp(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,n,i,o,r,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class Tp{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function Op(e){let t=oh(1e4),i=Np(e,t);return new Tp(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class Fp{constructor(e,t,i,n,o,r,s,a,l,u,c,d,h,g,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=r,this.containsForeignElements=s,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=u,this.containsRTL=c,this.spaceWidth=d,this.renderSpaceCharCode=h,this.renderWhitespace=g,this.renderControlCharacters=p}}function Mp(e){return e<32?9!==e:127===e||(e>=8234&&e<=8238||e>=8294&&e<=8297||e>=8206&&e<=8207||1564===e)}function Rp(e){return e.toString(16).toUpperCase().padStart(4,"0")}class Pp{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class Bp{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){const i=this.outputLineIndex>0?t:0;return new Vn(e+this.outputLineIndex,i+this.outputOffset+1)}}class Wp{constructor(e,t,i,n,o){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i,this.injectionOffsets=n,this.injectionOptions=o}getInputOffsetOfOutputPosition(e,t){let i=0;if(i=0===e?t:this.breakOffsets[e-1]+t,null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&i>this.injectionOffsets[n];n++)i<this.injectionOffsets[n]+this.injectionOptions[n].content.length?i=this.injectionOffsets[n]:i-=this.injectionOptions[n].content.length;return i}getOutputPositionOfInputOffset(e,t=2){let i=0;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n])&&(1===t||e!==this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return e+=i,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,r=0;for(;i<=n;){o=i+(n-i)/2|0;const s=this.breakOffsets[o];if(r=o>0?this.breakOffsets[o-1]:0,0===t)if(e<=r)n=o-1;else{if(!(e>s))break;i=o+1}else if(e<r)n=o-1;else{if(!(e>=s))break;i=o+1}}return new Bp(o,e-r)}outputPositionToOffsetInUnwrappedLine(e,t){let i=(e>0?this.breakOffsets[e-1]:0)+t;return e>0&&(i-=this.wrappedTextIndentLength),i}normalizeOffsetAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t)return e===i.offsetInUnwrappedLine+i.length?i.offsetInUnwrappedLine+i.length:i.offsetInUnwrappedLine;if(1===t){let e=i.offsetInUnwrappedLine+i.length,t=i.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}let n=i.offsetInUnwrappedLine,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)n-=this.injectionOptions[o-1].content.length,o++;return n}getInjectedText(e,t){const i=this.outputPositionToOffsetInUnwrappedLine(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let o=0;o<t.length;o++){const r=i[o].content.length,s=t[o]+n,a=t[o]+n+r;if(s>e)break;if(e<=a)return{injectedTextIndex:o,offsetInUnwrappedLine:s,length:r};n+=r}}}}class Vp{constructor(e,t){this.tabSize=e,this.data=t}}class Hp{constructor(e,t,i,n,o,r,s){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=r,this.inlineDecorations=s}}class zp{constructor(e,t,i,n,o,r,s,a,l,u){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=zp.isBasicASCII(i,r),this.containsRTL=zp.containsRTL(i,this.isBasicASCII,o),this.tokens=s,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=u}static isBasicASCII(e,t){return!t||Qa(e)}static containsRTL(e,t,i){return!(t||!i)&&Ya(e)}}class Kp{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class Up{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new Kp(new Hn(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class jp{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class qp{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}function $p(e){return!function(e){return Array.isArray(e)}(e)}function Gp(e){return"string"==typeof e}function Zp(e){return!Gp(e)}function Yp(e){return!e}function Jp(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function Xp(e){return e.replace(/[&<>'"_]/g,"-")}function Qp(e,t){return new Error(`${e.languageId}: ${t}`)}function em(e,t,i,n,o){let r=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,s,a,l,u,c,d,h,g){return Yp(a)?Yp(l)?!Yp(u)&&u<n.length?Jp(e,n[u]):!Yp(d)&&e&&"string"==typeof e[d]?e[d]:(null===r&&(r=o.split("."),r.unshift(o)),!Yp(c)&&c<r.length?Jp(e,r[c]):""):Jp(e,i):"$"}))}function tm(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null}class im{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new nm(e,t);let i=nm.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new nm(e,t),this._entries[i]=n,n)}}im._INSTANCE=new im(5);class nm{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return nm._equals(this,e)}push(e){return im.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return im.create(this.parent,e)}}class om{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new om(this.languageId,this.state)}}class rm{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new sm(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new sm(e,t);let i=nm.getStackElementId(e),n=this._entries[i];return n||(n=new sm(e,null),this._entries[i]=n,n)}}rm._INSTANCE=new rm(5);class sm{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:rm.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof sm&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class am{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._languageId=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new Kn(e,t,this._languageId)))}nestedModeTokenize(e,t,i,n){const o=i.languageId,r=i.state,s=Cd.get(o);if(!s)return this.enterMode(n,o),this.emit(n,""),r;let a=s.tokenize(e,t,r,n);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,a.endState}finalize(e){return new Un(this._tokens,e)}}class lm{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(t)}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=null!==e?e.length:0,o=t.length,r=null!==i?i.length:0;if(0===n&&0===o&&0===r)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===r)return e;let s=new Uint32Array(n+o+r);null!==e&&s.set(e);for(let a=0;a<o;a++)s[n+a]=t[a];return null!==i&&s.set(i,n+o),s}nestedModeTokenize(e,t,i,n){const o=i.languageId,r=i.state,s=Cd.get(o);if(!s)return this.enterMode(n,o),this.emit(n,""),r;let a=s.tokenize2(e,t,r,n);return this._prependTokens=lm._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new jn(lm._merge(this._prependTokens,this._tokens,null),e)}}class um{constructor(e,t,i,n){this._modeService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=Cd.onDidChange((e=>{if(o)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){let n=e.changedLanguages[i];if(this._embeddedModes[n]){t=!0;break}}t&&(o=!0,Cd.fire([this._languageId]),o=!1)}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const i=Cd.get(t);if(i){if(i instanceof um){const t=i.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const n=Cd.getPromise(t);n&&e.push(n)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then((e=>{}))}}getInitialState(){let e=im.create(null,this._lexer.start);return rm.create(e,null)}tokenize(e,t,i,n){let o=new am,r=this._tokenize(e,t,i,n,o);return o.finalize(r)}tokenize2(e,t,i,n){let o=new lm(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),r=this._tokenize(e,t,i,n,o);return o.finalize(r)}_tokenize(e,t,i,n,o){return i.embeddedModeData?this._nestedTokenize(e,t,i,n,o):this._myTokenize(e,t,i,n,o)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=tm(this._lexer,t.stack.state),!i))throw Qp(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const r of i){if(!Zp(r.action)||"@pop"!==r.action.nextEmbedded)continue;o=!0;let t=r.regex,i=r.regex.source;if("^(?:"===i.substr(0,4)&&")"===i.substr(i.length-1,1)){let e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(i.substr(4,i.length-5),e)}let s=e.search(t);-1===s||0!==s&&r.matchOnlyAtLineStart||(-1===n||s<n)&&(n=s)}if(!o)throw Qp(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){let r=this._findLeavingNestedModeOffset(e,i);if(-1===r){let r=o.nestedModeTokenize(e,t,i.embeddedModeData,n);return rm.create(i.stack,new om(i.embeddedModeData.languageId,r))}let s=e.substring(0,r);s.length>0&&o.nestedModeTokenize(s,!1,i.embeddedModeData,n);let a=e.substring(r);return this._myTokenize(a,t,i,n+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterMode(n,this._languageId);const r=e.length,s=t&&this._lexer.includeLF?e+"\n":e,a=s.length;let l=i.embeddedModeData,u=i.stack,c=0,d=null,h=!0;for(;h||c<a;){const i=c,m=u.depth,f=d?d.groups.length:0,v=u.state;let _=null,b=null,C=null,w=null,y=null;if(d){_=d.matches;const e=d.groups.shift();b=e.matched,C=e.action,w=d.rule,0===d.groups.length&&(d=null)}else{if(!h&&c>=a)break;h=!1;let e=this._lexer.tokenizer[v];if(!e&&(e=tm(this._lexer,v),!e))throw Qp(this._lexer,"tokenizer state is not defined: "+v);let t=s.substr(c);for(const i of e)if((0===c||!i.matchOnlyAtLineStart)&&(_=t.match(i.regex),_)){b=_[0],C=i.action;break}}if(_||(_=[""],b=""),C||(c<a&&(_=[s.charAt(c)],b=_[0]),C=this._lexer.defaultToken),null===b)break;for(c+=b.length;$p(C)&&Zp(C)&&C.test;)C=C.test(b,_,v,c===a);let S=null;if("string"==typeof C||Array.isArray(C))S=C;else if(C.group)S=C.group;else if(null!==C.token&&void 0!==C.token){if(S=C.tokenSubst?em(this._lexer,C.token,b,_,v):C.token,C.nextEmbedded)if("@pop"===C.nextEmbedded){if(!l)throw Qp(this._lexer,"cannot pop embedded mode if not inside one");l=null}else{if(l)throw Qp(this._lexer,"cannot enter embedded mode from within an embedded mode");y=em(this._lexer,C.nextEmbedded,b,_,v)}if(C.goBack&&(c=Math.max(0,c-C.goBack)),C.switchTo&&"string"==typeof C.switchTo){let e=em(this._lexer,C.switchTo,b,_,v);if("@"===e[0]&&(e=e.substr(1)),!tm(this._lexer,e))throw Qp(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));u=u.switchTo(e)}else{if(C.transform&&"function"==typeof C.transform)throw Qp(this._lexer,"action.transform not supported");if(C.next)if("@push"===C.next){if(u.depth>=this._lexer.maxStack)throw Qp(this._lexer,"maximum tokenizer stack size reached: ["+u.state+","+u.parent.state+",...]");u=u.push(v)}else if("@pop"===C.next){if(u.depth<=1)throw Qp(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(w));u=u.pop()}else if("@popall"===C.next)u=u.popall();else{let e=em(this._lexer,C.next,b,_,v);if("@"===e[0]&&(e=e.substr(1)),!tm(this._lexer,e))throw Qp(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));u=u.push(e)}}C.log&&"string"==typeof C.log&&(g=this._lexer,p=this._lexer.languageId+": "+em(this._lexer,C.log,b,_,v),console.log(`${g.languageId}: ${p}`))}if(null===S)throw Qp(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(w));const D=i=>{let r=this._modeService.getModeIdForLanguageName(i);r&&(i=r);const s=this._getNestedEmbeddedModeData(i);if(c<a){const i=e.substr(c);return this._nestedTokenize(i,t,rm.create(u,s),n+c,o)}return rm.create(u,s)};if(Array.isArray(S)){if(d&&d.groups.length>0)throw Qp(this._lexer,"groups cannot be nested: "+this._safeRuleName(w));if(_.length!==S.length+1)throw Qp(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(w));let e=0;for(let t=1;t<_.length;t++)e+=_[t].length;if(e!==b.length)throw Qp(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(w));d={rule:w,matches:_,groups:[]};for(let t=0;t<S.length;t++)d.groups[t]={action:S[t],matched:_[t+1]};c-=b.length}else{{if("@rematch"===S&&(c-=b.length,b="",_=null,S="",null!==y))return D(y);if(0===b.length){if(0===a||m!==u.depth||v!==u.state||(d?d.groups.length:0)!==f)continue;throw Qp(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(w))}let e=null;if(Gp(S)&&0===S.indexOf("@brackets")){let t=S.substr("@brackets".length),i=cm(this._lexer,b);if(!i)throw Qp(this._lexer,"@brackets token returned but no bracket defined as: "+b);e=Xp(i.token+t)}else{e=Xp(""===S?"":S+this._lexer.tokenPostfix)}i<r&&o.emit(i+n,e)}if(null!==y)return D(y)}}var g,p;return rm.create(u,l)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=Cd.get(t);if(e)return new om(t,e.getInitialState())}return new om(t||yd,wd)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._languageId)return e;const t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function cm(e,t){if(!t)return null;t=Jp(e,t);let i=e.brackets;for(const n of i){if(n.open===t)return{token:n.token,bracketType:1};if(n.close===t)return{token:n.token,bracketType:-1}}return null}var dm;const hm=null===(dm=window.trustedTypes)||void 0===dm?void 0:dm.createPolicy("standaloneColorizer",{createHTML:e=>e});class gm{static colorizeElement(e,t,i,n){let o=(n=n||{}).theme||"vs",r=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);let s=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;return this.colorize(t,s||"",r,n).then((e=>{var t;const n=null!==(t=null==hm?void 0:hm.createHTML(e))&&void 0!==t?t:e;i.innerHTML=n}),(e=>console.error(e)))}static colorize(e,t,i,n){const o=e.languageIdCodec;let r=4;n&&"number"==typeof n.tabSize&&(r=n.tabSize),rl(t)&&(t=t.substr(1));let s=La(t),a=e.getModeId(i);if(!a)return Promise.resolve(mm(s,r,o));e.triggerMode(a);const l=Cd.get(a);if(l)return pm(s,r,l,o);const u=Cd.getPromise(a);return new Promise(u?(e,t)=>{u.then((i=>{pm(s,r,i,o).then(e,t)}),t)}:(e,t)=>{let i=null,n=null;const l=()=>{i&&(i.dispose(),i=null),n&&(n.dispose(),n=null);const l=Cd.get(a);l?pm(s,r,l,o).then(e,t):e(mm(s,r,o))};n=new Qr,n.cancelAndSet(l,500),i=Cd.onDidChange((e=>{e.changedLanguages.indexOf(a)>=0&&l()}))})}static colorizeLine(e,t,i,n,o=4){const r=zp.isBasicASCII(e,t),s=zp.containsRTL(e,r,i);return Op(new Ep(!1,!0,e,!1,r,s,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.forceTokenization(t);let o=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function pm(e,t,i,n){return new Promise(((o,r)=>{const s=()=>{const a=function(e,t,i,n){let o=[],r=i.getInitialState();for(let s=0,a=e.length;s<a;s++){let a=e[s],l=i.tokenize2(a,!0,r,0);Cp.convertToEndOffset(l.tokens,a.length);let u=new Cp(l.tokens,a,n);const c=zp.isBasicASCII(a,!0),d=zp.containsRTL(a,c,!0);let h=Op(new Ep(!1,!0,a,!1,c,d,0,u.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(h.html),o.push("<br/>"),r=l.endState}return o.join("")}(e,t,i,n);if(i instanceof um){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(s,r)}o(a)};s()}))}function mm(e,t,i){let n=[];const o=new Uint32Array(2);o[0]=0,o[1]=16793600;for(let r=0,s=e.length;r<s;r++){let s=e[r];o[0]=s.length;const a=new Cp(o,s,i),l=zp.isBasicASCII(s,!0),u=zp.containsRTL(s,l,!0);let c=Op(new Ep(!1,!0,s,!1,l,u,0,a,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(c.html),n.push("<br/>")}return n.join("")}var fm,vm;(vm=fm||(fm={}))[vm.Ignore=0]="Ignore",vm[vm.Info=1]="Info",vm[vm.Warning=2]="Warning",vm[vm.Error=3]="Error",function(e){const t="error",i="warning",n="info";e.fromValue=function(o){return o?Wa(t,o)?e.Error:Wa(i,o)||Wa("warn",o)?e.Warning:Wa(n,o)?e.Info:e.Ignore:e.Ignore},e.toString=function(o){switch(o){case e.Error:return t;case e.Warning:return i;case e.Info:return n;default:return"ignore"}}}(fm||(fm={}));var _m=fm;function bm(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===Wu.ICodeEditor}function Cm(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===Wu.IDiffEditor}function wm(e){return bm(e)?e:Cm(e)?e.getModifiedEditor():null}const ym=pr("IWorkspaceEditService");class Sm{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(Ql(t=e)&&Ln.isUri(t.resource)&&Ql(t.edit))return new Dm(e.resource,e.edit,e.modelVersionId,e.metadata);var t;if(function(e){return Ql(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}(e))return new km(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")}))}}class Dm extends Sm{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}}class km extends Sm{constructor(e,t,i,n){super(n),this.oldResource=e,this.newResource=t,this.options=i}}const Im=Object.prototype.hasOwnProperty;class Em{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}const xm=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new Ti,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},Lm=Object.hasOwnProperty;class Am{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Nm{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Tm{static readOptions(e){const t=e,i=new Nm;for(const n of oi){const e="_never_"===n.name?void 0:t[n.name];i._write(n.id,e)}return i}static validateOptions(e){const t=new Ft;for(const i of oi)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){const i=new Am;for(const n of oi)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&Pg(e,t);for(let i in e)if(!Tm._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const o of oi){const r=!Tm._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=r,r&&(n=!0)}return n?new Ot(i):null}}function Om(e){const t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");const i=e.lineNumbers;!0===i?e.lineNumbers="on":!1===i&&(e.lineNumbers="off");!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never");"visible"===e.cursorBlinking&&(e.cursorBlinking="solid");const n=e.renderWhitespace;!0===n?e.renderWhitespace="boundary":!1===n&&(e.renderWhitespace="none");const o=e.renderLineHighlight;!0===o?e.renderLineHighlight="line":!1===o&&(e.renderLineHighlight="none");const r=e.acceptSuggestionOnEnter;!0===r?e.acceptSuggestionOnEnter="on":!1===r&&(e.acceptSuggestionOnEnter="off");const s=e.tabCompletion;!1===s?e.tabCompletion="off":!0===s&&(e.tabCompletion="onlySnippets");const a=e.suggest;if(a&&"object"==typeof a.filteredTypes&&a.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};(function(e,t){for(let i in e)if(Im.call(e,i)&&!1===t({key:i,value:e[i]},(function(){delete e[i]})))return})(e,(e=>{const t=a.filteredTypes[e.key];!1===t&&(a[e.value]=t)}))}const l=e.hover;!0===l?e.hover={enabled:!0}:!1===l&&(e.hover={enabled:!1});const u=e.parameterHints;!0===u?e.parameterHints={enabled:!0}:!1===u&&(e.parameterHints={enabled:!1});const c=e.autoIndent;!0===c?e.autoIndent="full":!1===c&&(e.autoIndent="advanced");const d=e.matchBrackets;!0===d?e.matchBrackets="always":!1===d&&(e.matchBrackets="never");const{renderIndentGuides:h,highlightActiveIndentGuide:g}=e;e.guides||(e.guides={}),void 0!==h&&(e.guides.indentation=!!h),void 0!==g&&(e.guides.highlightActiveIndentation=!!g)}function Fm(e){const t=Iu(e);return Om(t),t}class Mm extends Si{constructor(e,t){super(),this._onDidChange=this._register(new Ti),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new Ti),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new Mt,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=Fm(t),this._readOptions=Tm.readOptions(this._rawOptions),this._validatedOptions=Tm.validateOptions(this._readOptions),this._register(Mu.onDidChangeZoomLevel((e=>this._recomputeOptions()))),this._register(xm.onDidChangeTabFocus((e=>this._recomputeOptions())))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(e){const i=Tm.checkEquals(e,t);if(null===i)return;this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i)}else this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=Pu.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:xm.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Tm.computeOptions(this._validatedOptions,i)}static _subsetEquals(e,t){for(const i in t)if(Lm.call(t,i)){const n=t[i],o=e[i];if(o===n)continue;if(Array.isArray(o)&&Array.isArray(n)){if(!Pg(o,n))return!1;continue}if(o&&"object"==typeof o&&n&&"object"==typeof n){if(!this._subsetEquals(o,n))return!1;continue}return!1}return!0}updateOptions(e){if(void 0===e)return;const t=Fm(e);Mm._subsetEquals(this._rawOptions,t)||(this._rawOptions=Au(this._rawOptions,t||{}),this._readOptions=Tm.readOptions(this._rawOptions),this._validatedOptions=Tm.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=Mm._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const Rm=Object.freeze({id:"editor",order:5,type:"object",title:it("vs/editor/common/config/commonEditorConfig","editorConfigurationTitle","Editor"),scope:5}),Pm=yh.as(kh.Configuration),Bm=Object.assign(Object.assign({},Rm),{properties:{"editor.tabSize":{type:"number",default:ni.tabSize,minimum:1,markdownDescription:it("vs/editor/common/config/commonEditorConfig","tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:ni.insertSpaces,markdownDescription:it("vs/editor/common/config/commonEditorConfig","insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:ni.detectIndentation,markdownDescription:it("vs/editor/common/config/commonEditorConfig","detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:ni.trimAutoWhitespace,description:it("vs/editor/common/config/commonEditorConfig","trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:ni.largeFileOptimizations,description:it("vs/editor/common/config/commonEditorConfig","largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:it("vs/editor/common/config/commonEditorConfig","wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[it("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),it("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),it("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:it("vs/editor/common/config/commonEditorConfig","wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[it("vs/editor/common/config/commonEditorConfig","semanticHighlighting.true","Semantic highlighting enabled for all color themes."),it("vs/editor/common/config/commonEditorConfig","semanticHighlighting.false","Semantic highlighting disabled for all color themes."),it("vs/editor/common/config/commonEditorConfig","semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:it("vs/editor/common/config/commonEditorConfig","semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:it("vs/editor/common/config/commonEditorConfig","stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:it("vs/editor/common/config/commonEditorConfig","maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:it("vs/editor/common/config/commonEditorConfig","schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:it("vs/editor/common/config/commonEditorConfig","schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:it("vs/editor/common/config/commonEditorConfig","schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:it("vs/editor/common/config/commonEditorConfig","schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:it("vs/editor/common/config/commonEditorConfig","schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:it("vs/editor/common/config/commonEditorConfig","schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:it("vs/editor/common/config/commonEditorConfig","maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:it("vs/editor/common/config/commonEditorConfig","maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:it("vs/editor/common/config/commonEditorConfig","sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:it("vs/editor/common/config/commonEditorConfig","ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:it("vs/editor/common/config/commonEditorConfig","renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:it("vs/editor/common/config/commonEditorConfig","codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[it("vs/editor/common/config/commonEditorConfig","wordWrap.off","Lines will never wrap."),it("vs/editor/common/config/commonEditorConfig","wordWrap.on","Lines will wrap at the viewport width."),it("vs/editor/common/config/commonEditorConfig","wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(const sU of oi){const e=sU.schema;if(void 0!==e)if(void 0!==(Wm=e).type||void 0!==Wm.anyOf)Bm.properties[`editor.${sU.name}`]=e;else for(let t in e)Lm.call(e,t)&&(Bm.properties[t]=e[t])}var Wm;let Vm=null;function Hm(){return null===Vm&&(Vm=Object.create(null),Object.keys(Bm.properties).forEach((e=>{Vm[e]=!0}))),Vm}Pm.registerConfiguration(Bm);class zm{static insert(e,t){return{range:new Hn(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}class Km{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?function(e,t,i){const n=function(e,t){let i=e;for(const n of t){if("object"!=typeof i||null===i)return;i=i[n]}return i}(e,t.split("."));return void 0===n?i:n}(this.contents,e):this.contents}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=Iu(this.contents),i=Iu(this.overrides),n=[...this.keys];for(const o of e){this.mergeContents(t,o.contents);for(const e of o.overrides){const[t]=i.filter((t=>Pg(t.identifiers,e.identifiers)));t?this.mergeContents(t.contents,e.contents):i.push(Iu(e))}for(const e of o.keys)-1===n.indexOf(e)&&n.push(e)}return new Km(t,n,i)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const n of jg([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[n],o=t[n];o&&("object"==typeof e&&"object"==typeof o?(e=Iu(e),this.mergeContents(e,o)):e=o),i[n]=e}return new Km(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&Ql(e[i])&&Ql(t[i])?this.mergeContents(e[i],t[i]):e[i]=Iu(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const i in e)if(Eu.call(e,i)){const n=e[i];"object"!=typeof n||Object.isFrozen(n)||t.push(n)}}return e}(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),Wh(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&Vh(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class Um extends Km{constructor(){const e=function(){const e=Object.create(null),t=yh.as(kh.Configuration).getConfigurationProperties();for(let i in t)Wh(e,i,t[i].default,(e=>console.error(`Conflict in default settings: ${e}`)));return e}(),t=function(){const e=yh.as(kh.Configuration).getConfigurationProperties();return Object.keys(e)}(),i=[];for(const n of Object.keys(e))Oh.test(n)&&i.push({identifiers:[Fh(n).trim()],keys:Object.keys(e[n]),contents:Bh(e[n],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(e,t,i)}}class jm{constructor(e,t,i=new Km,n=new Km,o=new Sl,r=new Km,s=new Sl,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=o,this._memoryConfiguration=r,this._memoryConfigurationByResource=s,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Sl,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new Km,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),o=e.folders.reduce(((e,t)=>(e.set(Ln.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new Sl);return new jm(t,i,new Km,n,o,new Km,new Sl,!1)}static parseConfigurationModel(e){return new Km(e.contents,e.keys,e.overrides).freeze()}}class qm{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach((e=>o.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>o.add(e))))),this.affectedKeys=[...o.values()];const r=new Km;this.affectedKeys.forEach((e=>r.setValue(e,{}))),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=jm.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){return!Nu(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=Bh({[t]:!0},(()=>{}));for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}const $m=/^(cursor|delete)/;class Gm extends Si{constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new Ti),this._currentChord=null,this._currentChordChecker=new es,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Zm.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Qr,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Ai.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return null;const o=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,r,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(it("vs/platform/keybinding/common/abstractKeybindingService","first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Zm.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Zm.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new Zm(o),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,r=null;if(i){const[t]=e.getSingleModifierDispatchParts();o=t,r=t}else[o]=e.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(null===o)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const s=this._contextKeyService.getContext(t),a=e.getLabel(),l=this._getResolver().resolve(s,r,o);return this._logService.trace("KeybindingService#dispatch",a,null==l?void 0:l.commandId),l&&l.enterChord?(n=!0,this._enterChordMode(o,a),n):(this._currentChord&&(l&&l.commandId||(this._notificationService.status(it("vs/platform/keybinding/common/abstractKeybindingService","missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,a),{hideAfter:1e4}),n=!0)),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(n=!0),void 0===l.commandArgs?this._commandService.executeCommand(l.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),$m.test(l.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class Zm{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Zm.EMPTY=new Zm(null);let Ym=yt||"";const Jm=new Map;Jm.set("false",!1),Jm.set("true",!0),Jm.set("isMac",vt),Jm.set("isLinux",_t),Jm.set("isWindows",ft),Jm.set("isWeb",Ct),Jm.set("isMacNative",vt&&!Ct),Jm.set("isEdge",Ym.indexOf("Edg/")>=0),Jm.set("isFirefox",Ym.indexOf("Firefox")>=0),Jm.set("isChrome",Ym.indexOf("Chrome")>=0),Jm.set("isSafari",Ym.indexOf("Safari")>=0);const Xm=Object.prototype.hasOwnProperty;class Qm{static has(e){return of.create(e)}static equals(e,t){return rf.create(e,t)}static regex(e,t){return mf.create(e,t)}static not(e){return uf.create(e)}static and(...e){return _f.create(e,null)}static or(...e){return bf.create(e,null,!0)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return bf.create(i.map((e=>this._deserializeAndExpression(e,t))),null,!0)}static _deserializeAndExpression(e,t){let i=e.split("&&");return _f.create(i.map((e=>this._deserializeOne(e,t))),null)}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let i=e.split("!=");return lf.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return rf.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return mf.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return sf.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return hf.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return df.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return pf.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return gf.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?uf.create(e.substr(1).trim()):of.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(_a(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let o=e.slice(i+1,n),r="i"===e[n+1]?"i":"";try{return new RegExp(o,r)}catch(rU){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${rU}`);return console.warn(`bad regexp-value '${e}', parse error: ${rU}`),null}}}function ef(e,t){return e.cmp(t)}class tf{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return nf.INSTANCE}}tf.INSTANCE=new tf;class nf{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return tf.INSTANCE}}nf.INSTANCE=new nf;class of{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const i=Jm.get(e);return"boolean"==typeof i?i?nf.INSTANCE:tf.INSTANCE:new of(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:yf(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=Jm.get(this.key);return"boolean"==typeof e?e?nf.INSTANCE:tf.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=uf.create(this.key,this)),this.negated}}class rf{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if("boolean"==typeof t)return t?of.create(e,i):uf.create(e,i);const n=Jm.get(e);if("boolean"==typeof n){return t===(n?"true":"false")?nf.INSTANCE:tf.INSTANCE}return new rf(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:Sf(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=Jm.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?nf.INSTANCE:tf.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=lf.create(this.key,this.value,this)),this.negated}}class sf{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new sf(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:Sf(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:"string"==typeof i&&"object"==typeof t&&null!==t&&Xm.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=af.create(this)),this.negated}}class af{constructor(e){this._actual=e,this.type=11}static create(e){return new af(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class lf{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if("boolean"==typeof t)return t?uf.create(e,i):of.create(e,i);const n=Jm.get(e);if("boolean"==typeof n){return t===(n?"true":"false")?tf.INSTANCE:nf.INSTANCE}return new lf(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:Sf(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=Jm.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?tf.INSTANCE:nf.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=rf.create(this.key,this.value,this)),this.negated}}class uf{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const i=Jm.get(e);return"boolean"==typeof i?i?tf.INSTANCE:nf.INSTANCE:new uf(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:yf(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=Jm.get(this.key);return"boolean"==typeof e?e?tf.INSTANCE:nf.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=of.create(this.key,this)),this.negated}}function cf(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):tf.INSTANCE}class df{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return cf(t,(t=>new df(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:Sf(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=pf.create(this.key,this.value,this)),this.negated}}class hf{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return cf(t,(t=>new hf(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:Sf(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=gf.create(this.key,this.value,this)),this.negated}}class gf{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return cf(t,(t=>new gf(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:Sf(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=hf.create(this.key,this.value,this)),this.negated}}class pf{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return cf(t,(t=>new pf(e,t,i)))}cmp(e){return e.type!==this.type?this.type-e.type:Sf(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=df.create(this.key,this.value,this)),this.negated}}class mf{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new mf(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ff.create(this)),this.negated}}class ff{constructor(e){this._actual=e,this.type=8}static create(e){return new ff(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function vf(e){let t=null;for(let i=0,n=e.length;i<n;i++){const n=e[i].substituteConstants();if(e[i]!==n&&null===t){t=[];for(let n=0;n<i;n++)t[n]=e[n]}null!==t&&(t[i]=n)}return null===t?e:t}class _f{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return _f._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=ef(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=vf(this.expr);return e===this.expr?this:_f.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const i=[];let n=!1;for(const o of e)if(o)if(1!==o.type){if(0===o.type)return tf.INSTANCE;6!==o.type?i.push(o):i.push(...o.expr)}else n=!0;if(0===i.length&&n)return nf.INSTANCE;if(0!==i.length){if(1===i.length)return i[0];i.sort(ef);for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];for(;i.length>1;){const e=i[i.length-1];if(9!==e.type)break;i.pop();const t=i.pop(),n=0===i.length,o=bf.create(e.expr.map((e=>_f.create([e,t],null))),null,n);o&&(i.push(o),i.sort(ef))}return 1===i.length?i[0]:new _f(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(let t of this.expr)e.push(t.negate());this.negated=bf.create(e,this,!0)}return this.negated}}class bf{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return bf._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=ef(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=vf(this.expr);return e===this.expr?this:bf.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i)if(0!==i.type){if(1===i.type)return nf.INSTANCE;9!==i.type?n.push(i):n=n.concat(i.expr)}else o=!0}if(0===n.length&&o)return tf.INSTANCE;n.sort(ef)}if(0!==n.length){if(1===n.length)return n[0];for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)Df(n[e],n[t])&&(n.splice(t,1),t--);if(1===n.length)return n[0]}return new bf(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),n=[];for(const e of kf(t))for(const t of kf(i))n.push(_f.create([e,t],null));const o=0===e.length;e.unshift(bf.create(n,null,o))}this.negated=e[0]}return this.negated}}class Cf extends of{constructor(e,t,i){super(e,null),this._defaultValue=t,"object"==typeof i?Cf._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&Cf._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}static all(){return Cf._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return rf.create(this.key,e)}}Cf._info=[];const wf=pr("contextKeyService");function yf(e,t){return e<t?-1:e>t?1:0}function Sf(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}function Df(e,t){if(6===t.type&&9!==e.type&&6!==e.type)for(const n of t.expr)if(e.equals(n))return!0;const i=kf(e.negate()).concat(kf(t));i.sort(ef);for(let n=0;n<i.length;n++){const e=i[n].negate();for(let t=n+1;t<i.length;t++){const n=i[t];if(e.equals(n))return!0}}return!1}function kf(e){return 9===e.type?e.expr:[e]}class If{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n=0,o=e.length;n<o;n++){const t=e[n].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=If.combine(e,t);for(let n=0,o=this._keybindings.length;n<o;n++){let e=this._keybindings[n];0!==e.keypressParts.length&&(e.when&&0===e.when.type||this._addKeyPress(e.keypressParts[0],e))}}static _isTargetedForRemoval(e,t,i,n,o){if(e.command!==n)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(o){if(!e.when)return!1;if(!function(e,t){const i=e?e.substituteConstants():void 0,n=t?t.substituteConstants():void 0;return!i&&!n||!(!i||!n)&&i.equals(n)}(o,e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let i=[];for(const n of t){if(!n.command||0===n.command.length||"-"!==n.command.charAt(0)){i.push(n);continue}const t=n.command.substr(1),o=n.keypressParts[0],r=n.keypressParts[1],s=n.when;for(let i=e.length-1;i>=0;i--)this._isTargetedForRemoval(e[i],o,r,t,s)&&e.splice(i,1)}return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let n=i.length-1;n>=0;n--){let e=i[n];if(e.command===t.command)continue;const o=e.keypressParts.length>1,r=t.keypressParts.length>1;o&&r&&e.keypressParts[1]!==t.keypressParts[1]||If.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&Df(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let n=i.length-1;n>=0;n--){const e=i[n];if(t.contextMatchesRules(e.when))return e}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,o=e.length;t<o;t++){let o=e[t];o.keypressParts[1]===i&&n.push(o)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}let o=this._findCommand(e,n);return o?null===t&&o.keypressParts.length>1&&null!==o.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${Ef(o.when)}, source: ${xf(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${Ef(o.when)}, source: ${xf(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(If.contextMatchesRules(e,n.when))return n}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function Ef(e){return e?`${e.serialize()}`:"no when condition"}function xf(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}class Lf{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===Dt){if(e&&e.win)return e.win}else if(2===Dt){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=Lf.bindToCurrentPlatform(e);if(t&&t.primary){const i=Ar(t.primary,Dt);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,n=t.secondary.length;i<n;i++){const n=Ar(t.secondary[i],Dt);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),hu.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&Lf._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,o,r){1===Dt&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:r,weight1:n,weight2:o,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Nf)),this._cachedMergedKeybindings.slice(0)}}const Af=new Lf;function Nf(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}yh.add("platform.keybindingsRegistry",Af);class Tf{constructor(e,t,i,n,o,r,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?Of(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=Of(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=r,this.isBuiltinExtension=s}}function Of(e){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}class Ff{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=i(r);if(null===s)return null;n[o]=Bf(r,s,this.modifierLabels[e])}return n.join(" ")}}const Mf=new Ff({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:it("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:it("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:it("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:it("vs/base/common/keybindingLabels",{key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:it("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:it("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:it("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:it("vs/base/common/keybindingLabels",{key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Rf=new Ff({ctrlKey:it("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:it("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:it("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:it("vs/base/common/keybindingLabels",{key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:it("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:it("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:it("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:it("vs/base/common/keybindingLabels",{key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:it("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:it("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:it("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:it("vs/base/common/keybindingLabels",{key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),Pf=new Ff({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function Bf(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}class Wf extends class extends class{}{constructor(e,t){if(super(),0===t.length)throw gi("parts");this._os=e,this._parts=t}getLabel(){return Mf.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return Rf.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Pf.toLabel(this._os,this._parts,(e=>this._getElectronAccelerator(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new Fr(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return Qi.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Qi.toString(e.keyCode)}_getElectronAccelerator(e){return Qi.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return Wf.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Qi.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=Ji[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof Tr)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new Tr(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const i=Of(e.map((e=>this._resolveSimpleUserBinding(e))));return i.length>0?[new Wf(new Or(i),t)]:[]}}const Vf=pr("notificationService");const Hf=pr("contextService");class zf{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var Kf,Uf,jf,qf,$f,Gf,Zf,Yf,Jf,Xf,Qf,ev,tv;(Uf=Kf||(Kf={})).noSelection=it("vs/editor/common/standaloneStrings","noSelection","No selection"),Uf.singleSelectionRange=it("vs/editor/common/standaloneStrings","singleSelectionRange","Line {0}, Column {1} ({2} selected)"),Uf.singleSelection=it("vs/editor/common/standaloneStrings","singleSelection","Line {0}, Column {1}"),Uf.multiSelectionRange=it("vs/editor/common/standaloneStrings","multiSelectionRange","{0} selections ({1} characters selected)"),Uf.multiSelection=it("vs/editor/common/standaloneStrings","multiSelection","{0} selections"),Uf.emergencyConfOn=it("vs/editor/common/standaloneStrings","emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),Uf.openingDocs=it("vs/editor/common/standaloneStrings","openingDocs","Now opening the Editor Accessibility documentation page."),Uf.readonlyDiffEditor=it("vs/editor/common/standaloneStrings","readonlyDiffEditor"," in a read-only pane of a diff editor."),Uf.editableDiffEditor=it("vs/editor/common/standaloneStrings","editableDiffEditor"," in a pane of a diff editor."),Uf.readonlyEditor=it("vs/editor/common/standaloneStrings","readonlyEditor"," in a read-only code editor"),Uf.editableEditor=it("vs/editor/common/standaloneStrings","editableEditor"," in a code editor"),Uf.changeConfigToOnMac=it("vs/editor/common/standaloneStrings","changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),Uf.changeConfigToOnWinLinux=it("vs/editor/common/standaloneStrings","changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),Uf.auto_on=it("vs/editor/common/standaloneStrings","auto_on","The editor is configured to be optimized for usage with a Screen Reader."),Uf.auto_off=it("vs/editor/common/standaloneStrings","auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),Uf.tabFocusModeOnMsg=it("vs/editor/common/standaloneStrings","tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),Uf.tabFocusModeOnMsgNoKb=it("vs/editor/common/standaloneStrings","tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),Uf.tabFocusModeOffMsg=it("vs/editor/common/standaloneStrings","tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),Uf.tabFocusModeOffMsgNoKb=it("vs/editor/common/standaloneStrings","tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),Uf.openDocMac=it("vs/editor/common/standaloneStrings","openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),Uf.openDocWinLinux=it("vs/editor/common/standaloneStrings","openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),Uf.outroMsg=it("vs/editor/common/standaloneStrings","outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),Uf.showAccessibilityHelpAction=it("vs/editor/common/standaloneStrings","showAccessibilityHelpAction","Show Accessibility Help"),(jf||(jf={})).inspectTokensAction=it("vs/editor/common/standaloneStrings","inspectTokens","Developer: Inspect Tokens"),(qf||(qf={})).gotoLineActionLabel=it("vs/editor/common/standaloneStrings","gotoLineActionLabel","Go to Line/Column..."),($f||($f={})).helpQuickAccessActionLabel=it("vs/editor/common/standaloneStrings","helpQuickAccess","Show all Quick Access Providers"),(Zf=Gf||(Gf={})).quickCommandActionLabel=it("vs/editor/common/standaloneStrings","quickCommandActionLabel","Command Palette"),Zf.quickCommandHelp=it("vs/editor/common/standaloneStrings","quickCommandActionHelp","Show And Run Commands"),(Jf=Yf||(Yf={})).quickOutlineActionLabel=it("vs/editor/common/standaloneStrings","quickOutlineActionLabel","Go to Symbol..."),Jf.quickOutlineByCategoryActionLabel=it("vs/editor/common/standaloneStrings","quickOutlineByCategoryActionLabel","Go to Symbol by Category..."),(Qf=Xf||(Xf={})).editorViewAccessibleLabel=it("vs/editor/common/standaloneStrings","editorViewAccessibleLabel","Editor content"),Qf.accessibilityHelpMessage=it("vs/editor/common/standaloneStrings","accessibilityHelpMessage","Press Alt+F1 for Accessibility Options."),(ev||(ev={})).toggleHighContrast=it("vs/editor/common/standaloneStrings","toggleHighContrast","Toggle High Contrast Theme"),(tv||(tv={})).bulkEditServiceSummary=it("vs/editor/common/standaloneStrings","bulkEditServiceSummary","Made {0} edits in {1} files");var iv=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},nv=function(e,t){return function(i,n){t(i,n,e)}},ov=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class rv{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new Ti}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let sv=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;var i,n,o;return this.editor&&(i=this.editor,n=t=>this.findModel(t,e),o=t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e),t=bm(i)?n(i):o(i)),t?Promise.resolve(new ki(new rv(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};sv=iv([nv(0,Ic)],sv);class av{show(){return av.NULL_PROGRESS_RUNNER}showWhile(e,t){return ov(this,void 0,void 0,(function*(){yield e}))}}av.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class lv{confirm(e){return this.doConfirm(e).then((e=>({confirmed:e,checkboxChecked:!1})))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}class uv{info(e){return this.notify({severity:_m.Info,message:e})}warn(e){return this.notify({severity:_m.Warning,message:e})}error(e){return this.notify({severity:_m.Error,message:e})}notify(e){switch(e.severity){case _m.Error:console.error(e.message);break;case _m.Warning:console.warn(e.message);break;default:console.log(e.message)}return uv.NO_OP}status(e,t){return Si.None}}uv.NO_OP=new class{};class cv{constructor(e){this._onWillExecuteCommand=new Ti,this._onDidExecuteCommand=new Ti,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=hu.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}}class dv extends Gm{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(ps(r,Qs.KEY_DOWN,(e=>{const t=new Pr(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),this._register(ps(window,Qs.KEY_UP,(e=>{const t=new Pr(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()})))}addDynamicKeybinding(e,t,i,n){const o=Ar(t,Dt),r=new yi;return o&&(this._dynamicKeybindings.push({keybinding:o.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),r.add(wi((()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}})))),r.add(hu.registerCommand(e,i)),this.updateResolver({source:1}),r}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(Af.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new If(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(const o of e){const e=o.when||void 0,r=o.keybinding;if(r){const s=Wf.resolveUserBinding(r,Dt);for(const r of s)i[n++]=new Tf(r,o.command,o.commandArgs,e,t,null,!1)}else i[n++]=new Tf(void 0,o.command,o.commandArgs,e,t,null,!1)}return i}resolveKeyboardEvent(e){let t=new Tr(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new Wf(t,Dt)}}function hv(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof Ln)}class gv{constructor(){this._onDidChangeConfiguration=new Ti,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new jm(new Um,new Km)}getValue(e,t){const i="string"==typeof e?e:void 0,n=hv(e)?e:hv(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()};let i=[];for(const n of e){const[e,t]=n;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),i.push(e))}if(i.length>0){const e=new qm({keys:i,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class pv{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new Ti,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})}))}getValue(e,t,i){const n=(Vn.isIPosition(t)?t:null)?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===n?this.configurationService.getValue():this.configurationService.getValue(n)}}let mv=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"string"==typeof i&&"auto"!==i?i:_t||vt?"\n":"\r\n"}};mv=iv([nv(0,Ph)],mv);class fv{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class vv{constructor(){const e=Ln.from({scheme:vv.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new zf({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}function _v(e,t,i){if(!t)return;if(!(e instanceof gv))return;let n=[];Object.keys(t).forEach((e=>{(function(e){return Hm()[`editor.${e}`]||!1})(e)&&n.push([`editor.${e}`,t[e]]),i&&function(e){return Hm()[`diffEditor.${e}`]||!1}(e)&&n.push([`diffEditor.${e}`,t[e]])})),n.length>0&&e.updateValues(n)}vv.SCHEME="inmemory";class bv{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return ov(this,void 0,void 0,(function*(){const t=new Map;for(let o of e){if(!(o instanceof Dm))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(o.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof o.versionId&&e.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");let i=t.get(e);i||(i=[],t.set(e,i)),i.push(zm.replaceMove(Hn.lift(o.textEdit.range),o.textEdit.text))}let i=0,n=0;for(const[e,o]of t)e.pushStackElement(),e.pushEditOperations([],o,(()=>[])),e.pushStackElement(),n+=1,i+=o.length;return{ariaSummary:Ca(tv.bulkEditServiceSummary,i,n)}}))}}class Cv{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class wv{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=Ai.None}get dimension(){return this._dimension||(this._dimension=Ls(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}let yv,Sv,Dv,kv,Iv;function Ev(e){yv&&(Sv.textContent!==e?(ds(Dv),Lv(Sv,e)):(ds(Sv),Lv(Dv,e)))}function xv(e){yv&&(vt?Ev(e):kv.textContent!==e?(ds(Iv),Lv(kv,e)):(ds(kv),Lv(Iv,e)))}function Lv(e,t){ds(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}const Av=pr("markerDecorationsService");var Nv,Tv,Ov=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Fv extends Si{constructor(e,t="",i="",n=!0,o){super(),this._onDidChange=this._register(new Ti),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return Ov(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class Mv extends Si{constructor(){super(...arguments),this._onBeforeRun=this._register(new Ti),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new Ti),this.onDidRun=this._onDidRun.event}run(e,t){return Ov(this,void 0,void 0,(function*(){if(!e.enabled)return;let i;this._onBeforeRun.fire({action:e});try{yield this.runAction(e,t)}catch(rU){i=rU}this._onDidRun.fire({action:e,error:i})}))}runAction(e,t){return Ov(this,void 0,void 0,(function*(){yield e.run(t)}))}}class Rv extends Fv{constructor(e){super(Rv.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}Rv.ID="vs.actions.separator";class Pv{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return Ov(this,void 0,void 0,(function*(){}))}}class Bv extends Fv{constructor(){super(Bv.ID,it("vs/base/common/actions","submenu.empty","(empty)"),void 0,!1)}}Bv.ID="vs.actions.empty",(Tv=Nv||(Nv={})).DARK="dark",Tv.LIGHT="light",Tv.HIGH_CONTRAST="hc";const Wv=pr("themeService");var Vv,Hv;function zv(e){return{id:e}}function Kv(e){switch(e){case Nv.DARK:return"vs-dark";case Nv.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(Vv||(Vv={})).isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id},function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||Vv.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${Pc.iconNameExpression}(?:${Pc.iconModifierExpression})?)\\)$`);e.fromString=function(e){const i=t.exec(e);if(!i)return;let[,n]=i;return{id:n}},e.modify=function(e,t){let i=e.id;const n=i.lastIndexOf("~");return-1!==n&&(i=i.substring(0,n)),t&&(i=`${i}~${t}`),{id:i}},e.isEqual=function(e,t){var i,n;return e.id===t.id&&(null===(i=e.color)||void 0===i?void 0:i.id)===(null===(n=t.color)||void 0===n?void 0:n.id)},e.asThemeIcon=function(e,t){return{id:e.id,color:t?zv(t):void 0}},e.asClassNameArray=Pc.asClassNameArray,e.asClassName=Pc.asClassName,e.asCSSSelector=Pc.asCSSSelector}(Hv||(Hv={}));const Uv="base.contributions.theming";let jv=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Ti}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),wi((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function qv(e){return jv.onColorThemeChange(e)}yh.add(Uv,jv);class $v extends Si{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var Gv=function(e,t){return function(i,n){t(i,n,e)}};function Zv(e){return void 0!==e.command}class Yv{constructor(e){this.id=Yv._idPool++,this._debugName=e}}Yv._idPool=0,Yv.CommandPalette=new Yv("CommandPalette"),Yv.EditorContext=new Yv("EditorContext"),Yv.SimpleEditorContext=new Yv("SimpleEditorContext"),Yv.EditorContextCopy=new Yv("EditorContextCopy"),Yv.EditorContextPeek=new Yv("EditorContextPeek"),Yv.MenubarEditMenu=new Yv("MenubarEditMenu"),Yv.MenubarCopy=new Yv("MenubarCopy"),Yv.MenubarGoMenu=new Yv("MenubarGoMenu"),Yv.MenubarSelectionMenu=new Yv("MenubarSelectionMenu"),Yv.InlineCompletionsActions=new Yv("InlineCompletionsActions");const Jv=pr("menuService"),Xv=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Ti,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===Yv.CommandPalette}}addCommand(e){return this.addCommands(fi.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),wi((()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){return this.appendMenuItems(fi.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new Ei;for(const{id:n,item:o}of e){let e=this._menuItems.get(n);e||(e=new Ei,this._menuItems.set(n,e)),i.push(e.push(o)),t.add(n)}return this._onDidChangeMenu.fire(t),wi((()=>{if(i.size>0){for(let e of i)e();this._onDidChangeMenu.fire(t),i.clear()}}))}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===Yv.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)Zv(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};class Qv extends Pv{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,n]of i)n.length>0&&(e.push(...n),e.push(new Rv));return e.length&&e.pop(),e}}let e_=class e{constructor(t,i,n,o,r){var s,a;if(this._commandService=r,this.id=t.id,this.label=(null==n?void 0:n.renderShortTitle)&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(a="string"==typeof t.tooltip?t.tooltip:null===(s=t.tooltip)||void 0===s?void 0:s.value)&&void 0!==a?a:"",this.enabled=!t.precondition||o.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=o.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=i?new e(i,void 0,n,o,r):void 0,this._options=n,Hv.isThemeIcon(t.icon)&&(this.class=Pc.asClassName(t.icon))}dispose(){}run(...e){var t,i;let n=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(n=[...n,this._options.arg]),(null===(i=this._options)||void 0===i?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};e_=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([Gv(3,wf),Gv(4,du)],e_);const t_=pr("telemetryService");class i_{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?Qm.and(e,this.precondition):this.precondition);const i={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};Af.registerKeybindingRule(i)}}hu.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){Xv.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class n_ extends i_{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get(ip);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const n of this._implementations){const o=n.implementation(e,t);if(o){if(i.trace(`Command '${this.id}' was handled by '${n.name}'.`),"boolean"==typeof o)return;return o}}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class o_ extends i_{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class r_ extends i_{static bindToContribution(e){return class extends r_{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){e(i)&&this._callback(e(i),n)}}}runCommand(e,t){const i=e.get(fr),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(n)return n.invokeWithinContext((e=>{if(e.get(wf).contextMatchesRules(cu(this.precondition)))return this.runEditorCommand(e,n,t)}))}}class s_ extends r_{constructor(e){super(s_.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=Yv.EditorContext),t.title||(t.title=e.label),t.when=Qm.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(t_).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class a_ extends s_{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,i){for(const n of this._implementations){const o=n[1](e,t,i);if(o){if("boolean"==typeof o)return;return o}}}}function l_(e,t){hu.registerCommand(e,(function(e,...i){const[n,o]=i;ru(Ln.isUri(n)),ru(Vn.isIPosition(o));const r=e.get(Ic).getModel(n);if(r){const e=Vn.lift(o);return t(r,e,...i.slice(2))}return e.get(Ed).createModelReference(n).then((e=>new Promise(((n,r)=>{try{n(t(e.object.textEditorModel,Vn.lift(o),i.slice(2)))}catch(s){r(s)}})).finally((()=>{e.dispose()}))))}))}function u_(e,t){hu.registerCommand(e,(function(e,...i){const[n]=i;ru(Ln.isUri(n));const o=e.get(Ic).getModel(n);return o?t(o,...i.slice(1)):e.get(Ed).createModelReference(n).then((e=>new Promise(((n,o)=>{try{n(t(e.object.textEditorModel,i.slice(1)))}catch(r){o(r)}})).finally((()=>{e.dispose()}))))}))}function c_(e){return v_.INSTANCE.registerEditorCommand(e),e}function d_(e){const t=new e;return v_.INSTANCE.registerEditorAction(t),t}function h_(e){return v_.INSTANCE.registerEditorAction(e),e}function g_(e){v_.INSTANCE.registerEditorAction(e)}function p_(e,t){v_.INSTANCE.registerEditorContribution(e,t)}var m_,f_;(f_=m_||(m_={})).getEditorCommand=function(e){return v_.INSTANCE.getEditorCommand(e)},f_.getEditorActions=function(){return v_.INSTANCE.getEditorActions()},f_.getEditorContributions=function(){return v_.INSTANCE.getEditorContributions()},f_.getSomeEditorContributions=function(e){return v_.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},f_.getDiffEditorContributions=function(){return v_.INSTANCE.getDiffEditorContributions()};class v_{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function __(e){return e.register(),e}v_.INSTANCE=new v_,yh.add("editor.contributions",v_.INSTANCE);const b_=__(new n_({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Yv.MenubarEditMenu,group:"1_do",title:it("vs/editor/browser/editorExtensions",{key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:Yv.CommandPalette,group:"",title:it("vs/editor/browser/editorExtensions","undo","Undo"),order:1}]}));__(new o_(b_,{id:"default:undo",precondition:void 0}));const C_=__(new n_({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Yv.MenubarEditMenu,group:"1_do",title:it("vs/editor/browser/editorExtensions",{key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:Yv.CommandPalette,group:"",title:it("vs/editor/browser/editorExtensions","redo","Redo"),order:1}]}));__(new o_(C_,{id:"default:redo",precondition:void 0}));const w_=__(new n_({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Yv.MenubarSelectionMenu,group:"1_basic",title:it("vs/editor/browser/editorExtensions",{key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:Yv.CommandPalette,group:"",title:it("vs/editor/browser/editorExtensions","selectAll","Select All"),order:1}]}));let y_=class{constructor(e,t){}dispose(){}};var S_,D_;y_.ID="editor.contrib.markerDecorations",y_=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([(S_=1,D_=Av,function(e,t){D_(e,t,S_)})],y_),p_(y_.ID,y_);class k_{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class I_{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=this._bareFontInfo.getMassagedFontFamily(kr?ii.fontFamily:null),t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const i=document.createElement("div");i.style.fontFamily=e,i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);const n=document.createElement("div");n.style.fontFamily=e,n.style.fontWeight="bold",n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);const o=document.createElement("div");o.style.fontFamily=e,o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",t.appendChild(o);const r=[];for(const s of this._requests){let e;0===s.type&&(e=i),2===s.type&&(e=n),1===s.type&&(e=o),e.appendChild(document.createElement("br"));const t=document.createElement("span");I_._render(t,s),e.appendChild(t),r.push(t)}this._container=t,this._testElements=r}static _render(e,t){if(" "===t.chr){let t=" ";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}}class E_ extends Si{constructor(e,t,i){super(),this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver((e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()})),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval((()=>this.observe()),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,e&&this.changeCallback())}}class x_{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}class L_ extends Si{constructor(){super(),this._onDidChange=this._register(new Ti),this.onDidChange=this._onDidChange.event,this._cache=new x_,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new x_,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=L_._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new Bu({zoomLevel:_r(),pixelRatio:Cr(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,n){const o=new k_(e,t);return i.push(o),n&&n.push(o),o}static _actualReadConfiguration(e){const t=[],i=[],n=this.createRequest("n",0,t,i),o=this.createRequest("ｍ",0,t,null),r=this.createRequest(" ",0,t,i),s=this.createRequest("0",0,t,i),a=this.createRequest("1",0,t,i),l=this.createRequest("2",0,t,i),u=this.createRequest("3",0,t,i),c=this.createRequest("4",0,t,i),d=this.createRequest("5",0,t,i),h=this.createRequest("6",0,t,i),g=this.createRequest("7",0,t,i),p=this.createRequest("8",0,t,i),m=this.createRequest("9",0,t,i),f=this.createRequest("→",0,t,i),v=this.createRequest("￫",0,t,null),_=this.createRequest("·",0,t,i),b=this.createRequest(String.fromCharCode(11825),0,t,null),C="|/-_ilm%";for(let I=0,E=C.length;I<E;I++)this.createRequest(C.charAt(I),0,t,i),this.createRequest(C.charAt(I),1,t,i),this.createRequest(C.charAt(I),2,t,i);!function(e,t){new I_(e,t).read()}(e,t);const w=Math.max(s.width,a.width,l.width,u.width,c.width,d.width,h.width,g.width,p.width,m.width);let y=e.fontFeatureSettings===Yt.OFF;const S=i[0].width;for(let I=1,E=i.length;y&&I<E;I++){const e=S-i[I].width;if(e<-.001||e>.001){y=!1;break}}let D=!0;y&&v.width!==S&&(D=!1),v.width>f.width&&(D=!1);const k=vr.INSTANCE.getTimeSinceLastZoomLevelChanged()>2e3;return new Bu({zoomLevel:_r(),pixelRatio:Cr(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:y,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:D,spaceWidth:r.width,middotWidth:_.width,wsmiddotWidth:b.width,maxDigitWidth:w},k)}}L_.INSTANCE=new L_;class A_ extends Mm{constructor(e,t,i=null,n){super(e,t),this.accessibilityService=n,this._elementSizeObserver=this._register(new E_(i,t.dimension,(()=>this._recomputeOptions()))),this._register(L_.INSTANCE.onDidChange((()=>this._recomputeOptions()))),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(br((e=>this._recomputeOptions()))),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions()))),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(kr?ii.fontFamily:null),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily(kr?ii.fontFamily:null)),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return kr||Ir||(e+="no-user-select "),kr&&(e+="no-minimap-shadow "),vt&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:A_._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:Sr||yr,pixelRatio:Cr(),zoomLevel:_r(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return L_.INSTANCE.readConfiguration(e)}}class N_{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function T_(e){return new N_(e)}function O_(e,t,i){let n=null,o=null;if("function"==typeof i.value?(n="value",o=i.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof i.get&&(n="get",o=i.get),!o)throw new Error("not supported");const r=`$memoize$${t}`;i[n]=function(...e){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,e)}),this[r]}}var F_,M_;(M_=F_||(F_={})).Tap="-monaco-gesturetap",M_.Change="-monaco-gesturechange",M_.Start="-monaco-gesturestart",M_.End="-monaco-gesturesend",M_.Contextmenu="-monaco-gesturecontextmenu";class R_ extends Si{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(ps(document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),this._register(ps(document,"touchend",(e=>this.onTouchEnd(e)))),this._register(ps(document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}static addTarget(e){return R_.isTouchDevice()?(R_.INSTANCE||(R_.INSTANCE=new R_),R_.INSTANCE.targets.push(e),{dispose:()=>{R_.INSTANCE.targets=R_.INSTANCE.targets.filter((t=>t!==e))}}):Si.None}static ignoreTarget(e){return R_.isTouchDevice()?(R_.INSTANCE||(R_.INSTANCE=new R_),R_.INSTANCE.ignoreTargets.push(e),{dispose:()=>{R_.INSTANCE.ignoreTargets=R_.INSTANCE.ignoreTargets.filter((t=>t!==e))}}):Si.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){let n=e.targetTouches.item(i);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:t,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[t],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};let o=this.newGestureEvent(F_.Start,n.target);o.pageX=n.pageX,o.pageY=n.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,o=e.changedTouches.length;n<o;n++){let o=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}let r=this.activeTouches[o.identifier],s=Date.now()-r.initialTimeStamp;if(s<R_.HOLD_DELAY&&Math.abs(r.initialPageX-Rg(r.rollingPageX))<30&&Math.abs(r.initialPageY-Rg(r.rollingPageY))<30){let e=this.newGestureEvent(F_.Tap,r.initialTarget);e.pageX=Rg(r.rollingPageX),e.pageY=Rg(r.rollingPageY),this.dispatchEvent(e)}else if(s>=R_.HOLD_DELAY&&Math.abs(r.initialPageX-Rg(r.rollingPageX))<30&&Math.abs(r.initialPageY-Rg(r.rollingPageY))<30){let e=this.newGestureEvent(F_.Contextmenu,r.initialTarget);e.pageX=Rg(r.rollingPageX),e.pageY=Rg(r.rollingPageY),this.dispatchEvent(e)}else if(1===i){let e=Rg(r.rollingPageX),i=Rg(r.rollingPageY),n=Rg(r.rollingTimestamps)-r.rollingTimestamps[0],o=e-r.rollingPageX[0],s=i-r.rollingPageY[0];const a=this.targets.filter((e=>r.initialTarget instanceof Node&&e.contains(r.initialTarget)));this.inertia(a,t,Math.abs(o)/n,o>0?1:-1,e,Math.abs(s)/n,s>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(F_.End,r.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===F_.Tap){const t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>R_.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==F_.Change&&e.type!==F_.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach((t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}))}inertia(e,t,i,n,o,r,s,a){this.handle=ys((()=>{let l=Date.now(),u=l-t,c=0,d=0,h=!0;i+=R_.SCROLL_FRICTION*u,r+=R_.SCROLL_FRICTION*u,i>0&&(h=!1,c=n*i*u),r>0&&(h=!1,d=s*r*u);let g=this.newGestureEvent(F_.Change);g.translationX=c,g.translationY=d,e.forEach((e=>e.dispatchEvent(g))),h||this.inertia(e,l,i,n,o+c,r,s,a+d)}))}onTouchMove(e){let t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){let n=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}let o=this.activeTouches[n.identifier],r=this.newGestureEvent(F_.Change,o.initialTarget);r.translationX=n.pageX-Rg(o.rollingPageX),r.translationY=n.pageY-Rg(o.rollingPageY),r.pageX=n.pageX,r.pageY=n.pageY,this.dispatchEvent(r),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(n.pageX),o.rollingPageY.push(n.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}function P_(e,t){let i=new zr(t);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}R_.SCROLL_FRICTION=-.005,R_.HOLD_DELAY=700,R_.CLEAR_TAP_COUNT_TIME=400,function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);r>3&&s&&Object.defineProperty(t,i,s)}([O_],R_,"isTouchDevice",null);class B_{constructor(){this._hooks=new yi,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,n,o){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=o;const r=Hr.getSameOriginWindowChain(),s=wt?"pointermove":"mousemove",a=r.map((e=>e.window.document)),l=js(e);l&&a.unshift(l);for(const u of a)this._hooks.add(Es(u,s,(e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)}),((e,t)=>this._mouseMoveEventMerger(e,t)))),this._hooks.add(ps(u,"mouseup",(e=>this.stopMonitoring(!0))));if(Hr.hasDifferentOriginAncestor()){let e=r[r.length-1];this._hooks.add(ps(e.window.document,"mouseout",(e=>{"html"===new zr(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(ps(e.window.document,"mouseover",(e=>{"html"===new zr(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(ps(e.window.document.body,"mouseleave",(e=>{this.stopMonitoring(!0)})))}}}class W_{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new V_(this.x-Ms.scrollX,this.y-Ms.scrollY)}}class V_{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new W_(this.clientX+Ms.scrollX,this.clientY+Ms.scrollY)}}class H_{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}function z_(e){const t=Fs(e);return new H_(t.left,t.top,t.width,t.height)}class K_ extends zr{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new W_(this.posx,this.posy),this.editorPos=z_(t)}}class U_{constructor(e){this._editorViewDomNode=e}_create(e){return new K_(e,this._editorViewDomNode)}onContextMenu(e,t){return ps(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return ps(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return ps(e,"mousedown",(e=>{t(this._create(e))}))}onMouseLeave(e,t){return Cs(e,(e=>{t(this._create(e))}))}onMouseMoveThrottled(e,t,i,n){return Es(e,"mousemove",t,((e,t)=>i(e,this._create(t))),n)}}class j_{constructor(e){this._editorViewDomNode=e}_create(e){return new K_(e,this._editorViewDomNode)}onPointerUp(e,t){return ps(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return ps(e,"pointerdown",(e=>{t(this._create(e))}))}onPointerLeave(e,t){return n=e=>{t(this._create(e))},ps(i=e,"pointerout",(e=>{let t=e.relatedTarget;for(;t&&t!==i;)t=t.parentNode;t!==i&&n(e)}));var i,n}onPointerMoveThrottled(e,t,i,n){return Es(e,"pointermove",t,((e,t)=>i(e,this._create(t))),n)}}class q_ extends Si{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new B_),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=fs(document,"keydown",(e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0);this._globalMouseMoveMonitor.startMonitoring(e,t,((e,t)=>i(e,new K_(t,this._editorViewDomNode))),n,(e=>{this._keydownListener.dispose(),o(e)}))}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class $_ extends Si{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let n=e[i];switch(n.type){case 0:this.onCompositionStart(n)&&(t=!0);break;case 1:this.onCompositionEnd(n)&&(t=!0);break;case 2:this.onConfigurationChanged(n)&&(t=!0);break;case 3:this.onCursorStateChanged(n)&&(t=!0);break;case 4:this.onDecorationsChanged(n)&&(t=!0);break;case 5:this.onFlushed(n)&&(t=!0);break;case 6:this.onFocusChanged(n)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 8:this.onLineMappingChanged(n)&&(t=!0);break;case 9:this.onLinesChanged(n)&&(t=!0);break;case 10:this.onLinesDeleted(n)&&(t=!0);break;case 11:this.onLinesInserted(n)&&(t=!0);break;case 12:this.onRevealRangeRequest(n)&&(t=!0);break;case 13:this.onScrollChanged(n)&&(t=!0);break;case 15:this.onTokensChanged(n)&&(t=!0);break;case 14:this.onThemeChanged(n)&&(t=!0);break;case 16:this.onTokensColorsChanged(n)&&(t=!0);break;case 17:this.onZonesChanged(n)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(n)}}t&&(this._shouldRender=!0)}}class G_ extends $_{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Z_{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=i[n-r-1];return o}}class Y_ extends class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class J_{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class X_{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){const n=e[i];t[i]=new X_(n.left,n.width)}return t}toString(){return`[${this.left},${this.width}]`}}class Q_{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class eb{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class tb{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class ib{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,n),r.getClientRects()}catch(rU){return null}finally{this._detachRange(r,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(Q_.compare);let t=[],i=0,n=e[0];for(let o=1,r=e.length;o<r;o++){const r=e[o];n.left+n.width+.9>=r.left?n.width=Math.max(n.width,r.left+r.width-n.left):(t[i++]=n,n=r)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];i[n]=new Q_(Math.max(0,o.left-t),o.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,n,o,r,s){const a=e.children.length-1;if(0>a)return null;if((t=Math.min(a,Math.max(0,t)))===(n=Math.min(a,Math.max(0,n)))&&i===o&&0===i&&!e.children[t].firstChild){const i=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(i,r)}t!==n&&n>0&&0===o&&(n--,o=1073741824);let l=e.children[t].firstChild,u=e.children[n].firstChild;if(l&&u||(!l&&0===i&&t>0&&(l=e.children[t-1].firstChild,i=1073741824),!u&&0===o&&n>0&&(u=e.children[n-1].firstChild,o=1073741824)),!l||!u)return null;i=Math.min(l.textContent.length,Math.max(0,i)),o=Math.min(u.textContent.length,Math.max(0,o));const c=this._readClientRects(l,i,u,o,s);return this._createHorizontalRangesFromClientRects(c,r)}}const nb=!!bt||!(_t||yr||kr);let ob=!0;class rb{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class sb{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(43);this.renderWhitespace=i.get(87),this.renderControlCharacters=i.get(82),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(58),this.stopRenderingLineAfter=i.get(104),this.fontLigatures=i.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class ab{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=T_(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(this._options.themeType===Nv.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),r=this._options,s=yp.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let a=null;if(r.themeType===Nv.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const t=i.selections;for(const i of t){if(i.endLineNumber<e||i.startLineNumber>e)continue;const t=i.startLineNumber===e?i.startColumn:o.minColumn,n=i.endLineNumber===e?i.endColumn:o.maxColumn;t<n&&(r.themeType===Nv.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?s.push(new yp(t,n,"inline-selected-text",0)):(a||(a=[]),a.push(new Ip(t-1,n-1))))}}const l=new Ep(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,s,o.tabSize,o.startVisibleColumn,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==Yt.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(ab.CLASS_NAME),n.appendASCIIString('">');const u=Np(l,n);n.appendASCIIString("</div>");let c=null;return ob&&nb&&o.isBasicASCII&&r.useMonospaceOptimizations&&0===u.containsForeignElements&&o.content.length<300&&l.lineTokens.getCount()<100&&(c=new lb(this._renderedViewLine?this._renderedViewLine.domNode:null,l,u.characterMapping)),c||(c=db(this._renderedViewLine?this._renderedViewLine.domNode:null,l,u.characterMapping,u.containsRTL,u.containsForeignElements)),this._renderedViewLine=c,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof lb}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof lb?this._renderedViewLine.monospaceAssumptionsAreValid():ob}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof lb&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t|=0,i|=0,t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const o=0|this._renderedViewLine.input.stopRenderingLineAfter;let r=!1;-1!==o&&t>o+1&&i>o+1&&(r=!0),-1!==o&&t>o+1&&(t=o+1),-1!==o&&i>o+1&&(i=o+1);const s=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return s&&s.length>0?new tb(r,s):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}ab.CLASS_NAME="view-line";class lb{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return ob;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),ob=!1),ob}toSlowRenderedLine(){return db(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){const o=this._getCharPosition(t),r=this._getCharPosition(i);return[new Q_(o,r-o)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new xp(o,i),n)}}class ub{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const o=this._readPixelOffset(this.domNode,e,t,n);if(-1===o)return null;const r=this._readPixelOffset(this.domNode,e,i,n);return-1===r?null:[new Q_(o,r-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,o){if(i===n){const n=this._readPixelOffset(e,t,i,o);return-1===n?null:[new Q_(n,0)]}return this._readRawVisibleRangesForRange(e,i,n,o)}_readPixelOffset(e,t,i,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const o=this._pixelOffsetCache[i];if(-1!==o)return o;const r=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=r,r}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(0===this._characterMapping.length){const t=ib.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.endNode);return t&&0!==t.length?t[0].left:-1}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const o=this._characterMapping.getDomPosition(i),r=ib.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n.clientRectDeltaLeft,n.endNode);if(!r||0===r.length)return-1;const s=r[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getAbsoluteOffset(i),t=Math.round(this.input.spaceWidth*e);if(Math.abs(t-s)<=1)return t}return s}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new Q_(0,this.getWidth())];const o=this._characterMapping.getDomPosition(t),r=this._characterMapping.getDomPosition(i);return ib.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,r.partIndex,r.charIndex,n.clientRectDeltaLeft,n.endNode)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new xp(o,i),n)}}class cb extends ub{_readVisibleRangesForRange(e,t,i,n,o){const r=super._readVisibleRangesForRange(e,t,i,n,o);if(!r||0===r.length||i===n||1===i&&n===this._characterMapping.length)return r;if(!this.input.containsRTL){const i=this._readPixelOffset(e,t,n,o);if(-1!==i){const e=r[r.length-1];e.left<i&&(e.width=i-e.left)}}return r}}const db=Sr?hb:gb;function hb(e,t,i,n,o){return new cb(e,t,i,n,o)}function gb(e,t,i,n,o){return new ub(e,t,i,n,o)}function pb(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class mb{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${pb(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${pb(this.oldText)}")`:`(replace@${this.oldPosition} "${pb(this.oldText)}" with "${pb(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const n=t.length;Tl(e,n,i),i+=4;for(let o=0;o<n;o++)Al(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=Nl(e,t);return rh(e,t+=4,i)}writeSize(){return 8+mb._writeStringSize(this.oldText)+mb._writeStringSize(this.newText)}write(e,t){return Tl(e,this.oldPosition,t),t+=4,Tl(e,this.newPosition,t),t+=4,t=mb._writeString(e,this.oldText,t),t=mb._writeString(e,this.newText,t)}static read(e,t,i){const n=Nl(e,t),o=Nl(e,t+=4);t+=4;const r=mb._readString(e,t);t+=mb._writeStringSize(r);const s=mb._readString(e,t);return t+=mb._writeStringSize(s),i.push(new mb(n,r,o,s)),t}}class fb{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[e,t]=fb._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){const[e,t]=fb._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}let o,r;if(n.oldEnd===i.newEnd)o=i,r=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[e,s]=fb._splitPrev(i,n.oldLength);o=e,r=n,i=s,n=this._getCurr(++t)}else{const[t,s]=fb._splitCurr(n,i.newLength);o=i,r=t,i=this._getPrev(++e),n=s}this._result[this._resultLen++]=new mb(o.oldPosition,o.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const o=fb._merge(this._result);return fb._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=fb._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=fb._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new mb(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new mb(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new mb(e.oldPosition,e.oldText,e.newPosition,i),new mb(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new mb(e.oldPosition,i,e.newPosition,e.newText),new mb(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],i=0,n=e[0];for(let o=1;o<e.length;o++){const r=e[o];n.oldEnd===r.oldPosition?n=new mb(n.oldPosition,n.oldText+r.oldText,n.newPosition,n.newText+r.newText):(t[i++]=n,n=r)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],i=0;for(let n=0;n<e.length;n++){const o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}function vb(e){return e.toString()}class _b{constructor(e,t,i,n,o,r,s){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=r,this.changes=s}static create(e,t){const i=e.getAlternativeVersionId(),n=Cb(e);return new _b(i,i,n,n,t,t,[])}append(e,t,i,n,o){var r,s;t.length>0&&(this.changes=(r=this.changes,s=t,null===r||0===r.length?s:new fb(r,s).compress())),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(Tl(e,t?t.length:0,i),i+=4,t)for(const n of t)Tl(e,n.selectionStartLineNumber,i),i+=4,Tl(e,n.selectionStartColumn,i),i+=4,Tl(e,n.positionLineNumber,i),i+=4,Tl(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=Nl(e,t);t+=4;for(let o=0;o<n;o++){const n=Nl(e,t),o=Nl(e,t+=4),r=Nl(e,t+=4),s=Nl(e,t+=4);t+=4,i.push(new zn(n,o,r,s))}return t}serialize(){let e=10+_b._writeSelectionsSize(this.beforeCursorState)+_b._writeSelectionsSize(this.afterCursorState)+4;for(const n of this.changes)e+=n.writeSize();const t=new Uint8Array(e);let i=0;Tl(t,this.beforeVersionId,i),i+=4,Tl(t,this.afterVersionId,i),i+=4,Fl(t,this.beforeEOL,i),i+=1,Fl(t,this.afterEOL,i),i+=1,i=_b._writeSelections(t,this.beforeCursorState,i),i=_b._writeSelections(t,this.afterCursorState,i),Tl(t,this.changes.length,i),i+=4;for(const n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=Nl(t,i);i+=4;const o=Nl(t,i);i+=4;const r=Ol(t,i);i+=1;const s=Ol(t,i);i+=1;const a=[];i=_b._readSelections(t,i,a);const l=[];i=_b._readSelections(t,i,l);const u=Nl(t,i);i+=4;const c=[];for(let d=0;d<u;d++)i=mb.read(t,i,c);return new _b(n,o,r,s,a,l,c)}}class bb{constructor(e,t){this.model=e,this._data=_b.create(e,t)}get type(){return 0}get resource(){return Ln.isUri(this.model)?this.model:this.model.uri}get label(){return it("vs/editor/common/model/editStack","edit","Typing")}toString(){return(this._data instanceof _b?this._data:_b.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(Ln.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof _b}append(e,t,i,n,o){this._data instanceof _b&&this._data.append(e,t,i,n,o)}close(){this._data instanceof _b&&(this._data=this._data.serialize())}open(){this._data instanceof _b||(this._data=_b.deserialize(this._data))}undo(){if(Ln.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _b&&(this._data=this._data.serialize());const e=_b.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Ln.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _b&&(this._data=this._data.serialize());const e=_b.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof _b&&(this._data=this._data.serialize()),this._data.byteLength+168}}function Cb(e){return"\n"===e.getEOL()?0:1}function wb(e){return!!e&&(e instanceof bb||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const e=vb(i.resource);this._editStackElementsMap.set(e,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map((e=>e.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=vb(e);return this._editStackElementsMap.has(t)}setModel(e){const t=vb(Ln.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=vb(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,i,n,o){const r=vb(e.uri);this._editStackElementsMap.get(r).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=vb(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${Ul(t.resource)}: ${t}`);return`{${e.join(", ")}}`}})}class yb{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);wb(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);wb(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(wb(t)&&t.canAppend(this._model))return t;const i=new bb(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],Cb(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),r=yb._computeCursorState(i,o),s=o.map(((e,t)=>({index:t,textChange:e.textChange})));return s.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),n.append(this._model,s.map((e=>e.textChange)),Cb(this._model),this._model.getAlternativeVersionId(),r),r}static _computeCursorState(e,t){try{return e?e(t):null}catch(rU){return li(rU),null}}}class Sb{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Db(e,t,i,n,o){let r;for(o.spacesDiff=0,o.looksLikeAlignment=!1,r=0;r<t&&r<n;r++){if(e.charCodeAt(r)!==i.charCodeAt(r))break}let s=0,a=0;for(let h=r;h<t;h++){32===e.charCodeAt(h)?s++:a++}let l=0,u=0;for(let h=r;h<n;h++){32===i.charCodeAt(h)?l++:u++}if(s>0&&a>0)return;if(l>0&&u>0)return;let c=Math.abs(a-u),d=Math.abs(s-l);if(0===c)return o.spacesDiff=d,void(d>0&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));d%c!=0||(o.spacesDiff=d/c)}function kb(e,t,i){const n=Math.min(e.getLineCount(),1e4);let o=0,r=0,s="",a=0;const l=[2,4,6,8,3,5,7];let u=[0,0,0,0,0,0,0,0,0],c=new Sb;for(let g=1;g<=n;g++){let n=e.getLineLength(g),l=e.getLineContent(g);const d=n<=65536;let h=!1,p=0,m=0,f=0;for(let t=0,i=n;t<i;t++){let i=d?l.charCodeAt(t):e.getLineCharCode(g,t);if(9===i)f++;else{if(32!==i){h=!0,p=t;break}m++}}if(!h)continue;if(f>0?o++:m>1&&r++,Db(s,a,l,p,c),c.looksLikeAlignment&&(!i||t!==c.spacesDiff))continue;let v=c.spacesDiff;v<=8&&u[v]++,s=l,a=p}let d=i;o!==r&&(d=o<r);let h=t;if(d){let e=d?0:.1*n;l.forEach((t=>{let i=u[t];i>e&&(e=i,h=t)})),4===h&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(h=2)}return{insertSpaces:d,tabSize:h}}function Ib(e){return(1&e.metadata)>>>0}function Eb(e,t){e.metadata=254&e.metadata|t<<0}function xb(e){return(2&e.metadata)>>>1==1}function Lb(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function Ab(e){return(4&e.metadata)>>>2==1}function Nb(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function Tb(e,t){e.metadata=231&e.metadata|t<<3}function Ob(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class Fb{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Eb(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,Nb(this,!1),Tb(this,1),Ob(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Lb(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;Nb(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),Tb(this,this.options.stickiness),Ob(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Mb=new Fb(null,0,0);Mb.parent=Mb,Mb.left=Mb,Mb.right=Mb,Eb(Mb,0);class Rb{constructor(){this.root=Mb,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===Mb?[]:function(e,t,i,n,o,r){let s=e.root,a=0,l=0,u=0,c=0,d=[],h=0;for(;s!==Mb;)if(xb(s))Lb(s.left,!1),Lb(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!xb(s.left)){if(l=a+s.maxEnd,l<t){Lb(s,!0);continue}if(s.left!==Mb){s=s.left;continue}}if(u=a+s.start,u>i)Lb(s,!0);else{if(c=a+s.end,c>=t){s.setCachedOffsets(u,c,r);let e=!0;n&&s.ownerId&&s.ownerId!==n&&(e=!1),o&&Ab(s)&&(e=!1),e&&(d[h++]=s)}Lb(s,!0),s.right===Mb||xb(s.right)||(a+=s.delta,s=s.right)}}return Lb(e.root,!1),d}(this,e,t,i,n,o)}search(e,t,i){return this.root===Mb?[]:function(e,t,i,n){let o=e.root,r=0,s=0,a=0,l=[],u=0;for(;o!==Mb;){if(xb(o)){Lb(o.left,!1),Lb(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),o=o.parent;continue}if(o.left!==Mb&&!xb(o.left)){o=o.left;continue}s=r+o.start,a=r+o.end,o.setCachedOffsets(s,a,n);let e=!0;t&&o.ownerId&&o.ownerId!==t&&(e=!1),i&&Ab(o)&&(e=!1),e&&(l[u++]=o),Lb(o,!0),o.right===Mb||xb(o.right)||(r+=o.delta,o=o.right)}return Lb(e.root,!1),l}(this,e,t,i)}collectNodesFromOwner(e){return function(e,t){let i=e.root,n=[],o=0;for(;i!==Mb;)xb(i)?(Lb(i.left,!1),Lb(i.right,!1),i=i.parent):i.left===Mb||xb(i.left)?(i.ownerId===t&&(n[o++]=i),Lb(i,!0),i.right===Mb||xb(i.right)||(i=i.right)):i=i.left;return Lb(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,i=[],n=0;for(;t!==Mb;)xb(t)?(Lb(t.left,!1),Lb(t.right,!1),t=t.parent):t.left===Mb||xb(t.left)?t.right===Mb||xb(t.right)?(i[n++]=t,Lb(t,!0)):t=t.right:t=t.left;return Lb(e.root,!1),i}(this)}insert(e){Wb(this,e),this._normalizeDeltaIfNecessary()}delete(e){Vb(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const o=i.start+n,r=i.end+n;i.setCachedOffsets(o,r,t)}acceptReplace(e,t,i,n){const o=function(e,t,i){let n=e.root,o=0,r=0,s=0,a=0,l=[],u=0;for(;n!==Mb;)if(xb(n))Lb(n.left,!1),Lb(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!xb(n.left)){if(r=o+n.maxEnd,r<t){Lb(n,!0);continue}if(n.left!==Mb){n=n.left;continue}}s=o+n.start,s>i?Lb(n,!0):(a=o+n.end,a>=t&&(n.setCachedOffsets(s,a,0),l[u++]=n),Lb(n,!0),n.right===Mb||xb(n.right)||(o+=n.delta,n=n.right))}return Lb(e.root,!1),l}(this,e,e+t);for(let r=0,s=o.length;r<s;r++){Vb(this,o[r])}this._normalizeDeltaIfNecessary(),function(e,t,i,n){let o=e.root,r=0,s=0,a=0;const l=n-(i-t);for(;o!==Mb;)if(xb(o))Lb(o.left,!1),Lb(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),jb(o),o=o.parent;else{if(!xb(o.left)){if(s=r+o.maxEnd,s<t){Lb(o,!0);continue}if(o.left!==Mb){o=o.left;continue}}a=r+o.start,a>i?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),Lb(o,!0)):(Lb(o,!0),o.right===Mb||xb(o.right)||(r+=o.delta,o=o.right))}Lb(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let r=0,s=o.length;r<s;r++){const s=o[r];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,Bb(s,e,e+t,i,n),s.maxEnd=s.end,Wb(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==Mb;)t.left===Mb||xb(t.left)?t.right===Mb||xb(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,jb(t),Lb(t,!0),Lb(t.left,!1),Lb(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t=t.parent):(i+=t.delta,t=t.right):t=t.left;Lb(e.root,!1)}(this))}}function Pb(e,t,i,n){return e<i||!(e>i)&&(1!==n&&(2===n||t))}function Bb(e,t,i,n,o){const r=function(e){return(24&e.metadata)>>>3}(e),s=0===r||2===r,a=1===r||2===r,l=i-t,u=n,c=Math.min(l,u),d=e.start;let h=!1;const g=e.end;let p=!1;t<=d&&g<=i&&function(e){return(32&e.metadata)>>>5==1}(e)&&(e.start=t,h=!0,e.end=t,p=!0);{const e=o?1:l>0?2:0;!h&&Pb(d,s,t,e)&&(h=!0),!p&&Pb(g,a,t,e)&&(p=!0)}if(c>0&&!o){const e=l>u?2:0;!h&&Pb(d,s,t+c,e)&&(h=!0),!p&&Pb(g,a,t+c,e)&&(p=!0)}{const n=o?1:0;!h&&Pb(d,s,i,n)&&(e.start=t+u,h=!0),!p&&Pb(g,a,i,n)&&(e.end=t+u,p=!0)}const m=u-l;h||(e.start=Math.max(0,d+m)),p||(e.end=Math.max(0,g+m)),e.start>e.end&&(e.end=e.start)}function Wb(e,t){if(e.root===Mb)return t.parent=Mb,t.left=Mb,t.right=Mb,Eb(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;const o=t.start,r=t.end;for(;;){if($b(o,r,n.start+i,n.end+i)<0){if(n.left===Mb){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===Mb){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}}t.parent=n,t.left=Mb,t.right=Mb,Eb(t,1)}(e,t),qb(t.parent);let i=t;for(;i!==e.root&&1===Ib(i.parent);)if(i.parent===i.parent.parent.left){const t=i.parent.parent.right;1===Ib(t)?(Eb(i.parent,0),Eb(t,0),Eb(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,zb(e,i)),Eb(i.parent,0),Eb(i.parent.parent,1),Kb(e,i.parent.parent))}else{const t=i.parent.parent.left;1===Ib(t)?(Eb(i.parent,0),Eb(t,0),Eb(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,Kb(e,i)),Eb(i.parent,0),Eb(i.parent.parent,1),zb(e,i.parent.parent))}return Eb(e.root,0),t}function Vb(e,t){let i,n;if(t.left===Mb?(i=t.right,n=t,i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===Mb?(i=t.left,n=t):(n=function(e){for(;e.left!==Mb;)e=e.left;return e}(t.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,Eb(i,0),t.detach(),Hb(),jb(i),void(e.root.parent=Mb);let o,r=1===Ib(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,Eb(n,Ib(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==Mb&&(n.left.parent=n),n.right!==Mb&&(n.right.parent=n)),t.detach(),r)return qb(i.parent),n!==t&&(qb(n),qb(n.parent)),void Hb();for(qb(i),qb(i.parent),n!==t&&(qb(n),qb(n.parent));i!==e.root&&0===Ib(i);)i===i.parent.left?(o=i.parent.right,1===Ib(o)&&(Eb(o,0),Eb(i.parent,1),zb(e,i.parent),o=i.parent.right),0===Ib(o.left)&&0===Ib(o.right)?(Eb(o,1),i=i.parent):(0===Ib(o.right)&&(Eb(o.left,0),Eb(o,1),Kb(e,o),o=i.parent.right),Eb(o,Ib(i.parent)),Eb(i.parent,0),Eb(o.right,0),zb(e,i.parent),i=e.root)):(o=i.parent.left,1===Ib(o)&&(Eb(o,0),Eb(i.parent,1),Kb(e,i.parent),o=i.parent.left),0===Ib(o.left)&&0===Ib(o.right)?(Eb(o,1),i=i.parent):(0===Ib(o.left)&&(Eb(o.right,0),Eb(o,1),zb(e,o),o=i.parent.left),Eb(o,Ib(i.parent)),Eb(i.parent,0),Eb(o.left,0),Kb(e,i.parent),i=e.root));Eb(i,0),Hb()}function Hb(){Mb.parent=Mb,Mb.delta=0,Mb.start=0,Mb.end=0}function zb(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==Mb&&(i.left.parent=t),i.parent=t.parent,t.parent===Mb?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i,jb(t),jb(i)}function Kb(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==Mb&&(i.right.parent=t),i.parent=t.parent,t.parent===Mb?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i,jb(t),jb(i)}function Ub(e){let t=e.end;if(e.left!==Mb){const i=e.left.maxEnd;i>t&&(t=i)}if(e.right!==Mb){const i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function jb(e){e.maxEnd=Ub(e)}function qb(e){for(;e!==Mb;){const t=Ub(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function $b(e,t,i,n){return e===i?t-n:e-i}class Gb{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Zb)return Yb(this.right);let e=this;for(;e.parent!==Zb&&e.parent.left!==e;)e=e.parent;return e.parent===Zb?Zb:e.parent}prev(){if(this.left!==Zb)return Jb(this.left);let e=this;for(;e.parent!==Zb&&e.parent.right!==e;)e=e.parent;return e.parent===Zb?Zb:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Zb=new Gb(null,0);function Yb(e){for(;e.left!==Zb;)e=e.left;return e}function Jb(e){for(;e.right!==Zb;)e=e.right;return e}function Xb(e){return e===Zb?0:e.size_left+e.piece.length+Xb(e.right)}function Qb(e){return e===Zb?0:e.lf_left+e.piece.lineFeedCnt+Qb(e.right)}function eC(){Zb.parent=Zb}function tC(e,t){let i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==Zb&&(i.left.parent=t),i.parent=t.parent,t.parent===Zb?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i}function iC(e,t){let i=t.left;t.left=i.right,i.right!==Zb&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===Zb?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i}function nC(e,t){let i,n;if(t.left===Zb?(n=t,i=n.right):t.right===Zb?(n=t,i=n.left):(n=Yb(t.right),i=n.right),n===e.root)return e.root=i,i.color=0,t.detach(),eC(),void(e.root.parent=Zb);let o,r=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,sC(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,sC(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==Zb&&(n.left.parent=n),n.right!==Zb&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,sC(e,n)),t.detach(),i.parent.left===i){let t=Xb(i),n=Qb(i);if(t!==i.parent.size_left||n!==i.parent.lf_left){let o=t-i.parent.size_left,r=n-i.parent.lf_left;i.parent.size_left=t,i.parent.lf_left=n,rC(e,i.parent,o,r)}}if(sC(e,i.parent),r)eC();else{for(;i!==e.root&&0===i.color;)i===i.parent.left?(o=i.parent.right,1===o.color&&(o.color=0,i.parent.color=1,tC(e,i.parent),o=i.parent.right),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.right.color&&(o.left.color=0,o.color=1,iC(e,o),o=i.parent.right),o.color=i.parent.color,i.parent.color=0,o.right.color=0,tC(e,i.parent),i=e.root)):(o=i.parent.left,1===o.color&&(o.color=0,i.parent.color=1,iC(e,i.parent),o=i.parent.left),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.left.color&&(o.right.color=0,o.color=1,tC(e,o),o=i.parent.left),o.color=i.parent.color,i.parent.color=0,o.left.color=0,iC(e,i.parent),i=e.root));i.color=0,eC()}}function oC(e,t){for(sC(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&tC(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,iC(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&iC(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,tC(e,t.parent.parent))}e.root.color=0}function rC(e,t,i,n){for(;t!==e.root&&t!==Zb;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function sC(e,t){let i=0,n=0;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(i=Xb((t=t.parent).left)-t.size_left,n=Qb(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n;t!==e.root&&(0!==i||0!==n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}Zb.parent=Zb,Zb.left=Zb,Zb.right=Zb,Zb.color=0;class aC extends Sg{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const lC=function(e){let t={};return i=>(t.hasOwnProperty(i)||(t[i]=e(i)),t[i])}((e=>new aC(e)));class uC{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,i=e.length;t<i;t++){if(92===e.charCodeAt(t)){if(t++,t>=i)break;const n=e.charCodeAt(t);if(110===n||114===n||87===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=Ea(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(n){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new cC(t,this.wordSeparators?lC(this.wordSeparators):null,i?this.searchString:null)}}class cC{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}function dC(e,t,i){if(!i)return new ju(e,null);let n=[];for(let o=0,r=t.length;o<r;o++)n[o]=t[o];return new ju(e,n)}class hC{constructor(e){let t=[],i=0;for(let n=0,o=e.length;n<o;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){const o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class gC{static findMatches(e,t,i,n,o){const r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,i,new mC(r.wordSeparators,r.regex),n,o):this._doFindMatchesLineByLine(e,i,r,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,r){let s,a,l=0;if(n?(l=n.findLineFeedCountBeforeOffset(o),s=t+o+l):s=t+o,n){let e=n.findLineFeedCountBeforeOffset(o+r.length)-l;a=s+r.length+e}else a=s+r.length;const u=e.getPositionAt(s),c=e.getPositionAt(a);return new Hn(u.lineNumber,u.column,c.lineNumber,c.column)}static _doFindMatchesMultiline(e,t,i,n,o){const r=e.getOffsetAt(t.getStartPosition()),s=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new hC(s):null,l=[];let u,c=0;for(i.reset(0);u=i.next(s);)if(l[c++]=dC(this._getMultilineMatchRange(e,r,s,a,u.index,u[0]),u,n),c>=o)return l;return l}static _doFindMatchesLineByLine(e,t,i,n,o){const r=[];let s=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,r,n,o),r}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,r,n,o);for(let l=t.startLineNumber+1;l<t.endLineNumber&&s<o;l++)s=this._findMatchesInLine(i,e.getLineContent(l),l,0,s,r,n,o);if(s<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(i,a,t.endLineNumber,0,s,r,n,o)}return r}static _findMatchesInLine(e,t,i,n,o,r,s,a){const l=e.wordSeparators;if(!s&&e.simpleSearch){const s=e.simpleSearch,u=s.length,c=t.length;let d=-u;for(;-1!==(d=t.indexOf(s,d+u));)if((!l||pC(l,t,c,d,u))&&(r[o++]=new ju(new Hn(i,d+1+n,i,d+1+u+n),null),o>=a))return o;return o}const u=new mC(e.wordSeparators,e.regex);let c;u.reset(0);do{if(c=u.next(t),c&&(r[o++]=dC(new Hn(i,c.index+1+n,i,c.index+1+c[0].length+n),c,s),o>=a))return o}while(c);return o}static findNextMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const r=new mC(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,r,n):this._doFindNextMatchLineByLine(e,i,r,n)}static _doFindNextMatchMultiline(e,t,i,n){const o=new Vn(t.lineNumber,1),r=e.getOffsetAt(o),s=e.getLineCount(),a=e.getValueInRange(new Hn(o.lineNumber,o.column,s,e.getLineMaxColumn(s)),1),l="\r\n"===e.getEOL()?new hC(a):null;i.reset(t.column-1);let u=i.next(a);return u?dC(this._getMultilineMatchRange(e,r,a,l,u.index,u[0]),u,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new Vn(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r),a=this._findFirstMatchInLine(i,s,r,t.column,n);if(a)return a;for(let l=1;l<=o;l++){const t=(r+l-1)%o,s=e.getLineContent(t+1),a=this._findFirstMatchInLine(i,s,t+1,1,n);if(a)return a}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);const r=e.next(t);return r?dC(new Hn(i,r.index+1,i,r.index+1+r[0].length),r,o):null}static findPreviousMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const r=new mC(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,r,n):this._doFindPreviousMatchLineByLine(e,i,r,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const o=this._doFindMatchesMultiline(e,new Hn(1,1,t.lineNumber,t.column),i,n,9990);if(o.length>0)return o[o.length-1];const r=e.getLineCount();return t.lineNumber!==r||t.column!==e.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(e,new Vn(r,e.getLineMaxColumn(r)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r).substring(0,t.column-1),a=this._findLastMatchInLine(i,s,r,n);if(a)return a;for(let l=1;l<=o;l++){const t=(o+r-l-1)%o,s=e.getLineContent(t+1),a=this._findLastMatchInLine(i,s,t+1,n);if(a)return a}return null}static _findLastMatchInLine(e,t,i,n){let o,r=null;for(e.reset(0);o=e.next(t);)r=dC(new Hn(i,o.index+1,i,o.index+1+o[0].length),o,n);return r}}function pC(e,t,i,n,o){return function(e,t,i,n,o){if(0===n)return!0;const r=t.charCodeAt(n-1);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){const i=t.charCodeAt(n);if(0!==e.get(i))return!0}return!1}(e,t,0,n,o)&&function(e,t,i,n,o){if(n+o===i)return!0;const r=t.charCodeAt(n+o);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){const i=t.charCodeAt(n+o-1);if(0!==e.get(i))return!0}return!1}(e,t,i,n,o)}class mC{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(i=this._searchRegex.exec(e),!i)return null;const n=i.index,o=i[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength){if(0===o){qa(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||pC(this._wordSeparators,e,t,n,o))return i}while(i);return null}}function fC(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class vC{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function _C(e,t=!0){let i=[0],n=1;for(let o=0,r=e.length;o<r;o++){const t=e.charCodeAt(o);13===t?o+1<r&&10===e.charCodeAt(o+1)?(i[n++]=o+2,o++):i[n++]=o+1:10===t&&(i[n++]=o+1)}return t?fC(i):i}class bC{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class CC{constructor(e,t){this.buffer=e,this.lineStarts=t}}class wC{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Zb&&e.iterate(e.root,(e=>(e!==Zb&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class yC{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let o=i[n];(null===o.node.parent||o.nodeStartOffset>=e)&&(i[n]=null,t=!0)}if(t){let e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class SC{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new CC("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Zb,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,r=e.length;o<r;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=_C(e[o].buffer));let t=new bC(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,t)}this._searchCache=new yC(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=65535-Math.floor(21845),i=2*t,n="",o=0,r=[];if(this.iterate(this.root,(s=>{let a=this.getNodeContent(s),l=a.length;if(o<=t||o+l<i)return n+=a,o+=l,!0;let u=n.replace(/\r\n|\r|\n/g,e);return r.push(new CC(u,_C(u))),n=a,o=l,!0})),o>0){let t=n.replace(/\r\n|\r|\n/g,e);r.push(new CC(t,_C(t)))}this.create(r,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new wC(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==Zb;)if(n.left!==Zb&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e){return i+=n.size_left,i+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1)}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==Zb;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,0===o.index){let e=this.getOffsetAt(i+1,1);return new Vn(i+1,n-e+1)}return new Vn(i+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===Zb){let t=this.getOffsetAt(i+1,1);return new Vn(i+1,n-e-t+1)}t=t.right}return new Vn(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(o+e.remainder,o+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),r=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==Zb;){let e=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){r+=e.substring(n,n+t.remainder);break}r+=e.substr(n,i.piece.length),i=i.next()}return r}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,(o=>{if(o===Zb)return!0;const r=o.piece;let s=r.length;if(0===s)return!0;const a=this._buffers[r.bufferIndex].buffer,l=this._buffers[r.bufferIndex].lineStarts,u=r.start.line,c=r.end.line;let d=l[u]+r.start.column;if(n&&(10===a.charCodeAt(d)&&(d++,s--),e[t++]=i,i="",n=!1,0===s))return!0;if(u===c)return this._EOLNormalized||13!==a.charCodeAt(d+s-1)?i+=a.substr(d,s):(n=!0,i+=a.substr(d,s-1)),!0;i+=this._EOLNormalized?a.substring(d,Math.max(d,l[u+1]-this._EOLLength)):a.substring(d,l[u+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=u+1;n<c;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[c]+r.end.column-1)?i=a.substr(l[c],r.end.column):(n=!0,0===r.end.column?t--:i=a.substr(l[c],r.end.column-1)),!0})),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}{let t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,r,s,a,l,u,c){let d,h,g,p=this._buffers[e.piece.bufferIndex],m=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),f=this.offsetInBuffer(e.piece.bufferIndex,o),v=this.offsetInBuffer(e.piece.bufferIndex,r),_={line:0,column:0};t._wordSeparators?(h=p.buffer.substring(f,v),g=e=>e+f,t.reset(0)):(h=p.buffer,g=e=>e,t.reset(f));do{if(d=t.next(h),d){if(g(d.index)>=v)return u;this.positionInBuffer(e,g(d.index)-m,_);let t=this.getLineFeedCnt(e.piece.bufferIndex,o,_),r=_.line===o.line?_.column-o.column+n:_.column+1,s=r+d[0].length;if(c[u++]=dC(new Hn(i+t,r,i+t,s),d,a),g(d.index)+d[0].length>=v)return u;if(u>=l)return u}}while(d);return u}findMatchesLineByLine(e,t,i,n){const o=[];let r=0;const s=new mC(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];let l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let u=this.positionInBuffer(a.node,a.remainder),c=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,e.startLineNumber,e.startColumn,u,c,t,i,n,r,o),o;let d=e.startLineNumber,h=a.node;for(;h!==l.node;){let l=this.getLineFeedCnt(h.piece.bufferIndex,u,h.piece.end);if(l>=1){let a=this._buffers[h.piece.bufferIndex].lineStarts,c=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start),g=a[u.line+l],p=d===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(h,s,d,p,u,this.positionInBuffer(h,g-c),t,i,n,r,o),r>=n)return o;d+=l}let c=d===e.startLineNumber?e.startColumn-1:0;if(d===e.endLineNumber){const a=this.getLineContent(d).substring(c,e.endColumn-1);return r=this._findMatchesInLine(t,s,a,e.endLineNumber,c,r,o,i,n),o}if(r=this._findMatchesInLine(t,s,this.getLineContent(d).substr(c),d,c,r,o,i,n),r>=n)return o;d++,a=this.nodeAt2(d,1),h=a.node,u=this.positionInBuffer(a.node,a.remainder)}if(d===e.endLineNumber){let a=d===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(d).substring(a,e.endColumn-1);return r=this._findMatchesInLine(t,s,l,e.endLineNumber,a,r,o,i,n),o}let g=d===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(l.node,s,d,g,u,c,t,i,n,r,o),o}_findMatchesInLine(e,t,i,n,o,r,s,a,l){const u=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,c=i.length;let d=-a;for(;-1!==(d=i.indexOf(t,d+a));)if((!u||pC(u,i,c,d,a))&&(s[r++]=new ju(new Hn(n,d+1+o,n,d+1+a+o),null),r>=l))return r;return r}let c;t.reset(0);do{if(c=t.next(i),c&&(s[r++]=dC(new Hn(n,c.index+1+o,n,c.index+1+c[0].length+o),c,a),r>=l))return r}while(c);return r}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Zb){let{node:i,remainder:n,nodeStartOffset:o}=this.nodeAt(e),r=i.piece,s=r.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&r.end.line===this._lastChangeBufferPos.line&&r.end.column===this._lastChangeBufferPos.column&&o+r.length===e&&t.length<65535)return this.appendToNode(i,t),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(o+i.piece.length>e){let e=[],o=new bC(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),this.offsetInBuffer(s,r.end)-this.offsetInBuffer(s,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(i,n)){let e={line:o.start.line+1,column:0};o=new bC(o.bufferIndex,e,o.end,this.getLineFeedCnt(o.bufferIndex,e,o.end),o.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(i,n-1)){let o=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,o),t="\r"+t,0===i.piece.length&&e.push(i)}else this.deleteNodeTail(i,a)}else this.deleteNodeTail(i,a);let l=this.createNewPieces(t);o.length>0&&this.rbInsertRight(i,o);let u=i;for(let t=0;t<l.length;t++)u=this.rbInsertRight(u,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,i)}else{let e=this.createNewPieces(t),i=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)i=this.rbInsertRight(i,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Zb)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,r=n.node;if(o===r){let r=this.positionInBuffer(o,i.remainder),s=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){let e=o.next();return nC(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,s),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return i.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,r),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,r,s),void this.computeBufferMetadata())}let s=[],a=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,a),this._searchCache.validate(e),0===o.piece.length&&s.push(o);let l=this.positionInBuffer(r,n.remainder);this.deleteNodeHead(r,l),0===r.piece.length&&s.push(r);for(let c=o.next();c!==Zb&&c!==r;c=c.next())s.push(c);let u=0===o.piece.length?o.prev():o;this.deleteNodes(s),this.validateCRLFWithNextNode(u),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let n=t.piece,o={line:n.start.line+1,column:0},r=new bC(n.bufferIndex,o,n.end,this.getLineFeedCnt(n.bufferIndex,o,n.end),n.length-1);t.piece=r,e+="\n",rC(this,t,-1,-1),0===t.piece.length&&i.push(t)}let n=this.createNewPieces(e),o=this.rbInsertLeft(t,n[n.length-1]);for(let r=n.length-2;r>=0;r--)o=this.rbInsertLeft(o,n[r]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),o=n;for(let r=1;r<i.length;r++)o=this.rbInsertRight(o,i[r]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,o=e.piece.bufferIndex,r=this._buffers[o].lineStarts,s=r[n.start.line]+n.start.column+t,a=n.start.line,l=n.end.line,u=0,c=0,d=0;for(;a<=l&&(u=a+(l-a)/2|0,d=r[u],u!==l);)if(c=r[u+1],s<d)l=u-1;else{if(!(s>=c))break;a=u+1}return i?(i.line=u,i.column=s-d,null):{line:u,column:s-d}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let o=n[i.line+1],r=n[i.line]+i.column;if(o>r+1)return i.line-t.line;let s=r-1;return 13===this._buffers[e].buffer.charCodeAt(s)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)nC(this,e[t])}createNewPieces(e){if(e.length>65535){let t=[];for(;e.length>65535;){const i=e.charCodeAt(65534);let n;13===i||i>=55296&&i<=56319?(n=e.substring(0,65534),e=e.substring(65534)):(n=e.substring(0,65535),e=e.substring(65535));let o=_C(n);t.push(new bC(this._buffers.length,{line:0,column:0},{line:o.length-1,column:n.length-o[o.length-1]},o.length-1,n.length)),this._buffers.push(new CC(n,o))}let i=_C(e);return t.push(new bC(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new CC(e,i)),t}let t=this._buffers[0].buffer.length;const i=_C(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let e=0;e<i.length;e++)i[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<i.length;e++)i[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length;let r=this._buffers[0].lineStarts.length-1,s={line:r,column:o-this._buffers[0].lineStarts[r]},a=new bC(0,n,s,this.getLineFeedCnt(0,n,s),o-t);return this._lastChangeBufferPos=s,[a]}getLineRawContent(e,t=0){let i=this.root,n="",o=this._searchCache.get2(e);if(o){i=o.node;let r=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e){let n=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return s.substring(a+r,a+n-t)}n=s.substring(a+r,a+i.piece.length)}else{let o=0;const r=e;for(;i!==Zb;)if(i.left!==Zb&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let n=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:r-(e-1-i.lf_left)}),a.substring(l+n,l+s-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(i,e-i.lf_left-2),o=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=o.substring(r+t,r+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==Zb;){let e=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(i,0),r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(r,r+o-t),n}{let t=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=e.substr(t,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==Zb;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(t!==o)return{index:t,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),r=t,s=this.offsetInBuffer(i.bufferIndex,r),a=this.getLineFeedCnt(i.bufferIndex,i.start,r),l=a-n,u=s-o,c=i.length+u;e.piece=new bC(i.bufferIndex,i.start,r,a,c),rC(this,e,u,l)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),r=t,s=this.getLineFeedCnt(i.bufferIndex,r,i.end),a=s-n,l=o-this.offsetInBuffer(i.bufferIndex,r),u=i.length+l;e.piece=new bC(i.bufferIndex,r,i.end,s,u),rC(this,e,l,a)}shrinkNode(e,t,i){const n=e.piece,o=n.start,r=n.end,s=n.length,a=n.lineFeedCnt,l=t,u=this.getLineFeedCnt(n.bufferIndex,n.start,l),c=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new bC(n.bufferIndex,n.start,l,u,c),rC(this,e,c-s,u-a);let d=new bC(n.bufferIndex,i,r,this.getLineFeedCnt(n.bufferIndex,i,r),this.offsetInBuffer(n.bufferIndex,r)-this.offsetInBuffer(n.bufferIndex,i)),h=this.rbInsertRight(e,d);this.validateCRLFWithPrevNode(h)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=_C(t,!1);for(let d=0;d<o.length;d++)o[d]+=n;if(i){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const r=this._buffers[0].lineStarts.length-1,s={line:r,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[r]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,u=this.getLineFeedCnt(0,e.piece.start,s),c=u-l;e.piece=new bC(e.piece.bufferIndex,e.piece.start,s,u,a),this._lastChangeBufferPos=s,rC(this,e,t.length,c)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==Zb;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;let i={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==Zb;)if(i.left!==Zb&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,r),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==Zb;){if(i.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,e),nodeStartOffset:n}}if(i.piece.length>=t-1){return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)}}t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===Zb||0===e.piece.lineFeedCnt)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n!==i.length-1&&(!(i[n+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==Zb&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i,n=[],o=this._buffers[e.piece.bufferIndex].lineStarts;i=0===e.piece.end.column?{line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const r=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new bC(e.piece.bufferIndex,e.piece.start,i,s,r),rC(this,e,-1,-1),0===e.piece.length&&n.push(e);let a={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,u=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new bC(t.piece.bufferIndex,a,t.piece.end,u,l),rC(this,t,-1,-1),0===t.piece.length&&n.push(t);let c=this.createNewPieces("\r\n");this.rbInsertRight(e,c[0]);for(let d=0;d<n.length;d++)nC(this,n[d])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)nC(this,i);else{const e=i.piece,t={line:e.start.line+1,column:0},n=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);i.piece=new bC(e.bufferIndex,t,e.end,o,n),rC(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Zb)return t(Zb);let i=this.iterate(e.left,t);return i?t(e)&&this.iterate(e.right,t):i}getNodeContent(e){if(e===Zb)return"";let t,i=this._buffers[e.piece.bufferIndex],n=e.piece,o=this.offsetInBuffer(n.bufferIndex,n.start),r=this.offsetInBuffer(n.bufferIndex,n.end);return t=i.buffer.substring(o,r),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new Gb(t,1);if(i.left=Zb,i.right=Zb,i.parent=Zb,i.size_left=0,i.lf_left=0,this.root===Zb)this.root=i,i.color=0;else if(e.right===Zb)e.right=i,i.parent=e;else{let t=Yb(e.right);t.left=i,i.parent=t}return oC(this,i),i}rbInsertLeft(e,t){let i=new Gb(t,1);if(i.left=Zb,i.right=Zb,i.parent=Zb,i.size_left=0,i.lf_left=0,this.root===Zb)this.root=i,i.color=0;else if(e.left===Zb)e.left=i,i.parent=e;else{let t=Jb(e.left);t.right=i,i.parent=t}return oC(this,i),i}}function DC(e){let t=0,i=0,n=0,o=0;for(let r=0,s=e.length;r<s;r++){const a=e.charCodeAt(r);13===a?(0===t&&(i=r),t++,r+1<s&&10===e.charCodeAt(r+1)?(o|=2,r++):o|=3,n=r+1):10===a&&(o|=1,0===t&&(i=r),t++,n=r+1)}return 0===t&&(i=e.length),[t,i,e.length-n,o]}function kC(e){return(16384|e<<0|2<<23)>>>0}const IC=new Uint32Array(0).buffer;class EC{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e)return void i.tokens.push(t)}this.tokens.push(new NC(e,[t]))}}class xC{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new Hn(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else{if(!(o>e)){let o=n;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let r=n;for(;r<i&&this._getDeltaLine(r+1)===e;)r++;return new LC(this._tokens.subarray(4*o,4*r+4))}i=n-1}}return this._getDeltaLine(t)===e?new LC(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const o=this._tokens,r=this._tokenCount;let s=0,a=!1,l=0;for(let u=0;u<r;u++){const r=4*u,c=o[r],d=o[r+1],h=o[r+2],g=o[r+3];if((c>e||c===e&&h>=t)&&(c<i||c===i&&d<=n))a=!0;else{if(0===s&&(l=c),a){const e=4*s;o[e]=c-l,o[e+1]=d,o[e+2]=h,o[e+3]=g}s++}}return this._tokenCount=s,l}split(e,t,i,n){const o=this._tokens,r=this._tokenCount;let s=[],a=[],l=s,u=0,c=0;for(let d=0;d<r;d++){const r=4*d,s=o[r],h=o[r+1],g=o[r+2],p=o[r+3];if(s>e||s===e&&g>=t){if(s<i||s===i&&h<=n)continue;l!==a&&(l=a,u=0,c=s)}l[u++]=s-c,l[u++]=h,l[u++]=g,l[u++]=p}return[new xC(new Uint32Array(s)),new xC(new Uint32Array(a)),c]}acceptDeleteRange(e,t,i,n,o){const r=this._tokens,s=this._tokenCount,a=n-t;let l=0,u=!1;for(let c=0;c<s;c++){const d=4*c;let h=r[d],g=r[d+1],p=r[d+2];const m=r[d+3];if(h<t||h===t&&p<=i){l++;continue}if(h===t&&g<i)h===n&&p>o?p-=o-i:p=i;else if(h===t&&g===i){if(!(h===n&&p>o)){u=!0;continue}p-=o-i}else if(h<n||h===n&&g<o){if(!(h===n&&p>o)){u=!0;continue}h===t?(g=i,p=g+(p-o)):(g=0,p=g+(p-o))}else if(h>n){if(0===a&&!u){l=s;break}h-=a}else{if(!(h===n&&g>=o))throw new Error("Not possible!");e&&0===h&&(g+=e,p+=e),h-=a,g-=o-i,p-=o-i}const f=4*l;r[f]=h,r[f+1]=g,r[f+2]=p,r[f+3]=m,l++}this._tokenCount=l}acceptInsertText(e,t,i,n,o,r){const s=0===i&&1===n&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),a=this._tokens,l=this._tokenCount;for(let u=0;u<l;u++){const r=4*u;let l=a[r],c=a[r+1],d=a[r+2];if(!(l<e||l===e&&d<t)){if(l===e&&d===t){if(!s)continue;d+=1}else if(l===e&&c<t&&t<d)0===i?d+=n:d=t;else{if(l===e&&c===t&&s)continue;if(l===e)if(l+=i,0===i)c+=n,d+=n;else{const e=d-c;c=o+(c-t),d=c+e}else l+=i}a[r]=l,a[r+1]=c,a[r+2]=d}}}}class LC{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class AC{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e?new Hn(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[n,o,r]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new AC(this.startLineNumber,n),new AC(this.startLineNumber+r,o)]}applyEdit(e,t){const[i,n,o]=DC(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new Vn(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0){const e=i-t;return void(this.startLineNumber-=e)}const n=this.tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){const n=-t;this.startLineNumber-=n,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(0===t&&0===i)return;const r=e.lineNumber-this.startLineNumber;if(r<0)return void(this.startLineNumber+=t);r>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(r,e.column-1,t,i,n,o)}}class NC{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function TC(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class OC{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const n=t[0].getRange(),o=t[t.length-1].getRange();if(!n||!o)return e;i=e.plusRange(n).plusRange(o)}let n=null;for(let o=0,r=this._pieces.length;o<r;o++){const e=this._pieces[o];if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};break}if(e.removeTokens(i),e.isEmpty()){this._pieces.splice(o,1),o--,r--;continue}if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};continue}const[t,s]=e.split(i);t.isEmpty()?n=n||{index:o}:s.isEmpty()||(this._pieces.splice(o,1,t,s),o++,r++,n=n||{index:o})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=Zg(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){const i=this._pieces;if(0===i.length)return t;const n=i[OC._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;const o=t.getCount(),r=n.getCount();let s=0,a=[],l=0,u=0;const c=(e,t)=>{e!==u&&(u=e,a[l++]=e,a[l++]=t)};for(let d=0;d<r;d++){const e=n.getStartCharacter(d),i=n.getEndCharacter(d),r=n.getMetadata(d),a=((1&r?2048:0)|(2&r?4096:0)|(4&r?8192:0)|(8&r?8372224:0)|(16&r?4286578688:0))>>>0,l=~a>>>0;for(;s<o&&t.getEndOffset(s)<=e;)c(t.getEndOffset(s),t.getMetadata(s)),s++;for(s<o&&t.getStartOffset(s)<e&&c(e,t.getMetadata(s));s<o&&t.getEndOffset(s)<i;)c(t.getEndOffset(s),t.getMetadata(s)&l|r&a),s++;if(s<o)c(i,t.getMetadata(s)&l|r&a),t.getEndOffset(s)===i&&s++;else{const e=Math.min(Math.max(0,s-1),o-1);c(i,t.getMetadata(e)&l|r&a)}}for(;s<o;)c(t.getEndOffset(s),t.getMetadata(s)),s++;return new Cp(new Uint32Array(a),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}n=o-1}}return i}acceptEdit(e,t,i,n,o){for(const r of this._pieces)r.acceptEdit(e,t,i,n,o)}}class FC{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==IC)return new Cp(TC(n),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=kC(this._languageIdCodec.encodeLanguageId(e)),new Cp(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const n=i?TC(i):null;if(0===t){let t=!1;if(n&&n.length>1&&(t=Wc.getLanguageId(n[1])!==e),!t)return IC}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=t,i[1]=kC(e),i.buffer}return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=Zg(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){const r=FC._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);const s=this._lineTokens[t];return this._lineTokens[t]=r,!!o&&!FC._equals(s,r)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=TC(e),n=TC(t);if(i.length!==n.length)return!1;for(let o=0,r=i.length;o<r;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new Vn(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=FC._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=FC._deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=FC._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=FC._append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const n=e.lineNumber-1;n>=this._len||(0!==t?(this._lineTokens[n]=FC._deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=FC._insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=FC._insert(this._lineTokens[n],e.column-1,i))}static _deleteBeginning(e,t){return null===e||e===IC?e:FC._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===IC)return e;const i=TC(e),n=i[i.length-2];return FC._delete(e,t,n)}static _delete(e,t,i){if(null===e||e===IC||t===i)return e;const n=TC(e),o=n.length>>>1;if(0===t&&n[n.length-2]===i)return IC;const r=Cp.findIndexInTokensArray(n,t),s=r>0?n[r-1<<1]:0;if(i<n[r<<1]){const s=i-t;for(let e=r;e<o;e++)n[e<<1]-=s;return e}let a,l;s!==t?(n[r<<1]=t,a=r+1<<1,l=t):(a=r<<1,l=s);const u=i-t;for(let d=r+1;d<o;d++){const e=n[d<<1]-u;e>l&&(n[a++]=e,n[a++]=n[1+(d<<1)],l=e)}if(a===n.length)return e;let c=new Uint32Array(a);return c.set(n.subarray(0,a),0),c.buffer}static _append(e,t){if(t===IC)return e;if(e===IC)return t;if(null===e)return e;if(null===t)return null;const i=TC(e),n=TC(t),o=n.length>>>1;let r=new Uint32Array(i.length+n.length);r.set(i,0);let s=i.length;const a=i[i.length-2];for(let l=0;l<o;l++)r[s++]=n[l<<1]+a,r[s++]=n[1+(l<<1)];return r.buffer}static _insert(e,t,i){if(null===e||e===IC)return e;const n=TC(e),o=n.length>>>1;let r=Cp.findIndexInTokensArray(n,t);if(r>0){n[r-1<<1]===t&&r--}for(let s=r;s<o;s++)n[s<<1]+=i;return e}}class MC extends Si{constructor(e,t,i,n,o,r,s){super(),this._onDidChangeContent=this._register(new Ti),this._BOM=t,this._mightContainNonBasicASCII=!r,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new SC(e,i,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t;const n=this.getPositionAt(e),o=this.getPositionAt(i);return new Hn(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,o=e.endLineNumber;for(let t=n;t<=o;t++){const r=this.getLineContent(t),s=t===n?e.startColumn-1:0,a=t===o?e.endColumn-1:r.length;for(let e=s;e<a;e++)Ka(r.charCodeAt(e))?(i+=1,e+=1):i+=1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Aa(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Ta(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,s=!0,a=[];for(let p=0;p<e.length;p++){let t=e[p];s&&t._isTracked&&(s=!1);let i=t.range;if(t.text){let e=!0;r||(e=!Qa(t.text),r=e),!n&&e&&(n=Ya(t.text)),!o&&e&&(o=tl(t.text))}let l="",u=0,c=0,d=0;if(t.text){let e;[u,c,d,e]=DC(t.text);const i=this.getEOL(),n="\r\n"===i?2:1;l=0===e||e===n?t.text:t.text.replace(/\r\n|\r|\n/g,i)}a[p]={sortIndex:p,identifier:t.identifier||null,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i),text:l,eolCount:u,firstLineLength:c,lastLineLength:d,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}a.sort(MC._sortOpsAscending);let l=!1;for(let p=0,m=a.length-1;p<m;p++){let e=a[p].range.getEndPosition(),t=a[p+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}s&&(a=this._reduceOperations(a));let u=i||t?MC._getInverseEditRanges(a):[],c=[];if(t)for(let p=0;p<a.length;p++){let e=a[p],t=u[p];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let i=t.startLineNumber;i<=t.endLineNumber;i++){let n="";i===t.startLineNumber&&(n=this.getLineContent(e.range.startLineNumber),-1!==Aa(n))||c.push({lineNumber:i,oldContent:n})}}let d=null;if(i){let e=0;d=[];for(let t=0;t<a.length;t++){const i=a[t],n=u[t],o=this.getValueInRange(i.range),r=i.rangeOffset+e;e+=i.text.length-o.length,d[t]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:o,textChange:new mb(i.rangeOffset,o,r,i.text)}}l||d.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=r;const h=this._doApplyEdits(a);let g=null;if(t&&c.length>0){c.sort(((e,t)=>t.lineNumber-e.lineNumber)),g=[];for(let e=0,t=c.length;e<t;e++){let t=c[e].lineNumber;if(e>0&&c[e-1].lineNumber===t)continue;let i=c[e].oldContent,n=this.getLineContent(t);0!==n.length&&n!==i&&-1===Aa(n)&&g.push(t)}}return this._onDidChangeContent.fire(),new Zu(d,h,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,o=new Hn(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let r=i.startLineNumber,s=i.startColumn;const a=[];for(let h=0,g=e.length;h<g;h++){const i=e[h],n=i.range;t=t||i.forceMoveMarkers,a.push(this.getValueInRange(new Hn(r,s,n.startLineNumber,n.startColumn))),i.text.length>0&&a.push(i.text),r=n.endLineNumber,s=n.endColumn}const l=a.join(""),[u,c,d]=DC(l);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:l,eolCount:u,firstLineLength:c,lastLineLength:d,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(MC._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i];const o=n.range.startLineNumber,r=n.range.startColumn,s=n.range.endLineNumber,a=n.range.endColumn;if(o===s&&r===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new Hn(o,r,s,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,o=null;for(let r=0,s=e.length;r<s;r++){let s,a,l,u=e[r];if(o?o.range.endLineNumber===u.range.startLineNumber?(s=i,a=n+(u.range.startColumn-o.range.endColumn)):(s=i+(u.range.startLineNumber-o.range.endLineNumber),a=u.range.startColumn):(s=u.range.startLineNumber,a=u.range.startColumn),u.text.length>0){const e=u.eolCount+1;l=1===e?new Hn(s,a,s,a+u.firstLineLength):new Hn(s,a,s+e-1,u.lastLineLength+1)}else l=new Hn(s,a,s,a);i=l.endLineNumber,n=l.endColumn,t.push(l),o=u}return t}static _sortOpsAscending(e,t){let i=Hn.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=Hn.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class RC{constructor(e,t,i,n,o,r,s,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=r,this._containsUnusualLineTerminators=s,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":i>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let o=0,r=i.length;o<r;o++){let e=i[o].buffer.replace(/\r\n|\r|\n/g,t),n=_C(e);i[o]=new CC(e,n)}const n=new MC(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}class PC{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&rl(e)&&(this.BOM=ol,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let i=1,n=0,o=0,r=0,s=!0;for(let l=0,u=t.length;l<u;l++){const a=t.charCodeAt(l);13===a?l+1<u&&10===t.charCodeAt(l+1)?(r++,e[i++]=l+2,l++):(n++,e[i++]=l+1):10===a?(o++,e[i++]=l+1):s&&9!==a&&(a<32||a>126)&&(s=!1)}const a=new vC(fC(e),n,o,r,s);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new CC(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=Ya(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=tl(e))}finish(e=!0){return this._finish(),new RC(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=_C(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class BC{constructor(){this.changeType=1}}class WC{constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",n=0;for(const o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new WC(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new WC(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber)),t}}class VC{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class HC{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class zC{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class KC{constructor(){this.changeType=5}}class UC{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing;return new UC(i,n,o,r)}}class jC{constructor(e){this.changes=e}}class qC{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=UC.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=qC._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new qC(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}class $C{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const i=[],n=[];for(let o=0;o<t;o++)i[o]=null,n[o]=!1;this._beginState=Zg(this._beginState,e,i),this._valid=Zg(this._valid,e,n),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const n=this.getBeginState(t+1);if(null===n||!i.equals(n))return this._setBeginState(t+1,i),void this._invalidateLine(t+1);let o=t+1;for(;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const i=e.endLineNumber-e.startLineNumber,n=t;for(let o=Math.min(i,n);o>=0;o--)this._invalidateLine(e.startLineNumber+o-1);this._acceptDeleteRange(e),this._acceptInsertText(new Vn(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class GC extends Si{constructor(e,t){super(),this._textModel=e,this._languageIdCodec=t,this._isDisposed=!1,this._tokenizationStateStore=new $C,this._tokenizationSupport=null,this._register(Cd.onDidChange((e=>{const t=this._textModel.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&(this._resetTokenizationState(),this._textModel.clearTokens())}))),this._register(this._textModel.onDidChangeContentFast((e=>{if(e.isFlush)this._resetTokenizationState();else{for(let t=0,i=e.changes.length;t<i;t++){const i=e.changes[t],[n]=DC(i.text);this._tokenizationStateStore.applyEdits(i.range,n)}this._beginBackgroundTokenization()}}))),this._register(this._textModel.onDidChangeAttached((()=>{this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeLanguage((()=>{this._resetTokenizationState(),this._textModel.clearTokens()}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=function(e){const t=e.getLanguageId();let i=e.isTooLargeForTokenization()?null:Cd.get(t),n=null;if(i)try{n=i.getInitialState()}catch(rU){li(rU),i=null}return[i,n]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&St((()=>{this._isDisposed||this._revalidateTokensNow()}))}_revalidateTokensNow(){const e=this._textModel.getLineCount(),t=new EC,i=Li.create(!1);let n=-1;for(;this._hasLinesToTokenize()&&!(i.elapsed()>1)&&(n=this._tokenizeOneInvalidLine(t),!(n>=e)););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}tokenizeViewport(e,t){const i=new EC;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new EC;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),o=t-1;for(let r=this._tokenizationStateStore.invalidLineStartIndex;r<=o;r++){const t=this._textModel.getLineContent(r+1),o=this._tokenizationStateStore.getBeginState(r),s=ZC(this._languageIdCodec,i,this._tokenizationSupport,t,!0,o);e.add(r+1,s.tokens),this._tokenizationStateStore.setEndState(n,r,s.endState),r=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationSupport)return;if(i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,i);let n=this._textModel.getLineFirstNonWhitespaceColumn(t);const o=[];let r=null;for(let l=t-1;n>1&&l>=1;l--){const e=this._textModel.getLineFirstNonWhitespaceColumn(l);if(0!==e&&e<n){if(r=this._tokenizationStateStore.getBeginState(l-1),r)break;o.push(this._textModel.getLineContent(l)),n=e}}r||(r=this._tokenizationSupport.getInitialState());const s=this._textModel.getLanguageId();let a=r;for(let l=o.length-1;l>=0;l--){a=ZC(this._languageIdCodec,s,this._tokenizationSupport,o[l],!1,a).endState}for(let l=t;l<=i;l++){const t=this._textModel.getLineContent(l),i=ZC(this._languageIdCodec,s,this._tokenizationSupport,t,!0,a);e.add(l,i.tokens),this._tokenizationStateStore.setFakeTokens(l-1),a=i.endState}}}function ZC(e,t,i,n,o,r){let s=null;if(i)try{s=i.tokenize2(n,o,r.clone(),0)}catch(rU){li(rU)}return s||(s=Dd(e.encodeLanguageId(t),0,r,0)),Cp.convertToEndOffset(s.tokens,n.length),s}function YC(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}class JC{constructor(e,t,i,n=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=YC(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class XC{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=YC(Math.max(Math.min(1,t),0),3),this.l=YC(Math.max(Math.min(1,i),0),3),this.a=YC(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,r=Math.max(t,i,n),s=Math.min(t,i,n);let a=0,l=0;const u=(s+r)/2,c=r-s;if(c>0){switch(l=Math.min(u<=.5?c/(2*u):c/(2-2*u),1),r){case t:a=(i-n)/c+(i<n?6:0);break;case i:a=(n-t)/c+2;break;case n:a=(t-i)/c+4}a*=60,a=Math.round(a)}return new XC(a,l,u,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:o}=e;let r,s,a;if(0===i)r=s=a=n;else{const e=n<.5?n*(1+i):n+i-n*i,o=2*n-e;r=XC._hue2rgb(o,e,t+1/3),s=XC._hue2rgb(o,e,t),a=XC._hue2rgb(o,e,t-1/3)}return new JC(Math.round(255*r),Math.round(255*s),Math.round(255*a),o)}}class QC{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=YC(Math.max(Math.min(1,t),0),3),this.v=YC(Math.max(Math.min(1,i),0),3),this.a=YC(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),r=o-Math.min(t,i,n),s=0===o?0:r/o;let a;return a=0===r?0:o===t?((i-n)/r%6+6)%6:o===i?(n-t)/r+2:(t-i)/r+4,new QC(Math.round(60*a),s,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:o}=e,r=n*i,s=r*(1-Math.abs(t/60%2-1)),a=n-r;let[l,u,c]=[0,0,0];return t<60?(l=r,u=s):t<120?(l=s,u=r):t<180?(u=r,c=s):t<240?(u=s,c=r):t<300?(l=s,c=r):t<=360&&(l=r,c=s),l=Math.round(255*(l+a)),u=Math.round(255*(u+a)),c=Math.round(255*(c+a)),new JC(l,u,c,o)}}class ew{constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof JC)this.rgba=e;else if(e instanceof XC)this._hsla=e,this.rgba=XC.toRGBA(e);else{if(!(e instanceof QC))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=QC.toRGBA(e)}}static fromHex(e){return ew.Format.CSS.parseHex(e)||ew.red}get hsla(){return this._hsla?this._hsla:XC.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:QC.fromRGBA(this.rgba)}equals(e){return!!e&&JC.equals(this.rgba,e.rgba)&&XC.equals(this.hsla,e.hsla)&&QC.equals(this.hsva,e.hsva)}getRelativeLuminance(){return YC(.2126*ew._relativeLuminanceForComponent(this.rgba.r)+.7152*ew._relativeLuminanceForComponent(this.rgba.g)+.0722*ew._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new ew(new XC(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new ew(new XC(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:o}=this.rgba;return new ew(new JC(t,i,n,o*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new ew(new JC(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=ew.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance();return i=i*(n-t.getRelativeLuminance())/n,e.darken(i)}}var tw,iw;ew.white=new ew(new JC(255,255,255,1)),ew.black=new ew(new JC(0,0,0,1)),ew.red=new ew(new JC(255,0,0,1)),ew.blue=new ew(new JC(0,0,255,1)),ew.cyan=new ew(new JC(0,255,255,1)),ew.lightgrey=new ew(new JC(211,211,211,1)),ew.transparent=new ew(new JC(0,0,0,0)),tw=ew||(ew={}),function(e){function t(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function i(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}e.formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:tw.Format.CSS.formatRGBA(e)},e.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},e.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:tw.Format.CSS.formatHSLA(e)},e.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},e.formatHex=function(e){return`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}`},e.formatHexA=function(e,i=!1){return i&&1===e.rgba.a?tw.Format.CSS.formatHex(e):`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}${t(Math.round(255*e.rgba.a))}`},e.format=function(e){return e.isOpaque()?tw.Format.CSS.formatHex(e):tw.Format.CSS.formatRGBA(e)},e.parseHex=function(e){const t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){const t=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),n=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6));return new tw(new JC(t,n,o,1))}if(9===t){const t=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),n=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6)),r=16*i(e.charCodeAt(7))+i(e.charCodeAt(8));return new tw(new JC(t,n,o,r/255))}if(4===t){const t=i(e.charCodeAt(1)),n=i(e.charCodeAt(2)),o=i(e.charCodeAt(3));return new tw(new JC(16*t+t,16*n+n,16*o+o))}if(5===t){const t=i(e.charCodeAt(1)),n=i(e.charCodeAt(2)),o=i(e.charCodeAt(3)),r=i(e.charCodeAt(4));return new tw(new JC(16*t+t,16*n+n,16*o+o,(16*r+r)/255))}return null}}((iw=tw.Format||(tw.Format={})).CSS||(iw.CSS={}));const nw=pr("undoRedoService");class ow{constructor(e,t){this.resource=e,this.elements=t}}class rw{constructor(){this.id=rw._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}rw._ID=0,rw.None=new rw;class sw{constructor(){this.id=sw._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}sw._ID=0,sw.None=new sw;class aw{constructor(e,t,i){this.range=e,this.nestingLevel=t,this.isInvalid=i}}class lw extends class{constructor(e,t,i,n){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n}}{constructor(e,t,i,n,o){super(e,t,i,n),this.minVisibleColumnIndentation=o}}class uw{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}const cw=Math.pow(2,26);function dw(e,t){return e*cw+t}function hw(e){const t=e,i=Math.floor(t/cw);return new uw(i,t-i*cw)}function gw(e,t){return t<cw?e+t:e-e%cw+t}function pw(e,t){return e<t}function mw(e,t){return e<=t}function fw(e,t){return e>=t}function vw(e){return dw(e.lineNumber-1,e.column-1)}function _w(e,t){const i=e,n=Math.floor(i/cw),o=i-n*cw,r=t,s=Math.floor(r/cw);return new Hn(n+1,o+1,s+1,r-s*cw+1)}class bw{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}}class Cw{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>ww.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx];return function(e,t){const i=e,n=t;if(n-i<=0)return 0;const o=Math.floor(i/cw),r=Math.floor(n/cw),s=n-r*cw;if(o===r)return dw(0,s-(i-o*cw));return dw(r-o,s)}(e,t?this.translateOldToCur(t.offsetObj):this.documentLength)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?dw(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):dw(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=hw(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?dw(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):dw(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(!mw(i,e))break;{this.nextEditIdx++;const e=hw(i),n=hw(this.translateOldToCur(t.endOffsetBeforeObj)),o=e.lineCount-n.lineCount;this.deltaOldToNewLineCount+=o;const r=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,s=e.columnCount-n.columnCount;this.deltaOldToNewColumnCount=r+s,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class ww{constructor(e,t,i){this.endOffsetBeforeObj=hw(t),this.endOffsetAfterObj=hw(gw(e,i)),this.offsetObj=hw(e)}static from(e){return new ww(e.startOffset,e.endOffset,e.newLength)}}class yw{static visibleColumnFromColumn(e,t,i){const n=e.length,o=t-1<n?t-1:n;let r=0,s=0;for(;s<o;){const t=qa(e,o,s);if(s+=t>=65536?2:1,9===t)r=yw.nextRenderTabStop(r,i);else{let i=ll(t);for(;s<o;){const t=qa(e,o,s),n=ll(t);if(ul(i,n))break;s+=t>=65536?2:1,i=n}il(t)||nl(t)?r+=2:r+=1}}return r}static visibleColumnsByColumns(e,t){const i=e.length;let n=new Array;n.push(-1);let o=0,r=0;for(;r<i;){const s=qa(e,i,r);if(r+=s>=65536?2:1,n.push(o),s>=65536&&n.push(o),9===s)o=yw.nextRenderTabStop(o,t);else{let t=ll(s);for(;r<i;){const a=qa(e,i,r),l=ll(a);if(ul(t,l))break;r+=a>=65536?2:1,n.push(o),s>=65536&&n.push(o),t=l}il(s)||nl(s)?o+=2:o+=1}}return n.push(o),n}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const n=e.length;let o=0,r=1,s=0;for(;s<n;){const a=qa(e,n,s);let l;if(s+=a>=65536?2:1,9===a)l=yw.nextRenderTabStop(o,i);else{let t=ll(a);for(;s<n;){const i=qa(e,n,s),o=ll(i);if(ul(t,o))break;s+=i>=65536?2:1,t=o}l=il(a)||nl(a)?o+2:o+1}const u=s+1;if(l>=t){return l-t<t-o?u:r}o=l,r=u}return n+1}static columnFromVisibleColumn2(e,t,i,n){let o=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize),r=t.getLineMinColumn(i);if(o<r)return r;let s=t.getLineMaxColumn(i);return o>s?s:o}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}const Sw=new Array;class Dw{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&0===t.length){let i=Dw.cache[e];return i||(i=new Dw(e,t),Dw.cache[e]=i),i}return new Dw(e,t)}static getEmpty(){return this.empty}add(e,t){const i=t.getKey(e);let n=i>>5;if(0===n){const e=1<<i|this.items;return e===this.items?this:Dw.create(e,this.additionalItems)}n--;const o=this.additionalItems.slice(0);for(;o.length<n;)o.push(0);return o[n]|=1<<(31&i),Dw.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===Sw&&e.additionalItems===Sw)return t===this.items?this:t===e.items?e:Dw.create(t,Sw);const i=new Array;for(let n=0;n<Math.max(this.additionalItems.length,e.additionalItems.length);n++){const t=this.additionalItems[n]||0,o=e.additionalItems[n]||0;i.push(t|o)}return Dw.create(t,i)}intersects(e){if(0!=(this.items&e.items))return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!=(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}Dw.cache=new Array(129),Dw.empty=Dw.create(0,Sw);const kw={getKey:e=>e};class Iw{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class Ew{constructor(e){this._length=e}get length(){return this._length}}class xw extends Ew{constructor(e,t,i,n,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}static create(e,t,i){let n=e.length;return t&&(n=gw(n,t.length)),i&&(n=gw(n,i.length)),new xw(n,e,t,i,t?t.missingOpeningBracketIds:Dw.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new xw(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(gw(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Lw extends Ew{constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,n=!1){let o=e.length,r=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=gw(o,t.length),r=r.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=gw(o,i.length),r=r.merge(i.missingOpeningBracketIds)}return n?new Nw(o,e.listHeight+1,e,t,i,r):new Aw(o,e.listHeight+1,e,t,i,r)}static getEmpty(){return new Ow(0,0,[],Dw.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){this.throwIfImmutable();if(0===this.childrenLength)return;const e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t,i=this;for(;4===i.kind&&(t=i.childrenLength)>0;)i=i.getChild(t-1);return i.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){const e=this.getChild(n);t=gw(t,e.length),i=i.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let o=0;o<this.childrenLength;o++){const e=this.getChild(o);e&&(i=Math.min(i,e.computeMinIndentation(n,t)),n=gw(n,e.length))}return this.cachedMinIndentation=i,i}}class Aw extends Lw{constructor(e,t,i,n,o,r){super(e,t,r),this._item1=i,this._item2=n,this._item3=o}get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Aw(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Nw extends Aw{toMutable(){return new Aw(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Tw extends Lw{constructor(e,t,i,n){super(e,t,n),this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Tw(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class Ow extends Tw{toMutable(){return new Tw(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const Fw=[];class Mw extends Ew{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Fw}deepClone(){return this}}class Rw extends Mw{get kind(){return 0}get missingOpeningBracketIds(){return Dw.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=hw(e),n=(0===i.columnCount?i.lineCount:i.lineCount+1)+1,o=(r=gw(e,this.length),Math.floor(r/cw)+1);var r;let s=Number.MAX_SAFE_INTEGER;for(let a=n;a<=o;a++){const e=t.getLineFirstNonWhitespaceColumn(a),i=t.getLineContent(a);if(0===e)continue;const n=yw.visibleColumnFromColumn(i,e,t.getOptions().tabSize);s=Math.min(s,n)}return s}}class Pw extends Mw{constructor(e){super(e)}static create(e){const t=e,i=Pw.cacheByLength.get(t);if(i)return i;const n=new Pw(e);return Pw.cacheByLength.set(t,n),n}get kind(){return 1}get missingOpeningBracketIds(){return Dw.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}Pw.cacheByLength=new Map;class Bw extends Mw{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Ww{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}}class Vw{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new Hw(this.textModel,this.bracketTokens),this._offset=0,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return dw(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=gw(this._offset,e);const t=hw(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=gw(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Hw{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=e.length,e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const n=this.lineTokens,o=n.getCount();let r=null;if(this.lineTokenOffset<o){const s=n.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&s===n.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=0===Wc.getTokenType(s),l=n.getEndOffset(this.lineTokenOffset);if(a&&l!==this.lineCharOffset){const e=n.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,l),i=this.bracketTokens.getSingleLanguageBracketTokens(e),o=i.regExpGlobal;if(o){o.lastIndex=0;const e=o.exec(t);e&&(r=i.getToken(e[0]),r&&(this.lineCharOffset+=e.index))}}if(i+=l-this.lineCharOffset,r){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=r;break}return this.lineCharOffset+=r.length,r}this.lineTokenOffset++,this.lineCharOffset=l}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3)break}if(i>1500)break}const n=(o=e,r=t,s=this.lineIdx,a=this.lineCharOffset,o!==s?dw(s-o,a):dw(0,a-r));var o,r,s,a;return new Ww(n,0,-1,Dw.getEmpty(),new Rw(n))}}class zw{constructor(e,t){this.text=e,this._offset=0,this.idx=0;const i=t.getRegExpStr()?new RegExp(t.getRegExpStr()+"|\n","g"):null,n=[];let o,r=0,s=0,a=0,l=0;const u=new Array;for(let h=0;h<60;h++)u.push(new Ww(dw(0,h),0,-1,Dw.getEmpty(),new Rw(dw(0,h))));const c=new Array;for(let h=0;h<60;h++)c.push(new Ww(dw(1,h),0,-1,Dw.getEmpty(),new Rw(dw(1,h))));if(i)for(i.lastIndex=0;null!==(o=i.exec(e));){const e=o.index,i=o[0];if("\n"===i)r++,s=e+1;else{if(a!==e){let t;if(l===r){const i=e-a;if(i<u.length)t=u[i];else{const e=dw(0,i);t=new Ww(e,0,-1,Dw.getEmpty(),new Rw(e))}}else{const i=r-l,n=e-s;if(1===i&&n<c.length)t=c[n];else{const e=dw(i,n);t=new Ww(e,0,-1,Dw.getEmpty(),new Rw(e))}}n.push(t)}n.push(t.getToken(i)),a=e+i.length,l=r}}const d=e.length;if(a!==d){const e=l===r?dw(0,d-a):dw(r-l,d-s);n.push(new Ww(e,0,-1,Dw.getEmpty(),new Rw(e)))}this.length=dw(r,d-s),this.tokens=n}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new pi}}class Kw{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(e,i){return t.getKey(`${e}:::${i}`)}const n=e.characterPair.getColorizedBrackets(),o=new Map,r=new Set;for(const[a,l]of n){r.add(a);let t=o.get(l);const n=i(e.languageId,a);t||(t={openingBrackets:Dw.getEmpty(),first:n},o.set(l,t)),t.openingBrackets=t.openingBrackets.add(n,kw)}const s=new Map;for(const[a,l]of o){const e=dw(0,a.length);s.set(a,new Ww(e,2,l.first,l.openingBrackets,Pw.create(e)))}for(const a of r){const t=dw(0,a.length),n=i(e.languageId,a);s.set(a,new Ww(t,1,n,Dw.getEmpty().add(n,kw),Pw.create(t)))}return new Kw(s)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>function(e){const t=ya(e);return/^[\w ]+$/.test(e)?`\\b${t}\\b`:t}(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e)}get isEmpty(){return 0===this.map.size}}class Uw{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){const t=this.languageIdToBracketTokens.get(e);if(!t)return!1;const i=Kw.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==i}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Kw.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function jw(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let i=e.length;for(;i>3;){const n=i>>1;for(let o=0;o<n;o++){const n=o<<1;e[o]=Lw.create23(e[n],e[n+1],n+3===i?e[n+2]:null,t)}i=n}return Lw.create23(e[0],e[1],i>=3?e[2]:null,t)}function qw(e,t){return Math.abs(e.listHeight-t.listHeight)}function $w(e,t){return e.listHeight===t.listHeight?Lw.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){let i=e=e.toMutable();const n=new Array;let o;for(;;){if(t.listHeight===i.listHeight){o=t;break}if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeLastElementMutable()}for(let r=n.length-1;r>=0;r--){const e=n[r];o?e.childrenLength>=3?o=Lw.create23(e.unappendChild(),o,null,!1):(e.appendChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?Lw.create23(e,o,null,!1):e}(e,t):function(e,t){let i=e=e.toMutable();const n=new Array;for(;t.listHeight!==i.listHeight;){if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeFirstElementMutable()}let o=t;for(let r=n.length-1;r>=0;r--){const e=n[r];o?e.childrenLength>=3?o=Lw.create23(o,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?Lw.create23(o,e,null,!1):e}(t,e)}class Gw{constructor(e){this.lastOffset=0,this.nextNodes=[e],this.offsets=[0],this.idxs=[]}readLongestNodeAt(e,t){if(pw(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=Yw(this.nextNodes);if(!i)return;const n=Yw(this.offsets);if(pw(e,n))return;if(pw(n,e))if(gw(n,i.length)<=e)this.nextNodeAfterCurrent();else{const e=Zw(i);-1!==e?(this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const e=Zw(i);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)}}}}nextNodeAfterCurrent(){for(;;){const e=Yw(this.offsets),t=Yw(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const i=Yw(this.nextNodes),n=Zw(i,this.idxs[this.idxs.length-1]);if(-1!==n){this.nextNodes.push(i.getChild(n)),this.offsets.push(gw(e,t.length)),this.idxs[this.idxs.length-1]=n;break}this.idxs.pop()}}}function Zw(e,t=-1){for(;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function Yw(e){return e.length>0?e[e.length-1]:void 0}function Jw(e,t,i,n){return new Xw(e,t,i,n).parseDocument()}class Xw{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new Gw(i):void 0,this.positionMapper=new Cw(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Dw.getEmpty());return e||(e=Lw.getEmpty()),e}parseList(e){const t=new Array;for(;;){const i=this.tokenizer.peek();if(!i||2===i.kind&&i.bracketIds.intersects(e))break;const n=this.parseChild(e);4===n.kind&&0===n.childrenLength||t.push(n)}return this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function i(){if(t>=e.length)return null;const i=t,n=e[i].listHeight;for(t++;t<e.length&&e[t].listHeight===n;)t++;return t-i>=2?jw(0===i&&t===e.length?e:e.slice(i,t),!1):e[i]}let n=i(),o=i();if(!o)return n;for(let r=i();r;r=i())qw(n,o)<=qw(o,r)?(n=$w(n,o),o=r):o=$w(o,r);return $w(n,o)}(t):jw(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(0!==t){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(i=>{if(!pw(i.length,t))return!1;return i.canBeReused(e)}));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new Bw(t.bracketIds,t.length);case 0:return t.astNode;case 1:const i=e.merge(t.bracketIds),n=this.parseList(i),o=this.tokenizer.peek();return o&&2===o.kind&&(o.bracketId===t.bracketId||o.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),xw.create(t.astNode,n,o.astNode)):xw.create(t.astNode,n,null);default:throw new Error("unexpected")}}}class Qw extends Si{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.cache=this._register(new Di),this.onDidChangeEmitter=new Ti,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(e.onDidChangeOptions((e=>{this.cache.clear(),this.updateCache()}))),this._register(e.onDidChangeLanguage((e=>{this.cache.clear(),this.updateCache()}))),this._register(this.languageConfigurationService.onDidChange((e=>{var t;e.languageId&&!(null===(t=this.cache.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(this.cache.clear(),this.updateCache())})))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const i=new yi;this.cache.value=(e=i.add(new ey(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),t=i,{object:e,dispose:()=>null==t?void 0:t.dispose()}),i.add(this.cache.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire();var e,t}handleContentChanged(e){var t;null===(t=this.cache.value)||void 0===t||t.object.handleContentChanged(e)}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketsInRange(e))||[]}}class ey extends Si{constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new Ti,this.denseKeyProvider=new Iw,this.brackets=new Uw(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(e.onBackgroundTokenizationStateChanged((()=>{if(2===e.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}))),this._register(e.onDidChangeTokens((({ranges:e})=>{const t=e.map((e=>new bw(dw(e.fromLineNumber-1,0),dw(e.toLineNumber,0),dw(e.toLineNumber-e.fromLineNumber+1,0))));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}))),0===e.backgroundTokenizationState){const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new zw(this.textModel.getValue(),e);this.initialAstWithoutTokens=Jw(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===e.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===e.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleContentChanged(e){const t=e.changes.map((e=>{const t=Hn.lift(e.range);return new bw(vw(t.getStartPosition()),vw(t.getEndPosition()),function(e){const t=La(e);return dw(t.length-1,t[t.length-1].length)}(e.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){const n=t;return Jw(new Vw(this.textModel,this.brackets),e,n,i)}getBracketsInRange(e){const t=dw(e.startLineNumber-1,e.startColumn-1),i=dw(e.endLineNumber-1,e.endColumn-1),n=new Array,o=this.initialAstWithoutTokens||this.astWithTokens;return ty(o,0,o.length,t,i,n),n}getBracketPairsInRange(e,t){const i=new Array,n=vw(e.getStartPosition()),o=vw(e.getEndPosition()),r=this.initialAstWithoutTokens||this.astWithTokens,s=new iy(i,t,this.textModel);return ny(r,0,r.length,n,o,s),i}}function ty(e,t,i,n,o,r,s=0){if(1===e.kind){const e=_w(t,i);r.push(new aw(e,s-1,!1))}else if(3===e.kind){const e=_w(t,i);r.push(new aw(e,s-1,!0))}else if(4===e.kind)for(const a of e.children)i=gw(t,a.length),mw(t,o)&&fw(i,n)&&ty(a,t,i,n,o,r,s),t=i;else if(2===e.kind){s++;{const a=e.openingBracket;i=gw(t,a.length),mw(t,o)&&fw(i,n)&&ty(a,t,i,n,o,r,s),t=i}if(e.child){const a=e.child;i=gw(t,a.length),mw(t,o)&&fw(i,n)&&ty(a,t,i,n,o,r,s),t=i}if(e.closingBracket){const a=e.closingBracket;i=gw(t,a.length),mw(t,o)&&fw(i,n)&&ty(a,t,i,n,o,r,s),t=i}}}class iy{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}function ny(e,t,i,n,o,r,s=0){var a;if(2===e.kind){const n=gw(t,e.openingBracket.length);let o=-1;r.includeMinIndentation&&(o=e.computeMinIndentation(t,r.textModel)),r.result.push(new lw(_w(t,i),_w(t,n),e.closingBracket?_w(gw(n,(null===(a=e.child)||void 0===a?void 0:a.length)||0),i):void 0,s,o)),s++}let l=t;for(const u of e.children){const e=l;l=gw(l,u.length),mw(e,o)&&mw(n,l)&&ny(u,e,l,n,o,r,s)}}const oy="base.contributions.colors";const ry=new class{constructor(){this._onDidChangeSchema=new Ti,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){let r={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=r;let s={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(s.deprecationMessage=o),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){return ik(i.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{let i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function sy(e,t,i,n,o){return ry.registerColor(e,t,i,n,o)}yh.add(oy,ry);const ay=sy("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},it("vs/platform/theme/common/colorRegistry","foreground","Overall foreground color. This color is only used if not overridden by a component.")),ly=sy("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},it("vs/platform/theme/common/colorRegistry","errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),uy=sy("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},it("vs/platform/theme/common/colorRegistry","iconForeground","The default color for icons in the workbench.")),cy=sy("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},it("vs/platform/theme/common/colorRegistry","focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),dy=sy("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},it("vs/platform/theme/common/colorRegistry","contrastBorder","An extra border around elements to separate them from others for greater contrast.")),hy=sy("contrastActiveBorder",{light:null,dark:null,hc:cy},it("vs/platform/theme/common/colorRegistry","activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),gy=sy("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},it("vs/platform/theme/common/colorRegistry","textLinkForeground","Foreground color for links in text.")),py=sy("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},it("vs/platform/theme/common/colorRegistry","textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),my=sy("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:ew.black},it("vs/platform/theme/common/colorRegistry","textCodeBlockBackground","Background color for code blocks in text.")),fy=sy("widget.shadow",{dark:QD(ew.black,.36),light:QD(ew.black,.16),hc:null},it("vs/platform/theme/common/colorRegistry","widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),vy=sy("input.background",{dark:"#3C3C3C",light:ew.white,hc:ew.black},it("vs/platform/theme/common/colorRegistry","inputBoxBackground","Input box background.")),_y=sy("input.foreground",{dark:ay,light:ay,hc:ay},it("vs/platform/theme/common/colorRegistry","inputBoxForeground","Input box foreground.")),by=sy("input.border",{dark:null,light:null,hc:dy},it("vs/platform/theme/common/colorRegistry","inputBoxBorder","Input box border.")),Cy=sy("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:dy},it("vs/platform/theme/common/colorRegistry","inputBoxActiveOptionBorder","Border color of activated options in input fields.")),wy=sy("inputOption.activeBackground",{dark:QD(cy,.4),light:QD(cy,.2),hc:ew.transparent},it("vs/platform/theme/common/colorRegistry","inputOption.activeBackground","Background color of activated options in input fields.")),yy=sy("inputOption.activeForeground",{dark:ew.white,light:ew.black,hc:null},it("vs/platform/theme/common/colorRegistry","inputOption.activeForeground","Foreground color of activated options in input fields.")),Sy=sy("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:ew.black},it("vs/platform/theme/common/colorRegistry","inputValidationInfoBackground","Input validation background color for information severity.")),Dy=sy("inputValidation.infoForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","inputValidationInfoForeground","Input validation foreground color for information severity.")),ky=sy("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:dy},it("vs/platform/theme/common/colorRegistry","inputValidationInfoBorder","Input validation border color for information severity.")),Iy=sy("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:ew.black},it("vs/platform/theme/common/colorRegistry","inputValidationWarningBackground","Input validation background color for warning severity.")),Ey=sy("inputValidation.warningForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","inputValidationWarningForeground","Input validation foreground color for warning severity.")),xy=sy("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:dy},it("vs/platform/theme/common/colorRegistry","inputValidationWarningBorder","Input validation border color for warning severity.")),Ly=sy("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:ew.black},it("vs/platform/theme/common/colorRegistry","inputValidationErrorBackground","Input validation background color for error severity.")),Ay=sy("inputValidation.errorForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","inputValidationErrorForeground","Input validation foreground color for error severity.")),Ny=sy("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:dy},it("vs/platform/theme/common/colorRegistry","inputValidationErrorBorder","Input validation border color for error severity.")),Ty=sy("dropdown.background",{dark:"#3C3C3C",light:ew.white,hc:ew.black},it("vs/platform/theme/common/colorRegistry","dropdownBackground","Dropdown background.")),Oy=sy("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:ew.white},it("vs/platform/theme/common/colorRegistry","dropdownForeground","Dropdown foreground.")),Fy=sy("button.foreground",{dark:ew.white,light:ew.white,hc:ew.white},it("vs/platform/theme/common/colorRegistry","buttonForeground","Button foreground color.")),My=sy("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},it("vs/platform/theme/common/colorRegistry","buttonBackground","Button background color.")),Ry=sy("button.hoverBackground",{dark:XD(My,.2),light:JD(My,.2),hc:null},it("vs/platform/theme/common/colorRegistry","buttonHoverBackground","Button background color when hovering.")),Py=sy("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:ew.black},it("vs/platform/theme/common/colorRegistry","badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),By=sy("badge.foreground",{dark:ew.white,light:"#333",hc:ew.white},it("vs/platform/theme/common/colorRegistry","badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Wy=sy("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},it("vs/platform/theme/common/colorRegistry","scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Vy=sy("scrollbarSlider.background",{dark:ew.fromHex("#797979").transparent(.4),light:ew.fromHex("#646464").transparent(.4),hc:QD(dy,.6)},it("vs/platform/theme/common/colorRegistry","scrollbarSliderBackground","Scrollbar slider background color.")),Hy=sy("scrollbarSlider.hoverBackground",{dark:ew.fromHex("#646464").transparent(.7),light:ew.fromHex("#646464").transparent(.7),hc:QD(dy,.8)},it("vs/platform/theme/common/colorRegistry","scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),zy=sy("scrollbarSlider.activeBackground",{dark:ew.fromHex("#BFBFBF").transparent(.4),light:ew.fromHex("#000000").transparent(.6),hc:dy},it("vs/platform/theme/common/colorRegistry","scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Ky=sy("progressBar.background",{dark:ew.fromHex("#0E70C0"),light:ew.fromHex("#0E70C0"),hc:dy},it("vs/platform/theme/common/colorRegistry","progressBarBackground","Background color of the progress bar that can show for long running operations.")),Uy=sy("editorError.background",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),jy=sy("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},it("vs/platform/theme/common/colorRegistry","editorError.foreground","Foreground color of error squigglies in the editor.")),qy=sy("editorError.border",{dark:null,light:null,hc:ew.fromHex("#E47777").transparent(.8)},it("vs/platform/theme/common/colorRegistry","errorBorder","Border color of error boxes in the editor.")),$y=sy("editorWarning.background",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Gy=sy("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},it("vs/platform/theme/common/colorRegistry","editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Zy=sy("editorWarning.border",{dark:null,light:null,hc:ew.fromHex("#FFCC00").transparent(.8)},it("vs/platform/theme/common/colorRegistry","warningBorder","Border color of warning boxes in the editor.")),Yy=sy("editorInfo.background",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Jy=sy("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},it("vs/platform/theme/common/colorRegistry","editorInfo.foreground","Foreground color of info squigglies in the editor.")),Xy=sy("editorInfo.border",{dark:null,light:null,hc:ew.fromHex("#3794FF").transparent(.8)},it("vs/platform/theme/common/colorRegistry","infoBorder","Border color of info boxes in the editor.")),Qy=sy("editorHint.foreground",{dark:ew.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},it("vs/platform/theme/common/colorRegistry","editorHint.foreground","Foreground color of hint squigglies in the editor.")),eS=sy("editorHint.border",{dark:null,light:null,hc:ew.fromHex("#eeeeee").transparent(.8)},it("vs/platform/theme/common/colorRegistry","hintBorder","Border color of hint boxes in the editor.")),tS=sy("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:ew.black},it("vs/platform/theme/common/colorRegistry","editorBackground","Editor background color.")),iS=sy("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:ew.white},it("vs/platform/theme/common/colorRegistry","editorForeground","Editor default foreground color.")),nS=sy("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},it("vs/platform/theme/common/colorRegistry","editorWidgetBackground","Background color of editor widgets, such as find/replace.")),oS=sy("editorWidget.foreground",{dark:ay,light:ay,hc:ay},it("vs/platform/theme/common/colorRegistry","editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),rS=sy("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:dy},it("vs/platform/theme/common/colorRegistry","editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),sS=sy("editorWidget.resizeBorder",{light:null,dark:null,hc:null},it("vs/platform/theme/common/colorRegistry","editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),aS=sy("quickInput.background",{dark:nS,light:nS,hc:nS},it("vs/platform/theme/common/colorRegistry","pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),lS=sy("quickInput.foreground",{dark:oS,light:oS,hc:oS},it("vs/platform/theme/common/colorRegistry","pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),uS=sy("quickInputTitle.background",{dark:new ew(new JC(255,255,255,.105)),light:new ew(new JC(0,0,0,.06)),hc:"#000000"},it("vs/platform/theme/common/colorRegistry","pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),cS=sy("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:ew.white},it("vs/platform/theme/common/colorRegistry","pickerGroupForeground","Quick picker color for grouping labels.")),dS=sy("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:ew.white},it("vs/platform/theme/common/colorRegistry","pickerGroupBorder","Quick picker color for grouping borders.")),hS=sy("keybindingLabel.background",{dark:new ew(new JC(128,128,128,.17)),light:new ew(new JC(221,221,221,.4)),hc:ew.transparent},it("vs/platform/theme/common/colorRegistry","keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),gS=sy("keybindingLabel.foreground",{dark:ew.fromHex("#CCCCCC"),light:ew.fromHex("#555555"),hc:ew.white},it("vs/platform/theme/common/colorRegistry","keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),pS=sy("keybindingLabel.border",{dark:new ew(new JC(51,51,51,.6)),light:new ew(new JC(204,204,204,.4)),hc:new ew(new JC(111,195,223))},it("vs/platform/theme/common/colorRegistry","keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),mS=sy("keybindingLabel.bottomBorder",{dark:new ew(new JC(68,68,68,.6)),light:new ew(new JC(187,187,187,.4)),hc:new ew(new JC(111,195,223))},it("vs/platform/theme/common/colorRegistry","keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),fS=sy("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},it("vs/platform/theme/common/colorRegistry","editorSelectionBackground","Color of the editor selection.")),vS=sy("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},it("vs/platform/theme/common/colorRegistry","editorSelectionForeground","Color of the selected text for high contrast.")),_S=sy("editor.inactiveSelectionBackground",{light:QD(fS,.5),dark:QD(fS,.5),hc:QD(fS,.5)},it("vs/platform/theme/common/colorRegistry","editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),bS=sy("editor.selectionHighlightBackground",{light:tk(fS,tS,.3,.6),dark:tk(fS,tS,.3,.6),hc:null},it("vs/platform/theme/common/colorRegistry","editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),CS=sy("editor.selectionHighlightBorder",{light:null,dark:null,hc:hy},it("vs/platform/theme/common/colorRegistry","editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),wS=sy("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},it("vs/platform/theme/common/colorRegistry","editorFindMatch","Color of the current search match.")),yS=sy("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},it("vs/platform/theme/common/colorRegistry","findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),SS=sy("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},it("vs/platform/theme/common/colorRegistry","findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),DS=sy("editor.findMatchBorder",{light:null,dark:null,hc:hy},it("vs/platform/theme/common/colorRegistry","editorFindMatchBorder","Border color of the current search match.")),kS=sy("editor.findMatchHighlightBorder",{light:null,dark:null,hc:hy},it("vs/platform/theme/common/colorRegistry","findMatchHighlightBorder","Border color of the other search matches.")),IS=sy("editor.findRangeHighlightBorder",{dark:null,light:null,hc:QD(hy,.4)},it("vs/platform/theme/common/colorRegistry","findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),ES=sy("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},it("vs/platform/theme/common/colorRegistry","hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),xS=sy("editorHoverWidget.background",{light:nS,dark:nS,hc:nS},it("vs/platform/theme/common/colorRegistry","hoverBackground","Background color of the editor hover.")),LS=sy("editorHoverWidget.foreground",{light:oS,dark:oS,hc:oS},it("vs/platform/theme/common/colorRegistry","hoverForeground","Foreground color of the editor hover.")),AS=sy("editorHoverWidget.border",{light:rS,dark:rS,hc:rS},it("vs/platform/theme/common/colorRegistry","hoverBorder","Border color of the editor hover.")),NS=sy("editorHoverWidget.statusBarBackground",{dark:XD(xS,.2),light:JD(xS,.05),hc:nS},it("vs/platform/theme/common/colorRegistry","statusBarBackground","Background color of the editor hover status bar.")),TS=sy("editorLink.activeForeground",{dark:"#4E94CE",light:ew.blue,hc:ew.cyan},it("vs/platform/theme/common/colorRegistry","activeLinkForeground","Color of active links.")),OS=sy("editorInlayHint.foreground",{dark:QD(By,.8),light:QD(By,.8),hc:By},it("vs/platform/theme/common/colorRegistry","editorInlayHintForeground","Foreground color of inline hints")),FS=sy("editorInlayHint.background",{dark:QD(Py,.6),light:QD(Py,.3),hc:Py},it("vs/platform/theme/common/colorRegistry","editorInlayHintBackground","Background color of inline hints")),MS=sy("editorInlayHint.typeForeground",{dark:OS,light:OS,hc:OS},it("vs/platform/theme/common/colorRegistry","editorInlayHintForegroundTypes","Foreground color of inline hints for types")),RS=sy("editorInlayHint.typeBackground",{dark:FS,light:FS,hc:FS},it("vs/platform/theme/common/colorRegistry","editorInlayHintBackgroundTypes","Background color of inline hints for types")),PS=sy("editorInlayHint.parameterForeground",{dark:OS,light:OS,hc:OS},it("vs/platform/theme/common/colorRegistry","editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),BS=sy("editorInlayHint.parameterBackground",{dark:FS,light:FS,hc:FS},it("vs/platform/theme/common/colorRegistry","editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),WS=sy("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},it("vs/platform/theme/common/colorRegistry","editorLightBulbForeground","The color used for the lightbulb actions icon.")),VS=sy("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},it("vs/platform/theme/common/colorRegistry","editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),HS=new ew(new JC(155,185,85,.2)),zS=new ew(new JC(255,0,0,.2)),KS=sy("diffEditor.insertedTextBackground",{dark:HS,light:HS,hc:null},it("vs/platform/theme/common/colorRegistry","diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),US=sy("diffEditor.removedTextBackground",{dark:zS,light:zS,hc:null},it("vs/platform/theme/common/colorRegistry","diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),jS=sy("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},it("vs/platform/theme/common/colorRegistry","diffEditorInsertedOutline","Outline color for the text that got inserted.")),qS=sy("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},it("vs/platform/theme/common/colorRegistry","diffEditorRemovedOutline","Outline color for text that got removed.")),$S=sy("diffEditor.border",{dark:null,light:null,hc:dy},it("vs/platform/theme/common/colorRegistry","diffEditorBorder","Border color between the two text editors.")),GS=sy("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},it("vs/platform/theme/common/colorRegistry","diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ZS=sy("list.focusBackground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),YS=sy("list.focusForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),JS=sy("list.focusOutline",{dark:cy,light:cy,hc:hy},it("vs/platform/theme/common/colorRegistry","listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),XS=sy("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},it("vs/platform/theme/common/colorRegistry","listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),QS=sy("list.activeSelectionForeground",{dark:ew.white,light:ew.white,hc:null},it("vs/platform/theme/common/colorRegistry","listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),eD=sy("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tD=sy("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},it("vs/platform/theme/common/colorRegistry","listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),iD=sy("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),nD=sy("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),oD=sy("list.inactiveFocusBackground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),rD=sy("list.inactiveFocusOutline",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sD=sy("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},it("vs/platform/theme/common/colorRegistry","listHoverBackground","List/Tree background when hovering over items using the mouse.")),aD=sy("list.hoverForeground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),lD=sy("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},it("vs/platform/theme/common/colorRegistry","listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),uD=sy("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:cy},it("vs/platform/theme/common/colorRegistry","highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),cD=sy("list.focusHighlightForeground",{dark:uD,light:(dD=XS,hD=uD,gD="#9DDDFF",{op:5,if:dD,then:hD,else:gD}),hc:uD},it("vs/platform/theme/common/colorRegistry","listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));var dD,hD,gD;const pD=sy("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:ew.black},it("vs/platform/theme/common/colorRegistry","listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),mD=sy("listFilterWidget.outline",{dark:ew.transparent,light:ew.transparent,hc:"#f38518"},it("vs/platform/theme/common/colorRegistry","listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),fD=sy("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:dy},it("vs/platform/theme/common/colorRegistry","listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),vD=sy("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},it("vs/platform/theme/common/colorRegistry","treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),_D=sy("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},it("vs/platform/theme/common/colorRegistry","treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),bD=sy("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,it("vs/platform/theme/common/colorRegistry","quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),CD=sy("quickInputList.focusForeground",{dark:QS,light:QS,hc:QS},it("vs/platform/theme/common/colorRegistry","quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),wD=sy("quickInputList.focusIconForeground",{dark:eD,light:eD,hc:eD},it("vs/platform/theme/common/colorRegistry","quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),yD=sy("quickInputList.focusBackground",{dark:ek(bD,XS),light:ek(bD,XS),hc:null},it("vs/platform/theme/common/colorRegistry","quickInput.listFocusBackground","Quick picker background color for the focused item.")),SD=sy("menu.border",{dark:null,light:null,hc:dy},it("vs/platform/theme/common/colorRegistry","menuBorder","Border color of menus.")),DD=sy("menu.foreground",{dark:Oy,light:ay,hc:Oy},it("vs/platform/theme/common/colorRegistry","menuForeground","Foreground color of menu items.")),kD=sy("menu.background",{dark:Ty,light:Ty,hc:Ty},it("vs/platform/theme/common/colorRegistry","menuBackground","Background color of menu items.")),ID=sy("menu.selectionForeground",{dark:QS,light:QS,hc:QS},it("vs/platform/theme/common/colorRegistry","menuSelectionForeground","Foreground color of the selected menu item in menus.")),ED=sy("menu.selectionBackground",{dark:XS,light:XS,hc:XS},it("vs/platform/theme/common/colorRegistry","menuSelectionBackground","Background color of the selected menu item in menus.")),xD=sy("menu.selectionBorder",{dark:null,light:null,hc:hy},it("vs/platform/theme/common/colorRegistry","menuSelectionBorder","Border color of the selected menu item in menus.")),LD=sy("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:dy},it("vs/platform/theme/common/colorRegistry","menuSeparatorBackground","Color of a separator menu item in menus.")),AD=sy("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},it("vs/platform/theme/common/colorRegistry","toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),ND=sy("editor.snippetTabstopHighlightBackground",{dark:new ew(new JC(124,124,124,.3)),light:new ew(new JC(10,50,100,.2)),hc:new ew(new JC(124,124,124,.3))},it("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),TD=sy("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),OD=sy("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),FD=sy("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new ew(new JC(10,50,100,.5)),hc:"#525252"},it("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),MD=sy("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},it("vs/platform/theme/common/colorRegistry","overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),RD=sy("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},it("vs/platform/theme/common/colorRegistry","overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),PD=sy("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},it("vs/platform/theme/common/colorRegistry","minimapFindMatchHighlight","Minimap marker color for find matches."),!0),BD=sy("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},it("vs/platform/theme/common/colorRegistry","minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),WD=sy("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},it("vs/platform/theme/common/colorRegistry","minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),VD=sy("minimap.errorHighlight",{dark:new ew(new JC(255,18,18,.7)),light:new ew(new JC(255,18,18,.7)),hc:new ew(new JC(255,50,50,1))},it("vs/platform/theme/common/colorRegistry","minimapError","Minimap marker color for errors.")),HD=sy("minimap.warningHighlight",{dark:Gy,light:Gy,hc:Zy},it("vs/platform/theme/common/colorRegistry","overviewRuleWarning","Minimap marker color for warnings.")),zD=sy("minimap.background",{dark:null,light:null,hc:null},it("vs/platform/theme/common/colorRegistry","minimapBackground","Minimap background color.")),KD=sy("minimap.foregroundOpacity",{dark:ew.fromHex("#000f"),light:ew.fromHex("#000f"),hc:ew.fromHex("#000f")},it("vs/platform/theme/common/colorRegistry","minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),UD=sy("minimapSlider.background",{light:QD(Vy,.5),dark:QD(Vy,.5),hc:QD(Vy,.5)},it("vs/platform/theme/common/colorRegistry","minimapSliderBackground","Minimap slider background color.")),jD=sy("minimapSlider.hoverBackground",{light:QD(Hy,.5),dark:QD(Hy,.5),hc:QD(Hy,.5)},it("vs/platform/theme/common/colorRegistry","minimapSliderHoverBackground","Minimap slider background color when hovering.")),qD=sy("minimapSlider.activeBackground",{light:QD(zy,.5),dark:QD(zy,.5),hc:QD(zy,.5)},it("vs/platform/theme/common/colorRegistry","minimapSliderActiveBackground","Minimap slider background color when clicked on.")),$D=sy("problemsErrorIcon.foreground",{dark:jy,light:jy,hc:jy},it("vs/platform/theme/common/colorRegistry","problemsErrorIconForeground","The color used for the problems error icon.")),GD=sy("problemsWarningIcon.foreground",{dark:Gy,light:Gy,hc:Gy},it("vs/platform/theme/common/colorRegistry","problemsWarningIconForeground","The color used for the problems warning icon.")),ZD=sy("problemsInfoIcon.foreground",{dark:Jy,light:Jy,hc:Jy},it("vs/platform/theme/common/colorRegistry","problemsInfoIconForeground","The color used for the problems info icon."));function YD(e,t){var i,n,o;switch(e.op){case 0:return null===(i=ik(e.value,t))||void 0===i?void 0:i.darken(e.factor);case 1:return null===(n=ik(e.value,t))||void 0===n?void 0:n.lighten(e.factor);case 2:return null===(o=ik(e.value,t))||void 0===o?void 0:o.transparent(e.factor);case 3:for(const i of e.values){const e=ik(i,t);if(e)return e}return;case 5:return ik(t.defines(e.if)?e.then:e.else,t);case 4:const r=ik(e.value,t);if(!r)return;const s=ik(e.background,t);return s?r.isDarkerThan(s)?ew.getLighterColor(r,s,e.factor).transparent(e.transparency):ew.getDarkerColor(r,s,e.factor).transparent(e.transparency):r.transparent(e.factor*e.transparency);default:throw function(e,t="Unreachable"){throw new Error(t)}()}}function JD(e,t){return{op:0,value:e,factor:t}}function XD(e,t){return{op:1,value:e,factor:t}}function QD(e,t){return{op:2,value:e,factor:t}}function ek(...e){return{op:3,values:e}}function tk(e,t,i,n){return{op:4,value:e,background:t,factor:i,transparency:n}}function ik(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?ew.fromHex(e):t.getColor(e):e instanceof ew?e:"object"==typeof e?YD(e,t):void 0}let nk=yh.as(Sh);nk.registerSchema("vscode://schemas/workbench-colors",ry.getColorSchema());const ok=new ts((()=>nk.notifySchemaChanged("vscode://schemas/workbench-colors")),200);ry.onDidChangeSchema((()=>{ok.isScheduled()||ok.schedule()}));const rk=sy("editor.lineHighlightBackground",{dark:null,light:null,hc:null},it("vs/editor/common/view/editorColorRegistry","lineHighlight","Background color for the highlight of line at the cursor position.")),sk=sy("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},it("vs/editor/common/view/editorColorRegistry","lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),ak=sy("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},it("vs/editor/common/view/editorColorRegistry","rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),lk=sy("editor.rangeHighlightBorder",{dark:null,light:null,hc:hy},it("vs/editor/common/view/editorColorRegistry","rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),uk=sy("editor.symbolHighlightBackground",{dark:yS,light:yS,hc:null},it("vs/editor/common/view/editorColorRegistry","symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),ck=sy("editor.symbolHighlightBorder",{dark:null,light:null,hc:hy},it("vs/editor/common/view/editorColorRegistry","symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),dk=sy("editorCursor.foreground",{dark:"#AEAFAD",light:ew.black,hc:ew.white},it("vs/editor/common/view/editorColorRegistry","caret","Color of the editor cursor.")),hk=sy("editorCursor.background",null,it("vs/editor/common/view/editorColorRegistry","editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),gk=sy("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},it("vs/editor/common/view/editorColorRegistry","editorWhitespaces","Color of whitespace characters in the editor.")),pk=sy("editorIndentGuide.background",{dark:gk,light:gk,hc:gk},it("vs/editor/common/view/editorColorRegistry","editorIndentGuides","Color of the editor indentation guides.")),mk=sy("editorIndentGuide.activeBackground",{dark:gk,light:gk,hc:gk},it("vs/editor/common/view/editorColorRegistry","editorActiveIndentGuide","Color of the active editor indentation guides.")),fk=sy("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:ew.white},it("vs/editor/common/view/editorColorRegistry","editorLineNumbers","Color of editor line numbers.")),vk=sy("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:hy},it("vs/editor/common/view/editorColorRegistry","editorActiveLineNumber","Color of editor active line number"),!1,it("vs/editor/common/view/editorColorRegistry","deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),_k=sy("editorLineNumber.activeForeground",{dark:vk,light:vk,hc:vk},it("vs/editor/common/view/editorColorRegistry","editorActiveLineNumber","Color of editor active line number")),bk=sy("editorRuler.foreground",{dark:"#5A5A5A",light:ew.lightgrey,hc:ew.white},it("vs/editor/common/view/editorColorRegistry","editorRuler","Color of the editor rulers.")),Ck=sy("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},it("vs/editor/common/view/editorColorRegistry","editorCodeLensForeground","Foreground color of editor CodeLens")),wk=sy("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},it("vs/editor/common/view/editorColorRegistry","editorBracketMatchBackground","Background color behind matching brackets")),yk=sy("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:dy},it("vs/editor/common/view/editorColorRegistry","editorBracketMatchBorder","Color for matching brackets boxes")),Sk=sy("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},it("vs/editor/common/view/editorColorRegistry","editorOverviewRulerBorder","Color of the overview ruler border.")),Dk=sy("editorOverviewRuler.background",null,it("vs/editor/common/view/editorColorRegistry","editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),kk=sy("editorGutter.background",{dark:tS,light:tS,hc:tS},it("vs/editor/common/view/editorColorRegistry","editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Ik=sy("editorUnnecessaryCode.border",{dark:null,light:null,hc:ew.fromHex("#fff").transparent(.8)},it("vs/editor/common/view/editorColorRegistry","unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),Ek=sy("editorUnnecessaryCode.opacity",{dark:ew.fromHex("#000a"),light:ew.fromHex("#0007"),hc:null},it("vs/editor/common/view/editorColorRegistry","unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),xk=sy("editorGhostText.border",{dark:null,light:null,hc:ew.fromHex("#fff").transparent(.8)},it("vs/editor/common/view/editorColorRegistry","editorGhostTextBorder","Border color of ghost text in the editor.")),Lk=sy("editorGhostText.foreground",{dark:ew.fromHex("#ffffff56"),light:ew.fromHex("#0007"),hc:null},it("vs/editor/common/view/editorColorRegistry","editorGhostTextForeground","Foreground color of the ghost text in the editor.")),Ak=new ew(new JC(0,122,204,.6)),Nk=sy("editorOverviewRuler.rangeHighlightForeground",{dark:Ak,light:Ak,hc:Ak},it("vs/editor/common/view/editorColorRegistry","overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Tk=sy("editorOverviewRuler.errorForeground",{dark:new ew(new JC(255,18,18,.7)),light:new ew(new JC(255,18,18,.7)),hc:new ew(new JC(255,50,50,1))},it("vs/editor/common/view/editorColorRegistry","overviewRuleError","Overview ruler marker color for errors.")),Ok=sy("editorOverviewRuler.warningForeground",{dark:Gy,light:Gy,hc:Zy},it("vs/editor/common/view/editorColorRegistry","overviewRuleWarning","Overview ruler marker color for warnings.")),Fk=sy("editorOverviewRuler.infoForeground",{dark:Jy,light:Jy,hc:Xy},it("vs/editor/common/view/editorColorRegistry","overviewRuleInfo","Overview ruler marker color for infos.")),Mk=sy("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},it("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Rk=sy("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},it("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Pk=sy("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},it("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Bk=sy("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Wk=sy("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Vk=sy("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Hk=sy("editorBracketHighlight.unexpectedBracket.foreground",{dark:new ew(new JC(255,18,18,.8)),light:new ew(new JC(255,18,18,.8)),hc:new ew(new JC(255,50,50,1))},it("vs/editor/common/view/editorColorRegistry","editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),zk=sy("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Kk=sy("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Uk=sy("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),jk=sy("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),qk=sy("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),$k=sy("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Gk=sy("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Zk=sy("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Yk=sy("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Jk=sy("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Xk=sy("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Qk=sy("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},it("vs/editor/common/view/editorColorRegistry","editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));qv(((e,t)=>{const i=e.getColor(tS);i&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${i}; }`);const n=e.getColor(iS);n&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${n}; }`);const o=e.getColor(kk);o&&t.addRule(`.monaco-editor .margin { background-color: ${o}; }`);const r=e.getColor(ak);r&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${r}; }`);const s=e.getColor(lk);s&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${s}; }`);const a=e.getColor(uk);a&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=e.getColor(ck);l&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${l}; }`);const u=e.getColor(gk);u&&(t.addRule(`.monaco-editor .mtkw { color: ${u} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${u} !important; }`))}));class eI extends Si{constructor(e){super(),this.textModel=e,this.colorProvider=new tI,this.onDidChangeEmitter=new Ti,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.onDidChangeOptions((t=>{this.colorizationOptions=e.getOptions().bracketPairColorizationOptions}))),this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}getDecorationsInRange(e,t,i){if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];const n=new Array,o=this.textModel.bracketPairs.getBracketsInRange(e);for(const r of o)n.push({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(r)},ownerId:0,range:r.range});return n}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new Hn(1,1,this.textModel.getLineCount(),1),e,t):[]}}class tI{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}qv(((e,t)=>{const i=[Mk,Rk,Pk,Bk,Wk,Vk],n=new tI;t.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${e.getColor(Hk)}; }`);let o=i.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let r=0;r<30;r++){const e=o[r%o.length];t.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(r)} { color: ${e}; }`)}}));var iI=function(e,t){return function(i,n){t(i,n,e)}};function nI(e){const t=new PC;return t.acceptChunk(e),t.finish()}function oI(e,t){return("string"==typeof e?nI(e):e).create(t)}let rI=0;class sI{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;for(;;){let n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=65536)return e.join("")}}}const aI=()=>{throw new Error("Invalid change accessor")};class lI{constructor(){this._searchCanceledBrand=void 0}}function uI(e){return e instanceof lI?null:e}lI.INSTANCE=new lI;let cI=class e extends Si{constructor(t,i,n,o=null,r,s,a){super(),this._undoRedoService=r,this._modeService=s,this._languageConfigurationService=a,this._onWillDispose=this._register(new Ti),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new SI((e=>this.handleBeforeFireDecorationsChangedEvent(e)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new Ti),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new Ti),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new Ti),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new Ti),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new Ti),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new Ti),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new DI),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new Ti),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent((e=>{this._onDidChangeContentOrInjectedText.fire(e.rawContentChangedEvent)}))),rI++,this.id="$model"+rI,this.isForSimpleWidget=i.isForSimpleWidget,this._associatedResource=null==o?Ln.parse("inmemory://model/"+rI):o,this._attachedEditorCount=0;const{textBuffer:l,disposable:u}=oI(t,i.defaultEOL);this._buffer=l,this._bufferDisposable=u,this._options=e.resolveOptions(this._buffer,i);const c=this._buffer.getLineCount(),d=this._buffer.getValueLengthInRange(new Hn(1,1,c,this._buffer.getLineLength(c)+1),0);i.largeFileOptimizations?this._isTooLargeForTokenization=d>e.LARGE_FILE_SIZE_THRESHOLD||c>e.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=d>e.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=n||yd,this._languageRegistryListener=this._languageConfigurationService.onDidChange((e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._instanceId=al(rI),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new pI,this._commandManager=new yb(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new FC(this._modeService.languageIdCodec),this._tokens2=new OC(this._modeService.languageIdCodec),this._tokenization=new GC(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new Qw(this,this._languageConfigurationService)),this._decorationProvider=this._register(new eI(this)),this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})))}static resolveOptions(e,t){if(t.detectIndentation){const i=kb(e,t.tabSize,t.insertSpaces);return new Uu({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Uu({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent((t=>e(t.contentChangedEvent)))}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(2===this._backgroundTokenizationState)return;const t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new MC([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._bracketPairColorizer.handleContentChanged(t),this._isDisposing||this._eventEmitter.fire(new qC(e,t))}setValue(e){if(this._assertNotDisposed(),null===e)return;const{textBuffer:t,disposable:i}=oI(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,r,s){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:s}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new pI,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new UC([new BC],this._versionId,!1,!1),this._createContentChanged2(new Hn(1,1,o,r),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new UC([new KC],this._versionId,!1,!1),this._createContentChanged2(new Hn(1,1,o,r),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range,r=n.cachedAbsoluteStart-n.start,s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);n.cachedAbsoluteStart=s,n.cachedAbsoluteEnd=a,n.cachedVersionId=e,n.start=s-r,n.end=a-r,jb(n)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=1e4?t+=i:e+=i}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,i=void 0!==e.indentSize?e.indentSize:this._options.indentSize,n=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=void 0!==e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,s=new Uu({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:r});if(this._options.equals(s))return;let a=this._options.createChangeEvent(s);this._options=s,this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();let i=kb(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let n=0;for(let r=0;r<e.length;r++)"\t"===e.charAt(r)?n+=t:n++;let o="";if(!i){let e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)o+="\t"}for(let r=0;r<n;r++)o+=" ";return o}static normalizeIndentation(t,i,n){let o=Aa(t);return-1===o&&(o=t.length),e._normalizeIndentationFromWhitespace(t.substring(0,o),i,n)+t.substring(o)}normalizeIndentation(t){return this._assertNotDisposed(),e.normalizeIndentation(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(el.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new sI(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o=Math.floor("number"!=typeof i||isNaN(i)?1:i),r=Math.floor("number"!=typeof n||isNaN(n)?1:n);if(o<1)o=1,r=1;else if(o>t)o=t,r=this.getLineMaxColumn(o);else if(r<=1)r=1;else{const e=this.getLineMaxColumn(o);r>=e&&(r=e)}const s=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof s||isNaN(s)?1:s),u=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(l<1)l=1,u=1;else if(l>t)l=t,u=this.getLineMaxColumn(l);else if(u<=1)u=1;else{const e=this.getLineMaxColumn(l);u>=e&&(u=e)}return i===o&&n===r&&s===l&&a===u&&e instanceof Hn&&!(e instanceof zn)?e:new Hn(o,r,l,u)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){if(Ka(this._buffer.getLineCharCode(e,t-2)))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=Math.floor("number"!=typeof t||isNaN(t)?1:t),r=this._buffer.getLineCount();if(n<1)return new Vn(1,1);if(n>r)return new Vn(r,this.getLineMaxColumn(r));if(o<=1)return new Vn(n,1);const s=this.getLineMaxColumn(n);if(o>=s)return new Vn(n,s);if(1===i){if(Ka(this._buffer.getLineCharCode(n,o-2)))return new Vn(n,o-1)}return new Vn(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof Vn&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(o,r,0))return!1;if(1===t){const e=n>1?this._buffer.getLineCharCode(i,n-2):0,t=r>1&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,s=Ka(e),a=Ka(t);return!s&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof Hn&&!(e instanceof zn)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,o=t.column,r=i.lineNumber,s=i.column;{const e=o>1?this._buffer.getLineCharCode(n,o-2):0,t=s>1&&s<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,s-2):0,i=Ka(e),a=Ka(t);return i||a?n===r&&o===s?new Hn(n,o-1,r,s-1):i&&a?new Hn(n,o-1,r,s+1):i?new Hn(n,o-1,r,s):new Hn(n,o,r,s+1):new Hn(n,o,r,s)}}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new Hn(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,r,s=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>Hn.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let u;if(l.push(a.reduce(((e,t)=>Hn.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!i&&e.indexOf("\n")<0){const t=new uC(e,i,n,o).parseSearchRequest();if(!t)return[];u=e=>this.findMatchesLineByLine(e,t,r,s)}else u=t=>gC.findMatches(this,new uC(e,i,n,o),t,r,s);return l.map(u).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,i,n,o,r){this._assertNotDisposed();const s=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const t=new uC(e,i,n,o).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new Hn(s.lineNumber,s.column,a,this.getLineMaxColumn(a)),u=this.findMatchesLineByLine(l,t,r,1);return gC.findNextMatch(this,new uC(e,i,n,o),s,r),u.length>0?u[0]:(l=new Hn(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),u=this.findMatchesLineByLine(l,t,r,1),u.length>0?u[0]:null)}return gC.findNextMatch(this,new uC(e,i,n,o),s,r)}findPreviousMatch(e,t,i,n,o,r){this._assertNotDisposed();const s=this.validatePosition(t);return gC.findPreviousMatch(this,new uC(e,i,n,o),s,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Gu?e:new Gu(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let i=t.map((e=>({range:this.validateRange(e.range),text:e.text}))),n=!0;if(e)for(let t=0,o=e.length;t<o;t++){let o=e[t],r=!1;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,n=t.startLineNumber>o.endLineNumber,s=o.startLineNumber>t.endLineNumber;if(!n&&!s){r=!0;break}}if(!r){n=!1;break}}if(n)for(let e=0,o=this._trimAutoWhitespaceLines.length;e<o;e++){let n=this._trimAutoWhitespaceLines[e],o=this.getLineMaxColumn(n),r=!0;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,s=i[e].text;if(!(n<t.startLineNumber||n>t.endLineNumber)&&!(n===t.startLineNumber&&t.startColumn===o&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(0)||n===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(s.length-1))){r=!1;break}}if(r){const e=new Hn(n,1,n,o);t.push(new Gu(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new Hn(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}}));this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new Hn(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}}));this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),r=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,0!==r.length){for(let i=0,n=r.length;i<n;i++){const e=r[i],[t,n,o]=DC(e.text);this._tokens.acceptEdit(e.range,t,n),this._tokens2.acceptEdit(e.range,t,n,o,e.text.length>0?e.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(e.rangeOffset,e.rangeLength,e.text.length,e.forceMoveMarkers)}let e=[];this._increaseVersionId();let t=i;for(let i=0,n=r.length;i<n;i++){const n=r[i],[s]=DC(n.text);this._onDidChangeDecorations.fire();const a=n.range.startLineNumber,l=n.range.endLineNumber,u=l-a,c=s,d=Math.min(u,c),h=c-u,g=o-t-h+a,p=g,m=g+c,f=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Vn(p,1)),this.getOffsetAt(new Vn(m,this.getLineMaxColumn(m))),0),v=WC.fromDecorations(f),_=new tp(v);for(let t=d;t>=0;t--){const i=a+t,n=g+t;_.takeFromEndWhile((e=>e.lineNumber>n));const o=_.takeFromEndWhile((e=>e.lineNumber===n));e.push(new VC(i,this.getLineContent(n),o))}if(d<u){const t=a+d;e.push(new HC(t+1,l))}if(d<c){const i=new tp(v),n=a+d,r=c-d,s=o-t-r+n+1;let l=[],u=[];for(let e=0;e<r;e++){let t=s+e;u[e]=this.getLineContent(t),i.takeWhile((e=>e.lineNumber<t)),l[e]=i.takeWhile((e=>e.lineNumber===t))}e.push(new zC(n+1,a+c,u,l))}t+=h}this._emitContentChangedEvent(new UC(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:r,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===n.reverseEdits?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=[...e].map((e=>new VC(e,this.getLineContent(e),this._getInjectedTextInLine(e))));this._onDidChangeContentOrInjectedText.fire(new jC(t))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,yI(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)},n=null;try{n=t(i)}catch(rU){li(rU)}return i.addDecoration=aI,i.changeDecoration=aI,i.changeDecorationOptions=aI,i.removeDecoration=aI,i.deltaDecorations=aI,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:wI[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),s=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),r,s,o),n.setOptions(wI[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let o=this.getLineCount(),r=Math.min(o,Math.max(1,e)),s=Math.min(o,Math.max(1,t)),a=this.getLineMaxColumn(s);const l=new Hn(r,1,s,a),u=this._getDecorationsInRange(l,i,n);return u.push(...this._decorationProvider.getDecorationsInRange(l,i,n)),u}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e);const o=this._getDecorationsInRange(n,t,i);return o.push(...this._decorationProvider.getDecorationsInRange(n,t,i)),o}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return WC.fromDecorations(n).filter((t=>t.lineNumber===e))}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){const n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(i.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),r=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,r,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(i.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const n=this.getVersionId(),o=t.length;let r=0;const s=i.length;let a=0,l=new Array(s);for(;r<o||a<s;){let u=null;if(r<o){do{u=this._decorations[t[r++]]}while(!u&&r<o);if(u){if(u.options.after){const e=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(u.options.before){const e=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(u),this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}if(a<s){if(!u){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;u=new Fb(t,0,0),this._decorations[t]=u}const t=i[a],o=this._validateRangeRelaxedNoAllocations(t.range),r=yI(t.options),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);u.ownerId=e,u.reset(n,s,c,o),u.setOptions(r),u.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber),u.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(r),this._decorationsTree.insert(u),l[a]=u.id,a++}else u&&delete this._decorations[u.id]}return l}setTokens(e,t=!1){if(0!==e.length){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];let o=0,r=0,s=!1;for(let e=0,t=n.tokens.length;e<t;e++){const t=n.startLineNumber+e;if(s)this._tokens.setTokens(this._languageId,t-1,this._buffer.getLineLength(t),n.tokens[e],!1),r=t;else{this._tokens.setTokens(this._languageId,t-1,this._buffer.getLineLength(t),n.tokens[e],!0)&&(s=!0,o=t,r=t)}}s&&t.push({fromLineNumber:o,toLineNumber:r})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._tokens2.addSemanticTokens(e,i)}getLanguageId(){return this._languageId}setMode(e){if(this._languageId===e)return;let t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const i=this.validatePosition(new Vn(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(t){this._assertNotDisposed();const i=this.validatePosition(t),n=this.getLineContent(i.lineNumber),o=this._getLineTokens(i.lineNumber),r=o.findTokenIndexAtOffset(i.column-1),[s,a]=e._findLanguageBoundaries(o,r),l=Nt(i.column,this.getLanguageConfiguration(o.getLanguageId(r)).getWordDefinition(),n.substring(s,a),s);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn)return l;if(r>0&&s===i.column-1){const[s,a]=e._findLanguageBoundaries(o,r-1),l=Nt(i.column,this.getLanguageConfiguration(o.getLanguageId(r-1)).getWordDefinition(),n.substring(s,a),s);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn)return l}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let r=t;r>=0&&e.getLanguageId(r)===i;r--)n=e.getStartOffset(r);let o=e.getLineContent().length;for(let r=t,s=e.getCount();r<s&&e.getLanguageId(r)===i;r++)o=e.getEndOffset(r);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let i=e.toLowerCase(),n=this.validatePosition(t),o=this._getLineTokens(n.lineNumber),r=o.getLanguageId(o.findTokenIndexAtOffset(n.column-1)),s=this.getLanguageConfiguration(r).brackets;if(!s)return null;let a=s.textIsBracket[i];return a?uI(this._findMatchingBracketUp(a,n,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_establishBracketSearchOffsets(e,t,i,n){const o=t.getCount(),r=t.getLanguageId(n);let s=Math.max(0,e.column-1-i.maxBracketLength);for(let l=n-1;l>=0;l--){const e=t.getEndOffset(l);if(e<=s)break;if(Zd(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){s=e;break}}let a=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let l=n+1;l<o;l++){const e=t.getStartOffset(l);if(e>=a)break;if(Zd(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){a=e;break}}return{searchStartOffset:s,searchEndOffset:a}}_matchBracket(e){const t=e.lineNumber,i=this._getLineTokens(t),n=this._buffer.getLineContent(t),o=i.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const r=this.getLanguageConfiguration(i.getLanguageId(o)).brackets;if(r&&!Zd(i.getStandardTokenType(o))){let{searchStartOffset:s,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,r,o),l=null;for(;;){const i=vh.findNextBracketInRange(r.forwardRegex,t,n,s,a);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=n.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),t=this._matchFoundBracket(i,r.textIsBracket[e],r.textIsOpenBracket[e],null);if(t){if(t instanceof lI)return null;l=t}}s=i.endColumn-1}if(l)return l}if(o>0&&i.getStartOffset(o)===e.column-1){const r=o-1,s=this.getLanguageConfiguration(i.getLanguageId(r)).brackets;if(s&&!Zd(i.getStandardTokenType(r))){let{searchStartOffset:o,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,s,r);const l=vh.findPrevBracketInRange(s.reversedRegex,t,n,o,a);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn){const e=n.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),t=this._matchFoundBracket(l,s.textIsBracket[e],s.textIsOpenBracket[e],null);if(t)return t instanceof lI?null:t}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof lI?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const n=e.languageId,o=e.reversedRegex;let r=-1,s=0;const a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return lI.INSTANCE;const u=vh.findPrevBracketInRange(o,t,n,a,l);if(!u)break;const c=n.substring(u.startColumn-1,u.endColumn-1).toLowerCase();if(e.isOpen(c)?r++:e.isClose(c)&&r--,0===r)return u;l=u.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this._getLineTokens(l),i=e.getCount(),o=this._buffer.getLineContent(l);let r=i-1,s=o.length,u=o.length;l===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,u=t.column-1);let c=!0;for(;r>=0;r--){const t=e.getLanguageId(r)===n&&!Zd(e.getStandardTokenType(r));if(t)c?s=e.getStartOffset(r):(s=e.getStartOffset(r),u=e.getEndOffset(r));else if(c&&s!==u){const e=a(l,o,s,u);if(e)return e}c=t}if(c&&s!==u){const e=a(l,o,s,u);if(e)return e}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageId,o=e.forwardRegex;let r=1,s=0;const a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return lI.INSTANCE;const u=vh.findNextBracketInRange(o,t,n,a,l);if(!u)break;const c=n.substring(u.startColumn-1,u.endColumn-1).toLowerCase();if(e.isOpen(c)?r++:e.isClose(c)&&r--,0===r)return u;a=u.endColumn-1}return null},l=this.getLineCount();for(let u=t.lineNumber;u<=l;u++){const e=this._getLineTokens(u),i=e.getCount(),o=this._buffer.getLineContent(u);let r=0,s=0,l=0;u===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,l=t.column-1);let c=!0;for(;r<i;r++){const t=e.getLanguageId(r)===n&&!Zd(e.getStandardTokenType(r));if(t)c||(s=e.getStartOffset(r)),l=e.getEndOffset(r);else if(c&&s!==l){const e=a(u,o,s,l);if(e)return e}c=t}if(c&&s!==l){const e=a(u,o,s,l);if(e)return e}}return null}findPrevBracket(e){const t=this.validatePosition(e);let i=null,n=null;for(let o=t.lineNumber;o>=1;o--){const e=this._getLineTokens(o),r=e.getCount(),s=this._buffer.getLineContent(o);let a=r-1,l=s.length,u=s.length;if(o===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,u=t.column-1;const o=e.getLanguageId(a);i!==o&&(i=o,n=this.getLanguageConfiguration(i).brackets)}let c=!0;for(;a>=0;a--){const t=e.getLanguageId(a);if(i!==t){if(n&&c&&l!==u){const e=vh.findPrevBracketInRange(n.reversedRegex,o,s,l,u);if(e)return this._toFoundBracket(n,e);c=!1}i=t,n=this.getLanguageConfiguration(i).brackets}const r=!!n&&!Zd(e.getStandardTokenType(a));if(r)c?l=e.getStartOffset(a):(l=e.getStartOffset(a),u=e.getEndOffset(a));else if(n&&c&&l!==u){const e=vh.findPrevBracketInRange(n.reversedRegex,o,s,l,u);if(e)return this._toFoundBracket(n,e)}c=r}if(n&&c&&l!==u){const e=vh.findPrevBracketInRange(n.reversedRegex,o,s,l,u);if(e)return this._toFoundBracket(n,e)}}return null}findNextBracket(e){const t=this.validatePosition(e),i=this.getLineCount();let n=null,o=null;for(let r=t.lineNumber;r<=i;r++){const e=this._getLineTokens(r),i=e.getCount(),s=this._buffer.getLineContent(r);let a=0,l=0,u=0;if(r===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,u=t.column-1;const i=e.getLanguageId(a);n!==i&&(n=i,o=this.getLanguageConfiguration(n).brackets)}let c=!0;for(;a<i;a++){const t=e.getLanguageId(a);if(n!==t){if(o&&c&&l!==u){const e=vh.findNextBracketInRange(o.forwardRegex,r,s,l,u);if(e)return this._toFoundBracket(o,e);c=!1}n=t,o=this.getLanguageConfiguration(n).brackets}const i=!!o&&!Zd(e.getStandardTokenType(a));if(i)c||(l=e.getStartOffset(a)),u=e.getEndOffset(a);else if(o&&c&&l!==u){const e=vh.findNextBracketInRange(o.forwardRegex,r,s,l,u);if(e)return this._toFoundBracket(o,e)}c=i}if(o&&c&&l!==u){const e=vh.findNextBracketInRange(o.forwardRegex,r,s,l,u);if(e)return this._toFoundBracket(o,e)}}return null}findEnclosingBrackets(e,t){let i;if(void 0===t)i=null;else{const e=Date.now();i=()=>Date.now()-e<=t}const n=this.validatePosition(e),o=this.getLineCount(),r=new Map;let s=[];const a=(e,t)=>{if(!r.has(e)){let i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;r.set(e,i)}s=r.get(e)};let l=0;const u=(e,t,n,o,r)=>{for(;;){if(i&&++l%100==0&&!i())return lI.INSTANCE;const a=vh.findNextBracketInRange(e.forwardRegex,t,n,o,r);if(!a)break;const u=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),c=e.textIsBracket[u];if(c&&(c.isOpen(u)?s[c.index]++:c.isClose(u)&&s[c.index]--,-1===s[c.index]))return this._matchFoundBracket(a,c,!1,i);o=a.endColumn-1}return null};let c=null,d=null;for(let h=n.lineNumber;h<=o;h++){const e=this._getLineTokens(h),t=e.getCount(),i=this._buffer.getLineContent(h);let o=0,r=0,s=0;if(h===n.lineNumber){o=e.findTokenIndexAtOffset(n.column-1),r=n.column-1,s=n.column-1;const t=e.getLanguageId(o);c!==t&&(c=t,d=this.getLanguageConfiguration(c).brackets,a(c,d))}let l=!0;for(;o<t;o++){const t=e.getLanguageId(o);if(c!==t){if(d&&l&&r!==s){const e=u(d,h,i,r,s);if(e)return uI(e);l=!1}c=t,d=this.getLanguageConfiguration(c).brackets,a(c,d)}const n=!!d&&!Zd(e.getStandardTokenType(o));if(n)l||(r=e.getStartOffset(o)),s=e.getEndOffset(o);else if(d&&l&&r!==s){const e=u(d,h,i,r,s);if(e)return uI(e)}l=n}if(d&&l&&r!==s){const e=u(d,h,i,r,s);if(e)return uI(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.getValueInRange(t);i=i.toLowerCase();let n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}static computeIndentLevel(e,t){let i=0,n=0,o=e.length;for(;n<o;){let o=e.charCodeAt(n);if(32===o)i++;else{if(9!==o)break;i=i-i%t+t}n++}return n===o?-1:i}_computeIndentLevel(t){return e.computeIndentLevel(this._buffer.getLineContent(t+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this._languageId).foldingRules,r=Boolean(o&&o.offSide);let s=-2,a=-1,l=-2,u=-1;const c=e=>{if(-1!==s&&(-2===s||s>e-1)){s=-1,a=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){s=t,a=e;break}}}if(-2===l){l=-1,u=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){l=t,u=e;break}}}};let d=-2,h=-1,g=-2,p=-1;const m=e=>{if(-2===d){d=-1,h=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){d=t,h=e;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,p=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){g=t,p=e;break}}}};let f=0,v=!0,_=0,b=!0,C=0,w=0;for(let y=0;v||b;y++){const o=e-y,s=e+y;y>1&&(o<1||o<t)&&(v=!1),y>1&&(s>n||s>i)&&(b=!1),y>5e4&&(v=!1,b=!1);let g=-1;if(v){const e=this._computeIndentLevel(o-1);e>=0?(l=o-1,u=e,g=Math.ceil(e/this._options.indentSize)):(c(o),g=this._getIndentLevelForWhitespaceLine(r,a,u))}let S=-1;if(b){const e=this._computeIndentLevel(s-1);e>=0?(d=s-1,h=e,S=Math.ceil(e/this._options.indentSize)):(m(s),S=this._getIndentLevelForWhitespaceLine(r,h,p))}if(0!==y){if(1===y){if(s<=n&&S>=0&&w+1===S){v=!1,f=s,_=s,C=S;continue}if(o>=1&&g>=0&&g-1===w){b=!1,f=o,_=o,C=g;continue}if(f=e,_=e,C=w,0===C)return{startLineNumber:f,endLineNumber:_,indent:C}}v&&(g>=C?f=o:v=!1),b&&(S>=C?_=s:b=!1)}else w=g}return{startLineNumber:f,endLineNumber:_,indent:C}}getLinesBracketGuides(e,t,i,n){var o,r,s,a,l;const u=[],c=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new Hn(e,1,t,this.getLineMaxColumn(t)));let d;if(i&&c.length>0){d=null===(o=function(e,t){const i=function(e,t){for(let i=e.length-1;i>=0;i--)if(t(e[i]))return i;return-1}(e,t);if(-1!==i)return e[i]}(e<=i.lineNumber&&i.lineNumber<=t?c.filter((e=>e.range.containsPosition(i))):this._bracketPairColorizer.getBracketPairsInRange(Hn.fromPositions(i)),(e=>e.range.startLineNumber!==e.range.endLineNumber)))||void 0===o?void 0:o.range}const h=new tp(c),g=new Array,p=new Array,m=new dI;for(let f=e;f<=t;f++){let e=new Array;p.length>0&&(e=e.concat(p),p.length=0),u.push(e);for(const i of h.takeWhile((e=>e.openingBracketRange.startLineNumber<=f))||[]){if(i.range.startLineNumber===i.range.endLineNumber)continue;const e=Math.min(this.getVisibleColumnFromPosition(i.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(s=null===(r=i.closingBracketRange)||void 0===r?void 0:r.getStartPosition())&&void 0!==s?s:i.range.getEndPosition()),i.minVisibleColumnIndentation+1);let t=!1;if(i.closingBracketRange){Aa(this.getLineContent(i.closingBracketRange.startLineNumber))<i.closingBracketRange.startColumn-1&&(t=!0)}const n=i.openingBracketRange.getStartPosition(),o=null!==(l=null===(a=i.closingBracketRange)||void 0===a?void 0:a.getStartPosition())&&void 0!==l?l:i.range.getEndPosition();void 0===i.closingBracketRange?g[i.nestingLevel]=null:g[i.nestingLevel]={nestingLevel:i.nestingLevel,guideVisibleColumn:e,start:n,visibleStartColumn:this.getVisibleColumnFromPosition(n),end:o,visibleEndColumn:this.getVisibleColumnFromPosition(o),bracketPair:i,renderHorizontalEndLineAtTheBottom:t}}for(const i of g){if(!i)continue;const t=d&&i.bracketPair.range.equalsRange(d),o=m.getInlineClassNameOfLevel(i.nestingLevel)+(n.highlightActive&&t?" "+m.activeClassName:"");(t&&n.horizontalGuides!==zu.Disabled||n.includeInactive&&n.horizontalGuides===zu.Enabled)&&(i.start.lineNumber===f&&i.guideVisibleColumn<i.visibleStartColumn&&e.push(new qu(i.guideVisibleColumn,o,new $u(!1,i.start.column))),i.end.lineNumber===f+1&&i.guideVisibleColumn<i.visibleEndColumn&&p.push(new qu(i.guideVisibleColumn,o,new $u(!i.renderHorizontalEndLineAtTheBottom,i.end.column))))}let t=Number.MAX_SAFE_INTEGER;for(let i=g.length-1;i>=0;i--){const o=g[i];if(!o)continue;const r=n.highlightActive&&d&&o.bracketPair.range.equalsRange(d),s=m.getInlineClassNameOfLevel(o.nestingLevel)+(r?" "+m.activeClassName:"");(r||n.includeInactive)&&o.renderHorizontalEndLineAtTheBottom&&o.end.lineNumber===f+1&&p.push(new qu(o.guideVisibleColumn,s,null)),o.end.lineNumber<=f||o.start.lineNumber>=f||(o.guideVisibleColumn>=t&&!r||(t=o.guideVisibleColumn,(r||n.includeInactive)&&e.push(new qu(o.guideVisibleColumn,s,null))))}e.sort(((e,t)=>e.visibleColumn-t.visibleColumn))}return u}getVisibleColumnFromPosition(e){return yw.visibleColumnFromColumn(this.getLineContent(e.lineNumber),e.column,this._options.tabSize)+1}getLinesIndentGuides(e,t){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=this.getLanguageConfiguration(this._languageId).foldingRules,o=Boolean(n&&n.offSide);let r=new Array(t-e+1),s=-2,a=-1,l=-2,u=-1;for(let c=e;c<=t;c++){let t=c-e;const n=this._computeIndentLevel(c-1);if(n>=0)s=c-1,a=n,r[t]=Math.ceil(n/this._options.indentSize);else{if(-2===s){s=-1,a=-1;for(let e=c-2;e>=0;e--){let t=this._computeIndentLevel(e);if(t>=0){s=e,a=t;break}}}if(-1!==l&&(-2===l||l<c-1)){l=-1,u=-1;for(let e=c;e<i;e++){let t=this._computeIndentLevel(e);if(t>=0){l=e,u=t;break}}}r[t]=this._getIndentLevelForWhitespaceLine(o,a,u)}}return r}_getIndentLevelForWhitespaceLine(e,t,i){return-1===t||-1===i?0:t<i?1+Math.floor(t/this._options.indentSize):t===i||e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const i of e){if(" "!==i&&"\t"!==i)break;t++}return t}(this.getLineContent(e))+1}};cI.MODEL_SYNC_LIMIT=52428800,cI.LARGE_FILE_SIZE_THRESHOLD=20971520,cI.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,cI.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:ni.tabSize,indentSize:ni.indentSize,insertSpaces:ni.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:ni.trimAutoWhitespace,largeFileOptimizations:ni.largeFileOptimizations,bracketPairColorizationOptions:ni.bracketPairColorizationOptions},cI=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([iI(4,nw),iI(5,Id),iI(6,$h)],cI);class dI{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}function hI(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function gI(e){return!!e.options.after||!!e.options.before}class pI{constructor(){this._decorationsTree0=new Rb,this._decorationsTree1=new Rb,this._injectedTextDecorationsTree=new Rb}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o){const r=e.getVersionId(),s=this._intervalSearch(t,i,n,o,r);return this._ensureNodesHaveRanges(e,s)}_intervalSearch(e,t,i,n,o){const r=this._decorationsTree0.intervalSearch(e,t,i,n,o),s=this._decorationsTree1.intervalSearch(e,t,i,n,o),a=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o);return r.concat(s).concat(a)}getInjectedTextInInterval(e,t,i,n){const o=e.getVersionId(),r=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o);return this._ensureNodesHaveRanges(e,r).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAllInjectedText(e,t){const i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,n).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAll(e,t,i,n){const o=e.getVersionId(),r=this._search(t,i,n,o);return this._ensureNodesHaveRanges(e,r)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{const i=this._decorationsTree0.search(e,t,n),o=this._decorationsTree1.search(e,t,n),r=this._injectedTextDecorationsTree.search(e,t,n);return i.concat(o).concat(r)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){gI(e)?this._injectedTextDecorationsTree.insert(e):hI(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){gI(e)?this._injectedTextDecorationsTree.delete(e):hI(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){gI(e)?this._injectedTextDecorationsTree.resolveNode(e,t):hI(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}}function mI(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class fI{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class vI extends fI{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:Vu.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}}class _I extends fI{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?ew.fromHex(e):t.getColor(e.id)}}class bI{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof bI?e:new bI(e)}}class CI{constructor(e){this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?mI(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new vI(e.overviewRuler):null,this.minimap=e.minimap?new _I(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?mI(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?mI(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?mI(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?mI(e.marginClassName):null,this.inlineClassName=e.inlineClassName?mI(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?mI(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?mI(e.afterContentClassName):null,this.after=e.after?bI.from(e.after):null,this.before=e.before?bI.from(e.before):null}static register(e){return new CI(e)}static createDynamic(e){return new CI(e)}}CI.EMPTY=CI.register({description:"empty"});const wI=[CI.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),CI.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),CI.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),CI.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function yI(e){return e instanceof CI?e:CI.createDynamic(e)}class SI extends Si{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new Ti),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}null===(e=this._affectedInjectedTextLines)||void 0===e||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class DI extends Si{constructor(){super(),this._fastEmitter=this._register(new Ti),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new Ti),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}const kI=()=>!0,II=()=>!1,EI=e=>" "===e||"\t"===e;class xI{constructor(e,t,i){this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const n=i.options,o=n.get(129);this.readOnly=n.get(80),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=n.get(103),this.lineHeight=n.get(58),this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=n.get(114),this.wordSeparators=n.get(115),this.emptySelectionClipboard=n.get(32),this.copyWithSyntaxHighlighting=n.get(21),this.multiCursorMergeOverlapping=n.get(68),this.multiCursorPaste=n.get(70),this.autoClosingBrackets=n.get(5),this.autoClosingQuotes=n.get(8),this.autoClosingDelete=n.get(6),this.autoClosingOvertype=n.get(7),this.autoSurround=n.get(11),this.autoIndent=n.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:xI._getShouldAutoClose(e,this.autoClosingQuotes),bracket:xI._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=Xh.getAutoClosingPairs(e);let r=xI._getSurroundingPairs(e);if(r)for(const s of r)this.surroundingPairs[s.open]=s.close}static shouldRecreate(e){return e.hasChanged(129)||e.hasChanged(115)||e.hasChanged(32)||e.hasChanged(68)||e.hasChanged(70)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(114)||e.hasChanged(58)||e.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=xI._getElectricCharacters(this._languageId);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return cI.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return Xh.getElectricCharacters(e)}catch(rU){return li(rU),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return EI;case"languageDefined":return xI._getLanguageDefinedShouldAutoClose(e);case"always":return kI;case"never":return II}}static _getLanguageDefinedShouldAutoClose(e){try{const t=Xh.getAutoCloseBeforeSet(e);return e=>-1!==t.indexOf(e)}catch(rU){return li(rU),II}}static _getSurroundingPairs(e){try{return Xh.getSurroundingPairs(e)}catch(rU){return li(rU),null}}}class LI{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=LI._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new LI(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new Vn(t,i),n):new LI(new Hn(t,i,t,i),n,new Vn(t,i),n)}static _computeSelection(e,t){let i,n,o,r;return e.isEmpty()?(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,r=t.column):t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,n=e.endColumn,o=t.lineNumber,r=t.column):(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,r=t.column),new zn(i,n,o,r)}}class AI{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}class NI{constructor(e){this.modelState=e,this.viewState=null}}class TI{constructor(e){this.modelState=null,this.viewState=e}}class OI{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new NI(e)}static fromViewState(e){return new TI(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,i=e.selectionStartColumn,n=e.positionLineNumber,o=e.positionColumn,r=new LI(new Hn(t,i,t,i),0,new Vn(n,o),0);return OI.fromModelState(r)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class FI{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function MI(e){return"'"===e||'"'===e||"`"===e}class RI{static whitespaceVisibleColumn(e,t,i){const n=e.length;let o=0,r=-1,s=-1;for(let a=0;a<n;a++){if(a===t)return[r,s,o];o%i==0&&(r=a,s=o);switch(e.charCodeAt(a)){case 32:o+=1;break;case 9:o=yw.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===n?[r,s,o]:[-1,-1,-1]}static atomicPosition(e,t,i,n){const o=e.length,[r,s,a]=RI.whitespaceVisibleColumn(e,t,i);if(-1===a)return-1;let l;switch(n){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%i==0)return t;l=a%i<=i/2}if(l){if(-1===r)return-1;let t=s;for(let n=r;n<o;++n){if(t===s+i)return r;switch(e.charCodeAt(n)){case 32:t+=1;break;case 9:t=yw.nextRenderTabStop(t,i);break;default:return-1}}return t===s+i?r:-1}const u=yw.nextRenderTabStop(a,i);let c=a;for(let d=t;d<o;d++){if(c===u)return d;switch(e.charCodeAt(d)){case 32:c+=1;break;case 9:c=yw.nextRenderTabStop(c,i);break;default:return-1}}return c===u?o:-1}}class PI{constructor(e=null){this.hitTarget=e,this.type=0}}class BI{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var WI;(WI||(WI={})).createFromDOMInfo=function(e,t,i){const n=e.getPositionFromDOMInfo(t,i);return n?new BI(n,t,null):new PI(t)};class VI{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class HI{constructor(e,t,i=0,n=null,o=null,r=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,!o&&n&&(o=new Hn(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=r}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return HI.toString(this)}}class zI{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class KI{constructor(e,t,i){this.model=e.model;const n=e.configuration.options;this.layoutInfo=n.get(129),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(58),this.stickyTabStops=n.get(103),this.typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return KI.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const n=i.verticalOffset+i.height/2,o=e.model.getLineCount();let r,s=null,a=null;return i.afterLineNumber!==o&&(a=new Vn(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new Vn(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),r=null===a?s:null===s?a:t<n?s:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:a,position:r}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new Hn(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new Hn(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return KI._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class UI extends class{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,$I._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,i,n){super(e,t,i),this._ctx=e,n?(this.target=n,this.targetPath=Z_.collect(n,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,n=null){let o=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(o=yw.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new HI(this.target,e,o,t,i,n)}withTarget(e){return new UI(this._ctx,this.editorPos,this.pos,e)}}const jI={isAfterLines:!0};function qI(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class $I{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=Z_.collect(t,this._viewHelper.viewDomNode);return!(!zI.isChildOfContentWidgets(i)&&!zI.isChildOfOverflowingContentWidgets(i))||!!zI.isChildOfOverlayWidgets(i)}createMouseTarget(e,t,i,n){const o=new KI(this._context,this._viewHelper,e),r=new UI(o,t,i,n);try{return $I._createMouseTarget(o,r,!1)}catch(s){return r.fulfill(0)}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfill(0);const n=$I._doHitTest(e,t);return 1===n.type?$I.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}const n=t;let o=null;return o=o||$I._hitTestContentWidget(e,n),o=o||$I._hitTestOverlayWidget(e,n),o=o||$I._hitTestMinimap(e,n),o=o||$I._hitTestScrollbarSlider(e,n),o=o||$I._hitTestViewZone(e,n),o=o||$I._hitTestMargin(e,n),o=o||$I._hitTestViewCursor(e,n),o=o||$I._hitTestTextArea(e,n),o=o||$I._hitTestViewLines(e,n,i),o=o||$I._hitTestScrollbar(e,n),o||t.fulfill(0)}static _hitTestContentWidget(e,t){if(zI.isChildOfContentWidgets(t.targetPath)||zI.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(zI.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const e of i)if(t.target===e.domNode)return t.fulfill(6,e.position,null,{mightBeForeignElement:!1})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const r of i){if(n<r.contentLeft)continue;if(n>r.contentLeft+r.width)continue;const i=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(i<=o&&o<=i+r.height)return t.fulfill(6,r.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const e=t.isInContentArea?8:5;return t.fulfill(e,i.position,null,i)}return null}static _hitTestTextArea(e,t){return zI.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let o=Math.abs(t.pos.x-t.editorPos.x);const r={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,n,i.range,r):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,n,i.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,n,i.range,r)))}return null}static _hitTestViewLines(e,t,i){if(!zI.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new Vn(1,1),null,jI);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return t.fulfill(7,new Vn(i,n),null,jI)}if(i){if(zI.isStrictChildOfViewLines(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(i)){const n=e.getLineWidth(i),o=qI(t.mouseContentHorizontalOffset-n);return t.fulfill(7,new Vn(i,1),null,o)}const n=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=n){const o=qI(t.mouseContentHorizontalOffset-n),r=new Vn(i,e.model.getLineMaxColumn(i));return t.fulfill(7,r,null,o)}}return t.fulfill(0)}const n=$I._doHitTest(e,t);return 1===n.type?$I.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(zI.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Vn(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(zI.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Vn(i,n))}}return null}static _hitTestScrollbar(e,t){if(zI.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Vn(i,n))}return null}getMouseColumn(e,t){const i=this._context.configuration.options,n=i.get(129),o=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-n.contentLeft;return $I._getMouseColumn(o,i.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){const r=n.lineNumber,s=n.column,a=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>a){const e=qI(t.mouseContentHorizontalOffset-a);return t.fulfill(7,n,null,e)}const l=e.visibleRangeForPosition(r,s);if(!l)return t.fulfill(0,n);const u=l.left;if(t.mouseContentHorizontalOffset===u)return t.fulfill(6,n,null,{mightBeForeignElement:!!o});const c=[];if(c.push({offset:l.left,column:s}),s>1){const t=e.visibleRangeForPosition(r,s-1);t&&c.push({offset:t.left,column:s-1})}if(s<e.model.getLineMaxColumn(r)){const t=e.visibleRangeForPosition(r,s+1);t&&c.push({offset:t.left,column:s+1})}c.sort(((e,t)=>e.offset-t.offset));const d=t.pos.toClientCoordinates(),h=i.getBoundingClientRect(),g=h.left<=d.clientX&&d.clientX<=h.right;for(let p=1;p<c.length;p++){const e=c[p-1],i=c[p];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=i.offset){const s=new Hn(r,e.column,r,i.column);return t.fulfill(6,n,s,{mightBeForeignElement:!g||!!o})}}return t.fulfill(6,n,null,{mightBeForeignElement:!g||!!o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let o=t.pos.y+(n-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+e.layoutInfo.height&&(o=t.editorPos.y+e.layoutInfo.height-1);const r=new W_(t.pos.x,o),s=this._actualDoHitTestWithCaretRangeFromPoint(e,r.toClientCoordinates());return 1===s.type?s:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=js(e.viewDomNode);let n;if(n=i?void 0===i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let o=e.elementFromPoint(t,i);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;const e=o.getBoundingClientRect(),i=window.getComputedStyle(o,null).getPropertyValue("font"),r=o.innerText;let s,a=e.left,l=0;if(t>e.left+e.width)l=r.length;else{const e=GI.getInstance();for(let n=0;n<r.length+1;n++){if(s=e.getCharWidth(r.charAt(n),i)/2,a+=s,t<a){l=n;break}a+=s}}n.setStart(o.firstChild,l),n.setEnd(o.firstChild,l)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new PI;const o=n.startContainer;if(o.nodeType===o.TEXT_NODE){const t=o.parentNode,i=t?t.parentNode:null,r=i?i.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===ab.CLASS_NAME?WI.createFromDOMInfo(e,t,n.startOffset):new PI(o.parentNode)}if(o.nodeType===o.ELEMENT_NODE){const t=o.parentNode,i=t?t.parentNode:null;return(i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===ab.CLASS_NAME?WI.createFromDOMInfo(e,o,o.textContent.length):new PI(o)}return new PI}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const t=i.offsetNode.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===ab.CLASS_NAME?WI.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new PI(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const t=i.offsetNode.parentNode,n=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,o=t?t.parentNode:null,r=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(n===ab.CLASS_NAME){const t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t)return WI.createFromDOMInfo(e,t,0)}else if(r===ab.CLASS_NAME)return WI.createFromDOMInfo(e,i.offsetNode,0)}return new PI(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:n}=t.getTextModelOptions(),o=RI.atomicPosition(i,e.column-1,n,2);return-1!==o?new Vn(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new PI;if("function"==typeof document.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===i.type){const t=e.model.getInjectedTextAt(i.position),n=e.model.normalizePosition(i.position,2);!t&&n.equals(i.position)||(i=new BI(n,i.spanNode,t))}return 1===i.type&&e.stickyTabStops&&(i=new BI(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}}class GI{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return GI._INSTANCE||(GI._INSTANCE=new GI),GI._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const o=n.measureText(e).width;return this._cache[i]=o,o}}function ZI(e){return function(t,i){let n=!1;return e&&(n=e.mouseTargetIsWidget(i)),n||i.preventDefault(),i}}GI._INSTANCE=null;class YI extends $_{constructor(e,t,i){super(),this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new $I(this._context,i),this._mouseDownOperation=this._register(new JI(this._context,this.viewController,this.viewHelper,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const n=new U_(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),ZI(this.mouseTargetFactory),YI.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))));this._register(ps(this.viewHelper.viewDomNode,Qs.MOUSE_WHEEL,(e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(67))return;const t=new Kr(e);if(vt?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){const e=Mu.getZoomLevel(),i=t.deltaY>0?1:-1;Mu.setZoomLevel(e+i),t.preventDefault(),t.stopPropagation()}}),{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const e=this._context.configuration.options.get(129).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const i=new V_(e,t).toPageCoordinates(),n=z_(this.viewHelper.viewDomNode);return i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,i,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const t=js(this.viewHelper.viewDomNode);t&&(i=t.elementsFromPoint(e.posx,e.posy).find((e=>this.viewHelper.viewDomNode.contains(e))))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),i=6===t.type||7===t.type,n=2===t.type||3===t.type||4===t.type,o=3===t.type,r=this._context.configuration.options.get(97),s=8===t.type||5===t.type,a=9===t.type;let l=e.leftButton||e.middleButton;vt&&e.leftButton&&e.ctrlKey&&(l=!1);const u=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(l&&(i||o&&r))u(),this._mouseDownOperation.start(t.type,e);else if(n)e.preventDefault();else if(s){const i=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(i.viewZoneId)&&(u(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else a&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(u(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}YI.MOUSE_MOVE_MINIMUM_TIME=100;class JI extends Si{constructor(e,t,i,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new q_(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Qr),this._mouseState=new XI,this._currentSelection=new zn(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const n=this._context.configuration.options;if(!n.get(80)&&n.get(31)&&!n.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,ZI(null),(e=>this._onMouseDownThenMove(e)),(e=>{const t=this._findMousePosition(this._lastMouseEvent,!0);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,ZI(null),(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet((()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))}),10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const i=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),r=KI.getZoneAtCoord(this._context,i);if(r){const e=this._helpPositionJumpOverViewZone(r);if(e)return new HI(null,13,o,e)}const s=n.getLineNumberAtVerticalOffset(i);return new HI(null,13,o,new Vn(s,1))}if(e.posy>t.y+t.height){const r=n.getCurrentScrollTop()+(e.posy-t.y),s=KI.getZoneAtCoord(this._context,r);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return new HI(null,13,o,e)}const a=n.getLineNumberAtVerticalOffset(r);return new HI(null,13,o,new Vn(a,i.getLineMaxColumn(a)))}const r=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new HI(null,13,o,new Vn(r,1)):e.posx>t.x+t.width?new HI(null,13,o,new Vn(r,i.getLineMaxColumn(r))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const e=this._helpPositionJumpOverViewZone(n.detail);if(e)return new HI(n.element,n.type,n.mouseColumn,e,null,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new Vn(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class XI{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>XI.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}var QI,eE;XI.CLEAR_MOUSE_DOWN_COUNT_TIME=400,(eE=QI||(QI={})).text="text/plain",eE.binary="application/octet-stream",eE.unknown="application/unknown",eE.markdown="text/markdown",eE.latex="text/latex";let tE=[],iE=[],nE=[];function oE(e,t=!1){const i=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?Sc(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(mn.sep)>=0}}(e);tE.push(i),i.userConfigured?nE.push(i):iE.push(i),t&&!i.userConfigured&&tE.forEach((e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))}))}function rE(e,t){let i;if(e)switch(e.scheme){case ss.file:i=e.fsPath;break;case ss.data:i=Zl.parseMetaData(e).get(Zl.META_DATA_LABEL);break;default:i=e.path}if(!i)return[QI.unknown];i=i.toLowerCase();const n=Cn(i),o=sE(i,n,nE);if(o)return[o,QI.text];const r=sE(i,n,iE);if(r)return[r,QI.text];if(t){const e=function(e){rl(e)&&(e=e.substr(1));if(e.length>0)for(let t=tE.length-1;t>=0;t--){const i=tE[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i.mime}return null}(t);if(e)return[e,QI.text]}return[QI.unknown]}function sE(e,t,i){var n;let o=null,r=null,s=null;for(let a=i.length-1;a>=0;a--){const l=i[a];if(t===l.filenameLowercase){o=l;break}if(l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)){const i=l.filepatternOnPath?e:t;(null===(n=l.filepatternLowercase)||void 0===n?void 0:n.call(l,i))&&(r=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&t.endsWith(l.extensionLowercase)&&(s=l)}return o?o.mime:r?r.mime:s?s.mime:null}class aE{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new aE(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new aE(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)n++;return[e,i*t.length,n]}static selectedText(e){return new aE(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};let n=e.value,o=e.selectionStart,r=e.selectionEnd,s=t.value,a=t.selectionStart,l=t.selectionEnd;const u=za(n.substring(r),s.substring(l));s=s.substring(0,s.length-u),n=n.substring(0,n.length-u);const c=n.substring(0,o),d=Ha(c,s.substring(0,a));if(s=s.substring(d),n=n.substring(d),a-=d,o-=d,l-=d,r-=d,i&&a===l&&n.length>0){let e=null;if(a===s.length?s.startsWith(n)&&(e=s.substring(n.length)):s.endsWith(n)&&(e=s.substring(0,s.length-n.length)),null!==e&&e.length>0&&(/\uFE0F/.test(e)||(h=e,Ja.test(h))))return{text:e,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}var h;if(a===l){if(n===s&&0===o&&r===n.length&&a===s.length&&-1===s.indexOf("\n")&&function(e){for(let t=0,i=e.length;t<i;t++)if(il(e.charCodeAt(t)))return!0;return!1}(s))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};return{text:s,replacePrevCharCnt:c.length-d,replaceNextCharCnt:0,positionDelta:0}}return{text:s,replacePrevCharCnt:r-o,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(Ha(e.value,t.value),e.selectionEnd),n=Math.min(za(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-n),r=t.value.substring(i,t.value.length-n);e.selectionStart;const s=e.selectionEnd-i;t.selectionStart;const a=t.selectionEnd-i;return{text:r,replacePrevCharCnt:s,replaceNextCharCnt:o.length-s,positionDelta:a-r.length}}}aE.EMPTY=new aE("",0,0,null,null);class lE{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t;return new Hn(i+1,1,i+t+1,1)}static fromEditorSelection(e,t,i,n,o){const r=lE._getPageOfLine(i.startLineNumber,n),s=lE._getRangeForPage(r,n),a=lE._getPageOfLine(i.endLineNumber,n),l=lE._getRangeForPage(a,n),u=s.intersectRanges(new Hn(1,1,i.startLineNumber,i.startColumn));let c=t.getValueInRange(u,1);const d=t.getLineCount(),h=t.getLineMaxColumn(d),g=l.intersectRanges(new Hn(i.endLineNumber,i.endColumn,d,h));let p,m=t.getValueInRange(g,1);if(r===a||r+1===a)p=t.getValueInRange(i,1);else{const e=s.intersectRanges(i),n=l.intersectRanges(i);p=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(n,1)}if(o){const e=500;c.length>e&&(c=c.substring(c.length-e,c.length)),m.length>e&&(m=m.substring(0,e)),p.length>2*e&&(p=p.substring(0,e)+String.fromCharCode(8230)+p.substring(p.length-e,p.length))}return new aE(c+p+m,c.length,c.length+p.length,new Vn(i.startLineNumber,i.startColumn),new Vn(i.endLineNumber,i.endColumn))}}var uE;(uE||(uE={})).Tap="-monaco-textarea-synthetic-tap";const cE={forceCopyWithSyntaxHighlighting:!1};class dE{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}dE.INSTANCE=new dE;class hE extends Si{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new Ti),this.onFocus=this._onFocus.event,this._onBlur=this._register(new Ti),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new Ti),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new Ti),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new Ti),this.onCut=this._onCut.event,this._onPaste=this._register(new Ti),this.onPaste=this._onPaste.event,this._onType=this._register(new Ti),this.onType=this._onType.event,this._onCompositionStart=this._register(new Ti),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new Ti),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new Ti),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new Ti),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new pE(t)),this._asyncTriggerCut=this._register(new ts((()=>this._onCut.fire()),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new ts((()=>this.writeScreenReaderContent("asyncFocusGain")),0)),this._textAreaState=aE.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(fs(t.domNode,"keydown",(e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),i=e,this._onKeyDown.fire(e)}))),this._register(fs(t.domNode,"keyup",(e=>{this._onKeyUp.fire(e)}))),this._register(ps(t.domNode,"compositionstart",(e=>{if(!this._isDoingComposition){if(this._isDoingComposition=!0,vt&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data){if(i&&i.equals(109)&&("ArrowRight"===i.code||"ArrowLeft"===i.code)||yr)return this._textAreaState=new aE(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new Vn(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1})}Er?this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart}):(this._setAndWriteTextAreaState("compositionstart",aE.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0}))}})));const n=e=>{const t=this._textAreaState,i=aE.readFromTextArea(this._textArea);return[i,aE.deduceInput(t,i,e)]},o=()=>{const e=this._textAreaState,t=aE.readFromTextArea(this._textArea);return[t,aE.deduceAndroidCompositionInput(e,t)]},r=e=>{const t=this._textAreaState,i=aE.selectedText(e);return[i,{text:i.value,replacePrevCharCnt:t.selectionEnd-t.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(ps(t.domNode,"compositionupdate",(e=>{if(Er){const[t,i]=o();return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const[t,i]=r(e.data||"");this._textAreaState=t,this._onType.fire(i),this._onCompositionUpdate.fire(e)}))),this._register(ps(t.domNode,"compositionend",(e=>{if(!this._isDoingComposition)return;if(this._isDoingComposition=!1,Er){const[e,t]=o();return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const[t,i]=r(e.data||"");this._textAreaState=t,this._onType.fire(i),(Dr||yr)&&(this._textAreaState=aE.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()}))),this._register(ps(t.domNode,"input",(()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[e,t]=n(vt);0===t.replacePrevCharCnt&&1===t.text.length&&Ka(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""===t.text&&0===t.replacePrevCharCnt||this._onType.fire(t):(""===t.text&&0===t.replacePrevCharCnt||this._firePaste(t.text,null),this._nextCommand=0))}))),this._register(ps(t.domNode,"cut",(e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(ps(t.domNode,"copy",(e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(ps(t.domNode,"paste",(e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),gE.canUseTextData(e)){const[t,i]=gE.getTextData(e);""!==t&&this._firePaste(t,i)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",aE.EMPTY),this._nextCommand=1}))),this._register(ps(t.domNode,"focus",(()=>{const e=this._hasFocus;this._setHasFocus(!0),kr&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()}))),this._register(ps(t.domNode,"blur",(()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(ps(t.domNode,uE.Tap,(()=>{Er&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return ps(document,"selectionchange",(t=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!Dr)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const r=this._textArea.getValue();if(this._textAreaState.value!==r)return;const s=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===s&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(s),u=this._host.deduceModelPosition(l[0],l[1],l[2]),c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),h=new zn(u.lineNumber,u.column,d.lineNumber,d.column);this._onSelectionChangeRequest.fire(h)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=js(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):hs(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(gE.canUseTextData(e)),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};dE.INSTANCE.set(yr?t.text.replace(/\r\n/g,"\n"):t.text,i),gE.canUseTextData(e)?gE.setTextData(e,t.text,t.html,i):this._setAndWriteTextAreaState("copy or cut",aE.selectedText(t.text))}_firePaste(e,t){t||(t=dE.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class gE{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const i=e.clipboardData.getData(QI.text);let n=null;const o=e.clipboardData.getData("vscode-editor-data");if("string"==typeof o)try{n=JSON.parse(o),1!==n.version&&(n=null)}catch(t){}return[i,n]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,n){if(e.clipboardData)return e.clipboardData.setData(QI.text,t),"string"==typeof i&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(n)),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class pE extends Si{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,t,i){const n=this._actual.domNode;let o=null;const r=js(n);o=r?r.activeElement:document.activeElement;const s=o===n,a=n.selectionStart,l=n.selectionEnd;if(s&&a===t&&l===i)yr&&window.parent!==window&&n.focus();else{if(s)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(yr&&window.parent!==window&&n.focus());try{const e=function(e){let t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),function(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}(n,e)}catch(rU){}}}}class mE extends YI{constructor(e,t,i){super(e,t,i),this._register(R_.addTarget(this.viewHelper.linesContentDomNode)),this._register(ps(this.viewHelper.linesContentDomNode,F_.Tap,(e=>this.onTap(e)))),this._register(ps(this.viewHelper.linesContentDomNode,F_.Change,(e=>this.onChange(e)))),this._register(ps(this.viewHelper.linesContentDomNode,F_.Contextmenu,(e=>this._onContextMenu(new K_(e,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(ps(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const n=new j_(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),ZI(this.mouseTargetFactory),YI.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new K_(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e)}}class fE extends YI{constructor(e,t,i){super(e,t,i),this._register(R_.addTarget(this.viewHelper.linesContentDomNode)),this._register(ps(this.viewHelper.linesContentDomNode,F_.Tap,(e=>this.onTap(e)))),this._register(ps(this.viewHelper.linesContentDomNode,F_.Change,(e=>this.onChange(e)))),this._register(ps(this.viewHelper.linesContentDomNode,F_.Contextmenu,(e=>this._onContextMenu(new K_(e,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new K_(e,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(uE.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class vE extends Si{constructor(e,t,i){super(),wt&&Lr?this.handler=this._register(new mE(e,t,i)):window.TouchEvent?this.handler=this._register(new fE(e,t,i)):this.handler=this._register(new YI(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class _E extends $_{}class bE extends _E{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Vn(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const t=e.get(59);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83);const i=e.get(129);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Vn(e,1));if(1!==t.column)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===e?'<span class="relative-current-line-number">'+i+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=_t?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+bE.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',r=this._context.model.getLineCount(),s=[];for(let a=i;a<=n;a++){const e=a-i;if(!this._renderFinalNewline&&a===r&&0===this._context.model.getLineLength(a)){s[e]="";continue}const n=this._getLineRenderLineNumber(a);n?a===this._activeLineNumber?s[e]='<div class="active-line-number '+bE.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+n+"</div>":s[e]=o+n+"</div>":s[e]=""}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}bE.CLASS_NAME="line-numbers",qv(((e,t)=>{const i=e.getColor(fk);i&&t.addRule(`.monaco-editor .line-numbers { color: ${i}; }`);const n=e.getColor(_k);n&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${n}; }`)}));class CE extends G_{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=T_(document.createElement("div")),this._domNode.setClassName(CE.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=T_(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(CE.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}CE.CLASS_NAME="glyph-margin",CE.OUTER_CLASS_NAME="margin";class wE{constructor(e,t,i){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=i}setWidth(e){return new wE(this.top,this.left,e)}}const yE=yr;class SE extends G_{constructor(e,t,i){super(e),this._primaryCursorPosition=new Vn(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;const n=this._context.configuration.options,o=n.get(129);this._setAccessibilityOptions(n),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=n.get(43),this._lineHeight=n.get(58),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this._visibleTextArea=null,this._selections=[new zn(1,1,1,1)],this._modelSelections=[new zn(1,1,1,1)],this._lastRenderPosition=null,this.textArea=T_(document.createElement("textarea")),Z_.write(this.textArea,6),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",it("vs/editor/browser/controller/textAreaHandler","editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(30)&&n.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=T_(document.createElement("div")),this.textAreaCover.setPosition("absolute");const r={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)},s={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,ft),i=this._context.model.getEOL(),n=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),o=Array.isArray(t)?t:null,r=Array.isArray(t)?t.join(i):t;let s,a=null;if(e&&(cE.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&r.length<65536)){const e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(s=e.html,a=e.mode)}return{isFromEmptySelection:n,multicursorText:o,text:r,html:s,mode:a}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(vt){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new aE(i,i.length,i.length,t,t)}}return aE.EMPTY}if(Er){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[i,n]=this._getAndroidWordAtPosition(t);if(i.length>0)return new aE(i,n,n,t,t)}return aE.EMPTY}return lE.fromEditorSelection(e,r,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)};this._textAreaInput=this._register(new hE(s,this.textArea)),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta):this._viewController.type(e.text)}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this._selections[0].startLineNumber,i=this._selections[0].startColumn+e.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new Hn(t,i,t,i),0,1);const n=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,i);n&&(this._visibleTextArea=new wE(this._context.viewLayout.getVerticalOffsetForLineNumber(t),n.left,yE?0:1),this._render()),this.textArea.setClassName("inputarea monaco-mouse-cursor-text ime-input"),this._viewController.compositionStart(),this._context.model.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(function(e,t){const i=document.createElement("canvas").getContext("2d");i.font=(n=t,o="normal",r=n.fontWeight,s=n.fontSize,a=n.lineHeight,l=n.fontFamily,`${o} normal ${r} ${s}px / ${a}px ${l}`);var n,o,r,s,a,l;const u=i.measureText(e);return yr?u.width+2:u.width}(e.data,this._fontInfo)),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.model.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.model.setHasFocus(!1)})))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=lC('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let n=!0,o=e.column,r=!0,s=e.column,a=0;for(;a<50&&(n||r);){if(n&&o<=1&&(n=!1),n){const e=t.charCodeAt(o-2);0!==i.get(e)?n=!1:o--}if(r&&s>t.length&&(r=!1),r){const e=t.charCodeAt(s-1);0!==i.get(e)?r=!1:s++}a++}return[t.substring(o-1,s-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=lC(this._context.configuration.options.get(115));let n=e.column,o=0;for(;n>1;){const r=t.charCodeAt(n-2);if(0!==i.get(r)||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!Ka(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?it("vs/editor/browser/controller/textAreaHandler","accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",_t?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===si.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(43),this._lineHeight=t.get(58),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(t.get(30)&&t.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Vn(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():vt?this._renderInsideEditor(this._primaryCursorPosition,t,e,yE?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,yE?0:1,yE?0:1)}_renderInsideEditor(e,t,i,n,o){this._lastRenderPosition=e;const r=this.textArea,s=this.textAreaCover;A_.applyFontInfo(r,this._fontInfo),r.setTop(t),r.setLeft(i),r.setWidth(n),r.setHeight(o),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(A_.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),yE)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(49)?t.setClassName("monaco-editor-background textAreaCover "+CE.OUTER_CLASS_NAME):0!==i.get(59).renderType?t.setClassName("monaco-editor-background textAreaCover "+bE.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}class DE{static columnSelect(e,t,i,n,o,r){let s=Math.abs(o-i)+1,a=i>o,l=n>r,u=n<r,c=[];for(let d=0;d<s;d++){let o=i+(a?-d:d),s=yw.columnFromVisibleColumn2(e,t,o,n),h=yw.columnFromVisibleColumn2(e,t,o,r),g=yw.visibleColumnFromColumn2(e,t,new Vn(o,s)),p=yw.visibleColumnFromColumn2(e,t,new Vn(o,h));if(u){if(g>r)continue;if(p<n)continue}if(l){if(p>n)continue;if(g<r)continue}c.push(new LI(new Hn(o,s,o,s),0,new Vn(o,h),0))}if(0===c.length)for(let d=0;d<s;d++){const e=i+(a?-d:d),n=t.getLineMaxColumn(e);c.push(new LI(new Hn(e,n,e,n),0,new Vn(e,n),0))}return{viewStates:c,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:r}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,DE.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),r=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let a=o;a<=r;a++){const i=t.getLineMaxColumn(a),o=yw.visibleColumnFromColumn2(e,t,new Vn(a,i));n=Math.max(n,o)}let s=i.toViewVisualColumn;return s<n&&s++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,s)}static columnSelectUp(e,t,i,n){const o=n?e.pageSize:1,r=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const o=n?e.pageSize:1,r=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}}class kE{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new zn(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)}}class IE{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return new zn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}}class EE{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new zn(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)}}class xE{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new zn(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)}}class LE{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class AE{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class NE{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-function(e,t){const i=cl.getInstance(),n=t,o=$a(e,t);t-=o>=65536?2:1;let r=i.getGraphemeBreakType(o);for(;t>0;){const n=$a(e,t),o=i.getGraphemeBreakType(n);if(ul(o,r))break;t-=n>=65536?2:1,r=o}return n-t}(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new Vn(i,e.getLineMaxColumn(i))}return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const n=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),r=RI.atomicPosition(o,t.column-1,i,0);if(-1!==r&&r+1>=n)return new Vn(t.lineNumber,r+1)}return this.leftPosition(e,t)}static left(e,t,i){const n=e.stickyTabStops?NE.leftPositionAtomicSoftTabs(t,i,e.tabSize):NE.leftPosition(t,i);return new AE(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let r,s;if(i.hasSelection()&&!n)r=i.selection.startLineNumber,s=i.selection.startColumn;else{const n=i.position.delta(void 0,-(o-1)),a=t.normalizePosition(NE.clipPositionColumn(n,t),0),l=NE.left(e,t,a);r=l.lineNumber,s=l.column}return i.move(n,r,s,0)}static clipPositionColumn(e,t){return new Vn(e.lineNumber,NE.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=Ga(e.getLineContent(t),i-1):t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new Vn(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,o){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),r=RI.atomicPosition(o,i-1,n,1);if(-1!==r)return new Vn(t,r+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const n=e.stickyTabStops?NE.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):NE.rightPosition(t,i.lineNumber,i.column);return new AE(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let r,s;if(i.hasSelection()&&!n)r=i.selection.endLineNumber,s=i.selection.endColumn;else{const n=i.position.delta(void 0,o-1),a=t.normalizePosition(NE.clipPositionColumn(n,t),1),l=NE.right(e,t,a);r=l.lineNumber,s=l.column}return i.move(n,r,s,0)}static vertical(e,t,i,n,o,r,s){const a=yw.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,l=t.getLineCount(),u=1===i&&1===n,c=i===l&&n===t.getLineMaxColumn(i),d=r<i?u:c;return(i=r)<1?(i=1,n=s?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),n)):i>l?(i=l,n=s?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=yw.columnFromVisibleColumn2(e,t,i,a),o=d?0:a-yw.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),new AE(i,n,o)}static down(e,t,i,n,o,r,s){return this.vertical(e,t,i,n,o,i+r,s)}static moveDown(e,t,i,n,o){let r,s;i.hasSelection()&&!n?(r=i.selection.endLineNumber,s=i.selection.endColumn):(r=i.position.lineNumber,s=i.position.column);let a=NE.down(e,t,r,s,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,i){let n=i.selection,o=NE.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=NE.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new LI(new Hn(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new Vn(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(e,t,i,n,o,r,s){return this.vertical(e,t,i,n,o,i-r,s)}static moveUp(e,t,i,n,o){let r,s;i.hasSelection()&&!n?(r=i.selection.startLineNumber,s=i.selection.startColumn):(r=i.position.lineNumber,s=i.position.column);let a=NE.up(e,t,r,s,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,i){let n=i.selection,o=NE.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),r=NE.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new LI(new Hn(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new Vn(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){const o=t.getLineCount();let r=i.position.lineNumber;for(;r<o&&this._isBlankLine(t,r);)r++;for(;r<o&&!this._isBlankLine(t,r);)r++;return i.move(n,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,i,n){let o,r=i.position.lineNumber,s=t.getLineMinColumn(r),a=t.getLineFirstNonWhitespaceColumn(r)||s;return o=i.position.column===a?s:a,i.move(n,r,o,0)}static moveToEndOfLine(e,t,i,n,o){let r=i.position.lineNumber,s=t.getLineMaxColumn(r);return i.move(n,r,s,o?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let o=t.getLineCount(),r=t.getLineMaxColumn(o);return i.move(n,o,r,0)}}class TE{static deleteRight(e,t,i,n){let o=[],r=3!==e;for(let s=0,a=n.length;s<a;s++){const e=n[s];let a=e;if(a.isEmpty()){let n=e.getPosition(),o=NE.right(t,i,n);a=new Hn(o.lineNumber,o.column,n.lineNumber,n.column)}a.isEmpty()?o[s]=null:(a.startLineNumber!==a.endLineNumber&&(r=!0),o[s]=new kE(a,""))}return[r,o]}static isAutoClosingPairDelete(e,t,i,n,o,r,s){if("never"===t&&"never"===i)return!1;if("never"===e)return!1;for(let a=0,l=r.length;a<l;a++){const l=r[a],u=l.getPosition();if(!l.isEmpty())return!1;const c=o.getLineContent(u.lineNumber);if(u.column<2||u.column>=c.length+1)return!1;const d=c.charAt(u.column-2),h=n.get(d);if(!h)return!1;if(MI(d)){if("never"===i)return!1}else if("never"===t)return!1;const g=c.charAt(u.column-1);let p=!1;for(const e of h)e.open===d&&e.close===g&&(p=!0);if(!p)return!1;if("auto"===e){let e=!1;for(let t=0,i=s.length;t<i;t++){const i=s[t];if(u.lineNumber===i.startLineNumber&&u.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let o=0,r=i.length;o<r;o++){const e=i[o].getPosition(),t=new Hn(e.lineNumber,e.column-1,e.lineNumber,e.column+1);n[o]=new kE(t,"")}return[!0,n]}static deleteLeft(e,t,i,n,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,o))return this._runAutoClosingPairDelete(t,i,n);const r=[];let s=2!==e;for(let a=0,l=n.length;a<l;a++){let e=TE.getDeleteRange(n[a],i,t);e.isEmpty()?r[a]=null:(e.startLineNumber!==e.endLineNumber&&(s=!0),r[a]=new kE(e,""))}return[s,r]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const n=e.getPosition();if(i.useTabStops&&n.column>1){const e=t.getLineContent(n.lineNumber),o=Aa(e),r=-1===o?e.length+1:o+1;if(n.column<=r){const e=yw.visibleColumnFromColumn2(i,t,n),o=yw.prevIndentTabStop(e,i.indentSize),r=yw.columnFromVisibleColumn2(i,t,n.lineNumber,o);return new Hn(n.lineNumber,r,n.lineNumber,n.column)}}return Hn.fromPositions(TE.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=dl(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}if(e.lineNumber>1){const i=e.lineNumber-1;return new Vn(i,t.getLineMaxColumn(i))}return e}static cut(e,t,i){let n=[],o=null;i.sort(((e,t)=>Vn.compare(e.getStartPosition(),t.getEndPosition())));for(let r=0,s=i.length;r<s;r++){const s=i[r];if(s.isEmpty())if(e.emptySelectionClipboard){let e,i,a,l,u=s.getPosition();u.lineNumber<t.getLineCount()?(e=u.lineNumber,i=1,a=u.lineNumber+1,l=1):u.lineNumber>1&&(null==o?void 0:o.endLineNumber)!==u.lineNumber?(e=u.lineNumber-1,i=t.getLineMaxColumn(u.lineNumber-1),a=u.lineNumber,l=t.getLineMaxColumn(u.lineNumber)):(e=u.lineNumber,i=1,a=u.lineNumber,l=t.getLineMaxColumn(u.lineNumber));let c=new Hn(e,i,a,l);o=c,c.isEmpty()?n[r]=null:n[r]=new kE(c,"")}else n[r]=null;else n[r]=new kE(s,"")}return new FI(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class OE{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){let i=e.charCodeAt(o),r=t.get(i);if(0===r){if(2===n)return this._createWord(e,n,r,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(2===r){if(1===n)return this._createWord(e,n,r,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(1===r&&0!==n)return this._createWord(e,n,r,o+1,this._findEndOfWord(e,t,n,o+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let o=e.length;for(let r=n;r<o;r++){let n=e.charCodeAt(r),o=t.get(n);if(1===o)return r;if(1===i&&2===o)return r;if(2===i&&0===o)return r}return o}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,o=e.length;for(let r=i.column-1;r<o;r++){let i=e.charCodeAt(r),o=t.get(i);if(0===o){if(2===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,r-1),r);n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,r-1),r);n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,r-1),r)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){let n=e.charCodeAt(o),r=t.get(n);if(1===r)return o+1;if(1===i&&2===r)return o+1;if(2===i&&0===r)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,r=i.column;1===r&&o>1&&(o-=1,r=t.getLineMaxColumn(o));let s=OE._findPreviousWordOnLine(e,t,new Vn(o,r));if(0===n)return new Vn(o,s?s.start+1:1);if(1===n)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=OE._findPreviousWordOnLine(e,t,new Vn(o,s.start+1))),new Vn(o,s?s.start+1:1);if(3===n){for(;s&&2===s.wordType;)s=OE._findPreviousWordOnLine(e,t,new Vn(o,s.start+1));return new Vn(o,s?s.start+1:1)}return s&&r<=s.end+1&&(s=OE._findPreviousWordOnLine(e,t,new Vn(o,s.start+1))),new Vn(o,s?s.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(1===t.column)return i>1?new Vn(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let r=t.column-1;r>1;r--){const e=o.charCodeAt(r-2),t=o.charCodeAt(r-1);if(95===e&&95!==t)return new Vn(i,r);if(Pa(e)&&Ba(t))return new Vn(i,r);if(Ba(e)&&Ba(t)&&r+1<n){if(Pa(o.charCodeAt(r)))return new Vn(i,r)}}return new Vn(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,r=i.column,s=!1;r===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(s=!0,o+=1,r=1);let a=OE._findNextWordOnLine(e,t,new Vn(o,r));if(2===n)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=OE._findNextWordOnLine(e,t,new Vn(o,a.end+1))),r=a?a.end+1:t.getLineMaxColumn(o);else if(3===n){for(s&&(r=0);a&&(2===a.wordType||a.start+1<=r);)a=OE._findNextWordOnLine(e,t,new Vn(o,a.end+1));r=a?a.start+1:t.getLineMaxColumn(o)}else a&&!s&&r>=a.start+1&&(a=OE._findNextWordOnLine(e,t,new Vn(o,a.end+1))),r=a?a.start+1:t.getLineMaxColumn(o);return new Vn(o,r)}static _moveWordPartRight(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new Vn(i+1,1):t;const o=e.getLineContent(i);for(let r=t.column+1;r<n;r++){const e=o.charCodeAt(r-2),t=o.charCodeAt(r-1);if(95!==e&&95===t)return new Vn(i,r);if(Pa(e)&&Ba(t))return new Vn(i,r);if(Ba(e)&&Ba(t)&&r+1<n){if(Pa(o.charCodeAt(r)))return new Vn(i,r)}}return new Vn(i,n)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-2,o=Ta(i,n);return o+1<n?new Hn(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(TE.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new Hn(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const s=new Vn(o.positionLineNumber,o.positionColumn);let a=s.lineNumber,l=s.column;if(1===a&&1===l)return null;if(r){let e=this._deleteWordLeftWhitespace(n,s);if(e)return e}let u=OE._findPreviousWordOnLine(i,n,s);return 0===t?u?l=u.start+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a)):(u&&l<=u.end+1&&(u=OE._findPreviousWordOnLine(i,n,new Vn(a,u.start+1))),u?l=u.end+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a))),new Hn(a,l,s.lineNumber,s.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const n=new Vn(i.positionLineNumber,i.positionColumn);let o=this._deleteInsideWordWhitespace(t,n);return o||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return 32===i||9===i}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=i.length;if(0===n)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let r=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,r))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;r+1<n&&this._charAtIsWhitespace(i,r+1);)r++;return new Hn(t.lineNumber,o+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),o=n.length;if(0===o)return i.lineNumber>1?new Hn(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new Hn(i.lineNumber,1,i.lineNumber+1,1):new Hn(i.lineNumber,1,i.lineNumber,1);const r=e=>e.start+1<=i.column&&i.column<=e.end+1,s=(e,t)=>(e=Math.min(e,i.column),t=Math.max(t,i.column),new Hn(i.lineNumber,e,i.lineNumber,t)),a=e=>{let t=e.start+1,i=e.end+1,r=!1;for(;i-1<o&&this._charAtIsWhitespace(n,i-1);)r=!0,i++;if(!r)for(;t>1&&this._charAtIsWhitespace(n,t-2);)t--;return s(t,i)},l=OE._findPreviousWordOnLine(e,t,i);if(l&&r(l))return a(l);const u=OE._findNextWordOnLine(e,t,i);return u&&r(u)?a(u):l&&u?s(l.end+1,u.start+1):l?s(l.start+1,l.end+1):u?s(u.start+1,u.end+1):s(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=OE._moveWordPartLeft(e,i);return new Hn(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let t=e.charAt(n);if(" "!==t&&"\t"!==t)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new Hn(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;const s=new Vn(o.positionLineNumber,o.positionColumn);let a=s.lineNumber,l=s.column;const u=n.getLineCount(),c=n.getLineMaxColumn(a);if(a===u&&l===c)return null;if(r){let e=this._deleteWordRightWhitespace(n,s);if(e)return e}let d=OE._findNextWordOnLine(i,n,s);return 2===t?d?l=d.end+1:l<c||a===u?l=c:(a++,d=OE._findNextWordOnLine(i,n,new Vn(a,1)),l=d?d.start+1:n.getLineMaxColumn(a)):(d&&l>=d.start+1&&(d=OE._findNextWordOnLine(i,n,new Vn(a,d.end+1))),d?l=d.start+1:l<c||a===u?l=c:(a++,d=OE._findNextWordOnLine(i,n,new Vn(a,1)),l=d?d.start+1:n.getLineMaxColumn(a))),new Hn(a,l,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=OE._moveWordPartRight(e,i);return new Hn(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new Hn(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=lC(t),o=OE._findPreviousWordOnLine(n,e,i);if(o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end)return OE._createWordAtPosition(e,i.lineNumber,o);const r=OE._findNextWordOnLine(n,e,i);return r&&1===r.wordType&&r.start<=i.column-1&&i.column-1<=r.end?OE._createWordAtPosition(e,i.lineNumber,r):null}static word(e,t,i,n,o){const r=lC(e.wordSeparators);let s,a,l=OE._findPreviousWordOnLine(r,t,o),u=OE._findNextWordOnLine(r,t,o);if(!n){let e,i;return l&&1===l.wordType&&l.start<=o.column-1&&o.column-1<=l.end?(e=l.start+1,i=l.end+1):u&&1===u.wordType&&u.start<=o.column-1&&o.column-1<=u.end?(e=u.start+1,i=u.end+1):(e=l?l.end+1:1,i=u?u.start+1:t.getLineMaxColumn(o.lineNumber)),new LI(new Hn(o.lineNumber,e,o.lineNumber,i),0,new Vn(o.lineNumber,i),0)}l&&1===l.wordType&&l.start<o.column-1&&o.column-1<l.end?(s=l.start+1,a=l.end+1):u&&1===u.wordType&&u.start<o.column-1&&o.column-1<u.end?(s=u.start+1,a=u.end+1):(s=o.column,a=o.column);let c,d=o.lineNumber;if(i.selectionStart.containsPosition(o))c=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){c=s;let e=new Vn(d,c);i.selectionStart.containsPosition(e)&&(c=i.selectionStart.endColumn)}else{c=a;let e=new Vn(d,c);i.selectionStart.containsPosition(e)&&(c=i.selectionStart.startColumn)}return i.move(!0,d,c,0)}}class FE extends OE{static deleteWordPartLeft(e){const t=ME([OE.deleteWordLeft(e,0),OE.deleteWordLeft(e,2),OE._deleteWordPartLeft(e.model,e.selection)]);return t.sort(Hn.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=ME([OE.deleteWordRight(e,0),OE.deleteWordRight(e,2),OE._deleteWordPartRight(e.model,e.selection)]);return t.sort(Hn.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const n=ME([OE.moveWordLeft(e,t,i,0),OE.moveWordLeft(e,t,i,2),OE._moveWordPartLeft(t,i)]);return n.sort(Vn.compare),n[2]}static moveWordPartRight(e,t,i){const n=ME([OE.moveWordRight(e,t,i,0),OE.moveWordRight(e,t,i,2),OE._moveWordPartRight(t,i)]);return n.sort(Vn.compare),n[0]}}function ME(e){return e.filter((e=>Boolean(e)))}class RE{static addCursorDown(e,t,i){let n=[],o=0;for(let r=0,s=t.length;r<s;r++){const s=t[r];n[o++]=new OI(s.modelState,s.viewState),n[o++]=i?OI.fromModelState(NE.translateDown(e.cursorConfig,e.model,s.modelState)):OI.fromViewState(NE.translateDown(e.cursorConfig,e,s.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let r=0,s=t.length;r<s;r++){const s=t[r];n[o++]=new OI(s.modelState,s.viewState),n[o++]=i?OI.fromModelState(NE.translateUp(e.cursorConfig,e.model,s.modelState)):OI.fromViewState(NE.translateUp(e.cursorConfig,e,s.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];n[o]=this._moveToLineStart(e,r,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,o=n===t.modelState.position.column,r=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(r);return o||n===s?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return OI.fromViewState(NE.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return OI.fromModelState(NE.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=this._moveToLineEnd(e,s,i,n)}return o}static _moveToLineEnd(e,t,i,n){const o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),s=o.column===r,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),u=r-o.column==l-a.column;return s||u?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return OI.fromViewState(NE.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return OI.fromModelState(NE.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],r=o.modelState.selection.startLineNumber,s=e.model.getLineCount();let a,l=o.modelState.selection.endLineNumber;l===s?a=e.model.getLineMaxColumn(s):(l++,a=1),i[n]=OI.fromModelState(new LI(new Hn(r,1,r,1),0,new Vn(l,a),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];n[o]=OI.fromModelState(NE.moveToBeginningOfBuffer(e.cursorConfig,e.model,r.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];n[o]=OI.fromModelState(NE.moveToEndOfBuffer(e.cursorConfig,e.model,r.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return OI.fromModelState(new LI(new Hn(1,1,1,1),0,new Vn(i,n),0))}static line(e,t,i,n,o){const r=e.model.validatePosition(n),s=o?e.coordinatesConverter.validateViewPosition(new Vn(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);if(!i||!t.modelState.hasSelection()){const t=e.model.getLineCount();let i=r.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),OI.fromModelState(new LI(new Hn(r.lineNumber,1,i,n),0,new Vn(i,n),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<a)return OI.fromViewState(t.viewState.move(t.modelState.hasSelection(),s.lineNumber,1,0));if(r.lineNumber>a){const i=e.getLineCount();let n=s.lineNumber+1,o=1;return n>i&&(n=i,o=e.getLineMaxColumn(n)),OI.fromViewState(t.viewState.move(t.modelState.hasSelection(),n,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return OI.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,i,n){const o=e.model.validatePosition(n);return OI.fromModelState(OE.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new OI(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return OI.fromViewState(new LI(new Hn(i,n,i,n),0,new Vn(i,n),0))}static moveTo(e,t,i,n,o){const r=e.model.validatePosition(n),s=o?e.coordinatesConverter.validateViewPosition(new Vn(o.lineNumber,o.column),r):e.coordinatesConverter.convertModelPositionToViewPosition(r);return OI.fromViewState(t.viewState.move(i,s.lineNumber,s.column,0))}static simpleMove(e,t,i,n,o,r){switch(i){case 0:return 4===r?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return 4===r?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return 2===r?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return 2===r?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return 2===r?t.map((t=>OI.fromViewState(NE.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>OI.fromModelState(NE.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 5:return 2===r?t.map((t=>OI.fromViewState(NE.moveToNextBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>OI.fromModelState(NE.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){const r=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(i){case 11:{const i=this._firstLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,r)]}case 13:{const i=this._lastLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,r)]}case 12:{const i=Math.round((s.startLineNumber+s.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 14:{let i=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];i[o]=this.findPositionInViewportIfOutside(e,s,r,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new OI(t.modelState,t.viewState);{let r;r=o>i.endLineNumber-1?i.endLineNumber-1:o<i.startLineNumber?i.startLineNumber:o;const s=NE.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,r,!1);return OI.fromViewState(t.viewState.move(n,s.lineNumber,s.column,s.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map((t=>OI.fromViewState(NE.moveLeft(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineLeft(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);n[o]=OI.fromViewState(NE.moveLeft(e.cursorConfig,e,r.viewState,i,a))}return n}static _moveRight(e,t,i,n){return t.map((t=>OI.fromViewState(NE.moveRight(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineRight(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);n[o]=OI.fromViewState(NE.moveRight(e.cursorConfig,e,r.viewState,i,a))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=OI.fromViewState(NE.moveDown(e.cursorConfig,e,s.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=OI.fromModelState(NE.moveDown(e.cursorConfig,e.model,s.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=OI.fromViewState(NE.moveUp(e.cursorConfig,e,s.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=OI.fromModelState(NE.moveUp(e.cursorConfig,e.model,s.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return OI.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return OI.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMinColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMaxColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}}var PE,BE;(BE=PE||(PE={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!Ql(e))return!1;let t=e;return!(!Xl(t.to)||!iu(t.select)&&!tu(t.select)||!iu(t.by)&&!Xl(t.by)||!iu(t.value)&&!eu(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},BE.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},BE.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},BE.parse=function(e){if(!e.to)return null;let t;switch(e.to){case BE.RawDirection.Left:t=0;break;case BE.RawDirection.Right:t=1;break;case BE.RawDirection.Up:t=2;break;case BE.RawDirection.Down:t=3;break;case BE.RawDirection.PrevBlankLine:t=4;break;case BE.RawDirection.NextBlankLine:t=5;break;case BE.RawDirection.WrappedLineStart:t=6;break;case BE.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case BE.RawDirection.WrappedLineColumnCenter:t=8;break;case BE.RawDirection.WrappedLineEnd:t=9;break;case BE.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case BE.RawDirection.ViewPortTop:t=11;break;case BE.RawDirection.ViewPortBottom:t=13;break;case BE.RawDirection.ViewPortCenter:t=12;break;case BE.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let i=0;switch(e.by){case BE.RawUnit.Line:i=1;break;case BE.RawUnit.WrappedLine:i=2;break;case BE.RawUnit.Character:i=3;break;case BE.RawUnit.HalfLine:i=4}return{direction:t,unit:i,select:!!e.select,value:e.value||1}};const WE=Object.create(null);function VE(e,t){if(t<=0)return"";WE[e]||(WE[e]=["",e]);const i=WE[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}class HE{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,o){const r=yw.visibleColumnFromColumn(e,t,i);if(o){const e=VE(" ",n);return VE(e,yw.prevIndentTabStop(r,n)/n)}return VE("\t",yw.prevRenderTabStop(r,i)/i)}static shiftIndent(e,t,i,n,o){const r=yw.visibleColumnFromColumn(e,t,i);if(o){const e=VE(" ",n);return VE(e,yw.nextIndentTabStop(r,n)/n)}return VE("\t",yw.nextRenderTabStop(r,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let n=this._selection.endLineNumber;1===this._selection.endColumn&&i!==n&&(n-=1);const{tabSize:o,indentSize:r,insertSpaces:s}=this._opts,a=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,u=0;for(let c=i;c<=n;c++,l=u){u=0;let n,d=e.getLineContent(c),h=Aa(d);if((!this._opts.isUnshift||0!==d.length&&0!==h)&&(a||this._opts.isUnshift||0!==d.length)){if(-1===h&&(h=d.length),c>1){if(yw.visibleColumnFromColumn(d,h+1,o)%r!=0&&e.isCheapToTokenize(c-1)){let t=Xh.getEnterAction(this._opts.autoIndent,e,new Hn(c-1,e.getLineMaxColumn(c-1),c-1,e.getLineMaxColumn(c-1)));if(t){if(u=l,t.appendText)for(let e=0,i=t.appendText.length;e<i&&u<r&&32===t.appendText.charCodeAt(e);e++)u++;t.removeText&&(u=Math.max(0,u-t.removeText));for(let e=0;e<u&&(0!==h&&32===d.charCodeAt(h-1));e++)h--}}}this._opts.isUnshift&&0===h||(n=this._opts.isUnshift?HE.unshiftIndent(d,h+1,o,r,s):HE.shiftIndent(d,h+1,o,r,s),this._addEditOperation(t,new Hn(c,1,c,h+1),n),c!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=h+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);const o=s?VE(" ",r):"\t";for(let s=i;s<=n;s++){const n=e.getLineContent(s);let l=Aa(n);if((!this._opts.isUnshift||0!==n.length&&0!==l)&&((a||this._opts.isUnshift||0!==n.length)&&(-1===l&&(l=n.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,r);for(let e=0;e<l;e++){if(9===n.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new Hn(s,1,s,l+1),"")}else this._addEditOperation(t,new Hn(s,1,s,1),o),s!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let e=t.getInverseEditOperations()[0];return new zn(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let e=this._selection.startColumn;return i.startColumn<=e?i:0===i.getDirection()?new zn(i.startLineNumber,e,i.endLineNumber,i.endColumn):new zn(i.endLineNumber,i.endColumn,i.startLineNumber,e)}return i}}class zE{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new Hn(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new Hn(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new zn(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class KE{static indent(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new HE(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new HE(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return i=i||1,HE.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,HE.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let o=[];for(let r=0,s=i.length;r<s;r++)o[r]=new kE(i[r],n[r]);return new FI(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){let r=[];for(let s=0,a=i.length;s<a;s++){const e=i[s];let t=e.getPosition();if(o&&!e.isEmpty()&&(o=!1),o&&n.indexOf("\n")!==n.length-1&&(o=!1),o){let i=new Hn(t.lineNumber,1,t.lineNumber,1);r[s]=new LE(i,n,e,!0)}else r[s]=new kE(e,n)}return new FI(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,o){if(n)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));let e=La(i);if(e.length===t.length)return e}return null}static paste(e,t,i,n,o,r){const s=this._distributePasteToCursors(e,i,n,o,r);return s?(i=i.sort(Hn.compareRangesUsingStarts),this._distributedPaste(e,t,i,s)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,o="";const r=Xh.getInheritIndentForLine(e.autoIndent,t,i,!1);if(r)n=r.action,o=r.indentation;else if(i>1){let n;for(n=i-1;n>=1;n--){if(Ta(t.getLineContent(n))>=0)break}if(n<1)return null;const r=t.getLineMaxColumn(n),s=Xh.getEnterAction(e.autoIndent,t,new Hn(n,r,n,r));s&&(o=s.indentation+s.appendText)}return n&&(n===Kd.Indent&&(o=KE.shiftIndent(e,o)),n===Kd.Outdent&&(o=KE.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,n){let o="",r=i.getStartPosition();if(e.insertSpaces){let i=yw.visibleColumnFromColumn2(e,t,r),n=e.indentSize,s=n-i%n;for(let e=0;e<s;e++)o+=" "}else o="\t";return new kE(i,o,n)}static tab(e,t,i){let n=[];for(let o=0,r=i.length;o<r;o++){const r=i[o];if(r.isEmpty()){let i=t.getLineContent(r.startLineNumber);if(/^\s*$/.test(i)&&t.isCheapToTokenize(r.startLineNumber)){let s=this._goodIndentForLine(e,t,r.startLineNumber);s=s||"\t";let a=e.normalizeIndentation(s);if(!i.startsWith(a)){n[o]=new kE(new Hn(r.startLineNumber,1,r.startLineNumber,i.length+1),a,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,r,!0)}else{if(r.startLineNumber===r.endLineNumber){let i=t.getLineMaxColumn(r.startLineNumber);if(1!==r.startColumn||r.endColumn!==i){n[o]=this._replaceJumpToNextIndent(e,t,r,!1);continue}}n[o]=new HE(r,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static compositionType(e,t,i,n,o,r,s,a){const l=n.map((e=>this._compositionType(i,e,o,r,s,a)));return new FI(4,l,{shouldPushStackElementBefore:qE(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,r){if(!t.isEmpty())return null;const s=t.getPosition(),a=Math.max(1,s.column-n),l=Math.min(e.getLineMaxColumn(s.lineNumber),s.column+o),u=new Hn(s.lineNumber,a,s.lineNumber,l);return e.getValueInRange(u)===i&&0===r?null:new xE(u,i,0,r)}static _typeCommand(e,t,i){return i?new EE(e,t,!0):new kE(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return KE._typeCommand(n,"\n",i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){let o=Na(t.getLineContent(n.startLineNumber)).substring(0,n.startColumn-1);return KE._typeCommand(n,"\n"+e.normalizeIndentation(o),i)}const o=Xh.getEnterAction(e.autoIndent,t,n);if(o){if(o.indentAction===Kd.None)return KE._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Kd.Indent)return KE._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Kd.IndentOutdent){const t=e.normalizeIndentation(o.indentation),r=e.normalizeIndentation(o.indentation+o.appendText),s="\n"+r+"\n"+t;return i?new EE(n,s,!0):new xE(n,s,-1,r.length-t.length,!0)}if(o.indentAction===Kd.Outdent){const t=KE.unshiftIndent(e,o.indentation);return KE._typeCommand(n,"\n"+e.normalizeIndentation(t+o.appendText),i)}}const r=Na(t.getLineContent(n.startLineNumber)).substring(0,n.startColumn-1);if(e.autoIndent>=4){const o=Xh.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:t=>KE.unshiftIndent(e,t),shiftIndent:t=>KE.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(o){let r=yw.visibleColumnFromColumn2(e,t,n.getEndPosition());const s=n.endColumn,a=Aa(t.getLineContent(n.endLineNumber));if(n=a>=0?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,a+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new EE(n,"\n"+e.normalizeIndentation(o.afterEnter),!0);{let t=0;return s<=a+1&&(e.insertSpaces||(r=Math.ceil(r/e.indentSize)),t=Math.min(r+1-e.normalizeIndentation(o.afterEnter).length-1,0)),new xE(n,"\n"+e.normalizeIndentation(o.afterEnter),0,t,!0)}}}return KE._typeCommand(n,"\n"+e.normalizeIndentation(r),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const o=Xh.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),r=Xh.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:t=>KE.shiftIndent(e,t),unshiftIndent:t=>KE.unshiftIndent(e,t)});if(null===r)return null;if(r!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===o?KE._typeCommand(new Hn(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+n,!1):KE._typeCommand(new Hn(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+t.getLineContent(i.startLineNumber).substring(o-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let r=0,s=i.length;r<s;r++){const s=i[r];if(!s.isEmpty())return!1;const a=s.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==o)return!1;const u=MI(o);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&u)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a.lineNumber===i.startLineNumber&&a.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){let r=[];for(let s=0,a=n.length;s<a;s++){const e=n[s].getPosition(),t=new Hn(e.lineNumber,e.column,e.lineNumber,e.column+1);r[s]=new kE(t,o)}return new FI(4,r,{shouldPushStackElementBefore:qE(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],r=n.some((e=>t.startsWith(e.open))),s=o.some((e=>t.startsWith(e.close)));return!r&&s}static _findAutoClosingPairOpen(e,t,i,n){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let r=null;for(const s of o)if(null===r||s.open.length>r.open.length){let e=!0;for(const o of i){if(t.getValueInRange(new Hn(o.lineNumber,o.column-s.open.length+1,o.lineNumber,o.column))+n!==s.open){e=!1;break}}e&&(r=s)}return r}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";const i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const r of n)r.open!==t.open&&t.open.includes(r.open)&&t.close.endsWith(r.close)&&(!o||r.open.length>o.open.length)&&(o=r);return o?o.close:""}static _getAutoClosingPairClose(e,t,i,n,o){const r=MI(n),s=r?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===s)return null;const a=this._findAutoClosingPairOpen(e,t,i.map((e=>e.getPosition())),n);if(!a)return null;const l=this._findSubAutoClosingPairClose(e,a);let u=!0;const c=r?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let d=0,h=i.length;d<h;d++){const r=i[d];if(!r.isEmpty())return null;const h=r.getPosition(),g=t.getLineContent(h.lineNumber),p=g.substring(h.column-1);if(p.startsWith(l)||(u=!1),g.length>h.column-1){const t=g.charAt(h.column-1);if(!KE._isBeforeClosingBrace(e,p)&&!c(t))return null}if(!t.isCheapToTokenize(h.lineNumber))return null;if(1===a.open.length&&("'"===n||'"'===n)&&"always"!==s){const t=lC(e.wordSeparators);if(o&&h.column>1&&0===t.get(g.charCodeAt(h.column-2)))return null;if(!o&&h.column>2&&0===t.get(g.charCodeAt(h.column-3)))return null}t.forceTokenization(h.lineNumber);const m=t.getLineTokens(h.lineNumber);let f=!1;try{f=Xh.shouldAutoClosePair(a,m,o?h.column:h.column-1)}catch(rU){li(rU)}if(!f)return null}return u?a.close.substring(0,a.close.length-l.length):a.close}static _runAutoClosingOpenCharType(e,t,i,n,o,r,s){let a=[];for(let l=0,u=n.length;l<u;l++){const e=n[l];a[l]=new UE(e,o,r,s)}return new FI(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return MI(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!KE._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const o=MI(n);for(let r=0,s=i.length;r<s;r++){const e=i[r];if(e.isEmpty())return!1;let n=!0;for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const o=t.getLineContent(i),r=i===e.startLineNumber?e.startColumn-1:0,s=i===e.endLineNumber?e.endColumn-1:o.length,a=o.substring(r,s);if(/[^ \t]/.test(a)){n=!1;break}}if(n)return!1;if(o&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){if(MI(t.getValueInRange(e)))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){let r=[];for(let s=0,a=n.length;s<a;s++){const e=n[s],i=t.surroundingPairs[o];r[s]=new zE(e,o,i)}return new FI(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,o){if(!t.electricChars.hasOwnProperty(o)||!n.isEmpty())return null;let r=n.getPosition();i.forceTokenization(r.lineNumber);let s,a=i.getLineTokens(r.lineNumber);try{s=Xh.onElectricCharacter(o,a,r.column)}catch(rU){return li(rU),null}if(!s)return null;if(s.matchOpenBracket){let n=(a.getLineContent()+o).lastIndexOf(s.matchOpenBracket)+1,l=i.findMatchingBracketUp(s.matchOpenBracket,{lineNumber:r.lineNumber,column:n});if(l){if(l.startLineNumber===r.lineNumber)return null;let n=Na(i.getLineContent(l.startLineNumber)),s=t.normalizeIndentation(n),a=i.getLineContent(r.lineNumber),u=i.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,c=s+a.substring(u-1,r.column-1)+o,d=new Hn(r.lineNumber,1,r.lineNumber,r.column);const h=new kE(d,c);return new FI(jE(c,e),[h],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,r){if(!n||zn.selectionsArrEqual(n,o))return null;let s=null;for(const l of o){if(!l.isEmpty())return null;const e=l.getPosition(),t=i.getValueInRange(new Hn(e.lineNumber,e.column-1,e.lineNumber,e.column));if(null===s)s=t;else if(s!==t)return null}if(!s)return null;if(this._isAutoClosingOvertype(t,i,o,r,s)){const e=o.map((e=>new kE(new Hn(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new FI(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const a=this._getAutoClosingPairClose(t,i,o,s,!1);return null!==a?this._runAutoClosingOpenCharType(e,t,i,o,s,!1,a):null}static typeWithInterceptors(e,t,i,n,o,r,s){if(!e&&"\n"===s){let e=[];for(let t=0,r=o.length;t<r;t++)e[t]=KE._enter(i,n,!1,o[t]);return new FI(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){let e=[],t=!1;for(let r=0,a=o.length;r<a;r++)if(e[r]=this._runAutoIndentType(i,n,o[r],s),!e[r]){t=!0;break}if(!t)return new FI(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,o,r,s))return this._runAutoClosingOvertype(t,i,n,o,s);if(!e){const e=this._getAutoClosingPairClose(i,n,o,s,!0);if(e)return this._runAutoClosingOpenCharType(t,i,n,o,s,!0,e)}if(this._isSurroundSelectionType(i,n,o,s))return this._runSurroundSelectionType(t,i,n,o,s);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){const e=this._typeInterceptorElectricChar(t,i,n,o[0],s);if(e)return e}let a=[];for(let u=0,c=o.length;u<c;u++)a[u]=new kE(o[u],s);const l=jE(s,t);return new FI(l,a,{shouldPushStackElementBefore:qE(t,l),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){let r=[];for(let a=0,l=n.length;a<l;a++)r[a]=new kE(n[a],o);const s=jE(o,e);return new FI(s,r,{shouldPushStackElementBefore:qE(e,s),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,r=i.length;o<r;o++){let r=i[o].positionLineNumber;if(1===r)n[o]=new EE(new Hn(1,1,1,1),"\n");else{r--;let i=t.getLineMaxColumn(r);n[o]=this._enter(e,t,!1,new Hn(r,i,r,i))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,r=i.length;o<r;o++){const r=i[o].positionLineNumber;let s=t.getLineMaxColumn(r);n[o]=this._enter(e,t,!1,new Hn(r,s,r,s))}return n}static lineBreakInsert(e,t,i){let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class UE extends xE{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Hn(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new Hn(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}function jE(e,t){return" "===e?5===t||6===t?6:5:4}function qE(e,t){return!(!GE(e)||GE(t))||5!==e&&$E(e)!==$E(t)}function $E(e){return 6===e||5===e?"space":e}function GE(e){return 4===e||5===e||6===e}var ZE,YE;(YE=ZE||(ZE={})).editorSimpleInput=new Cf("editorSimpleInput",!1,!0),YE.editorTextFocus=new Cf("editorTextFocus",!1,it("vs/editor/common/editorContextKeys","editorTextFocus","Whether the editor text has focus (cursor is blinking)")),YE.focus=new Cf("editorFocus",!1,it("vs/editor/common/editorContextKeys","editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),YE.textInputFocus=new Cf("textInputFocus",!1,it("vs/editor/common/editorContextKeys","textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),YE.readOnly=new Cf("editorReadonly",!1,it("vs/editor/common/editorContextKeys","editorReadonly","Whether the editor is read only")),YE.inDiffEditor=new Cf("inDiffEditor",!1,it("vs/editor/common/editorContextKeys","inDiffEditor","Whether the context is a diff editor")),YE.columnSelection=new Cf("editorColumnSelection",!1,it("vs/editor/common/editorContextKeys","editorColumnSelection","Whether `editor.columnSelection` is enabled")),YE.writable=YE.readOnly.toNegated(),YE.hasNonEmptySelection=new Cf("editorHasSelection",!1,it("vs/editor/common/editorContextKeys","editorHasSelection","Whether the editor has text selected")),YE.hasOnlyEmptySelection=YE.hasNonEmptySelection.toNegated(),YE.hasMultipleSelections=new Cf("editorHasMultipleSelections",!1,it("vs/editor/common/editorContextKeys","editorHasMultipleSelections","Whether the editor has multiple selections")),YE.hasSingleSelection=YE.hasMultipleSelections.toNegated(),YE.tabMovesFocus=new Cf("editorTabMovesFocus",!1,it("vs/editor/common/editorContextKeys","editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),YE.tabDoesNotMoveFocus=YE.tabMovesFocus.toNegated(),YE.isInWalkThroughSnippet=new Cf("isInEmbeddedEditor",!1,!0),YE.canUndo=new Cf("canUndo",!1,!0),YE.canRedo=new Cf("canRedo",!1,!0),YE.hoverVisible=new Cf("editorHoverVisible",!1,it("vs/editor/common/editorContextKeys","editorHoverVisible","Whether the editor hover is visible")),YE.inCompositeEditor=new Cf("inCompositeEditor",void 0,it("vs/editor/common/editorContextKeys","inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),YE.notInCompositeEditor=YE.inCompositeEditor.toNegated(),YE.languageId=new Cf("editorLangId","",it("vs/editor/common/editorContextKeys","editorLangId","The language identifier of the editor")),YE.hasCompletionItemProvider=new Cf("editorHasCompletionItemProvider",!1,it("vs/editor/common/editorContextKeys","editorHasCompletionItemProvider","Whether the editor has a completion item provider")),YE.hasCodeActionsProvider=new Cf("editorHasCodeActionsProvider",!1,it("vs/editor/common/editorContextKeys","editorHasCodeActionsProvider","Whether the editor has a code actions provider")),YE.hasCodeLensProvider=new Cf("editorHasCodeLensProvider",!1,it("vs/editor/common/editorContextKeys","editorHasCodeLensProvider","Whether the editor has a code lens provider")),YE.hasDefinitionProvider=new Cf("editorHasDefinitionProvider",!1,it("vs/editor/common/editorContextKeys","editorHasDefinitionProvider","Whether the editor has a definition provider")),YE.hasDeclarationProvider=new Cf("editorHasDeclarationProvider",!1,it("vs/editor/common/editorContextKeys","editorHasDeclarationProvider","Whether the editor has a declaration provider")),YE.hasImplementationProvider=new Cf("editorHasImplementationProvider",!1,it("vs/editor/common/editorContextKeys","editorHasImplementationProvider","Whether the editor has an implementation provider")),YE.hasTypeDefinitionProvider=new Cf("editorHasTypeDefinitionProvider",!1,it("vs/editor/common/editorContextKeys","editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),YE.hasHoverProvider=new Cf("editorHasHoverProvider",!1,it("vs/editor/common/editorContextKeys","editorHasHoverProvider","Whether the editor has a hover provider")),YE.hasDocumentHighlightProvider=new Cf("editorHasDocumentHighlightProvider",!1,it("vs/editor/common/editorContextKeys","editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),YE.hasDocumentSymbolProvider=new Cf("editorHasDocumentSymbolProvider",!1,it("vs/editor/common/editorContextKeys","editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),YE.hasReferenceProvider=new Cf("editorHasReferenceProvider",!1,it("vs/editor/common/editorContextKeys","editorHasReferenceProvider","Whether the editor has a reference provider")),YE.hasRenameProvider=new Cf("editorHasRenameProvider",!1,it("vs/editor/common/editorContextKeys","editorHasRenameProvider","Whether the editor has a rename provider")),YE.hasSignatureHelpProvider=new Cf("editorHasSignatureHelpProvider",!1,it("vs/editor/common/editorContextKeys","editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),YE.hasInlayHintsProvider=new Cf("editorHasInlayHintsProvider",!1,it("vs/editor/common/editorContextKeys","editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),YE.hasDocumentFormattingProvider=new Cf("editorHasDocumentFormattingProvider",!1,it("vs/editor/common/editorContextKeys","editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),YE.hasDocumentSelectionFormattingProvider=new Cf("editorHasDocumentSelectionFormattingProvider",!1,it("vs/editor/common/editorContextKeys","editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),YE.hasMultipleDocumentFormattingProvider=new Cf("editorHasMultipleDocumentFormattingProvider",!1,it("vs/editor/common/editorContextKeys","editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),YE.hasMultipleDocumentSelectionFormattingProvider=new Cf("editorHasMultipleDocumentSelectionFormattingProvider",!1,it("vs/editor/common/editorContextKeys","editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"));class JE extends r_{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}var XE,QE,ex,tx,ix;(QE=XE||(XE={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!Ql(e))return!1;const t=e;return!(!Xl(t.to)||!iu(t.by)&&!Xl(t.by)||!iu(t.value)&&!eu(t.value)||!iu(t.revealCursor)&&!tu(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},QE.RawDirection={Up:"up",Down:"down"},QE.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},QE.parse=function(e){let t,i;switch(e.to){case QE.RawDirection.Up:t=1;break;case QE.RawDirection.Down:t=2;break;default:return null}switch(e.by){case QE.RawUnit.Line:i=1;break;case QE.RawUnit.WrappedLine:i=2;break;case QE.RawUnit.Page:i=3;break;case QE.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:t,unit:i,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(tx=ex||(ex={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!Ql(e))return!1;const t=e;return!(!eu(t.lineNumber)&&!Xl(t.lineNumber)||!iu(t.at)&&!Xl(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},tx.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class nx{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(fr).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(e,i,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const i=e.get(fr).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))}))}_runEditorCommand(e,t,i){const n=this.runEditorCommand(e,t,i);return n||!0}}!function(e){class t extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[RE.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=c_(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=c_(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends JE{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,i.viewStates.map((e=>OI.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=c_(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){const o=e.model.validatePosition(n.position),r=e.coordinatesConverter.validateViewPosition(new Vn(n.viewPosition.lineNumber,n.viewPosition.column),o);let s=n.doColumnSelect?i.fromViewLineNumber:r.lineNumber,a=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return DE.columnSelect(e.cursorConfig,e,s,a,r.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=c_(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return DE.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=c_(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return DE.columnSelectRight(e.cursorConfig,e,i)}});class n extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return DE.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=c_(new n({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=c_(new n({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3595,linux:{primary:0}}}));class o extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return DE.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=c_(new o({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=c_(new o({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3596,linux:{primary:0}}}));class r extends JE{constructor(){super({id:"cursorMove",precondition:void 0,description:PE.description})}runCoreEditorCommand(e,t){const i=PE.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,r._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){const n=i.select,o=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return RE.simpleMove(e,t,i.direction,n,o,i.unit);case 11:case 13:case 12:case 14:return RE.viewportMove(e,t,i.direction,n,o);default:return null}}}e.CursorMoveImpl=r,e.CursorMove=c_(new r);class s extends JE{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,RE.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=c_(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=c_(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1039}})),e.CursorRight=c_(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=c_(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1041}})),e.CursorUp=c_(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=c_(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=c_(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:11}})),e.CursorPageUpSelect=c_(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1035}})),e.CursorDown=c_(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=c_(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=c_(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:12}})),e.CursorPageDownSelect=c_(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1036}})),e.CreateCursor=c_(new class extends JE{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let i;i=t.wholeLine?RE.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):RE.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(n.length>1){const o=i.modelState?i.modelState.position:null,r=i.viewState?i.viewState.position:null;for(let i=0,s=n.length;i<s;i++){const s=n[i];if((!o||s.modelState.selection.containsPosition(o))&&(!r||s.viewState.selection.containsPosition(r)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=c_(new class extends JE{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=RE.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class a extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,RE.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=c_(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=c_(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=n.modelState.position.lineNumber;t[i]=OI.fromModelState(n.modelState.move(this._inSelectionMode,o,1,0))}return t}}e.CursorLineStart=c_(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=c_(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:0,mac:{primary:1311}}}));class u extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,RE.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=c_(new u({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:ZE.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:it("vs/editor/browser/controller/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=c_(new u({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:ZE.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:it("vs/editor/browser/controller/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class c extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],r=o.modelState.position.lineNumber,s=e.model.getLineMaxColumn(r);i[n]=OI.fromModelState(o.modelState.move(this._inSelectionMode,r,s,0))}return i}}e.CursorLineEnd=c_(new c({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=c_(new c({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:0,mac:{primary:1315}}}));class d extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,RE.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=c_(new d({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=c_(new d({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,RE.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=c_(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=c_(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:3085,mac:{primary:3090}}}));class g extends JE{constructor(){super({id:"editorScroll",precondition:void 0,description:XE.description})}runCoreEditorCommand(e,t){const i=XE.parse(t);i&&this._runEditorScroll(e,t.source,i)}_runEditorScroll(e,t,i){const n=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const o=e.getCompletelyVisibleViewRangeAtScrollTop(n);e.setCursorStates(t,3,[RE.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,i.select)])}e.setScrollTop(n,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.getCompletelyVisibleViewRange(),n=e.coordinatesConverter.convertViewRangeToModelRange(i);let o;o=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);const r=e.coordinatesConverter.convertModelPositionToViewPosition(new Vn(o,1));return e.getVerticalOffsetForLineNumber(r.lineNumber)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const n=(1===t.direction?-1:1)*i;return e.getScrollTop()+n*e.cursorConfig.lineHeight}}e.EditorScrollImpl=g,e.EditorScroll=c_(new g),e.ScrollLineUp=c_(new class extends JE{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=c_(new class extends JE{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=c_(new class extends JE{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=c_(new class extends JE{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class p extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[RE.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=c_(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=c_(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=c_(new class extends JE{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0),r=n[i];o[i]=RE.word(e,r,r.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class m extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[RE.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=c_(new m({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=c_(new m({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class f extends JE{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=RE.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=c_(new f({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=c_(new f({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=c_(new class extends JE{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,RE.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=c_(new class extends JE{constructor(){super({id:"cancelSelection",precondition:ZE.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[RE.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=c_(new class extends JE{constructor(){super({id:"removeSecondaryCursors",precondition:ZE.hasMultipleSelections,kbOpts:{weight:1,kbExpr:ZE.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),xv(it("vs/editor/browser/controller/coreCommands","removedCursor","Removed secondary cursors"))}}),e.RevealLine=c_(new class extends JE{constructor(){super({id:"revealLine",precondition:void 0,description:ex.description})}runCoreEditorCommand(e,t){const i=t,n=i.lineNumber||0;let o="number"==typeof n?n+1:parseInt(n)+1;o<1&&(o=1);const r=e.model.getLineCount();o>r&&(o=r);const s=new Hn(o,1,o,e.model.getLineMaxColumn(o));let a=0;if(i.at)switch(i.at){case ex.RawAtArgument.Top:a=3;break;case ex.RawAtArgument.Center:a=1;break;case ex.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends nx{constructor(){super(w_)}runDOMCommand(){yr&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[RE.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=c_(new class extends JE{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[OI.fromModelSelection(t.selection)])}})}(ix||(ix={}));const ox=Qm.and(ZE.textInputFocus,ZE.columnSelection);function rx(e,t){Af.registerKeybindingRule({id:e,primary:t,when:ox,weight:1})}function sx(e){return e.register(),e}var ax,lx;rx(ix.CursorColumnSelectLeft.id,1039),rx(ix.CursorColumnSelectRight.id,1041),rx(ix.CursorColumnSelectUp.id,1040),rx(ix.CursorColumnSelectPageUp.id,1035),rx(ix.CursorColumnSelectDown.id,1042),rx(ix.CursorColumnSelectPageDown.id,1036),function(e){class t extends r_{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=c_(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:ZE.writable,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,KE.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=c_(new class extends t{constructor(){super({id:"outdent",precondition:ZE.writable,kbOpts:{weight:0,kbExpr:Qm.and(ZE.editorTextFocus,ZE.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,KE.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=c_(new class extends t{constructor(){super({id:"tab",precondition:ZE.writable,kbOpts:{weight:0,kbExpr:Qm.and(ZE.editorTextFocus,ZE.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,KE.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=c_(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[n,o]=TE.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=c_(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:ZE.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[n,o]=TE.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends nx{constructor(){super(b_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().undo()}},e.Redo=new class extends nx{constructor(){super(C_)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().redo()}}}(ax||(ax={}));class ux extends i_{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(fr).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function cx(e,t){sx(new ux("default:"+e,e)),sx(new ux(e,e,t))}cx("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),cx("replacePreviousChar"),cx("compositionType"),cx("compositionStart"),cx("compositionEnd"),cx("paste"),cx("cut");class dx{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){ix.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Vn(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=_t&&t.get(95),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){ix.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){ix.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),ix.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),ix.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){ix.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){ix.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){ix.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){ix.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){ix.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){ix.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){ix.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){ix.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){ix.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class hx{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return hx.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new gx(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class gx{constructor(e,t,i,n,o,r){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,this.range=o,this.detail=r}toString(){return HI.toString(this)}}class px{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const i=t-e+1;return this._rendLineNumberStart-=i,null}if(e>n)return null;let o=0,r=0;for(let s=i;s<=n;s++){const i=s-this._rendLineNumberStart;e<=s&&s<=t&&(0===r?(o=i,r=1):r++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(o,r)}onLinesChanged(e,t){if(0===this.getCount())return!1;const i=this.getStartLineNumber(),n=this.getEndLineNumber();let o=!1;for(let r=e;r<=t;r++)r>=i&&r<=n&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o){return this._lines.splice(e-this._rendLineNumberStart,o-e+1)}const r=[];for(let c=0;c<i;c++)r[c]=this._createLine();const s=e-this._rendLineNumberStart,a=this._lines.slice(0,s),l=this._lines.slice(s,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(r).concat(l),u}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=0,r=e.length;o<r;o++){const r=e[o];if(r.toLineNumber<t||r.fromLineNumber>i)continue;const s=Math.max(t,r.fromLineNumber),a=Math.min(i,r.toLineNumber);for(let e=s;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),n=!0}}return n}}class mx{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new px((()=>this._host.createVisibleLine()))}_createDomNode(){const e=T_(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new fx(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class fx{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let e=t;e<=i;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){const e=t,r=Math.min(i,o.rendLineNumberStart-1);e<=r&&(this._insertLinesBefore(o,e,r,n,t),o.linesLength+=r-e+1)}else if(o.rendLineNumberStart<t){const e=Math.min(o.linesLength,t-o.rendLineNumberStart);e>0&&(this._removeLinesBefore(o,e),o.linesLength-=e)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const e=o.rendLineNumberStart+o.linesLength,r=i;e<=r&&(this._insertLinesAfter(o,e,r,n,t),o.linesLength+=r-e+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const e=Math.max(0,i-o.rendLineNumberStart+1),t=o.linesLength-1-e+1;t>0&&(this._removeLinesAfter(o,t),o.linesLength-=t)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){const r=e.rendLineNumberStart,s=e.lines;for(let a=t;a<=i;a++){const e=r+a;s[a].layoutLine(e,n[e-o])}}_insertLinesBefore(e,t,i,n,o){const r=[];let s=0;for(let a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const t=e.lines[i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const r=[];let s=0;for(let a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const t=e.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){fx._ttPolicy&&(i=fx._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let s=e.linesLength-1;s>=0;s--){const t=e.lines[s];n[s]&&(t.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");fx._ttPolicy&&(t=fx._ttPolicy.createHTML(t)),n.innerHTML=t;for(let o=0;o<e.linesLength;o++){const t=e.lines[o];if(i[o]){const e=n.firstChild,i=t.getDomNode();i.parentNode.replaceChild(e,i),t.setDomNode(e)}}}_finishRendering(e,t,i){const n=fx._sb,o=e.linesLength,r=e.lines,s=e.rendLineNumberStart,a=[];{n.reset();let l=!1;for(let e=0;e<o;e++){const t=r[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+s,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=r[e];if(l[e]=!1,a[e])continue;o.renderLine(e+s,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}fx._ttPolicy=null===(lx=window.trustedTypes)||void 0===lx?void 0:lx.createPolicy("editorViewLayer",{createHTML:e=>e}),fx._sb=oh(1e5);class vx extends G_{constructor(e){super(e),this._visibleLines=new mx(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new _x(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){this._visibleLines.getVisibleLine(n).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class _x{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=T_(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,t,i,n){let o="";for(let r=0,s=this._dynamicOverlays.length;r<s;r++){o+=this._dynamicOverlays[r].render(i.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class bx extends vx{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Cx extends vx{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),A_.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(e){const t=this._context.configuration.options;A_.applyFontInfo(this.domNode,t.get(43));const i=t.get(129);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class wx{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class yx extends G_{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=T_(document.createElement("div")),Z_.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=T_(document.createElement("div")),Z_.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new Sx(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class Sx{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=T_(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(129);this._fixedOverflowWidgets=n.get(36),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(58),e.hasChanged(129)){const e=t.get(129);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,n,o){const r=e.top,s=r,a=t.top+this._lineHeight,l=r-n,u=s>=n,c=a,d=o.viewportHeight-a>=n;let h=e.left,g=t.left;return h+i>o.scrollLeft+o.viewportWidth&&(h=o.scrollLeft+o.viewportWidth-i),g+i>o.scrollLeft+o.viewportWidth&&(g=o.scrollLeft+o.viewportWidth-i),h<o.scrollLeft&&(h=o.scrollLeft),g<o.scrollLeft&&(g=o.scrollLeft),{fitsAbove:u,aboveTop:l,aboveLeft:h,fitsBelow:d,belowTop:c,belowLeft:g}}_layoutHorizontalSegmentInPage(e,t,i,n){const o=Math.max(0,t.left-n),r=Math.min(t.left+t.width+n,e.width);let s=t.left+i-Ms.scrollX;if(s+n>r){const e=s-(r-n);s-=e,i-=e}if(s<o){const e=s-o;s-=e,i-=e}return[i,s]}_layoutBoxInPage(e,t,i,n,o){const r=e.top-n,s=t.top+this._lineHeight,a=Fs(this._viewDomNode.domNode),l=a.top+r-Ms.scrollY,u=a.top+s-Ms.scrollY,c=Ls(document.body),[d,h]=this._layoutHorizontalSegmentInPage(c,a,e.left-o.scrollLeft+this._contentLeft,i),[g,p]=this._layoutHorizontalSegmentInPage(c,a,t.left-o.scrollLeft+this._contentLeft,i),m=l>=22,f=u+n<=c.height-22;return this._fixedOverflowWidgets?{fitsAbove:m,aboveTop:Math.max(l,22),aboveLeft:h,fitsBelow:f,belowTop:u,belowLeft:p}:{fitsAbove:m,aboveTop:r,aboveLeft:d,fitsBelow:f,belowTop:s,belowLeft:g}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new wx(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const u of t)u.lineNumber<i.lineNumber&&(i=u),u.lineNumber>n.lineNumber&&(n=u);let o=1073741824;for(const u of i.ranges)u.left<o&&(o=u.left);let r=1073741824;for(const u of n.ranges)u.left<r&&(r=u.left);const s=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,a=new wx(s,o),l=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop;return[a,new wx(l,r)]}_prepareRenderWidget(e){const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=Dx(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeClientWidth=e.width,this._cachedDomNodeClientHeight=e.height;else{const e=this.domNode.domNode;this._cachedDomNodeClientWidth=e.clientWidth,this._cachedDomNodeClientHeight=e.clientHeight}}let n;if(n=this.allowEditorOverflow?this._layoutBoxInPage(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let o=1;o<=2;o++)for(const e of this._preference)if(1===e){if(!n)return null;if(2===o||n.fitsAbove)return{coordinate:new wx(n.aboveTop,n.aboveLeft),position:1}}else{if(2!==e)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};if(!n)return null;if(2===o||n.fitsBelow)return{coordinate:new wx(n.belowTop,n.belowLeft),position:2}}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Dx(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Dx(this._actual.afterRender,this._actual,this._renderData.position)}}function Dx(e,t,...i){try{return e.call(t,...i)}catch(n){return null}}let kx=!0;class Ix extends _E{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new zn(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=kx?this._selections.slice(0,1):this._selections,i=t.map((e=>e.positionLineNumber));i.sort(((e,t)=>e-t)),Pg(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const n=t.every((e=>e.isEmpty()));return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let r=0;const s=[];for(let a=i;a<=n;a++){const e=a-i;for(;r<o&&this._cursorLineNumbers[r]<a;)r++;r<o&&this._cursorLineNumbers[r]===a?s[e]=t:s[e]=""}this._renderData=s}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}}class Ex extends Ix{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class xx extends Ix{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}qv(((e,t)=>{kx=!1;const i=e.getColor(rk);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||e.defines(sk)){const i=e.getColor(sk);i&&(kx=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class Lx extends _E{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(i[n++]=e)}i=i.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const i=e.options.className,n=t.options.className;return i<n?-1:i>n?1:Hn.compareRangesUsingStarts(e.range,t.range)}));const o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=[];for(let a=o;a<=r;a++){s[a-o]=""}this._renderWholeLineDecorations(e,i,s),this._renderNormalDecorations(e,i,s),this._renderResult=s}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let s=0,a=t.length;s<a;s++){const e=t[s];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(e.range.startLineNumber,o),u=Math.min(e.range.endLineNumber,r);for(let t=l;t<=u;t++){i[t-o]+=a}}}_renderNormalDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber;let r=null,s=!1,a=null;for(let l=0,u=t.length;l<u;l++){const u=t[l];if(u.options.isWholeLine)continue;const c=u.options.className,d=Boolean(u.options.showIfCollapsed);let h=u.range;d&&1===h.endColumn&&h.endLineNumber!==h.startLineNumber&&(h=new Hn(h.startLineNumber,h.startColumn,h.endLineNumber-1,this._context.model.getLineMaxColumn(h.endLineNumber-1))),r===c&&s===d&&Hn.areIntersectingOrTouching(a,h)?a=Hn.plusRange(a,h):(null!==r&&this._renderNormalDecoration(e,a,r,s,n,o,i),r=c,s=d,a=h)}null!==r&&this._renderNormalDecoration(e,a,r,s,n,o,i)}_renderNormalDecoration(e,t,i,n,o,r,s){const a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(let l=0,u=a.length;l<u;l++){const e=a[l];if(e.outsideRenderedLine)continue;const t=e.lineNumber-r;if(n&&1===e.ranges.length){const t=e.ranges[0];0===t.width&&(e.ranges[0]=new X_(t.left,this._typicalHalfwidthCharacterWidth))}for(let n=0,r=e.ranges.length;n<r;n++){const r=e.ranges[n],a='<div class="cdr '+i+'" style="left:'+String(r.left)+"px;width:"+String(r.width)+"px;height:"+o+'px;"></div>';s[t]+=a}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class Ax extends Si{onclick(e,t){this._register(ps(e,Qs.CLICK,(e=>t(new zr(e)))))}onmousedown(e,t){this._register(ps(e,Qs.MOUSE_DOWN,(e=>t(new zr(e)))))}onmouseover(e,t){this._register(ps(e,Qs.MOUSE_OVER,(e=>t(new zr(e)))))}onnonbubblingmouseout(e,t){this._register(Cs(e,(e=>t(new zr(e)))))}onkeydown(e,t){this._register(ps(e,Qs.KEY_DOWN,(e=>t(new Pr(e)))))}onkeyup(e,t){this._register(ps(e,Qs.KEY_UP,(e=>t(new Pr(e)))))}oninput(e,t){this._register(ps(e,Qs.INPUT,t))}onblur(e,t){this._register(ps(e,Qs.BLUR,t))}onfocus(e,t){this._register(ps(e,Qs.FOCUS,t))}ignoreGesture(e){R_.ignoreTarget(e)}}class Nx extends Ax{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new B_),this.onmousedown(this.bgDomNode,(e=>this._arrowMouseDown(e))),this.onmousedown(this.domNode,(e=>this._arrowMouseDown(e))),this._mousedownRepeatTimer=this._register(new es),this._mousedownScheduleRepeatTimer=this._register(new Qr)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((()=>{this._mousedownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,P_,(e=>{}),(()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()}}class Tx extends Si{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Qr)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)}),0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}class Ox extends Ax{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Tx(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new B_),this._shouldRender=!0,this.domNode=T_(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,(e=>this._domNodeMouseDown(e)))}_createArrow(e){const t=this._register(new Nx(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=T_(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))})),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);i<=o&&o<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{}))):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{const n=Fs(this.domNode.domNode);t=e.posx-n.left,i=e.posy-n.top}const n=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,P_,(e=>{const t=this._sliderOrthogonalMousePosition(e),r=Math.abs(t-n);if(ft&&r>140)return void this._setDesiredScrollPositionNow(o.getScrollPosition());const s=this._sliderMousePosition(e)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(s))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class Fx{constructor(e,t,i,n,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Fx(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){const r=Math.max(0,i-e),s=Math.max(0,r-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(i*s/n))),u=(s-l)/(n-i),c=o*u;return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:u,computedSliderPosition:Math.round(c)}}_refreshComputedValues(){const e=Fx._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}const Mx=Mc("scrollbar-button-left",Rc.triangleLeft),Rx=Mc("scrollbar-button-right",Rc.triangleRight);class Px extends Ox{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Fx(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-11)/2,i=(t.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:Mx,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Kr(null,1,0))}),this._createArrow({className:"scra",icon:Rx,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Kr(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}const Bx=Mc("scrollbar-button-up",Rc.triangleUp),Wx=Mc("scrollbar-button-down",Rc.triangleDown);class Vx extends Ox{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Fx(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-11)/2,i=(t.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:Bx,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Kr(null,0,1))}),this._createArrow({className:"scra",icon:Wx,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Kr(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class Hx{constructor(e,t,i,n,o,r){this._scrollStateBrand=void 0,e|=0,t|=0,i|=0,n|=0,o|=0,r|=0,this.rawScrollLeft=i,this.rawScrollTop=r,e<0&&(e=0),i+e>t&&(i=t-e),i<0&&(i=0),n<0&&(n=0),r+n>o&&(r=o-n),r<0&&(r=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=n,this.scrollHeight=o,this.scrollTop=r}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new Hx(void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new Hx(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:s,scrollTopChanged:a}}}class zx extends Si{constructor(e,t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new Ti),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new Hx(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;n=t?new jx(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=jx.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class Kx{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function Ux(e,t){const i=t-e;return function(t){return e+i*(1-function(e){return Math.pow(e,3)}(1-t))}}class jx{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let s,a;return e<t?(s=e+.75*i,a=t-.75*i):(s=e-.75*i,a=t+.75*i),n=Ux(e,s),o=Ux(a,t),r=.33,function(e){return e<r?n(e/r):o((e-r)/(1-r))}}var n,o,r;return Ux(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),i=this.scrollTop(t);return new Kx(e,i,!1)}return new Kx(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return jx.start(e,t,i)}static start(e,t,i){i+=10;const n=Date.now()-10;return new jx(e,t,n,i)}}class qx{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class $x{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const n=new qx(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return(-1!==this._front||-1!==this._rear)&&this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}$x.INSTANCE=new $x;class Gx extends Ax{constructor(e,t,i){super(),this._onScroll=this._register(new Ti),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new Ti),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,vt&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const n={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Vx(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new Px(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=T_(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=T_(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=T_(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onnonbubblingmouseout(this._listenOnDomNode,(e=>this._onMouseOut(e))),this._hideTimeout=this._register(new Qr),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=bi(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,vt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=bi(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new Kr(e))};this._mouseWheelToDispose.push(ps(this._listenOnDomNode,Qs.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=$x.INSTANCE;{const i=window.devicePixelRatio/vr.INSTANCE.getZoomFactor();ft||_t?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let n=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(n)>=Math.abs(o)?o=0:n=0),this._options.flipAxes&&([n,o]=[o,n]);const r=!vt&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!r||o||(o=n,n=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,n*=this._options.fastScrollSensitivity);const s=this._scrollable.getFutureScrollPosition();let a={};if(n){const e=50*n,t=s.scrollTop-(e<0?Math.floor(e):Math.ceil(e));this._verticalScrollbar.writeScrollPosition(a,t)}if(o){const e=50*o,t=s.scrollLeft-(e<0?Math.floor(e):Math.ceil(e));this._horizontalScrollbar.writeScrollPosition(a,t)}if(a=this._scrollable.validateScrollPosition(a),s.scrollLeft!==a.scrollLeft||s.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),i=!0}}let n=i;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",r=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${r}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class Zx extends Gx{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new zx(0,(e=>ys(e)));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Yx extends Gx{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Jx extends Zx{constructor(e,t){super(e,t),this._element=e,this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)})),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class Xx extends G_{constructor(e,t,i,n){super(e);const o=this._context.configuration.options,r=o.get(91),s=o.get(66),a=o.get(34),l=o.get(94),u={listenOnDomNode:i.domNode,className:"editor-scrollable "+Kv(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:s,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new Yx(t.domNode,u,this._context.viewLayout.getScrollable())),Z_.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=T_(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(e,t,i)=>{const n={};if(t){const t=e.scrollTop;t&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(i){const t=e.scrollLeft;t&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.model.setScrollPosition(n,1)};this._register(ps(i.domNode,"scroll",(e=>c(i.domNode,!0,!0)))),this._register(ps(t.domNode,"scroll",(e=>c(t.domNode,!0,!1)))),this._register(ps(n.domNode,"scroll",(e=>c(n.domNode,!0,!1)))),this._register(ps(this.scrollbarDomNode.domNode,"scroll",(e=>c(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(129);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(64).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const e=this._context.configuration.options,t=e.get(91),i=e.get(66),n=e.get(34),o=e.get(94),r={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:o};this.scrollbar.updateOptions(r)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+Kv(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}qv(((e,t)=>{const i=e.getColor(Wy);i&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${i} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${i} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${i} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const n=e.getColor(Vy);n&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${n};\n\t\t\t}\n\t\t`);const o=e.getColor(Hy);o&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${o};\n\t\t\t}\n\t\t`);const r=e.getColor(zy);r&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${r};\n\t\t\t}\n\t\t`)}));class Qx{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class eL extends _E{_render(e,t,i){const n=[];for(let s=e;s<=t;s++){n[s-e]=[]}if(0===i.length)return n;i.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let o=null,r=0;for(let s=0,a=i.length;s<a;s++){const a=i[s],l=a.className;let u=Math.max(a.startLineNumber,e)-e;const c=Math.min(a.endLineNumber,t)-e;o===l?(u=Math.max(r+1,u),r=Math.max(r,c)):(o=l,r=c);for(let e=u;e<=r;e++)n[e].push(o)}return n}}class tL extends eL{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.glyphMarginClassName;r&&(i[n++]=new Qx(e.range.startLineNumber,e.range.endLineNumber,r))}return i}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),r='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+'px;"></div>',s=[];for(let a=t;a<=i;a++){const e=a-t,i=n[e];0===i.length?s[e]="":s[e]='<div class="cgmr codicon '+i.join(" ")+r}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class iL extends _E{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(130),n=t.get(43);this._lineHeight=t.get(58),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(130),n=t.get(43);return this._lineHeight=t.get(58),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const i=e.selections[0].getPosition();return!(null===(t=this._primaryPosition)||void 0===t?void 0:t.equals(i))&&(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=e.scrollWidth,l=this._lineHeight,u=this._primaryPosition,c=this.getGuidesByLine(r,s,u),d=[];for(let h=r;h<=s;h++){const s=h-r,u=c[s];let g="";const p=null!==(i=null===(t=e.visibleRangeForPosition(new Vn(h,1)))||void 0===t?void 0:t.left)&&void 0!==i?i:0;for(const t of u){const i=p+(t.visibleColumn-1)*this._spaceWidth;if(i>a||this._maxIndentLeft>0&&i>this._maxIndentLeft)break;const r=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",s=t.horizontalLine?(null!==(o=null===(n=e.visibleRangeForPosition(new Vn(h,t.horizontalLine.endColumn)))||void 0===n?void 0:n.left)&&void 0!==o?o:i+this._spaceWidth)-i:this._spaceWidth;g+=`<div class="core-guide ${t.className} ${r}" style="left:${i}px;height:${l}px;width:${s}px"></div>`}d[s]=g}this._renderResult=d}getGuidesByLine(e,t,i){const n=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?zu.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?zu.EnabledForActive:zu.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,o=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null;let r=0,s=0,a=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&i){const n=this._context.model.getActiveIndentGuide(i.lineNumber,e,t);r=n.startLineNumber,s=n.endLineNumber,a=n.indent}const{indentSize:l}=this._context.model.getTextModelOptions(),u=[];for(let c=e;c<=t;c++){const t=new Array;u.push(t);const i=n?n[c-e]:[],d=new tp(i),h=o?o[c-e]:[];for(let e=1;e<=h;e++){const n=(e-1)*l+1,o=0===i.length&&r<=c&&c<=s&&e===a;t.push(...d.takeWhile((e=>e.visibleColumn<n))||[]);const u=d.peek();u&&u.visibleColumn===n&&!u.horizontalLine||t.push(new qu(n,o?"core-guide-indent-active":"core-guide-indent",null))}t.push(...d.takeWhile((e=>!0))||[])}return u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function nL(e){if(!e||!e.isTransparent())return e}qv(((e,t)=>{const i=e.getColor(pk);i&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=e.getColor(mk)||i;n&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${n} inset; }`);const o=[{bracketColor:Mk,guideColor:zk,guideColorActive:Gk},{bracketColor:Rk,guideColor:Kk,guideColorActive:Zk},{bracketColor:Pk,guideColor:Uk,guideColorActive:Yk},{bracketColor:Bk,guideColor:jk,guideColorActive:Jk},{bracketColor:Wk,guideColor:qk,guideColorActive:Xk},{bracketColor:Vk,guideColor:$k,guideColorActive:Qk}],r=new dI;let s=o.map((t=>{var i,n;const o=e.getColor(t.bracketColor),r=e.getColor(t.guideColor),s=e.getColor(t.guideColorActive),a=nL(null!==(i=nL(r))&&void 0!==i?i:null==o?void 0:o.transparent(.3)),l=nL(null!==(n=nL(s))&&void 0!==n?n:o);if(a&&l)return{guideColor:a,guideColorActive:l}})).filter(nu);if(s.length>0){for(let e=0;e<30;e++){const i=s[e%s.length];t.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(e).replace(/ /g,".")} { --guide-color: ${i.guideColor}; --guide-color-active: ${i.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${r.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${r.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${r.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}));class oL{constructor(){this._currentVisibleRange=new Hn(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class rL{constructor(e,t,i,n,o,r){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=o,this.scrollType=r,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class sL{constructor(e,t,i,n){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=n,this.type="selections";let o=e[0].startLineNumber,r=e[0].endLineNumber;for(let s=1,a=e.length;s<a;s++){const t=e[s];o=Math.min(o,t.startLineNumber),r=Math.max(r,t.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=r}}class aL extends G_{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new mx(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,o=n.get(43),r=n.get(130);this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),this._viewLineOptions=new sb(i,this._context.theme.type),Z_.write(this.domNode,7),this.domNode.setClassName("view-lines monaco-mouse-cursor-text"),A_.applyFontInfo(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new ts((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new ts((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new oL,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new ab(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(43),n=t.get(130);return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),A_.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new sb(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let t=e;t<=i;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new rL(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new sL(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,n),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(null===i)return null;const n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new Vn(n,1);const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(n<o||n>r)return null;let s=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t);const a=this._context.model.getLineMinColumn(n);return s<a&&(s=a),new Vn(n,s)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===ab.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=Hn.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let o=[],r=0;const s=new rb(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Vn(n.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let c=n.startLineNumber;c<=n.endLineNumber;c++){if(c<l||c>u)continue;const e=c===n.startLineNumber?n.startColumn:1,d=c===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(c),h=this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(c,e,d,s);if(h){if(t&&c<i){const e=a;a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Vn(c+1,1)).lineNumber,e!==a&&(h.ranges[h.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[r++]=new J_(h.outsideRenderedLine,c,X_.from(h.ranges))}}return 0===r?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new rb(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new eb(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let r=t;r<=i;r++){const t=this._visibleLines.getVisibleLine(r);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth()):o=!1}return o&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){const i=this._visibleLines.getVisibleLine(o);if(i.needsMonospaceFontCheck()){const n=i.getWidth();n>t&&(t=n,e=o)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++){this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),_t&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++){if(this._visibleLines.getVisibleLine(i).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o){const r=e.top,s=e.height,a=r+s;let l,u,c;if(n&&n.length>0){let e=n[0].startLineNumber,t=n[0].endLineNumber;for(let i=1,o=n.length;i<o;i++){const o=n[i];e=Math.min(e,o.startLineNumber),t=Math.max(t,o.endLineNumber)}l=!1,u=this._context.viewLayout.getVerticalOffsetForLineNumber(e),c=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!i)return-1;l=!0,u=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),c=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight}if(!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){const e=Math.min(s/this._lineHeight/2,this._cursorSurroundingLines);u-=e*this._lineHeight,c+=Math.max(0,e-1)*this._lineHeight}let d;if(0!==o&&4!==o||(c+=this._lineHeight),c-u>s){if(!l)return-1;d=u}else if(5===o||6===o)if(6===o&&r<=u&&c<=a)d=r;else{const e=u-Math.max(5*this._lineHeight,.2*s),t=c-s;d=Math.max(t,e)}else if(1===o||2===o)if(2===o&&r<=u&&c<=a)d=r;else{const e=(u+c)/2;d=Math.max(0,e-s/2)}else d=this._computeMinimumScrolling(r,a,u,c,3===o,4===o);return d}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width;let o=1073741824,r=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)o=Math.min(o,Math.round(e.left)),r=Math.max(r,Math.round(e.left+e.width))}else for(const s of e.selections){if(s.startLineNumber!==s.endLineNumber)return null;const e=this._visibleRangesForLineRange(s.startLineNumber,s.startColumn,s.endColumn);if(!e)return null;for(const t of e.ranges)o=Math.min(o,Math.round(t.left)),r=Math.max(r,Math.round(t.left+t.width))}if(o=Math.max(0,o-aL.HORIZONTAL_EXTRA_PX),r+=this._revealHorizontalRightPadding,"selections"===e.type&&r-o>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(i,n,o,r),maxHorizontalOffset:r}}_computeMinimumScrolling(e,t,i,n,o,r){o=!!o,r=!!r;const s=(t|=0)-(e|=0);return(n|=0)-(i|=0)<s?o?i:r?Math.max(0,n-s):i<e?i:n>t?Math.max(0,n-s):e:i}}aL.HORIZONTAL_EXTRA_PX=30;class lL extends eL{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(129);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.linesDecorationsClassName;r&&(i[n++]=new Qx(e.range.startLineNumber,e.range.endLineNumber,r));const s=e.options.firstLineDecorationClassName;s&&(i[n++]=new Qx(e.range.startLineNumber,e.range.startLineNumber,s))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[];for(let s=t;s<=i;s++){const e=s-t,i=n[e];let a="";for(let t=0,n=i.length;t<n;t++)a+='<div class="cldr '+i[t]+o;r[e]=a}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class uL extends eL{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.marginClassName;r&&(i[n++]=new Qx(e.range.startLineNumber,e.range.endLineNumber,r))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let r=t;r<=i;r++){const e=r-t,i=n[e];let s="";for(let t=0,n=i.length;t<n;t++)s+='<div class="cmdr '+i[t]+'" style=""></div>';o[e]=s}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class cL{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=cL._clamp(e),this.g=cL._clamp(t),this.b=cL._clamp(i),this.a=cL._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}cL.Empty=new cL(0,0,0,0);class dL extends Si{constructor(){super(),this._onDidChange=new Ti,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Cd.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()})))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new dL),this._INSTANCE}_updateColorMap(){const e=Cd.getColorMap();if(!e)return this._colors=[cL.Empty],void(this._backgroundIsLight=!0);this._colors=[cL.Empty];for(let i=1;i<e.length;i++){const t=e[i].rgba;this._colors[i]=new cL(t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}dL._INSTANCE=null;const hL=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();class gL{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=gL.soften(e,.8),this.charDataLight=gL.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=bg(e[n]*t);return i}renderChar(e,t,i,n,o,r,s,a,l,u,c){const d=1*this.scale,h=2*this.scale,g=c?1:h;if(t+d>e.width||i+g>e.height)return void console.warn("bad render request outside image data");const p=u?this.charDataLight:this.charDataNormal,m=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(n,l),f=4*e.width,v=s.r,_=s.g,b=s.b,C=o.r-v,w=o.g-_,y=o.b-b,S=Math.max(r,a),D=e.data;let k=m*d*h,I=i*f+4*t;for(let E=0;E<g;E++){let e=I;for(let t=0;t<d;t++){const t=p[k++]/255*(r/255);D[e++]=v+C*t,D[e++]=_+w*t,D[e++]=b+y*t,D[e++]=S}I+=f}}blockRenderChar(e,t,i,n,o,r,s,a){const l=1*this.scale,u=2*this.scale,c=a?1:u;if(t+l>e.width||i+c>e.height)return void console.warn("bad render request outside image data");const d=4*e.width,h=o/255*.5,g=r.r,p=r.g,m=r.b,f=g+(n.r-g)*h,v=p+(n.g-p)*h,_=m+(n.b-m)*h,b=Math.max(o,s),C=e.data;let w=i*d+4*t;for(let y=0;y<c;y++){let e=w;for(let t=0;t<l;t++)C[e++]=f,C[e++]=v,C[e++]=_,C[e++]=b;w+=d}}}const pL={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},mL=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=pL[e[i]]<<4|15&pL[e[i+1]];return t},fL={1:mi((()=>mL("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:mi((()=>mL("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class vL{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=fL[e]?new gL(fL[e](),e):vL.createFromSampleData(vL.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const o of hL)i.fillText(String.fromCharCode(o),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");let i=vL._downsample(e,t);return new gL(i,t)}static _downsampleChar(e,t,i,n,o){const r=1*o,s=2*o;let a=n,l=0;for(let u=0;u<s;u++){const n=u/s*16,o=(u+1)/s*16;for(let s=0;s<r;s++){const u=s/r*10,c=(s+1)/r*10;let d=0,h=0;for(let i=n;i<o;i++){const n=t+3840*Math.floor(i),o=1-(i-Math.floor(i));for(let t=u;t<c;t++){const i=1-(t-Math.floor(t)),r=n+4*Math.floor(t),s=i*o;h+=s,d+=e[r]*e[r+3]/255*s}}const g=d/h;l=Math.max(l,g),i[a++]=bg(g)}}return l}static _downsample(e,t){const i=2*t*1*t,n=96*i,o=new Uint8ClampedArray(n);let r=0,s=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,s,o,r,t)),r+=i,s+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)o[t]*=e}return o}}class _L{constructor(e,t,i){const n=e.options,o=n.get(127),r=n.get(129),s=r.minimap,a=n.get(43),l=n.get(64);this.renderMinimap=s.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=s.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(93),this.showSlider=l.showSlider,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(58),this.minimapLeft=s.minimapLeft,this.minimapWidth=s.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=s.minimapCanvasInnerWidth,this.canvasInnerHeight=s.minimapCanvasInnerHeight,this.canvasOuterWidth=s.minimapCanvasOuterWidth,this.canvasOuterHeight=s.minimapCanvasOuterHeight,this.isSampling=s.minimapIsSampling,this.editorHeight=r.height,this.fontScale=s.minimapScale,this.minimapLineHeight=s.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=mi((()=>vL.create(this.fontScale,a.fontFamily))),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=_L._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=_L._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(zD);return i?new cL(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(KD);return t?cL._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class bL{constructor(e,t,i,n,o,r,s,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=r,this.startLineNumber=s,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,r,s,a,l,u,c){const d=e.pixelRatio,h=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/h),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=a*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),i=Math.max(1,Math.floor(o*o/t)),n=Math.max(0,e.minimapHeight-i),r=n/(u-o),c=l*r,d=n>0,h=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new bL(l,u,d,r,c,i,1,Math.min(s,h))}let m,f;if(r&&i!==s){const e=i-t+1;m=Math.floor(e*h/d)}else{const e=o/p;m=Math.floor(e*h/d)}f=e.scrollBeyondLastLine?(s-1)*h/d:Math.max(0,s*h/d-m),f=Math.min(e.minimapHeight-m,f);const v=f/(u-o),_=l*v;let b=0;if(e.scrollBeyondLastLine){b=o/p-1}if(g>=s+b){return new bL(l,u,f>0,v,_,m,1,s)}{let e=Math.max(1,Math.floor(t-_*d/h));c&&c.scrollHeight===u&&(c.scrollTop>l&&(e=Math.min(e,c.startLineNumber)),c.scrollTop<l&&(e=Math.max(e,c.startLineNumber)));const i=Math.min(s,e+g-1);return new bL(l,u,!0,v,(t-e+(l-n)/p)*h/d,m,e,i)}}}class CL{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}CL.INVALID=new CL(-1);class wL{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new px((()=>CL.INVALID)),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let i=0,n=t.length;i<n;i++)if(-1===t[i].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class yL{constructor(e,t,i,n){this._backgroundFillData=yL._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,r=i.b,s=i.a,a=new Uint8ClampedArray(e*t*4);let l=0;for(let u=0;u<t;u++)for(let t=0;t<e;t++)a[l]=n,a[l+1]=o,a[l+2]=r,a[l+3]=s,l+=4;return a}}class SL{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const n=e.pixelRatio,o=e.lineHeight,r=e.scrollBeyondLastLine,{minimapLineCount:s}=Xt.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:r,height:e.editorHeight,lineHeight:o,pixelRatio:n}),a=t/s,l=a/2;if(!i||0===i.minimapLines.length){let e=[];if(e[0]=1,s>1){for(let t=0,i=s-1;t<i;t++)e[t]=Math.round(t*a+l);e[s-1]=t}return[new SL(a,e),[]]}const u=i.minimapLines,c=u.length;let d=[],h=0,g=0,p=1;let m=[],f=null;for(let v=0;v<s;v++){const e=Math.max(p,Math.round(v*a)),i=Math.max(e,Math.round((v+1)*a));for(;h<c&&u[h]<e;){if(m.length<10){const e=h+1+g;f&&"deleted"===f.type&&f._oldIndex===h-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:h,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(f)),g--}h++}let n;if(h<c&&u[h]<=i)n=u[h],h++;else if(n=0===v?1:v+1===s?t:Math.round(v*a+l),m.length<10){const e=h+1+g;f&&"inserted"===f.type&&f._i===v-1?f.insertToLineNumber++:(f={type:"inserted",_i:v,insertFromLineNumber:e,insertToLineNumber:e},m.push(f)),g++}d[v]=n,p=n}if(m.length<10)for(;h<c;){const e=h+1+g;f&&"deleted"===f.type&&f._oldIndex===h-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:h,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(f)),g--,h++}else m=[{type:"flush"}];return[new SL(a,d),m]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class DL extends G_{constructor(e){super(e),this.tokensColorTracker=dL.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new _L(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=SL.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new kL(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new _L(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=SL.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let o=0,r=t-e+1;o<r;o++)i[o]?n[o]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new zn(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new Hn(n,1,o,this._context.model.getLineMaxColumn(o))}else i=new Hn(e,1,t,this._context.model.getLineMaxColumn(t));const n=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),o=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new jp(new Hn(n,i.startColumn,o,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Hn(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class kL extends Si{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(WD),this._domNode=T_(document.createElement("div")),Z_.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=T_(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=T_(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=T_(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=T_(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=T_(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=fs(this._domNode.domNode,"mousedown",(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const t=Fs(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e.buttons,e.posx,i,e.posy,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let n=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber;n=Math.min(n,this._model.getLineCount()),this._model.revealLineNumber(n)})),this._sliderMouseMoveMonitor=new B_,this._sliderMouseDownListener=fs(this._slider.domNode,"mousedown",(e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)})),this._gestureDisposable=R_.addTarget(this._domNode.domNode),this._sliderTouchStartListener=ps(this._domNode.domNode,F_.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=ps(this._domNode.domNode,F_.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=fs(this._domNode.domNode,F_.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,i,n,o){this._slider.toggleClassName("active",!0);const r=(e,n)=>{const r=Math.abs(n-t);if(ft&&r>140)return void this._model.setScrollTop(o.scrollTop);const s=e-i;this._model.setScrollTop(o.getDesiredScrollTopFromDelta(s))};n!==i&&r(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,P_,(e=>r(e.posy,e.posx)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new yL(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(WD),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=bL.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(Hn.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort(((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0)));const{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,r=this._model.options.minimapLineHeight,s=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,o);const u=new IL(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(l,t,u,e,r),this._renderDecorationsLineHighlights(l,i,u,e,r);const c=new IL(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(l,t,c,e,r,a,s,n),this._renderDecorationsHighlights(l,i,c,e,r,a,s,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let r=0,s=0;for(const a of t){const t=Math.max(n.startLineNumber,a.startLineNumber),l=Math.min(n.endLineNumber,a.endLineNumber);if(t>l)continue;for(let e=t;e<=l;e++)i.set(e,!0);const u=(t-n.startLineNumber)*o,c=(l-n.startLineNumber)*o+o;s>=u||(s>r&&e.fillRect(8,r,e.canvas.width,s-r),r=u),s=c}s>r&&e.fillRect(8,r,e.canvas.width,s-r)}_renderDecorationsLineHighlights(e,t,i,n,o){const r=new Map;for(let s=t.length-1;s>=0;s--){const a=t[s],l=a.options.minimap;if(!l||l.position!==Hu.Inline)continue;const u=Math.max(n.startLineNumber,a.range.startLineNumber),c=Math.min(n.endLineNumber,a.range.endLineNumber);if(u>c)continue;const d=l.getColor(this._theme);if(!d||d.isTransparent())continue;let h=r.get(d.toString());h||(h=d.transparent(.5).toString(),r.set(d.toString(),h)),e.fillStyle=h;for(let t=u;t<=c;t++){if(i.has(t))continue;i.set(t,!0);const r=(u-n.startLineNumber)*o;e.fillRect(8,r,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,r,s,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const l of t){const t=Math.max(n.startLineNumber,l.startLineNumber),u=Math.min(n.endLineNumber,l.endLineNumber);if(!(t>u))for(let c=t;c<=u;c++)this.renderDecorationOnLine(e,i,l,this._selectionColor,n,c,o,o,r,s,a)}}_renderDecorationsHighlights(e,t,i,n,o,r,s,a){for(const l of t){const t=l.options.minimap;if(!t)continue;const u=Math.max(n.startLineNumber,l.range.startLineNumber),c=Math.min(n.endLineNumber,l.range.endLineNumber);if(u>c)continue;const d=t.getColor(this._theme);if(d&&!d.isTransparent())for(let h=u;h<=c;h++)switch(t.position){case Hu.Inline:this.renderDecorationOnLine(e,i,l.range,d,n,h,o,o,r,s,a);continue;case Hu.Gutter:const t=(h-n.startLineNumber)*o,u=2;this.renderDecoration(e,d,u,t,2,o);continue}}}renderDecorationOnLine(e,t,i,n,o,r,s,a,l,u,c){const d=(r-o.startLineNumber)*a;if(d+s<0||d>this._model.options.canvasInnerHeight)return;const{startLineNumber:h,endLineNumber:g}=i,p=h===r?i.startColumn:1,m=g===r?i.endColumn:this._model.getLineMaxColumn(r),f=this.getXOffsetForPosition(t,r,p,l,u,c),v=this.getXOffsetForPosition(t,r,m,l,u,c);this.renderDecoration(e,n,f,d,v-f,s)}getXOffsetForPosition(e,t,i,n,o,r){if(1===i)return 8;if((i-1)*o>=r)return r;let s=e.get(t);if(!s){const i=this._model.getLineContent(t);s=[8];let a=8;for(let e=1;e<i.length+1;e++){const t=i.charCodeAt(e-1),l=a+(9===t?n*o:il(t)?2*o:o);if(l>=r){s[e]=r;break}s[e]=l,a=l}e.set(t,s)}return i-1<s.length?s[i-1]:r}renderDecoration(e,t,i,n,o,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,r)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new wL(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;let[r,s,a]=kL._renderUntouchedLines(o,t,i,n,this._lastRenderData);const l=this._model.getMinimapLinesRenderingData(t,i,a),u=this._model.getOptions().tabSize,c=this._model.options.defaultBackgroundColor,d=this._model.options.backgroundColor,h=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,p=g.backgroundIsLight(),m=this._model.options.renderMinimap,f=this._model.options.charRenderer(),v=this._model.options.fontScale,_=this._model.options.minimapCharWidth,b=(1===m?2:3)*v,C=n>b?Math.floor((n-b)/2):0,w=d.a/255,y=new cL(Math.round((d.r-c.r)*w+c.r),Math.round((d.g-c.g)*w+c.g),Math.round((d.b-c.b)*w+c.b),255);let S=0;const D=[];for(let E=0,x=i-t+1;E<x;E++)a[E]&&kL._renderLine(o,y,d.a,p,m,_,g,h,f,S,C,u,l[E],v,n),D[E]=new CL(S),S+=n;const k=-1===r?0:r,I=(-1===s?o.height:s)-k;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,k,o.width,I),new wL(e,o,D)}static _renderUntouchedLines(e,t,i,n,o){const r=[];if(!o){for(let e=0,n=i-t+1;e<n;e++)r[e]=!0;return[-1,-1,r]}const s=o._get(),a=s.imageData.data,l=s.rendLineNumberStart,u=s.lines,c=u.length,d=e.width,h=e.data,g=(i-t+1)*n*d*4;let p=-1,m=-1,f=-1,v=-1,_=-1,b=-1,C=0;for(let w=t;w<=i;w++){const e=w-t,i=w-l,o=i>=0&&i<c?u[i].dy:-1;if(-1===o){r[e]=!0,C+=n;continue}const s=o*d*4,y=(o+n)*d*4,S=C*d*4,D=(C+n)*d*4;v===s&&b===S?(v=y,b=D):(-1!==f&&(h.set(a.subarray(f,v),_),-1===p&&0===f&&f===_&&(p=v),-1===m&&v===g&&f===_&&(m=f)),f=s,v=y,_=S,b=D),r[e]=!1,C+=n}-1!==f&&(h.set(a.subarray(f,v),_),-1===p&&0===f&&f===_&&(p=v),-1===m&&v===g&&f===_&&(m=f));return[-1===p?-1:p/(4*d),-1===m?-1:m/(4*d),r]}static _renderLine(e,t,i,n,o,r,s,a,l,u,c,d,h,g,p){const m=h.content,f=h.tokens,v=e.width-r,_=1===p;let b=8,C=0,w=0;for(let y=0,S=f.getCount();y<S;y++){const h=f.getEndOffset(y),p=f.getForeground(y),S=s.getColor(p);for(;C<h;C++){if(b>v)return;const s=m.charCodeAt(C);if(9===s){const e=d-(C+w)%d;w+=e-1,b+=e*r}else if(32===s)b+=r;else{const d=il(s)?2:1;for(let h=0;h<d;h++)if(2===o?l.blockRenderChar(e,b,u+c,S,a,t,i,_):l.renderChar(e,b,u+c,s,S,a,t,i,g,n,_),b+=r,b>v)return}}}}}class IL{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,o=this._endLineNumber-this._startLineNumber+1;n<o;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}qv(((e,t)=>{const i=e.getColor(UD);i&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${i}; }`);const n=e.getColor(jD);n&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${n}; }`);const o=e.getColor(qD);o&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${o}; }`);const r=e.getColor(Wy);r&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${r} -6px 0 6px -6px inset; }`)}));class EL extends G_{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=T_(document.createElement("div")),Z_.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=T_(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._renderWidget(this._widgets[e])}}}class xL{constructor(e,t){const i=e.options;this.lineHeight=i.get(58),this.pixelRatio=i.get(127),this.overviewRulerLanes=i.get(73),this.renderBorder=i.get(72);const n=t.getColor(Sk);this.borderColor=n?n.toString():null,this.hideCursor=i.get(51);const o=t.getColor(dk);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const r=i.get(64),s=r.enabled,a=r.side,l=s?t.getColor(Dk)||Cd.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:ew.Format.CSS.formatHex(l);const u=i.get(129).overviewRuler;this.top=u.top,this.right=u.right,this.domWidth=u.width,this.domHeight=u.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[c,d]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=c,this.w=d}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),o=n-t-i,r=e+t;return[[0,e,r,e,e+t+o,e,r,e],[0,t,o,t+o,i,t+o+i,o+i,t+o+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class LL extends G_{constructor(e){super(e),this._domNode=T_(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Cd.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new xL(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(Vn.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=t/this._context.viewLayout.getScrollHeight(),r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,a=s/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const u=this._settings.x,c=this._settings.w;r.sort(qp.cmp);for(const d of r){const e=d.color,r=d.data;l.fillStyle=e;let h=0,g=0,p=0;for(let d=0,m=r.length/3;d<m;d++){const e=r[3*d],m=r[3*d+1],f=r[3*d+2];let v=n.getVerticalOffsetForLineNumber(m)*o|0,_=(n.getVerticalOffsetForLineNumber(f)+i)*o|0;if(_-v<s){let e=(v+_)/2|0;e<a?e=a:e+a>t&&(e=t-a),v=e-a,_=e+a}v>p+1||e!==h?(0!==d&&l.fillRect(u[h],g,c[h],p-g),h=e,g=v,p=_):_>p&&(p=_)}l.fillRect(u[h],g,c[h],p-g)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,i=e/2|0,r=this._settings.x[7],s=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,u=-100;for(let c=0,d=this._cursorPositions.length;c<d;c++){const d=this._cursorPositions[c];let h=n.getVerticalOffsetForLineNumber(d.lineNumber)*o|0;h<i?h=i:h+i>t&&(h=t-i);const g=h-i,p=g+e;g>u+1?(0!==c&&l.fillRect(r,a,s,u-a),a=g,u=p):p>u&&(u=p)}l.fillRect(r,a,s,u-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}class AL{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class NL{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class TL{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(NL.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=i/Math.floor(this._outerHeight),o=Math.floor(4*this._pixelRatio/2);let r=[];for(let s=0,a=this._zones.length;s<a;s++){const a=this._zones[s];if(!e){const e=a.getColorZones();if(e){r.push(e);continue}}const l=Math.floor(n*this._getVerticalOffsetForLine(a.startLineNumber)),u=Math.floor(n*(this._getVerticalOffsetForLine(a.endLineNumber)+t));let c=Math.floor((l+u)/2),d=u-c;d<o&&(d=o),c-d<0&&(c=d),c+d>i&&(c=i-d);const h=a.color;let g=this._color2Id[h];g||(g=++this._lastAssignedId,this._color2Id[h]=g,this._id2Color[g]=h);const p=new AL(c-d,c+d,g);a.setColorZone(p),r.push(p)}return this._colorZonesInvalid=!1,r.sort(AL.compare),r}}class OL extends $_{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=T_(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new TL((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(58)),this._zoneManager.setPixelRatio(i.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(t.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(t.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,r=0,s=0;for(const a of t){const t=a.colorId,l=a.from,u=a.to;t!==o?(e.fillRect(0,r,n,s-r),o=t,e.fillStyle=i[o],r=l,s=u):s>=l?s=Math.max(s,u):(e.fillRect(0,r,n,s-r),r=l,s=u)}e.fillRect(0,r,n,s-r)}}class FL extends G_{constructor(e){super(e),this.domNode=T_(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.model.getTextModelOptions(),n=i;let o=t-e;for(;o>0;){const e=T_(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}qv(((e,t)=>{const i=e.getColor(bk);i&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)}));class ML extends G_{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(91);this._useShadows=t.useShadows,this._domNode=T_(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(129);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(91);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}qv(((e,t)=>{const i=e.getColor(Wy);i&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)}));class RL{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class PL{constructor(e,t){this.lineNumber=e,this.ranges=t}}function BL(e){return new RL(e)}function WL(e){return new PL(e.lineNumber,e.ranges.map(BL))}class VL extends _E{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,r=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===n&&(o=i[e].ranges[0]);const s=t[t.length-1].lineNumber;if(s===e.endLineNumber)for(let e=i.length-1;!r&&e>=0;e--)i[e].lineNumber===s&&(r=i[e].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}for(let s=0,a=t.length;s<a;s++){const e=t[s].ranges[0],i=e.left,l=e.left+e.width,u={top:0,bottom:0},c={top:0,bottom:0};if(s>0){const e=t[s-1].ranges[0].left,o=t[s-1].ranges[0].left+t[s-1].ranges[0].width;HL(i-e)<n?u.top=2:i>e&&(u.top=1),HL(l-o)<n?c.top=2:e<l&&l<o&&(c.top=1)}else o&&(u.top=o.startStyle.top,c.top=o.endStyle.top);if(s+1<a){const e=t[s+1].ranges[0].left,o=t[s+1].ranges[0].left+t[s+1].ranges[0].width;HL(i-e)<n?u.bottom=2:e<i&&i<o&&(u.bottom=1),HL(l-o)<n?c.bottom=2:l<o&&(c.bottom=1)}else r&&(u.bottom=r.startStyle.bottom,c.bottom=r.endStyle.bottom);e.startStyle=u,e.endStyle=c}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(WL);return!this._visibleRangesHaveGaps(n)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const o=!!n[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let u=0,c=n.length;u<c;u++){const c=n[u],d=c.lineNumber,h=d-t,g=i&&(d===l||d===a)?s:r,p=i&&d===a?1:0;let m="",f="";for(let e=0,t=c.ranges.length;e<t;e++){const t=c.ranges[e];if(o){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){m+=this._createSelectionPiece(p,g,VL.SELECTION_CLASS_NAME,t.left-VL.ROUNDED_PIECE_WIDTH,VL.ROUNDED_PIECE_WIDTH);let i=VL.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+VL.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+VL.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(p,g,i,t.left-VL.ROUNDED_PIECE_WIDTH,VL.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){m+=this._createSelectionPiece(p,g,VL.SELECTION_CLASS_NAME,t.left+t.width,VL.ROUNDED_PIECE_WIDTH);let e=VL.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+VL.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+VL.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(p,g,e,t.left+t.width,VL.ROUNDED_PIECE_WIDTH)}}let i=VL.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+VL.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+VL.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+VL.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+VL.SELECTION_BOTTOM_RIGHT)}f+=this._createSelectionPiece(p,g,i,t.left,t.width)}e[h][0]+=m,e[h][1]+=f}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let r=i;r<=n;r++){t[r-i]=["",""]}const o=[];for(let r=0,s=this._selections.length;r<s;r++){const n=this._selections[r];if(n.isEmpty()){o[r]=null;continue}const s=this._getVisibleRangesWithStyle(n,e,this._previousFrameVisibleRangesWithStyle[r]);o[r]=s,this._actualRenderOneSelection(t,i,this._selections.length>1,s)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function HL(e){return e<0?-e:e}VL.SELECTION_CLASS_NAME="selected-text",VL.SELECTION_TOP_LEFT="top-left-radius",VL.SELECTION_BOTTOM_LEFT="bottom-left-radius",VL.SELECTION_TOP_RIGHT="top-right-radius",VL.SELECTION_BOTTOM_RIGHT="bottom-right-radius",VL.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",VL.ROUNDED_PIECE_WIDTH=10,qv(((e,t)=>{const i=e.getColor(fS);i&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${i}; }`);const n=e.getColor(_S);n&&t.addRule(`.monaco-editor .selected-text { background-color: ${n}; }`);const o=e.getColor(vS);o&&!o.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)}));class zL{constructor(e,t,i,n,o,r){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=r}}class KL{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(43);this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=T_(document.createElement("div")),this._domNode.setClassName("cursor monaco-mouse-cursor-text"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),A_.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new Vn(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(43);return this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),A_.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===Gt.Line||this._cursorStyle===Gt.LineThin){const i=e.visibleRangeForPosition(this._position);if(!i||i.outsideRenderedLine)return null;let n;if(this._cursorStyle===Gt.Line){if(n=ga(this._lineCursorWidth>0?this._lineCursorWidth:2),n>2){const e=this._context.model.getLineContent(this._position.lineNumber),i=Ga(e,this._position.column-1);t=e.substr(this._position.column-1,i)}}else n=ga(1);let o=i.left;n>=2&&o>=1&&(o-=1);const r=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new zL(r,o,n,this._lineHeight,t,"")}const i=this._context.model.getLineContent(this._position.lineNumber),n=Ga(i,this._position.column-1),o=e.linesVisibleRangesForRange(new Hn(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+n),!1);if(!o||0===o.length)return null;const r=o[0];if(r.outsideRenderedLine||0===r.ranges.length)return null;const s=r.ranges[0],a=s.width<1?this._typicalHalfwidthCharacterWidth:s.width;let l="";if(this._cursorStyle===Gt.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=i.substr(this._position.column-1,n);const o=e.tokens.findTokenIndexAtOffset(this._position.column-1);l=e.tokens.getClassName(o)}let u=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,c=this._lineHeight;return this._cursorStyle!==Gt.Underline&&this._cursorStyle!==Gt.UnderlineThin||(u+=this._lineHeight-2,c=2),new zL(u,s.left,a,c,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor monaco-mouse-cursor-text ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class UL extends G_{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new KL(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=T_(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Qr,this._cursorFlatBlinkInterval=new es,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new KL(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){const t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),UL.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),UL.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Gt.Line:e+=" cursor-line-style";break;case Gt.Block:e+=" cursor-block-style";break;case Gt.Underline:e+=" cursor-underline-style";break;case Gt.LineThin:e+=" cursor-line-thin-style";break;case Gt.BlockOutline:e+=" cursor-block-outline-style";break;case Gt.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,r=this._secondaryCursors.length;o<r;o++){const n=this._secondaryCursors[o].render(e);n&&(t[i++]=n)}this._renderData=t}getLastRenderData(){return this._renderData}}UL.BLINK_INTERVAL=500,qv(((e,t)=>{const i=e.getColor(dk);if(i){let n=e.getColor(hk);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}}));const jL=()=>{throw new Error("Invalid change accessor")};class qL extends G_{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=T_(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=T_(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of e)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace((e=>{const n=Object.keys(this._zones);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=this._zones[r],a=this._computeWhitespaceProps(s.delegate);s.isInHiddenArea=a.isInHiddenArea;const l=t.get(r);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(r,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(s.delegate,a.heightInPx),i=!0)}})),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Vn(i,this._context.model.getModelLineMaxColumn(i))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),o=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace((i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{e(t)}catch(rU){li(rU)}}(e,n),n.addZone=jL,n.removeZone=jL,n.layoutZone=jL})),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:T_(t.domNode),marginDomNode:t.marginDomNode?T_(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(rU){li(rU)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(rU){li(rU)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(const r of t)this._zones[r.id].isInHiddenArea||(i[r.id]=r,n=!0);const o=Object.keys(this._zones);for(let r=0,s=o.length;r<s;r++){const t=o[r],n=this._zones[t];let s=0,a=0,l="none";i.hasOwnProperty(t)?(s=i[t].verticalOffset-e.bigNumbersDelta,a=i[t].height,l="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(i[t].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(s),n.domNode.setHeight(a),n.domNode.setDisplay(l),n.marginDomNode&&(n.marginDomNode.setTop(s),n.marginDomNode.setHeight(a),n.marginDomNode.setDisplay(l))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class $L{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class GL{constructor(e,t,i){this.configuration=e,this.theme=new $L(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class ZL{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new Hn(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class YL extends $_{constructor(e,t,i,n,o,r){super(),this._selections=[new zn(1,1,1,1)],this._renderAnimationFrame=null;const s=new dx(t,n,o,e);this._context=new GL(t,i.getColorTheme(),n),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange((e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)}))),this._viewParts=[],this._textAreaHandler=new SE(this._context,s,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=T_(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=T_(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=T_(document.createElement("div")),Z_.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Xx(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new aL(this._context,this._linesContent),this._viewZones=new qL(this._context),this._viewParts.push(this._viewZones);const a=new LL(this._context);this._viewParts.push(a);const l=new ML(this._context);this._viewParts.push(l);const u=new bx(this._context);this._viewParts.push(u),u.addDynamicOverlay(new Ex(this._context)),u.addDynamicOverlay(new VL(this._context)),u.addDynamicOverlay(new iL(this._context)),u.addDynamicOverlay(new Lx(this._context));const c=new Cx(this._context);this._viewParts.push(c),c.addDynamicOverlay(new xx(this._context)),c.addDynamicOverlay(new tL(this._context)),c.addDynamicOverlay(new uL(this._context)),c.addDynamicOverlay(new lL(this._context)),c.addDynamicOverlay(new bE(this._context));const d=new CE(this._context);d.getDomNode().appendChild(this._viewZones.marginDomNode),d.getDomNode().appendChild(c.getDomNode()),this._viewParts.push(d),this._contentWidgets=new yx(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new UL(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new EL(this._context),this._viewParts.push(this._overlayWidgets);const h=new FL(this._context);this._viewParts.push(h);const g=new DL(this._context);if(this._viewParts.push(g),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(h.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new vE(this._context,s,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new VI(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Vn(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Vn(e,t)))}}_applyLayout(){const e=this._context.configuration.options.get(129);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+Kv(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=ws(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(rU){li(rU)}}((()=>this._actualRender()))}_getViewPartsToRender(){let e=[],t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!hs(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new ZL(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new Y_(this._context.viewLayout,i,this._viewLines);for(const o of e)o.prepareRender(n);for(const o of e)o.render(n),o.onDidRender();Math.abs(Cr()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new Vn(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?hx.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new OL(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const i=e.position?e.position.position:null;null!==i&&(t=new Hn(i.lineNumber,i.column,i.lineNumber,i.column))}const i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class JL{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new LI(new Hn(1,1,1,1),0,new Vn(1,1),0),new LI(new Hn(1,1,1,1),0,new Vn(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new OI(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new zn(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new zn(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),r=e.normalizePosition(i,2),s=this._validatePositionWithCache(e,n,i,r),a=this._validatePositionWithCache(e,o,n,s);return i.equals(r)&&n.equals(s)&&o.equals(a)?t:new LI(Hn.fromPositions(s,a),t.selectionStartLeftoverVisibleColumns+n.column-s.column,r,t.leftoverVisibleColumns+i.column-r.column)}_setState(e,t,i){if(i&&(i=JL._validateViewState(e.viewModel,i)),t){const i=e.model.validateRange(t.selectionStart),n=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),r=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new LI(i,n,o,r)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new LI(n,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new LI(n,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new Vn(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new Vn(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),r=new Hn(n.lineNumber,n.column,o.lineNumber,o.column),s=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new LI(r,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class XL{constructor(e){this.context=e,this.primaryCursor=new JL(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;i.isBefore(e)&&(e=i)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(i)&&(e=i)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(OI.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,i=e.length;if(t<i){let e=i-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>i){let e=t-i;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let n=0;n<i;n++)this.secondaryCursors[n].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new JL(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0===this.secondaryCursors.length)return;let e=this._getAll(),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],r=n.selection,s=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=s.isEmpty()||r.isEmpty()?s.getStartPosition().isBeforeOrEqual(r.getEndPosition()):s.getStartPosition().isBefore(r.getEndPosition()),a){const r=n.index<o.index?i:i+1,s=n.index<o.index?i+1:i,a=t[s].index,l=t[r].index,u=t[s].selection,c=t[r].selection;if(!u.equalsSelection(c)){const i=u.plusRange(c),n=u.selectionStartLineNumber===u.startLineNumber&&u.selectionStartColumn===u.startColumn,o=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn;let s,d;a===this.lastAddedCursorIndex?(s=n,this.lastAddedCursorIndex=l):s=o,d=s?new zn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new zn(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn),t[r].selection=d;const h=OI.fromModelSelection(d);e[l].setState(this.context,h.modelState,h.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(s,1),this._removeSecondaryCursor(a-1),i--}}}}class QL{constructor(){this.type=0}}class eA{constructor(){this.type=1}}class tA{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class iA{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class nA{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class oA{constructor(){this.type=5}}class rA{constructor(e){this.type=6,this.isFocused=e}}class sA{constructor(){this.type=7}}class aA{constructor(){this.type=8}}class lA{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class uA{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class cA{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class dA{constructor(e,t,i,n,o,r){this.type=12,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=o,this.scrollType=r}}class hA{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class gA{constructor(){this.type=14}}class pA{constructor(e){this.type=15,this.ranges=e}}class mA{constructor(){this.type=16}}class fA{constructor(){this.type=17}}class vA extends Si{constructor(){super(),this._onEvent=this._register(new Ti),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new _A),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class _A{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class bA{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new bA(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class CA{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new CA(this.oldHasFocus,e.hasFocus)}}class wA{constructor(e,t,i,n,o,r,s,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=r,this.scrollHeight=s,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new wA(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class yA{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class SA{constructor(e,t,i,n,o,r,s){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=r,this.reachedMaxCursorCount=s}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return SA._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 6!==e.kind?this:new SA(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class DA{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class kA{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class IA{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(Hn.compareRangesUsingStarts),e.sort(Hn.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class EA extends Si{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new AI(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new XL(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=bi(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new AI(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;null!==n&&n.length>EA.MAX_CURSOR_COUNT&&(n=n.slice(0,EA.MAX_CURSOR_COUNT),o=!0);const r=new kA(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,r,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,n);else{const r=o[0],s=new Hn(r.lineNumber,r.column,r.lineNumber,r.column);this._emitCursorRevealRange(e,t,s,null,0,i,n)}}_revealPrimaryCursor(e,t,i,n,o){const r=this._cursors.getViewPositions();if(r.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,n,o);else{const s=r[0],a=new Hn(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,a,null,i,n,o)}}_emitCursorRevealRange(e,t,i,n,o,r,s){e.emitViewEvent(new dA(t,i,n,o,r,s))}saveState(){let e=[];const t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const e=t[n];let o=1,r=1;e.position&&e.position.lineNumber&&(o=e.position.lineNumber),e.position&&e.position.column&&(r=e.position.column);let s=o,a=r;e.selectionStart&&e.selectionStart.lineNumber&&(s=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),i.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:o,positionColumn:r})}this.setStates(e,"restoreState",0,OI.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof jC){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new XL(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const i=OI.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,i)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,OI.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:yw.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:yw.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,OI.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let s=0,a=e.length;s<a;s++)i.push({range:e[s],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[s],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),r=this._model.deltaDecorations([],n);this._autoClosedActions.push(new IA(this._model,o,r))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=class{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let r=0,s=n.trackedRanges.length;r<s;r++)n.model._setTrackedRange(n.trackedRanges[r],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let r=[];for(let l=0,u=n.length;l<u;l++)o.hasOwnProperty(n[l].identifier.major.toString())||r.push(n[l]);i.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);let s=e.model.pushEditOperations(e.selectionsBefore,r,(i=>{let n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);const o=(e,t)=>e.identifier.minor-t.identifier.minor;let r=[];for(let s=0;s<e.selectionsBefore.length;s++)n[s].length>0?(n[s].sort(o),r[s]=t[s].computeCursorState(e.model,{getInverseEditOperations:()=>n[s],getTrackedSelection:t=>{const i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new zn(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new zn(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):r[s]=e.selectionsBefore[s];return r}));s||(s=e.selectionsBefore);let a=[];for(let l in o)o.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)s.splice(l,1);return s}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,r=t.length;o<r;o++){const r=t[o];if(r){const t=this._getEditOperationsFromCommand(e,o,r);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],o=0;const r=(e,r,s=!1)=>{Hn.isEmpty(e)&&""===r||n.push({identifier:{major:t,minor:o++},range:e,text:r,forceMoveMarkers:s,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let s=!1;const a=(e,t,i)=>{s=!0,r(e,t,i)},l={addEditOperation:r,addTrackedEditOperation:a,trackSelection:(t,i)=>{const n=zn.liftSelection(t);let o;if(n.isEmpty())if("boolean"==typeof i)o=i?2:3;else{const t=e.model.getLineMaxColumn(n.startLineNumber);o=n.startColumn===t?2:3}else o=1;const r=e.trackedRanges.length,s=e.model._setTrackedRange(null,n,o);return e.trackedRanges[r]=s,e.trackedRangesDirection[r]=n.getDirection(),r.toString()}};try{i.getEditOperations(e.model,l)}catch(rU){return li(rU),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:s}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-Hn.compareRangesUsingEnds(e.range,t.range)));let t={};for(let i=1;i<e.length;i++){const n=e[i-1],o=e[i];if(Hn.getStartPosition(n.range).isBefore(Hn.getEndPosition(o.range))){let r;r=n.identifier.major>o.identifier.major?n.identifier.major:o.identifier.major,t[r.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===r&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let t=0;t<e.commands.length;t++){const o=e.commands[t];o instanceof UE&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),n.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const r=new kA(this._model,this);if(r.equals(n))return!1;const s=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new iA(a,s)),!n||n.cursorState.length!==r.cursorState.length||r.cursorState.some(((e,t)=>!e.modelState.equals(n.cursorState[t].modelState)))){const a=n?n.cursorState.map((e=>e.modelState.selection)):null,l=n?n.modelVersionId:0;e.emitOutgoingEvent(new SA(a,s,l,r.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;const o=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const r=o[1],s=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(r);if(!s||1!==s.length)return null;const a=s[0].open,l=n.text.length-o[2].length-1,u=n.text.lastIndexOf(a,l-1);if(-1===u)return null;t.push([u,l])}return t}executeEdits(e,t,i,n){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let r=[],s=[];const a=this._model.pushEditOperations(this.getSelections(),i,(e=>{if(o)for(let i=0,n=o.length;i<n;i++){const[t,n]=o[i],a=e[i],l=a.range.startLineNumber,u=a.range.startColumn-1+t,c=a.range.startColumn-1+n;r.push(new Hn(l,c+1,l,c+2)),s.push(new Hn(l,u+1,l,c+2))}const t=n(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),r.length>0&&this._pushAutoClosedAction(r,s)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;const o=new kA(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(r){li(r)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return IA.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit((()=>{"keyboard"===t&&(this._executeEditOperation(KE.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)}),e,t)}type(e,t,i){this._executeEdit((()=>{if("keyboard"===i){const e=t.length;let i=0;for(;i<e;){const e=Ga(t,i),n=t.substr(i,e);this._executeEditOperation(KE.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),n)),i+=e}}else this._executeEditOperation(KE.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,i)}compositionType(e,t,i,n,o,r){if(0!==t.length||0!==i||0!==n)this._executeEdit((()=>{this._executeEditOperation(KE.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))}),e,r);else if(0!==o){const t=this.getSelections().map((e=>{const t=e.getPosition();return new zn(t.lineNumber,t.column+o,t.lineNumber,t.column+o)}));this.setSelections(e,r,t,0)}}paste(e,t,i,n,o){this._executeEdit((()=>{this._executeEditOperation(KE.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))}),e,o,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(TE.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,i){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new FI(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}executeCommands(e,t,i){this._executeEdit((()=>{this._executeEditOperation(new FI(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}}EA.MAX_CURSOR_COUNT=1e4;class xA{constructor(e,t,i,n,o,r){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}const LA={getInitialState:()=>wd,tokenize2:(e,t,i,n)=>Dd(0,0,i,n)};function AA(e,t,i=LA){return function(e,t,i){let n='<div class="monaco-tokenized-source">';const o=La(e);let r=i.getInitialState();for(let s=0,a=o.length;s<a;s++){const e=o[s];s>0&&(n+="<br/>");const a=i.tokenize2(e,!0,r,0);Cp.convertToEndOffset(a.tokens,e.length);const l=new Cp(a.tokens,e,t).inflate();let u=0;for(let t=0,i=l.getCount();t<i;t++){const i=l.getClassName(t),o=l.getEndOffset(t);n+=`<span class="${i}">${wa(e.substring(u,o))}</span>`,u=o}r=a.endState}return n+="</div>",n}(e,t,i||LA)}function NA(e,t,i,n,o,r,s){let a="<div>",l=n,u=0,c=!0;for(let d=0,h=t.getCount();d<h;d++){const h=t.getEndOffset(d);if(h<=n)continue;let g="";for(;l<h&&l<o;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=r-(l+u)%r;for(u+=e-1;e>0;)s&&c?(g+="&#160;",c=!1):(g+=" ",c=!0),e--;break;case 60:g+="&lt;",c=!1;break;case 62:g+="&gt;",c=!1;break;case 38:g+="&amp;",c=!1;break;case 0:g+="&#00;",c=!1;break;case 65279:case 8232:case 8233:case 133:g+="�",c=!1;break;case 13:g+="&#8203",c=!1;break;case 32:s&&c?(g+="&#160;",c=!1):(g+=" ",c=!0);break;default:g+=String.fromCharCode(t),c=!1}}if(a+=`<span style="${t.getInlineStyle(d,i)}">${g}</span>`,h>o||l>=o)break}return a+="</div>",a}class TA{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class OA{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}class FA{constructor(e,t,i,n){this._instanceId=al(++FA.INSTANCE_COUNT),this._pendingChanges=new TA,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){const r=n+o>>>1;t===e[r].afterLineNumber?i<e[r].ordinal?o=r:n=r+1:t<e[r].afterLineNumber?o=r:n=r+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,n,o)=>{t=!0,e|=0,i|=0,n|=0,o|=0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new OA(r,e,i,n,o)),r},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const a of i)n.add(a.id);const o=new Map;for(const a of t)o.set(a.id,a);const r=e=>{let t=[];for(const i of e)if(!n.has(i.id)){if(o.has(i.id)){const e=o.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},s=r(this._arr).concat(r(e));s.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=s,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=FA.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const o=i+((n-i|0)/2|0)|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;i=o+1|0}else n=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),t=(e|=0)>1?this._lineHeight*(e-1):0;return t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,o=t;for(;n<o;){const t=(n+o)/2|0,r=0|this.getVerticalOffsetForLineNumber(t);if(e>=r+i)n=t+1;else{if(e>=r)return t;o=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),o=0|this.getVerticalOffsetForLineNumber(n);let r=0|this._lineCount,s=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,u;-1===s?(s=a,u=r+1,l=0):(u=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));let c=o,d=c;const h=5e5;let g=0;o>=h&&(g=Math.floor(o/h)*h,g=Math.floor(g/i)*i,d-=g);const p=[],m=e+(t-e)/2;let f=-1;for(let C=n;C<=r;C++){if(-1===f){const e=c,t=c+i;(e<=m&&m<t||e>m)&&(f=C)}for(c+=i,p[C-n]=d,d+=i;u===C;)d+=l,c+=l,s++,s>=a?u=r+1:(u=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));if(c>=t){r=C;break}}-1===f&&(f=r);const v=0|this.getVerticalOffsetForLineNumber(r);let _=n,b=r;return _<b&&o<e&&_++,_<b&&v+i>t&&b--,{bigNumbersDelta:g,startLineNumber:n,endLineNumber:r,relativeVerticalOffset:p,centeredLineNumber:f,completelyVisibleStartLineNumber:_,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return i=t>=1?this._lineHeight*t:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const n=Math.floor((t+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(n);if(e>=o+this.getHeightForWhitespaceIndex(n))t=n+1;else{if(e>=o)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let o=[];for(let r=i;r<=n;r++){const e=this.getVerticalOffsetForWhitespaceIndex(r),i=this.getHeightForWhitespaceIndex(r);if(e>=t)break;o.push({id:this.getIdForWhitespaceIndex(r),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:e,height:i})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}FA.INSTANCE_COUNT=0;class MA{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class RA extends Si{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new Ti),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new MA(0,0,0,0),this._scrollable=this._register(new zx(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new bA(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class PA extends Si{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,o=n.get(129),r=n.get(74);this._linesLayout=new FA(t,n.get(58),r.top,r.bottom),this._scrollable=this._register(new RA(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new MA(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(t.get(58)),e.hasChanged(74)){const e=t.get(74);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(129)){const e=t.get(129),i=e.contentWidth,n=e.height,o=this._scrollable.getScrollDimensions(),r=o.contentWidth;this._scrollable.setScrollDimensions(new MA(i,o.contentWidth,n,this._getContentHeight(i,n,r)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options.get(91);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(93)?o+=Math.max(0,t-n.get(58)-n.get(74).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new MA(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new Pp(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new Pp(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(130),n=t.get(43);if(i.isViewportWrapping){const i=t.get(129),o=t.get(64);return e>i.contentWidth+n.typicalHalfwidthCharacterWidth&&o.enabled&&"right"===o.side?e+i.verticalScrollbarWidth:e}{const i=t.get(92)*n.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i,o)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new MA(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class BA{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class WA{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],i=e>0?this._modelToView[e-1]:0;this._modelToView[e]=i+t;for(let n=0;n<t;n++)this._viewToModel[i+n]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=Zg(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],i=t>0?this._modelToView[t-1]:0;return new wg(t,e-i)}}class VA{constructor(e,t,i,n,o,r,s,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=r,this.wrappingStrategy=s,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new BA(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=i.length,r=this.createLineBreaksComputer(),s=new tp(WC.fromDecorations(n));for(let p=0;p<o;p++){const e=s.takeWhile((e=>e.lineNumber===p+1));r.addRequest(i[p],e,t?t[p]:null)}const a=r.finalize();let l=[],u=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(Hn.compareRangesUsingStarts),c=1,d=0,h=-1,g=h+1<u.length?d+1:o+2;for(let p=0;p<o;p++){let e=p+1;e===g&&(h++,c=u[h].startLineNumber,d=u[h].endLineNumber,g=h+1<u.length?d+1:o+2);let t=e>=c&&e<=d,i=ZA(a[p],!t);l[p]=i.getViewLineCount(),this.lines[p]=i}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new WA(l)}getHiddenAreas(){return this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e)))}_reduceRanges(e){if(0===e.length)return[];let t=e.map((e=>this.model.validateRange(e))).sort(Hn.compareRangesUsingStarts),i=[],n=t[0].startLineNumber,o=t[0].endLineNumber;for(let r=1,s=t.length;r<s;r++){let e=t[r];e.startLineNumber>o+1?(i.push(new Hn(n,1,o,1)),n=e.startLineNumber,o=e.endLineNumber):e.endLineNumber>o&&(o=e.endLineNumber)}return i.push(new Hn(n,1,o,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e),i=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(Hn.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}let n=[];for(const c of t)n.push({range:c,options:CI.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,n);let o=t,r=1,s=0,a=-1,l=a+1<o.length?s+1:this.lines.length+2,u=!1;for(let c=0;c<this.lines.length;c++){let e=c+1;e===l&&(a++,r=o[a].startLineNumber,s=o[a].endLineNumber,l=a+1<o.length?s+1:this.lines.length+2);let t=!1;if(e>=r&&e<=s?this.lines[c].isVisible()&&(this.lines[c]=this.lines[c].setVisible(!1),t=!0):(u=!0,this.lines[c].isVisible()||(this.lines[c]=this.lines[c].setVisible(!0),t=!0)),t){let e=this.lines[c].getViewLineCount();this.prefixSumComputer.changeValue(c,e)}}return u||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const o=this.fontInfo.equals(e),r=this.wrappingStrategy===t,s=this.wrappingColumn===i,a=this.wrappingIndent===n;if(o&&r&&s&&a)return!1;const l=o&&r&&!s&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let u=null;if(l){u=[];for(let e=0,t=this.lines.length;e<t;e++)u[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,u),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new uA(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.lines[t-2].isVisible();let r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=0,a=[],l=[];for(let u=0,c=n.length;u<c;u++){let e=ZA(n[u],!o);a.push(e);let t=e.getViewLineCount();s+=t,l[u]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new cA(r,r+s-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,o=this.lines[n].getViewLineCount(),r=ZA(i,this.lines[n].isVisible());this.lines[n]=r;let s=this.lines[n].getViewLineCount(),a=!1,l=0,u=-1,c=0,d=-1,h=0,g=-1;o>s?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,u=l+s-1,h=u+1,g=h+(o-s)-1,a=!0):o<s?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,u=l+o-1,c=u+1,d=c+(s-o)-1,a=!0):(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,u=l+s-1),this.prefixSumComputer.changeValue(n,s);return[a,l<=u?new lA(l,u):null,c<=d?new cA(c,d):null,h<=g?new uA(h,g):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),s=this.model.getActiveIndentGuide(n.lineNumber,o.lineNumber,r.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return new HA(i+1,n)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Vn(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Vn(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),o=new Array;let r=this.getModelStartPositionOfViewLine(i),s=new Array;for(let a=i.modelLineNumber;a<=n.modelLineNumber;a++){const e=this.lines[a-1];if(e.isVisible()){let t=a===i.modelLineNumber?i.modelLineWrappedLineIdx:0,o=a===n.modelLineNumber?n.modelLineWrappedLineIdx+1:e.getViewLineCount();for(let e=t;e<o;e++)s.push(new HA(a,e))}if(!e.isVisible()&&r){const e=new Vn(a-1,this.model.getLineMaxColumn(a-1)+1),t=Hn.fromPositions(r,e);o.push(new zA(t,s)),s=[],r=null}else e.isVisible()&&!r&&(r=new Vn(a,1))}if(r){const e=Hn.fromPositions(r,this.getModelEndPositionOfViewLine(n));o.push(new zA(e,s))}return o}getViewLinesBracketGuides(e,t,i,n){const o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,r=[];for(const s of this.getViewLineInfosGroupedByModelRanges(e,t)){const e=s.modelRange.startLineNumber,t=this.model.getLinesBracketGuides(e,s.modelRange.endLineNumber,o,n);for(const i of s.viewLines)if(i.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(i))r.push([]);else{let n=t[i.modelLineNumber-e];n=n.map((e=>e.horizontalLine?new qu(e.visibleColumn,e.className,new $u(e.horizontalLine.top,this.convertModelPositionToViewPosition(i.modelLineNumber,e.horizontalLine.endColumn).column)):e)),r.push(n)}}return r}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[],r=[],s=[];const a=i.lineNumber-1,l=n.lineNumber-1;let u=null;for(let g=a;g<=l;g++){const e=this.lines[g];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,g===a?i.column:1),n=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),o=n-t+1,l=0;o>1&&1===e.getViewLineMinColumn(this.model,g+1,n)&&(l=0===t?1:2),r.push(o),s.push(l),null===u&&(u=new Vn(g+1,0))}else null!==u&&(o=o.concat(this.model.getLinesIndentGuides(u.lineNumber,g)),u=null)}null!==u&&(o=o.concat(this.model.getLinesIndentGuides(u.lineNumber,n.lineNumber)),u=null);const c=t-e+1;let d=new Array(c),h=0;for(let g=0,p=o.length;g<p;g++){let e,t=o[g],i=Math.min(c-h,r[g]),n=s[g];e=2===n?0:1===n?1:i;for(let o=0;o<i;o++)o===e&&(t=0),d[h++]=t}return d}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.prefixSumComputer.getIndexOf(e-1),o=e,r=n.index,s=n.remainder,a=[];for(let l=r,u=this.model.getLineCount();l<u;l++){let n=this.lines[l];if(!n.isVisible())continue;let u=l===r?s:0,c=n.getViewLineCount()-u,d=!1;o+c>t&&(d=!0,c=t-o+1);let h=u+c;if(n.getViewLinesData(this.model,l+1,u,h,o-e,i,a),o+=c,d)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),o=n.index,r=n.remainder,s=this.lines[o],a=s.getViewLineMinColumn(this.model,o+1,r),l=s.getViewLineMaxColumn(this.model,o+1,r);t<a&&(t=a),t>l&&(t=l);let u=s.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new Vn(o+1,u)).equals(i)?new Vn(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new Hn(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),n=i.index,o=i.remainder,r=this.lines[n].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new Vn(n+1,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Hn(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const n=this.model.validatePosition(new Vn(e,t)),o=n.lineNumber,r=n.column;let s=o-1,a=!1;for(;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(0===s&&!this.lines[s].isVisible())return new Vn(1,1);const l=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));let u;return u=a?this.lines[s].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(s+1),i):this.lines[o-1].getViewPositionOfModelPosition(l,r,i),u}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return Hn.fromPositions(i)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Hn(t.lineNumber,t.column,i.lineNumber,i.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const e=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(e,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;const n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Hn(n.lineNumber,1,o.lineNumber,o.column),t,i);let r=[];const s=n.lineNumber-1,a=o.lineNumber-1;let l=null;for(let h=s;h<=a;h++){if(this.lines[h].isVisible())null===l&&(l=new Vn(h+1,h===s?n.column:1));else if(null!==l){const e=this.model.getLineMaxColumn(h);r=r.concat(this.model.getDecorationsInRange(new Hn(l.lineNumber,l.column,h,e),t,i)),l=null}}null!==l&&(r=r.concat(this.model.getDecorationsInRange(new Hn(l.lineNumber,l.column,o.lineNumber,o.column),t,i)),l=null),r.sort(((e,t)=>{const i=Hn.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i}));let u=[],c=0,d=null;for(const h of r){const e=h.id;d!==e&&(d=e,u[c++]=h)}return u}getInjectedTextAt(e){const t=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index,o=i.remainder;return this.lines[n].getInjectedTextAt(o,e.column)}normalizePosition(e,t){const i=this._toValidViewLineNumber(e.lineNumber),n=this.prefixSumComputer.getIndexOf(i-1),o=n.index,r=n.remainder;return this.lines[o].normalizePosition(this.model,o+1,r,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index;return 0===i.remainder?this.model.getLineIndentColumn(n+1):0}}class HA{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class zA{constructor(e,t){this.modelRange=e,this.viewLines=t}}class KA{constructor(){}isVisible(){return!0}setVisible(e){return e?this:UA.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),o=n.getLineContent();return new Hp(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Vn(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i,n,o){return n}getInjectedTextAt(e,t){return null}}KA.INSTANCE=new KA;class UA{constructor(){}isVisible(){return!1}setVisible(e){return e?KA.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,r,s){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i,n,o){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}UA.INSTANCE=new UA;class jA{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0,o=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let r;if(null!==this._lineBreakData.injectionOffsets){const i=this._lineBreakData.injectionOffsets.map(((e,t)=>new WC(0,0,e+1,this._lineBreakData.injectionOptions[t],0)));r=WC.applyInjectedText(e.getLineContent(t),i).substring(n,o)}else r=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(r=$A(this._lineBreakData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0;let o=(i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-n;return i>0&&(o=this._lineBreakData.wrappedTextIndentLength+o),o}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(i)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,i)+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=this._lineBreakData,o=i>0?n.wrappedTextIndentLength:0,r=n.injectionOffsets,s=n.injectionOptions;let a,l,u;if(r){const c=e.getLineTokens(t).withInserted(r.map(((e,t)=>({offset:e,text:s[t].content,tokenMetadata:Cp.defaultTokenMetadata})))),d=i>0?n.breakOffsets[i-1]:0,h=n.breakOffsets[i];a=c.getLineContent().substring(d,h),l=c.sliceAndInflate(d,h,o),u=new Array;let g=0;for(let e=0;e<r.length;e++){const t=s[e].content.length,o=r[e]+g,a=r[e]+g+t;if(o>h)break;if(d<a){const t=s[e];if(t.inlineClassName){const e=i>0?n.wrappedTextIndentLength:0,r=e+Math.max(o-d,0),s=e+Math.min(a-d,h);r!==s&&u.push(new Up(r,s,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing))}}g+=t}}else{const n=this.getInputStartOffsetOfOutputLineIndex(i),r=this.getInputEndOffsetOfOutputLineIndex(e,t,i),s=e.getLineTokens(t);a=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+1}),l=s.sliceAndInflate(n,r,o),u=null}i>0&&(a=$A(n.wrappedTextIndentLength)+a);const c=i>0?n.wrappedTextIndentLength+1:1,d=a.length+1,h=i+1<this.getViewLineCount(),g=0===i?0:n.breakOffsetsVisibleColumn[i-1];return new Hp(a,h,c,d,g,l,u)}getViewLinesData(e,t,i,n,o,r,s){if(!this._isVisible)throw new Error("Not supported");for(let a=i;a<n;a++){let n=o+a-i;r[n]?s[n]=this.getViewLineData(e,t,a):s[n]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return e>0&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,i)+1}getViewPositionOfModelPosition(e,t,i=2){if(!this._isVisible)throw new Error("Not supported");let n=this._lineBreakData.getOutputPositionOfInputOffset(t-1,i),o=n.outputLineIndex,r=n.outputOffset+1;return o>0&&(r+=this._lineBreakData.wrappedTextIndentLength),new Vn(e+o,r)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+this._lineBreakData.getOutputPositionOfInputOffset(t-1).outputLineIndex}normalizePosition(e,t,i,n,o){if(null!==this._lineBreakData.injectionOffsets){const e=n.lineNumber-i,t=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(i,n.column-1),r=this._lineBreakData.normalizeOffsetAroundInjections(t,o);if(r!==t)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(r,o).toPosition(e,this._lineBreakData.wrappedTextIndentLength)}if(0===o){if(i>0&&n.column===this._getViewLineMinColumn(i))return new Vn(n.lineNumber-1,this.getViewLineMaxColumn(e,t,i-1))}else if(1===o){if(i<this.getViewLineCount()-1&&n.column===this.getViewLineMaxColumn(e,t,i))return new Vn(n.lineNumber+1,this._getViewLineMinColumn(i+1))}return n}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let qA=[""];function $A(e){if(e>=qA.length)for(let t=1;t<=e;t++)qA[t]=GA(t);return qA[e]}function GA(e){return new Array(e+1).join(" ")}function ZA(e,t){return null===e?t?KA.INSTANCE:UA.INSTANCE:new jA(e,t)}class YA{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class JA{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new YA(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new uA(t,i)}onModelLinesInserted(e,t,i,n){return new cA(t,i)}onModelLineChanged(e,t,i){return[!1,new lA(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1;let n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new Hp(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let o=[];for(let r=e;r<=t;r++){let t=r-e;i[t]||(o[t]=null),o[t]=this.getViewLineData(r)}return o}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class XA{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,o=e.options;let r;if(o.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new Vn(n.startLineNumber,1),0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new Vn(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);r=new Hn(e.lineNumber,e.column,t.lineNumber,t.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new jp(r,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,Qt(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber;let o=[],r=0,s=[];for(let a=i;a<=n;a++)s[a-i]=[];for(let a=0,l=t.length;a<l;a++){let e=t[a],l=e.options,u=this._getOrCreateViewModelDecoration(e),c=u.range;if(o[r++]=u,l.inlineClassName){let e=new Kp(c,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(i,c.startLineNumber),o=Math.min(n,c.endLineNumber);for(let n=t;n<=o;n++)s[n-i].push(e)}if(l.beforeContentClassName&&i<=c.startLineNumber&&c.startLineNumber<=n){let e=new Kp(new Hn(c.startLineNumber,c.startColumn,c.startLineNumber,c.startColumn),l.beforeContentClassName,1);s[c.startLineNumber-i].push(e)}if(l.afterContentClassName&&i<=c.endLineNumber&&c.endLineNumber<=n){let e=new Kp(new Hn(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn),l.afterContentClassName,2);s[c.endLineNumber-i].push(e)}}return{decorations:o,inlineDecorations:s}}}const QA=new class{constructor(){this._onDidChangeLanguages=new Ti,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};yh.add("editor.modesRegistry",QA);const eN="plaintext";QA.registerLanguage({id:"plaintext",extensions:[".txt"],aliases:[it("vs/editor/common/modes/modesRegistry","plainText.alias","Plain Text"),"text"],mimetypes:[QI.text]}),Xh.register("plaintext",{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);class tN extends Si{constructor(e,t,i,n,o,r){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new vA,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new xI(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new ts((()=>this.tokenizeViewport()),50)),this._updateConfigurationViewLineCount=this._register(new ts((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new JA(this.model);else{const e=this._configuration.options,t=e.get(43),i=e.get(123),r=e.get(130),s=e.get(122);this._lines=new VA(this._editorId,this.model,n,o,t,this.model.getOptions().tabSize,i,r.wrappingColumn,s)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new EA(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new PA(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new hA(e)),this._eventDispatcher.emitOutgoingEvent(new wA(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new XA(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(dL.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new mA)}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new Hn(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(const n of i)this.model.tokenizeViewport(n.startLineNumber,n.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new rA(e)),this._eventDispatcher.emitOutgoingEvent(new CA(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new QL)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new eA)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new gA)}_onConfigurationChanged(e,t){let i=null;if(-1!==this._viewportStartLine){let e=new Vn(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let n=!1;const o=this._configuration.options,r=o.get(43),s=o.get(123),a=o.get(130),l=o.get(122);if(this._lines.setWrappingSettings(r,s,a.wrappingColumn,l)&&(e.emitViewEvent(new oA),e.emitViewEvent(new aA),e.emitViewEvent(new nA(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new nA(null))),e.emitViewEvent(new tA(t)),this.viewLayout.onConfigurationChanged(t),n&&i){const e=this.coordinatesConverter.convertModelPositionToViewPosition(i),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}xI.shouldRecreate(t)&&(this.cursorConfig=new xI(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const o=e.changes,r=e instanceof UC?e.versionId:null,s=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const i=e.detail[t];let n=e.injectedTexts[t];n&&(n=n.filter((e=>!e.ownerId||e.ownerId===this._editorId))),s.addRequest(i,n,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter((e=>!e.ownerId||e.ownerId===this._editorId))),s.addRequest(e.detail,t,null);break}}const a=s.finalize();let l=0;for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new oA),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(r,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=a.slice(l,l+e.detail.length);l+=e.detail.length;const o=this._lines.onModelLinesInserted(r,e.fromLineNumber,e.toLineNumber,n);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),i=!0;break}case 2:{const i=a[l];l++;const[o,s,u,c]=this._lines.onModelLineChanged(r,e.lineNumber,i);n=o,s&&t.emitViewEvent(s),u&&(t.emitViewEvent(u),this.viewLayout.onLinesInserted(u.fromLineNumber,u.toLineNumber)),c&&(t.emitViewEvent(c),this.viewLayout.onLinesDeleted(c.fromLineNumber,c.toLineNumber));break}}null!==r&&this._lines.acceptVersionId(r),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new aA),t.emitViewEvent(new nA(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(this.model.onDidChangeTokens((e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Vn(n.fromLineNumber,1)).lineNumber,r=this.coordinatesConverter.convertModelPositionToViewPosition(new Vn(n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:r}}this._eventDispatcher.emitSingleViewEvent(new pA(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new sA),this.cursorConfig=new xI(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new xI(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new oA),e.emitViewEvent(new aA),e.emitViewEvent(new nA(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new xI(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new nA(e))})))}setHiddenAreas(e){let t=!1;try{const i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new oA),i.emitViewEvent(new aA),i.emitViewEvent(new nA(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new yA)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),t=this._configuration.options.get(58),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),r=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new Hn(o,this.getLineMinColumn(o),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];let n=[],o=0,r=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,l=t.endColumn;for(let u=0,c=i.length;u<c;u++){const e=i[u].startLineNumber,t=i[u].endLineNumber;t<r||(e>a||(r<e&&(n[o++]=new Hn(r,s,e-1,this.model.getLineMaxColumn(e-1))),r=t+1,s=1))}return(r<a||r===a&&s<l)&&(n[o++]=new Hn(r,s,a,l)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new Hn(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new Hn(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new Vn(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new Vn(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Hn(n.lineNumber,n.column,n.lineNumber,n.column),1);const o=this.viewLayout.getVerticalOffsetForLineNumber(e),r=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=r-o}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Aa(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Ta(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this._lines.getViewLineData(t),s=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return r.inlineDecorations&&(s=[...s,...r.inlineDecorations.map((e=>e.toInlineDecoration(t)))]),new zp(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,n,r.tokens,s,o,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new Vp(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,Qt(this._configuration.options)),i=new iN;for(const n of t){const t=n.options,o=t.overviewRuler;if(!o)continue;const r=o.position;if(0===r)continue;const s=o.getColor(e),a=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),l=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(s,t.zIndex,a,l,r)}return i.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(o)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(Hn.compareRangesUsingStarts);let o=!1,r=!1;for(const a of e)a.isEmpty()?o=!0:r=!0;if(!r){if(!t)return"";const i=e.map((e=>e.startLineNumber));let o="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(o+=this.model.getLineContent(i[e])+n);return o}if(o&&t){let t=[],n=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,i?2:0)),n=e}return 1===t.length?t[0]:t}let s=[];for(const a of e)a.isEmpty()||s.push(this.model.getValueInRange(a,i?2:0));return 1===s.length?s[0]:s}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if("plaintext"===i)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new Hn(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(43),r=this._getColorMap();let s;if(/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===ii.fontFamily)s=ii.fontFamily;else{s=o.fontFamily,s=s.replace(/"/g,"'");if(!/[,']/.test(s)){/[+ ]/.test(s)&&(s=`'${s}'`)}s=`${s}, ${ii.fontFamily}`}return{mode:i,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${s};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,r)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=this.getTabSize();let a="";for(let l=i;l<=o;l++){const e=this.model.getLineTokens(l),u=e.getLineContent(),c=l===i?n-1:0,d=l===o?r-1:u.length;a+=""===u?"<br>":NA(u,e.inflate(),t,c,d,s,ft)}return a}_getColorMap(){let e=Cd.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=ew.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector((n=>this._cursor.setStates(n,e,t,i)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector((n=>this._cursor.setSelections(n,e,t,i)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new DA):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit((n=>this._cursor.executeEdits(n,e,t,i)))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((i=>this._cursor.type(i,e,t)))}compositionType(e,t,i,n,o){this._executeCursorEdit((r=>this._cursor.compositionType(r,e,t,i,n,o)))}paste(e,t,i,n){this._executeCursorEdit((o=>this._cursor.paste(o,e,t,i,n)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((i=>this._cursor.executeCommand(i,e,t)))}executeCommands(e,t){this._executeCursorEdit((i=>this._cursor.executeCommands(i,e,t)))}revealPrimaryCursor(e,t){this._withViewEventsCollector((i=>this._cursor.revealPrimary(i,e,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new Hn(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new dA(e,i,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new Hn(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new dA(e,i,null,0,!0,0))))}revealRange(e,t,i,n,o){this._withViewEventsCollector((r=>r.emitViewEvent(new dA(e,i,null,n,t,o))))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new fA),this._eventDispatcher.emitOutgoingEvent(new yA))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class iN{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){const r=this._asMap[e];if(r){const e=r.data,t=e[e.length-3],s=e[e.length-1];if(t===o&&s+1>=i)return void(n>s&&(e[e.length-1]=n));e.push(o,i,n)}else{const r=new qp(e,t,[o,i,n]);this._asMap[e]=r,this.asArray.push(r)}}}class nN{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}const oN=pr("accessibilityService"),rN=new Cf("accessibilityModeEnabled",!1);class sN extends Sg{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let aN=[],lN=[];class uN{constructor(e,t){this.classifier=new sN(e,t)}static create(e){return new uN(e.get(118),e.get(117))}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;const o=[],r=[],s=[];return{addRequest:(e,t,i)=>{o.push(e),r.push(t),s.push(i)},finalize:()=>{const a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let l=[];for(let e=0,u=o.length;e<u;e++){const u=r[e],c=s[e];!c||c.injectionOptions||u?l[e]=dN(this.classifier,o[e],u,t,i,a,n):l[e]=cN(this.classifier,c,o[e],t,i,a,n)}return aN.length=0,lN.length=0,l}}}}function cN(e,t,i,n,o,r,s){if(-1===o)return null;const a=i.length;if(a<=1)return null;const l=t.breakOffsets,u=t.breakOffsetsVisibleColumn,c=mN(i,n,o,r,s),d=o-c;let h=aN,g=lN,p=0,m=0,f=0,v=o;const _=l.length;let b=0;if(b>=0){let e=Math.abs(u[b]-v);for(;b+1<_;){const t=Math.abs(u[b+1]-v);if(t>=e)break;e=t,b++}}for(;b<_;){let t=b<0?0:l[b],o=b<0?0:u[b];m>t&&(t=m,o=f);let s=0,c=0,C=0,w=0;if(o<=v){let f=o,_=0===t?0:i.charCodeAt(t-1),b=0===t?0:e.get(_),y=!0;for(let o=t;o<a;o++){const t=o,a=i.charCodeAt(o);let l,u;if(Ka(a)?(o++,l=0,u=2):(l=e.get(a),u=hN(a,f,n,r)),t>m&&pN(_,b,a,l)&&(s=t,c=f),f+=u,f>v){t>m?(C=t,w=f-u):(C=o+1,w=f),f-c>d&&(s=0),y=!1;break}_=a,b=l}if(y){p>0&&(h[p]=l[l.length-1],g[p]=u[l.length-1],p++);break}}if(0===s){let a=o,l=i.charCodeAt(t),u=e.get(l),h=!1;for(let n=t-1;n>=m;n--){const t=n+1,o=i.charCodeAt(n);if(9===o){h=!0;break}let g,p;if(Ua(o)?(n--,g=0,p=2):(g=e.get(o),p=il(o)?r:1),a<=v){if(0===C&&(C=t,w=a),a<=v-d)break;if(pN(o,g,l,u)){s=t,c=a;break}}a-=p,l=o,u=g}if(0!==s){const e=d-(w-c);if(e<=n){const t=i.charCodeAt(C);let o;o=Ka(t)?2:hN(t,w,n,r),e-o<0&&(s=0)}}if(h){b--;continue}}if(0===s&&(s=C,c=w),s<=m){const e=i.charCodeAt(m);Ka(e)?(s=m+2,c=f+2):(s=m+1,c=f+hN(e,f,n,r))}for(m=s,h[p]=s,f=c,g[p]=c,p++,v=c+d;b<0||b<_&&u[b]<c;)b++;let y=Math.abs(u[b]-v);for(;b+1<_;){const e=Math.abs(u[b+1]-v);if(e>=y)break;y=e,b++}}return 0===p?null:(h.length=p,g.length=p,aN=t.breakOffsets,lN=t.breakOffsetsVisibleColumn,t.breakOffsets=h,t.breakOffsetsVisibleColumn=g,t.wrappedTextIndentLength=c,t)}function dN(e,t,i,n,o,r,s){const a=WC.applyInjectedText(t,i);let l,u;if(i&&i.length>0?(l=i.map((e=>e.options)),u=i.map((e=>e.column-1))):(l=null,u=null),-1===o)return l?new Wp([a.length],[],0,u,l):null;const c=a.length;if(c<=1)return l?new Wp([a.length],[],0,u,l):null;const d=mN(a,n,o,r,s),h=o-d;let g=[],p=[],m=0,f=0,v=0,_=o,b=a.charCodeAt(0),C=e.get(b),w=hN(b,0,n,r),y=1;Ka(b)&&(w+=1,b=a.charCodeAt(1),C=e.get(b),y++);for(let S=y;S<c;S++){const t=S,i=a.charCodeAt(S);let o,s;Ka(i)?(S++,o=0,s=2):(o=e.get(i),s=hN(i,w,n,r)),pN(b,C,i,o)&&(f=t,v=w),w+=s,w>_&&((0===f||w-v>h)&&(f=t,v=w-s),g[m]=f,p[m]=v,m++,_=v+h,f=0),b=i,C=o}return 0!==m||i&&0!==i.length?(g[m]=c,p[m]=w,new Wp(g,p,d,u,l)):null}function hN(e,t,i,n){return 9===e?i-t%i:il(e)||e<32?n:1}function gN(e,t){return t-e%t}function pN(e,t,i,n){return 32!==i&&(2===t||3===t&&2!==n||1===n||3===n&&1!==t)}function mN(e,t,i,n,o){let r=0;if(0!==o){const s=Aa(e);if(-1!==s){for(let i=0;i<s;i++){r+=9===e.charCodeAt(i)?gN(r,t):1}const a=3===o?2:2===o?1:0;for(let e=0;e<a;e++){r+=gN(r,t)}r+n>i&&(r=0)}}return r}var fN;const vN=null===(fN=window.trustedTypes)||void 0===fN?void 0:fN.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class _N{static create(){return new _N}constructor(){}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let o=[],r=[];return{addRequest:(e,t,i)=>{o.push(e),r.push(t)},finalize:()=>function(e,t,i,n,o,r){var s;function a(t){const i=r[t];if(i){const n=WC.applyInjectedText(e[t],i),o=i.map((e=>e.options)),r=i.map((e=>e.column-1));return new Wp([n.length],[],0,r,o)}return null}if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=a(i);return t}const l=Math.round(n*t.typicalHalfwidthCharacterWidth),u=3===o?2:2===o?1:0,c=Math.round(i*u),d=Math.ceil(t.spaceWidth*c),h=document.createElement("div");A_.applyFontInfoSlow(h,t);const g=oh(1e4),p=[],m=[],f=[],v=[],_=[];for(let D=0;D<e.length;D++){const n=WC.applyInjectedText(e[D],r[D]);let s=0,a=0,u=l;if(0!==o)if(s=Aa(n),-1===s)s=0;else{for(let t=0;t<s;t++){a+=9===n.charCodeAt(t)?i-a%i:1}const e=Math.ceil(t.spaceWidth*a);e+t.typicalFullwidthCharacterWidth>l?(s=0,a=0):u=l-e}const c=n.substr(s),h=bN(c,a,i,u,g,d);p[D]=s,m[D]=a,f[D]=c,v[D]=h[0],_[D]=h[1]}const b=g.build(),C=null!==(s=null==vN?void 0:vN.createHTML(b))&&void 0!==s?s:b;h.innerHTML=C,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);let w=document.createRange();const y=Array.prototype.slice.call(h.children,0);let S=[];for(let D=0;D<e.length;D++){const e=CN(w,y[D],f[D],v[D]);if(null===e){S[D]=a(D);continue}const t=p[D],i=m[D]+c,n=_[D],o=[];for(let r=0,a=e.length;r<a;r++)o[r]=n[e[r]];if(0!==t)for(let r=0,a=e.length;r<a;r++)e[r]+=t;let s,l;const u=r[D];u?(s=u.map((e=>e.options)),l=u.map((e=>e.column-1))):(s=null,l=null),S[D]=new Wp(e,o,i,l,s)}return document.body.removeChild(h),S}(o,e,t,i,n,r)}}}function bN(e,t,i,n,o,r){if(0!==r){let e=String(r);o.appendASCIIString('<div style="text-indent: -'),o.appendASCIIString(e),o.appendASCIIString("px; padding-left: "),o.appendASCIIString(e),o.appendASCIIString("px; box-sizing: border-box; width:")}else o.appendASCIIString('<div style="width:');o.appendASCIIString(String(n)),o.appendASCIIString('px;">');const s=e.length;let a=t,l=0,u=[],c=[],d=0<s?e.charCodeAt(0):0;o.appendASCIIString("<span>");for(let h=0;h<s;h++){0!==h&&h%16384==0&&o.appendASCIIString("</span><span>"),u[h]=l,c[h]=a;const t=d;d=h+1<s?e.charCodeAt(h+1):0;let n=1,r=1;switch(t){case 9:n=i-a%i,r=n;for(let e=1;e<=n;e++)e<n?o.write1(160):o.appendASCII(32);break;case 32:32===d?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:il(t)&&r++,t<32?o.write1(9216+t):o.write1(t)}l+=n,a+=r}return o.appendASCIIString("</span>"),u[e.length]=l,c[e.length]=a,o.appendASCIIString("</div>"),[u,c]}function CN(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),r=[];try{wN(e,o,n,0,null,i.length-1,null,r)}catch(s){return console.log(s),null}return 0===r.length?null:(r.push(i.length),r)}function wN(e,t,i,n,o,r,s,a){if(n===r)return;if(o=o||yN(e,t,i[n],i[n+1]),s=s||yN(e,t,i[r],i[r+1]),Math.abs(o[0].top-s[0].top)<=.1)return;if(n+1===r)return void a.push(r);const l=n+(r-n)/2|0,u=yN(e,t,i[l],i[l+1]);wN(e,t,i,n,o,l,u,a),wN(e,t,i,l,u,r,s,a)}function yN(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}var SN=function(e,t){return function(i,n){t(i,n,e)}};let DN=0;class kN{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){bi(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let IN=class e extends Si{constructor(e,t,i,n,o,r,s,a,l,u){super(),this._onDidDispose=this._register(new Ti),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new Ti),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new Ti),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new Ti),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new Ti),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new Ti),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new Ti),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new Ti),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new Ti),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new Ti),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Ti),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new Ti),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new EN),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new EN),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Ti),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Ti),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Ti),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Ti),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Ti),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Ti),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Ti),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Ti),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Ti),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Ti),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new Ti),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Ti),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Ti),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Ti),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Ti),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Ti),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new Ti),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new Ti),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new Ti),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new Ti),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const c=Object.assign({},t);let d;this._domElement=e,this._overflowWidgetsDomNode=c.overflowWidgetsDomNode,delete c.overflowWidgetsDomNode,this._id=++DN,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(c,u)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(129)){const e=t.get(129);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(s.createScoped(this._domElement)),this._notificationService=l,this._codeEditorService=o,this._commandService=r,this._themeService=a,this._register(new xN(this,this._contextKeyService)),this._register(new LN(this,this._contextKeyService)),this._instantiationService=n.createChild(new nN([wf,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new AN(e),this._register(this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}))),this._contentWidgets={},this._overlayWidgets={},d=Array.isArray(i.contributions)?i.contributions:m_.getEditorContributions();for(const g of d)if(this._contributions[g.id])li(new Error(`Cannot have two contributions with the same id ${g.id}`));else try{const e=this._instantiationService.createInstance(g.ctor,this);this._contributions[g.id]=e}catch(h){li(h)}m_.getEditorActions().forEach((e=>{if(this._actions[e.id])return void li(new Error(`Cannot have two actions with the same id ${e.id}`));const t=new xA(e.id,e.label,e.alias,cu(e.precondition),(()=>this._instantiationService.invokeFunction((t=>Promise.resolve(e.runEditorCommand(t,this,null))))),this._contextKeyService);this._actions[t.id]=t})),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new A_(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Wu.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const i=e[t];this._contributions[i].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?OE.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const n=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((e=>Hn.lift(e))))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return yw.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Vn.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!Hn.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,r,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new Hn(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!Vn.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Hn(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=zn.isISelection(e),i=Hn.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){const t={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(t)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new zn(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new Hn(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!Hn.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Hn.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!zn.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const i of t){const t=this._contributions[i];"function"==typeof t.saveViewState&&(e[i]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const i=t.contributionsState||{},n=Object.keys(this._contributions);for(let t=0,r=n.length;t<r;t++){const e=n[t],o=this._contributions[e];"function"==typeof o.restoreViewState&&o.restoreViewState(i[e])}const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._actions[n])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=i;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=i;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=i;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=i;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const n=this.getAction(t);n?Promise.resolve(n.run()).then(void 0,li):this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||0===t.length)return;const r=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);const s=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new Hn(r.lineNumber,r.column,s.lineNumber,s.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=m_.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,li)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(80)&&(this._modelData.model.pushStackElement(),!0))}popUndoStop(){return!!this._modelData&&(!this._configuration.options.get(80)&&(this._modelData.model.popStackElement(),!0))}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(80))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Qt(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const i=this._modelData.model.validatePosition(t),n=this._configuration.options,o=n.get(129);return{top:e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:n.get(58)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){A_.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const i=new tN(this._id,this._configuration,e,_N.create(),uN.create(this._configuration.options),(e=>ys(e)));t.push(e.onDidChangeDecorations((e=>this._onDidChangeModelDecorations.fire(e)))),t.push(e.onDidChangeLanguage((t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t)}))),t.push(e.onDidChangeLanguageConfiguration((e=>this._onDidChangeModelLanguageConfiguration.fire(e)))),t.push(e.onDidChangeContent((e=>this._onDidChangeModelContent.fire(e)))),t.push(e.onDidChangeOptions((e=>this._onDidChangeModelOptions.fire(e)))),t.push(e.onWillDispose((()=>this.setModel(null)))),t.push(i.onEvent((e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{e.reachedMaxCursorCount&&this._notificationService.warn(it("vs/editor/browser/widget/codeEditorWidget","cursors.maximum","The number of cursors has been limited to {0}.",EA.MAX_CURSOR_COUNT));const t=[];for(let o=0,r=e.selections.length;o<r;o++)t[o]=e.selections[o].getPosition();const i={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(i);const n={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(n);break}}})));const[n,o]=this._createView(i);if(o){this._domElement.appendChild(n.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addContentWidget(this._contentWidgets[i])}t=Object.keys(this._overlayWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addOverlayWidget(this._overlayWidgets[i])}n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new kN(e,i,n,o,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,i,n)=>{this._compositionType("keyboard",e,t,i,n)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{const o={text:e,pasteOnNewLine:t,multicursorText:i,mode:n};this._commandService.executeCommand("paste",o)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,i,n)=>{if(i||n){const o={text:e,replacePrevCharCnt:t,replaceNextCharCnt:i,positionDelta:n};this._commandService.executeCommand("compositionType",o)}else{const i={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",i)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new hx(e.coordinatesConverter);i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new YL(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};IN=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([SN(3,hr),SN(4,fr),SN(5,du),SN(6,wf),SN(7,Wv),SN(8,Vf),SN(9,oN)],IN);class EN extends Si{constructor(){super(),this._onDidChangeToTrue=this._register(new Ti),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new Ti),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class xN extends Si{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=ZE.editorSimpleInput.bindTo(t),this._editorFocus=ZE.focus.bindTo(t),this._textInputFocus=ZE.textInputFocus.bindTo(t),this._editorTextFocus=ZE.editorTextFocus.bindTo(t),this._editorTabMovesFocus=ZE.tabMovesFocus.bindTo(t),this._editorReadonly=ZE.readOnly.bindTo(t),this._inDiffEditor=ZE.inDiffEditor.bindTo(t),this._editorColumnSelection=ZE.columnSelection.bindTo(t),this._hasMultipleSelections=ZE.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=ZE.hasNonEmptySelection.bindTo(t),this._canUndo=ZE.canUndo.bindTo(t),this._canRedo=ZE.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class LN extends Si{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=ZE.languageId.bindTo(t),this._hasCompletionItemProvider=ZE.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=ZE.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=ZE.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=ZE.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=ZE.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=ZE.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=ZE.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=ZE.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=ZE.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=ZE.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=ZE.hasReferenceProvider.bindTo(t),this._hasRenameProvider=ZE.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=ZE.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=ZE.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=ZE.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=ZE.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=ZE.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=ZE.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=ZE.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(Jc.onDidChange(i)),this._register(cd.onDidChange(i)),this._register(ld.onDidChange(i)),this._register(od.onDidChange(i)),this._register(rd.onDidChange(i)),this._register(sd.onDidChange(i)),this._register(ad.onDidChange(i)),this._register(ed.onDidChange(i)),this._register(id.onDidChange(i)),this._register(td.onDidChange(i)),this._register(Zc.onDidChange(i)),this._register(Yc.onDidChange(i)),this._register(dd.onDidChange(i)),this._register(hd.onDidChange(i)),this._register(Qc.onDidChange(i)),this._register(ud.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(Jc.has(e)),this._hasCodeActionsProvider.set(cd.has(e)),this._hasCodeLensProvider.set(ld.has(e)),this._hasDefinitionProvider.set(od.has(e)),this._hasDeclarationProvider.set(rd.has(e)),this._hasImplementationProvider.set(sd.has(e)),this._hasTypeDefinitionProvider.set(ad.has(e)),this._hasHoverProvider.set(ed.has(e)),this._hasDocumentHighlightProvider.set(id.has(e)),this._hasDocumentSymbolProvider.set(td.has(e)),this._hasReferenceProvider.set(Zc.has(e)),this._hasRenameProvider.set(Yc.has(e)),this._hasSignatureHelpProvider.set(Qc.has(e)),this._hasInlayHintsProvider.set(ud.has(e)),this._hasDocumentFormattingProvider.set(dd.has(e)||hd.has(e)),this._hasDocumentSelectionFormattingProvider.set(hd.has(e)),this._hasMultipleDocumentFormattingProvider.set(dd.all(e).length+hd.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(hd.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===ss.walkThroughSnippet)})):this.reset()}}class AN extends Si{constructor(e){super(),this._onChange=this._register(new Ti),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(ia(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}const NN=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),TN=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ON(e){return NN+encodeURIComponent(e.toString())+TN}const FN=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),MN=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');qv(((e,t)=>{const i=e.getColor(qy);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`);const n=e.getColor(jy);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ON(n)}") repeat-x bottom left; }`);const o=e.getColor(Uy);o&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${o}; }`);const r=e.getColor(Zy);r&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${r}; }`);const s=e.getColor(Gy);s&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ON(s)}") repeat-x bottom left; }`);const a=e.getColor($y);a&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=e.getColor(Xy);l&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const u=e.getColor(Jy);u&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ON(u)}") repeat-x bottom left; }`);const c=e.getColor(Yy);c&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${c}; }`);const d=e.getColor(eS);d&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${d}; }`);const h=e.getColor(Qy);var g;h&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${g=h,FN+encodeURIComponent(g.toString())+MN}") no-repeat bottom left; }`);const p=e.getColor(Ek);p&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${p.rgba.a}; }`);const m=e.getColor(Ik);m&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${m}; }`);const f=e.getColor(iS)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${f}}`)}));class RN{constructor(e,t,i){const n=e=>this.emitter.fire(e);this.emitter=new Ti({onFirstListenerAdd:()=>e.addEventListener(t,n,i),onLastListenerRemove:()=>e.removeEventListener(t,n,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function PN(e){return e.preventDefault(),e.stopPropagation(),e}var BN=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};var WN,VN;(VN=WN||(WN={})).North="north",VN.South="south",VN.East="east",VN.West="west";const HN=new Ti;const zN=new Ti;class KN{constructor(){this.disposables=new yi}get onPointerMove(){return this.disposables.add(new RN(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new RN(window,"mouseup")).event}dispose(){this.disposables.dispose()}}BN([O_],KN.prototype,"onPointerMove",null),BN([O_],KN.prototype,"onPointerUp",null);class UN{constructor(e){this.el=e,this.disposables=new yi}get onPointerMove(){return this.disposables.add(new RN(this.el,F_.Change)).event}get onPointerUp(){return this.disposables.add(new RN(this.el,F_.End)).event}dispose(){this.disposables.dispose()}}BN([O_],UN.prototype,"onPointerMove",null),BN([O_],UN.prototype,"onPointerUp",null);class jN{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}BN([O_],jN.prototype,"onPointerMove",null),BN([O_],jN.prototype,"onPointerUp",null);class qN extends Si{constructor(e,t,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new Gr(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new Ti),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new Ti),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new Ti),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new Ti),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new Ti),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new yi),this.orthogonalStartDragHandleDisposables=this._register(new yi),this.orthogonalEndSashDisposables=this._register(new yi),this.orthogonalEndDragHandleDisposables=this._register(new yi),this.el=na(e,ca(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),vt&&this.el.classList.add("mac");const n=this._register(new RN(this.el,"mousedown")).event;this._register(n((e=>this.onPointerStart(e,new KN)),this));const o=this._register(new RN(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const r=this._register(new RN(this.el,"mouseenter")).event;this._register(r((()=>qN.onMouseEnter(this))));const s=this._register(new RN(this.el,"mouseleave")).event;this._register(s((()=>qN.onMouseLeave(this)))),this._register(R_.addTarget(this.el));const a=Ai.map(this._register(new RN(this.el,F_.Start)).event,(e=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(a((e=>this.onPointerStart(e,new UN(this.el))),this));const l=this._register(new RN(this.el,F_.Tap)).event,u=Ai.map(Ai.filter(Ai.debounce(l,((e,t)=>{var i;return{event:t,count:(null!==(i=null==e?void 0:e.count)&&void 0!==i?i:0)+1}}),250),(({count:e})=>2===e)),(({event:e})=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(u(this.onPointerDoublePress,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(HN.event((e=>{this.size=e,this.layout()})))),this._register(zN.event((e=>this.hoverDelay=e))),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=na(this.el,ca(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(wi((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new RN(this._orthogonalStartDragHandle,"mouseenter")).event((()=>qN.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new RN(this._orthogonalStartDragHandle,"mouseleave")).event((()=>qN.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=na(this.el,ca(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(wi((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new RN(this._orthogonalEndDragHandle,"mouseenter")).event((()=>qN.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new RN(this._orthogonalEndDragHandle,"mouseleave")).event((()=>qN.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){ea.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const n=this.getOrthogonalSash(e);n&&(i=!0,e.__orthogonalSashEvent=!0,n.onPointerStart(e,new jN(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new jN(t))),!this.state)return;const n=(o="iframe",Array.prototype.slice.call(document.getElementsByTagName(o),0));var o;for(const h of n)h.style.pointerEvents="none";const r=e.pageX,s=e.pageY,a=e.altKey,l={startX:r,currentX:r,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const u=$s(this.el),c=()=>{let e="";e=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":vt?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":vt?"col-resize":"ew-resize",u.textContent=`* { cursor: ${e} !important; }`},d=new yi;c(),i||this.onDidEnablementChange(c,null,d);t.onPointerMove((e=>{ea.stop(e,!1);const t={startX:r,currentX:e.pageX,startY:s,currentY:e.pageY,altKey:a};this._onDidChange.fire(t)}),null,d),t.onPointerUp((e=>{ea.stop(e,!1),this.el.removeChild(u),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const t of n)t.style.pointerEvents="auto"}),null,d),d.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&qN.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&qN.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){qN.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}const $N=pr("IEditorCancelService"),GN=new Cf("cancellableOperation",!1,it("vs/editor/browser/core/keybindingCancellation","cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Uh($N,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext((e=>({key:GN.bindTo(e.get(wf)),tokens:new Ei}))),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class ZN extends Hi{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext((t=>t.get($N).add(e,this)))}dispose(){this._unregister(),super.dispose()}}c_(new class extends r_{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:GN})}runEditorCommand(e,t){e.get($N).cancel(t)}});class YN{constructor(e,t){if(this.flags=t,0!=(1&this.flags)){const t=e.getModel();this.modelVersionId=t?Ca("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof YN))return!1;const t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))}validate(e){return this._equals(new YN(e,this.flags))}}class JN extends ZN{constructor(e,t,i,n){super(e,n),this._listener=new yi,4&t&&this._listener.add(e.onDidChangeCursorPosition((e=>{i&&Hn.containsPosition(i,e.position)||this.cancel()}))),2&t&&this._listener.add(e.onDidChangeCursorSelection((e=>{i&&Hn.containsRange(i,e.selection)||this.cancel()}))),8&t&&this._listener.add(e.onDidScrollChange((e=>this.cancel()))),1&t&&(this._listener.add(e.onDidChangeModel((e=>this.cancel()))),this._listener.add(e.onDidChangeModelContent((e=>this.cancel()))))}dispose(){this._listener.dispose(),super.dispose()}}class XN extends Hi{constructor(e,t){super(t),this._listener=e.onDidChangeContent((()=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}class QN{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new QN(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}const eT={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:QI.text,TERMINALS:"Terminals"};class tT{constructor(e){this.data=e}update(){}getData(){return this.data}}const iT={CurrentDragAndDropData:void 0};class nT extends Si{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Fv&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Mv)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(R_.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,yr&&this._register(ps(e,Qs.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(eT.TEXT,this._action.label)})))),this._register(ps(t,F_.Tap,(e=>this.onClick(e,!0)))),this._register(ps(t,Qs.MOUSE_DOWN,(e=>{i||ea.stop(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")}))),vt&&this._register(ps(t,Qs.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register(ps(t,Qs.CLICK,(e=>{ea.stop(e,!0),this.options&&this.options.isMenu||this.onClick(e)}))),this._register(ps(t,Qs.DBLCLICK,(e=>{ea.stop(e,!0)}))),[Qs.MOUSE_UP,Qs.MOUSE_OUT].forEach((e=>{this._register(ps(t,e,(e=>{ea.stop(e),t.classList.remove("active")})))}))}onClick(e,t=!1){var i;ea.stop(e,!0);const n=ou(this._context)?(null===(i=this.options)||void 0===i?void 0:i.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class oT extends nT{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=na(this.element,ca("a.action-label"))),this.label&&(this._action.id===Rv.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(na(this.element,ca("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=it("vs/base/browser/ui/actionbar/actionViewItems",{key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var rT=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class sT extends Si{constructor(e,t={}){var i,n,o,r,s,a;let l,u;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new Ti),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new Ti({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new Ti),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new Ti),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(n=this.options.orientation)&&void 0!==n?n:0,this._triggerKeys={keyDown:null!==(r=null===(o=this.options.triggerKeys)||void 0===o?void 0:o.keyDown)&&void 0!==r&&r,keys:null!==(a=null===(s=this.options.triggerKeys)||void 0===s?void 0:s.keys)&&void 0!==a?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Mv,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._register(this._actionRunner.onBeforeRun((e=>this._onBeforeRun.fire(e)))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:l=[15],u=[17];break;case 1:l=[16],u=[18],this.domNode.className+=" vertical"}this._register(ps(this.domNode,Qs.KEY_DOWN,(e=>{const t=new Pr(e);let i=!0;const n="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;l&&(t.equals(l[0])||t.equals(l[1]))?i=this.focusPrevious():u&&(t.equals(u[0])||t.equals(u[1]))?i=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?i=this.focusFirst():t.equals(13)?i=this.focusLast():t.equals(2)&&n instanceof nT&&n.trapsArrowNavigation?i=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:i=!1,i&&(t.preventDefault(),t.stopPropagation())}))),this._register(ps(this.domNode,Qs.KEY_UP,(e=>{const t=new Pr(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(ia(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{qs()!==this.domNode&&Vs(qs(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((i=>{t=t||e.equals(i)})),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Vs(qs(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach((t=>t.actionRunner=e)))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let n=eu(t.index)?t.index:null;i.forEach((e=>{const i=document.createElement("li");let o;i.className="action-item",i.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(ps(i,Qs.CONTEXT_MENU,(e=>{ea.stop(e,!0)}))),this.options.actionViewItemProvider&&(o=this.options.actionViewItemProvider(e)),o||(o=new oT(this.context,e,t)),o.actionRunner=this._actionRunner,o.setActionContext(this.context),o.render(i),this.focusable&&o instanceof nT&&0===this.viewItems.length&&o.setFocusable(!0),null===n||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(o),this._actionIds.push(e.id)):(this.actionsList.insertBefore(i,this.actionsList.children[n]),this.viewItems.splice(n,0,o),this._actionIds.splice(n,0,e.id),n++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){bi(this.viewItems),this.viewItems=[],this._actionIds=[],ds(this.actionsList)}length(){return this.viewItems.length}focus(e){let t,i=!1;if(void 0===e?i=!0:"number"==typeof e?t=e:"boolean"==typeof e&&(i=e),i&&void 0===this.focusedItem){const e=this.viewItems.findIndex((e=>e.isEnabled()));this.focusedItem=-1===e?void 0:e,this.updateFocus()}else void 0!==t&&(this.focusedItem=t),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],o=n;if(i===this.focusedItem){let i=!0;au(o.focus)||(i=!1),this.options.focusOnlyEnabledItems&&au(n.isEnabled)&&!n.isEnabled()&&(i=!1),i?o.focus(e):this.actionsList.focus({preventScroll:t})}else au(o.blur)&&o.blur()}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof nT){const i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i)}}run(e,t){return rT(this,void 0,void 0,(function*(){yield this._actionRunner.run(e,t)}))}dispose(){bi(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const aT=new class{constructor(){this._onDidChange=new Ti,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:it("vs/platform/theme/common/iconRegistry","iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:it("vs/platform/theme/common/iconRegistry","iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${Pc.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=i),this._onDidChange.fire()}return o}let r={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=r;let s={$ref:"#/definitions/icons"};return n&&(s.deprecationMessage=n),i&&(s.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=s,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;Hv.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return`codicon codicon-${e?e.id:""}`};let i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const o of n.filter((e=>!!e.description)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${Hv.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of n.filter((e=>!Hv.isThemeIcon(e.defaults))).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join("\n")}};function lT(e,t,i,n){return aT.registerIcon(e,t,i,n)}yh.add("base.contributions.icons",aT),function(){for(const e of Fc.all)aT.registerIcon(e.id,e.definition,e.description);Fc.onDidRegister((e=>aT.registerIcon(e.id,e.definition,e.description)))}();let uT=yh.as(Sh);uT.registerSchema("vscode://schemas/icons",aT.getIconSchema());const cT=new ts((()=>uT.notifySchemaChanged("vscode://schemas/icons")),200);aT.onDidChange((()=>{cT.isScheduled()||cT.schedule()}));const dT=lT("widget-close",Rc.close,it("vs/platform/theme/common/iconRegistry","widgetClose","Icon for the close action in widgets."));var hT,gT=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class pT{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class mT{constructor(e){this.entries=e}}const fT=lT("diff-review-insert",Rc.add,it("vs/editor/browser/widget/diffReview","diffReviewInsertIcon","Icon for 'Insert' in diff review.")),vT=lT("diff-review-remove",Rc.remove,it("vs/editor/browser/widget/diffReview","diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),_T=lT("diff-review-close",Rc.close,it("vs/editor/browser/widget/diffReview","diffReviewCloseIcon","Icon for 'Close' in diff review."));let bT=class e extends Si{constructor(e,t){super(),this._modeService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=T_(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=T_(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new sT(this.actionBarContainer.domNode)),this._actionBar.push(new Fv("diffreview.close",it("vs/editor/browser/widget/diffReview","label.close","Close"),"close-diff-review "+Hv.asClassName(_T),!0,(()=>gT(this,void 0,void 0,(function*(){return this.hide()})))),{label:!1,icon:!0}),this.domNode=T_(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=T_(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Jx(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff((()=>{this._isVisible&&(this._diffs=this._compute(),this._render())}))),this._register(e.getModifiedEditor().onDidChangeCursorPosition((()=>{this._isVisible&&this._render()}))),this._register(fs(this.domNode.domNode,"click",(e=>{e.preventDefault();let t=Hs(e.target,"diff-review-row");t&&this._goToRow(t)}))),this._register(fs(this.domNode.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Vn(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Vn(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new Vn(e,1)),this._diffEditor.revealPosition(new Vn(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];const i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return i&&n?e._mergeAdjacent(t,i.getLineCount(),n.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];let n=[],o=0;for(let l=0,u=e.length;l<u;l++){const r=e[l],s=r.originalStartLineNumber,a=r.originalEndLineNumber,c=r.modifiedStartLineNumber,d=r.modifiedEndLineNumber;let h=[],g=0;{const t=0===a?s:s-1,i=0===d?c:c-1;let n=1,o=1;if(l>0){const t=e[l-1];n=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,o=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let r=t-3+1,u=i-3+1;if(r<n){const e=n-r;r+=e,u+=e}if(u<o){const e=o-u;r+=e,u+=e}h[g++]=new pT(r,t,u,i)}0!==a&&(h[g++]=new pT(s,a,0,0)),0!==d&&(h[g++]=new pT(0,0,c,d));{const n=0===a?s+1:a+1,o=0===d?c+1:d+1;let r=t,p=i;if(l+1<u){const t=e[l+1];r=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,p=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let m=n+3-1,f=o+3-1;if(m>r){const e=r-m;m+=e,f+=e}if(f>p){const e=p-f;m+=e,f+=e}h[g++]=new pT(n,m,o,f)}n[o++]=new mT(h)}let r=n[0].entries,s=[],a=0;for(let l=1,u=n.length;l<u;l++){const e=n[l].entries,t=r[r.length-1],i=e[0];0===t.getType()&&0===i.getType()&&i.originalLineStart<=t.originalLineEnd?(r[r.length-1]=new pT(t.originalLineStart,i.originalLineEnd,t.modifiedLineStart,i.modifiedLineEnd),r=r.concat(e.slice(1))):(s[a++]=new mT(r),r=e)}return s[a++]=new mT(r),s}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){const e=this._diffs[i].entries;if(t<=e[e.length-1].modifiedLineEnd)return i}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),i=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel(),r=n.getOptions(),s=o.getOptions();if(!this._isVisible||!n||!o)return ds(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const l=this._diffs[a].entries;let u=document.createElement("div");u.className="diff-review-table",u.setAttribute("role","list"),u.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),A_.applyFontInfoSlow(u,i.get(43));let c=0,d=0,h=0,g=0;for(let e=0,S=l.length;e<S;e++){const t=l[e],i=t.originalLineStart,n=t.originalLineEnd,o=t.modifiedLineStart,r=t.modifiedLineEnd;0!==i&&(0===c||i<c)&&(c=i),0!==n&&(0===d||n>d)&&(d=n),0!==o&&(0===h||o<h)&&(h=o),0!==r&&(0===g||r>g)&&(g=r)}let p=document.createElement("div");p.className="diff-review-row";let m=document.createElement("div");m.className="diff-review-cell diff-review-summary";const f=d-c+1,v=g-h+1;m.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${c},${f} +${h},${v} @@`)),p.setAttribute("data-line",String(h));const _=e=>0===e?it("vs/editor/browser/widget/diffReview","no_lines_changed","no lines changed"):1===e?it("vs/editor/browser/widget/diffReview","one_line_changed","1 line changed"):it("vs/editor/browser/widget/diffReview","more_lines_changed","{0} lines changed",e),b=_(f),C=_(v);p.setAttribute("aria-label",it("vs/editor/browser/widget/diffReview",{key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,c,b,h,C)),p.appendChild(m),p.setAttribute("role","listitem"),u.appendChild(p);const w=i.get(58);let y=h;for(let S=0,D=l.length;S<D;S++){const a=l[S];e._renderSection(u,a,y,w,this._width,t,n,r,i,o,s,this._modeService.languageIdCodec),0!==a.modifiedLineStart&&(y=a.modifiedLineEnd)}ds(this._content.domNode),this._content.domNode.appendChild(u),this.scrollbar.scanDomNode()}static _renderSection(t,i,n,o,r,s,a,l,u,c,d,h){const g=i.getType();let p="diff-review-row",m="";let f=null;switch(g){case 1:p="diff-review-row line-insert",m=" char-insert",f=fT;break;case 2:p="diff-review-row line-delete",m=" char-delete",f=vT}const v=i.originalLineStart,_=i.originalLineEnd,b=i.modifiedLineStart,C=i.modifiedLineEnd,w=Math.max(C-b,_-v),y=s.get(129),S=y.glyphMarginWidth+y.lineNumbersWidth,D=u.get(129),k=10+D.glyphMarginWidth+D.lineNumbersWidth;for(let I=0;I<=w;I++){const i=0===v?0:v+I,_=0===b?0:b+I,C=document.createElement("div");C.style.minWidth=r+"px",C.className=p,C.setAttribute("role","listitem"),0!==_&&(n=_),C.setAttribute("data-line",String(n));let w=document.createElement("div");w.className="diff-review-cell",w.style.height=`${o}px`,C.appendChild(w);const y=document.createElement("span");y.style.width=S+"px",y.style.minWidth=S+"px",y.className="diff-review-line-number"+m,0!==i?y.appendChild(document.createTextNode(String(i))):y.innerText=" ",w.appendChild(y);const D=document.createElement("span");D.style.width=k+"px",D.style.minWidth=k+"px",D.style.paddingRight="10px",D.className="diff-review-line-number"+m,0!==_?D.appendChild(document.createTextNode(String(_))):D.innerText=" ",w.appendChild(D);const E=document.createElement("span");if(E.className="diff-review-spacer",f){const e=document.createElement("span");e.className=Hv.asClassName(f),e.innerText="  ",E.appendChild(e)}else E.innerText="  ";let x;if(w.appendChild(E),0!==_){let t=this._renderLine(c,u,d.tabSize,_,h);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),w.insertAdjacentHTML("beforeend",t),x=c.getLineContent(_)}else{let t=this._renderLine(a,s,l.tabSize,i,h);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),w.insertAdjacentHTML("beforeend",t),x=a.getLineContent(i)}0===x.length&&(x=it("vs/editor/browser/widget/diffReview","blankLine","blank"));let L="";switch(g){case 0:L=i===_?it("vs/editor/browser/widget/diffReview",{key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",x,i):it("vs/editor/browser/widget/diffReview","equalLine","{0} original line {1} modified line {2}",x,i,_);break;case 1:L=it("vs/editor/browser/widget/diffReview","insertLine","+ {0} modified line {1}",x,_);break;case 2:L=it("vs/editor/browser/widget/diffReview","deleteLine","- {0} original line {1}",x,i)}C.setAttribute("aria-label",L),t.appendChild(C)}}static _renderLine(e,t,i,n,o){const r=e.getLineContent(n),s=t.get(43),a=Cp.createEmpty(r,o),l=zp.isBasicASCII(r,e.mightContainNonBasicASCII()),u=zp.containsRTL(r,l,e.mightContainRTL());return Op(new Ep(s.isMonospace&&!t.get(29),s.canUseHalfwidthRightwardsArrow,r,!1,l,u,0,a,[],i,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,t.get(104),t.get(87),t.get(82),t.get(44)!==Yt.OFF,null)).html}};bT._ttPolicy=null===(hT=window.trustedTypes)||void 0===hT?void 0:hT.createPolicy("diffReview",{createHTML:e=>e}),bT=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(i,n){t(i,n,e)}}(1,Id)],bT),qv(((e,t)=>{const i=e.getColor(fk);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const n=e.getColor(Wy);n&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)}));function CT(e){const t=e.get(fr),i=t.listDiffEditors(),n=t.getActiveCodeEditor();if(!n)return null;for(let o=0,r=i.length;o<r;o++){const e=i[o];if(e.getModifiedEditor().getId()===n.getId()||e.getOriginalEditor().getId()===n.getId())return e}return null}d_(class extends s_{constructor(){super({id:"editor.action.diffReview.next",label:it("vs/editor/browser/widget/diffReview","editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Qm.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=CT(e);i&&i.diffReviewNext()}}),d_(class extends s_{constructor(){super({id:"editor.action.diffReview.prev",label:it("vs/editor/browser/widget/diffReview","editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Qm.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=CT(e);i&&i.diffReviewPrev()}});const wT=pr("contextViewService"),yT=pr("contextMenuService");var ST=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class DT extends Si{constructor(e,t,i,n,o,r){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=o,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Rc.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=i.getOption(58),a=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${s}px`,this._diffActions.style.lineHeight=`${s}px`,this._marginDomNode.appendChild(this._diffActions);const l=[],u=0===n.modifiedEndLineNumber;l.push(new Fv("diff.clipboard.copyDeletedContent",u?n.originalEndLineNumber>n.modifiedStartLineNumber?it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.originalEndLineNumber>n.modifiedStartLineNumber?it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,(()=>ST(this,void 0,void 0,(function*(){const e=new Hn(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),t=n.originalModel.getValueInRange(e);yield this._clipboardService.writeText(t)})))));let c,d=0;n.originalEndLineNumber>n.modifiedStartLineNumber&&(c=new Fv("diff.clipboard.copyDeletedLineContent",u?it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber):it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber),void 0,!0,(()=>ST(this,void 0,void 0,(function*(){const e=n.originalModel.getLineContent(n.originalStartLineNumber+d);if(""===e){const e=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===e?"\n":"\r\n")}else yield this._clipboardService.writeText(e)})))),l.push(c));i.getOption(80)||l.push(new Fv("diff.inline.revertChange",it("vs/editor/browser/widget/inlineDiffMargin","diff.inline.revertChange.label","Revert this change"),void 0,!0,(()=>ST(this,void 0,void 0,(function*(){const e=new Hn(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),t=n.originalModel.getValueInRange(e);if(0===n.modifiedEndLineNumber){const e=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new Hn(n.modifiedStartLineNumber,e,n.modifiedStartLineNumber,e),text:a+t}])}else{const e=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new Hn(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,e),text:t}])}})))));const h=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(c&&(c.label=u?it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+d):it("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber+d)),l),autoSelectFirstItem:!0})};this._register(fs(this._diffActions,"mousedown",(e=>{const{top:t,height:i}=Fs(this._diffActions);let n=Math.floor(s/3);e.preventDefault(),h(e.posx,t+i+n)}))),this._register(i.onMouseMove((e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,s)):this.visibility=!1}else this.visibility=!1}))),this._register(i.onMouseDown((e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,s),h(e.event.posx,e.event.posy+s))}})))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){const{top:n}=Fs(e),o=t-n,r=Math.floor(o/i),s=r*i;if(this._diffActions.style.top=`${s}px`,this.diff.viewLineCounts){let e=0;for(let t=0;t<this.diff.viewLineCounts.length;t++)if(e+=this.diff.viewLineCounts[t],r<e)return t}return r}}const kT=pr("clipboardService");class IT{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}IT.None=Object.freeze({report(){}});const ET=pr("editorProgressService");var xT,LT=function(e,t){return function(i,n){t(i,n,e)}};class AT{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter((e=>!this._zonesMap[String(e.id)]))}clean(e){this._zones.length>0&&e.changeViewZones((e=>{for(const t of this._zones)e.removeZone(t)})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){const o=n?QN.capture(e):null;e.changeViewZones((t=>{var n;for(const e of this._zones)t.removeZone(e);for(const e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let o=0,r=i.zones.length;o<r;o++){const r=i.zones[o];r.suppressMouseDown=!0;const s=t.addZone(r);this._zones.push(s),this._zonesMap[String(s)]=!0,i.zones[o].diff&&r.marginDomNode&&(r.suppressMouseDown=!1,0!==(null===(n=i.zones[o].diff)||void 0===n?void 0:n.originalModel.getValueLength())&&this._inlineDiffMargins.push(new DT(s,r.marginDomNode,e,i.zones[o].diff,this._contextMenuService,this._clipboardService)))}})),o&&o.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let NT=0;const TT=lT("diff-insert",Rc.add,it("vs/editor/browser/widget/diffEditorWidget","diffInsertIcon","Line decoration for inserts in the diff editor.")),OT=lT("diff-remove",Rc.remove,it("vs/editor/browser/widget/diffEditorWidget","diffRemoveIcon","Line decoration for removals in the diff editor.")),FT=null===(xT=window.trustedTypes)||void 0===xT?void 0:xT.createPolicy("diffEditorWidget",{createHTML:e=>e});let MT=class e extends Si{constructor(t,i,n,o,r,s,a,l,u,c,d,h){super(),this._editorProgressService=h,this._onDidDispose=this._register(new Ti),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Ti),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Ti),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=r,this._codeEditorService=l,this._contextKeyService=this._register(s.createScoped(t)),this._instantiationService=a.createChild(new nN([wf,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=u,this._notificationService=c,this._id=++NT,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._options=ZT(i,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),void 0!==i.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new ts((()=>this._updateDecorations()),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=T_(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(fs(this._overviewDomElement,"mousedown",(e=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new AT(d,o),this._modifiedEditorState=new AT(d,o),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new E_(this._containerDomElement,i.dimension,(()=>this._onDidContainerSizeChanged()))),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,n.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,n.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(bT,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new HT(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new KT(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(u.onDidColorThemeChange((t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)})));const g=m_.getDiffEditorContributions();for(const e of g)try{this._register(a.createInstance(e.ctor,this))}catch(p){li(p)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Kv(e.type),i}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(n.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(n.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(n.onDidChangeConfiguration((e=>{n.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(n.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(n.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})));const o=this._contextKeyService.createKey("isInDiffLeftEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget((()=>o.set(!0)))),this._register(n.onDidBlurEditorWidget((()=>o.set(!1)))),this._register(n.onDidContentSizeChange((t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),n}_createRightHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(n.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(n.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(n.onDidChangeConfiguration((e=>{n.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(n.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(n.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}))),this._register(n.onDidChangeModelOptions((e=>{e.tabSize&&this._updateDecorationsRunner.schedule()})));const o=this._contextKeyService.createKey("isInDiffRightEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget((()=>o.set(!0)))),this._register(n.onDidBlurEditorWidget((()=>o.set(!1)))),this._register(n.onDidContentSizeChange((t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),n}_createInnerEditor(e,t,i,n){return e.createInstance(IN,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Wu.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const i=ZT(t,this._options),n=(o=this._options,r=i,{enableSplitViewResizing:o.enableSplitViewResizing!==r.enableSplitViewResizing,renderSideBySide:o.renderSideBySide!==r.renderSideBySide,maxComputationTime:o.maxComputationTime!==r.maxComputationTime,maxFileSize:o.maxFileSize!==r.maxFileSize,ignoreTrimWhitespace:o.ignoreTrimWhitespace!==r.ignoreTrimWhitespace,renderIndicators:o.renderIndicators!==r.renderIndicators,originalEditable:o.originalEditable!==r.originalEditable,diffCodeLens:o.diffCodeLens!==r.diffCodeLens,renderOverviewRuler:o.renderOverviewRuler!==r.renderOverviewRuler,diffWordWrap:o.diffWordWrap!==r.diffWordWrap});var o,r;this._options=i;const s=n.ignoreTrimWhitespace||n.renderIndicators,a=this._isVisible&&(n.maxComputationTime||n.maxFileSize);s?this._beginUpdateDecorations():a&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),n.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new HT(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new KT(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),n.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler)return;if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((()=>this._beginUpdateDecorations()),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;const n=this._diffComputationToken,o=1024*this._options.maxFileSize*1024,r=e=>{const t=e.getValueLength();return 0===o||t<=o};r(t)&&r(i)?(this._setState(1),this._editorWorkerService.computeDiff(t.uri,i.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then((e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())}),(e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}))):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(it("vs/editor/browser/widget/diffEditorWidget","diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=si.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:o,height:i-n}),this._modifiedEditor.layout({width:t-o-(this._options.renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-0),r=i>0?o/i:0;return{height:Math.max(0,Math.floor(e.height*r)),top:Math.floor(t*r)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){const r=Math.floor((n+o)/2),s=t(i[r]),a=r+1<=o?t(i[r+1]):1073741824;e<s?o=r-1:e>=a?n=r+1:(n=r,o=r)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.originalStartLineNumber));if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=o?n+Math.min(s,r):n+r-o+s}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.modifiedStartLineNumber));if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=r?i+Math.min(s,o):i+o-r+s}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};MT.ONE_OVERVIEW_WIDTH=15,MT.ENTIRE_DIFF_OVERVIEW_WIDTH=30,MT.UPDATE_DIFF_DECORATIONS_DELAY=200,MT=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([LT(3,kT),LT(4,kd),LT(5,wf),LT(6,hr),LT(7,fr),LT(8,Wv),LT(9,Vf),LT(10,yT),LT(11,ET)],MT);class RT extends Si{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(KS)||HS).transparent(2),i=(e.getColor(US)||zS).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o){o=o.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber)),n=n.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber));const r=this._getViewZones(e,n,o,i),s=this._getOriginalEditorDecorations(e,t,i),a=this._getModifiedEditorDecorations(e,t,i);return{original:{decorations:s.decorations,overviewZones:s.overviewZones,zones:r.original},modified:{decorations:a.decorations,overviewZones:a.overviewZones,zones:r.modified}}}}class PT{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class BT{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){const n=e.getModel(),o=e._getViewModel();if(n&&o){const e=GT(n,o,t,i);return e.endLineNumber-e.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(58),t=this._modifiedEditor.getOption(58),i=-1!==this._originalEditor.getOption(130).wrappingColumn,n=-1!==this._modifiedEditor.getOption(130).wrappingColumn,o=i||n,r=this._originalEditor.getModel(),s=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],u=[];let c=0,d=0,h=0,g=0,p=0,m=0;const f=(e,t)=>e.afterLineNumber-t.afterLineNumber,v=(e,t)=>{if(null===t.domNode&&e.length>0){const i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},_=new PT(this._modifiedForeignVZ),b=new PT(this._originalForeignVZ);let C=1,w=1;for(let y=0,S=this._lineChanges.length;y<=S;y++){const i=y<S?this._lineChanges[y]:null;null!==i?(h=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),g=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),d=i.originalEndLineNumber>0?BT._getViewLineCount(this._originalEditor,i.originalStartLineNumber,i.originalEndLineNumber):0,c=i.modifiedEndLineNumber>0?BT._getViewLineCount(this._modifiedEditor,i.modifiedStartLineNumber,i.modifiedEndLineNumber):0,p=Math.max(i.originalStartLineNumber,i.originalEndLineNumber),m=Math.max(i.modifiedStartLineNumber,i.modifiedEndLineNumber)):(h+=1e7+d,g+=1e7+c,p=h,m=g);let n=[],D=[];if(o){let e;e=i?i.originalEndLineNumber>0?i.originalStartLineNumber-C:i.modifiedStartLineNumber-w:r.getLineCount()-C;for(let t=0;t<e;t++){const e=C+t,i=w+t,o=s.getModelLineViewLineCount(e),r=a.getModelLineViewLineCount(i);o<r?n.push({afterLineNumber:e,heightInLines:r-o,domNode:null,marginDomNode:null}):o>r&&D.push({afterLineNumber:i,heightInLines:o-r,domNode:null,marginDomNode:null})}i&&(C=(i.originalEndLineNumber>0?i.originalEndLineNumber:i.originalStartLineNumber)+1,w=(i.modifiedEndLineNumber>0?i.modifiedEndLineNumber:i.modifiedStartLineNumber)+1)}for(;_.current&&_.current.afterLineNumber<=m;){let e;e=_.current.afterLineNumber<=g?h-g+_.current.afterLineNumber:p;let o=null;i&&i.modifiedStartLineNumber<=_.current.afterLineNumber&&_.current.afterLineNumber<=i.modifiedEndLineNumber&&(o=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),n.push({afterLineNumber:e,heightInLines:_.current.height/t,domNode:null,marginDomNode:o}),_.advance()}for(;b.current&&b.current.afterLineNumber<=p;){let t;t=b.current.afterLineNumber<=h?g-h+b.current.afterLineNumber:m,D.push({afterLineNumber:t,heightInLines:b.current.height/e,domNode:null}),b.advance()}if(null!==i&&jT(i)){const e=this._produceOriginalFromDiff(i,d,c);e&&n.push(e)}if(null!==i&&qT(i)){const e=this._produceModifiedFromDiff(i,d,c);e&&D.push(e)}let k=0,I=0;for(n=n.sort(f),D=D.sort(f);k<n.length&&I<D.length;){const e=n[k],t=D[I],i=e.afterLineNumber-h,o=t.afterLineNumber-g;i<o?(v(l,e),k++):o<i?(v(u,t),I++):e.shouldNotShrink?(v(l,e),k++):t.shouldNotShrink?(v(u,t),I++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,I++):(t.heightInLines-=e.heightInLines,k++)}for(;k<n.length;)v(l,n[k]),k++;for(;I<D.length;)v(u,D[I]),I++}return{original:BT._ensureDomNodes(l),modified:BT._ensureDomNodes(u)}}static _ensureDomNodes(e){return e.map((e=>(e.domNode||(e.domNode=$T()),e)))}}function WT(e,t,i,n,o){return{range:new Hn(e,t,i,n),options:o}}const VT={charDelete:CI.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:CI.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:CI.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:CI.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:CI.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:CI.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Hv.asClassName(TT),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:CI.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:CI.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Hv.asClassName(OT),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:CI.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class HT extends RT{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new qN(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart((()=>this._onSashDragStart())),this._sash.onDidChange((e=>this._onSashDrag(e))),this._sash.onDidEnd((()=>this._onSashDragEnd())),this._sash.onDidReset((()=>this._onSashReset()))}setEnableSplitViewResizing(e){const t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?MT.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let i=Math.floor((e||.5)*t);const n=Math.floor(.5*t);return i=this._disableSash?n:i||n,t>2*HT.MINIMUM_EDITOR_WIDTH?(i<HT.MINIMUM_EDITOR_WIDTH&&(i=HT.MINIMUM_EDITOR_WIDTH),i>t-HT.MINIMUM_EDITOR_WIDTH&&(i=t-HT.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?MT.ENTIRE_DIFF_OVERVIEW_WIDTH:0),i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){const n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new zT(e,t,i,n,o).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=this._dataSource.getOriginalEditor(),o=String(this._removeColor),r={decorations:[],overviewZones:[]},s=n.getModel(),a=n._getViewModel();for(const l of e)if(qT(l)){r.decorations.push({range:new Hn(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:i?VT.lineDeleteWithSign:VT.lineDelete}),jT(l)&&l.charChanges||r.decorations.push(WT(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824,VT.charDeleteWholeLine));const e=GT(s,a,l.originalStartLineNumber,l.originalEndLineNumber);if(r.overviewZones.push(new NL(e.startLineNumber,e.endLineNumber,o)),l.charChanges)for(const i of l.charChanges)if(qT(i))if(t)for(let e=i.originalStartLineNumber;e<=i.originalEndLineNumber;e++){let t,n;t=e===i.originalStartLineNumber?i.originalStartColumn:s.getLineFirstNonWhitespaceColumn(e),n=e===i.originalEndLineNumber?i.originalEndColumn:s.getLineLastNonWhitespaceColumn(e),r.decorations.push(WT(e,t,e,n,VT.charDelete))}else r.decorations.push(WT(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn,VT.charDelete))}return r}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor(),o=String(this._insertColor),r={decorations:[],overviewZones:[]},s=n.getModel(),a=n._getViewModel();for(const l of e)if(jT(l)){r.decorations.push({range:new Hn(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:i?VT.lineInsertWithSign:VT.lineInsert}),qT(l)&&l.charChanges||r.decorations.push(WT(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,VT.charInsertWholeLine));const e=GT(s,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(r.overviewZones.push(new NL(e.startLineNumber,e.endLineNumber,o)),l.charChanges)for(const i of l.charChanges)if(jT(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(e),r.decorations.push(WT(e,t,e,n,VT.charInsert))}else r.decorations.push(WT(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,VT.charInsert))}return r}}HT.MINIMUM_EDITOR_WIDTH=100;class zT extends BT{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class KT extends RT{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange((t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())})))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){const o=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new UT(e,t,i,o,r,n).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=String(this._removeColor),o={decorations:[],overviewZones:[]},r=this._dataSource.getOriginalEditor(),s=r.getModel(),a=r._getViewModel();for(const l of e)if(qT(l)){o.decorations.push({range:new Hn(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:VT.lineDeleteMargin});const e=GT(s,a,l.originalStartLineNumber,l.originalEndLineNumber);o.overviewZones.push(new NL(e.startLineNumber,e.endLineNumber,n))}return o}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor(),o=String(this._insertColor),r={decorations:[],overviewZones:[]},s=n.getModel(),a=n._getViewModel();for(const l of e)if(jT(l)){r.decorations.push({range:new Hn(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:i?VT.lineInsertWithSign:VT.lineInsert});const e=GT(s,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(r.overviewZones.push(new NL(e.startLineNumber,e.endLineNumber,o)),l.charChanges){for(const i of l.charChanges)if(jT(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(e),r.decorations.push(WT(e,t,e,n,VT.charInsert))}else r.decorations.push(WT(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,VT.charInsert))}else r.decorations.push(WT(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,VT.charInsertWholeLine))}return r}layout(){return Math.max(5,this._decorationsLeft)}}class UT extends BT{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._originalModel=n.getModel(),this._renderIndicators=r,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){const n=document.createElement("div");n.className="view-lines line-delete monaco-mouse-cursor-text";const o=document.createElement("div");o.className="inline-deleted-margin-view-zone";const r={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let s=e.originalStartLineNumber;s<=e.originalEndLineNumber;s++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(s),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(r),r}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(43),o=t.get(29),r=n.typicalHalfwidthCharacterWidth,s=t.get(92),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),u=t.get(58),c=t.get(129).decorationsWidth,d=t.get(104),h=t.get(87),g=t.get(82),p=t.get(44),m=this._lineBreaksComputer.finalize();let f=0;for(let v=0;v<this._pendingLineChange.length;v++){const t=this._pendingLineChange[v],_=this._pendingViewZones[v],b=_.domNode;A_.applyFontInfoSlow(b,n);const C=_.marginDomNode;A_.applyFontInfoSlow(C,n);const w=[];if(t.charChanges)for(const e of t.charChanges)qT(e)&&w.push(new Kp(new Hn(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));const y=w.length>0,S=oh(1e4);let D=0,k=0,I=null;for(let r=t.originalStartLineNumber;r<=t.originalEndLineNumber;r++){const s=r-t.originalStartLineNumber,v=this._originalModel.getLineTokens(r),b=v.getLineContent(),E=m[f++],x=yp.filter(w,r,1,b.length+1);if(E){let t=0;for(const e of E.breakOffsets){const r=v.sliceAndInflate(t,e,0),s=b.substring(t,e);D=Math.max(D,this._renderOriginalLine(k++,s,r,yp.extractWrapped(x,t,e),y,a,l,n,o,u,c,d,h,g,p,i,S,C)),t=e}for(I||(I=[]);I.length<s;)I[I.length]=1;I[s]=E.breakOffsets.length,_.heightInLines+=E.breakOffsets.length-1;const m=document.createElement("div");m.className="line-delete",e.original.push({afterLineNumber:r,afterColumn:0,heightInLines:E.breakOffsets.length-1,domNode:$T(),marginDomNode:m})}else D=Math.max(D,this._renderOriginalLine(k++,b,v,x,y,a,l,n,o,u,c,d,h,g,p,i,S,C))}D+=s;const E=S.build(),x=FT?FT.createHTML(E):E;if(b.innerHTML=x,_.minWidthInPx=D*r,I){const e=t.originalEndLineNumber-t.originalStartLineNumber;for(;I.length<=e;)I[I.length]=1}_.diff.viewLineCounts=I}e.original.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber))}_renderOriginalLine(e,t,i,n,o,r,s,a,l,u,c,d,h,g,p,m,f,v){f.appendASCIIString('<div class="view-line'),o||f.appendASCIIString(" char-delete"),f.appendASCIIString('" style="top:'),f.appendASCIIString(String(e*u)),f.appendASCIIString('px;width:1000000px;">');const _=zp.isBasicASCII(t,r),b=zp.containsRTL(t,_,s),C=Np(new Ep(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,_,b,0,i,n,m,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,d,h,g,p!==Yt.OFF,null),f);if(f.appendASCIIString("</div>"),this._renderIndicators){const t=document.createElement("div");t.className=`delete-sign ${Hv.asClassName(OT)}`,t.setAttribute("style",`position:absolute;top:${e*u}px;width:${c}px;height:${u}px;right:0;`),v.appendChild(t)}return C.characterMapping.getAbsoluteOffset(C.characterMapping.length)}}function jT(e){return e.modifiedEndLineNumber>0}function qT(e){return e.originalEndLineNumber>0}function $T(){const e=document.createElement("div");return e.className="diagonal-fill",e}function GT(e,t,i,n){const o=e.getLineCount();return i=Math.min(o,Math.max(1,i)),n=Math.min(o,Math.max(1,n)),t.coordinatesConverter.convertModelRangeToViewRange(new Hn(i,e.getLineMinColumn(i),n,e.getLineMaxColumn(n)))}function ZT(e,t){return{enableSplitViewResizing:Wt(e.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:Wt(e.renderSideBySide,t.renderSideBySide),maxComputationTime:Ht(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:Ht(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:Wt(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:Wt(e.renderIndicators,t.renderIndicators),originalEditable:Wt(e.originalEditable,t.originalEditable),diffCodeLens:Wt(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:Wt(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:(i=e.diffWordWrap,n=t.diffWordWrap,jt(i,n,["off","on","inherit"]))};var i,n}qv(((e,t)=>{const i=e.getColor(KS);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const n=e.getColor(US);n&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${n}; }`));const o=e.getColor(jS);o&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; }`);const r=e.getColor(qS);r&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; }`);const s=e.getColor(Wy);s&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${s}; }`);const a=e.getColor($S);a&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=e.getColor(Vy);l&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const u=e.getColor(Hy);u&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${u};\n\t\t\t}\n\t\t`);const c=e.getColor(zy);c&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${c};\n\t\t\t}\n\t\t`);const d=e.getColor(GS);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${d} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${d} 50%, ${d} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)}));const YT=pr("themeService"),JT=pr("keybindingService");class XT extends Si{constructor(){super(),this._onCodeEditorAdd=this._register(new Ti),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Ti),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Ti),this._onDiffEditorRemove=this._register(new Ti),this._onDecorationTypeRegistered=this._register(new Ti),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}setModelProperty(e,t,i){const n=e.toString();let o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i)){return this._modelProperties.get(i).get(t)}}}class QT{constructor(e,t,i){this._parent=e,this._editorId=t,this._styleSheet=i,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null===(e=this._styleSheet.parentNode)||void 0===e||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){Js(e,this._styleSheet)}}class eO{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){Js(e,this._styleSheet)}}let tO=class extends XT{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=e||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new eO($s())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!Us(t))return this._getOrCreateGlobalStyleSheet();const i=e.getId();if(!this._editorStyleSheets.has(i)){const e=new QT(this,i,$s(t));this._editorStyleSheets.set(i,e)}return this._editorStyleSheets.get(i)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,i,n,o){let r=this._decorationOptionProviders.get(t);if(!r){const s=this._getOrCreateStyleSheet(o),a={styleSheet:s,key:t,parentTypeKey:n,options:i||Object.create(null)};r=n?new iO(this._themeService,s,a):new nO(e,this._themeService,s,a),this._decorationOptionProviders.set(t,r),this._onDecorationTypeRegistered.fire(t)}r.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorations(e)))))}resolveDecorationOptions(e,t){const i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)}};tO=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(i,n){t(i,n,e)}}(1,Wv)],tO);class iO{constructor(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new rO(3,i,e),this._afterContentRules=new rO(4,i,e)}getOptions(e,t){const i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class nO{constructor(e,t,i,n){this._disposables=new yi,this.description=e,this._styleSheet=i,this._styleSheet.ref(),this.refCount=0;const o=e=>{const i=new rO(e,n,t);if(this._disposables.add(i),i.hasContent)return i.className},r=e=>{const i=new rO(e,n,t);return this._disposables.add(i),i.hasContent?{className:i.className,hasLetterSpacing:i.hasLetterSpacing}:null};this.className=o(0);const s=r(1);if(s&&(this.inlineClassName=s.className,this.inlineClassNameAffectsLetterSpacing=s.hasLetterSpacing),this.beforeContentClassName=o(3),this.afterContentClassName=o(4),n.options.beforeInjectedText&&n.options.beforeInjectedText.contentText){const e=r(5);this.beforeInjectedText={content:n.options.beforeInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||n.options.beforeInjectedText.affectsLetterSpacing}}if(n.options.afterInjectedText&&n.options.afterInjectedText.contentText){const e=r(6);this.afterInjectedText={content:n.options.afterInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||n.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=o(2);const a=n.options;this.isWholeLine=Boolean(a.isWholeLine),this.stickiness=a.rangeBehavior;const l=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,u=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;void 0===l&&void 0===u||(this.overviewRuler={color:l||u,darkColor:u||l,position:a.overviewRulerLane||Vu.Center})}getOptions(e,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const oO={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class rO{constructor(e,t,i){this._theme=i.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let n=sO.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+sO.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=sO.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onDidColorThemeChange((e=>{this._theme=i.getColorTheme(),this._removeCSS(),this._buildCSS()})):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,i,n;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),i=this.getCSSTextForModelDecorationClassName(e.light),n=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),i=this.getCSSTextForModelDecorationInlineClassName(e.light),n=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(e.beforeInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.beforeInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(e.afterInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.afterInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const o=this._providerArgs.styleSheet;let r=!1;t.length>0&&(o.insertRule(`${this._unThemedSelector} {${t}}`,0),r=!0),i.length>0&&(o.insertRule(`.vs${this._unThemedSelector} {${i}}`,0),r=!0),n.length>0&&(o.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${n}}`,0),r=!0),this._hasContent=r}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(Ca(oO.contentIconPath,ma(Ln.revive(e.contentIconPath)))),"string"==typeof e.contentText){const i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(Ca(oO.contentText,i))}this.collectCSSText(e,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push(Ca(oO.gutterIconPath,ma(Ln.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(Ca(oO.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(Ca("box-sizing: border-box;")),!0)}collectCSSText(e,t,i){const n=i.length;for(let o of t){const t=this.resolveValue(e[o]);"string"==typeof t&&i.push(Ca(oO[o],t))}return i.length!==n}resolveValue(e){if((t=e)&&"string"==typeof t.id){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}var t;return e}}class sO{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,i){let n=".monaco-editor ."+this.getClassName(e,i);return t&&(n=n+"."+this.getClassName(t,i)),3===i?n+="::before":4===i&&(n+="::after"),n}}var aO=function(e,t){return function(i,n){t(i,n,e)}};let lO=class extends tO{constructor(e,t,i){super(e,i),this.onCodeEditorAdd((()=>this._checkContextKey())),this.onCodeEditorRemove((()=>this._checkContextKey())),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===ss.http||i===ss.https)return pa(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};lO=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([aO(1,wf),aO(2,Wv)],lO);var uO=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},cO=function(e,t){return function(i,n){t(i,n,e)}};let dO=0,hO=!1;function gO(e){if(!e){if(hO)return;hO=!0}!function(e){yv=document.createElement("div"),yv.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),yv.appendChild(e),e};Sv=t(),Dv=t();const i=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),yv.appendChild(e),e};kv=i(),Iv=i(),e.appendChild(yv)}(e||document.body)}let pO=class extends IN{constructor(e,t,i,n,o,r,s,a,l,u){const c=Object.assign({},t);c.ariaLabel=c.ariaLabel||Xf.editorViewAccessibleLabel,c.ariaLabel=c.ariaLabel+";"+Xf.accessibilityHelpMessage,super(e,c,{},i,n,o,r,a,l,u),this._standaloneKeybindingService=s instanceof dv?s:null,gO(c.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++dO,o=Qm.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Si.None;const t=e.id,i=e.label,n=Qm.and(Qm.equals("editorId",this.getId()),Qm.deserialize(e.precondition)),o=e.keybindings,r=Qm.and(n,Qm.deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i)),u=new yi,c=this.getId()+":"+t;if(u.add(hu.registerCommand(c,l)),s){let e={command:{id:c,title:i},when:n,group:s,order:a};u.add(Xv.appendMenuItem(Yv.EditorContext,e))}if(Array.isArray(o))for(const h of o)u.add(this._standaloneKeybindingService.addDynamicKeybinding(c,h,l,r));let d=new xA(c,i,i,n,l,this._contextKeyService);return this._actions[t]=d,u.add(wi((()=>{delete this._actions[t]}))),u}_triggerCommand(e,t){if(this._codeEditorService instanceof lO)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};pO=uO([cO(2,hr),cO(3,fr),cO(4,du),cO(5,wf),cO(6,JT),cO(7,Wv),cO(8,Vf),cO(9,oN)],pO);let mO=class extends pO{constructor(e,t,i,n,o,r,s,a,l,u,c,d,h,g,p){const m=Object.assign({},t);_v(d,m,!1);const f=u.registerEditorContainer(e);"string"==typeof m.theme&&u.setTheme(m.theme),void 0!==m.autoDetectHighContrast&&u.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast));let v,_=m.model;if(delete m.model,super(e,m,n,o,r,s,a,u,c,h),this._contextViewService=l,this._configurationService=d,this._standaloneThemeService=u,this._register(i),this._register(f),void 0===_?(v=vO(g,p,m.value||"",m.language||QI.text,void 0),this._ownsModel=!0):(v=_,this._ownsModel=!1),this._attachModel(v),v){let e={oldModelUrl:null,newModelUrl:v.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){_v(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};mO=uO([cO(3,hr),cO(4,fr),cO(5,du),cO(6,wf),cO(7,JT),cO(8,wT),cO(9,YT),cO(10,Vf),cO(11,Ph),cO(12,oN),cO(13,Ic),cO(14,Id)],mO);let fO=class extends MT{constructor(e,t,i,n,o,r,s,a,l,u,c,d,h,g,p){const m=Object.assign({},t);_v(d,m,!0);const f=u.registerEditorContainer(e);"string"==typeof m.theme&&u.setTheme(m.theme),void 0!==m.autoDetectHighContrast&&u.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast)),super(e,m,{},p,a,o,n,l,u,c,h,g),this._contextViewService=s,this._configurationService=d,this._standaloneThemeService=u,this._register(i),this._register(f),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){_v(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(pO,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function vO(e,t,i,n,o){if(i=i||"",!n){const n=i.indexOf("\n");let r=i;return-1!==n&&(r=i.substring(0,n)),_O(e,i,t.createByFilepathOrFirstLine(o||null,r),o)}return _O(e,i,t.create(n),o)}function _O(e,t,i,n){return e.createModel(t,i,n)}fO=uO([cO(3,hr),cO(4,wf),cO(5,JT),cO(6,wT),cO(7,kd),cO(8,fr),cO(9,YT),cO(10,Vf),cO(11,Ph),cO(12,yT),cO(13,ET),cO(14,kT)],fO);const bO=Object.prototype.hasOwnProperty;class CO{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(yd,0),this._register("plaintext",1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||yd}}class wO extends Si{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new Ti),this.onDidChange=this._onDidChange.event,wO.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new CO,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(QA.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){wO.instanceCount--,super.dispose()}_initializeFromRegistry(){var e;this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e?(tE=tE.filter((e=>!e.userConfigured)),nE=[]):(tE=[],iE=[],nE=[]);const t=QA.getLanguages();this._registerLanguages(t)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),yh.as(kh.Configuration).registerOverrideIdentifiers(QA.getLanguages().map((e=>e.id))),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;bO.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)oE({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let l of t.filenames)oE({id:i,mime:n,filename:l},this._warnOnOverwrite),e.filenames.push(l);if(Array.isArray(t.filenamePatterns))for(let l of t.filenamePatterns)oE({id:i,mime:n,filepattern:l},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);"^"!==(o=t).source&&"^$"!==o.source&&"$"!==o.source&&"^\\s*$"!==o.source&&o.exec("")&&0===o.lastIndex||oE({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(a){li(a)}}var o;e.aliases.push(i);let r=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(const l of r)l&&0!==l.length&&e.aliases.push(l);let s=null!==r&&r.length>0;if(s&&null===r[0]);else{let t=(s?r[0]:null)||i;!s&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!bO.call(this._mimeTypesMap,e)||bO.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return bO.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e]:null}extractModeIds(e){return e?e.split(",").map((e=>e.trim())).map((e=>bO.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:e)).filter((e=>bO.call(this._languages,e))):[]}validateLanguageId(e){return e&&e!==yd?bO.call(this._languages,e)?e:null:yd}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=rE(e,t);return this.extractModeIds(i.join(","))}}wO.instanceCount=0;class yO{constructor(e,t){let i;this._selector=t,this.languageId=this._selector(),this._onDidChange=new Ti({onFirstListenerAdd:()=>{i=e((()=>this._evaluate()))},onLastListenerRemove:()=>{i.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const e=this._selector();e!==this.languageId&&(this.languageId=e,this._onDidChange.fire(this.languageId))}}class SO extends Si{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new Ti),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new Ti({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,SO.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new wO(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onLanguagesMaybeChanged.fire())))}dispose(){SO.instanceCount--,super.dispose()}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){return qg(this._registry.getModeIdsFromFilepathOrFirstLine(e,t),null)}getModeId(e){return qg(this._registry.extractModeIds(e),null)}validateLanguageId(e){return this._registry.validateLanguageId(e)}create(e){return new yO(this.onLanguagesMaybeChanged,(()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)}))}createByFilepathOrFirstLine(e,t){return new yO(this.onLanguagesMaybeChanged,(()=>{const i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)}))}_createModeAndGetLanguageIdentifier(e){const t=this.validateLanguageId(e||"plaintext")||yd;return this._getOrCreateMode(t),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._encounteredLanguages.has(e)){this._encounteredLanguages.add(e);const t=this.validateLanguageId(e)||yd;this._onDidEncounterLanguage.fire(t)}}}SO.instanceCount=0;var DO=function(e,t){return function(i,n){t(i,n,e)}};let kO=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._modeService=i,this._logService=n,this._hashTable=new xO,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){const n=this._modeService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,n);let r;if(o)r=o.metadata,this._logService.getLevel()===np.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${Wc.getForeground(r)}, fontStyle ${Wc.getFontStyle(r).toString(2)}`);else{let o=this._legend.tokenTypes[e];const s=[];if(o){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&s.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===np.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const n=this._themeService.getColorTheme().getTokenStyleMetadata(o,s,i);if(void 0===n)r=2147483647;else{if(r=0,void 0!==n.italic){r|=1|(n.italic?1:0)<<11}if(void 0!==n.bold){r|=2|(n.bold?2:0)<<11}if(void 0!==n.underline){r|=4|(n.underline?4:0)<<11}if(n.foreground){r|=8|n.foreground<<14}0===r&&(r=2147483647)}}else this._logService.getLevel()===np.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,o="not-in-legend";this._hashTable.add(e,t,n,r),this._logService.getLevel()===np.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${o}) / ${t} (${s.join(" ")}): foreground ${Wc.getForeground(r)}, fontStyle ${Wc.getFontStyle(r).toString(2)}`)}return r}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};function IO(e,t,i){const n=e.data,o=e.data.length/5|0,r=Math.max(Math.ceil(o/1024),400),s=[];let a=0,l=1,u=0;for(;a<o;){const e=a;let c=Math.min(e+r,o);if(c<o){let t=c;for(;t-1>e&&0===n[5*t];)t--;if(t-1===e){let e=c;for(;e+1<o&&0===n[5*e];)e++;c=e}else c=t}let d=new Uint32Array(4*(c-e)),h=0,g=0,p=0,m=0,f=0;for(;a<c;){const e=5*a,o=n[e],r=n[e+1],s=l+o|0,c=0===o?u+r|0:r,v=n[e+2],_=n[e+3],b=n[e+4],C=t.getMetadata(_,b,i);2147483647!==C&&(0===g&&(g=s),p===s&&f>c&&(t.warnOverlappingSemanticTokens(s,c+1),m<c?d[h-4+2]=c:h-=4),d[h]=s-g,d[h+1]=c,d[h+2]=c+v,d[h+3]=C,h+=4,p=s,m=c,f=c+v),l=s,u=c,a++}h!==d.length&&(d=d.subarray(0,h));const v=new AC(g,new xC(d));s.push(v)}return s}kO=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([DO(1,Wv),DO(2,Id),DO(3,ip)],kO);class EO{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class xO{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=xO._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<xO._SIZES.length?2/3*this._currentLength:0),this._elements=[],xO._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=xO._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<xO._SIZES.length?2/3*this._currentLength:0),this._elements=[],xO._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new EO(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}function LO(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const i of e.deltas)i.data&&(t+=i.data.length)}return t}(e));let i=0;if(t[i++]=e.id,"full"===e.type)t[i++]=1,t[i++]=e.data.length,t.set(e.data,i),i+=e.data.length;else{t[i++]=2,t[i++]=e.deltas.length;for(const n of e.deltas)t[i++]=n.start,t[i++]=n.deleteCount,n.data?(t[i++]=n.data.length,t.set(n.data,i),i+=n.data.length):t[i++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return Et()||function(e){for(let t=0,i=e.length;t<i;t+=4){const i=e[t+0],n=e[t+1],o=e[t+2],r=e[t+3];e[t+0]=r,e[t+1]=o,e[t+2]=n,e[t+3]=i}}(t),xl.wrap(t)}(t)}xO._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var AO=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function NO(e){return e&&!!e.data}function TO(e){return e&&Array.isArray(e.edits)}class OO{constructor(e,t){this.provider=e,this.tokens=t}}function FO(e){return _d.has(e)}function MO(e,t,i,n){return AO(this,void 0,void 0,(function*(){const o=function(e){const t=_d.orderedGroups(e);return t.length>0?t[0]:[]}(e),r=yield Promise.all(o.map((o=>AO(this,void 0,void 0,(function*(){let r;try{r=yield o.provideDocumentSemanticTokens(e,o===t?i:null,n)}catch(s){ui(s),r=null}return r&&(NO(r)||TO(r))||(r=null),new OO(o,r)})))));for(const e of r)if(e.tokens)return e;return r.length>0?r[0]:null}))}class RO{constructor(e,t){this.provider=e,this.tokens=t}}function PO(e){return bd.has(e)}function BO(e){const t=bd.orderedGroups(e);return t.length>0?t[0]:[]}function WO(e,t,i){return AO(this,void 0,void 0,(function*(){const n=BO(e),o=yield Promise.all(n.map((n=>AO(this,void 0,void 0,(function*(){let o;try{o=yield n.provideDocumentRangeSemanticTokens(e,t,i)}catch(r){ui(r),o=null}return o&&NO(o)||(o=null),new RO(n,o)})))));for(const e of o)if(e.tokens)return e;return o.length>0?o[0]:null}))}hu.registerCommand("_provideDocumentSemanticTokensLegend",((e,...t)=>AO(void 0,void 0,void 0,(function*(){const[i]=t;ru(i instanceof Ln);const n=e.get(Ic).getModel(i);if(!n)return;const o=function(e){const t=_d.orderedGroups(e);return t.length>0?t[0]:null}(n);return o?o[0].getLegend():e.get(du).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)})))),hu.registerCommand("_provideDocumentSemanticTokens",((e,...t)=>AO(void 0,void 0,void 0,(function*(){const[i]=t;ru(i instanceof Ln);const n=e.get(Ic).getModel(i);if(!n)return;if(!FO(n))return e.get(du).executeCommand("_provideDocumentRangeSemanticTokens",i,n.getFullModelRange());const o=yield MO(n,null,null,Bi.None);if(!o)return;const{provider:r,tokens:s}=o;if(!s||!NO(s))return;const a=LO({id:0,type:"full",data:s.data});return s.resultId&&r.releaseDocumentSemanticTokens(s.resultId),a})))),hu.registerCommand("_provideDocumentRangeSemanticTokensLegend",((e,...t)=>AO(void 0,void 0,void 0,(function*(){const[i,n]=t;ru(i instanceof Ln);const o=e.get(Ic).getModel(i);if(!o)return;const r=BO(o);if(0===r.length)return;if(1===r.length)return r[0].getLegend();if(!n||!Hn.isIRange(n))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),r[0].getLegend();const s=yield WO(o,Hn.lift(n),Bi.None);return s?s.provider.getLegend():void 0})))),hu.registerCommand("_provideDocumentRangeSemanticTokens",((e,...t)=>AO(void 0,void 0,void 0,(function*(){const[i,n]=t;ru(i instanceof Ln),ru(Hn.isIRange(n));const o=e.get(Ic).getModel(i);if(!o)return;const r=yield WO(o,Hn.lift(n),Bi.None);return r&&r.tokens?LO({id:0,type:"full",data:r.tokens.data}):void 0}))));var VO=function(e,t){return function(i,n){t(i,n,e)}};function HO(e){return e.toString()}function zO(e){const t=new nc,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}class KO{constructor(e,t,i){this._modelEventListeners=new yi,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>i(e,t))))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange((()=>this.model.setMode(e.languageId))),this.model.setMode(e.languageId)}}const UO=_t||vt?1:2;class jO{constructor(e,t,i,n,o,r,s,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=r,this.versionId=s,this.alternativeVersionId=a}}let qO=class e extends Si{constructor(e,t,i,n,o,r,s){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=o,this._modeService=r,this._languageConfigurationService=s,this._onModelAdded=this._register(new Ti),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Ti),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Ti),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new YO(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration((()=>this._updateModelOptions()))),this._updateModelOptions(),this._register(new ZO(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var i;let n=ni.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let o=n;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(o=t),o<1&&(o=1)}let r=ni.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(r="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let s=UO;const a=e.eol;"\r\n"===a?s=2:"\n"===a&&(s=1);let l=ni.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let u=ni.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(u="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let c=ni.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let d=ni.bracketPairColorizationOptions;return(null===(i=e.editor)||void 0===i?void 0:i.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(d={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:r,detectIndentation:u,defaultEOL:s,trimAutoWhitespace:l,largeFileOptimizations:c,bracketPairColorizationOptions:d}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"==typeof i&&"auto"!==i?i:3===Dt||2===Dt?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,i,n){let o=this._modelCreationOptionsByLanguageAndResource[t+i];if(!o){const r=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),s=this._getEOL(i,t);o=e._readModelOptions({editor:r,eol:s},n),this._modelCreationOptionsByLanguageAndResource[t+i]=o}return o}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,o=i.length;n<o;n++){const o=i[n],r=this._models[o],s=r.model.getLanguageId(),a=r.model.uri,l=t[s+a],u=this.getCreationOptions(s,a,r.model.isForSimpleWidget);e._setModelOptionsForModel(r.model,u,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&Nu(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(HO(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(HO(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(HO(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const o=this.getCreationOptions(t,i,n),r=new cI(e,o,t,i,this._undoRedoService,this._modeService,this._languageConfigurationService);if(i&&this._disposedModels.has(HO(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=zO(r)===e.sha1;if(n||e.sharesUndoRedoStack){for(const e of t.past)wb(e)&&e.matchesResource(i)&&e.setModel(r);for(const e of t.future)wb(e)&&e.matchesResource(i)&&e.setModel(r);this._undoRedoService.setElementsValidFlag(i,!0,(e=>wb(e)&&e.matchesResource(i))),n&&(r._overwriteVersionId(e.versionId),r._overwriteAlternativeVersionId(e.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const s=HO(r.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");const a=new KO(r,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[s]=a,a}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageId,i,n),this.setMode(o.model,t)):o=this._createModelData(e,"plaintext",i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;const i=this._models[HO(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=HO(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===ss.file||e.scheme===ss.vscodeRemote||e.scheme===ss.userData||e.scheme===ss.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(t){const i=HO(t.uri),n=this._models[i],o=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let r=!1,s=0;if(o||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const i of e.past)wb(i)&&i.matchesResource(t.uri)&&(r=!0,s+=i.heapSize(t.uri),i.setModel(t.uri));for(const i of e.future)wb(i)&&i.matchesResource(t.uri)&&(r=!0,s+=i.heapSize(t.uri),i.setModel(t.uri))}}const a=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(r)if(!o&&s>a){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(t.uri,!1,(e=>wb(e)&&e.matchesResource(t.uri))),this._insertDisposedModel(new jO(t.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),o,s,zO(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!o){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[i],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const n=i.oldLanguage,o=t.getLanguageId(),r=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),s=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,s,r),this._onModelModeChanged.fire({model:t,oldModeId:n})}};qO.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,qO=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([VO(0,Ph),VO(1,Mg),VO(2,Wv),VO(3,ip),VO(4,nw),VO(5,Id),VO(6,$h)],qO);const $O="editor.semanticHighlighting";function GO(e,t,i){var n;const o=null===(n=i.getValue("editor.semanticHighlighting",{overrideIdentifier:e.getLanguageId(),resource:e.uri}))||void 0===n?void 0:n.enabled;return"boolean"==typeof o?o:t.getColorTheme().semanticHighlighting}class ZO extends Si{constructor(e,t,i,n){super(),this._watchers=Object.create(null),this._semanticStyling=n;const o=e=>{this._watchers[e.uri.toString()]=new XO(e,t,this._semanticStyling)},r=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},s=()=>{for(let n of e.getModels()){const e=this._watchers[n.uri.toString()];GO(n,t,i)?e||o(n):e&&r(n,e)}};this._register(e.onModelAdded((e=>{GO(e,t,i)&&o(e)}))),this._register(e.onModelRemoved((e=>{const t=this._watchers[e.uri.toString()];t&&r(e,t)}))),this._register(i.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&s()}))),this._register(t.onDidColorThemeChange(s))}}class YO extends Si{constructor(e,t,i){super(),this._themeService=e,this._modeService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}get(e){return this._caches.has(e)||this._caches.set(e,new kO(e.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(e)}}class JO{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class XO extends Si{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new ts((()=>this._fetchDocumentSemanticTokensNow()),XO.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent((()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}))),this._register(this._model.onDidChangeLanguage((()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)})));const n=()=>{bi(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of _d.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange((()=>this._fetchDocumentSemanticTokens.schedule(0))))};n(),this._register(_d.onDidChange((()=>{n(),this._fetchDocumentSemanticTokens.schedule()}))),this._register(t.onDidColorThemeChange((e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()}))),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!FO(this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const e=new Hi,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=MO(this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;const o=[],r=this._model.onDidChangeContent((e=>{o.push(e)}));n.then((e=>{if(this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),e){const{provider:t,tokens:i}=e,n=this._semanticStyling.get(t);this._setDocumentSemanticTokens(t,i||null,n,o)}else this._setDocumentSemanticTokens(null,null,null,o)}),(e=>{e&&(di(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||li(e),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),o.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())}))}static _copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,n){const o=this._currentDocumentResponse,r=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i){if(!t)return this._model.setSemanticTokens(null,!0),void r();if(TO(t)){if(!o)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:o.data};else{let e=0;for(const o of t.edits)e+=(o.data?o.data.length:0)-o.deleteCount;const i=o.data,n=new Uint32Array(i.length+e);let r=i.length,s=n.length;for(let o=t.edits.length-1;o>=0;o--){const e=t.edits[o],a=r-(e.start+e.deleteCount);a>0&&(XO._copy(i,r-a,n,s-a,a),s-=a),e.data&&(XO._copy(e.data,0,n,s-e.data.length,e.data.length),s-=e.data.length),r=e.start}r>0&&XO._copy(i,0,n,0,r),t={resultId:t.resultId,data:n}}}if(NO(t)){this._currentDocumentResponse=new JO(e,t.resultId,t.data);const o=IO(t,i,this._model.getLanguageId());if(n.length>0)for(const e of n)for(const t of o)for(const i of e.changes)t.applyEdit(i.range,i.text);this._model.setSemanticTokens(o,!0)}else this._model.setSemanticTokens(null,!0);r()}else this._model.setSemanticTokens(null,!1)}}XO.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;class QO{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}const eF=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class tF{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(eF);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=ew.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class iF{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],i=0;for(let n=0,o=e.length;n<o;n++){let o=e[n],r=-1;if("string"==typeof o.fontStyle){r=0;let e=o.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++)switch(e[t]){case"italic":r|=1;break;case"bold":r|=2;break;case"underline":r|=4}}let s=null;"string"==typeof o.foreground&&(s=o.foreground);let a=null;"string"==typeof o.background&&(a=o.background),t[i++]=new QO(o.token||"",n,r,s,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{let i=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==i?i:e.index-t.index}));let i=0,n="000000",o="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(i=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(o=t.background)}let r=new tF;for(let c of t)r.getId(c);let s=r.getId(n),a=r.getId(o),l=new oF(i,s,a),u=new rF(l);for(let c=0,d=e.length;c<d;c++){let t=e[c];u.insert(t.token,t.fontStyle,r.getId(t.foreground),r.getId(t.background))}return new iF(r,u)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(void 0===i){let e=this._match(t),n=function(e){let t=e.match(nF);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const nF=/\b(comment|string|regex|regexp)\b/;class oF{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new oF(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class rF{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,i,n=e.indexOf(".");-1===n?(t=e,i=""):(t=e.substring(0,n),i=e.substring(n+1));let o=this._children.get(t);return void 0!==o?o.match(i):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);let o,r,s=e.indexOf(".");-1===s?(o=e,r=""):(o=e.substring(0,s),r=e.substring(s+1));let a=this._children.get(o);void 0===a&&(a=new rF(this._mainRule.clone()),this._children.set(o,a)),a.insert(r,t,i,n)}}const sF={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[tS]:"#FFFFFE",[iS]:"#000000",[_S]:"#E5EBF1",[pk]:"#D3D3D3",[mk]:"#939393",[bS]:"#ADD6FF4D"}},aF={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[tS]:"#1E1E1E",[iS]:"#D4D4D4",[_S]:"#3A3D41",[pk]:"#404040",[mk]:"#707070",[bS]:"#ADD6FF26"}},lF={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[tS]:"#000000",[iS]:"#FFFFFF",[pk]:"#FFFFFF",[mk]:"#FFFFFF"}};function uF(){const e=new Ti,t=aT;return t.onDidChange((()=>e.fire())),{onDidChange:e.event,getCSS(){const e={},i=i=>{let n=i.defaults;for(;Hv.isThemeIcon(n);){const e=t.getIcon(n.id);if(!e)return;n=e.defaults}const o=n.fontId;if(o){const r=t.getIconFont(o);if(r)return e[o]=r,`.codicon-${i.id}:before { content: '${n.fontCharacter}'; font-family: ${fa(o)}; }`}return`.codicon-${i.id}:before { content: '${n.fontCharacter}'; }`},n=[];for(let o of t.getIcons()){const e=i(o);e&&n.push(e)}for(let t in e){const i=e[t].definition.src.map((e=>`${ma(e.location)} format('${e.format}')`)).join(", ");n.push(`@font-face { src: ${i}; font-family: ${fa(t)}; font-display: block; }`)}return n.join("\n")}}}const cF=yh.as(oy),dF=yh.as(Uv);class hF{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(gF(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,ew.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=pF(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,ew.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);return i||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=cF.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case"vs":return Nv.LIGHT;case"hc-black":return Nv.HIGH_CONTRAST;default:return Nv.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let i=pF(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){const t={token:""};i&&(t.foreground=i),n&&(t.background=n),e.push(t)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=iF.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=Wc.getForeground(n),r=Wc.getFontStyle(n);return{foreground:o,italic:Boolean(1&r),bold:Boolean(2&r),underline:Boolean(4&r)}}}function gF(e){return"vs"===e||"vs-dark"===e||"hc-black"===e}function pF(e){switch(e){case"vs":return sF;case"vs-dark":return aF;case"hc-black":return lF}}function mF(e){let t=pF(e);return new hF(e,t)}class fF extends Si{constructor(){super(),this._onColorThemeChange=this._register(new Ti),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set("vs",mF("vs")),this._knownThemes.set("vs-dark",mF("vs-dark")),this._knownThemes.set("hc-black",mF("hc-black"));const e=uF();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme("vs"),e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),function(e,t){const i=window.matchMedia(e);"function"==typeof i.addEventListener?i.addEventListener("change",t):i.addListener(t)}("(forced-colors: active)",(()=>{this._updateActualTheme()}))}registerEditorContainer(e){return Us(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=$s(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Si.None}_registerShadowDomContainer(e){const t=$s(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!gF(t.base)&&!gF(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new hF(e,t)),gF(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get("vs"),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get("hc-black"):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:i=>{t[i]||(e.push(i),t[i]=!0)}};dF.getThemingParticipants().forEach((e=>e(this._theme,i,this._environment)));const n=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(function(e){let t=[];for(let i=1,n=e.length;i<n;i++){let n=e[i];t[i]=`.mtk${i} { color: ${n}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(n)),this._themeCSS=e.join("\n"),this._updateCSS(),Cd.setColorMap(n),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}class vF{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class _F extends vF{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}_F.INSTANCE=new _F;class bF extends vF{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=wl.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(6===e.source){const e=Array.from(fi.map(this._values,(([e])=>e)));this._values.clear(),i.fire(new yF(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`,n=this._values.findSuperstr(e);void 0!==n&&(t.push(...fi.map(n,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new yF(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(bF._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(bF._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}bF._keyPrefix="config.";class CF{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class wF{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class yF{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class SF{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class DF{constructor(e){this._onDidChangeContext=new Oi({merge:e=>new SF(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new CF(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new IF(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return If.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new wF(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new wF(e))}getContext(e){return this._isDisposed?_F.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute("data-keybinding-context")){const t=e.getAttribute("data-keybinding-context");return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let kF=class extends DF{constructor(e){super(0),this._contexts=new Map,this._toDispose=new yi,this._lastContextId=0;const t=new bF(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?_F.INSTANCE:this._contexts.get(e)||_F.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new vF(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};kF=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(i,n){t(i,n,e)}}(0,Ph)],kF);class IF extends DF{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new Di,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute("data-keybinding-context")){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute("data-keybinding-context",String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute("data-keybinding-context"),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?_F.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}hu.registerCommand("setContext",(function(e,t,i){e.get(wf).createKey(String(t),i)})),hu.registerCommand({id:"getContextKeyInfo",handler:()=>[...Cf.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:it("vs/platform/contextkey/browser/contextKeyService","getContextKeyInfo","A command that returns information about context keys"),args:[]}}),hu.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(let i of Cf.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}));var EF;function xF(e){let t=e.definition;for(;t instanceof Rc;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.fontCharacter}'; }`}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function i(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=i,e.intersects=function(e,n){return!i(t(e,n))},e.relativeComplement=function(e,t){const n=[],o={start:e.start,end:Math.min(t.start,e.end)},r={start:Math.max(t.end,e.start),end:e.end};return i(o)||n.push(o),i(r)||n.push(r),n}}(EF||(EF={}));var LF,AF;function NF(e,t,i){const n=i.mode===LF.ALIGN?i.offset:i.offset+i.size,o=i.mode===LF.ALIGN?i.offset+i.size:i.offset;return 0===i.position?t<=e-n?n:t<=o?o-t:Math.max(e-t,0):t<=o?o-t:t<=e-n?n:0}(AF=LF||(LF={}))[AF.AVOID=0]="AVOID",AF[AF.ALIGN=1]="ALIGN";class TF extends Si{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Si.None,this.toDisposeOnSetContainer=Si.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ca(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ha(this.view),this.setContainer(e,t),this._register(wi((()=>this.setContainer(null,1))))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(i=this.shadowRootHostElement)||void 0===i||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=ca(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=OF,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ca("slot"))}else this.container.appendChild(this.view);const i=new yi;TF.BUBBLE_UP_EVENTS.forEach((e=>{i.add(fs(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),TF.BUBBLE_DOWN_EVENTS.forEach((e=>{i.add(fs(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=i}}show(e){this.isVisible()&&this.hide(),ds(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",da(this.view),this.toDisposeOnClean=e.render(this.view)||Si.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||wt&&Lr?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let e,t=this.delegate.getAnchor();if(Xs(t)){let i=Fs(t);e={top:i.top,left:i.left,width:i.width,height:i.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const i=Rs(this.view),n=Ws(this.view),o=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0;let s,a;if(0===(this.delegate.anchorAxisAlignment||0)){const t={offset:e.top-window.pageYOffset,size:e.height,position:0===o?0:1},l={offset:e.left,size:e.width,position:0===r?0:1,mode:LF.ALIGN};s=NF(window.innerHeight,n,t)+window.pageYOffset,EF.intersects({start:s,end:s+n},{start:t.offset,end:t.offset+t.size})&&(l.mode=LF.AVOID),a=NF(window.innerWidth,i,l)}else{const t={offset:e.left,size:e.width,position:0===r?0:1},l={offset:e.top,size:e.height,position:0===o?0:1,mode:LF.ALIGN};a=NF(window.innerWidth,i,t),EF.intersects({start:a,end:a+i},{start:t.offset,end:t.offset+t.size})&&(l.mode=LF.AVOID),s=NF(window.innerHeight,n,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===o?"bottom":"top"),this.view.classList.add(0===r?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=Fs(this.container);this.view.style.top=s-(this.useFixedPosition?Fs(this.view).top:l.top)+"px",this.view.style.left=a-(this.useFixedPosition?Fs(this.view).left:l.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),ha(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Vs(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}TF.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],TF.BUBBLE_DOWN_EVENTS=["click"];let OF='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';function FF(...e){return function(t,i){for(let n=0,o=e.length;n<o;n++){const o=e[n](t,i);if(o)return o}return null}}const MF=function(e,t,i){if(!i||i.length<t.length)return null;let n;n=e?Va(i,t):0===i.indexOf(t);if(!n)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function RF(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1===i?null:[{start:i,end:i+e.length}]}function PF(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]===t[n]){let o=null;return(o=PF(e,t,i+1,n+1))?jF({start:n,end:n+1},o):null}return PF(e,t,i,n+1)}function BF(e){return 97<=e&&e<=122}function WF(e){return 65<=e&&e<=90}function VF(e){return 48<=e&&e<=57}function HF(e){return 32===e||9===e||10===e||13===e}const zF=new Set;function KF(e){return HF(e)||zF.has(e)}function UF(e){return BF(e)||WF(e)||VF(e)}function jF(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function qF(e,t){for(let i=t;i<e.length;i++){const t=e.charCodeAt(i);if(WF(t)||VF(t)||i>0&&!UF(e.charCodeAt(i-1)))return i}return e.length}function $F(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;{let o=null,r=n+1;for(o=$F(e,t,i+1,n+1);!o&&(r=qF(t,r))<t.length;)o=$F(e,t,i+1,r),r++;return null===o?null:jF({start:n,end:n+1},o)}}function GF(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,i=0,n=0,o=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r),WF(n)&&t++,BF(n)&&i++,HF(n)&&o++;return 0!==t&&0!==i||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const i=function(e){let t=0,i=0,n=0,o=0,r=0;for(let s=0;s<e.length;s++)r=e.charCodeAt(s),WF(r)&&t++,BF(r)&&i++,UF(r)&&n++,VF(r)&&o++;return{upperPercent:t/e.length,lowerPercent:i/e.length,alphaPercent:n/e.length,numericPercent:o/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:o}=e;return i>.2&&t<.8&&n>.6&&o<.2}(i)){if(!function(e){const{upperPercent:t,lowerPercent:i}=e;return 0===i&&t>.6}(i))return null;t=t.toLowerCase()}let n=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(n=$F(e,t,0,o));)o=qF(t,o+1);return n}function ZF(e,t,i=!1){if(!t||0===t.length)return null;let n=null,o=0;for(e=e.toLowerCase(),t=t.toLowerCase();o<t.length&&null===(n=YF(e,t,0,o,i));)o=JF(t,o+1);return n}function YF(e,t,i,n,o){if(i===e.length)return[];if(n===t.length)return null;if(r=e.charCodeAt(i),s=t.charCodeAt(n),r===s||KF(r)&&KF(s)){let r=null,s=n+1;if(r=YF(e,t,i+1,n+1,o),!o)for(;!r&&(s=JF(t,s))<t.length;)r=YF(e,t,i+1,s,o),s++;return null===r?null:jF({start:n,end:n+1},r)}return null;var r,s}function JF(e,t){for(let i=t;i<e.length;i++)if(KF(e.charCodeAt(i))||i>0&&KF(e.charCodeAt(i-1)))return i;return e.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach((e=>zF.add(e.charCodeAt(0))));const XF=FF(MF,GF,RF),QF=FF(MF,GF,(function(e,t){return PF(e.toLowerCase(),t.toLowerCase(),0,0)})),eM=new kl(1e4);function tM(e,t,i=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=eM.get(e);n||(n=new RegExp(e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*"),"i"),eM.set(e,n));const o=n.exec(t);return o?[{start:o.index,end:o.index+o[0].length}]:i?QF(e,t):XF(e,t)}function iM(e,t,i,n,o,r){const s=Math.min(13,e.length);for(;i<s;i++){const s=fM(e,t,i,n,o,r,!1);if(s)return s}return[0,r]}function nM(e){if(void 0===e)return[];const t=[],i=e[1];for(let n=e.length-1;n>1;n--){const o=e[n]+i,r=t[t.length-1];r&&r.end===o?r.end=o+1:t.push({start:o,end:o+1})}return t}function oM(){const e=[],t=[];for(let i=0;i<=128;i++)t[i]=0;for(let i=0;i<=128;i++)e.push(t.slice(0));return e}function rM(e){const t=[];for(let i=0;i<=e;i++)t[i]=0;return t}const sM=rM(256),aM=rM(256),lM=oM(),uM=oM(),cM=oM();function dM(e,t){if(t<0||t>=e.length)return!1;const i=e.codePointAt(t);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!nl(i)}}function hM(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function gM(e,t,i){return t[e]!==i[e]}var pM,mM;function fM(e,t,i,n,o,r,s){const a=e.length>128?128:e.length,l=n.length>128?128:n.length;if(i>=a||r>=l||a-i>l-r)return;if(!function(e,t,i,n,o,r,s=!1){for(;t<i&&o<r;)e[t]===n[o]&&(s&&(sM[t]=o),t+=1),o+=1;return t===i}(t,i,a,o,r,l,!0))return;!function(e,t,i,n,o,r){let s=e-1,a=t-1;for(;s>=i&&a>=n;)o[s]===r[a]&&(aM[s]=a,s--),a--}(a,l,i,r,t,o);let u=1,c=1,d=i,h=r;const g=[!1];for(u=1,d=i;d<a;u++,d++){const s=sM[d],p=aM[d],m=d+1<a?aM[d+1]:l;for(c=s-r+1,h=s;h<m;c++,h++){let a=Number.MIN_SAFE_INTEGER,m=!1;h<=p&&(a=vM(e,t,d,i,n,o,h,l,r,0===lM[u-1][c-1],g));let f=0;a!==Number.MAX_SAFE_INTEGER&&(m=!0,f=a+uM[u-1][c-1]);const v=h>s,_=v?uM[u][c-1]+(lM[u][c-1]>0?-5:0):0,b=h>s+1&&lM[u][c-1]>0,C=b?uM[u][c-2]+(lM[u][c-2]>0?-5:0):0;if(b&&(!v||C>=_)&&(!m||C>=f))uM[u][c]=C,cM[u][c]=3,lM[u][c]=0;else if(v&&(!m||_>=f))uM[u][c]=_,cM[u][c]=2,lM[u][c]=0;else{if(!m)throw new Error("not possible");uM[u][c]=f,cM[u][c]=1,lM[u][c]=lM[u-1][c-1]+1}}}if(!g[0]&&!s)return;u--,c--;const p=[uM[u][c],r];let m=0,f=0;for(;u>=1;){let e=c;do{const t=cM[u][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);m>1&&t[i+u-1]===o[r+c-1]&&!gM(e+r-1,n,o)&&m+1>lM[u][e]&&(e=c),e===c?m++:m=1,f||(f=e),u--,c=e-1,p.push(c)}l===a&&(p[0]+=2);const v=f-a;return p[0]-=v,p}function vM(e,t,i,n,o,r,s,a,l,u,c){if(t[i]!==r[s])return Number.MIN_SAFE_INTEGER;let d=1,h=!1;return s===i-n?d=e[i]===o[s]?7:5:!gM(s,o,r)||0!==s&&gM(s-1,o,r)?!dM(r,s)||0!==s&&dM(r,s-1)?(dM(r,s-1)||hM(r,s-1))&&(d=5,h=!0):d=5:(d=e[i]===o[s]?7:5,h=!0),d>1&&i===n&&(c[0]=!0),h||(h=gM(s,o,r)||dM(r,s-1)||hM(r,s-1)),i===n?s>l&&(d-=h?3:5):d+=u?h?2:0:h?0:1,s+1===a&&(d-=h?3:5),d}function _M(e,t,i,n,o,r,s){return function(e,t,i,n,o,r,s,a){let l=fM(e,t,i,n,o,r,a);if(l&&!s)return l;if(e.length>=3){const t=Math.min(7,e.length-1);for(let s=i+1;s<t;s++){const t=bM(e,s);if(t){const e=fM(t,t.toLowerCase(),i,n,o,r,a);e&&(e[0]-=3,(!l||e[0]>l[0])&&(l=e))}}}return l}(e,t,i,n,o,r,!0,s)}function bM(e,t){if(t+1>=e.length)return;const i=e[t],n=e[t+1];return i!==n?e.slice(0,t)+n+i+e.slice(t+2):void 0}(mM=pM||(pM={})).Default=[-100,0],mM.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]};const CM=new RegExp(`\\$\\(${Pc.iconNameExpression}(?:${Pc.iconModifierExpression})?\\)`,"g"),wM=new RegExp(`(\\\\)?${CM.source}`,"g");const yM=new RegExp(`\\\\${CM.source}`,"g");function SM(e){return e.replace(yM,(e=>`\\${e}`))}const DM=new RegExp(`(\\s)?(\\\\)?${CM.source}(\\s)?`,"g");function kM(e){return-1===e.indexOf("$(")?e:e.replace(DM,((e,t,i,n)=>i?e:t||n||""))}function IM(e){const t=e.indexOf("$(");return-1===t?{text:e}:function(e,t){const i=[];let n="";function o(e){if(e){n+=e;for(const t of e)i.push(u)}}let r,s,a=-1,l="",u=0,c=t;const d=e.length;o(e.substr(0,t));for(;c<d;){if(r=e[c],s=e[c+1],r==="$("[0]&&s==="$("[1])a=c,o(l),l="$(",c++;else if(")"===r&&-1!==a){u+=c-a+1,a=-1,l=""}else-1!==a?/^[a-z0-9\-]$/i.test(r)?l+=r:(o(l),a=-1,l=""):o(r);c++}return o(l),{text:n,iconOffsets:i}}(e,t)}function EM(e,t,i=!1){const{text:n,iconOffsets:o}=t;if(!o||0===o.length)return tM(e,n,i);const r=Da(n," "),s=n.length-r.length,a=tM(e,r,i);if(a)for(const l of a){const e=o[l.start+s]+s;l.start+=e,l.end+=e}return a}const xM=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,LM=/(&amp;)?(&amp;)([^\s&])/g,AM=Mc("menu-selection",Rc.check),NM=Mc("menu-submenu",Rc.chevronRight);var TM,OM;(OM=TM||(TM={}))[OM.Right=0]="Right",OM[OM.Left=1]="Left";class FM extends sT{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...vt||_t?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new yi),this.initializeStyleSheet(e),this._register(R_.addTarget(n)),ps(n,Qs.KEY_DOWN,(e=>{new Pr(e).equals(2)&&e.preventDefault()})),i.enableMnemonics&&this.menuDisposables.add(ps(n,Qs.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){ea.stop(e,!0);const i=this.mnemonics.get(t);if(1===i.length&&(i[0]instanceof RM&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),i.length>1){const e=i.shift();e&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i)}}}))),_t&&this._register(ps(n,Qs.KEY_DOWN,(e=>{const t=new Pr(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ea.stop(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ea.stop(e,!0))}))),this._register(ps(this.domNode,Qs.MOUSE_OUT,(e=>{Vs(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register(ps(this.actionsList,Qs.MOUSE_OVER,(e=>{let t=e.target;if(t&&Vs(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}))),this._register(R_.addTarget(this.actionsList)),this._register(ps(this.actionsList,F_.Tap,(e=>{let t=e.initialTarget;if(t&&Vs(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Jx(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this._register(ps(n,F_.Change,(e=>{ea.stop(e,!0);const t=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:t-e.translationY})}))),this._register(ps(r,Qs.MOUSE_UP,(e=>{e.preventDefault()}))),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((e=>{var t;return!(null===(t=i.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn(`Found submenu cycle: ${e.id}`),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof PM))).forEach(((e,t,i)=>{e.updatePositionInSet(t+1,i.length)}))}initializeStyleSheet(e){Us(e)?(this.styleSheet=$s(e),this.styleSheet.textContent=BM):(FM.globalStyleSheet||(FM.globalStyleSheet=$s(),FM.globalStyleSheet.textContent=BM),this.styleSheet=FM.globalStyleSheet)}style(e){const t=this.getContainer(),i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",r=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=r,this.viewItems&&this.viewItems.forEach((t=>{(t instanceof MM||t instanceof PM)&&t.style(e)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Rv)return new PM(t.context,e,{icon:!0});if(e instanceof Pv){const n=new RM(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const n=t.getKeyBinding(e);if(n){const e=n.getLabel();e&&(i.keybinding=e)}}const n=new MM(t.context,e,i);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}}}class MM extends nT{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){let e=this.getAction().label;if(e){let t=xM.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new ts((()=>{this.element&&(this._register(ps(this.element,Qs.MOUSE_UP,(e=>{if(ea.stop(e,!0),yr){if(new zr(e).rightButton)return;this.onClick(e)}else setTimeout((()=>{this.onClick(e)}),0)}))),this._register(ps(this.element,Qs.CONTEXT_MENU,(e=>{ea.stop(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=na(this.element,ca("a.action-menu-item")),this._action.id===Rv.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=na(this.item,ca("span.menu-item-check"+AM.cssSelector)),this.check.setAttribute("role","none"),this.label=na(this.item,ca("span.action-label")),this.options.label&&this.options.keybinding&&(na(this.item,ca("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){ds(this.label);let e=kM(this.getAction().label);if(e){const t=function(e){const t=xM,i=t.exec(e);if(!i)return e;const n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=xM.exec(e);if(i){e=wa(e),LM.lastIndex=0;let t=LM.exec(e);for(;t&&t[1];)t=LM.exec(e);const n=e=>e.replace(/&amp;&amp;/g,"&amp;");t?this.label.append(Da(n(e.substr(0,t.index))," "),ca("u",{"aria-hidden":"true"},t[3]),ka(n(e.substr(t.index+t[0].length))," ")):this.label.innerText=n(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=it("vs/base/browser/ui/menu/menu",{key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}}class RM extends MM{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new yi),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:TM.Right,this.showScheduler=new ts((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new ts((()=>{this.element&&!Vs(qs(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=na(this.item,ca("span.submenu-indicator"+NM.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(ps(this.element,Qs.KEY_UP,(e=>{let t=new Pr(e);(t.equals(17)||t.equals(3))&&(ea.stop(e,!0),this.createSubmenu(!0))}))),this._register(ps(this.element,Qs.KEY_DOWN,(e=>{let t=new Pr(e);qs()===this.item&&(t.equals(17)||t.equals(3))&&ea.stop(e,!0)}))),this._register(ps(this.element,Qs.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register(ps(this.element,Qs.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register(ps(this.element,Qs.FOCUS_OUT,(e=>{this.element&&!Vs(qs(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)}))))}updateEnabled(){}onClick(e){ea.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=NF(e.width,t.width,{position:n===TM.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=NF(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=na(this.element,ca("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new FM(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Bv],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},r=this.submenuContainer.getBoundingClientRect(),{top:s,left:a}=this.calculateSubmenuMenuLayout(new Ns(window.innerWidth,window.innerHeight),Ns.lift(r),o,this.expandDirection);this.submenuContainer.style.left=a-r.left+"px",this.submenuContainer.style.top=s-r.top+"px",this.submenuDisposables.add(ps(this.submenuContainer,Qs.KEY_UP,(e=>{new Pr(e).equals(15)&&(ea.stop(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(ps(this.submenuContainer,Qs.KEY_DOWN,(e=>{new Pr(e).equals(15)&&ea.stop(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class PM extends oT{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}let BM=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${xF(AM)}\n${xF(NM)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;function WM(e,t){const i=Object.create(null);for(let n in t){const o=t[n];o&&(i[n]=ik(o,e))}return i}function VM(e,t,i){function n(){const n=WM(e.getColorTheme(),t);"function"==typeof i?i(n):i.style(n)}return n(),e.onDidColorThemeChange(n)}function HM(e,t,i){return VM(t,{badgeBackground:(null==i?void 0:i.badgeBackground)||Py,badgeForeground:(null==i?void 0:i.badgeForeground)||By,badgeBorder:dy},e)}function zM(e,t,i){return VM(t,Object.assign(Object.assign({},KM),i||{}),e)}const KM={listFocusBackground:ZS,listFocusForeground:YS,listFocusOutline:JS,listActiveSelectionBackground:XS,listActiveSelectionForeground:QS,listActiveSelectionIconForeground:eD,listFocusAndSelectionBackground:XS,listFocusAndSelectionForeground:QS,listInactiveSelectionBackground:tD,listInactiveSelectionIconForeground:nD,listInactiveSelectionForeground:iD,listInactiveFocusBackground:oD,listInactiveFocusOutline:rD,listHoverBackground:sD,listHoverForeground:aD,listDropBackground:lD,listSelectionOutline:hy,listHoverOutline:hy,listFilterWidgetBackground:pD,listFilterWidgetOutline:mD,listFilterWidgetNoMatchesOutline:fD,listMatchesShadow:fy,treeIndentGuidesStroke:vD,tableColumnsBorder:_D},UM={shadowColor:fy,borderColor:SD,foregroundColor:DD,backgroundColor:kD,selectionForegroundColor:ID,selectionBackgroundColor:ED,selectionBorderColor:xD,separatorColor:LD};class jM{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;let n=Xs(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:n=>{let o=e.getMenuClassName?e.getMenuClassName():"";o&&(n.className+=" "+o),this.options.blockMouse&&(this.block=n.appendChild(ca(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",ps(this.block,Qs.MOUSE_DOWN,(e=>e.stopPropagation())));const r=new yi,s=e.actionRunner||new Mv;var a,l;return s.onBeforeRun(this.onActionRun,this,r),s.onDidRun(this.onDidActionRun,this,r),i=new FM(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:s,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),r.add((a=i,VM(this.themeService,Object.assign(Object.assign({},UM),l),a))),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,r),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,r),r.add(ps(window,Qs.BLUR,(()=>this.contextViewService.hideContextView(!0)))),r.add(ps(window,Qs.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;let t=new zr(e),i=t.target;if(!t.rightButton){for(;i;){if(i===n)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),Ci(r,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!di(e.error)&&this.notificationService.error(e.error)}}var qM=function(e,t){return function(i,n){t(i,n,e)}};let $M=class extends Si{constructor(e,t,i,n,o){super(),this.contextMenuHandler=new jM(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),va.getInstance().resetKeyStatus()}};$M=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([qM(0,t_),qM(1,Vf),qM(2,wT),qM(3,JT),qM(4,Wv)],$M);const GM=pr("layoutService");let ZM=class extends Si{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=Si.None,this.container=e.container,this.contextView=this._register(new TF(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=wi((()=>{this.currentViewDisposable===n&&this.hideContextView()}));return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};ZM=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(i,n){t(i,n,e)}}(0,GM)],ZM);const YM=pr("dialogService");class JM{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class XM{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new JM(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(let[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}class QM extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class eR{constructor(e=new nN,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(hr,this)}createChild(e){return new eR(e,this._strict,this)}invokeFunction(e,...t){let i=tR.traceInvocation(e),n=!1;try{return e({get:(e,t)=>{if(n)throw(o="service accessor is only valid during the invocation of its target method")?new Error(`Illegal state: ${o}`):new Error("Illegal state");var o;const r=this._getOrCreateServiceInstance(e,i);if(!r&&t!==mr)throw new Error(`[invokeFunction] unknown service '${e}'`);return r}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof zh?(i=tR.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=tR.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=cr.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),o=[];for(const s of n){let t=this._getOrCreateServiceInstance(s.id,i);if(!t&&this._strict&&!s.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${s.id}.`);o.push(t)}let r=n.length>0?n[0].index:t.length;if(t.length!==r){console.warn(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);let i=r-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,r)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof zh)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof zh?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const n=new XM((e=>e.id.toString()));let o=0;const r=[{id:e,desc:t,_trace:i}];for(;r.length;){const t=r.pop();if(n.lookupOrInsertNode(t),o++>1e3)throw new QM(n);for(let i of cr.getServiceDependencies(t.desc.ctor)){let o=this._getServiceInstanceOrDescriptor(i.id);if(o||i.optional||console.warn(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`),o instanceof zh){const e={id:i.id,desc:o,_trace:t._trace.branch(i.id,!0)};n.insertEdge(t,e),r.push(e)}}}for(;;){const e=n.roots();if(0===e.length){if(!n.isEmpty())throw new QM(n);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof zh){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}n.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof zh)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){const i=new ns((()=>this._createInstance(e,t,n)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let n=i.value,o=n[t];return"function"!=typeof o||(o=o.bind(n),e[t]=o),o},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}}class tR{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return tR._None}static traceCreation(e){return tR._None}branch(e,t){let i=new tR(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;tR._totals+=e;let t=!1;let i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(i,n){let o=[],r=new Array(i+1).join("\t");for(const[s,a,l]of n._dep)if(a&&l){t=!0,o.push(`${r}CREATES -> ${s}`);let n=e(i+1,l);n&&o.push(n)}else o.push(`${r}uses -> ${s}`);return o.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${tR._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(i.join("\n"))}}tR._None=new class extends tR{constructor(){super(-1,null)}stop(){}branch(){return this}},tR._totals=0;const iR=pr("labelService");class nR{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach((n=>n.splice(e,t,i)))}}class oR extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function rR(e,t){const i=[];for(let n of t){if(e.start>=n.range.end)continue;if(e.end<n.range.start)break;const t=EF.intersect(e,n.range);EF.isEmpty(t)||i.push({range:t,size:n.size})}return i}function sR({start:e,end:t},i){return{start:e+i,end:t+i}}class aR{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t,o=rR({start:0,end:e},this.groups),r=rR({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:sR(e.range,n),size:e.size}))),s=i.map(((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size})));this.groups=function(...e){return function(e){const t=[];let i=null;for(let n of e){const e=n.range.start,o=n.range.end,r=n.size;i&&r===i.size?i.range.end=o:(i={range:{start:e,end:o},size:r},t.push(i))}return t}(e.reduce(((e,t)=>e.concat(t)),[]))}(o,s,r),this._size=this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,r=i+o*n.size;if(e<r)return t+Math.floor((e-i)/n.size);t+=o,i=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,r=i+o;if(e<r)return t+(e-i)*n.size;t+=o*n.size,i=r}return-1}}class lR{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=ca(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(rU){}}(t));this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const i of e){this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}})),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var uR=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};const cR={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class dR{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class hR{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class gR{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class pR{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,i)=>i,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class mR{constructor(e,t,i,n=cR){if(this.virtualDelegate=t,this.domId="list_id_"+ ++mR.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Gr(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Si.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Si.None,this.onDragLeaveTimeout=Si.None,this.disposables=new yi,this._onDidChangeContentHeight=new Ti,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new aR;for(const o of i)this.renderers.set(o.templateId,o);this.cache=this.disposables.add(new lR(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=Tu(n,(e=>e.horizontalScrolling),cR.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===n.additionalScrollHeight?0:n.additionalScrollHeight,this.accessibilityProvider=new pR(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";Tu(n,(e=>e.transformOptimization),cR.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(R_.addTarget(this.rowsContainer)),this.scrollable=new zx(Tu(n,(e=>e.smoothScrolling),!1)?125:0,(e=>ys(e))),this.scrollableElement=this.disposables.add(new Yx(this.rowsContainer,{alwaysConsumeMouseWheel:Tu(n,(e=>e.alwaysConsumeMouseWheel),cR.alwaysConsumeMouseWheel),horizontal:1,vertical:Tu(n,(e=>e.verticalScrollMode),cR.verticalScrollMode),useShadows:Tu(n,(e=>e.useShadows),cR.useShadows),mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(ps(this.rowsContainer,F_.Change,(e=>this.onTouchChange(e)))),this.disposables.add(ps(this.scrollableElement.getDomNode(),"scroll",(e=>e.target.scrollTop=0))),this.disposables.add(ps(this.domNode,"dragover",(e=>this.onDragOver(this.toDragEvent(e))))),this.disposables.add(ps(this.domNode,"drop",(e=>this.onDrop(this.toDragEvent(e))))),this.disposables.add(ps(this.domNode,"dragleave",(e=>this.onDragLeave(this.toDragEvent(e))))),this.disposables.add(ps(this.domNode,"dragend",(e=>this.onDragEnd(e)))),this.setRowLineHeight=Tu(n,(e=>e.setRowLineHeight),cR.setRowLineHeight),this.setRowHeight=Tu(n,(e=>e.setRowHeight),cR.setRowHeight),this.supportDynamicHeights=Tu(n,(e=>e.supportDynamicHeights),cR.supportDynamicHeights),this.dnd=Tu(n,(e=>e.dnd),cR.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Ps(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},r=EF.intersect(n,o),s=new Map;for(let C=r.start;C<r.end;C++){const e=this.items[C];if(e.dragStartDisposable.dispose(),e.row){let t=s.get(e.templateId);t||(t=[],s.set(e.templateId,t));const i=this.renderers.get(e.templateId);i&&i.disposeElement&&i.disposeElement(e.element,C,e.row.templateData,e.size),t.push(e.row)}e.row=null}const a={start:e+t,end:this.items.length},l=EF.intersect(a,n),u=EF.relativeComplement(a,n),c=i.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Si.None})));let d;0===e&&t>=this.items.length?(this.rangeMap=new aR,this.rangeMap.splice(0,0,c),d=this.items,this.items=c):(this.rangeMap.splice(e,t,c),d=this.items.splice(e,t,...c));const h=i.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),p=sR(l,h),m=EF.intersect(g,p);for(let C=m.start;C<m.end;C++)this.updateItemInDOM(this.items[C],C);const f=EF.relativeComplement(p,g);for(const C of f)for(let e=C.start;e<C.end;e++)this.removeItemFromDOM(e);const v=u.map((e=>sR(e,h))),_=[{start:e,end:e+i.length},...v].map((e=>EF.intersect(g,e))),b=this.getNextToLastElement(_);for(const C of _)for(let e=C.start;e<C.end;e++){const t=this.items[e],i=s.get(t.templateId),n=null==i?void 0:i.pop();this.insertItemInDOM(e,b,n)}for(const C of s.values())for(const e of C)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),d.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=ys((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:"number"==typeof e?e:Bs(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:Ps(this.domNode)})}render(e,t,i,n,o,r=!1){const s=this.getRenderRange(t,i),a=EF.relativeComplement(s,e),l=EF.relativeComplement(e,s),u=this.getNextToLastElement(a);if(r){const t=EF.intersect(e,s);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const c of a)for(let e=c.start;e<c.end;e++)this.insertItemInDOM(e,u);for(const c of l)for(let e=c.start;e<c.end;e++)this.removeItemFromDOM(e);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];n.row||(n.row=null!=i?i:this.cache.alloc(n.templateId));const o=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",o);const r=this.accessibilityProvider.isChecked(n.element);void 0!==r&&n.row.domNode.setAttribute("aria-checked",String(!!r)),n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const s=this.renderers.get(n.templateId);if(!s)throw new Error(`No renderer found for template id ${n.templateId}`);s&&s.renderElement(n.element,e,n.row.templateData,n.size);const a=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!a,a&&(n.dragStartDisposable=ps(n.row.domNode,"dragstart",(e=>this.onDragStart(n.element,a,e)))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=yr?"-moz-fit-content":"fit-content",e.width=Ps(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2==0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return Ai.map(this.disposables.add(new RN(this.domNode,"click")).event,(e=>this.toMouseEvent(e)))}get onMouseDblClick(){return Ai.map(this.disposables.add(new RN(this.domNode,"dblclick")).event,(e=>this.toMouseEvent(e)))}get onMouseMiddleClick(){return Ai.filter(Ai.map(this.disposables.add(new RN(this.domNode,"auxclick")).event,(e=>this.toMouseEvent(e))),(e=>1===e.browserEvent.button))}get onMouseDown(){return Ai.map(this.disposables.add(new RN(this.domNode,"mousedown")).event,(e=>this.toMouseEvent(e)))}get onContextMenu(){return Ai.any(Ai.map(this.disposables.add(new RN(this.domNode,"contextmenu")).event,(e=>this.toMouseEvent(e))),Ai.map(this.disposables.add(new RN(this.domNode,F_.Contextmenu)).event,(e=>this.toGestureEvent(e))))}get onTouchStart(){return Ai.map(this.disposables.add(new RN(this.domNode,"touchstart")).event,(e=>this.toTouchEvent(e)))}get onTap(){return Ai.map(this.disposables.add(new RN(this.rowsContainer,F_.Tap)).event,(e=>this.toGestureEvent(e)))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(eT.TEXT,t),i.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(n,i)),void 0===e&&(e=String(n.length));const t=ca(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),i.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>document.body.removeChild(t)),0)}this.currentDragData=new dR(n),iT.CurrentDragAndDropData=new hR(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),iT.CurrentDragAndDropData&&"vscode-ui"===iT.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(iT.CurrentDragAndDropData)this.currentDragData=iT.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new gR}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",i="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],i=jg(i).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),i=-1===i[0]?[-1]:i,n=this.currentDragFeedback,o=i,Array.isArray(n)&&Array.isArray(o)?Pg(n,o):n===o)return!0;var n,o;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=wi((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const e of i){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=wi((()=>{for(const e of i){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Jr((()=>this.clearDragOverFeedback()),100),this.currentDragData&&(null===(i=(t=this.dnd).onDragLeave)||void 0===i||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,iT.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,iT.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Si.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=Ts(this.domNode).top;this.dragOverAnimationDisposable=function(e){const t=()=>{e(),i=ys(t)};let i=ys(t);return wi((()=>i.dispose()))}(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Jr((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const e=i.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let o,r;e===this.elementTop(n.start)?(o=n.start,r=0):n.end-n.start>1&&(o=n.start+1,r=this.elementTop(o)-e);let s=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),s+=t,l=l||0!==t}if(!l){0!==s&&this.eventuallyUpdateScrollDimensions();const t=EF.relativeComplement(n,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=EF.relativeComplement(a,n);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,i=e<this.items.length?this.items[e].row:null,n=i?i.domNode:null;this.insertItemInDOM(t,n)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"==typeof o){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,n=this.elementTop(o)-r+t;this.setScrollTop(n,i)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const e=this.virtualDelegate.getDynamicHeight(t.element);if(null!==e){const i=t.size;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-i}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row){let e=t.row.domNode.offsetHeight;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-i}const n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,n.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),bi(this.disposables)}}mR.InstanceCount=0,uR([O_],mR.prototype,"onMouseClick",null),uR([O_],mR.prototype,"onMouseDblClick",null),uR([O_],mR.prototype,"onMouseMiddleClick",null),uR([O_],mR.prototype,"onMouseDown",null),uR([O_],mR.prototype,"onContextMenu",null),uR([O_],mR.prototype,"onTouchStart",null),uR([O_],mR.prototype,"onTap",null);var fR,vR,_R=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},bR=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class CR{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex((e=>e.templateData===i));if(n>=0){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else{const e={index:t,templateData:i};this.renderedElements.push(e)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex((t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}class wR{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new Ti,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new CR(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,r=e+t,s=[...this.sortedIndexes.filter((t=>t<e)),...i.map(((t,i)=>t?i+e:-1)).filter((e=>-1!==e)),...this.sortedIndexes.filter((e=>e>=r)).map((e=>e+o))],a=this.length+o;if(this.sortedIndexes.length>0&&0===s.length&&a>0){const t=null!==(n=this.sortedIndexes.find((t=>t>=e)))&&void 0!==n?n:a-1;s.push(Math.min(t,a-1))}this.renderer.splice(e,t,i.length),this._set(s,s),this.length=a}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(BR),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=PR(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return Bg(this.sortedIndexes,e,BR)>=0}dispose(){bi(this._onChange)}}_R([O_],wR.prototype,"renderer",null);class yR extends wR{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class SR{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map((()=>!1)));const n=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString())),o=i.map((e=>n.indexOf(this.identityProvider.getId(e).toString())>-1));this.trait.splice(e,t,o)}}function DR(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function kR(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&(!!e.parentElement&&kR(e.parentElement))}class IR{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new yi,this.multipleSelectionDisposables=new yi,this.onKeyDown.filter((e=>3===e.keyCode)).on(this.onEnter,this,this.disposables),this.onKeyDown.filter((e=>16===e.keyCode)).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter((e=>18===e.keyCode)).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter((e=>11===e.keyCode)).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter((e=>12===e.keyCode)).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter((e=>9===e.keyCode)).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter((e=>(vt?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return Ai.chain(this.disposables.add(new RN(this.view.domNode,"keydown")).event).filter((e=>!DR(e.target))).map((e=>new Pr(e)))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter((e=>(vt?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Gg(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}_R([O_],IR.prototype,"onKeyDown",null),(vR=fR||(fR={}))[vR.Idle=0]="Idle",vR[vR.Typing=1]="Typing";const ER=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class xR{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=fR.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new yi,this.disposables=new yi,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=Ai.chain(this.enabledDisposables.add(new RN(this.view.domNode,"keydown")).event).filter((e=>!DR(e.target))).filter((()=>this.automaticKeyboardNavigation||this.triggered)).map((e=>new Pr(e))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach((e=>{e.stopPropagation(),e.preventDefault()})).map((e=>e.browserEvent.key)).event,t=Ai.debounce(e,(()=>null),800);Ai.reduce(Ai.any(e,t),((e,t)=>null===t?null:(e||"")+t))(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Ev(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=fR.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===fR.Idle?1:0;this.state=fR.Typing;for(let o=0;o<this.list.length;o++){const t=(i+o+n)%this.list.length,r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),s=r&&r.toString();if(void 0===s||MF(e,s))return this.previouslyFocused=i,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class LR{constructor(e,t){this.list=e,this.view=t,this.disposables=new yi;Ai.chain(this.disposables.add(new RN(t.domNode,"keydown")).event).filter((e=>!DR(e.target))).map((e=>new Pr(e))).filter((e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey))).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!(n&&n instanceof HTMLElement&&-1!==n.tabIndex))return;const o=window.getComputedStyle(n);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function AR(e){return vt?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function NR(e){return e.browserEvent.shiftKey}const TR={isSelectionSingleChangeEvent:AR,isSelectionRangeChangeEvent:NR};class OR{constructor(e){this.list=e,this.disposables=new yi,this._onPointer=new Ti,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||TR),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(R_.addTarget(e.getHTMLElement()))),Ai.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||TR))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){kR(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(kR(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(DR(e.browserEvent.target)||kR(e.browserEvent.target))return;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),(i=e.browserEvent)instanceof MouseEvent&&2===i.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var i}onDoubleClick(e){if(DR(e.browserEvent.target)||kR(e.browserEvent.target))return;if(this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===i){const e=this.list.getFocus()[0];i=null!=e?e:t,this.list.setAnchor(i)}const n=Gg(Math.min(i,t),Math.max(i,t)+1),o=this.list.getSelection(),r=function(e,t){const i=e.indexOf(t);if(-1===i)return[];const n=[];let o=i-1;for(;o>=0&&e[o]===t-(i-o);)n.push(e[o--]);n.reverse(),o=i;for(;o<e.length&&e[o]===t+(o-i);)n.push(e[o++]);return n}(PR(o,[i]),i);if(0===r.length)return;const s=PR(n,function(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){n++,o++;continue}e[n]<t[o]?i.push(e[n++]):o++}return i}(o,r));this.list.setSelection(s,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const i=this.list.getSelection(),n=i.filter((e=>e!==t));this.list.setFocus([t]),this.list.setAnchor(t),i.length===n.length?this.list.setSelection([...n,t],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class FR{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):vt||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),this.styleElement.textContent=i.join("\n")}}const MR={listFocusBackground:ew.fromHex("#7FB0D0"),listActiveSelectionBackground:ew.fromHex("#0E639C"),listActiveSelectionForeground:ew.fromHex("#FFFFFF"),listActiveSelectionIconForeground:ew.fromHex("#FFFFFF"),listFocusAndSelectionBackground:ew.fromHex("#094771"),listFocusAndSelectionForeground:ew.fromHex("#FFFFFF"),listInactiveSelectionBackground:ew.fromHex("#3F3F46"),listInactiveSelectionIconForeground:ew.fromHex("#FFFFFF"),listHoverBackground:ew.fromHex("#2A2D2E"),listDropBackground:ew.fromHex("#383B3D"),treeIndentGuidesStroke:ew.fromHex("#a9a9a9"),tableColumnsBorder:ew.fromHex("#cccccc").transparent(.2)},RR={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function PR(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){i.push(e[n]),n++,o++;continue}e[n]<t[o]?i.push(e[n++]):i.push(t[o++])}return i}const BR=(e,t)=>e-t;class WR{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,i,n){let o=0;for(const r of this.renderers)r.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){let o=0;for(const r of this.renderers)r.disposeElement&&r.disposeElement(e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class VR{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof o?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class HR{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,r;null===(r=(o=this.dnd).onDragLeave)||void 0===r||r.call(o,e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class zR{constructor(e,t,i,n,o=RR){var r;this.user=e,this._options=o,this.focus=new wR("focused"),this.anchor=new wR("anchor"),this.eventBufferer=new Mi,this._ariaLabel="",this.disposables=new yi,this._onDidDispose=new Ti,this.onDidDispose=this._onDidDispose.event;const s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(r=this._options.accessibilityProvider)||void 0===r?void 0:r.getWidgetRole():"list";this.selection=new yR("listbox"!==s),Au(o,MR,!1);const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(a.push(new VR(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map((e=>new WR(e.templateId,[...a,e])));const l=Object.assign(Object.assign({},o),{dnd:o.dnd&&new HR(this,o.dnd)});if(this.view=new mR(t,i,n,l),this.view.domNode.setAttribute("role",s),o.styleController)this.styleController=o.styleController(this.view.domId);else{const e=$s(this.view.domNode);this.styleController=new FR(e,this.view.domId)}if(this.spliceable=new nR([new SR(this.focus,this.view,o.identityProvider),new SR(this.selection,this.view,o.identityProvider),new SR(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new LR(this,this.view)),("boolean"!=typeof o.keyboardSupport||o.keyboardSupport)&&(this.keyboardController=new IR(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||ER;this.typeLabelController=new xR(this,this.view,o.keyboardNavigationLabelProvider,e),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return Ai.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)))}get onDidChangeSelection(){return Ai.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Ai.chain(this.disposables.add(new RN(this.view.domNode,"keydown")).event).map((e=>new Pr(e))).filter((t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode)).map(PN).filter((()=>!1)).event,i=Ai.chain(this.disposables.add(new RN(this.view.domNode,"keyup")).event).forEach((()=>e=!1)).map((e=>new Pr(e))).filter((e=>58===e.keyCode||e.shiftKey&&68===e.keyCode)).map(PN).map((({browserEvent:e})=>{const t=this.getFocus(),i=t.length?t[0]:void 0;return{index:i,element:void 0!==i?this.view.element(i):void 0,anchor:void 0!==i?this.view.domElement(i):this.view.domNode,browserEvent:e}})).event,n=Ai.chain(this.view.onContextMenu).filter((t=>!e)).map((({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.pageX+1,y:i.pageY},browserEvent:i}))).event;return Ai.any(t,i,n)}get onKeyDown(){return this.disposables.add(new RN(this.view.domNode,"keydown")).event}get onDidFocus(){return Ai.signal(this.disposables.add(new RN(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new OR(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(t=this.keyboardController)||void 0===t||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new oR(this.user,`Invalid start index: ${e}`);if(t<0)throw new oR(this.user,`Invalid delete count: ${t}`);0===t&&0===i.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,i)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new oR(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new oR(this.user,`Invalid index ${e}`);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return qg(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new oR(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,t,n);r>-1&&this.setFocus([r],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);r>-1&&this.setFocus([r],i)}focusNextPage(e,t){return bR(this,void 0,void 0,(function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.view.element(i),o=this.getFocusedElements()[0];if(o!==n){const n=this.findPreviousIndex(i,!1,t);n>-1&&o!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const n=this.view.getScrollTop();this.view.setScrollTop(n+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==n&&(this.setFocus([]),yield Yr(0),yield this.focusNextPage(e,t))}}))}focusPreviousPage(e,t){return bR(this,void 0,void 0,(function*(){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const o=this.view.element(i),r=this.getFocusedElements()[0];if(r!==o){const n=this.findNextIndex(i,!1,t);n>-1&&r!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const i=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==i&&(this.setFocus([]),yield Yr(0),yield this.focusPreviousPage(e,t))}}))}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){if(e<0||e>=this.length)throw new oR(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(eu(t)){const e=o-this.view.renderHeight;this.view.setScrollTop(e*oc(t,0,1)+n)}else{const e=n+o,t=i+this.view.renderHeight;n<i&&e>=t||(n<i||e>=t&&o>=this.view.renderHeight?this.view.setScrollTop(n):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new oR(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight)return null;const o=n-this.view.renderHeight;return Math.abs((t-i)/o)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map((e=>this.view.element(e))),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}_R([O_],zR.prototype,"onDidChangeFocus",null),_R([O_],zR.prototype,"onDidChangeSelection",null),_R([O_],zR.prototype,"onContextMenu",null),_R([O_],zR.prototype,"onKeyDown",null),_R([O_],zR.prototype,"onDidFocus",null);class KR{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Si.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);const r=new Hi,s=o.resolve(e,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,i.data),s.then((t=>this.renderer.renderElement(t,e,i.data,n)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class UR{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}const jR={separatorBorder:ew.transparent};class qR{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=oc(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class $R extends qR{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class GR extends qR{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var ZR,YR,JR,XR;(YR=ZR||(ZR={}))[YR.Idle=0]="Idle",YR[YR.Busy=1]="Busy",(XR=JR||(JR={})).Distribute={type:"distribute"},XR.Split=function(e){return{type:"split",index:e}},XR.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class QR extends Si{constructor(e,t={}){var i,n;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=ZR.Idle,this._onDidSashChange=this._register(new Ti),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new Ti),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=iu(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!iu(t.proportionalLayout)||!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=na(this.el,ca(".sash-container")),this.viewContainer=ca(".split-view-container"),this.scrollable=new zx(125,ys),this.scrollableElement=this._register(new Yx(this.viewContainer,{vertical:0===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2,horizontal:1===this.orientation?null!==(n=t.scrollbarVisibility)&&void 0!==n?n:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft}))),na(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||jR),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=iu(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.doAddView(n,i,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){const t=this.viewItems[n];t.size=oc(Math.round(this.proportions[n]*e),t.minimumSize,t.maximumSize)}else{const t=Gg(this.viewItems.length),n=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-i,void 0,n,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.size/this.contentSize)))}onSashStart({sash:e,start:t,alt:i}){for(const s of this.viewItems)s.enabled=!1;const n=this.sashItems.findIndex((t=>t.sash===e)),o=Ci(ps(document.body,"keydown",(e=>r(this.sashDragState.current,e.altKey))),ps(document.body,"keyup",(()=>r(this.sashDragState.current,!1)))),r=(e,t)=>{const i=this.viewItems.map((e=>e.size));let r,s,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(n===this.sashItems.length-1){const e=this.viewItems[n];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{const e=this.viewItems[n+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){const e=Gg(n,-1),t=Gg(n+1,this.viewItems.length),o=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),a=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t])),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),u=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize)),0),c=Math.max(o,u),d=Math.min(l,a),h=this.findFirstSnapIndex(e),g=this.findFirstSnapIndex(t);if("number"==typeof h){const e=this.viewItems[h],t=Math.floor(e.viewMinimumSize/2);r={index:h,limitDelta:e.visible?c-t:c+t,size:e.size}}if("number"==typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);s={index:g,limitDelta:e.visible?d+t:d-t,size:e.size}}}this.sashDragState={start:e,current:e,index:n,sizes:i,minDelta:a,maxDelta:l,alt:t,snapBefore:r,snapAfter:s,disposable:o}};r(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:o,minDelta:r,maxDelta:s,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const u=e-i,c=this.resize(t,u,n,void 0,void 0,r,s,a,l);if(o){const e=t===this.sashItems.length-1,i=this.viewItems.map((e=>e.size)),n=e?t:t+1,o=this.viewItems[n],r=o.size-o.maximumSize,s=o.size-o.minimumSize,a=e?t-1:t+1;this.resize(a,-c,i,void 0,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=oc(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==ZR.Idle)throw new Error("Cant modify splitview");if(this.state=ZR.Busy,e<0||e>=this.viewItems.length)return;const i=Gg(this.viewItems.length).filter((t=>t!==e)),n=[...i.filter((e=>1===this.viewItems[e].priority)),e],o=i.filter((e=>2===this.viewItems[e].priority)),r=this.viewItems[e];t=oc(t=Math.round(t),r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(n,o),this.state=ZR.Idle}distributeViewSizes(){const e=[];let t=0;for(const s of this.viewItems)s.maximumSize-s.minimumSize>0&&(e.push(s),t+=s.size);const i=Math.floor(t/e.length);for(const s of e)s.size=oc(i,s.minimumSize,s.maximumSize);const n=Gg(this.viewItems.length),o=n.filter((e=>1===this.viewItems[e].priority)),r=n.filter((e=>2===this.viewItems[e].priority));this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==ZR.Idle)throw new Error("Cant modify splitview");this.state=ZR.Busy;const o=ca(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const r=Ci(e.onDidChange((e=>this.onViewChange(a,e))),wi((()=>this.viewContainer.removeChild(o))));let s;s="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const a=0===this.orientation?new $R(o,e,s,r):new GR(o,e,s,r);if(this.viewItems.splice(i,0,a),this.viewItems.length>1){let e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const t=0===this.orientation?new qN(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new qN(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),n=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),o=Ci(Ai.map(t.onDidStart,n)(this.onSashStart,this),Ai.map(t.onDidChange,n)(this.onSashChange,this),Ai.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t))))(this.onSashEnd,this),t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),i=Gg(e,-1),n=Gg(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),r=this.findFirstSnapIndex(n);("number"!=typeof o||this.viewItems[o].visible)&&("number"!=typeof r||this.viewItems[r].visible)&&this._onDidSashReset.fire(e)})),t),r={sash:t,disposable:o};this.sashItems.splice(i-1,0,r)}let l;o.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(l=[t.index]),n||this.relayout([i],l),this.state=ZR.Idle,n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map((e=>e.size)),n,o,r=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a,l){if(e<0||e>=this.viewItems.length)return 0;const u=Gg(e,-1),c=Gg(e+1,this.viewItems.length);if(o)for(const y of o)Yg(u,y),Yg(c,y);if(n)for(const y of n)Jg(u,y),Jg(c,y);const d=u.map((e=>this.viewItems[e])),h=u.map((e=>i[e])),g=c.map((e=>this.viewItems[e])),p=c.map((e=>i[e])),m=u.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),f=u.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-i[t])),0),v=0===c.length?Number.POSITIVE_INFINITY:c.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),_=0===c.length?Number.NEGATIVE_INFINITY:c.reduce(((e,t)=>e+(i[t]-this.viewItems[t].maximumSize)),0),b=Math.max(m,_,r),C=Math.min(v,f,s);let w=!1;if(a){const e=this.viewItems[a.index],i=t>=a.limitDelta;w=i!==e.visible,e.setVisible(i,a.size)}if(!w&&l){const e=this.viewItems[l.index],i=t<l.limitDelta;w=i!==e.visible,e.setVisible(i,l.size)}if(w)return this.resize(e,t,i,n,o,r,s);for(let y=0,S=t=oc(t,b,C);y<d.length;y++){const e=d[y],t=oc(h[y]+S,e.minimumSize,e.maximumSize);S-=t-h[y],e.size=t}for(let y=0,S=t;y<g.length;y++){const e=g[y],t=oc(p[y]-S,e.minimumSize,e.maximumSize);S+=t-p[y],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const n=Gg(this.viewItems.length-1,-1),o=n.filter((e=>1===this.viewItems[e].priority)),r=n.filter((e=>2===this.viewItems[e].priority));for(const s of r)Yg(n,s);for(const s of o)Jg(n,s);"number"==typeof e&&Jg(n,e);for(let s=0;0!==i&&s<n.length;s++){const e=this.viewItems[n[s]],t=oc(e.size+i,e.minimumSize,e.maximumSize);i-=t-e.size,e.size=t}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),n=[...this.viewItems].reverse();e=!1;const o=n.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const r=n.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let s=0;for(let a=0;a<this.sashItems.length;a++){const{sash:e}=this.sashItems[a];s+=this.viewItems[a].size;const n=!(t[a]&&r[a+1]),l=!(i[a]&&o[a+1]);if(n&&l){const i=Gg(a,-1),n=Gg(a+1,this.viewItems.length),r=this.findFirstSnapIndex(i),l=this.findFirstSnapIndex(n),u="number"==typeof r&&!this.viewItems[r].visible,c="number"==typeof l&&!this.viewItems[l].visible;u&&o[a]&&(s>0||this.startSnappingEnabled)?e.state=1:c&&t[a]&&(s<this.contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=n&&!l?1:!n&&l?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach((e=>e.dispose())),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[]}}var eP,tP;class iP{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=iP.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const o of e){const e=n.get(o.templateId);if(!e)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=na(e,ca(".monaco-table-tr")),i=[],n=[];for(let r=0;r<this.columns.length;r++){const e=this.renderers[r],o=na(t,ca(".monaco-table-td",{"data-col-index":r}));o.style.width=`${this.getColumnSize(r)}px`,i.push(o),n.push(e.renderTemplate(o))}const o={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const r=this.columns[o].project(e);this.renderers[o].renderElement(r,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const r=this.renderers[o];if(r.disposeElement){const s=this.columns[o].project(e);r.disposeElement(s,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}ds(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}iP.TemplateId="row";class nP{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new Ti,this.onDidLayout=this._onDidLayout.event,this.element=ca(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:Ai.None}layout(e){this._onDidLayout.fire([this.index,e])}}class oP{constructor(e,t,i,n,o,r){this.virtualDelegate=i,this.domId="table_id_"+ ++oP.InstanceCount,this.cachedHeight=0,this.domNode=na(t,ca(`.monaco-table.${this.domId}`));const s=n.map(((e,t)=>new nP(e,t))),a={size:s.reduce(((e,t)=>e+t.column.weight),0),views:s.map((e=>({size:e.column.weight,view:e})))};this.splitview=new QR(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a}),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const l=new iP(n,o,(e=>this.splitview.getViewSize(e)));var u;this.list=new zR(e,this.domNode,(u=i,{getHeight:e=>u.getHeight(e),getTemplateId:()=>iP.TemplateId}),[l],r),this.columnLayoutDisposable=Ai.any(...s.map((e=>e.onDidLayout)))((([e,t])=>l.layoutColumn(e,t))),this.styleElement=$s(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}oP.InstanceCount=0,(tP=eP||(eP={}))[tP.Unknown=0]="Unknown",tP[tP.Twistie=1]="Twistie",tP[tP.Element=2]="Element";class rP extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class sP{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function aP(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function lP(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function uP(e){return"boolean"==typeof e.collapsible}class cP{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new Mi,this._onDidChangeCollapseState=new Ti,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Ti,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Ti,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=fi.empty(),n={}){if(0===e.length)throw new rP(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,r){var s;void 0===n&&(n=fi.empty()),void 0===r&&(r=null!==(s=o.diffDepth)&&void 0!==s?s:0);const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,n,o);const l=[...n],u=t[t.length-1],c=new ug({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,u),...l,...a.children.slice(u+i)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(c.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,o);const d=t.slice(0,-1),h=(t,i,n)=>{if(r>0)for(let s=0;s<n;s++)t--,i--,this.spliceSmart(e,[...d,t,0],Number.MAX_SAFE_INTEGER,l[i].children,o,r-1)};let g=Math.min(a.children.length,u+i),p=l.length;for(const m of c.changes.sort(((e,t)=>t.originalStart-e.originalStart)))h(g,p,g-(m.originalStart+m.originalLength)),g=m.originalStart,p=m.modifiedStart-u,this.spliceSimple([...d,g],m.originalLength,fi.slice(l,p,p+m.modifiedLength),o);h(g,p,g)}spliceSimple(e,t,i=fi.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:r}){const{parentNode:s,listIndex:a,revealed:l,visible:u}=this.getParentNodeWithListIndex(e),c=[],d=fi.map(i,(e=>this.createTreeNode(e,s,s.visible?1:0,l,c,n))),h=e[e.length-1],g=s.children.length>0;let p=0;for(let y=h;y>=0&&y<s.children.length;y--){const e=s.children[y];if(e.visible){p=e.visibleChildIndex;break}}const m=[];let f=0,v=0;for(const y of d)m.push(y),v+=y.renderNodeCount,y.visible&&(y.visibleChildIndex=p+f++);const _=Qg(s.children,h,t,m);r?s.lastDiffIds?Qg(s.lastDiffIds,h,t,m.map((e=>r.getId(e.element).toString()))):s.lastDiffIds=s.children.map((e=>r.getId(e.element).toString())):s.lastDiffIds=void 0;let b=0;for(const y of _)y.visible&&b++;if(0!==b)for(let y=h+m.length;y<s.children.length;y++){const e=s.children[y];e.visible&&(e.visibleChildIndex-=b)}if(s.visibleChildrenCount+=f-b,l&&u){const e=_.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(s,v-e),this.list.splice(a,e,c)}if(_.length>0&&o){const e=t=>{o(t),t.children.forEach(e)};_.forEach(e)}const C=s.children.length>0;g!==C&&this.setCollapsible(e.slice(0,-1),C),this._onDidSplice.fire({insertedNodes:m,deletedNodes:_});let w=s;for(;w;){if(2===w.visibility){this.refilter();break}w=w.parent}}rerender(e){if(0===e.length)throw new rP(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,n)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&r&&!uP(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(n>-1){n=-1;break}n=e}}n>-1&&this._setCollapseState([...e,n],t)}return r}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const r=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),a=r-(-1===t?0:1);return this.list.splice(t+1,a,s.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(uP(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!uP(t)&&t.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,n,o,r){const s={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(s,i);s.visibility=a,n&&o.push(s);const l=e.children||fi.empty(),u=n&&0!==a&&!s.collapsed,c=fi.map(l,(e=>this.createTreeNode(e,s,a,u,o,r)));let d=0,h=1;for(const g of c)s.children.push(g),h+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=d++);return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=d,s.visible=2===a?d>0:1===a,s.visible?s.collapsed||(s.renderNodeCount=h):(s.renderNodeCount=0,n&&o.pop()),r&&r(s),s}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const r=i.length;e.renderNodeCount=e===this.root?0:1;let s=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const r of e.children)s=this._updateNodeAfterFilterChange(r,o,i,n&&!e.collapsed)||s,r.visible&&(r.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?s:1===o,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-r):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):aP(i)?(e.filterData=i.data,lP(i.visibility)):(e.filterData=void 0,lP(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new rP(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new rP(this.user,"Invalid tree location");const s=t.children[r];return{node:s,listIndex:i,revealed:n,visible:o&&s.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){const[r,...s]=e;if(r<0||r>t.children.length)throw new rP(this.user,"Invalid tree location");for(let a=0;a<r;a++)i+=t.children[a].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,0===s.length?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(s,t.children[r],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}}const dP=Mc("tree-item-expanded",Rc.chevronDown),hP=Mc("tree-filter-on-type-on",Rc.listFilter),gP=Mc("tree-filter-on-type-off",Rc.listSelection),pP=Mc("tree-filter-clear",Rc.close),mP=Mc("tree-item-loading",Rc.loading);var fP,vP;class _P extends dR{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function bP(e){return e instanceof dR?new _P(e):e}class CP{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Si.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(bP(e),t)}onDragOver(e,t,i,n,o=!0){const r=this.dnd.onDragOver(bP(e),t&&t.element,i,n),s=this.autoExpandNode!==t;if(s&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return r;if(s&&"boolean"!=typeof r&&r.autoExpand&&(this.autoExpandDisposable=Jr((()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof r||!r.accept||void 0===r.bubble||r.feedback){if(!o){return{accept:"boolean"==typeof r?r:r.accept,effect:"boolean"==typeof r?void 0:r.effect,feedback:[i]}}return r}if(1===r.bubble){const i=this.modelProvider(),o=i.getNodeLocation(t),r=i.getParentNodeLocation(o),s=i.getNode(r),a=r&&i.getListIndex(r);return this.onDragOver(e,s,a,n,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),u=a.getListIndex(l),c=a.getListRenderCount(l);return Object.assign(Object.assign({},r),{feedback:Gg(u,u+c)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(bP(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class wP{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}(vP=fP||(fP={})).None="none",vP.OnHover="onHover",vP.Always="always";class yP{constructor(e,t=[]){this._elements=t,this.onDidChange=Ai.forEach(e,(e=>this._elements=e))}get elements(){return this._elements}}class SP{constructor(e,t,i,n,o={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=SP.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Em,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Si.None,this.disposables=new yi,this.templateId=e.templateId,this.updateOptions(o),Ai.map(i,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=oc(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==fP.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new yi;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=na(e,ca(".monaco-tl-row")),i=na(t,ca(".monaco-tl-indent")),n=na(t,ca(".monaco-tl-twistie")),o=na(t,ca(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:Si.None,templateData:r}}renderElement(e,t,i,n){"number"==typeof n&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));const o=SP.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,i),"number"==typeof n&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),"number"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...dP.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...dP.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(ds(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new yi,n=this.modelProvider();let o=e;for(;;){const e=n.getNodeLocation(o),r=n.getParentNodeLocation(e);if(!r)break;const s=n.getNode(r),a=ca(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),i.add(wi((()=>this.renderedIndentGuides.delete(s,a)))),o=s}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach((e=>{const n=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(n);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(o){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),bi(this.disposables)}}SP.DefaultIndent=8;class DP{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new yi,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;let n;if(n="boolean"==typeof i?i?1:0:aP(i)?lP(i.visibility):i,0===n)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:pM.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=Array.isArray(i)?i:[i];for(const o of n){const e=o&&o.toString();if(void 0===e)return{data:pM.Default,visibility:!0};const t=fM(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,!0);if(t)return this._matchCount++,1===n.length?{data:t,visibility:!0}:{data:{label:e,score:t},visibility:!0}}return this.tree.options.filterOnType?2:{data:pM.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){bi(this.disposables)}}class kP{constructor(e,t,i,n,o){this.tree=e,this.view=i,this.filter=n,this.keyboardNavigationDelegate=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new Ti,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new Ti,this.enabledDisposables=new yi,this.disposables=new yi,this.domNode=ca(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(ps(this.domNode,"dragstart",(()=>this.onDragStart()))),this.messageDomNode=na(i.getHTMLElement(),ca(".monaco-list-type-filter-message")),this.labelDomNode=na(this.domNode,ca("span.label"));const r=na(this.domNode,ca(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=na(r,ca("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(ps(this.filterOnTypeDomNode,"input",(()=>this.onDidChangeFilterOnType()))),this.clearDomNode=na(r,ca("button.clear"+pP.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=it("vs/base/browser/ui/tree/abstractTree","clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new RN(this.view.getHTMLElement(),"keydown")),t=Ai.chain(e.event).filter((e=>!DR(e.target)||e.target===this.filterOnTypeDomNode)).filter((e=>"Dead"!==e.key&&!/^Media/.test(e.key))).map((e=>new Pr(e))).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter((()=>this.automaticKeyboardNavigation||this.triggered)).filter((e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(vt?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey)).forEach((e=>{e.stopPropagation(),e.preventDefault()})).event,i=this.enabledDisposables.add(new RN(this.clearDomNode,"click"));Ai.chain(Ai.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(vt?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(e=>!pM.isDefault(e.filterData)));const i=this.tree.getFocus();if(i.length>0){const e=i[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=Fs(e),i=e.clientWidth,n=i/2,o=this.domNode.clientWidth,r=new yi;let s=this.positionClassName;const a=()=>{switch(s){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=i-o-6+"px"}},l=()=>{this.positionClassName=s,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",bi(r)};a(),this.domNode.classList.remove(s),this.domNode.classList.add("dragging"),r.add(wi((()=>this.domNode.classList.remove("dragging")))),r.add(ps(document,"dragover",(e=>(e=>{e.preventDefault();const i=e.clientX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),s=i<n?"nw":"ne",a()})(e)))),r.add(ps(this.domNode,"dragend",(()=>l()))),iT.CurrentDragAndDropData=new tT("vscode-ui"),r.add(wi((()=>iT.CurrentDragAndDropData=void 0)))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...gP.classNamesArray),this.filterOnTypeDomNode.classList.add(...hP.classNamesArray),this.filterOnTypeDomNode.title=it("vs/base/browser/ui/tree/abstractTree","disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...hP.classNamesArray),this.filterOnTypeDomNode.classList.add(...gP.classNamesArray),this.filterOnTypeDomNode.title=it("vs/base/browser/ui/tree/abstractTree","enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=it("vs/base/browser/ui/tree/abstractTree","empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=it("vs/base/browser/ui/tree/abstractTree","found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!pM.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),bi(this.disposables)}}function IP(e){let t=eP.Unknown;return zs(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=eP.Twistie:zs(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=eP.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function EP(e,t){t(e),e.children.forEach((e=>EP(e,t)))}class xP{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new Ti,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var i;!(null===(i=t)||void 0===i?void 0:i.__forceEvent)&&Pg(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach((e=>EP(e,i))),void this.set([...e.values()])}const i=new Set,n=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>EP(e,n)));const o=new Map,r=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>EP(e,r)));const s=[];for(const a of this.nodes){const e=this.identityProvider.getId(a.element).toString();if(i.has(e)){const t=o.get(e);t&&s.push(t)}else s.push(a)}if(this.nodes.length>0&&0===s.length){const e=this.getFirstViewElementWithTrait();e&&s.push(e)}this._set(s,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class LP extends OR{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(DR(e.browserEvent.target)||kR(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(o="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,o&&!n&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const i=this.tree.model,r=i.getNodeLocation(t),s=e.browserEvent.altKey;if(this.tree.setFocus([r]),i.setCollapsed(r,void 0,s),o&&n)return}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class AP extends zR{constructor(e,t,i,n,o,r,s,a){super(e,t,i,n,a),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=s}createMouseController(e){return new LP(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const n=[],o=[];let r;i.forEach(((t,i)=>{this.focusTrait.has(t)&&n.push(e+i),this.selectionTrait.has(t)&&o.push(e+i),this.anchorTrait.has(t)&&(r=e+i)})),n.length>0&&super.setFocus(jg([...super.getFocus(),...n])),o.length>0&&super.setSelection(jg([...super.getSelection(),...o])),"number"==typeof r&&super.setAnchor(r)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class NP{constructor(e,t,i,n,o={}){this._options=o,this.eventBufferer=new Mi,this.disposables=new yi,this._onWillRefilter=new Ti,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Ti;const r=new wP(i),s=new Ri,a=new Ri,l=new yP(a.event);this.renderers=n.map((e=>new SP(e,(()=>this.model),s.event,l,o)));for(let g of this.renderers)this.disposables.add(g);let u;var c,d;o.keyboardNavigationLabelProvider&&(u=new DP(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:u}),this.disposables.add(u)),this.focus=new xP((()=>this.view.getFocusedElements()[0]),o.identityProvider),this.selection=new xP((()=>this.view.getSelectedElements()[0]),o.identityProvider),this.anchor=new xP((()=>this.view.getAnchorElement()),o.identityProvider),this.view=new AP(e,t,r,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(c=()=>this.model,(d=o)&&Object.assign(Object.assign({},d),{identityProvider:d.identityProvider&&{getId:e=>d.identityProvider.getId(e.element)},dnd:d.dnd&&new CP(c,d.dnd),multipleSelectionController:d.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>d.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>d.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:d.accessibilityProvider&&Object.assign(Object.assign({},d.accessibilityProvider),{getSetSize(e){const t=c(),i=t.getNodeLocation(e),n=t.getParentNodeLocation(i);return t.getNode(n).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:d.accessibilityProvider&&d.accessibilityProvider.isChecked?e=>d.accessibilityProvider.isChecked(e.element):void 0,getRole:d.accessibilityProvider&&d.accessibilityProvider.getRole?e=>d.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>d.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>d.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:d.accessibilityProvider&&d.accessibilityProvider.getWidgetRole?()=>d.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:d.accessibilityProvider&&d.accessibilityProvider.getAriaLevel?e=>d.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:d.accessibilityProvider.getActiveDescendantId&&(e=>d.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:d.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},d.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>d.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:d.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,o),s.input=this.model.onDidChangeCollapseState;const h=Ai.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}));if(h((()=>null),null,this.disposables),a.input=Ai.chain(Ai.any(h,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]})).event,!1!==o.keyboardSupport){const e=Ai.chain(this.view.onKeyDown).filter((e=>!DR(e.target))).map((e=>new Pr(e)));e.filter((e=>15===e.keyCode)).on(this.onLeftArrow,this,this.disposables),e.filter((e=>17===e.keyCode)).on(this.onRightArrow,this,this.disposables),e.filter((e=>10===e.keyCode)).on(this.onSpace,this,this.disposables)}if(o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||ER;this.typeFilterController=new kP(this,this.model,this.view,u,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=$s(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===fP.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Ai.map(this.view.onMouseDblClick,IP)}get onPointer(){return Ai.map(this.view.onPointer,IP)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===fP.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join("\n"),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map((e=>this.model.getNode(e)));this.selection.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map((e=>this.model.getNode(e)));this.focus.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const e=this.model.getParentNodeLocation(n);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){bi(this.disposables),this.view.dispose()}}class TP{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new cP(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=fi.empty(),i={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=fi.empty(),i){const n=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{var t;if(null===e.element)return;const r=e;if(n.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();o.add(e),this.nodesByIdentity.set(e,r)}null===(t=i.onDidCreateNode)||void 0===t||t.call(i,r)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const r=e;if(n.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}null===(t=i.onDidDeleteNode)||void 0===t||t.call(i,r)}}))}preserveCollapseState(e=fi.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),fi.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const i="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,n=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new rP(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new rP(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new rP(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new rP(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function OP(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:fi.map(fi.from(e.children),OP),collapsible:e.collapsible,collapsed:e.collapsed}}function FP(e){const t=[e.element],i=e.incompressible||!1;let n,o;for(;[o,n]=fi.consume(fi.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:fi.map(fi.concat(o,n),FP),collapsible:e.collapsible,collapsed:e.collapsed}}function MP(e,t=0){let i;return i=t<e.element.elements.length-1?[MP(e,t+1)]:fi.map(fi.from(e.children),(e=>MP(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:i,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:i,collapsible:e.collapsible,collapsed:e.collapsed}}function RP(e){return MP(e,0)}function PP(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:fi.map(fi.from(e.children),(e=>PP(e,t,i)))})}class BP{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new TP(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=fi.empty(),i){const n=i.diffIdentityProvider&&(o=i.diffIdentityProvider,{getId:e=>e.elements.map((e=>o.getId(e).toString())).join("\0")});var o;if(null===e){const e=fi.map(t,this.enabled?FP:OP);return void this._setChildren(null,e,{diffIdentityProvider:n,diffDepth:1/0})}const r=this.nodes.get(e);if(!r)throw new Error("Unknown compressed tree node");const s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),u=PP(RP(s),e,t),c=(this.enabled?FP:OP)(u),d=l.children.map((e=>e===s?c:e));this._setChildren(l.element,d,{diffIdentityProvider:n,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=fi.map(t,RP),n=fi.map(i,e?FP:OP);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{for(const t of e.element.elements)n.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)n.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new rP(this.user,`Tree element not found: ${e}`);return t}}const WP=e=>e[e.length-1];class VP{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new VP(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class HP{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||WP;const n=e=>this.elementMapper(e.elements);this.nodeMapper=new sP((e=>new VP(n,e))),this.model=new BP(e,function(e,t){return{splice(i,n,o){t.splice(i,n,o.map((t=>e.map(t))))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},filter:t.filter&&{filter:(i,n)=>t.filter.filter(e(i),n)}})}(n,i))}get onDidSplice(){return Ai.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return Ai.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return Ai.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}setChildren(e,t=fi.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}class zP extends NP{constructor(e,t,i,n,o={}){super(e,t,i,n,o)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=fi.empty(),i){this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new TP(e,t,i)}}class KP{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);r>3&&s&&Object.defineProperty(t,i,s)}([O_],KP.prototype,"compressedTreeNodeProvider",null);class UP extends zP{constructor(e,t,i,n,o={}){const r=()=>this;super(e,t,i,n.map((e=>new KP(r,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}(r,o))}setChildren(e,t=fi.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new HP(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var jP=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function qP(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function $P(e,t){return!!t.parent&&(t.parent===e||$P(e,t.parent))}class GP{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new GP(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class ZP{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...mP.classNamesArray),!0):(t.classList.remove(...mP.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function YP(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function JP(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class XP extends dR{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function QP(e){return e instanceof dR?new XP(e):e}class eB{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(QP(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(QP(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(QP(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function tB(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new eB(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function iB(e,t){t(e),e.children.forEach((e=>iB(e,t)))}class nB{constructor(e,t,i,n,o,r={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Ti,this._onDidChangeNodeSlowState=new Ti,this.nodeMapper=new sP((e=>new GP(e))),this.disposables=new yi,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=void 0!==r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,i,n,r),this.root=qP({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return Ai.map(this.tree.onDidChangeFocus,YP)}get onDidChangeSelection(){return Ai.map(this.tree.onDidChangeSelection,YP)}get onMouseDblClick(){return Ai.map(this.tree.onMouseDblClick,JP)}get onPointer(){return Ai.map(this.tree.onPointer,JP)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){const r=new wP(i),s=n.map((e=>new ZP(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=tB(o)||{};return new zP(e,t,r,s,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return jP(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return jP(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new rP(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ai.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,n,o),i)try{this.tree.rerender(r)}catch(s){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return jP(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new rP(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ai.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield Ai.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield Ai.toPromise(this._onDidRender.event)),n}))}setSelection(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new rP(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return jP(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)}))}refreshNode(e,t,i){return jP(this,void 0,void 0,(function*(){let n;return this.subTreeRefreshPromises.forEach(((o,r)=>{!n&&function(e,t){return e===t||$P(e,t)||$P(t,e)}(r,e)&&(n=o.then((()=>this.refreshNode(e,t,i))))})),n||this.doRefreshSubTree(e,t,i)}))}doRefreshSubTree(e,t,i){return jP(this,void 0,void 0,(function*(){let n;e.refreshPromise=new Promise((e=>n=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield os.settled(o.map((e=>this.doRefreshSubTree(e,t,i))))}finally{n()}}))}doRefreshNode(e,t,i){return jP(this,void 0,void 0,(function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=Yr(800);t.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),n=this.doGetChildren(e).finally((()=>t.cancel()))}else n=Promise.resolve(fi.empty());try{const o=yield n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),di(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=jr((()=>jP(this,void 0,void 0,(function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(li))}setChildren(e,t,i,n){const o=[...t];if(0===e.children.length&&0===o.length)return[];const r=new Map,s=new Map;for(const u of e.children)if(r.set(u.element,u),this.identityProvider){const e=this.tree.isCollapsed(u);s.set(u.id,{node:u,collapsed:e})}const a=[],l=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=qP({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,a.push(i)),i}const l=this.identityProvider.getId(t).toString(),u=s.get(l);if(u){const e=u.node;return r.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?u.collapsed?(e.children.forEach((e=>iB(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const c=qP({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(c),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(c),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?a.push(c):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(c.collapsedByDefault=!1,a.push(c)),c}));for(const u of r.values())iB(u,(e=>this.nodes.delete(e.element)));for(const u of l)this.nodes.set(u.element,u);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t,i){const n=e.children.map((e=>this.asTreeElement(e,t))),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?fi.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class oB{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new oB(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class rB{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...mP.classNamesArray),!0):(t.classList.remove(...mP.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=bi(this.disposables)}}class sB extends nB{constructor(e,t,i,n,o,r,s={}){super(e,t,i,o,r,s),this.compressionDelegate=n,this.compressibleNodeMapper=new sP((e=>new oB(e))),this.filter=s.filter}createTree(e,t,i,n,o){const r=new wP(i),s=n.map((e=>new rB(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&tB(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(o)||{};return new UP(e,t,r,s,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),n=e=>{const t=new Set;for(const n of e){const e=this.tree.getCompressedTreeNode(n===this.root?null:n);if(e.element)for(const n of e.element.elements)t.add(i(n.element))}return t},o=n(this.tree.getSelection()),r=n(this.tree.getFocus());super.render(e,t);const s=this.getSelection();let a=!1;const l=this.getFocus();let u=!1;const c=e=>{const t=e.element;if(t)for(let n=0;n<t.elements.length;n++){const e=i(t.elements[n].element),c=t.elements[t.elements.length-1].element;o.has(e)&&-1===s.indexOf(c)&&(s.push(c),a=!0),r.has(e)&&-1===l.indexOf(c)&&(l.push(c),u=!0)}e.children.forEach(c)};c(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(s),u&&this.setFocus(l)}processChildren(e){return this.filter&&(e=fi.filter(e,(e=>{const t=this.filter.filter(e,1),i="boolean"==typeof(n=t)?n?1:0:aP(n)?lP(n.visibility):lP(n);var n;if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i}))),super.processChildren(e)}}class aB extends NP{constructor(e,t,i,n,o,r={}){super(e,t,i,n,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}createModel(e,t,i){return new TP(e,t,i)}}const lB=new Cf("isWindows",ft,it("vs/platform/contextkey/common/contextkeys","isWindows","Whether the operating system is Windows"));var uB=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},cB=function(e,t){return function(i,n){t(i,n,e)}};const dB=pr("listService");let hB=class{constructor(e){this._themeService=e,this.disposables=new yi,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new FR($s(),"");this.disposables.add(zM(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Ci(e.onDidFocus((()=>this._lastFocusedWidget=e)),wi((()=>this.lists.splice(this.lists.indexOf(i),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==i)),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)})))}dispose(){this.disposables.dispose()}};hB=uB([cB(0,Wv)],hB);const gB=new Cf("listFocus",!0),pB=new Cf("listSupportsMultiselect",!0),mB=Qm.and(gB,Qm.not("inputFocus")),fB=new Cf("listHasSelectionOrFocus",!1),vB=new Cf("listDoubleSelection",!1),_B=new Cf("listMultiSelection",!1),bB=new Cf("listSelectionNavigation",!1);function CB(e,t){const i=e.createScoped(t.getHTMLElement());return gB.bindTo(i),i}const wB="workbench.list.horizontalScrolling",yB="workbench.tree.indent",SB="workbench.list.smoothScrolling",DB="workbench.list.mouseWheelScrollSensitivity",kB="workbench.list.fastScrollSensitivity",IB="workbench.tree.expandMode";function EB(e){return"alt"===e.getValue("workbench.list.multiSelectModifier")}class xB extends Si{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=EB(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this.useAltAsMultipleSelectionModifier=EB(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:AR(e)}isSelectionRangeChangeEvent(e){return NR(e)}}function LB(e,t,i){var n;const o=new yi;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>i.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(t.getValue(SB)),mouseWheelScrollSensitivity:t.getValue(DB),fastScrollSensitivity:t.getValue(kB),multipleSelectionController:null!==(n=e.multipleSelectionController)&&void 0!==n?n:o.add(new xB(t))}),o]}let AB=class extends zR{constructor(e,t,i,n,o,r,s,a,l,u){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(l.getValue(wB)),[d,h]=LB(o,l,u);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},WM(a.getColorTheme(),KM)),d),{horizontalScrolling:c})),this.disposables.add(h),this.contextKeyService=CB(r,this),this.themeService=a,this.listSupportsMultiSelect=pB.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);bB.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=fB.bindTo(this.contextKeyService),this.listDoubleSelection=vB.bindTo(this.contextKeyService),this.listMultiSelection=_B.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=EB(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=EB(l));let t={};if(e.affectsConfiguration(wB)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(wB));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(SB)){const e=Boolean(l.getValue(SB));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(DB)){const e=l.getValue(DB);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(kB)){const e=l.getValue(kB);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new FB(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=zM(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};AB=uB([cB(5,wf),cB(6,dB),cB(7,Wv),cB(8,Ph),cB(9,JT)],AB);let NB=class extends class{constructor(e,t,i,n,o={}){const r=()=>this.model,s=n.map((e=>new KR(e,r)));this.list=new zR(e,t,i,s,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new UR(e,t.accessibilityProvider)})}(r,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Ai.map(this.list.onMouseDblClick,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onPointer(){return Ai.map(this.list.onPointer,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onDidChangeSelection(){return Ai.map(this.list.onDidChangeSelection,(({elements:e,indexes:t,browserEvent:i})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:i})))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Gg(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((e=>this.model.get(e)))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,i,n,o,r,s,a,l,u){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(l.getValue(wB)),[d,h]=LB(o,l,u);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},WM(a.getColorTheme(),KM)),d),{horizontalScrolling:c})),this.disposables=new yi,this.disposables.add(h),this.contextKeyService=CB(r,this),this.themeService=a,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=pB.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);bB.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=EB(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add(zM(this,a,o.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=EB(l));let t={};if(e.affectsConfiguration(wB)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(wB));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(SB)){const e=Boolean(l.getValue(SB));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(DB)){const e=l.getValue(DB);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(kB)){const e=l.getValue(kB);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new FB(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=zM(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};NB=uB([cB(5,wf),cB(6,dB),cB(7,Wv),cB(8,Ph),cB(9,JT)],NB);let TB=class extends oP{constructor(e,t,i,n,o,r,s,a,l,u,c){const d=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(u.getValue(wB)),[h,g]=LB(r,u,c);super(e,t,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},WM(l.getColorTheme(),KM)),h),{horizontalScrolling:d})),this.disposables=new yi,this.disposables.add(g),this.contextKeyService=CB(s,this),this.themeService=l,this.listSupportsMultiSelect=pB.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport);bB.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=fB.bindTo(this.contextKeyService),this.listDoubleSelection=vB.bindTo(this.contextKeyService),this.listMultiSelection=_B.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=EB(u),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(u.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=EB(u));let t={};if(e.affectsConfiguration(wB)&&void 0===this.horizontalScrolling){const e=Boolean(u.getValue(wB));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(SB)){const e=Boolean(u.getValue(SB));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(DB)){const e=u.getValue(DB);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(kB)){const e=u.getValue(kB);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new MB(this,Object.assign({configurationService:u},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=zM(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};TB=uB([cB(6,wf),cB(7,dB),cB(8,Wv),cB(9,Ph),cB(10,JT)],TB);class OB extends Si{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new Ti),this.onDidOpen=this._onDidOpen.event,this._register(Ai.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode")),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode"))})))):this.openOnSingleClick=null===(i=null==t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!=typeof t.preserveFocus||t.preserveFocus,n="boolean"==typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,i,n,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,n,t)}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class FB extends OB{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class MB extends OB{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class RB extends OB{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function PB(e,t){let i=!1;return n=>{if(i)return i=!1,!1;const o=t.softDispatch(n,e);return o&&o.enterChord?(i=!0,!1):(i=!1,!0)}}let BB=class extends zP{constructor(e,t,i,n,o,r,s,a,l,u,c){const{options:d,getAutomaticKeyboardNavigation:h,disposable:g}=KB(t,o,r,l,u,c);super(e,t,i,n,d),this.disposables.add(g),this.internals=new UB(this,o,h,o.overrideStyles,r,s,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};BB=uB([cB(5,wf),cB(6,dB),cB(7,Wv),cB(8,Ph),cB(9,JT),cB(10,oN)],BB);let WB=class extends UP{constructor(e,t,i,n,o,r,s,a,l,u,c){const{options:d,getAutomaticKeyboardNavigation:h,disposable:g}=KB(t,o,r,l,u,c);super(e,t,i,n,d),this.disposables.add(g),this.internals=new UB(this,o,h,o.overrideStyles,r,s,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};WB=uB([cB(5,wf),cB(6,dB),cB(7,Wv),cB(8,Ph),cB(9,JT),cB(10,oN)],WB);let VB=class extends aB{constructor(e,t,i,n,o,r,s,a,l,u,c,d){const{options:h,getAutomaticKeyboardNavigation:g,disposable:p}=KB(t,r,s,u,c,d);super(e,t,i,n,o,h),this.disposables.add(p),this.internals=new UB(this,r,g,r.overrideStyles,s,a,l,u,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};VB=uB([cB(6,wf),cB(7,dB),cB(8,Wv),cB(9,Ph),cB(10,JT),cB(11,oN)],VB);let HB=class extends nB{constructor(e,t,i,n,o,r,s,a,l,u,c,d){const{options:h,getAutomaticKeyboardNavigation:g,disposable:p}=KB(t,r,s,u,c,d);super(e,t,i,n,o,h),this.disposables.add(p),this.internals=new UB(this,r,g,r.overrideStyles,s,a,l,u,d),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};HB=uB([cB(6,wf),cB(7,dB),cB(8,Wv),cB(9,Ph),cB(10,JT),cB(11,oN)],HB);let zB=class extends sB{constructor(e,t,i,n,o,r,s,a,l,u,c,d,h){const{options:g,getAutomaticKeyboardNavigation:p,disposable:m}=KB(t,s,a,c,d,h);super(e,t,i,n,o,r,g),this.disposables.add(m),this.internals=new UB(this,s,p,s.overrideStyles,a,l,u,c,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function KB(e,t,i,n,o,r){var s;const a=()=>{let e=Boolean(i.getContextKeyValue("listAutomaticKeyboardNavigation"));return e&&(e=Boolean(n.getValue("workbench.list.automaticKeyboardNavigation"))),e},l=r.isScreenReaderOptimized(),u=t.simpleKeyboardNavigation||l?"simple":n.getValue("workbench.list.keyboardNavigation"),c=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(wB)),[d,h]=LB(t,n,o),g=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:h,options:Object.assign(Object.assign({keyboardSupport:!1},d),{indent:"number"==typeof n.getValue(yB)?n.getValue(yB):void 0,renderIndentGuides:n.getValue("workbench.tree.renderIndentGuides"),smoothScrolling:Boolean(n.getValue(SB)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:"simple"===u,filterOnType:"filter"===u,horizontalScrolling:c,keyboardNavigationEventFilter:PB(e,o),additionalScrollHeight:g,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(s=t.expandOnlyOnTwistieClick)&&void 0!==s?s:"doubleClick"===n.getValue(IB)})}}zB=uB([cB(7,wf),cB(8,dB),cB(9,Wv),cB(10,Ph),cB(11,JT),cB(12,oN)],zB);let UB=class{constructor(e,t,i,n,o,r,s,a,l){this.tree=e,this.themeService=s,this.disposables=[],this.contextKeyService=CB(o,e),this.listSupportsMultiSelect=pB.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);bB.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=fB.bindTo(this.contextKeyService),this.hasDoubleSelection=vB.bindTo(this.contextKeyService),this.hasMultiSelection=_B.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=EB(a);const u=new Set;u.add("listAutomaticKeyboardNavigation");const c=()=>{const t=l.isScreenReaderOptimized()?"simple":a.getValue("workbench.list.keyboardNavigation");e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(n),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0)})),a.onDidChangeConfiguration((n=>{let o={};if(n.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=EB(a)),n.affectsConfiguration(yB)){const e=a.getValue(yB);o=Object.assign(Object.assign({},o),{indent:e})}if(n.affectsConfiguration("workbench.tree.renderIndentGuides")){const e=a.getValue("workbench.tree.renderIndentGuides");o=Object.assign(Object.assign({},o),{renderIndentGuides:e})}if(n.affectsConfiguration(SB)){const e=Boolean(a.getValue(SB));o=Object.assign(Object.assign({},o),{smoothScrolling:e})}if(n.affectsConfiguration("workbench.list.keyboardNavigation")&&c(),n.affectsConfiguration("workbench.list.automaticKeyboardNavigation")&&(o=Object.assign(Object.assign({},o),{automaticKeyboardNavigation:i()})),n.affectsConfiguration(wB)&&void 0===t.horizontalScrolling){const e=Boolean(a.getValue(wB));o=Object.assign(Object.assign({},o),{horizontalScrolling:e})}if(n.affectsConfiguration(IB)&&void 0===t.expandOnlyOnTwistieClick&&(o=Object.assign(Object.assign({},o),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(IB)})),n.affectsConfiguration(DB)){const e=a.getValue(DB);o=Object.assign(Object.assign({},o),{mouseWheelScrollSensitivity:e})}if(n.affectsConfiguration(kB)){const e=a.getValue(kB);o=Object.assign(Object.assign({},o),{fastScrollSensitivity:e})}Object.keys(o).length>0&&e.updateOptions(o)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(u)&&e.updateOptions({automaticKeyboardNavigation:i()})})),l.onDidChangeScreenReaderOptimized((()=>c()))),this.navigator=new RB(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){bi(this.styler),this.styler=e?zM(this.tree,this.themeService,e):Si.None}dispose(){this.disposables=bi(this.disposables),bi(this.styler),this.styler=void 0}};UB=uB([cB(4,wf),cB(5,dB),cB(6,Wv),cB(7,Ph),cB(8,oN)],UB);var jB,qB;yh.as(kh.Configuration).registerConfiguration({id:"workbench",order:7,title:it("vs/platform/list/browser/listService","workbenchConfigurationTitle","Workbench"),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[it("vs/platform/list/browser/listService","multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),it("vs/platform/list/browser/listService","multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:it("vs/platform/list/browser/listService",{key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:it("vs/platform/list/browser/listService",{key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[wB]:{type:"boolean",default:!1,description:it("vs/platform/list/browser/listService","horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[yB]:{type:"number",default:8,minimum:0,maximum:40,description:it("vs/platform/list/browser/listService","tree indent setting","Controls tree indentation in pixels.")},"workbench.tree.renderIndentGuides":{type:"string",enum:["none","onHover","always"],default:"onHover",description:it("vs/platform/list/browser/listService","render tree indent guides","Controls whether the tree should render indent guides.")},[SB]:{type:"boolean",default:!1,description:it("vs/platform/list/browser/listService","list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[DB]:{type:"number",default:1,description:it("vs/platform/list/browser/listService","Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[kB]:{type:"number",default:5,description:it("vs/platform/list/browser/listService","Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},"workbench.list.keyboardNavigation":{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[it("vs/platform/list/browser/listService","keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),it("vs/platform/list/browser/listService","keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),it("vs/platform/list/browser/listService","keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:it("vs/platform/list/browser/listService","keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},"workbench.list.automaticKeyboardNavigation":{type:"boolean",default:!0,markdownDescription:it("vs/platform/list/browser/listService","automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[IB]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:it("vs/platform/list/browser/listService","expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}}),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(jB||(jB={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=it("vs/platform/markers/common/markers","sev.error","Error"),t[e.Warning]=it("vs/platform/markers/common/markers","sev.warning","Warning"),t[e.Info]=it("vs/platform/markers/common/markers","sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case _m.Error:return e.Error;case _m.Warning:return e.Warning;case _m.Info:return e.Info;case _m.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return _m.Error;case e.Warning:return _m.Warning;case e.Info:return _m.Info;case e.Hint:return _m.Ignore}}}(jB||(jB={})),function(e){const t="";function i(e,i){let n=[t];return e.source?n.push(e.source.replace("¦","\\¦")):n.push(t),e.code?"string"==typeof e.code?n.push(e.code.replace("¦","\\¦")):n.push(e.code.value.replace("¦","\\¦")):n.push(t),void 0!==e.severity&&null!==e.severity?n.push(jB.toString(e.severity)):n.push(t),e.message&&i?n.push(e.message.replace("¦","\\¦")):n.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?n.push(e.startLineNumber.toString()):n.push(t),void 0!==e.startColumn&&null!==e.startColumn?n.push(e.startColumn.toString()):n.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?n.push(e.endLineNumber.toString()):n.push(t),void 0!==e.endColumn&&null!==e.endColumn?n.push(e.endColumn.toString()):n.push(t),n.push(t),n.join("¦")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(qB||(qB={}));const $B=pr("markerService");class GB{constructor(){this._byResource=new Sl,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new Sl,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let r=this._byOwner.get(t);if(r&&(n=r.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:fi.empty():Ln.isUri(e)?null!==(o=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==o?o:fi.empty():fi.map(fi.concat(...this._byOwner.values()),(e=>e[1]))}}class ZB{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Sl,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===ss.inMemory||e.scheme===ss.walkThrough||e.scheme===ss.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===jB.Error?t.errors+=1:i===jB.Warning?t.warnings+=1:i===jB.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class YB{constructor(){this._onMarkerChanged=new Fi({delay:0,merge:YB._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new GB,this._stats=new ZB(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(Kg(i)){this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}else{const n=[];for(const o of i){const i=YB._toMarker(e,t,o);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:u,endColumn:c,relatedInformation:d,tags:h}=i;if(r)return a=a>0?a:1,l=l>0?l:1,u=u>=a?u:a,c=c>0?c:l,{resource:t,owner:e,code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:u,endColumn:c,relatedInformation:d,tags:h}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(YB._accept(i,n)){const e=t.push(i);if(o>0&&e===o)break}return t}return[]}if(t||i){const e=this._data.values(null!=i?i:t),r=[];for(const t of e)for(const e of t)if(YB._accept(e,n)){const t=r.push(e);if(o>0&&t===o)return r}return r}{const e=[];for(let t of this._data.values())for(let i of t)if(YB._accept(i,n)){const t=e.push(i);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new Sl;for(let i of e)for(let e of i)t.set(e,!0);return Array.from(t.keys())}}var JB,XB,QB=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};(XB=JB||(JB={}))[XB.None=0]="None",XB[XB.Initialized=1]="Initialized",XB[XB.Closed=2]="Closed";class eW extends Si{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new Ti),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=JB.None,this.cache=new Map,this.flushDelayer=new Zr(eW.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((e=>this.onDidChangeItemsExternal(e))))}onDidChangeItemsExternal(e){var t,i;null===(t=e.changed)||void 0===t||t.forEach(((e,t)=>this.accept(t,e))),null===(i=e.deleted)||void 0===i||i.forEach((e=>this.accept(e,void 0)))}accept(e,t){if(this.state===JB.Closed)return;let i=!1;if(ou(t))i=this.cache.delete(e);else{this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0)}i&&this._onDidChangeStorage.fire(e)}get(e,t){const i=this.cache.get(e);return ou(i)?t:i}getBoolean(e,t){const i=this.get(e);return ou(i)?t:"true"===i}getNumber(e,t){const i=this.get(e);return ou(i)?t:parseInt(i,10)}set(e,t){return QB(this,void 0,void 0,(function*(){if(this.state===JB.Closed)return;if(ou(t))return this.delete(e);const i=String(t);return this.cache.get(e)!==i?(this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}delete(e){return QB(this,void 0,void 0,(function*(){if(this.state===JB.Closed)return;return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return QB(this,void 0,void 0,(function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally((()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()}))}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}eW.DEFAULT_FLUSH_DELAY=100;class tW{constructor(){this.onDidChangeItemsExternal=Ai.None,this.items=new Map}updateItems(e){return QB(this,void 0,void 0,(function*(){e.insert&&e.insert.forEach(((e,t)=>this.items.set(t,e))),e.delete&&e.delete.forEach((e=>this.items.delete(e)))}))}}const iW="__$__targetStorageMarker",nW=pr("storageService");var oW,rW;(rW=oW||(oW={}))[rW.NONE=0]="NONE",rW[rW.SHUTDOWN=1]="SHUTDOWN";class sW extends Si{constructor(e={flushInterval:sW.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new Oi),this._onDidChangeTarget=this._register(new Oi),this._onWillSaveState=this._register(new Ti),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===iW?(0===e?this._globalKeyTargets=void 0:1===e&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getNumber(e,i)}store(e,t,i,n){ou(t)?this.remove(e,i):this.withPausedEmitters((()=>{var o;this.updateKeyTarget(e,i,n),null===(o=this.getStorage(i))||void 0===o||o.set(e,t)}))}remove(e,t){this.withPausedEmitters((()=>{var i;this.updateKeyTarget(e,t,void 0),null===(i=this.getStorage(t))||void 0===i||i.delete(e)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var n,o;const r=this.getKeyTargets(t);"number"==typeof i?r[e]!==i&&(r[e]=i,null===(n=this.getStorage(t))||void 0===n||n.set(iW,JSON.stringify(r))):"number"==typeof r[e]&&(delete r[e],null===(o=this.getStorage(t))||void 0===o||o.set(iW,JSON.stringify(r)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return 0===e?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(iW,e);if(t)try{return JSON.parse(t)}catch(i){}return Object.create(null)}}sW.DEFAULT_FLUSH_INTERVAL=6e4;class aW extends sW{constructor(){super(),this.globalStorage=this._register(new eW(new tW)),this.workspaceStorage=this._register(new eW(new tW)),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.globalStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e))))}getStorage(e){return 0===e?this.globalStorage:this.workspaceStorage}}var lW=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},uW=function(e,t){return function(i,n){t(i,n,e)}};let cW=class{constructor(e){this._commandService=e}createMenu(e,t,i){return new dW(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};cW=lW([uW(0,du)],cW);let dW=class e{constructor(e,t,i,n,o){this._id=e,this._options=t,this._commandService=i,this._contextKeyService=n,this._menuService=o,this._disposables=new yi,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new ts((()=>{this._build(),this._onDidChange.fire(this)}),t.eventDebounceDelay);this._disposables.add(r),this._disposables.add(Xv.onDidChangeMenu((t=>{t.has(e)&&r.schedule()})));const s=this._disposables.add(new yi);this._onDidChange=new Ti({onFirstListenerAdd:()=>{const e=new ts((()=>this._onDidChange.fire(this)),t.eventDebounceDelay);s.add(e),s.add(n.onDidChangeContext((t=>{t.affectsSome(this._contextKeys)&&e.schedule()})))},onLastListenerRemove:s.clear.bind(s)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=Xv.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._contextKeys),Zv(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(i,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Xv.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let i of this._menuGroups){const[n,o]=i,r=[];for(const t of o)if(this._contextKeyService.contextMatchesRules(t.when)){const i=Zv(t)?new e_(t.command,t.alt,e,this._contextKeyService,this._commandService):new Qv(t,this._menuService,this._contextKeyService,e);r.push(i)}r.length>0&&t.push([n,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(t,i){let n=t.group,o=i.group;if(n!==o){if(!n)return 1;if(!o)return-1;if("navigation"===n)return-1;if("navigation"===o)return 1;let e=n.localeCompare(o);if(0!==e)return e}let r=t.order||0,s=i.order||0;return r<s?-1:r>s?1:e._compareTitles(Zv(t)?t.command.title:t.title,Zv(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original,n="string"==typeof t?t:t.original;return i.localeCompare(n)}};dW=lW([uW(2,du),uW(3,wf),uW(4,Jv)],dW);var hW=function(e,t){return function(i,n){t(i,n,e)}};class gW extends Si{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(wi((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let o=0;o<n.length;o++)this._markersData.set(n[o],e[o]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let pW=class extends Si{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new Ti),this._markerDecorations=new Sl,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new gW(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==ss.inMemory&&e.uri.scheme!==ss.internal&&e.uri.scheme!==ss.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let i=t.map((t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)})));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=Hn.lift(t);return t.severity!==jB.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),e.validateRange(i)}_createDecorationOption(e){let t,i,n,o,r;switch(e.severity){case jB.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case jB.Warning:t="squiggly-warning",i=zv(Ok),n=20,r={color:zv(HD),position:Hu.Inline};break;case jB.Info:t="squiggly-info",i=zv(Fk),n=10;break;case jB.Error:default:t="squiggly-error",i=zv(Tk),n=30,r={color:zv(VD),position:Hu.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(o="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:Vu.Right},minimap:r,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};pW=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([hW(0,Ic),hW(1,$B)],pW);var mW=function(e,t){return function(i,n){t(i,n,e)}};let fW=class extends Si{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Ti,this._accessibilityModeEnabledContext=rN.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())}))),i(),this.onDidChangeScreenReaderOptimized((()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};fW=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([mW(0,wf),mW(1,Ph)],fW);var vW=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class _W{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return vW(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild(ca("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)}))}readText(e){return vW(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return vW(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return vW(this,void 0,void 0,(function*(){this.findText=e}))}}var bW=function(e,t){return function(i,n){t(i,n,e)}},CW=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function wW(e){return e.scheme===ss.file?e.fsPath:e.path}let yW=0;class SW{constructor(e,t,i,n,o,r,s){this.id=++yW,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class DW{constructor(e,t){this.resourceLabel=e,this.reason=t}}class kW{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,n]of this.elements){(0===n.reason?e:t).push(n.resourceLabel)}let i=[];return e.length>0&&i.push(it("vs/platform/undoRedo/common/undoRedoService",{key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(it("vs/platform/undoRedo/common/undoRedoService",{key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class IW{constructor(e,t,i,n,o,r,s){this.id=++yW,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new kW),this.removedResources.has(t)||this.removedResources.set(t,new DW(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new kW),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new DW(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class EW{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new ow(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let s=0,a=this._past.length;s<a;s++,n++){const r=this._past[s];i&&(n>=t||r.id!==e.elements[n])&&(i=!1,o=0),i||1!==r.type||r.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let s=this._future.length-1;s>=0;s--,n++){const o=this._future[s];i&&(n>=t||o.id!==e.elements[n])&&(i=!1,r=s),i||1!==o.type||o.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==r&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class xW{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const LW=new EW("","");LW.locked=!0;let AW=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join("\n"))}pushElement(e,t=rw.None,i=sw.None){if(0===e.type){const n=wW(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new SW(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],r=[];for(const t of e.resources){const e=wW(t),i=this.getUriComparisonKey(t);n.has(i)||(n.add(i),o.push(e),r.push(i))}1===o.length?this._pushElement(new SW(e,o[0],r[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new IW(e,o,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let o;this._editStacks.has(n)?o=this._editStacks.get(n):(o=new EW(i,n),this._editStacks.set(n,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=wW(o.resource),t=this.getUriComparisonKey(o.resource),i=new SW(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=wW(o.resource),t=this.getUriComparisonKey(o.resource),i=new SW(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);if(this._editStacks.has(n)){this._editStacks.get(n).setElementsValidFlag(t,i)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new ow(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&(r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,i=n))}return[t,i]}canUndo(e){if(e instanceof sw){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){li(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const r=this._acquireLocks(i);let s;try{s=t()}catch(a){return r(),n.dispose(),this._onError(a,e)}return s?s.then((()=>(r(),n.dispose(),o())),(t=>(r(),n.dispose(),this._onError(t,e)))):(r(),n.dispose(),o())}_invokeWorkspacePrepare(e){return CW(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return Si.None;const t=e.actual.prepareUndoRedo();return void 0===t?Si.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(Si.None);const i=e.actual.prepareUndoRedo();return i?_i(i)?t(i):i.then((e=>t(e))):t(Si.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||LW);return new xW(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new NW(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new NW}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const s of i.editStacks)s.getClosestPastElement()!==t&&o.push(s.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const s of i.editStacks)s.locked&&r.push(s.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const i=t.getSecondClosestPastElement();if(i&&i.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return CW(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const o=yield this._dialogService.show(_m.Info,it("vs/platform/undoRedo/common/undoRedoService","confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[it("vs/platform/undoRedo/common/undoRedoService",{key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),it("vs/platform/undoRedo/common/undoRedoService","nok","Undo this File"),it("vs/platform/undoRedo/common/undoRedoService","cancel","Cancel")],{cancelId:2});if(2===o.choice)return;if(1===o.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const r=this._checkWorkspaceUndo(e,t,i,!1);if(r)return r.returnValue;n=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const r=this._checkWorkspaceUndo(e,t,i,!0);if(r)return o.dispose(),r.returnValue;for(const e of i.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),i,o,(()=>this._continueUndoInGroup(t.groupId,n)))}))}_resourceUndo(e,t,i){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new xW([e]),n,(()=>this._continueUndoInGroup(t.groupId,i))))));{const e=it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&(r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,i=n))}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);return i?this._undo(i,0,t):void 0}undo(e){if(e instanceof sw){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),o=n.getClosestPastElement();if(!o)return;if(o.groupId){const[e,n]=this._findClosestUndoElementInGroup(o.groupId);if(o!==e&&n)return this._undo(n,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return 1===o.type?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{}}_confirmAndContinueUndo(e,t,i){return CW(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(_m.Info,it("vs/platform/undoRedo/common/undoRedoService","confirmDifferentSource","Would you like to undo '{0}'?",i.label),[it("vs/platform/undoRedo/common/undoRedoService","confirmDifferentSource.yes","Yes"),it("vs/platform/undoRedo/common/undoRedoService","cancel","Cancel")],{cancelId:1})).choice)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&(r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,i=n))}return[t,i]}canRedo(e){if(e instanceof sw){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new NW(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new NW}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const s of i.editStacks)s.getClosestFutureElement()!==t&&o.push(s.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const s of i.editStacks)s.locked&&r.push(s.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return CW(this,void 0,void 0,(function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),i,n,(()=>this._continueRedoInGroup(t.groupId)))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new xW([e]),i,(()=>this._continueRedoInGroup(t.groupId))))));{const e=it("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&(r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,i=n))}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof sw){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[e,t]=this._findClosestRedoElementInGroup(i.groupId);if(i!==e&&t)return this._redo(t)}try{return 1===i.type?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};AW=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([bW(0,YM),bW(1,Vf)],AW);class NW{constructor(e){this.returnValue=e}}Uh(nw,AW);const TW=new RegExp(`(\\\\)?\\$\\((${Pc.iconNameExpression}(?:${Pc.iconModifierExpression})?)\\)`,"g");function OW(e){const t=new Array;let i,n=0,o=0;for(;null!==(i=TW.exec(e));){o=i.index||0,t.push(e.substring(n,o)),n=(i.index||0)+i[0].length;const[,r,s]=i;t.push(r?`$(${s})`:FW({id:s}))}return n<e.length&&t.push(e.substring(n)),t}function FW(e){const t=ca("span");return t.classList.add(...Pc.asClassNameArray(e)),t}const MW={buttonBackground:ew.fromHex("#0E639C"),buttonHoverBackground:ew.fromHex("#006BB3"),buttonForeground:ew.white};class RW extends Si{constructor(e,t){super(),this._onDidClick=this._register(new Ti),this.options=t||Object.create(null),Au(this.options,MW,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(R_.addTarget(this._element)),[Qs.CLICK,F_.Tap].forEach((e=>{this._register(ps(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):ea.stop(e)})))})),this._register(ps(this._element,Qs.KEY_DOWN,(e=>{const t=new Pr(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&ea.stop(t,!0)}))),this._register(ps(this._element,Qs.MOUSE_OVER,(e=>{this._element.classList.contains("disabled")||this.setHoverBackground()}))),this._register(ps(this._element,Qs.MOUSE_OUT,(e=>{this.applyStyles()}))),this.focusTracker=this._register(ia(this._element)),this._register(this.focusTracker.onDidFocus((()=>this.setHoverBackground()))),this._register(this.focusTracker.onDidBlur((()=>this.applyStyles()))),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?ra(this._element,...OW(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}const PW={badgeBackground:ew.fromHex("#4D4D4D"),badgeForeground:ew.fromHex("#FFFFFF")};class BW{constructor(e,t){this.count=0,this.options=t||Object.create(null),Au(this.options,PW,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=na(e,ca(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Ca(this.countFormat,this.count),this.element.title=Ca(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}const WW={progressBarBackground:ew.fromHex("#0E70C0")};class VW extends Si{constructor(e,t){super(),this.options=t||Object.create(null),Au(this.options,WW,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new ts((()=>da(this.element)),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active","infinite","discrete"),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add("done"),this.element.classList.contains("infinite")?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove("discrete","done"),this.element.classList.add("active","infinite"),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}class HW{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const zW=new HW("id#");const KW={},UW=new HW("quick-input-button-icon-");function jW(e){if(!e)return;let t;const i=e.dark.toString();return KW[i]?t=KW[i]:(t=UW.nextId(),Ys(`.${t}`,`background-image: ${ma(e.light||e.dark)}`),Ys(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${ma(e.dark)}`),KW[i]=t),t}const qW={ctrlCmd:!1,alt:!1};var $W,GW,ZW,YW;function JW(e,t={}){const i=XW(t);return eV(i,function(e,t){const i={type:1,children:[]};let n=0,o=i;const r=[],s=new QW(e);for(;!s.eos();){let e=s.next();const i="\\"===e&&0!==iV(s.peek(),t);if(i&&(e=s.next()),!i&&tV(e,t)&&e===s.peek()){s.advance(),2===o.type&&(o=r.pop());const i=iV(e,t);if(o.type===i||5===o.type&&6===i)o=r.pop();else{const e={type:i,children:[]};5===i&&(e.index=n,n++),o.children.push(e),r.push(o),o=e}}else if("\n"===e)2===o.type&&(o=r.pop()),o.children.push({type:8});else if(2!==o.type){const t={type:2,content:e};o.children.push(t),r.push(o),o=t}else o.content+=e}2===o.type&&(o=r.pop());return i}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),i}function XW(e){const t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}(GW=$W||($W={}))[GW.Blur=1]="Blur",GW[GW.Gesture=2]="Gesture",GW[GW.Other=3]="Other",(YW=ZW||(ZW={}))[YW.NONE=0]="NONE",YW[YW.FIRST=1]="FIRST",YW[YW.SECOND=2]="SECOND",YW[YW.LAST=3]="LAST";class QW{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function eV(e,t,i,n){let o;if(2===t.type)o=document.createTextNode(t.content||"");else if(3===t.type)o=document.createElement("b");else if(4===t.type)o=document.createElement("i");else if(7===t.type&&n)o=document.createElement("code");else if(5===t.type&&i){const e=document.createElement("a");e.href="#",i.disposables.add(fs(e,"click",(e=>{i.callback(String(t.index),e)}))),o=e}else 8===t.type?o=document.createElement("br"):1===t.type&&(o=e);o&&e!==o&&e.appendChild(o),o&&Array.isArray(t.children)&&t.children.forEach((e=>{eV(o,e,i,n)}))}function tV(e,t){return 0!==iV(e,t)}function iV(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}class nV{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class oV{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new nV(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach((t=>e.push(t))),e}}const rV=ca,sV={inputBackground:ew.fromHex("#3C3C3C"),inputForeground:ew.fromHex("#CCCCCC"),inputValidationInfoBorder:ew.fromHex("#55AAFF"),inputValidationInfoBackground:ew.fromHex("#063B49"),inputValidationWarningBorder:ew.fromHex("#B89500"),inputValidationWarningBackground:ew.fromHex("#352A05"),inputValidationErrorBorder:ew.fromHex("#BE1100"),inputValidationErrorBackground:ew.fromHex("#5A1D1D")};class aV extends Ax{constructor(e,t,i){var n;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new Ti),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new Ti),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),Au(this.options,sV,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(n=this.options.tooltip)&&void 0!==n?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=na(e,rV(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",r=na(this.element,rV(".ibwrapper"));if(this.input=na(r,rV(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=na(r,rV("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new Zx(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),na(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=this._register(new RN(document,"selectionchange")),i=Ai.filter(t.event,(()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===r}));this._register(i(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new sT(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:Ws(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Rs(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t,i=()=>e.style.width=Rs(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=na(t,rV(".monaco-inputbox-container")),i();const n={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?JW(this.message.content,n):function(e,t={}){const i=XW(t);return i.textContent=e,i}(this.message.content,n);o.classList.add(this.classForType(this.message.type));const r=this.stylesForType(this.message.type);return o.style.backgroundColor=r.background?r.background.toString():"",o.style.color=r.foreground?r.foreground.toString():"",o.style.border=r.border?`1px solid ${r.border}`:"",na(e,o),null},onHide:()=>{this.state="closed"},layout:i}),t=3===this.message.type?it("vs/base/browser/ui/inputbox/inputBox","alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?it("vs/base/browser/ui/inputbox/inputBox","alertWarningMessage","Warning: {0}",this.message.content):it("vs/base/browser/ui/inputbox/inputBox","alertInfoMessage","Info: {0}",this.message.content),Ev(t),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";(e+t).replace(/\u000c/g,"")?this.mirror.textContent=e+t:this.mirror.innerText=" ",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=Ws(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class lV extends aV{constructor(e,t,i){const n=it("vs/base/browser/ui/inputbox/inputBox",{key:"history.inputbox.hint",comment:["Text will be prefixed with ⇅ plus a single space, then used as a hint where input field keeps history"]},"for history"),o=` or ⇅ ${n}`,r=` (⇅ ${n})`;super(e,t,i),this.history=new oV(i.history,100);const s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length){const e=this.placeholder.endsWith(")")?o:r,t=this.placeholder+e;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=t:this.setPlaceHolder(t)}};this.observer=new MutationObserver(((e,t)=>{e.forEach((e=>{e.target.textContent||s()}))})),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,(()=>s())),this.onblur(this.input,(()=>{const e=e=>{if(this.placeholder.endsWith(e)){const t=this.placeholder.slice(0,this.placeholder.length-e.length);return i.showPlaceholderOnFocus?this.placeholder=t:this.setPlaceHolder(t),!0}return!1};e(r)||e(o)}))}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,xv(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,xv(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const uV=ca;class cV extends Si{constructor(e){super(),this.parent=e,this.onKeyDown=e=>ps(this.inputBox.inputElement,Qs.KEY_DOWN,(t=>{e(new Pr(t))})),this.onMouseDown=e=>ps(this.inputBox.inputElement,Qs.MOUSE_DOWN,(t=>{e(new zr(t))})),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=na(this.parent,uV(".quick-input-box")),this.inputBox=this._register(new aV(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===_m.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===_m.Info?1:e===_m.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===_m.Info?1:e===_m.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}class dV{constructor(e,t){this.supportIcons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=dV.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&Nu(this.highlights,t)||(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const n=this.text.substring(t,i.start);e.push(ca("span",void 0,...this.supportIcons?OW(n):[n])),t=i.end}const n=this.text.substring(i.start,i.end),o=ca("span.highlight",void 0,...this.supportIcons?OW(n):[n]);i.extraClasses&&o.classList.add(i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(ca("span",void 0,...this.supportIcons?OW(i):[i]))}ra(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,((e,o)=>{n="\r\n"===e?-1:0,o+=i;for(const i of t)i.end<=o||(i.start>=o&&(i.start+=n),i.end>=o&&(i.end+=n));return i+=n,"⏎"}))}}class hV{constructor(e="",t=!1){var i,n,o;if(this.value=e,"string"!=typeof this.value)throw gi("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(i=t.isTrusted)&&void 0!==i?i:void 0,this.supportThemeIcons=null!==(n=t.supportThemeIcons)&&void 0!==n&&n,this.supportHtml=null!==(o=t.supportHtml)&&void 0!==o&&o)}appendText(e,t=0){var i;return this.value+=function(e){return e.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(i=e,i.replace(wM,((e,t)=>t?e:`\\${e}`))):e).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}function gV(e){return pV(e)?!e.value:!Array.isArray(e)||e.every(gV)}function pV(e){return e instanceof hV||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function mV(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}function fV(e){const t=[],i=e.split("|").map((e=>e.trim()));e=i[0];const n=i[1];if(n){const e=/height=(\d+)/.exec(n),i=/width=(\d+)/.exec(n),o=e?e[1]:"",r=i?i[1]:"",s=isFinite(parseInt(r)),a=isFinite(parseInt(o));s&&t.push(`width="${r}"`),a&&t.push(`height="${o}"`)}return{href:e,dimensions:t}}var vV=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class _V{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t){var i;return vV(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let n;if(void 0===e||Xl(e)||e instanceof HTMLElement)n=e;else if(au(e.markdown)){this._hoverWidget||this.show(it("vs/base/browser/ui/iconLabel/iconLabelHover","iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new Hi;const i=this._cancellationTokenSource.token;if(n=yield e.markdown(i),this.isDisposed||i.isCancellationRequested)return}else n=null!==(i=e.markdown)&&void 0!==i?i:e.markdownNotSupportedFallback;this.show(n,t)}))}show(e,t){const i=this._hoverWidget;if(this.hasContent(e)){const n={content:e,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i};this._hoverWidget=this.hoverDelegate.showHover(n,t)}null==i||i.dispose()}hasContent(e){return!!e&&(!pV(e)||!!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}class bV{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class CV extends Si{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new bV(na(e,ca(".monaco-icon-label")))),this.labelContainer=na(this.domNode.element,ca(".monaco-icon-label-container"));const i=na(this.labelContainer,ca("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new bV(na(this.labelContainer,ca("span.monaco-icon-description-container")))),(null==t?void 0:t.supportHighlights)||(null==t?void 0:t.supportIcons)?this.nameNode=new yV(i,!!t.supportIcons):this.nameNode=new wV(i),(null==t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new dV(na(this.descriptionContainer.element,ca("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new bV(na(this.descriptionContainer.element,ca("span.label-description")))),this.hoverDelegate=null==t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover((null==i?void 0:i.descriptionTitle)?this.labelContainer:this.element,null==i?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof dV?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==i?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==i?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const i=function(e,t,i){let n,o;const r=(t,i)=>{var r;t&&(null==o||o.dispose(),o=void 0),i&&(null==n||n.dispose(),n=void 0),null===(r=e.onDidHideHover)||void 0===r||r.call(e)},s=(n,r,s)=>new Qr((()=>vV(this,void 0,void 0,(function*(){o&&!o.isDisposed||(o=new _V(e,s||t,n>0),yield o.update(i,r))}))),n),a=ps(t,Qs.MOUSE_OVER,(()=>{if(n)return;const i=new yi;i.add(ps(t,Qs.MOUSE_LEAVE,(e=>r(!1,e.fromElement===t)),!0)),i.add(ps(t,Qs.MOUSE_DOWN,(()=>r(!0,!0)),!0));const o={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>o.x=e.x+10;i.add(ps(t,Qs.MOUSE_MOVE,e,!0))}i.add(s(e.delay,!1,o)),n=i}),!0);return{show:e=>{r(!1,!0),s(0,e)},hide:()=>{r(!0,!0)},update:e=>vV(this,void 0,void 0,(function*(){i=e,yield null==o?void 0:o.update(i)})),dispose:()=>{a.dispose(),r(!0,!0)}}}(this.hoverDelegate,e,t);i&&this.customHovers.set(e,i)}else!function(e,t){Xl(t)?e.title=t:(null==t?void 0:t.markdownNotSupportedFallback)?e.title=t.markdownNotSupportedFallback:e.removeAttribute("title")}(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class wV{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Nu(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=na(this.container,ca("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const n=e[i],o=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${i}`;na(this.container,ca("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&na(this.container,ca("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class yV{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Nu(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new dV(na(this.container,ca("a.label-name",{id:null==t?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(null==t?void 0:t.separator)||"/",n=function(e,t,i){if(!i)return;let n=0;return e.map((e=>{const o={start:n,end:n+e.length},r=i.map((e=>EF.intersect(o,e))).filter((e=>!EF.isEmpty(e))).map((({start:e,end:t})=>({start:e-n,end:t-n})));return n=o.end+t.length,r}))}(e,i,null==t?void 0:t.matches);for(let o=0;o<e.length;o++){const r=e[o],s=n?n[o]:void 0,a=ca("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${o}`,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new dV(na(this.container,a),this.supportIcons).set(r,s,void 0,null==t?void 0:t.labelEscapeNewLines),o<e.length-1&&na(a,ca("span.label-separator",void 0,i))}}}}const SV=ca;class DV{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=na(e,SV(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&DV.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(na(this.domNode,SV("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){ds(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const n=Mf.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null==i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null==i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null==i?void 0:i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null==i?void 0:i.keyCode),"")}renderKey(e,t,i,n){na(e,this.createKeyElement(t,i?".highlight":"")),n&&na(e,SV("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){na(e,this.createKeyElement(it("vs/base/browser/ui/keybindingLabel/keybindingLabel","unbound","Unbound")))}createKeyElement(e,t=""){const i=SV("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&Nu(e.firstPart,t.firstPart)&&Nu(e.chordPart,t.chordPart)}}const kV=new ns((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));function IV(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),r=function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),r=n.startsWith(i),s=o.startsWith(i);if(r!==s)return r?-1:1;if(r&&s){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}(e,t,i);if(r)return r;const s=n.endsWith(i);if(s!==o.endsWith(i))return s?-1:1;const a=function(e,t,i=!1){const n=e||"",o=t||"",r=kV.value.collator.compare(n,o);return kV.value.collatorIsNumeric&&0===r&&n!==o?n<o?-1:1:r}(n,o);return 0!==a?a:n.localeCompare(o)}var EV=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},xV=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const LV=ca;class AV{constructor(e){this.hidden=!1,this._onChecked=new Ti,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class NV{get templateId(){return NV.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=na(e,LV(".quick-input-list-entry"));const i=na(t.entry,LV("label.quick-input-list-label"));t.toDisposeTemplate.push(fs(i,Qs.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=na(i,LV("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(fs(t.checkbox,Qs.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const n=na(i,LV(".quick-input-list-rows")),o=na(n,LV(".quick-input-list-row")),r=na(n,LV(".quick-input-list-row"));t.label=new CV(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const s=na(o,LV(".quick-input-list-entry-keybinding"));t.keybinding=new DV(s,Dt);const a=na(r,LV(".quick-input-list-label-meta"));return t.detail=new dV(a,!0),t.separator=na(t.entry,LV(".quick-input-list-separator")),t.actionBar=new sT(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=bi(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked((e=>i.checkbox.checked=e)));const{labelHighlights:n,descriptionHighlights:o,detailHighlights:r}=e,s=Object.create(null);s.matches=n||[],s.descriptionTitle=e.saneDescription,s.descriptionMatches=o||[],s.extraClasses=e.item.iconClasses,s.italic=e.item.italic,s.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,s),i.keybinding.set(e.item.keybinding),i.detail.set(e.saneDetail,r),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const a=e.item.buttons;a&&a.length?(i.actionBar.push(a.map(((t,i)=>{let n=t.iconClass||(t.iconPath?jW(t.iconPath):void 0);t.alwaysVisible&&(n=n?`${n} always-visible`:"always-visible");const o=new Fv(`id-${i}`,"",n,!0,(()=>xV(this,void 0,void 0,(function*(){e.fireButtonTriggered({button:t,item:e.item})}))));return o.tooltip=t.tooltip||"",o})),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=bi(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=bi(e.toDisposeElement),e.toDisposeTemplate=bi(e.toDisposeTemplate)}}NV.ID="listelement";class TV{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return NV.ID}}var OV,FV;(FV=OV||(OV={}))[FV.First=1]="First",FV[FV.Second=2]="Second",FV[FV.Last=3]="Last",FV[FV.Next=4]="Next",FV[FV.Previous=5]="Previous",FV[FV.NextPage=6]="NextPage",FV[FV.PreviousPage=7]="PreviousPage";class MV{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Ti,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Ti,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Ti,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Ti,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Ti,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Ti,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Ti,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=na(this.parent,LV(".quick-input-list"));const n=new TV,o=new RV;this.list=i.createList("QuickInput",this.container,n,[new NV],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new Pr(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(vt?e.metaKey:e.ctrlKey)&&this.list.setFocus(Gg(this.list.length));break;case 16:const t=this.list.getFocus();1===t.length&&0===t[0]&&this._onLeave.fire();break;case 18:const i=this.list.getFocus();1===i.length&&i[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(ps(this.container,Qs.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Ai.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return Ai.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.hidden){if(!n.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=bi(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce(((i,n,o)=>{var r,s,a;if("separator"!==n.type){const l=o&&e[o-1],u=n.label&&n.label.replace(/\r?\n/g," "),c=n.meta&&n.meta.replace(/\r?\n/g," "),d=n.description&&n.description.replace(/\r?\n/g," "),h=n.detail&&n.detail.replace(/\r?\n/g," "),g=n.ariaLabel||[u,d,h].map((e=>{return(t=e)?t.replace(/\$\((.*?)\)/g,((e,t)=>` ${t} `)).trim():"";var t})).filter((e=>!!e)).join(", ");i.push(new AV({index:o,item:n,saneLabel:u,saneMeta:c,saneAriaLabel:g,saneDescription:d,saneDetail:h,labelHighlights:null===(r=n.highlights)||void 0===r?void 0:r.label,descriptionHighlights:null===(s=n.highlights)||void 0===s?void 0:s.description,detailHighlights:null===(a=n.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return i}),[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map((e=>e.onChecked((()=>this.fireCheckedEvents()))))),this.elementsToIndexes=this.elements.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===OV.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=OV.First),e===OV.Previous&&0===this.list.getFocus()[0]&&(e=OV.Last),e===OV.Second&&this.list.length<2&&(e=OV.First),e){case OV.First:this.list.focusFirst();break;case OV.Second:this.list.focusNth(1);break;case OV.Last:this.list.focusLast();break;case OV.Next:this.list.focusNext();break;case OV.Previous:this.list.focusPrevious();break;case OV.NextPage:this.list.focusNextPage();break;case OV.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let t;this.elements.forEach((i=>{const n=this.matchOnLabel?cu(EM(e,IM(i.saneLabel))):void 0,o=this.matchOnDescription?cu(EM(e,IM(i.saneDescription||""))):void 0,r=this.matchOnDetail?cu(EM(e,IM(i.saneDetail||""))):void 0,s=this.matchOnMeta?cu(EM(e,IM(i.saneMeta||""))):void 0;if(n||o||r||s?(i.labelHighlights=n,i.descriptionHighlights=o,i.detailHighlights=r,i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item.alwaysShow),i.separator=void 0,!this.sortByLabel){const e=i.index&&this.inputElements[i.index-1];t=e&&"separator"===e.type?e:t,t&&!i.hidden&&(i.separator=t,t=void 0)}}))}else this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0}));const t=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort(((e,t)=>function(e,t,i){const n=e.labelHighlights||[],o=t.labelHighlights||[];if(n.length&&!o.length)return-1;if(!n.length&&o.length)return 1;if(0===n.length&&0===o.length)return 0;return IV(e.saneLabel,t.saneLabel,i)}(e,t,i)))}return this.elementsToIndexes=t.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=bi(this.elementDisposables),this.disposables=bi(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}EV([O_],MV.prototype,"onDidChangeFocus",null),EV([O_],MV.prototype,"onDidChangeSelection",null);class RV{getWidgetAriaLabel(){return it("vs/base/parts/quickinput/browser/quickInputList","quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var PV=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const BV=ca,WV={iconClass:Mc("quick-input-back",Rc.arrowLeft).classNames,tooltip:it("vs/base/parts/quickinput/browser/quickInput","quickInput.back","Back"),handle:-1};class VV extends Si{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=VV.noPromptMessage,this._severity=_m.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Ti),this.onDidHideEmitter=this._register(new Ti),this.onDisposeEmitter=this._register(new Ti),this.visibleDisposables=this._register(new yi),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!wt;this._ignoreFocusOut=e&&!wt,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=$W.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" ");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new Qr,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===WV));this.ui.leftActionBar.push(e.map(((e,t)=>{const i=new Fv(`id-${t}`,"",e.iconClass||jW(e.iconPath),!0,(()=>PV(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==WV));this.ui.rightActionBar.push(t.map(((e,t)=>{const i=new Fv(`id-${t}`,"",e.iconClass||jW(e.iconPath),!0,(()=>PV(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,ra(this.ui.message,...OW(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?it("vs/base/parts/quickinput/browser/quickInput","quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==_m.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}VV.noPromptMessage=it("vs/base/parts/quickinput/browser/quickInput","inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class HV extends VV{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Ti),this.onWillAcceptEmitter=this._register(new Ti),this.onDidAcceptEmitter=this._register(new Ti),this.onDidCustomEmitter=this._register(new Ti),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?ZW.NONE:ZW.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Ti),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Ti),this.onDidTriggerItemButtonEmitter=this._register(new Ti),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?qW:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(OV.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{if(e===this.value)return;this._value=e;this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(OV.Next),this.canSelectMany&&this.ui.list.domFocus(),ea.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(OV.Previous):this.ui.list.focus(OV.Last),this.canSelectMany&&this.ui.list.domFocus(),ea.stop(e,!0);break;case 12:this.ui.list.focus(OV.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ea.stop(e,!0);break;case 11:this.ui.list.focus(OV.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ea.stop(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(OV.First),ea.stop(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(OV.Last),ea.stop(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Pg(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&Pg(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&Pg(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return ps(this.ui.container,Qs.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Pr(e),i=t.keyCode;this._quickNavigate.keybindings.some((e=>{const[n,o]=e.getParts();return!o&&(n.shiftKey&&4===i?!(t.ctrlKey||t.altKey||t.metaKey):!(!n.altKey||6!==i)||(!(!n.ctrlKey||5!==i)||!(!n.metaKey||57!==i)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const n=this.ariaLabel||this.placeholder||HV.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case ZW.NONE:this._itemActivation=ZW.FIRST;break;case ZW.SECOND:this.ui.list.focus(OV.Second),this._itemActivation=ZW.FIRST;break;case ZW.LAST:this.ui.list.focus(OV.Last),this._itemActivation=ZW.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(OV.First)),this.keepScrollPosition&&(this.scrollTop=e)}}HV.DEFAULT_ARIA_LABEL=it("vs/base/parts/quickinput/browser/quickInput","quickInputBox.ariaLabel","Type to narrow down results.");class zV extends Si{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Ti),this.onDidCustomEmitter=this._register(new Ti),this.onDidTriggerButtonEmitter=this._register(new Ti),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Ti),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Ti),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(ps(window,Qs.KEY_DOWN,e,!0)),this._register(ps(window,Qs.KEY_UP,e,!0)),this._register(ps(window,Qs.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=na(this.parentElement,BV(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=$s(e),i=na(e,BV(".quick-input-titlebar")),n=this._register(new sT(i));n.domNode.classList.add("quick-input-left-action-bar");const o=na(i,BV(".quick-input-title")),r=this._register(new sT(i));r.domNode.classList.add("quick-input-right-action-bar");const s=na(e,BV(".quick-input-description")),a=na(e,BV(".quick-input-header")),l=na(a,BV("input.quick-input-check-all"));l.type="checkbox",this._register(fs(l,Qs.CHANGE,(e=>{const t=l.checked;y.setAllVisibleChecked(t)}))),this._register(ps(l,Qs.CLICK,(e=>{(e.x||e.y)&&h.setFocus()})));const u=na(a,BV(".quick-input-description")),c=na(a,BV(".quick-input-and-message")),d=na(c,BV(".quick-input-filter")),h=this._register(new cV(d));h.setAttribute("aria-describedby",`${this.idPrefix}message`);const g=na(d,BV(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const p=new BW(g,{countFormat:it("vs/base/parts/quickinput/browser/quickInput",{key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),m=na(d,BV(".quick-input-count"));m.setAttribute("aria-live","polite");const f=new BW(m,{countFormat:it("vs/base/parts/quickinput/browser/quickInput",{key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),v=na(a,BV(".quick-input-action")),_=new RW(v);_.label=it("vs/base/parts/quickinput/browser/quickInput","ok","OK"),this._register(_.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const b=na(a,BV(".quick-input-action")),C=new RW(b);C.label=it("vs/base/parts/quickinput/browser/quickInput","custom","Custom"),this._register(C.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const w=na(c,BV(`#${this.idPrefix}message.quick-input-message`)),y=this._register(new MV(e,this.idPrefix+"list",this.options));this._register(y.onChangedAllVisibleChecked((e=>{l.checked=e}))),this._register(y.onChangedVisibleCount((e=>{p.setCount(e)}))),this._register(y.onChangedCheckedCount((e=>{f.setCount(e)}))),this._register(y.onLeave((()=>{setTimeout((()=>{h.setFocus(),this.controller instanceof HV&&this.controller.canSelectMany&&y.clearFocus()}),0)}))),this._register(y.onDidChangeFocus((()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")})));const S=new VW(e);S.getContainer().classList.add("quick-input-progress");const D=ia(e);return this._register(D),this._register(ps(e,Qs.FOCUS,(e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0}),!0)),this._register(D.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide($W.Blur),this.previousFocusElement=void 0}))),this._register(ps(e,Qs.FOCUS,(e=>{h.setFocus()}))),this._register(ps(e,Qs.KEY_DOWN,(t=>{const i=new Pr(t);switch(i.keyCode){case 3:ea.stop(t,!0),this.onDidAcceptEmitter.fire();break;case 9:ea.stop(t,!0),this.hide($W.Gesture);break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const o=e.querySelectorAll(n.join(", "));i.shiftKey&&i.target===o[0]?(ea.stop(t,!0),o[o.length-1].focus()):i.shiftKey||i.target!==o[o.length-1]||(ea.stop(t,!0),o[0].focus())}}}))),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:o,description1:s,description2:u,rightActionBar:r,checkAll:l,filterContainer:d,inputBox:h,visibleCountContainer:g,visibleCount:p,countContainer:m,count:f,okContainer:v,ok:_,message:w,customButtonContainer:b,customButton:C,list:y,progressBar:S,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},i=Bi.None){return new Promise(((n,o)=>{let r=e=>{r=n,t.onKeyMods&&t.onKeyMods(s.keyMods),n(e)};if(i.isCancellationRequested)return void r(void 0);const s=this.createQuickPick();let a;const l=[s,s.onDidAccept((()=>{if(s.canSelectMany)r(s.selectedItems.slice()),s.hide();else{const e=s.activeItems[0];e&&(r(e),s.hide())}})),s.onDidChangeActive((e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)})),s.onDidChangeSelection((e=>{if(!s.canSelectMany){const t=e[0];t&&(r(t),s.hide())}})),s.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=s.items.indexOf(e.item);if(-1!==t){const e=s.items.slice(),i=e.splice(t,1),n=s.activeItems.filter((e=>e!==i[0])),o=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=e,n&&(s.activeItems=n),s.keepScrollPosition=o}}})))),s.onDidChangeValue((e=>{!a||e||1===s.activeItems.length&&s.activeItems[0]===a||(s.activeItems=[a])})),i.onCancellationRequested((()=>{s.hide()})),s.onDidHide((()=>{bi(l),r(void 0)}))];s.title=t.title,s.canSelectMany=!!t.canPickMany,s.placeholder=t.placeHolder,s.ignoreFocusOut=!!t.ignoreFocusLost,s.matchOnDescription=!!t.matchOnDescription,s.matchOnDetail=!!t.matchOnDetail,s.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,s.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,s.quickNavigate=t.quickNavigate,s.contextKey=t.contextKey,s.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,s.busy=!1,s.items=e,s.canSelectMany&&(s.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(s.activeItems=[a])})),s.show(),Promise.resolve(e).then(void 0,(e=>{o(e),s.hide()}))}))}createQuickPick(){const e=this.getUI();return new HV(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(_m.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),ra(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const n=this.options.backKeybindingLabel();WV.tooltip=n?it("vs/base/parts/quickinput/browser/quickInput","quickInput.backWithKeybinding","Back ({0})",n):it("vs/base/parts/quickinput/browser/quickInput","quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;if(i){const n=!(null===(t=this.ui)||void 0===t?void 0:t.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",n||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,zV.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const r=[];this.styles.list.pickerGroupBorder&&r.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&r.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(r.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&r.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&r.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&r.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&r.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&r.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),r.push("}"));const s=r.join("\n");s!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=s)}}}var KV,UV;zV.MAX_WIDTH=600,(UV=KV||(KV={}))[UV.PRESERVE=0]="PRESERVE",UV[UV.LAST=1]="LAST";const jV={Quickaccess:"workbench.contributions.quickaccess"};yh.add(jV.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),wi((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return zg([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}});const qV=pr("quickInputService");var $V=function(e,t){return function(i,n){t(i,n,e)}};let GV=class extends Si{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=yh.as(jV.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[o,r]=this.getOrInstantiateProvider(e),s=this.visibleQuickAccess,a=null==s?void 0:s.descriptor;if(s&&r&&a===r)return e===r.prefix||(null==i?void 0:i.preserveValue)||(s.picker.value=e),void this.adjustValueSelection(s.picker,r,i);if(r&&!(null==i?void 0:i.preserveValue)){let t;if(s&&a&&a!==r){const e=s.value.substr(a.prefix.length);e&&(t=`${r.prefix}${e}`)}if(!t){const e=null==o?void 0:o.defaultFilterValue;e===KV.LAST?t=this.lastAcceptedPickerValues.get(r):"string"==typeof e&&(t=`${r.prefix}${e}`)}"string"==typeof t&&(e=t)}const l=new yi,u=l.add(this.quickInputService.createQuickPick());let c,d;u.value=e,this.adjustValueSelection(u,r,i),u.placeholder=null==r?void 0:r.placeholder,u.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,u.hideInput=!!u.quickNavigate&&!s,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(u.itemActivation=null!==(n=null==i?void 0:i.itemActivation)&&void 0!==n?n:ZW.SECOND),u.contextKey=null==r?void 0:r.contextKey,u.filterValue=e=>e.substring(r?r.prefix.length:0),(null==r?void 0:r.placeholder)&&(u.ariaLabel=null==r?void 0:r.placeholder),t&&(c=new Promise((e=>d=e)),l.add(mi(u.onWillAccept)((e=>{e.veto(),u.hide()})))),l.add(this.registerPickerListeners(u,o,r,e));const h=l.add(new Hi);return o&&l.add(o.provide(u,h.token)),mi(u.onDidHide)((()=>{0===u.selectedItems.length&&h.cancel(),l.dispose(),null==d||d(u.selectedItems)})),u.show(),t?c:void 0}adjustValueSelection(e,t,i){var n;let o;o=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n){const o=new yi,r=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add(wi((()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),o.add(e.onDidChangeValue((e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):r.value=e}))),i&&o.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(i,e.value)}))),o}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};GV=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([$V(0,qV),$V(1,hr)],GV);var ZV=function(e,t){return function(i,n){t(i,n,e)}};let YV=class extends $v{constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(GV))),this._quickAccess}createController(e=this.layoutService,t){var i,n;const o={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance(AB,e,t,i,n,o),styles:this.computeStyles()},r=this._register(new zV(Object.assign(Object.assign({},o),t)));return r.layout(e.dimension,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0),this._register(e.onDidLayout((t=>{var i,n;return r.layout(t,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0)}))),this._register(r.onShow((()=>this.resetContextKeys()))),this._register(r.onHide((()=>this.resetContextKeys()))),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new Cf(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},i=Bi.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},WM(this.theme,{quickInputBackground:aS,quickInputForeground:lS,quickInputTitleBackground:uS,contrastBorder:dy,widgetShadow:fy})),inputBox:WM(this.theme,{inputForeground:_y,inputBackground:vy,inputBorder:by,inputValidationInfoBackground:Sy,inputValidationInfoForeground:Dy,inputValidationInfoBorder:ky,inputValidationWarningBackground:Iy,inputValidationWarningForeground:Ey,inputValidationWarningBorder:xy,inputValidationErrorBackground:Ly,inputValidationErrorForeground:Ay,inputValidationErrorBorder:Ny}),countBadge:WM(this.theme,{badgeBackground:Py,badgeForeground:By,badgeBorder:dy}),button:WM(this.theme,{buttonForeground:Fy,buttonBackground:My,buttonHoverBackground:Ry,buttonBorder:dy}),progressBar:WM(this.theme,{progressBarBackground:Ky}),keybindingLabel:WM(this.theme,{keybindingLabelBackground:hS,keybindingLabelForeground:gS,keybindingLabelBorder:pS,keybindingLabelBottomBorder:mS,keybindingLabelShadow:fy}),list:WM(this.theme,{listBackground:aS,listInactiveFocusForeground:CD,listInactiveSelectionIconForeground:wD,listInactiveFocusBackground:yD,listFocusOutline:hy,listInactiveFocusOutline:hy,pickerGroupBorder:dS,pickerGroupForeground:cS})}}};YV=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}([ZV(0,hr),ZV(1,wf),ZV(2,Wv),ZV(3,oN),ZV(4,GM)],YV);var JV=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},XV=function(e,t){return function(i,n){t(i,n,e)}};let QV=class extends YV{constructor(e,t,i,n,o,r){super(t,i,n,o,r),this.host=void 0;const s=tH.get(e);this.host={_serviceBrand:void 0,get container(){return s.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};QV=JV([XV(1,hr),XV(2,wf),XV(3,Wv),XV(4,oN),XV(5,GM)],QV);let eH=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(QV,e);this.mapEditorToService.set(e,t),mi(e.onDidDispose)((()=>{i.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=Bi.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};eH=JV([XV(0,hr),XV(1,fr)],eH);class tH{constructor(e){this.editor=e,this.widget=new iH(this.editor)}static get(e){return e.getContribution(tH.ID)}dispose(){this.widget.dispose()}}tH.ID="editor.controller.quickInput";class iH{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return iH.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var nH;iH.ID="editor.contrib.quickInputWidget",p_(tH.ID,tH),function(e){const t=new nN;class i{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=i;let n=[];function o(e,t){let o=new i(e,t);return n.push(o),o}e.init=function(e){let t=new nN;for(const[n,o]of Kh)t.set(n,o);for(let n in e)e.hasOwnProperty(n)&&t.set(pr(n),e[n]);n.forEach((i=>t.set(i.id,i.get(e))));let i=new eR(t,!0);return t.set(hr,i),[t,i]},e.instantiationService=o(hr,(()=>new eR(t,!0)));const r=new gv;e.configurationService=o(Ph,(()=>r)),e.resourceConfigurationService=o(Fg,(()=>new pv(r))),e.resourcePropertiesService=o(Mg,(()=>new mv(r))),e.contextService=o(Hf,(()=>new vv)),e.labelService=o(iR,(()=>new Cv)),e.telemetryService=o(t_,(()=>new fv)),e.dialogService=o(YM,(()=>new lv)),e.notificationService=o(Vf,(()=>new uv)),e.markerService=o($B,(()=>new YB)),e.modeService=o(Id,(e=>new SO)),e.standaloneThemeService=o(YT,(()=>new fF)),e.logService=o(ip,(()=>new lp(new ap))),e.undoRedoService=o(nw,(t=>new AW(e.dialogService.get(t),e.notificationService.get(t)))),e.languageConfigurationService=o($h,(t=>new Gh(e.configurationService.get(t),e.modeService.get(t)))),e.modelService=o(Ic,(t=>new qO(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t),e.modeService.get(t),e.languageConfigurationService.get(t)))),e.markerDecorationsService=o(Av,(t=>new pW(e.modelService.get(t),e.markerService.get(t)))),e.contextKeyService=o(wf,(t=>new kF(e.configurationService.get(t)))),e.codeEditorService=o(fr,(t=>new lO(null,e.contextKeyService.get(t),e.standaloneThemeService.get(t)))),e.editorProgressService=o(ET,(()=>new av)),e.storageService=o(nW,(()=>new aW)),e.editorWorkerService=o(kd,(t=>new hp(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t))))}(nH||(nH={}));class oH extends Si{constructor(e,t){super();const[i,n]=nH.init(t);this._serviceCollection=i,this._instantiationService=n;const o=this.get(Ph),r=this.get(Vf),s=this.get(t_),a=this.get(Wv),l=this.get(ip),u=this.get(wf);let c=(e,i)=>{let n=null;return t&&(n=t[e.toString()]),n||(n=i()),this._serviceCollection.set(e,n),n};c(oN,(()=>new fW(u,o))),c(dB,(()=>new hB(a)));let d=c(du,(()=>new cv(this._instantiationService))),h=c(JT,(()=>this._register(new dv(u,d,s,r,l,e)))),g=c(GM,(()=>new wv(nH.codeEditorService.get(fr),e)));c(qV,(()=>new eH(n,nH.codeEditorService.get(fr))));let p=c(wT,(()=>this._register(new ZM(g))));c(kT,(()=>new _W)),c(yT,(()=>{const e=new $M(s,r,p,h,a);return e.configure({blockMouse:!1}),this._register(e)})),c(Jv,(()=>new cW(d))),c(ym,(()=>new bv(nH.modelService.get(Ic))))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function rH(e,t,i){let n=new oH(e,t),o=null;n.has(Ed)||(o=new sv(nH.modelService.get()),n.set(Ed,o)),n.has(fu)||n.set(fu,new Du(n.get(fr),n.get(du)));let r=i(n);return o&&o.setEditor(r),r}function sH(e,t,i){return rH(e,i||{},(i=>new mO(e,t,i,i.get(hr),i.get(fr),i.get(du),i.get(wf),i.get(JT),i.get(wT),i.get(YT),i.get(Vf),i.get(Ph),i.get(oN),i.get(Ic),i.get(Id))))}function aH(e){return nH.codeEditorService.get().onCodeEditorAdd((t=>{e(t)}))}function lH(e,t,i){return rH(e,i||{},(i=>new fO(e,t,i,i.get(hr),i.get(wf),i.get(JT),i.get(wT),i.get(kd),i.get(fr),i.get(YT),i.get(Vf),i.get(Ph),i.get(yT),i.get(ET),i.get(kT))))}function uH(e,t){return new Fu(e,t)}function cH(e,t,i){return vO(nH.modelService.get(),nH.modeService.get(),e,t,i)}function dH(e,t){nH.modelService.get().setMode(e,nH.modeService.get().create(t))}function hH(e,t,i){e&&nH.markerService.get().changeOne(t,e.uri,i)}function gH(e){return nH.markerService.get().read(e)}function pH(e){return nH.markerService.get().onMarkerChanged(e)}function mH(e){return nH.modelService.get().getModel(e)}function fH(){return nH.modelService.get().getModels()}function vH(e){return nH.modelService.get().onModelAdded(e)}function _H(e){return nH.modelService.get().onModelRemoved(e)}function bH(e){return nH.modelService.get().onModelModeChanged((t=>{e({model:t.model,oldLanguage:t.oldModeId})}))}function CH(e){return function(e,t){return new bp(e,t)}(nH.modelService.get(),e)}function wH(e,t){const i=nH.standaloneThemeService.get();return i.registerEditorContainer(e),gm.colorizeElement(i,nH.modeService.get(),e,t)}function yH(e,t,i){return nH.standaloneThemeService.get().registerEditorContainer(document.body),gm.colorize(nH.modeService.get(),e,t,i)}function SH(e,t,i=4){return nH.standaloneThemeService.get().registerEditorContainer(document.body),gm.colorizeModelLine(e,t,i)}function DH(e,t){nH.modeService.get().triggerMode(t);let i=(n=t,Cd.get(n)||{getInitialState:()=>wd,tokenize:(e,t,i,o)=>Sd(n,0,i,o)});var n;let o=La(e),r=[],s=i.getInitialState();for(let a=0,l=o.length;a<l;a++){let e=o[a],t=i.tokenize(e,!0,s,0);r[a]=t.tokens,s=t.endState}return r}function kH(e,t){nH.standaloneThemeService.get().defineTheme(e,t)}function IH(e){nH.standaloneThemeService.get().setTheme(e)}function EH(){L_.INSTANCE.clearCache()}function xH(e,t){return hu.registerCommand({id:e,handler:t})}function LH(e,t){return"boolean"==typeof e?e:t}function AH(e,t){return"string"==typeof e?e:t}function NH(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function TH(e,t){t=t.replace(/@@/g,"");let i,n=0;do{i=!1,t=t.replace(/@(\w+)/g,(function(n,o){i=!0;let r="";if("string"==typeof e[o])r=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?Qp(e,"language definition does not contain attribute '"+o+"', used at: "+t):Qp(e,"attribute reference '"+o+"' must be a string, used at: "+t);r=e[o].source}return Yp(r)?"":"(?:"+r+")"})),n++}while(i&&n<5);t=t.replace(/\x01/g,"@");let o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function OH(e,t,i,n){let o=-1,r=i,s=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(o=parseInt(s[3]),s[2]&&(o+=100)),r=s[4]);let a,l="~",u=r;if(r&&0!==r.length?/^\w*$/.test(u)?l="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],u=s[2])):(l="!=",u=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(u))if("@"===l||"!@"===l){let i=e[u];if(!i)throw Qp(e,"the @ match target '"+u+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const i of t)if(!e(i))return!1;return!0}((function(e){return"string"==typeof e}),i))throw Qp(e,"the @ match target '"+u+"' must be an array of strings, in rule: "+t);let n=NH(i,e.ignoreCase);a=function(e){return"@"===l?n(e):!n(e)}}else if("~"===l||"!~"===l)if(u.indexOf("$")<0){let t=TH(e,"^"+u+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,o){return TH(e,"^"+em(e,u,i,n,o)+"$").test(t)};else if(u.indexOf("$")<0){let t=Jp(e,u);a=function(e){return"=="===l?e===t:e!==t}}else{let t=Jp(e,u);a=function(i,n,o,r,s){let a=em(e,t,n,o,r);return"=="===l?i===a:i!==a}}else{let t=NH(u.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){let r=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;let e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,o);return a(r||"",e,t,i,n)}}}function FH(e,t,i){if(i){if("string"==typeof i)return i;if(i.token||""===i.token){if("string"!=typeof i.token)throw Qp(e,"a 'token' attribute must be of type string, in rule: "+t);{let n={token:i.token};if(i.token.indexOf("$")>=0&&(n.tokenSubst=!0),"string"==typeof i.bracket)if("@open"===i.bracket)n.bracket=1;else{if("@close"!==i.bracket)throw Qp(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);n.bracket=-1}if(i.next){if("string"!=typeof i.next)throw Qp(e,"the next state must be a string value in rule: "+t);{let o=i.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}(e,em(e,o,"",[],""))))throw Qp(e,"the next state '"+i.next+"' is not defined in rule: "+t);n.next=o}}return"number"==typeof i.goBack&&(n.goBack=i.goBack),"string"==typeof i.switchTo&&(n.switchTo=i.switchTo),"string"==typeof i.log&&(n.log=i.log),"string"==typeof i.nextEmbedded&&(n.nextEmbedded=i.nextEmbedded,e.usesEmbedded=!0),n}}if(Array.isArray(i)){let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=FH(e,t,i[o]);return{group:n}}if(i.cases){let n=[];for(let r in i.cases)if(i.cases.hasOwnProperty(r)){const o=FH(e,t,i.cases[r]);"@default"===r||"@"===r||""===r?n.push({test:void 0,value:o,name:r}):"@eos"===r?n.push({test:function(e,t,i,n){return n},value:o,name:r}):n.push(OH(e,t,r,o))}const o=e.defaultToken;return{test:function(e,t,i,r){for(const o of n){if(!o.test||o.test(e,t,i,r))return o.value}return o}}}throw Qp(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class MH{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw Qp(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=TH(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=FH(e,this.name,t)}}function RH(e){QA.registerLanguage(e)}function PH(){let e=[];return e=e.concat(QA.getLanguages()),e}function BH(e){return nH.modeService.get().languageIdCodec.encodeLanguageId(e)}function WH(e,t){let i=nH.modeService.get().onDidEncounterLanguage((n=>{n===e&&(i.dispose(),t())}));return i}function VH(e,t){const i=nH.modeService.get().validateLanguageId(e);if(!i)throw new Error(`Cannot set configuration for unknown language ${e}`);return Xh.register(i,t,100)}class HH{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i,n){if("function"==typeof this._actual.tokenize)return zH.adaptTokenize(this._languageId,this._actual,e,i,n);throw new Error("Not supported!")}tokenize2(e,t,i){let n=this._actual.tokenizeEncoded(e,i);return new jn(n.tokens,n.endState)}}class zH{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._modeService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,i){let n=[],o=0;for(let r=0,s=e.length;r<s;r++){const s=e[r];let a=s.startIndex;0===r?a=0:a<o&&(a=o),n[r]=new Kn(a+i,s.scopes,t),o=a}return n}static adaptTokenize(e,t,i,n,o){let r,s=t.tokenize(i,n),a=zH._toClassicTokens(s.tokens,e,o);return r=s.endState.equals(n)?n:s.endState,new Un(a,r)}tokenize(e,t,i,n){return zH.adaptTokenize(this._languageId,this._actual,e,i,n)}_toBinaryTokens(e,t,i){const n=e.encodeLanguageId(this._languageId),o=this._standaloneThemeService.getColorTheme().tokenTheme;let r=[],s=0,a=0;for(let u=0,c=t.length;u<c;u++){const e=t[u],l=o.match(n,e.scopes);if(s>0&&r[s-1]===l)continue;let c=e.startIndex;0===u?c=0:c<a&&(c=a),r[s++]=c+i,r[s++]=l,a=c}let l=new Uint32Array(s);for(let u=0;u<s;u++)l[u]=r[u];return l}tokenize2(e,t,i,n){let o,r=this._actual.tokenize(e,i),s=this._toBinaryTokens(this._modeService.languageIdCodec,r.tokens,n);return o=r.endState.equals(i)?i:r.endState,new jn(s,o)}}function KH(e){return e&&"function"==typeof e.then}function UH(e){if(e){const t=[null];for(let i=1,n=e.length;i<n;i++)t[i]=ew.fromHex(e[i]);nH.standaloneThemeService.get().setColorMapOverride(t)}else nH.standaloneThemeService.get().setColorMapOverride(null)}function jH(e,t){const i=nH.modeService.get().validateLanguageId(e);if(!i)throw new Error(`Cannot set tokens provider for unknown language ${e}`);const n=e=>function(e){return"tokenizeEncoded"in e}(e)?new HH(i,e):new zH(i,e,nH.modeService.get(),nH.standaloneThemeService.get());return KH(t)?Cd.registerPromise(e,t.then((e=>n(e)))):Cd.register(e,n(t))}function qH(e,t){const i=t=>function(e,t,i,n){return new um(e,t,i,n)}(nH.modeService.get(),nH.standaloneThemeService.get(),e,function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=e,i.includeLF=LH(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=LH(t.ignoreCase,!1),i.unicode=LH(t.unicode,!1),i.tokenPostfix=AH(t.tokenPostfix,"."+i.languageId),i.defaultToken=AH(t.defaultToken,"source"),i.usesEmbedded=!1;let n=t;function o(e,r,s){for(const a of s){let s=a.include;if(s){if("string"!=typeof s)throw Qp(i,"an 'include' attribute must be a string at: "+e);if("@"===s[0]&&(s=s.substr(1)),!t.tokenizer[s])throw Qp(i,"include target '"+s+"' is not defined at: "+e);o(e+"."+s,r,t.tokenizer[s])}else{const t=new MH(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(n,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(n,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw Qp(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(n,e)}}else t.setAction(n,a[1]);else{if(!a.regex)throw Qp(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=LH(a.matchOnlyAtLineStart,!1)),t.setRegex(n,a.regex),t.setAction(n,a.action)}r.push(t)}}}if(n.languageId=e,n.includeLF=i.includeLF,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw Qp(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let s in t.tokenizer)if(t.tokenizer.hasOwnProperty(s)){i.start||(i.start=s);const e=t.tokenizer[s];i.tokenizer[s]=new Array,o("tokenizer."+s,i.tokenizer[s],e)}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Qp(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let r=[];for(let s of t.brackets){let e=s;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw Qp(i,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw Qp(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");r.push({token:e.token+i.tokenPostfix,open:Jp(i,e.open),close:Jp(i,e.close)})}return i.brackets=r,i.noThrow=!0,i}(e,t));return KH(t)?Cd.registerPromise(e,t.then((e=>i(e)))):Cd.register(e,i(t))}function $H(e,t){return Zc.register(e,t)}function GH(e,t){return Yc.register(e,t)}function ZH(e,t){return Qc.register(e,t)}function YH(e,t){return ed.register(e,{provideHover:(e,i,n)=>{let o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then((e=>{if(e)return!e.range&&o&&(e.range=new Hn(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new Hn(i.lineNumber,i.column,i.lineNumber,i.column)),e}))}})}function JH(e,t){return td.register(e,t)}function XH(e,t){return id.register(e,t)}function QH(e,t){return nd.register(e,t)}function ez(e,t){return od.register(e,t)}function tz(e,t){return sd.register(e,t)}function iz(e,t){return ad.register(e,t)}function nz(e,t){return ld.register(e,t)}function oz(e,t,i){return cd.register(e,{providedCodeActionKinds:null==i?void 0:i.providedCodeActionKinds,provideCodeActions:(e,i,n,o)=>{let r=nH.markerService.get().read({resource:e.uri}).filter((e=>Hn.areIntersectingOrTouching(e,i)));return t.provideCodeActions(e,i,{markers:r,only:n.only},o)},resolveCodeAction:t.resolveCodeAction})}function rz(e,t){return dd.register(e,t)}function sz(e,t){return hd.register(e,t)}function az(e,t){return gd.register(e,t)}function lz(e,t){return pd.register(e,t)}function uz(e,t){return Jc.register(e,t)}function cz(e,t){return md.register(e,t)}function dz(e,t){return vd.register(e,t)}function hz(e,t){return rd.register(e,t)}function gz(e,t){return fd.register(e,t)}function pz(e,t){return _d.register(e,t)}function mz(e,t){return bd.register(e,t)}function fz(e,t){return Xc.register(e,t)}function vz(e,t){return ud.register(e,t)}class _z{static _handleEolEdits(e,t){let i,n=[];for(let o of t)"number"==typeof o.eol&&(i=o.eol),o.range&&"string"==typeof o.text&&n.push(o);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();const n=_z._handleEolEdits(e,t);1===n.length&&_z._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map((e=>zm.replace(Hn.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",n.map((e=>zm.replaceMove(Hn.lift(e.range),e.text)))),i&&e.pushUndoStop()}}class bz{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var Cz,wz=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function yz(e){if(!(e=e.filter((e=>e.range))).length)return;let{range:t}=e[0];for(let o=1;o<e.length;o++)t=Hn.plusRange(t,e[o].range);const{startLineNumber:i,endLineNumber:n}=t;i===n?1===e.length?Ev(it("vs/editor/contrib/format/format","hint11","Made 1 formatting edit on line {0}",i)):Ev(it("vs/editor/contrib/format/format","hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?Ev(it("vs/editor/contrib/format/format","hint1n","Made 1 formatting edit between lines {0} and {1}",i,n)):Ev(it("vs/editor/contrib/format/format","hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,n))}function Sz(e){const t=[],i=new Set,n=dd.ordered(e);for(const r of n)t.push(r),r.extensionId&&i.add(bz.toKey(r.extensionId));const o=hd.ordered(e);for(const r of o){if(r.extensionId){if(i.has(bz.toKey(r.extensionId)))continue;i.add(bz.toKey(r.extensionId))}t.push({displayName:r.displayName,extensionId:r.extensionId,provideDocumentFormattingEdits:(e,t,i)=>r.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,i)})}return t}class Dz{static setFormatterSelector(e){return{dispose:Dz._selectors.unshift(e)}}static select(e,t,i){return wz(this,void 0,void 0,(function*(){if(0===e.length)return;const n=fi.first(Dz._selectors);return n?yield n(e,t,i):void 0}))}}function kz(e,t,i,n,o,r){return wz(this,void 0,void 0,(function*(){const s=e.get(hr),a=bm(t)?t.getModel():t,l=hd.ordered(a),u=yield Dz.select(l,a,n);u&&(o.report(u),yield s.invokeFunction(Iz,u,t,i,r))}))}function Iz(e,t,i,n,o){return wz(this,void 0,void 0,(function*(){const r=e.get(kd);let s,a;bm(i)?(s=i.getModel(),a=new JN(i,5,void 0,o)):(s=i,a=new XN(i,o));let l=[],u=0;for(let e of Xg(n).sort(Hn.compareRangesUsingStarts))u>0&&Hn.areIntersectingOrTouching(l[u-1],e)?l[u-1]=Hn.fromPositions(l[u-1].getStartPosition(),e.getEndPosition()):u=l.push(e);const c=e=>wz(this,void 0,void 0,(function*(){return(yield t.provideDocumentRangeFormattingEdits(s,e,s.getFormattingOptions(),a.token))||[]})),d=(e,t)=>{if(!e.length||!t.length)return!1;const i=e.reduce(((e,t)=>Hn.plusRange(e,t.range)),e[0].range);if(!t.some((e=>Hn.intersectRanges(i,e.range))))return!1;for(let n of e)for(let e of t)if(Hn.intersectRanges(n.range,e.range))return!0;return!1},h=[],g=[];try{for(let e of l){if(a.token.isCancellationRequested)return!0;g.push(yield c(e))}for(let e=0;e<l.length;++e)for(let t=e+1;t<l.length;++t){if(a.token.isCancellationRequested)return!0;if(d(g[e],g[t])){const i=Hn.plusRange(l[e],l[t]),n=yield c(i);l.splice(t,1),l.splice(e,1),l.push(i),g.splice(t,1),g.splice(e,1),g.push(n),e=0,t=0}}for(let e of g){if(a.token.isCancellationRequested)return!0;const t=yield r.computeMoreMinimalEdits(s.uri,e);t&&h.push(...t)}}finally{a.dispose()}if(0===h.length)return!1;if(bm(i))_z.execute(i,h,!0),yz(h),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1);else{const[{range:e}]=h,t=new zn(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);s.pushEditOperations([t],h.map((e=>({text:e.text,range:Hn.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(Hn.areIntersectingOrTouching(i,t))return[new zn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function Ez(e,t,i,n,o){return wz(this,void 0,void 0,(function*(){const r=e.get(hr),s=bm(t)?t.getModel():t,a=Sz(s),l=yield Dz.select(a,s,i);l&&(n.report(l),yield r.invokeFunction(xz,l,t,i,o))}))}function xz(e,t,i,n,o){return wz(this,void 0,void 0,(function*(){const r=e.get(kd);let s,a,l;bm(i)?(s=i.getModel(),a=new JN(i,5,void 0,o)):(s=i,a=new XN(i,o));try{const e=yield t.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token);if(l=yield r.computeMoreMinimalEdits(s.uri,e),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||0===l.length)return!1;if(bm(i))_z.execute(i,l,2!==n),2!==n&&(yz(l),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1));else{const[{range:e}]=l,t=new zn(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);s.pushEditOperations([t],l.map((e=>({text:e.text,range:Hn.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(Hn.areIntersectingOrTouching(i,t))return[new zn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function Lz(e,t,i,n,o){const r=gd.ordered(t);return 0===r.length||r[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(r[0].provideOnTypeFormattingEdits(t,i,n,o,Bi.None)).catch(ui).then((i=>e.computeMoreMinimalEdits(t.uri,i)))}Dz._selectors=new Ei,hu.registerCommand("_executeFormatRangeProvider",(function(e,...t){return wz(this,void 0,void 0,(function*(){const[i,n,o]=t;ru(Ln.isUri(i)),ru(Hn.isIRange(n));const r=e.get(Ed),s=e.get(kd),a=yield r.createModelReference(i);try{return function(e,t,i,n,o){return wz(this,void 0,void 0,(function*(){const r=hd.ordered(t);for(const s of r){let r=yield Promise.resolve(s.provideDocumentRangeFormattingEdits(t,i,n,o)).catch(ui);if(Ug(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}(s,a.object.textEditorModel,Hn.lift(n),o,Bi.None)}finally{a.dispose()}}))})),hu.registerCommand("_executeFormatDocumentProvider",(function(e,...t){return wz(this,void 0,void 0,(function*(){const[i,n]=t;ru(Ln.isUri(i));const o=e.get(Ed),r=e.get(kd),s=yield o.createModelReference(i);try{return function(e,t,i,n){return wz(this,void 0,void 0,(function*(){const o=Sz(t);for(const r of o){let o=yield Promise.resolve(r.provideDocumentFormattingEdits(t,i,n)).catch(ui);if(Ug(o))return yield e.computeMoreMinimalEdits(t.uri,o)}}))}(r,s.object.textEditorModel,n,Bi.None)}finally{s.dispose()}}))})),hu.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){return wz(this,void 0,void 0,(function*(){const[i,n,o,r]=t;ru(Ln.isUri(i)),ru(Vn.isIPosition(n)),ru("string"==typeof o);const s=e.get(Ed),a=e.get(kd),l=yield s.createModelReference(i);try{return Lz(a,l.object.textEditorModel,Vn.lift(n),o,r)}finally{l.dispose()}}))})),si.wrappingIndent.defaultValue=0,si.glyphMargin.defaultValue=!1,si.autoIndent.defaultValue=3,si.overviewRulerLanes.defaultValue=2,Dz.setFormatterSelector(((e,t,i)=>Promise.resolve(e[0])));const Az=ur();Az.editor={create:sH,onDidCreateEditor:aH,createDiffEditor:lH,createDiffNavigator:uH,createModel:cH,setModelLanguage:dH,setModelMarkers:hH,getModelMarkers:gH,onDidChangeMarkers:pH,getModels:fH,getModel:mH,onDidCreateModel:vH,onWillDisposeModel:_H,onDidChangeModelLanguage:bH,createWebWorker:CH,colorizeElement:wH,colorize:yH,colorizeModelLine:SH,tokenize:DH,defineTheme:kH,setTheme:IH,remeasureFonts:EH,registerCommand:xH,AccessibilitySupport:qn,ContentWidgetPositionPreference:io,CursorChangeReason:oo,DefaultEndOfLine:so,EditorAutoIndentStrategy:co,EditorOption:go,EndOfLinePreference:mo,EndOfLineSequence:vo,MinimapPosition:No,MouseTargetType:Oo,OverlayWidgetPositionPreference:Mo,OverviewRulerLane:Po,RenderLineNumbersType:Wo,RenderMinimap:Ho,ScrollbarVisibility:jo,ScrollType:Ko,TextEditorCursorBlinkingStyle:tr,TextEditorCursorStyle:nr,TrackedRangeStickiness:or,WrappingIndent:sr,ConfigurationChangedEvent:Ot,BareFontInfo:Pu,FontInfo:Bu,TextModelResolvedOptions:Uu,FindMatch:ju,EditorType:Wu,EditorOptions:si},Az.languages={register:RH,getLanguages:PH,onLanguage:WH,getEncodedLanguageId:BH,setLanguageConfiguration:VH,setColorMap:UH,setTokensProvider:jH,setMonarchTokensProvider:qH,registerReferenceProvider:$H,registerRenameProvider:GH,registerCompletionItemProvider:uz,registerSignatureHelpProvider:ZH,registerHoverProvider:YH,registerDocumentSymbolProvider:JH,registerDocumentHighlightProvider:XH,registerLinkedEditingRangeProvider:QH,registerDefinitionProvider:ez,registerImplementationProvider:tz,registerTypeDefinitionProvider:iz,registerCodeLensProvider:nz,registerCodeActionProvider:oz,registerDocumentFormattingEditProvider:rz,registerDocumentRangeFormattingEditProvider:sz,registerOnTypeFormattingEditProvider:az,registerLinkProvider:lz,registerColorProvider:cz,registerFoldingRangeProvider:dz,registerDeclarationProvider:hz,registerSelectionRangeProvider:gz,registerDocumentSemanticTokensProvider:pz,registerDocumentRangeSemanticTokensProvider:mz,registerInlineCompletionsProvider:fz,registerInlayHintsProvider:vz,DocumentHighlightKind:lo,CompletionItemKind:Yn,CompletionItemTag:Xn,CompletionItemInsertTextRule:Gn,SymbolKind:Jo,SymbolTag:Qo,IndentAction:bo,CompletionTriggerKind:eo,SignatureHelpTriggerKind:Zo,InlayHintKind:wo,InlineCompletionTriggerKind:So,FoldingRangeKind:Gc};const Nz=Az.CancellationTokenSource,Tz=Az.Emitter,Oz=Az.KeyCode,Fz=Az.KeyMod,Mz=Az.Position,Rz=Az.Range,Pz=Az.Selection,Bz=Az.SelectionDirection,Wz=Az.MarkerSeverity,Vz=Az.MarkerTag,Hz=Az.Uri,zz=Az.Token,Kz=Az.editor,Uz=Az.languages;((null===(Cz=gt.MonacoEnvironment)||void 0===Cz?void 0:Cz.globalAPI)||"function"==typeof define&&define.amd)&&(self.monaco=Az),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var jz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CancellationTokenSource:Nz,Emitter:Tz,KeyCode:Oz,KeyMod:Fz,Position:Mz,Range:Rz,Selection:Pz,SelectionDirection:Bz,MarkerSeverity:Wz,MarkerTag:Vz,Uri:Hz,Token:zz,editor:Kz,languages:Uz}),qz={},$z={},Gz=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,i){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=i}))}return e.getOrCreate=function(t){return $z[t]||($z[t]=new e(t)),$z[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,qz[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function Zz(e){var t=e.id;qz[t]=e,Uz.register(e);var i=Gz.getOrCreate(t);Uz.setMonarchTokensProvider(t,i.whenLoaded().then((function(e){return e.language}))),Uz.onLanguage(t,(function(){i.load().then((function(e){Uz.setLanguageConfiguration(t,e.conf)}))}))}Zz({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return import("./abap.04cee626.js")}}),Zz({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return import("./apex.c5088c42.js")}}),Zz({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return import("./azcli.f36a5a36.js")}}),Zz({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return import("./bat.b5db3c5a.js")}}),Zz({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return import("./bicep.10bbd454.js")}}),Zz({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return import("./cameligo.4643cba1.js")}}),Zz({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return import("./clojure.05093b64.js")}}),Zz({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return import("./coffee.e6b3cc2d.js")}}),Zz({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return import("./cpp.fb9be509.js")}}),Zz({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return import("./cpp.fb9be509.js")}}),Zz({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return import("./csharp.4c6bb905.js")}}),Zz({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return import("./csp.c34f6a5f.js")}}),Zz({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return import("./css.bf5b171d.js")}}),Zz({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return import("./dart.c08c6112.js")}}),Zz({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return import("./dockerfile.90f1e2bd.js")}}),Zz({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return import("./ecl.ff9bc06a.js")}}),Zz({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return import("./elixir.98c735a3.js")}}),Zz({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:function(){return import("./flow9.7ec1b48c.js")}}),Zz({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return import("./fsharp.bcb0f9aa.js")}}),Zz({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return import("./go.10d06030.js")}}),Zz({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return import("./graphql.de14f35e.js")}}),Zz({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return import("./handlebars.eff50e35.js")}}),Zz({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return import("./hcl.7a957c8f.js")}}),Zz({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return import("./html.6e44ea75.js")}}),Zz({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return import("./ini.92d2a2c1.js")}}),Zz({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return import("./java.103d3538.js")}}),Zz({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return import("./javascript.6573af5e.js")}}),Zz({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return import("./julia.4ea4f3ab.js")}}),Zz({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return import("./kotlin.e8168df8.js")}}),Zz({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return import("./less.555fca60.js")}}),Zz({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return import("./lexon.d3d9455f.js")}}),Zz({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return import("./lua.3ac4467c.js")}}),Zz({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return import("./liquid.ce75ba39.js")}}),Zz({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return import("./m3.83e299c1.js")}}),Zz({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return import("./markdown.b7a37259.js")}}),Zz({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return import("./mips.0228b6ca.js")}}),Zz({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return import("./msdax.7c67ac13.js")}}),Zz({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return import("./mysql.1ef235f6.js")}}),Zz({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return import("./objective-c.fd7c4ce2.js")}}),Zz({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return import("./pascal.7391603e.js")}}),Zz({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return import("./pascaligo.88da6db0.js")}}),Zz({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return import("./perl.b03a1275.js")}}),Zz({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return import("./pgsql.797807ae.js")}}),Zz({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return import("./php.d78635cc.js")}}),Zz({id:"pla",extensions:[".pla"],loader:function(){return import("./pla.c810e83c.js")}}),Zz({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return import("./postiats.e06c71a6.js")}}),Zz({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return import("./powerquery.3c187316.js")}}),Zz({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return import("./powershell.ff9b22b6.js")}}),Zz({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:function(){return import("./protobuf.ca8217fc.js")}}),Zz({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return import("./pug.24f67c62.js")}}),Zz({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return import("./python.45737cd1.js")}}),Zz({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return import("./qsharp.6964d470.js")}}),Zz({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return import("./r.48f69ba8.js")}}),Zz({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return import("./razor.0a4b8b20.js")}}),Zz({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return import("./redis.63e820ef.js")}}),Zz({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return import("./redshift.ee5b8002.js")}}),Zz({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return import("./restructuredtext.1d425b4e.js")}}),Zz({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return import("./ruby.9a7bb539.js")}}),Zz({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return import("./rust.db6ed778.js")}}),Zz({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return import("./sb.ccc4de02.js")}}),Zz({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return import("./scala.d77338b7.js")}}),Zz({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return import("./scheme.1710a663.js")}}),Zz({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return import("./scss.707805c2.js")}}),Zz({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return import("./shell.6a2cb036.js")}}),Zz({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return import("./solidity.416ce7d4.js")}}),Zz({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return import("./sophia.eaceaefd.js")}}),Zz({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return import("./sparql.e41358d0.js")}}),Zz({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return import("./sql.69b45afa.js")}}),Zz({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return import("./st.72bf69d9.js")}}),Zz({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return import("./swift.1c5e527d.js")}}),Zz({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return import("./systemverilog.6cb1ac04.js")}}),Zz({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return import("./systemverilog.6cb1ac04.js")}}),Zz({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return import("./tcl.bf17deed.js")}}),Zz({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return import("./twig.ae4af998.js")}}),Zz({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return import("./typescript.b5fb0999.js")}}),Zz({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return import("./vb.f6325670.js")}}),Zz({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return import("./xml.962022c1.js")}}),Zz({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return import("./yaml.c587e7af.js")}});var Yz=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},Jz=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(rU){r=[6,rU],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Xz=function(){function e(e,t,i){this._onDidChange=new Tz,this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),Qz={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function eK(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===tK,documentFormattingEdits:e===tK,documentRangeFormattingEdits:e===tK}}var tK="html",iK=lK(tK,Qz,eK(tK)),nK=iK.defaults,oK=lK("handlebars",Qz,eK("handlebars")),rK=oK.defaults,sK=lK("razor",Qz,eK("razor")),aK=sK.defaults;function lK(e,t,i){var n=this;void 0===t&&(t=Qz),void 0===i&&(i=eK(e));var o,r=new Xz(e,t,i),s=Uz.onLanguage(e,(function(){return Yz(n,void 0,void 0,(function(){return Jz(this,(function(e){switch(e.label){case 0:return[4,import("./htmlMode.1d4b809d.js")];case 1:return o=e.sent().setupMode(r),[2]}}))}))}));return{defaults:r,dispose:function(){s.dispose(),null==o||o.dispose(),o=void 0}}}Uz.html={htmlDefaults:nK,razorDefaults:aK,handlebarDefaults:rK,htmlLanguageService:iK,handlebarLanguageService:oK,razorLanguageService:sK,registerHTMLLanguageService:lK};var uK,cK,dK,hK,gK,pK,mK,fK,vK,_K;(cK=uK||(uK={}))[cK.None=0]="None",cK[cK.CommonJS=1]="CommonJS",cK[cK.AMD=2]="AMD",cK[cK.UMD=3]="UMD",cK[cK.System=4]="System",cK[cK.ES2015=5]="ES2015",cK[cK.ESNext=99]="ESNext",(hK=dK||(dK={}))[hK.None=0]="None",hK[hK.Preserve=1]="Preserve",hK[hK.React=2]="React",hK[hK.ReactNative=3]="ReactNative",hK[hK.ReactJSX=4]="ReactJSX",hK[hK.ReactJSXDev=5]="ReactJSXDev",(pK=gK||(gK={}))[pK.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",pK[pK.LineFeed=1]="LineFeed",(fK=mK||(mK={}))[fK.ES3=0]="ES3",fK[fK.ES5=1]="ES5",fK[fK.ES2015=2]="ES2015",fK[fK.ES2016=3]="ES2016",fK[fK.ES2017=4]="ES2017",fK[fK.ES2018=5]="ES2018",fK[fK.ES2019=6]="ES2019",fK[fK.ES2020=7]="ES2020",fK[fK.ESNext=99]="ESNext",fK[fK.JSON=100]="JSON",fK[fK.Latest=99]="Latest",(_K=vK||(vK={}))[_K.Classic=1]="Classic",_K[_K.NodeJs=2]="NodeJs";var bK=function(){function e(e,t,i,n){this._onDidChange=new Tz,this._onDidExtraLibsChange=new Tz,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(n),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(e,t){var i,n=this;if(i=void 0===t?"ts:extralib-"+Math.random().toString(36).substring(2,15):t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:function(){}};var o=1;return this._removedExtraLibs[i]&&(o=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(o=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:o},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var e=n._extraLibs[i];e&&e.version===o&&(delete n._extraLibs[i],n._removedExtraLibs[i]=o,n._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(e){for(var t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(var i=0,n=e;i<n.length;i++){var o=n[i],r=(t=o.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),o.content),s=1;this._removedExtraLibs[t]&&(s=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:r,version:s}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout((function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)}),0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setWorkerOptions=function(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setInlayHintsOptions=function(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(e){},e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}(),CK=new bK({allowNonTsExtensions:!0,target:mK.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),wK=new bK({allowNonTsExtensions:!0,allowJs:!0,target:mK.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});function yK(){return import("./tsMode.0b84adeb.js")}Uz.typescript={ModuleKind:uK,JsxEmit:dK,NewLineKind:gK,ScriptTarget:mK,ModuleResolutionKind:vK,typescriptVersion:"4.4.4",typescriptDefaults:CK,javascriptDefaults:wK,getTypeScriptWorker:function(){return yK().then((function(e){return e.getTypeScriptWorker()}))},getJavaScriptWorker:function(){return yK().then((function(e){return e.getJavaScriptWorker()}))}},Uz.onLanguage("typescript",(function(){return yK().then((function(e){return e.setupTypeScript(CK)}))})),Uz.onLanguage("javascript",(function(){return yK().then((function(e){return e.setupJavaScript(wK)}))}));const SK=[{id:"advscript",aliases:["AdvScript","advscript"],extensions:[".adv",".avs"],configuration:Hz.parse(Xe)},{id:"fountain-script",extensions:[".adv",".avs"],configuration:Hz.parse(Xe)},{id:"typescript",extensions:[".ts",".tsx"],configuration:Hz.parse(Xe)}],DK=[{scopeName:"html",path:"${BASE_URL}textmate-syntaxes/html.plist"},{scopeName:"source.ts",path:"${BASE_URL}textmate-syntaxes/typescript.plist",language:"typescript"},{scopeName:"css",path:"${BASE_URL}textmate-syntaxes/css.plist"},{language:"fountain-script",scopeName:"text.source.fountain.script",path:"/advscript-playground/assets/fountain.tmlanguage.324510d2.json",injections:["inline-expression.injection","todo-comment.injection","text.source.advscript"],embeddedLanguages:{"text.source.advscript":"text.source.advscript","source.ts":"typescript","text.html.basic":"text.html.basic"}},{language:"advscript",scopeName:"text.source.advscript",path:"/advscript-playground/assets/advscript.tmLanguage.9329ef4f.json",injections:["inline-expression.injection","todo-comment.injection","text.source.fountain.script"],embeddedLanguages:{"source.fountain":"text.source.fountain.script","source.ts":"typescript"}},{scopeName:"todo-comment.injection",path:"/advscript-playground/assets/injection.797254ea.json",injectTo:["text.source.advscript","text.source.fountain.script"]},{scopeName:"inline-expression.injection",path:"/advscript-playground/assets/injection-inline-expression.tmLanguage.81fa504f.json",injectTo:["text.source.advscript","text.source.fountain.script"],embeddedLanguages:{"source.ts":"typescript","source.advscript":"advscript"}}];var kK={exports:{}};!function(e){e.exports&&(e.exports=function(){var e={};function i(i,n){var o={exports:{}},r=function(i){return e[i]?e[i].exports:t(i)};n.call(this,r,o,o.exports),e[i]=o}return i("./utils",(function(e,t,i){function n(e){return o(e)}function o(e){return Array.isArray(e)?r(e):"object"==typeof e?s(e):e}function r(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=o(e[i]);return t}function s(e){var t={};for(var i in e)t[i]=o(e[i]);return t}function a(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.forEach((function(t){for(var i in t)e[i]=t[i]})),e}function l(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t==e.length-1?l(e.substring(0,e.length-1)):e.substr(1+~t)}Object.defineProperty(i,"__esModule",{value:!0}),i.clone=n,i.mergeObjects=a,i.basename=l;var u=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,c=function(){function e(){}return e.hasCaptures=function(e){return null!==e&&u.test(e)},e.replaceCaptures=function(e,t,i){return e.replace(u,(function(e,n,o,r){var s=i[parseInt(n||o,10)];if(!s)return e;for(var a=t.substring(s.start,s.end);"."===a[0];)a=a.substring(1);switch(r){case"downcase":return a.toLowerCase();case"upcase":return a.toUpperCase();default:return a}}))},e}();i.RegexSource=c})),i("./theme",(function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t,i,n,o,r){this.scope=e,this.parentScopes=t,this.index=i,this.fontStyle=n,this.foreground=o,this.background=r}return e}();function o(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function r(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];for(var t=e.settings,i=[],r=0,s=0,a=t.length;s<a;s++){var l=t[s];if(l.settings){var u=void 0;u="string"==typeof l.scope?l.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):Array.isArray(l.scope)?l.scope:[""];var c=-1;if("string"==typeof l.settings.fontStyle){c=0;for(var d=0,h=(m=l.settings.fontStyle.split(" ")).length;d<h;d++)switch(m[d]){case"italic":c|=1;break;case"bold":c|=2;break;case"underline":c|=4}}var g=null;"string"==typeof l.settings.foreground&&o(l.settings.foreground)&&(g=l.settings.foreground);var p=null;for("string"==typeof l.settings.background&&o(l.settings.background)&&(p=l.settings.background),d=0,h=u.length;d<h;d++){var m,f=(m=u[d].trim().split(" "))[m.length-1],v=null;m.length>1&&(v=m.slice(0,m.length-1)).reverse(),i[r++]=new n(f,v,s,c,g,p)}}}return i}function s(e,t){e.sort((function(e,t){var i=u(e.scope,t.scope);return 0!==i||0!==(i=c(e.parentScopes,t.parentScopes))?i:e.index-t.index}));for(var i=0,n="#000000",o="#ffffff";e.length>=1&&""===e[0].scope;){var r=e.shift();-1!==r.fontStyle&&(i=r.fontStyle),null!==r.foreground&&(n=r.foreground),null!==r.background&&(o=r.background)}for(var s=new a(t),g=new d(0,null,i,s.getId(n),s.getId(o)),p=new h(new d(0,null,-1,0,0),[]),m=0,f=e.length;m<f;m++){var v=e[m];p.insert(0,v.scope,v.parentScopes,v.fontStyle,s.getId(v.foreground),s.getId(v.background))}return new l(s,g,p)}i.ParsedThemeRule=n,i.parseTheme=r;var a=function(){function e(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(var t=0,i=e.length;t<i;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}return e.prototype.getId=function(e){if(null===e)return 0;e=e.toUpperCase();var t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error("Missing color in color map - "+e);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}();i.ColorMap=a;var l=function(){function e(e,t,i){this._colorMap=e,this._root=i,this._defaults=t,this._cache={}}return e.createFromRawTheme=function(e,t){return this.createFromParsedTheme(r(e),t)},e.createFromParsedTheme=function(e,t){return s(e,t)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype.getDefaults=function(){return this._defaults},e.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},e}();function u(e,t){return e<t?-1:e>t?1:0}function c(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;var i=e.length,n=t.length;if(i===n){for(var o=0;o<i;o++){var r=u(e[o],t[o]);if(0!==r)return r}return 0}return i-n}i.Theme=l,i.strcmp=u,i.strArrCmp=c;var d=function(){function e(e,t,i,n,o){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=i,this.foreground=n,this.background=o}return e.prototype.clone=function(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},e.cloneArr=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=e[i].clone();return t},e.prototype.acceptOverwrite=function(e,t,i,n){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==i&&(this.foreground=i),0!==n&&(this.background=n)},e}();i.ThemeTrieElementRule=d;var h=function(){function e(e,t,i){void 0===t&&(t=[]),void 0===i&&(i={}),this._mainRule=e,this._rulesWithParentScopes=t,this._children=i}return e._sortBySpecificity=function(e){return 1===e.length||e.sort(this._cmpBySpecificity),e},e._cmpBySpecificity=function(e,t){if(e.scopeDepth===t.scopeDepth){var i=e.parentScopes,n=t.parentScopes,o=null===i?0:i.length,r=null===n?0:n.length;if(o===r)for(var s=0;s<o;s++){var a=i[s].length,l=n[s].length;if(a!==l)return l-a}return r-o}return t.scopeDepth-e.scopeDepth},e.prototype.match=function(t){if(""===t)return e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var i,n,o=t.indexOf(".");return-1===o?(i=t,n=""):(i=t.substring(0,o),n=t.substring(o+1)),this._children.hasOwnProperty(i)?this._children[i].match(n):e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},e.prototype.insert=function(t,i,n,o,r,s){if(""!==i){var a,l,u,c=i.indexOf(".");-1===c?(a=i,l=""):(a=i.substring(0,c),l=i.substring(c+1)),this._children.hasOwnProperty(a)?u=this._children[a]:(u=new e(this._mainRule.clone(),d.cloneArr(this._rulesWithParentScopes)),this._children[a]=u),u.insert(t+1,l,n,o,r,s)}else this._doInsertHere(t,n,o,r,s)},e.prototype._doInsertHere=function(e,t,i,n,o){if(null!==t){for(var r=0,s=this._rulesWithParentScopes.length;r<s;r++){var a=this._rulesWithParentScopes[r];if(0===c(a.parentScopes,t))return void a.acceptOverwrite(e,i,n,o)}-1===i&&(i=this._mainRule.fontStyle),0===n&&(n=this._mainRule.foreground),0===o&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new d(e,t,i,n,o))}else this._mainRule.acceptOverwrite(e,i,n,o)},e}();i.ThemeTrieElement=h})),i("./matcher",(function(e,t,i){function n(e,t){for(var i=[],n=r(e),s=n.next();null!==s;){var a=0;if(2===s.length&&":"===s.charAt(1)){switch(s.charAt(0)){case"R":a=1;break;case"L":a=-1;break;default:console.log("Unknown priority "+s+" in scope selector")}s=n.next()}var l=c();if(i.push({matcher:l,priority:a}),","!==s)break;s=n.next()}return i;function u(){if("-"===s){s=n.next();var e=u();return function(t){return!!e&&!e(t)}}if("("===s){s=n.next();var i=d();return")"===s&&(s=n.next()),i}if(o(s)){var r=[];do{r.push(s),s=n.next()}while(o(s));return function(e){return t(r,e)}}return null}function c(){for(var e=[],t=u();t;)e.push(t),t=u();return function(t){return e.every((function(e){return e(t)}))}}function d(){for(var e=[],t=c();t&&(e.push(t),"|"===s||","===s);){do{s=n.next()}while("|"===s||","===s);t=c()}return function(t){return e.some((function(e){return e(t)}))}}}function o(e){return!!e&&!!e.match(/[\w\.:]+/)}function r(e){var t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,i=t.exec(e);return{next:function(){if(!i)return null;var n=i[0];return i=t.exec(e),n}}}Object.defineProperty(i,"__esModule",{value:!0}),i.createMatchers=n})),i("./debug",(function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.DebugFlags={InDebugMode:"undefined"!=typeof process&&!!process.env.VSCODE_TEXTMATE_DEBUG}})),i("./json",(function(e,t,i){function n(e,t){throw new Error("Near offset "+e.pos+": "+t+" ~~~"+e.source.substr(e.pos,50)+"~~~")}function o(e,t,i){var o=new r(e),l=new s,u=0,c=null,d=[],h=[];function g(){d.push(u),h.push(c)}function p(){u=d.pop(),c=h.pop()}function m(e){n(o,e)}for(;a(o,l);){if(0===u){if(null!==c&&m("too many constructs in root"),3===l.type){c={},i&&(c.$vscodeTextmateLocation=l.toLocation(t)),g(),u=1;continue}if(2===l.type){c=[],g(),u=4;continue}m("unexpected token in root")}if(2===u){if(5===l.type){p();continue}if(7===l.type){u=3;continue}m("expected , or }")}if(1===u||3===u){if(1===u&&5===l.type){p();continue}if(1===l.type){var f=l.value;if(a(o,l)&&6===l.type||m("expected colon"),a(o,l)||m("expected value"),u=2,1===l.type){c[f]=l.value;continue}if(8===l.type){c[f]=null;continue}if(9===l.type){c[f]=!0;continue}if(10===l.type){c[f]=!1;continue}if(11===l.type){c[f]=parseFloat(l.value);continue}if(2===l.type){var v=[];c[f]=v,g(),u=4,c=v;continue}if(3===l.type){var _={};i&&(_.$vscodeTextmateLocation=l.toLocation(t)),c[f]=_,g(),u=1,c=_;continue}}m("unexpected token in dict")}if(5===u){if(4===l.type){p();continue}if(7===l.type){u=6;continue}m("expected , or ]")}if(4===u||6===u){if(4===u&&4===l.type){p();continue}if(u=5,1===l.type){c.push(l.value);continue}if(8===l.type){c.push(null);continue}if(9===l.type){c.push(!0);continue}if(10===l.type){c.push(!1);continue}if(11===l.type){c.push(parseFloat(l.value));continue}if(2===l.type){v=[],c.push(v),g(),u=4,c=v;continue}if(3===l.type){_={},i&&(_.$vscodeTextmateLocation=l.toLocation(t)),c.push(_),g(),u=1,c=_;continue}m("unexpected token in array")}m("unknown state")}return 0!==h.length&&m("unclosed constructs"),c}Object.defineProperty(i,"__esModule",{value:!0}),i.parse=o;var r=function(){function e(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}return e}(),s=function(){function e(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return e.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},e}();function a(e,t){t.value=null,t.type=0,t.offset=-1,t.len=-1,t.line=-1,t.char=-1;for(var i,o=e.source,r=e.pos,s=e.len,a=e.line,l=e.char;;){if(r>=s)return!1;if(32!==(i=o.charCodeAt(r))&&9!==i&&13!==i){if(10!==i)break;r++,a++,l=0}else r++,l++}if(t.offset=r,t.line=a,t.char=l,34===i){for(t.type=1,r++,l++;;){if(r>=s)return!1;if(i=o.charCodeAt(r),r++,l++,92!==i){if(34===i)break}else r++,l++}t.value=o.substring(t.offset+1,r-1).replace(/\\u([0-9A-Fa-f]{4})/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/\\(.)/g,(function(t,i){switch(i){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:n(e,"invalid escape sequence")}throw new Error("unreachable")}))}else if(91===i)t.type=2,r++,l++;else if(123===i)t.type=3,r++,l++;else if(93===i)t.type=4,r++,l++;else if(125===i)t.type=5,r++,l++;else if(58===i)t.type=6,r++,l++;else if(44===i)t.type=7,r++,l++;else if(110===i){if(t.type=8,r++,l++,117!==(i=o.charCodeAt(r)))return!1;if(r++,l++,108!==(i=o.charCodeAt(r)))return!1;if(r++,l++,108!==(i=o.charCodeAt(r)))return!1;r++,l++}else if(116===i){if(t.type=9,r++,l++,114!==(i=o.charCodeAt(r)))return!1;if(r++,l++,117!==(i=o.charCodeAt(r)))return!1;if(r++,l++,101!==(i=o.charCodeAt(r)))return!1;r++,l++}else if(102===i){if(t.type=10,r++,l++,97!==(i=o.charCodeAt(r)))return!1;if(r++,l++,108!==(i=o.charCodeAt(r)))return!1;if(r++,l++,115!==(i=o.charCodeAt(r)))return!1;if(r++,l++,101!==(i=o.charCodeAt(r)))return!1;r++,l++}else for(t.type=11;;){if(r>=s)return!1;if(!(46===(i=o.charCodeAt(r))||i>=48&&i<=57||101===i||69===i||45===i||43===i))break;r++,l++}return t.len=r-t.offset,null===t.value&&(t.value=o.substr(t.offset,t.len)),e.pos=r,e.line=a,e.char=l,!0}})),i("./plist",(function(e,t,i){function n(e,t,i){return r(e,t,i)}function o(e){return r(e,null,null)}function r(e,t,i){var n=e.length,o=0,r=1,s=0;function a(t){if(null===i)o+=t;else for(;t>0;)10===e.charCodeAt(o)?(o++,r++,s=0):(o++,s++),t--}function l(e){null===i?o=e:a(e-o)}function u(){for(;o<n;){var t=e.charCodeAt(o);if(32!==t&&9!==t&&13!==t&&10!==t)break;a(1)}}function c(t){return e.substr(o,t.length)===t&&(a(t.length),!0)}function d(t){var i=e.indexOf(t,o);l(-1!==i?i+t.length:n)}function h(t){var i=e.indexOf(t,o);if(-1!==i){var r=e.substring(o,i);return l(i+t.length),r}return r=e.substr(o),l(n),r}n>0&&65279===e.charCodeAt(0)&&(o=1);var g=0,p=null,m=[],f=[],v=null;function _(e,t){m.push(g),f.push(p),g=e,p=t}function b(){if(0===m.length)return C("illegal state stack");g=m.pop(),p=f.pop()}function C(t){throw new Error("Near offset "+o+": "+t+" ~~~"+e.substr(o,50)+"~~~")}var w={enterDict:function(){if(null===v)return C("missing <key>");var e={};null!==i&&(e[i]={filename:t,line:r,char:s}),p[v]=e,v=null,_(1,e)},enterArray:function(){if(null===v)return C("missing <key>");var e=[];p[v]=e,v=null,_(2,e)}},y={enterDict:function(){var e={};null!==i&&(e[i]={filename:t,line:r,char:s}),p.push(e),_(1,e)},enterArray:function(){var e=[];p.push(e),_(2,e)}};function S(){1===g?w.enterDict():2===g?y.enterDict():(p={},null!==i&&(p[i]={filename:t,line:r,char:s}),_(1,p))}function D(){if(1!==g)return C("unexpected </dict>");b()}function k(){1===g?w.enterArray():2===g?y.enterArray():_(2,p=[])}function I(){return 1===g||2!==g?C("unexpected </array>"):void b()}function E(e){return 1!==g?C("unexpected <key>"):null!==v?C("too many <key>"):void(v=e)}function x(e){if(1===g){if(null===v)return C("missing <key>");p[v]=e,v=null}else 2===g?p.push(e):p=e}function L(e){if(isNaN(e))return C("cannot parse float");if(1===g){if(null===v)return C("missing <key>");p[v]=e,v=null}else 2===g?p.push(e):p=e}function A(e){if(isNaN(e))return C("cannot parse integer");if(1===g){if(null===v)return C("missing <key>");p[v]=e,v=null}else 2===g?p.push(e):p=e}function N(e){if(1===g){if(null===v)return C("missing <key>");p[v]=e,v=null}else 2===g?p.push(e):p=e}function T(e){if(1===g){if(null===v)return C("missing <key>");p[v]=e,v=null}else 2===g?p.push(e):p=e}function O(e){if(1===g){if(null===v)return C("missing <key>");p[v]=e,v=null}else 2===g?p.push(e):p=e}function F(e){return e.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,10))})).replace(/&#x([0-9a-f]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,(function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e}))}function M(){var e=h(">"),t=!1;return 47===e.charCodeAt(e.length-1)&&(t=!0,e=e.substring(0,e.length-1)),{name:e.trim(),isClosed:t}}function R(e){if(e.isClosed)return"";var t=h("</");return d(">"),F(t)}for(;o<n&&(u(),!(o>=n));){var P=e.charCodeAt(o);if(a(1),60!==P)return C("expected <");if(o>=n)return C("unexpected end of input");var B=e.charCodeAt(o);if(63!==B)if(33!==B){if(47===B){if(a(1),u(),c("plist")){d(">");continue}if(c("dict")){d(">"),D();continue}if(c("array")){d(">"),I();continue}return C("unexpected closed tag")}var W=M();switch(W.name){case"dict":S(),W.isClosed&&D();continue;case"array":k(),W.isClosed&&I();continue;case"key":E(R(W));continue;case"string":x(R(W));continue;case"real":L(parseFloat(R(W)));continue;case"integer":A(parseInt(R(W),10));continue;case"date":N(new Date(R(W)));continue;case"data":T(R(W));continue;case"true":R(W),O(!0);continue;case"false":R(W),O(!1);continue}if(!/^plist/.test(W.name))return C("unexpected opened tag "+W.name)}else{if(a(1),c("--")){d("--\x3e");continue}d(">")}else a(1),d("?>")}return p}Object.defineProperty(i,"__esModule",{value:!0}),i.parseWithLocation=n,i.parse=o})),i("./grammarReader",(function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=e("./plist"),o=e("./debug"),r=e("./json");function s(e,t){return void 0===t&&(t=null),null!==t&&/\.json$/.test(t)?a(e,t):l(e,t)}function a(e,t){return o.DebugFlags.InDebugMode?r.parse(e,t,!0):JSON.parse(e)}function l(e,t){return o.DebugFlags.InDebugMode?n.parseWithLocation(e,t,"$vscodeTextmateLocation"):n.parse(e)}i.parseRawGrammar=s})),i("./rule",(function(e,t,i){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=e("./utils"),s=/\\(\d+)/,a=/\\(\d+)/g,l=function(){function e(e,t,i){this.debugRegExps=t,this.rules=i,this.scanner=e.createOnigScanner(t)}return e.prototype.dispose=function(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()},e}();i.CompiledRule=l;var u=function(){function e(e,t,i,n){this.$location=e,this.id=t,this._name=i||null,this._nameIsCapturing=r.RegexSource.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=r.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(e.prototype,"debugName",{get:function(){var e=this.$location?r.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+e},enumerable:!0,configurable:!0}),e.prototype.getName=function(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?r.RegexSource.replaceCaptures(this._name,e,t):this._name},e.prototype.getContentName=function(e,t){return this._contentNameIsCapturing&&null!==this._contentName?r.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName},e}();i.Rule=u;var c=function(e){function t(t,i,n,o,r){var s=e.call(this,t,i,n,o)||this;return s.retokenizeCapturedWithRuleId=r,s}return o(t,e),t.prototype.dispose=function(){},t.prototype.collectPatternsRecursive=function(e,t,i){throw new Error("Not supported!")},t.prototype.compile=function(e,t,i,n){throw new Error("Not supported!")},t}(u);i.CaptureRule=c;var d=function(){function e(e,t,i){if(void 0===i&&(i=!0),i)if(e){for(var n=e.length,o=0,r=[],a=!1,l=0;l<n;l++)if("\\"===e.charAt(l)&&l+1<n){var u=e.charAt(l+1);"z"===u?(r.push(e.substring(o,l)),r.push("$(?!\\n)(?<!\\n)"),o=l+2):"A"!==u&&"G"!==u||(a=!0),l++}this.hasAnchor=a,0===o?this.source=e:(r.push(e.substring(o,n)),this.source=r.join(""))}else this.hasAnchor=!1,this.source=e;else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,this.hasBackReferences=s.test(this.source)}return e.prototype.clone=function(){return new e(this.source,this.ruleId,!0)},e.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},e.prototype.resolveBackReferences=function(e,t){var i=t.map((function(t){return e.substring(t.start,t.end)}));return a.lastIndex=0,this.source.replace(a,(function(e,t){return m(i[parseInt(t,10)]||"")}))},e.prototype._buildAnchorCache=function(){var e,t,i,n,o=[],r=[],s=[],a=[];for(e=0,t=this.source.length;e<t;e++)i=this.source.charAt(e),o[e]=i,r[e]=i,s[e]=i,a[e]=i,"\\"===i&&e+1<t&&("A"===(n=this.source.charAt(e+1))?(o[e+1]="￿",r[e+1]="￿",s[e+1]="A",a[e+1]="A"):"G"===n?(o[e+1]="￿",r[e+1]="G",s[e+1]="￿",a[e+1]="G"):(o[e+1]=n,r[e+1]=n,s[e+1]=n,a[e+1]=n),e++);return{A0_G0:o.join(""),A0_G1:r.join(""),A1_G0:s.join(""),A1_G1:a.join("")}},e.prototype.resolveAnchors=function(e,t){return this.hasAnchor&&this._anchorCache?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},e}();i.RegExpSource=d;var h=function(){function e(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return e.prototype.dispose=function(){this._disposeCaches()},e.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},e.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.length=function(){return this._items.length},e.prototype.setSource=function(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))},e.prototype.compile=function(e,t,i){if(this._hasAnchors)return t?i?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,i)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,i)),this._anchorCache.A1_G0):i?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,i)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,i)),this._anchorCache.A0_G0);if(!this._cached){var n=this._items.map((function(e){return e.source}));this._cached=new l(e,n,this._items.map((function(e){return e.ruleId})))}return this._cached},e.prototype._resolveAnchors=function(e,t,i){var n=this._items.map((function(e){return e.resolveAnchors(t,i)}));return new l(e,n,this._items.map((function(e){return e.ruleId})))},e}();i.RegExpSourceList=h;var g=function(e){function t(t,i,n,o,r){var s=e.call(this,t,i,n,null)||this;return s._match=new d(o,s.id),s.captures=r,s._cachedCompiledPatterns=null,s}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(t.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),t.prototype.collectPatternsRecursive=function(e,t,i){t.push(this._match)},t.prototype.compile=function(e,t,i,n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,i,n)},t}(u);i.MatchRule=g;var p=function(e){function t(t,i,n,o,r){var s=e.call(this,t,i,n,o)||this;return s.patterns=r.patterns,s.hasMissingPatterns=r.hasMissingPatterns,s._cachedCompiledPatterns=null,s}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},t.prototype.collectPatternsRecursive=function(e,t,i){var n,o;for(n=0,o=this.patterns.length;n<o;n++)e.getRule(this.patterns[n]).collectPatternsRecursive(e,t,!1)},t.prototype.compile=function(e,t,i,n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,i,n)},t}(u);function m(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}i.IncludeOnlyRule=p;var f=function(e){function t(t,i,n,o,r,s,a,l,u,c){var h=e.call(this,t,i,n,o)||this;return h._begin=new d(r,h.id),h.beginCaptures=s,h._end=new d(a||"￿",-1),h.endHasBackReferences=h._end.hasBackReferences,h.endCaptures=l,h.applyEndPatternLast=u||!1,h.patterns=c.patterns,h.hasMissingPatterns=c.hasMissingPatterns,h._cachedCompiledPatterns=null,h}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),t.prototype.getEndWithResolvedBackReferences=function(e,t){return this._end.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,i){if(i){var n=void 0,o=void 0;for(n=0,o=this.patterns.length;n<o;n++)e.getRule(this.patterns[n]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,i,n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns.compile(e,i,n)},t}(u);i.BeginEndRule=f;var v=function(e){function t(t,i,n,o,r,s,a,l,u){var c=e.call(this,t,i,n,o)||this;return c._begin=new d(r,c.id),c.beginCaptures=s,c.whileCaptures=l,c._while=new d(a,-2),c.whileHasBackReferences=c._while.hasBackReferences,c.patterns=u.patterns,c.hasMissingPatterns=u.hasMissingPatterns,c._cachedCompiledPatterns=null,c._cachedCompiledWhilePatterns=null,c}return o(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),t.prototype.getWhileWithResolvedBackReferences=function(e,t){return this._while.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,i){if(i){var n=void 0,o=void 0;for(n=0,o=this.patterns.length;n<o;n++)e.getRule(this.patterns[n]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,i,n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,i,n)},t.prototype.compileWhile=function(e,t,i,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new h,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||"￿"),this._cachedCompiledWhilePatterns.compile(e,i,n)},t}(u);i.BeginWhileRule=v;var _=function(){function e(){}return e.createCaptureRule=function(e,t,i,n,o){return e.registerRule((function(e){return new c(t,e,i,n,o)}))},e.getCompiledRuleId=function(t,i,n){return t.id||i.registerRule((function(o){if(t.id=o,t.match)return new g(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,i,n));if(void 0===t.begin){t.repository&&(n=r.mergeObjects({},n,t.repository));var s=t.patterns;return void 0===s&&t.include&&(s=[{include:t.include}]),new p(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(s,i,n))}return t.while?new v(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,i,n),t.while,e._compileCaptures(t.whileCaptures||t.captures,i,n),e._compilePatterns(t.patterns,i,n)):new f(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,i,n),t.end,e._compileCaptures(t.endCaptures||t.captures,i,n),t.applyEndPatternLast,e._compilePatterns(t.patterns,i,n))})),t.id},e._compileCaptures=function(t,i,n){var o=[];if(t){var r=0;for(var s in t)"$vscodeTextmateLocation"!==s&&(l=parseInt(s,10))>r&&(r=l);for(var a=0;a<=r;a++)o[a]=null;for(var s in t)if("$vscodeTextmateLocation"!==s){var l=parseInt(s,10),u=0;t[s].patterns&&(u=e.getCompiledRuleId(t[s],i,n)),o[l]=e.createCaptureRule(i,t[s].$vscodeTextmateLocation,t[s].name,t[s].contentName,u)}}return o},e._compilePatterns=function(t,i,n){var o=[];if(t)for(var r=0,s=t.length;r<s;r++){var a=t[r],l=-1;if(a.include)if("#"===a.include.charAt(0)){var u=n[a.include.substr(1)];u&&(l=e.getCompiledRuleId(u,i,n))}else if("$base"===a.include||"$self"===a.include)l=e.getCompiledRuleId(n[a.include],i,n);else{var c=null,d=null,h=a.include.indexOf("#");h>=0?(c=a.include.substring(0,h),d=a.include.substring(h+1)):c=a.include;var g=i.getExternalGrammar(c,n);if(g)if(d){var m=g.repository[d];m&&(l=e.getCompiledRuleId(m,i,g.repository))}else l=e.getCompiledRuleId(g.repository.$self,i,g.repository)}else l=e.getCompiledRuleId(a,i,n);if(-1!==l){var _=i.getRule(l),b=!1;if((_ instanceof p||_ instanceof f||_ instanceof v)&&_.hasMissingPatterns&&0===_.patterns.length&&(b=!0),b)continue;o.push(l)}}return{patterns:o,hasMissingPatterns:(t?t.length:0)!==o.length}},e}();i.RuleFactory=_})),i("./grammar",(function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=e("./utils"),o=e("./rule"),r=e("./matcher"),s=e("./debug"),a="undefined"==typeof performance?function(){return Date.now()}:function(){return performance.now()};function l(e,t,i,n,o,r){return new C(e,t,i,n,o,r)}i.createGrammar=l;var u=function(){function e(e){this.scopeName=e}return e}();i.FullScopeDependency=u;var c=function(){function e(e,t){this.scopeName=e,this.include=t}return e.prototype.toKey=function(){return this.scopeName+"#"+this.include},e}();i.PartialScopeDependency=c;var d=function(){function e(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return e.prototype.add=function(e){e instanceof u?this._seenFull.has(e.scopeName)||(this._seenFull.add(e.scopeName),this.full.push(e)):this._seenPartial.has(e.toKey())||(this._seenPartial.add(e.toKey()),this.partial.push(e))},e}();function h(e,t,i,o,r){for(var s=0,a=o;s<a.length;s++){var l=a[s];if(!e.visitedRule.has(l)){e.visitedRule.add(l);var d=l.repository?n.mergeObjects({},r,l.repository):r;Array.isArray(l.patterns)&&h(e,t,i,l.patterns,d);var m=l.include;if(m)if("$base"===m||m===t.scopeName)p(e,t,t);else if("$self"===m||m===i.scopeName)p(e,t,i);else if("#"===m.charAt(0))g(e,t,i,m.substring(1),d);else{var f=m.indexOf("#");if(f>=0){var v=m.substring(0,f),_=m.substring(f+1);v===t.scopeName?g(e,t,t,_,d):v===i.scopeName?g(e,t,i,_,d):e.add(new c(v,m.substring(f+1)))}else e.add(new u(m))}}}}function g(e,t,i,n,o){void 0===o&&(o=i.repository),o&&o[n]&&h(e,t,i,[o[n]],o)}function p(e,t,i){if(i.patterns&&Array.isArray(i.patterns)&&h(e,t,i,i.patterns,i.repository),i.injections){var n=[];for(var o in i.injections)n.push(i.injections[o]);h(e,t,i,n,i.repository)}}function m(e,t){if(!e)return!1;if(e===t)return!0;var i=t.length;return e.length>i&&e.substr(0,i)===t&&"."===e[i]}function f(e,t){if(t.length<e.length)return!1;var i=0;return e.every((function(e){for(var n=i;n<t.length;n++)if(m(t[n],e))return i=n+1,!0;return!1}))}function v(e,t,i,n,s){for(var a=r.createMatchers(t,f),l=o.RuleFactory.getCompiledRuleId(i,n,s.repository),u=0,c=a;u<c.length;u++){var d=c[u];e.push({matcher:d.matcher,ruleId:l,grammar:s,priority:d.priority})}}i.ScopeDependencyCollector=d,i.collectSpecificDependencies=g,i.collectDependencies=p;var _=function(){function e(e,t,i,n){this.scopeName=e,this.languageId=t,this.tokenType=i,this.themeData=n}return e}();i.ScopeMetadata=_;var b=function(){function e(t,i,n){if(this._initialLanguage=t,this._themeProvider=i,this._cache=new Map,this._defaultMetaData=new _("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),n)for(var o=Object.keys(n),r=0,s=o.length;r<s;r++){var a=o[r],l=n[a];"number"==typeof l&&0!==l?this._embeddedLanguages[a]=l:console.warn("Invalid embedded language found at scope "+a+": <<"+l+">>")}var u=Object.keys(this._embeddedLanguages).map((function(t){return e._escapeRegExpCharacters(t)}));0===u.length?this._embeddedLanguagesRegex=null:(u.sort(),u.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+u.join(")|(")+"))($|\\.)",""))}return e.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new _("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},e.prototype.getDefaultMetadata=function(){return this._defaultMetaData},e._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},e.prototype.getMetadataForScope=function(t){if(null===t)return e._NULL_SCOPE_METADATA;var i=this._cache.get(t);return i||(i=this._doGetMetadataForScope(t),this._cache.set(t,i),i)},e.prototype._doGetMetadataForScope=function(e){var t=this._scopeToLanguage(e),i=this._toStandardTokenType(e),n=this._themeProvider.themeMatch(e);return new _(e,t,i,n)},e.prototype._scopeToLanguage=function(e){if(!e)return 0;if(!this._embeddedLanguagesRegex)return 0;var t=e.match(this._embeddedLanguagesRegex);if(!t)return 0;var i=this._embeddedLanguages[t[1]]||0;return i||0},e.prototype._toStandardTokenType=function(t){var i=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!i)return 0;switch(i[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},e._NULL_SCOPE_METADATA=new _("",0,0,null),e.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,e}(),C=function(){function e(e,t,i,n,o,s){if(this._scopeMetadataProvider=new b(t,o,i),this._onigLib=s,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=y(e,null),this._injections=null,this._tokenTypeMatchers=[],n)for(var a=0,l=Object.keys(n);a<l.length;a++)for(var u=l[a],c=0,d=r.createMatchers(u,f);c<d.length;c++){var h=d[c];this._tokenTypeMatchers.push({matcher:h.matcher,type:n[u]})}}return e.prototype.dispose=function(){for(var e=0,t=this._ruleId2desc;e<t.length;e++){var i=t[e];i&&i.dispose()}},e.prototype.createOnigScanner=function(e){return this._onigLib.createOnigScanner(e)},e.prototype.createOnigString=function(e){return this._onigLib.createOnigString(e)},e.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},e.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},e.prototype.getInjections=function(){var e=this;if(null===this._injections){this._injections=[];var t=this._grammar.injections;if(t)for(var i in t)v(this._injections,i,t[i],this,this._grammar);if(this._grammarRepository){var n=this._grammarRepository.injections(this._grammar.scopeName);n&&n.forEach((function(t){var i=e.getExternalGrammar(t);if(i){var n=i.injectionSelector;n&&v(e._injections,n,i,e,i)}}))}this._injections.sort((function(e,t){return e.priority-t.priority}))}return this._injections},e.prototype.registerRule=function(e){var t=++this._lastRuleId,i=e(t);return this._ruleId2desc[t]=i,i},e.prototype.getRule=function(e){return this._ruleId2desc[e]},e.prototype.getExternalGrammar=function(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var i=this._grammarRepository.lookup(e);if(i)return this._includedGrammars[e]=y(i,t&&t.$base),this._includedGrammars[e]}return null},e.prototype.tokenizeLine=function(e,t){var i=this._tokenize(e,t,!1);return{tokens:i.lineTokens.getResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack}},e.prototype.tokenizeLine2=function(e,t){var i=this._tokenize(e,t,!0);return{tokens:i.lineTokens.getBinaryResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack}},e.prototype._tokenize=function(e,t,i){var n;if(-1===this._rootId&&(this._rootId=o.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),t&&t!==T.NULL)n=!1,t.reset();else{n=!0;var r=this._scopeMetadataProvider.getDefaultMetadata(),s=r.themeData[0],a=A.set(0,r.languageId,r.tokenType,s.fontStyle,s.foreground,s.background),l=this.getRule(this._rootId).getName(null,null),u=this._scopeMetadataProvider.getMetadataForScope(l),c=N.mergeMetadata(a,null,u),d=new N(null,null===l?"unknown":l,c);t=new T(null,this._rootId,-1,-1,!1,null,d,d)}e+="\n";var h=this.createOnigString(e),g=h.content.length,p=new F(i,e,this._tokenTypeMatchers),m=L(this,h,n,0,t,p,!0);return w(h),{lineLength:g,lineTokens:p,ruleStack:m}},e}();function w(e){"function"==typeof e.dispose&&e.dispose()}function y(e,t){return(e=n.clone(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}function S(e,t,i,n,o,r,s){if(0!==r.length){for(var a=t.content,l=Math.min(r.length,s.length),u=[],c=s[0].end,d=0;d<l;d++){var h=r[d];if(null!==h){var g=s[d];if(0!==g.length){if(g.start>c)break;for(;u.length>0&&u[u.length-1].endPos<=g.start;)o.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?o.produceFromScopes(u[u.length-1].scopes,g.start):o.produce(n,g.start),h.retokenizeCapturedWithRuleId){var p=h.getName(a,s),m=n.contentNameScopesList.push(e,p),f=h.getContentName(a,s),v=m.push(e,f),_=n.push(h.retokenizeCapturedWithRuleId,g.start,-1,!1,null,m,v),b=e.createOnigString(a.substring(0,g.end));L(e,b,i&&0===g.start,g.start,_,o,!1),w(b)}else{var C=h.getName(a,s);if(null!==C){var y=(u.length>0?u[u.length-1].scopes:n.contentNameScopesList).push(e,C);u.push(new O(y,g.end))}}}}}for(;u.length>0;)o.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}}function D(e){for(var t=[],i=0,n=e.rules.length;i<n;i++)t.push("   - "+e.rules[i]+": "+e.debugRegExps[i]);return t.join("\n")}function k(e,t,i,n,o,r,a){for(var l,u=Number.MAX_VALUE,c=null,d=0,h=r.contentNameScopesList.generateScopes(),g=0,p=e.length;g<p;g++){var m=e[g];if(m.matcher(h)){var f=t.getRule(m.ruleId).compile(t,null,n,o===a),v=f.scanner.findNextMatchSync(i,o);if(s.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(D(f))),v){var _=v.captureIndices[0].start;if(!(_>=u)&&(u=_,c=v.captureIndices,l=f.rules[v.index],d=m.priority,u===o))break}}}return c?{priorityMatch:-1===d,captureIndices:c,matchedRuleId:l}:null}function I(e,t,i,n,o,r){var l=o.getRule(e),u=l.compile(e,o.endRule,i,n===r),c=0;s.DebugFlags.InDebugMode&&(c=a());var d=u.scanner.findNextMatchSync(t,n);if(s.DebugFlags.InDebugMode){var h=a()-c;h>5&&console.warn("Rule "+l.debugName+" ("+l.id+") matching took "+h+" against '"+t+"'"),d&&console.log("matched rule id: "+u.rules[d.index]+" from "+d.captureIndices[0].start+" to "+d.captureIndices[0].end)}return d?{captureIndices:d.captureIndices,matchedRuleId:u.rules[d.index]}:null}function E(e,t,i,n,o,r){var s=I(e,t,i,n,o,r),a=e.getInjections();if(0===a.length)return s;var l=k(a,e,t,i,n,o,r);if(!l)return s;if(!s)return l;var u=s.captureIndices[0].start,c=l.captureIndices[0].start;return c<u||l.priorityMatch&&c===u?l:s}function x(e,t,i,n,r,a){for(var l=r.beginRuleCapturedEOL?0:-1,u=[],c=r;c;c=c.pop()){var d=c.getRule(e);d instanceof o.BeginWhileRule&&u.push({rule:d,stack:c})}for(var h=u.pop();h;h=u.pop()){var g=h.rule.compileWhile(e,h.stack.endRule,i,l===n),p=g.scanner.findNextMatchSync(t,n);if(s.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(D(g))),!p){s.DebugFlags.InDebugMode&&console.log("  popping "+h.rule.debugName+" - "+h.rule.debugWhileRegExp),r=h.stack.pop();break}if(-2!==g.rules[p.index]){r=h.stack.pop();break}p.captureIndices&&p.captureIndices.length&&(a.produce(h.stack,p.captureIndices[0].start),S(e,t,i,h.stack,a,h.rule.whileCaptures,p.captureIndices),a.produce(h.stack,p.captureIndices[0].end),l=p.captureIndices[0].end,p.captureIndices[0].end>n&&(n=p.captureIndices[0].end,i=!1))}return{stack:r,linePos:n,anchorPosition:l,isFirstLine:i}}function L(e,t,i,n,r,a,l){var u=t.content.length,c=!1,d=-1;if(l){var h=x(e,t,i,n,r,a);r=h.stack,n=h.linePos,i=h.isFirstLine,d=h.anchorPosition}for(;!c;)g();function g(){s.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+n+": |"+t.content.substr(n).replace(/\n$/,"\\n")+"|"));var l=E(e,t,i,n,r,d);if(!l)return s.DebugFlags.InDebugMode&&console.log("  no more matches."),a.produce(r,u),void(c=!0);var h=l.captureIndices,g=l.matchedRuleId,p=!!(h&&h.length>0)&&h[0].end>n;if(-1===g){var m=r.getRule(e);s.DebugFlags.InDebugMode&&console.log("  popping "+m.debugName+" - "+m.debugEndRegExp),a.produce(r,h[0].start),r=r.setContentNameScopesList(r.nameScopesList),S(e,t,i,r,a,m.endCaptures,h),a.produce(r,h[0].end);var f=r;if(r=r.pop(),d=f.getAnchorPos(),!p&&f.getEnterPos()===n)return s.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),r=f,a.produce(r,u),void(c=!0)}else{var v=e.getRule(g);a.produce(r,h[0].start);var _=r,b=v.getName(t.content,h),C=r.contentNameScopesList.push(e,b);if(r=r.push(g,n,d,h[0].end===u,null,C,C),v instanceof o.BeginEndRule){var w=v;s.DebugFlags.InDebugMode&&console.log("  pushing "+w.debugName+" - "+w.debugBeginRegExp),S(e,t,i,r,a,w.beginCaptures,h),a.produce(r,h[0].end),d=h[0].end;var y=w.getContentName(t.content,h),D=C.push(e,y);if(r=r.setContentNameScopesList(D),w.endHasBackReferences&&(r=r.setEndRule(w.getEndWithResolvedBackReferences(t.content,h))),!p&&_.hasSameRuleAs(r))return s.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),r=r.pop(),a.produce(r,u),void(c=!0)}else if(v instanceof o.BeginWhileRule){if(w=v,s.DebugFlags.InDebugMode&&console.log("  pushing "+w.debugName),S(e,t,i,r,a,w.beginCaptures,h),a.produce(r,h[0].end),d=h[0].end,y=w.getContentName(t.content,h),D=C.push(e,y),r=r.setContentNameScopesList(D),w.whileHasBackReferences&&(r=r.setEndRule(w.getWhileWithResolvedBackReferences(t.content,h))),!p&&_.hasSameRuleAs(r))return s.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),r=r.pop(),a.produce(r,u),void(c=!0)}else{var k=v;if(s.DebugFlags.InDebugMode&&console.log("  matched "+k.debugName+" - "+k.debugMatchRegExp),S(e,t,i,r,a,k.captures,h),a.produce(r,h[0].end),r=r.pop(),!p)return s.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),r=r.safePop(),a.produce(r,u),void(c=!0)}}h[0].end>n&&(n=h[0].end,i=!1)}return r}i.Grammar=C;var A=function(){function e(){}return e.toBinaryStr=function(e){for(var t=e.toString(2);t.length<32;)t="0"+t;return t},e.printMetadata=function(t){var i=e.getLanguageId(t),n=e.getTokenType(t),o=e.getFontStyle(t),r=e.getForeground(t),s=e.getBackground(t);console.log({languageId:i,tokenType:n,fontStyle:o,foreground:r,background:s})},e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.set=function(t,i,n,o,r,s){var a=e.getLanguageId(t),l=e.getTokenType(t),u=e.getFontStyle(t),c=e.getForeground(t),d=e.getBackground(t);return 0!==i&&(a=i),0!==n&&(l=8===n?0:n),-1!==o&&(u=o),0!==r&&(c=r),0!==s&&(d=s),(a<<0|l<<8|u<<11|c<<14|d<<23)>>>0},e}();i.StackElementMetadata=A;var N=function(){function e(e,t,i){this.parent=e,this.scope=t,this.metadata=i}return e._equals=function(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.scope!==t.scope||e.metadata!==t.metadata)return!1;e=e.parent,t=t.parent}},e.prototype.equals=function(t){return e._equals(this,t)},e._matchesScope=function(e,t,i){return t===e||e.substring(0,i.length)===i},e._matches=function(e,t){if(null===t)return!0;for(var i=t.length,n=0,o=t[n],r=o+".";e;){if(this._matchesScope(e.scope,o,r)){if(++n===i)return!0;r=(o=t[n])+"."}e=e.parent}return!1},e.mergeMetadata=function(e,t,i){if(null===i)return e;var n=-1,o=0,r=0;if(null!==i.themeData)for(var s=0,a=i.themeData.length;s<a;s++){var l=i.themeData[s];if(this._matches(t,l.parentScopes)){n=l.fontStyle,o=l.foreground,r=l.background;break}}return A.set(e,i.languageId,i.tokenType,n,o,r)},e._push=function(t,i,n){for(var o=0,r=n.length;o<r;o++){var s=n[o],a=i.getMetadataForScope(s),l=e.mergeMetadata(t.metadata,t,a);t=new e(t,s,l)}return t},e.prototype.push=function(t,i){return null===i?this:i.indexOf(" ")>=0?e._push(this,t,i.split(/ /g)):e._push(this,t,[i])},e._generateScopes=function(e){for(var t=[],i=0;e;)t[i++]=e.scope,e=e.parent;return t.reverse(),t},e.prototype.generateScopes=function(){return e._generateScopes(this)},e}();i.ScopeListElement=N;var T=function(){function e(e,t,i,n,o,r,s,a){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=t,this._enterPos=i,this._anchorPos=n,this.beginRuleCapturedEOL=o,this.endRule=r,this.nameScopesList=s,this.contentNameScopesList=a}return e._structuralEquals=function(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}},e._equals=function(e,t){return e===t||!!this._structuralEquals(e,t)&&e.contentNameScopesList.equals(t.contentNameScopesList)},e.prototype.clone=function(){return this},e.prototype.equals=function(t){return null!==t&&e._equals(this,t)},e._reset=function(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent},e.prototype.reset=function(){e._reset(this)},e.prototype.pop=function(){return this.parent},e.prototype.safePop=function(){return this.parent?this.parent:this},e.prototype.push=function(t,i,n,o,r,s,a){return new e(this,t,i,n,o,r,s,a)},e.prototype.getEnterPos=function(){return this._enterPos},e.prototype.getAnchorPos=function(){return this._anchorPos},e.prototype.getRule=function(e){return e.getRule(this.ruleId)},e.prototype._writeString=function(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",t},e.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},e.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)},e.prototype.setEndRule=function(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)},e.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},e.NULL=new e(null,0,0,0,!1,null,null,null),e}();i.StackElement=T;var O=function(){function e(e,t){this.scopes=e,this.endPos=t}return e}();i.LocalStackElement=O;var F=function(){function e(e,t,i){this._emitBinaryTokens=e,this._tokenTypeOverrides=i,s.DebugFlags.InDebugMode?this._lineText=t:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return e.prototype.produce=function(e,t){this.produceFromScopes(e.contentNameScopesList,t)},e.prototype.produceFromScopes=function(e,t){if(!(this._lastTokenEndIndex>=t)){if(this._emitBinaryTokens){for(var i=e.metadata,n=0,o=this._tokenTypeOverrides;n<o.length;n++){var r=o[n];r.matcher(e.generateScopes())&&(i=A.set(i,0,M(r.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===i||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(i)),void(this._lastTokenEndIndex=t)}var a=e.generateScopes();if(s.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(var l=0;l<a.length;l++)console.log("      * "+a[l])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:a}),this._lastTokenEndIndex=t}},e.prototype.getResult=function(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},e.prototype.getBinaryResult=function(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);for(var i=new Uint32Array(this._binaryTokens.length),n=0,o=this._binaryTokens.length;n<o;n++)i[n]=this._binaryTokens[n];return i},e}();function M(e){switch(e){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}})),i("./registry",(function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){e.done?i(e.value):o(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(rU){r=[6,rU],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var r=e("./grammar"),s=function(){function e(e,t){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=t}return e.prototype.dispose=function(){for(var e in this._grammars)this._grammars.hasOwnProperty(e)&&this._grammars[e].dispose()},e.prototype.setTheme=function(e){var t=this;this._theme=e,Object.keys(this._grammars).forEach((function(e){t._grammars[e].onDidChangeTheme()}))},e.prototype.getColorMap=function(){return this._theme.getColorMap()},e.prototype.addGrammar=function(e,t){this._rawGrammars[e.scopeName]=e,t&&(this._injectionGrammars[e.scopeName]=t)},e.prototype.lookup=function(e){return this._rawGrammars[e]},e.prototype.injections=function(e){return this._injectionGrammars[e]},e.prototype.getDefaults=function(){return this._theme.getDefaults()},e.prototype.themeMatch=function(e){return this._theme.match(e)},e.prototype.grammarForScopeName=function(e,t,i,s){return n(this,void 0,void 0,(function(){var n,a,l,u,c;return o(this,(function(o){switch(o.label){case 0:return this._grammars[e]?[3,2]:(n=this._rawGrammars[e])?(a=this._grammars,l=e,u=r.createGrammar,c=[n,t,i,s,this],[4,this._onigLibPromise]):[2,null];case 1:a[l]=u.apply(void 0,c.concat([o.sent()])),o.label=2;case 2:return[2,this._grammars[e]]}}))}))},e}();i.SyncRegistry=s})),i("./main",(function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(rU){r(rU)}}function a(e){try{l(n.throw(e))}catch(rU){r(rU)}}function l(e){e.done?i(e.value):o(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(rU){r=[6,rU],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var r=e("./registry"),s=e("./grammarReader"),a=e("./theme"),l=e("./grammar"),u=function(){function e(e){this._options=e,this._syncRegistry=new r.SyncRegistry(a.Theme.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}return e.prototype.dispose=function(){this._syncRegistry.dispose()},e.prototype.setTheme=function(e,t){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(e,t))},e.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},e.prototype.loadGrammarWithEmbeddedLanguages=function(e,t,i){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:i})},e.prototype.loadGrammarWithConfiguration=function(e,t,i){return this._loadGrammar(e,t,i.embeddedLanguages,i.tokenTypes)},e.prototype.loadGrammar=function(e){return this._loadGrammar(e,0,null,null)},e.prototype._doLoadSingleGrammar=function(e){return n(this,void 0,void 0,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return[4,this._options.loadGrammar(e)];case 1:return(t=n.sent())&&(i="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0,this._syncRegistry.addGrammar(t,i)),[2]}}))}))},e.prototype._loadSingleGrammar=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return this._ensureGrammarCache.has(e)||this._ensureGrammarCache.set(e,this._doLoadSingleGrammar(e)),[2,this._ensureGrammarCache.get(e)]}))}))},e.prototype._collectDependenciesForDep=function(e,t,i){var n=this._syncRegistry.lookup(i.scopeName);if(n){i instanceof l.FullScopeDependency?l.collectDependencies(t,this._syncRegistry.lookup(e),n):l.collectSpecificDependencies(t,this._syncRegistry.lookup(e),n,i.include);var o=this._syncRegistry.injections(i.scopeName);if(o)for(var r=0,s=o;r<s.length;r++){var a=s[r];t.add(new l.FullScopeDependency(a))}}else if(i.scopeName===e)throw new Error("No grammar provided for <"+e+">")},e.prototype._loadGrammar=function(e,t,i,r){return n(this,void 0,void 0,(function(){var n,s,a,u,c,d,h,g,p,m,f,v,_=this;return o(this,(function(o){switch(o.label){case 0:n=new Set,s=new Set,n.add(e),a=[new l.FullScopeDependency(e)],o.label=1;case 1:return a.length>0?(u=a,a=[],[4,Promise.all(u.map((function(e){return _._loadSingleGrammar(e.scopeName)})))]):[3,3];case 2:for(o.sent(),c=new l.ScopeDependencyCollector,d=0,h=u;d<h.length;d++)v=h[d],this._collectDependenciesForDep(e,c,v);for(g=0,p=c.full;g<p.length;g++)v=p[g],n.has(v.scopeName)||(n.add(v.scopeName),a.push(v));for(m=0,f=c.partial;m<f.length;m++)v=f[m],n.has(v.scopeName)||s.has(v.toKey())||(s.add(v.toKey()),a.push(v));return[3,1];case 3:return[2,this.grammarForScopeName(e,t,i,r)]}}))}))},e.prototype.addGrammar=function(e,t,i,r){return void 0===t&&(t=[]),void 0===i&&(i=0),void 0===r&&(r=null),n(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this._syncRegistry.addGrammar(e,t),[4,this.grammarForScopeName(e.scopeName,i,r)];case 1:return[2,n.sent()]}}))}))},e.prototype.grammarForScopeName=function(e,t,i,n){return void 0===t&&(t=0),void 0===i&&(i=null),void 0===n&&(n=null),this._syncRegistry.grammarForScopeName(e,t,i,n)},e}();i.Registry=u,i.INITIAL=l.StackElement.NULL,i.parseRawGrammar=s.parseRawGrammar})),e["./main"].exports}())}(kK);class IK{constructor(e){this._ruleStack=e}get ruleStack(){return this._ruleStack}clone(){return new IK(this._ruleStack)}equals(e){return!!(e&&e instanceof IK&&e===this&&e._ruleStack===this._ruleStack)}}class EK{constructor(e){this.config=e,this.debug=!1;const{grammars:t,fetchGrammar:i,theme:n,onigLib:o,monaco:r}=e;this.monaco=r,this.registry=new kK.exports.Registry({onigLib:o,async loadGrammar(e){this.debug&&console.debug(`Load Grammar: ${e}`),"text.html.basic"===e&&(e="html"),"source.css"===e&&(e="css"),"source.js"===e&&(e="source.ts");if(null==t[e])return this.debug&&console.debug(`Unknown scope name: ${e}`),null;const{type:n,grammar:o}=await i(e);return kK.exports.parseRawGrammar(o,`${e}.${n}`)},getInjections(e){const i=t[e];return this.debug&&console.debug("getInjections",e,(null==i?void 0:i.injections)||[]),i?i.injections:[]},theme:n}),this.tokensProviderCache=new xK(this.registry)}injectCSS(e){const t=this.registry.getColorMap();Uz.setColorMap(t);const n=e._themeService.getColorTheme()._tokenTheme,{_match:o}=n;n._cache.clear(),n._match=e=>{var t;const r=o.call(n,e);try{let o;const s=(null==(t=this.registry._syncRegistry)?void 0:t._theme.match(e)).filter(((t,i,n)=>{if(t.foreground>1){if(!t.parentScopes)return!0;if(o&&!t.parentScopes)return!1;const i=t.parentScopes[t.parentScopes.length-1],n=e.split(".").pop();return!(!i||!i.split(".").includes(n))&&(o=t,!0)}}));if(o||s.length>0){const{background:t,fontStyle:a,foreground:l}=o||i.exports.last(s);r.acceptOverwrite(a,l,t),n._cache.set(e,r)}}catch(s){console.error(s)}return r}}async fetchLanguageInfo(e,t){await new Promise((e=>{const t=()=>{qe?setTimeout((()=>{e()}),20):setTimeout((()=>{t()}),20)};t()})),t instanceof Function&&(t=await t());const[i,n]=await Promise.all([this.getTokensProviderForLanguage(e),this.config.fetchConfiguration(e)]);return{tokensProvider:i,configuration:n,...t}}getTokensProviderForLanguage(e){const t=this.getScopeNameForLanguage(e);if(null==t)return Promise.resolve(null);const i=this.monaco.languages.getEncodedLanguageId(e);return this.tokensProviderCache.createTokensProvider(t,i)}getScopeNameForLanguage(e){for(const[t,i]of Object.entries(this.config.grammars))if(i.language===e)return t;return null}}class xK{constructor(e){this.registry=e,this.scopeNameToGrammar=new Map}async createTokensProvider(e,t){const i=await this.getGrammar(e,t);return{getInitialState:()=>new IK(kK.exports.INITIAL),tokenizeEncoded:(e,t)=>{const n=i.tokenizeLine2(e,t.ruleStack);return{endState:new IK(n.ruleStack),tokens:n.tokens}}}}getGrammar(e,t){const i=this.scopeNameToGrammar.get(e);if(null!=i)return i;console.debug("loadGrammarWithConfiguration",e);const n=this.registry.loadGrammarWithConfiguration(e,t,{}).then((t=>{if(t)return t;throw Error(`failed to load grammar for ${e}`)})).catch((e=>{throw console.error("failed to load grammar",e),e}));return this.scopeNameToGrammar.set(e,n),n}}const LK=["indentationRules.decreaseIndentPattern","indentationRules.increaseIndentPattern","indentationRules.indentNextLinePattern","indentationRules.unIndentedLinePattern","folding.markers.start","folding.markers.end","wordPattern"];function AK(e,t){return t.split(".").reduce(((e,t)=>null!=e?e[t]:null),e)}function NK(e,t,i){const n=t.split("."),o=n.length-1;n.reduce(((e,t,n)=>null==e?e:n===o?(e[t]=i,null):e[t]),e)}var TK="/advscript-playground/assets/onig.a1763766.wasm",OK={author:"akamud",name:"OneDark",type:"dark",colors:{"activityBar.background":"#333842","activityBar.foreground":"#D7DAE0","activityBarBadge.background":"#528BFF","activityBarBadge.foreground":"#D7DAE0","button.background":"#4D78CC","button.foreground":"#FFFFFF","button.hoverBackground":"#6087CF","diffEditor.insertedTextBackground":"#00809B33","dropdown.background":"#353b45","dropdown.border":"#181A1F","editorIndentGuide.activeBackground":"#626772","editor.background":"#282C34","editor.foreground":"#ABB2BF","editor.lineHighlightBackground":"#99BBFF0A","editor.selectionBackground":"#3E4451","editorCursor.foreground":"#528BFF","editor.findMatchHighlightBackground":"#528BFF3D","editorGroup.background":"#21252B","editorGroup.border":"#181A1F","editorGroupHeader.tabsBackground":"#21252B","editorIndentGuide.background":"#ABB2BF26","editorLineNumber.foreground":"#636D83","editorLineNumber.activeForeground":"#ABB2BF","editorWhitespace.foreground":"#ABB2BF26","editorRuler.foreground":"#ABB2BF26","editorHoverWidget.background":"#21252B","editorHoverWidget.border":"#181A1F","editorSuggestWidget.background":"#21252B","editorSuggestWidget.border":"#181A1F","editorSuggestWidget.selectedBackground":"#2C313A","editorWidget.background":"#21252B","editorWidget.border":"#3A3F4B","input.background":"#1B1D23","input.border":"#181A1F",focusBorder:"#528BFF","list.activeSelectionBackground":"#2C313A","list.activeSelectionForeground":"#D7DAE0","list.focusBackground":"#2C313A","list.hoverBackground":"#2C313A66","list.highlightForeground":"#D7DAE0","list.inactiveSelectionBackground":"#2C313A","list.inactiveSelectionForeground":"#D7DAE0","notification.background":"#21252B","pickerGroup.border":"#528BFF","scrollbarSlider.background":"#4E566680","scrollbarSlider.activeBackground":"#747D9180","scrollbarSlider.hoverBackground":"#5A637580","sideBar.background":"#21252B","sideBarSectionHeader.background":"#333842","statusBar.background":"#21252B","statusBar.foreground":"#9DA5B4","statusBarItem.hoverBackground":"#2C313A","statusBar.noFolderBackground":"#21252B","tab.activeBackground":"#282C34","tab.activeForeground":"#D7DAE0","tab.border":"#181A1F","tab.inactiveBackground":"#21252B","titleBar.activeBackground":"#21252B","titleBar.activeForeground":"#9DA5B4","titleBar.inactiveBackground":"#21252B","titleBar.inactiveForeground":"#9DA5B4","statusBar.debuggingForeground":"#FFFFFF","extensionButton.prominentBackground":"#2BA143","extensionButton.prominentHoverBackground":"#37AF4E","badge.background":"#528BFF","badge.foreground":"#D7DAE0","peekView.border":"#528BFF","peekViewResult.background":"#21252B","peekViewResult.selectionBackground":"#2C313A","peekViewTitle.background":"#1B1D23","peekViewEditor.background":"#1B1D23"},tokenColors:[{name:"Comment",scope:["comment"],settings:{foreground:"#5C6370",fontStyle:"italic"}},{name:"Comment Markup Link",scope:["comment markup.link"],settings:{foreground:"#5C6370"}},{name:"Entity Name Type",scope:["entity.name.type"],settings:{foreground:"#E5C07B"}},{name:"Entity Other Inherited Class",scope:["entity.other.inherited-class"],settings:{foreground:"#E5C07B"}},{name:"Keyword",scope:["keyword"],settings:{foreground:"#C678DD"}},{name:"Keyword Control",scope:["keyword.control"],settings:{foreground:"#C678DD"}},{name:"Keyword Operator",scope:["keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Keyword Other Special Method",scope:["keyword.other.special-method"],settings:{foreground:"#61AFEF"}},{name:"Keyword Other Unit",scope:["keyword.other.unit"],settings:{foreground:"#D19A66"}},{name:"Storage",scope:["storage"],settings:{foreground:"#C678DD"}},{name:"Storage Type Annotation,storage Type Primitive",scope:["storage.type.annotation","storage.type.primitive"],settings:{foreground:"#C678DD"}},{name:"Storage Modifier Package,storage Modifier Import",scope:["storage.modifier.package","storage.modifier.import"],settings:{foreground:"#ABB2BF"}},{name:"Constant",scope:["constant"],settings:{foreground:"#D19A66"}},{name:"Constant Variable",scope:["constant.variable"],settings:{foreground:"#D19A66"}},{name:"Constant Character Escape",scope:["constant.character.escape"],settings:{foreground:"#56B6C2"}},{name:"Constant Numeric",scope:["constant.numeric"],settings:{foreground:"#D19A66"}},{name:"Constant Other Color",scope:["constant.other.color"],settings:{foreground:"#56B6C2"}},{name:"Constant Other Symbol",scope:["constant.other.symbol"],settings:{foreground:"#56B6C2"}},{name:"Variable",scope:["variable"],settings:{foreground:"#E06C75"}},{name:"Variable Interpolation",scope:["variable.interpolation"],settings:{foreground:"#BE5046"}},{name:"Variable Parameter",scope:["variable.parameter"],settings:{foreground:"#ABB2BF"}},{name:"String",scope:["string"],settings:{foreground:"#98C379"}},{name:"String > Source,string Embedded",scope:["string > source","string embedded"],settings:{foreground:"#ABB2BF"}},{name:"String Regexp",scope:["string.regexp"],settings:{foreground:"#56B6C2"}},{name:"String Regexp Source Ruby Embedded",scope:["string.regexp source.ruby.embedded"],settings:{foreground:"#E5C07B"}},{name:"String Other Link",scope:["string.other.link"],settings:{foreground:"#E06C75"}},{name:"Punctuation Definition Comment",scope:["punctuation.definition.comment"],settings:{foreground:"#5C6370"}},{name:"Punctuation Definition Method Parameters,punctuation Definition Function Parameters,punctuation Definition Parameters,punctuation Definition Separator,punctuation Definition Seperator,punctuation Definition Array",scope:["punctuation.definition.method-parameters","punctuation.definition.function-parameters","punctuation.definition.parameters","punctuation.definition.separator","punctuation.definition.seperator","punctuation.definition.array"],settings:{foreground:"#ABB2BF"}},{name:"Punctuation Definition Heading,punctuation Definition Identity",scope:["punctuation.definition.heading","punctuation.definition.identity"],settings:{foreground:"#61AFEF"}},{name:"Punctuation Definition Bold",scope:["punctuation.definition.bold"],settings:{foreground:"#E5C07B",fontStyle:"bold"}},{name:"Punctuation Definition Italic",scope:["punctuation.definition.italic"],settings:{foreground:"#C678DD",fontStyle:"italic"}},{name:"Punctuation Section Embedded",scope:["punctuation.section.embedded"],settings:{foreground:"#BE5046"}},{name:"Punctuation Section Method,punctuation Section Class,punctuation Section Inner Class",scope:["punctuation.section.method","punctuation.section.class","punctuation.section.inner-class"],settings:{foreground:"#ABB2BF"}},{name:"Support Class",scope:["support.class"],settings:{foreground:"#E5C07B"}},{name:"Support Type",scope:["support.type"],settings:{foreground:"#56B6C2"}},{name:"Support Function",scope:["support.function"],settings:{foreground:"#56B6C2"}},{name:"Support Function Any Method",scope:["support.function.any-method"],settings:{foreground:"#61AFEF"}},{name:"Entity Name Function",scope:["entity.name.function"],settings:{foreground:"#61AFEF"}},{name:"Entity Name Class,entity Name Type Class",scope:["entity.name.class","entity.name.type.class"],settings:{foreground:"#E5C07B"}},{name:"Entity Name Section",scope:["entity.name.section"],settings:{foreground:"#61AFEF"}},{name:"Entity Name Tag",scope:["entity.name.tag"],settings:{foreground:"#E06C75"}},{name:"Entity Other Attribute Name",scope:["entity.other.attribute-name"],settings:{foreground:"#D19A66"}},{name:"Entity Other Attribute Name Id",scope:["entity.other.attribute-name.id"],settings:{foreground:"#61AFEF"}},{name:"Meta Class",scope:["meta.class"],settings:{foreground:"#E5C07B"}},{name:"Meta Class Body",scope:["meta.class.body"],settings:{foreground:"#ABB2BF"}},{name:"Meta Method Call,meta Method",scope:["meta.method-call","meta.method"],settings:{foreground:"#ABB2BF"}},{name:"Meta Definition Variable",scope:["meta.definition.variable"],settings:{foreground:"#E06C75"}},{name:"Meta Link",scope:["meta.link"],settings:{foreground:"#D19A66"}},{name:"Meta Require",scope:["meta.require"],settings:{foreground:"#61AFEF"}},{name:"Meta Selector",scope:["meta.selector"],settings:{foreground:"#C678DD"}},{name:"Meta Separator",scope:["meta.separator"],settings:{foreground:"#ABB2BF"}},{name:"Meta Tag",scope:["meta.tag"],settings:{foreground:"#ABB2BF"}},{name:"Underline",scope:["underline"],settings:{"text-decoration":"underline"}},{name:"None",scope:["none"],settings:{foreground:"#ABB2BF"}},{name:"Invalid Deprecated",scope:["invalid.deprecated"],settings:{foreground:"#523D14",background:"#E0C285"}},{name:"Invalid Illegal",scope:["invalid.illegal"],settings:{foreground:"white",background:"#E05252"}},{name:"Markup Bold",scope:["markup.bold"],settings:{foreground:"#D19A66",fontStyle:"bold"}},{name:"Markup Changed",scope:["markup.changed"],settings:{foreground:"#C678DD"}},{name:"Markup Deleted",scope:["markup.deleted"],settings:{foreground:"#E06C75"}},{name:"Markup Italic",scope:["markup.italic"],settings:{foreground:"#C678DD",fontStyle:"italic"}},{name:"Markup Heading",scope:["markup.heading"],settings:{foreground:"#E06C75"}},{name:"Markup Heading Punctuation Definition Heading",scope:["markup.heading punctuation.definition.heading"],settings:{foreground:"#61AFEF"}},{name:"Markup Link",scope:["markup.link"],settings:{foreground:"#56B6C2"}},{name:"Markup Inserted",scope:["markup.inserted"],settings:{foreground:"#98C379"}},{name:"Markup Quote",scope:["markup.quote"],settings:{foreground:"#D19A66"}},{name:"Markup Raw",scope:["markup.raw"],settings:{foreground:"#98C379"}},{name:"Source C Keyword Operator",scope:["source.c keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Source Cpp Keyword Operator",scope:["source.cpp keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Source Cs Keyword Operator",scope:["source.cs keyword.operator"],settings:{foreground:"#C678DD"}},{name:"Source Css Property Name,source Css Property Value",scope:["source.css property-name","source.css property-value"],settings:{foreground:"#828997"}},{name:"Source Css Property Name Support,source Css Property Value Support",scope:["source.css property-name.support","source.css property-value.support"],settings:{foreground:"#ABB2BF"}},{name:"Source Elixir Source Embedded Source",scope:["source.elixir source.embedded.source"],settings:{foreground:"#ABB2BF"}},{name:"Source Elixir Constant Language,source Elixir Constant Numeric,source Elixir Constant Definition",scope:["source.elixir constant.language","source.elixir constant.numeric","source.elixir constant.definition"],settings:{foreground:"#61AFEF"}},{name:"Source Elixir Variable Definition,source Elixir Variable Anonymous",scope:["source.elixir variable.definition","source.elixir variable.anonymous"],settings:{foreground:"#C678DD"}},{name:"Source Elixir Parameter Variable Function",scope:["source.elixir parameter.variable.function"],settings:{foreground:"#D19A66",fontStyle:"italic"}},{name:"Source Elixir Quoted",scope:["source.elixir quoted"],settings:{foreground:"#98C379"}},{name:"Source Elixir Keyword Special Method,source Elixir Embedded Section,source Elixir Embedded Source Empty",scope:["source.elixir keyword.special-method","source.elixir embedded.section","source.elixir embedded.source.empty"],settings:{foreground:"#E06C75"}},{name:"Source Elixir Readwrite Module Punctuation",scope:["source.elixir readwrite.module punctuation"],settings:{foreground:"#E06C75"}},{name:"Source Elixir Regexp Section,source Elixir Regexp String",scope:["source.elixir regexp.section","source.elixir regexp.string"],settings:{foreground:"#BE5046"}},{name:"Source Elixir Separator,source Elixir Keyword Operator",scope:["source.elixir separator","source.elixir keyword.operator"],settings:{foreground:"#D19A66"}},{name:"Source Elixir Variable Constant",scope:["source.elixir variable.constant"],settings:{foreground:"#E5C07B"}},{name:"Source Elixir Array,source Elixir Scope,source Elixir Section",scope:["source.elixir array","source.elixir scope","source.elixir section"],settings:{foreground:"#828997"}},{name:"Source Gfm Markup",scope:["source.gfm markup"],settings:{"-webkit-font-smoothing":"auto"}},{name:"Source Gfm Link Entity",scope:["source.gfm link entity"],settings:{foreground:"#61AFEF"}},{name:"Source Go Storage Type String",scope:["source.go storage.type.string"],settings:{foreground:"#C678DD"}},{name:"Source Ini Keyword Other Definition Ini",scope:["source.ini keyword.other.definition.ini"],settings:{foreground:"#E06C75"}},{name:"Source Java Storage Modifier Import",scope:["source.java storage.modifier.import"],settings:{foreground:"#E5C07B"}},{name:"Source Java Storage Type",scope:["source.java storage.type"],settings:{foreground:"#E5C07B"}},{name:"Source Java Keyword Operator Instanceof",scope:["source.java keyword.operator.instanceof"],settings:{foreground:"#C678DD"}},{name:"Source Java Properties Meta Key Pair",scope:["source.java-properties meta.key-pair"],settings:{foreground:"#E06C75"}},{name:"Source Java Properties Meta Key Pair > Punctuation",scope:["source.java-properties meta.key-pair > punctuation"],settings:{foreground:"#ABB2BF"}},{name:"Source Js Keyword Operator",scope:["source.js keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"Source Js Keyword Operator Delete,source Js Keyword Operator In,source Js Keyword Operator Of,source Js Keyword Operator Instanceof,source Js Keyword Operator New,source Js Keyword Operator Typeof,source Js Keyword Operator Void",scope:["source.js keyword.operator.delete","source.js keyword.operator.in","source.js keyword.operator.of","source.js keyword.operator.instanceof","source.js keyword.operator.new","source.js keyword.operator.typeof","source.js keyword.operator.void"],settings:{foreground:"#C678DD"}},{name:"Source Ts Keyword Operator",scope:["source.ts keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"Source Flow Keyword Operator",scope:["source.flow keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"Source Json Meta Structure Dictionary Json > String Quoted Json",scope:["source.json meta.structure.dictionary.json > string.quoted.json"],settings:{foreground:"#E06C75"}},{name:"Source Json Meta Structure Dictionary Json > String Quoted Json > Punctuation String",scope:["source.json meta.structure.dictionary.json > string.quoted.json > punctuation.string"],settings:{foreground:"#E06C75"}},{name:"Source Json Meta Structure Dictionary Json > Value Json > String Quoted Json,source Json Meta Structure Array Json > Value Json > String Quoted Json,source Json Meta Structure Dictionary Json > Value Json > String Quoted Json > Punctuation,source Json Meta Structure Array Json > Value Json > String Quoted Json > Punctuation",scope:["source.json meta.structure.dictionary.json > value.json > string.quoted.json","source.json meta.structure.array.json > value.json > string.quoted.json","source.json meta.structure.dictionary.json > value.json > string.quoted.json > punctuation","source.json meta.structure.array.json > value.json > string.quoted.json > punctuation"],settings:{foreground:"#98C379"}},{name:"Source Json Meta Structure Dictionary Json > Constant Language Json,source Json Meta Structure Array Json > Constant Language Json",scope:["source.json meta.structure.dictionary.json > constant.language.json","source.json meta.structure.array.json > constant.language.json"],settings:{foreground:"#56B6C2"}},{name:"Ng Interpolation",scope:["ng.interpolation"],settings:{foreground:"#E06C75"}},{name:"Ng Interpolation Begin,ng Interpolation End",scope:["ng.interpolation.begin","ng.interpolation.end"],settings:{foreground:"#61AFEF"}},{name:"Ng Interpolation Function",scope:["ng.interpolation function"],settings:{foreground:"#E06C75"}},{name:"Ng Interpolation Function Begin,ng Interpolation Function End",scope:["ng.interpolation function.begin","ng.interpolation function.end"],settings:{foreground:"#61AFEF"}},{name:"Ng Interpolation Bool",scope:["ng.interpolation bool"],settings:{foreground:"#D19A66"}},{name:"Ng Interpolation Bracket",scope:["ng.interpolation bracket"],settings:{foreground:"#ABB2BF"}},{name:"Ng Pipe,ng Operator",scope:["ng.pipe","ng.operator"],settings:{foreground:"#ABB2BF"}},{name:"Ng Tag",scope:["ng.tag"],settings:{foreground:"#56B6C2"}},{name:"Ng Attribute With Value Attribute Name",scope:["ng.attribute-with-value attribute-name"],settings:{foreground:"#E5C07B"}},{name:"Ng Attribute With Value String",scope:["ng.attribute-with-value string"],settings:{foreground:"#C678DD"}},{name:"Ng Attribute With Value String Begin,ng Attribute With Value String End",scope:["ng.attribute-with-value string.begin","ng.attribute-with-value string.end"],settings:{foreground:"#ABB2BF"}},{name:"Source Ruby Constant Other Symbol > Punctuation",scope:["source.ruby constant.other.symbol > punctuation"],settings:{foreground:"inherit"}},{name:"Source Php Class Bracket",scope:["source.php class.bracket"],settings:{foreground:"#ABB2BF"}},{name:"Source Python Keyword Operator Logical Python",scope:["source.python keyword.operator.logical.python"],settings:{foreground:"#C678DD"}},{name:"Source Python Variable Parameter",scope:["source.python variable.parameter"],settings:{foreground:"#D19A66"}},{name:"customrule",scope:"customrule",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Support Type Property Name",scope:"support.type.property-name",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Punctuation for Quoted String",scope:"string.quoted.double punctuation",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] Support Constant",scope:"support.constant",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JSON Property Name",scope:"support.type.property-name.json",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JSON Punctuation for Property Name",scope:"support.type.property-name.json punctuation",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation for key-value",scope:["punctuation.separator.key-value.ts","punctuation.separator.key-value.js","punctuation.separator.key-value.tsx"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Embedded Operator",scope:["source.js.embedded.html keyword.operator","source.ts.embedded.html keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Other Readwrite",scope:["variable.other.readwrite.js","variable.other.readwrite.ts","variable.other.readwrite.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variable Dom",scope:["support.variable.dom.js","support.variable.dom.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variable Property Dom",scope:["support.variable.property.dom.js","support.variable.property.dom.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Interpolation String Punctuation",scope:["meta.template.expression.js punctuation.definition","meta.template.expression.ts punctuation.definition"],settings:{foreground:"#BE5046"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Type Parameters",scope:["source.ts punctuation.definition.typeparameters","source.js punctuation.definition.typeparameters","source.tsx punctuation.definition.typeparameters"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Definition Block",scope:["source.ts punctuation.definition.block","source.js punctuation.definition.block","source.tsx punctuation.definition.block"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Separator Comma",scope:["source.ts punctuation.separator.comma","source.js punctuation.separator.comma","source.tsx punctuation.separator.comma"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Property",scope:["support.variable.property.js","support.variable.property.ts","support.variable.property.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Default Keyword",scope:["keyword.control.default.js","keyword.control.default.ts","keyword.control.default.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Instanceof Keyword",scope:["keyword.operator.expression.instanceof.js","keyword.operator.expression.instanceof.ts","keyword.operator.expression.instanceof.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] JS/TS Of Keyword",scope:["keyword.operator.expression.of.js","keyword.operator.expression.of.ts","keyword.operator.expression.of.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] JS/TS Braces/Brackets",scope:["meta.brace.round.js","meta.array-binding-pattern-variable.js","meta.brace.square.js","meta.brace.round.ts","meta.array-binding-pattern-variable.ts","meta.brace.square.ts","meta.brace.round.tsx","meta.array-binding-pattern-variable.tsx","meta.brace.square.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Accessor",scope:["source.js punctuation.accessor","source.ts punctuation.accessor","source.tsx punctuation.accessor"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Terminator Statement",scope:["punctuation.terminator.statement.js","punctuation.terminator.statement.ts","punctuation.terminator.statement.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Array variables",scope:["meta.array-binding-pattern-variable.js variable.other.readwrite.js","meta.array-binding-pattern-variable.ts variable.other.readwrite.ts","meta.array-binding-pattern-variable.tsx variable.other.readwrite.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variables",scope:["source.js support.variable","source.ts support.variable","source.tsx support.variable"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Support Variables",scope:["variable.other.constant.property.js","variable.other.constant.property.ts","variable.other.constant.property.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Keyword New",scope:["keyword.operator.new.ts","keyword.operator.new.j","keyword.operator.new.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] TS Keyword Operator",scope:["source.ts keyword.operator","source.tsx keyword.operator"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Punctuation Parameter Separator",scope:["punctuation.separator.parameter.js","punctuation.separator.parameter.ts","punctuation.separator.parameter.tsx "],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Import",scope:["constant.language.import-export-all.js","constant.language.import-export-all.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JSX/TSX Import",scope:["constant.language.import-export-all.jsx","constant.language.import-export-all.tsx"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Keyword Control As",scope:["keyword.control.as.js","keyword.control.as.ts","keyword.control.as.jsx","keyword.control.as.tsx"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Alias",scope:["variable.other.readwrite.alias.js","variable.other.readwrite.alias.ts","variable.other.readwrite.alias.jsx","variable.other.readwrite.alias.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Constants",scope:["variable.other.constant.js","variable.other.constant.ts","variable.other.constant.jsx","variable.other.constant.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Export Variable",scope:["meta.export.default.js variable.other.readwrite.js","meta.export.default.ts variable.other.readwrite.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JS/TS Template Strings Punctuation Accessor",scope:["source.js meta.template.expression.js punctuation.accessor","source.ts meta.template.expression.ts punctuation.accessor","source.tsx meta.template.expression.tsx punctuation.accessor"],settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS Import equals",scope:["source.js meta.import-equals.external.js keyword.operator","source.jsx meta.import-equals.external.jsx keyword.operator","source.ts meta.import-equals.external.ts keyword.operator","source.tsx meta.import-equals.external.tsx keyword.operator"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Type Module",scope:"entity.name.type.module.js,entity.name.type.module.ts,entity.name.type.module.jsx,entity.name.type.module.tsx",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Class",scope:"meta.class.js,meta.class.ts,meta.class.jsx,meta.class.tsx",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Property Definition Variable",scope:["meta.definition.property.js variable","meta.definition.property.ts variable","meta.definition.property.jsx variable","meta.definition.property.tsx variable"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Type Parameters Type",scope:["meta.type.parameters.js support.type","meta.type.parameters.jsx support.type","meta.type.parameters.ts support.type","meta.type.parameters.tsx support.type"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Tag Keyword Operator",scope:["source.js meta.tag.js keyword.operator","source.jsx meta.tag.jsx keyword.operator","source.ts meta.tag.ts keyword.operator","source.tsx meta.tag.tsx keyword.operator"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Tag Punctuation",scope:["meta.tag.js punctuation.section.embedded","meta.tag.jsx punctuation.section.embedded","meta.tag.ts punctuation.section.embedded","meta.tag.tsx punctuation.section.embedded"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Array Literal Variable",scope:["meta.array.literal.js variable","meta.array.literal.jsx variable","meta.array.literal.ts variable","meta.array.literal.tsx variable"],settings:{foreground:"#E5C07B"}},{name:"[VSCODE-CUSTOM] JS/TS Module Exports",scope:["support.type.object.module.js","support.type.object.module.jsx","support.type.object.module.ts","support.type.object.module.tsx"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] JSON Constants",scope:["constant.language.json"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Object Constants",scope:["variable.other.constant.object.js","variable.other.constant.object.jsx","variable.other.constant.object.ts","variable.other.constant.object.tsx"],settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] JS/TS Properties Keyword",scope:["storage.type.property.js","storage.type.property.jsx","storage.type.property.ts","storage.type.property.tsx"],settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] JS/TS Single Quote Inside Templated String",scope:["meta.template.expression.js string.quoted punctuation.definition","meta.template.expression.jsx string.quoted punctuation.definition","meta.template.expression.ts string.quoted punctuation.definition","meta.template.expression.tsx string.quoted punctuation.definition"],settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS Backtick inside Templated String",scope:["meta.template.expression.js string.template punctuation.definition.string.template","meta.template.expression.jsx string.template punctuation.definition.string.template","meta.template.expression.ts string.template punctuation.definition.string.template","meta.template.expression.tsx string.template punctuation.definition.string.template"],settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] JS/TS In Keyword for Loops",scope:["keyword.operator.expression.in.js","keyword.operator.expression.in.jsx","keyword.operator.expression.in.ts","keyword.operator.expression.in.tsx"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] JS/TS Variable Other Object",scope:["variable.other.object.js","variable.other.object.ts"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] JS/TS Meta Object Literal Key",scope:["meta.object-literal.key.js","meta.object-literal.key.ts"],settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Python Constants Other",scope:"source.python constant.other",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Python Constants",scope:"source.python constant",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Python Placeholder Character",scope:"constant.character.format.placeholder.other.python storage",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Python Magic",scope:"support.variable.magic.python",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Python Meta Function Parameters",scope:"meta.function.parameters.python",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Python Function Separator Annotation",scope:"punctuation.separator.annotation.python",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Python Function Separator Punctuation",scope:"punctuation.separator.parameters.python",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Fields",scope:"entity.name.variable.field.cs",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] CSharp Keyword Operators",scope:"source.cs keyword.operator",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Variables",scope:"variable.other.readwrite.cs",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Variables Other",scope:"variable.other.object.cs",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Property Other",scope:"variable.other.object.property.cs",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] CSharp Property",scope:"entity.name.variable.property.cs",settings:{foreground:"#61AFEF"}},{name:"[VSCODE-CUSTOM] CSharp Storage Type",scope:"storage.type.cs",settings:{foreground:"#E5C07B"}},{name:"[VSCODE-CUSTOM] Rust Unsafe Keyword",scope:"keyword.other.unsafe.rust",settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] Rust Entity Name Type",scope:"entity.name.type.rust",settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] Rust Storage Modifier Lifetime",scope:"storage.modifier.lifetime.rust",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Rust Entity Name Lifetime",scope:"entity.name.lifetime.rust",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Rust Storage Type Core",scope:"storage.type.core.rust",settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] Rust Meta Attribute",scope:"meta.attribute.rust",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Rust Storage Class Std",scope:"storage.class.std.rust",settings:{foreground:"#56B6C2"}},{name:"[VSCODE-CUSTOM] Markdown Raw Block",scope:"markup.raw.block.markdown",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Shell Variables Punctuation Definition",scope:"punctuation.definition.variable.shell",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Css Support Constant Value",scope:"support.constant.property-value.css",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Css Punctuation Definition Constant",scope:"punctuation.definition.constant.css",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Sass Punctuation for key-value",scope:"punctuation.separator.key-value.scss",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Sass Punctuation for constants",scope:"punctuation.definition.constant.scss",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Sass Punctuation for key-value",scope:"meta.property-list.scss punctuation.separator.key-value.scss",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Java Storage Type Primitive Array",scope:"storage.type.primitive.array.java",settings:{foreground:"#E5C07B"}},{name:"[VSCODE-CUSTOM] Markdown headings",scope:"entity.name.section.markdown",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Markdown heading Punctuation Definition",scope:"punctuation.definition.heading.markdown",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Markdown heading setext",scope:"markup.heading.setext",settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Markdown Punctuation Definition Bold",scope:"punctuation.definition.bold.markdown",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Markdown Inline Raw",scope:"markup.inline.raw.markdown",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] Markdown List Punctuation Definition",scope:"beginning.punctuation.definition.list.markdown",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Markdown Quote",scope:"markup.quote.markdown",settings:{foreground:"#5C6370",fontStyle:"italic"}},{name:"[VSCODE-CUSTOM] Markdown Punctuation Definition String",scope:["punctuation.definition.string.begin.markdown","punctuation.definition.string.end.markdown","punctuation.definition.metadata.markdown"],settings:{foreground:"#ABB2BF"}},{name:"[VSCODE-CUSTOM] Markdown Punctuation Definition Link",scope:"punctuation.definition.metadata.markdown",settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] Markdown Underline Link/Image",scope:["markup.underline.link.markdown","markup.underline.link.image.markdown"],settings:{foreground:"#C678DD"}},{name:"[VSCODE-CUSTOM] Markdown Link Title/Description",scope:["string.other.link.title.markdown","string.other.link.description.markdown"],settings:{foreground:"#61AFEF"}},{name:"[VSCODE-CUSTOM] Ruby Punctuation Separator Variable",scope:"punctuation.separator.variable.ruby",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] Ruby Other Constant Variable",scope:"variable.other.constant.ruby",settings:{foreground:"#D19A66"}},{name:"[VSCODE-CUSTOM] Ruby Keyword Operator Other",scope:"keyword.operator.other.ruby",settings:{foreground:"#98C379"}},{name:"[VSCODE-CUSTOM] PHP Punctuation Variable Definition",scope:"punctuation.definition.variable.php",settings:{foreground:"#E06C75"}},{name:"[VSCODE-CUSTOM] PHP Meta Class",scope:"meta.class.php",settings:{foreground:"#ABB2BF"}}],uuid:"32bd64fa-d60a-4858-a5fc-5164cc49a2b8"};function FK(e){const t={inherit:!1,base:"vs-dark",colors:{},rules:[],encodedTokensColors:[]};e.tokenColors.map((e=>{e.scope||(e.scope="");const i="string"==typeof e.scope?e.scope.split(",").map((e=>e.trim())):e.scope;for(const n of i)t.rules.push(Object.assign({...Object.keys(e.settings).reduce(((t,i)=>{const n=e.settings[i];return{...t,[i]:"white"===n||"inherit"===n?"000000":null==n?void 0:n.replace(/^#/,"")}}),{}),token:n}))}));for(const i of Object.keys(e.colors))RK.includes(i)&&(t.colors[i]=e.colors[i]);return t}const MK=Object.freeze([{settings:{foreground:"#D4D4D4",background:"#1E1E1E"}}]),RK=["foreground","errorForeground","icon.foreground","focusBorder","contrastBorder","contrastActiveBorder","textLink.foreground","textLink.activeForeground","textCodeBlock.background","widget.shadow","input.background","input.foreground","input.border","inputOption.activeBorder","inputOption.activeBackground","inputOption.activeForeground","inputValidation.infoBackground","inputValidation.infoForeground","inputValidation.infoBorder","inputValidation.warningBackground","inputValidation.warningForeground","inputValidation.warningBorder","inputValidation.errorBackground","inputValidation.errorForeground","inputValidation.errorBorder","dropdown.background","dropdown.foreground","button.foreground","button.background","button.hoverBackground","badge.background","badge.foreground","scrollbar.shadow","scrollbarSlider.background","scrollbarSlider.hoverBackground","scrollbarSlider.activeBackground","progressBar.background","editorError.background","editorError.foreground","editorError.border","editorWarning.background","editorWarning.foreground","editorWarning.border","editorInfo.background","editorInfo.foreground","editorInfo.border","editorHint.foreground","editorHint.border","editor.background","editor.foreground","editorWidget.background","editorWidget.foreground","editorWidget.border","editorWidget.resizeBorder","quickInput.background","quickInput.foreground","quickInputTitle.background","pickerGroup.foreground","pickerGroup.border","keybindingLabel.background","keybindingLabel.foreground","keybindingLabel.border","keybindingLabel.bottomBorder","editor.selectionBackground","editor.selectionForeground","editor.inactiveSelectionBackground","editor.selectionHighlightBackground","editor.selectionHighlightBorder","editor.findMatchBackground","editor.findMatchHighlightBackground","editor.findRangeHighlightBackground","editor.findMatchBorder","editor.findMatchHighlightBorder","editor.findRangeHighlightBorder","editor.hoverHighlightBackground","editorHoverWidget.background","editorHoverWidget.foreground","editorHoverWidget.border","editorHoverWidget.statusBarBackground","editorLink.activeForeground","editorInlayHint.foreground","editorInlayHint.background","editorLightBulb.foreground","editorLightBulbAutoFix.foreground","diffEditor.insertedTextBackground","diffEditor.removedTextBackground","diffEditor.insertedTextBorder","diffEditor.removedTextBorder","diffEditor.border","diffEditor.diagonalFill","list.focusBackground","list.focusForeground","list.focusOutline","list.activeSelectionBackground","list.activeSelectionForeground","list.activeSelectionIconForeground","list.inactiveSelectionBackground","list.inactiveSelectionForeground","list.inactiveSelectionIconForeground","list.inactiveFocusBackground","list.inactiveFocusOutline","list.hoverBackground","list.hoverForeground","list.dropBackground","list.highlightForeground","list.focusHighlightForeground","listFilterWidget.background","listFilterWidget.outline","listFilterWidget.noMatchesOutline","tree.indentGuidesStroke","tree.tableColumnsBorder","quickInput.list.focusBackground","quickInputList.focusForeground","quickInputList.focusIconForeground","quickInputList.focusBackground","menu.border","menu.foreground","menu.background","menu.selectionForeground","menu.selectionBackground","menu.selectionBorder","menu.separatorBackground","editor.snippetTabstopHighlightBackground","editor.snippetTabstopHighlightBorder","editor.snippetFinalTabstopHighlightBackground","editor.snippetFinalTabstopHighlightBorder","editorOverviewRuler.findMatchForeground","editorOverviewRuler.selectionHighlightForeground","minimap.findMatchHighlight","minimap.selectionHighlight","minimap.errorHighlight","minimap.warningHighlight","minimap.background","minimapSlider.background","minimapSlider.hoverBackground","minimapSlider.activeBackground","problemsErrorIcon.foreground","problemsWarningIcon.foreground","problemsInfoIcon.foreground","editor.lineHighlightBackground","editor.lineHighlightBorder","editor.rangeHighlightBackground","editor.rangeHighlightBorder","editor.symbolHighlightBackground","editor.symbolHighlightBorder","editorCursor.foreground","editorCursor.background","editorWhitespace.foreground","editorIndentGuide.background","editorIndentGuide.activeBackground","editorLineNumber.foreground","editorActiveLineNumber.foreground","editorLineNumber.activeForeground","editorRuler.foreground","editorCodeLens.foreground","editorBracketMatch.background","editorBracketMatch.border","editorOverviewRuler.border","editorOverviewRuler.background","editorGutter.background","editorUnnecessaryCode.border","editorUnnecessaryCode.opacity","editorGhostText.border","editorGhostText.foreground","editorOverviewRuler.rangeHighlightForeground","editorOverviewRuler.errorForeground","editorOverviewRuler.warningForeground","editorOverviewRuler.infoForeground","symbolIcon.arrayForeground","symbolIcon.booleanForeground","symbolIcon.classForeground","symbolIcon.colorForeground","symbolIcon.constantForeground","symbolIcon.constructorForeground","symbolIcon.enumeratorForeground","symbolIcon.enumeratorMemberForeground","symbolIcon.eventForeground","symbolIcon.fieldForeground","symbolIcon.fileForeground","symbolIcon.folderForeground","symbolIcon.functionForeground","symbolIcon.interfaceForeground","symbolIcon.keyForeground","symbolIcon.keywordForeground","symbolIcon.methodForeground","symbolIcon.moduleForeground","symbolIcon.namespaceForeground","symbolIcon.nullForeground","symbolIcon.numberForeground","symbolIcon.objectForeground","symbolIcon.operatorForeground","symbolIcon.packageForeground","symbolIcon.propertyForeground","symbolIcon.referenceForeground","symbolIcon.snippetForeground","symbolIcon.stringForeground","symbolIcon.structForeground","symbolIcon.textForeground","symbolIcon.typeParameterForeground","symbolIcon.unitForeground","symbolIcon.variableForeground","editorOverviewRuler.bracketMatchForeground","editor.linkedEditingBackground","editor.wordHighlightBackground","editor.wordHighlightStrongBackground","editor.wordHighlightBorder","editor.wordHighlightStrongBorder","editorOverviewRuler.wordHighlightForeground","editorOverviewRuler.wordHighlightStrongForeground","peekViewTitle.background","peekViewTitleLabel.foreground","peekViewTitleDescription.foreground","peekView.border","peekViewResult.background","peekViewResult.lineForeground","peekViewResult.fileForeground","peekViewResult.selectionBackground","peekViewResult.selectionForeground","peekViewEditor.background","peekViewEditorGutter.background","peekViewResult.matchHighlightBackground","peekViewEditor.matchHighlightBackground","peekViewEditor.matchHighlightBorder","editorMarkerNavigationError.background","editorMarkerNavigationWarning.background","editorMarkerNavigationInfo.background","editorMarkerNavigation.background","editor.foldBackground","editorGutter.foldingControlForeground","editorSuggestWidget.background","editorSuggestWidget.border","editorSuggestWidget.foreground","editorSuggestWidget.selectedForeground","editorSuggestWidget.selectedIconForeground","editorSuggestWidget.selectedBackground","editorSuggestWidget.highlightForeground","editorSuggestWidget.focusHighlightForeground"];async function PK(e,t,n){const{theme:o,monacoTheme:r}=function(){const e={...OK,tokenColors:[...MK,...OK.tokenColors]};return e.tokenColors.map((e=>i.exports.castArray(e.scope).map((t=>({token:t,...Object.keys(e.settings).reduce(((t,i)=>{var n;return{...t,[i]:null==(n=e.settings[i])?void 0:n.replace(/^#/,"")}}),{})}))))).flat(),{theme:{name:e.name,settings:e.tokenColors},monacoTheme:FK(e)}}();e.editor.defineTheme("OneDark",r);const s=DK.reduce(((e,t)=>({...e,[t.scopeName]:{...t,path:t.path.replace("${BASE_URL}","/advscript-playground/")}})),{});console.debug(s);await async function(){const e=await fetch(TK);if("application/wasm"===e.headers.get("content-type"))return e;return await e.arrayBuffer()}().then(Je.exports.loadWASM);const a=Promise.resolve({createOnigScanner:Je.exports.createOnigScanner,createOnigString:Je.exports.createOnigString}),l=new EK({grammars:s,fetchGrammar:async e=>{const{path:t}=s[e],i=t,n=await fetch(i),o=await n.text();return{type:t.endsWith(".json")?"json":"plist",grammar:o}},configurations:SK.map((e=>e.id)),fetchConfiguration:async e=>{const t=SK.find((t=>t.id===e));if(!t.configuration)return Promise.resolve(null);const i=t.configuration.path,n=await fetch(i);return function(e){const t=JSON.parse(e);for(const i of LK){const e=AK(t,i);"string"==typeof e&&NK(t,i,new RegExp(e))}return t}(await n.text())},theme:o,onigLib:a,monaco:e});return function(e,t,i){for(const n of e){const{id:e}=n;i.languages.getLanguages().find((t=>t.id===e))||(i.languages.register(n),console.debug("Register language:",e,n)),i.languages.onLanguage(e,(async()=>{console.debug("load",e);const{tokensProvider:n,configuration:o,foldingRangeProvider:r,formatProvider:s,formatRangeProvider:a,highlightProvider:l,declarationProvider:u,inlineCompletionProvider:c,completionItemProvider:d,documentSymbolProvider:h,inlayHintsProvider:g}=await t(e);null!=n&&i.languages.setTokensProvider(e,n),g&&i.languages.registerInlayHintsProvider(e,g),s&&i.languages.registerDocumentFormattingEditProvider(e,s),a&&i.languages.registerDocumentRangeFormattingEditProvider(e,a),h&&i.languages.registerDocumentSymbolProvider(e,h),d&&i.languages.registerCompletionItemProvider(e,d),c&&i.languages.registerInlineCompletionsProvider(e,c),u&&i.languages.registerDeclarationProvider(e,u),r&&i.languages.registerFoldingRangeProvider(e,r),l&&i.languages.registerDocumentHighlightProvider(e,l),null!=o&&i.languages.setLanguageConfiguration(e,o)}))}}(SK,(e=>l.fetchLanguageInfo(e,n)),e),l}var BK,WK,VK,HK,zK,KK,UK,jK,qK,$K,GK,ZK,YK;(BK||(BK={})).is=function(e){return!!e&&"data"in e},(WK||(WK={})).is=function(e){return!!e&&"data"in e},(VK||(VK={})).is=function(e){return!!e&&"data"in e},(HK||(HK={})).is=function(e){return!!e&&"data"in e};class JK{constructor(e){this._monaco=e}asPosition(e,t){return{line:null==e?void 0:e-1,character:null==t?void 0:t-1}}asRange(e){if(void 0!==e){if(null===e)return null;if(void 0!==e.insert)return this.asRange(e.insert);return{start:this.asPosition(e.startLineNumber,e.startColumn),end:this.asPosition(e.endLineNumber,e.endColumn)}}}asTextDocumentIdentifier(e){return{uri:e.uri.toString()}}asTextDocumentPositionParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column)}}asCompletionParams(e,t,i){return Object.assign(this.asTextDocumentPositionParams(e,t),{context:this.asCompletionContext(i)})}asCompletionContext(e){return{triggerKind:this.asCompletionTriggerKind(e.triggerKind),triggerCharacter:e.triggerCharacter}}asSignatureHelpContext(e){return{triggerKind:this.asSignatureHelpTriggerKind(e.triggerKind),triggerCharacter:e.triggerCharacter,isRetrigger:e.isRetrigger,activeSignatureHelp:this.asSignatureHelp(e.activeSignatureHelp)}}asSignatureHelp(e){if(void 0!==e)return{signatures:e.signatures.map((e=>this.asSignatureInformation(e))),activeParameter:e.activeParameter,activeSignature:e.activeSignature}}asSignatureInformation(e){return{documentation:this.asMarkupContent(e.documentation),label:e.label,parameters:e.parameters.map((e=>this.asParameterInformation(e))),activeParameter:e.activeParameter}}asParameterInformation(e){return{documentation:this.asMarkupContent(e.documentation),label:e.label}}asMarkupContent(e){if(void 0!==e)return"string"==typeof e?e:{kind:n.MarkupKind.Markdown,value:e.value}}asSignatureHelpTriggerKind(e){switch(e){case this._monaco.languages.SignatureHelpTriggerKind.ContentChange:return n.SignatureHelpTriggerKind.ContentChange;case this._monaco.languages.SignatureHelpTriggerKind.TriggerCharacter:return n.SignatureHelpTriggerKind.TriggerCharacter;default:return n.SignatureHelpTriggerKind.Invoked}}asCompletionTriggerKind(e){switch(e){case this._monaco.languages.CompletionTriggerKind.TriggerCharacter:return n.CompletionTriggerKind.TriggerCharacter;case this._monaco.languages.CompletionTriggerKind.TriggerForIncompleteCompletions:return n.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return n.CompletionTriggerKind.Invoked}}asCompletionItem(e){var t;const i={label:e.label},r=VK.is(e)?e:void 0;return e.detail&&(i.detail=e.detail),e.documentation&&("string"==typeof e.documentation?i.documentation=e.documentation:i.documentation=this.asDocumentation(null!=(t=null==r?void 0:r.documentationFormat)?t:n.MarkupKind.Markdown,e.documentation)),e.filterText&&(i.filterText=e.filterText),this.fillPrimaryInsertText(i,e),o(e.kind)&&(i.kind=this.asCompletionItemKind(e.kind,null==r?void 0:r.originalItemKind)),e.sortText&&(i.sortText=e.sortText),e.additionalTextEdits&&(i.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),e.command&&(i.command=this.asCommand(e.command)),e.commitCharacters&&(i.commitCharacters=e.commitCharacters.slice()),e.command&&(i.command=this.asCommand(e.command)),r&&(void 0!==r.data&&(i.data=r.data),!0!==r.deprecated&&!1!==r.deprecated||(i.deprecated=r.deprecated)),i}asCompletionItemKind(e,t){if(void 0!==t)return t;switch(e){case this._monaco.languages.CompletionItemKind.Method:return n.CompletionItemKind.Method;case this._monaco.languages.CompletionItemKind.Function:return n.CompletionItemKind.Function;case this._monaco.languages.CompletionItemKind.Constructor:return n.CompletionItemKind.Constructor;case this._monaco.languages.CompletionItemKind.Field:return n.CompletionItemKind.Field;case this._monaco.languages.CompletionItemKind.Variable:return n.CompletionItemKind.Variable;case this._monaco.languages.CompletionItemKind.Class:return n.CompletionItemKind.Class;case this._monaco.languages.CompletionItemKind.Struct:return n.CompletionItemKind.Struct;case this._monaco.languages.CompletionItemKind.Interface:return n.CompletionItemKind.Interface;case this._monaco.languages.CompletionItemKind.Module:return n.CompletionItemKind.Module;case this._monaco.languages.CompletionItemKind.Property:return n.CompletionItemKind.Property;case this._monaco.languages.CompletionItemKind.Event:return n.CompletionItemKind.Event;case this._monaco.languages.CompletionItemKind.Operator:return n.CompletionItemKind.Operator;case this._monaco.languages.CompletionItemKind.Unit:return n.CompletionItemKind.Unit;case this._monaco.languages.CompletionItemKind.Value:return n.CompletionItemKind.Value;case this._monaco.languages.CompletionItemKind.Constant:return n.CompletionItemKind.Constant;case this._monaco.languages.CompletionItemKind.Enum:return n.CompletionItemKind.Enum;case this._monaco.languages.CompletionItemKind.EnumMember:return n.CompletionItemKind.EnumMember;case this._monaco.languages.CompletionItemKind.Keyword:return n.CompletionItemKind.Keyword;case this._monaco.languages.CompletionItemKind.Text:return n.CompletionItemKind.Text;case this._monaco.languages.CompletionItemKind.Color:return n.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.File:return n.CompletionItemKind.File;case this._monaco.languages.CompletionItemKind.Reference:return n.CompletionItemKind.Reference;case this._monaco.languages.CompletionItemKind.Customcolor:return n.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.Folder:return n.CompletionItemKind.Folder;case this._monaco.languages.CompletionItemKind.TypeParameter:return n.CompletionItemKind.TypeParameter;case this._monaco.languages.CompletionItemKind.Snippet:return n.CompletionItemKind.Snippet;default:return e+1}}asDocumentation(e,t){switch(e){case n.MarkupKind.PlainText:return{kind:e,value:t};case n.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}fillPrimaryInsertText(e,t){let i,o,r=n.InsertTextFormat.PlainText;void 0!==t.insertTextRules&&0==(t.insertTextRules&this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet)&&(r=n.InsertTextFormat.Snippet,i=t.insertText),e.insertTextFormat=r,i=t.insertText,t.range&&(o=this.asRange(t.range)),e.insertTextFormat=r,t.fromEdit&&i&&o?e.textEdit={newText:i,range:o}:e.insertText=i,e.insertTextMode=t.insertTextMode}asTextEdit(e){return{range:this.asRange(e.range),newText:e.text||""}}asTextEdits(e){if(e)return e.map((e=>this.asTextEdit(e)))}asReferenceParams(e,t,i){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),context:{includeDeclaration:i.includeDeclaration}}}asDocumentSymbolParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asCodeLensParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDiagnosticSeverity(e){switch(e){case this._monaco.MarkerSeverity.Error:return n.DiagnosticSeverity.Error;case this._monaco.MarkerSeverity.Warning:return n.DiagnosticSeverity.Warning;case this._monaco.MarkerSeverity.Info:return n.DiagnosticSeverity.Information;case this._monaco.MarkerSeverity.Hint:return n.DiagnosticSeverity.Hint}}asDiagnostic(e){const t=this.asRange(new this._monaco.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)),i=this.asDiagnosticSeverity(e.severity);return n.Diagnostic.create(t,e.message,i,e.code,e.source)}asDiagnostics(e){if(e)return e.map((e=>this.asDiagnostic(e)))}asCodeActionContext(e){if(!e)return;const t=this.asDiagnostics(e.markers);return n.CodeActionContext.create(t,r(e.only)?[e.only]:void 0)}asCodeActionParams(e,t,i){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),context:this.asCodeActionContext(i)}}asCommand(e){if(e){const t=e.arguments||[];return n.Command.create(e.title,e.id,...t)}}asCodeLens(e){const t=n.CodeLens.create(this.asRange(e.range));return e.command&&(t.command=this.asCommand(e.command)),WK.is(e)&&e.data&&(t.data=e.data),t}asFormattingOptions(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}asDocumentFormattingParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),options:this.asFormattingOptions(t)}}asDocumentRangeFormattingParams(e,t,i){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),options:this.asFormattingOptions(i)}}asDocumentOnTypeFormattingParams(e,t,i,n){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),ch:i,options:this.asFormattingOptions(n)}}asRenameParams(e,t,i){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),newName:i}}asDocumentLinkParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDocumentLink(e){const t=n.DocumentLink.create(this.asRange(e.range));return e.url&&(t.target="string"==typeof e.url?e.url:e.url.toString()),BK.is(e)&&e.data&&(t.data=e.data),e.tooltip&&(t.tooltip=e.tooltip),t}asCodeAction(e){const t={title:e.title},i=HK.is(e)?e:void 0;if(o(e.kind)&&(t.kind=e.kind),e.diagnostics&&(t.diagnostics=this.asDiagnostics(e.diagnostics)),e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return e.command&&(t.command=this.asCommand(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),e.disabled&&(t.disabled={reason:e.disabled}),i&&void 0!==i.data&&(t.data=i.data),t}}class XK{constructor(e){this._monaco=e}asResourceEdits(e,t,i,o){return t.map((t=>({resource:e,edit:this.asTextEdit(t),modelVersionId:o,metadata:n.AnnotatedTextEdit.is(t)?i(t.annotationId):void 0})))}asWorkspaceEditMetadata(e){return{needsConfirmation:!0===e.needsConfirmation,label:e.label,description:e.description}}asWorkspaceEdit(e){if(!e)return;const t=new Map;if(void 0!==e.changeAnnotations)for(const n of Object.keys(e.changeAnnotations)){const i=this.asWorkspaceEditMetadata(e.changeAnnotations[n]);t.set(n,i)}const i=e=>void 0===e?void 0:t.get(e),o=[];if(e.documentChanges)e.documentChanges.forEach((e=>{if(n.CreateFile.is(e))o.push({newUri:this._monaco.Uri.parse(e.uri),options:e.options,metadata:i(e.annotationId)});else if(n.RenameFile.is(e))o.push({oldUri:this._monaco.Uri.parse(e.oldUri),newUri:this._monaco.Uri.parse(e.newUri),options:e.options,metadata:i(e.annotationId)});else if(n.DeleteFile.is(e))o.push({oldUri:this._monaco.Uri.parse(e.uri),options:e.options,metadata:i(e.annotationId)});else if(n.TextDocumentEdit.is(e)){const t=this._monaco.Uri.parse(e.textDocument.uri),n="number"==typeof e.textDocument.version?e.textDocument.version:void 0;o.push(...this.asResourceEdits(t,e.edits,i,n))}else console.error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`)}));else if(e.changes)for(const n of Object.keys(e.changes)){const t=this._monaco.Uri.parse(n);o.push(...this.asResourceEdits(t,e.changes[n],i))}return{edits:o}}asTextEdit(e){if(!e)return;return{range:this.asRange(e.range),text:e.newText}}asTextEdits(e){if(e)return e.map((e=>this.asTextEdit(e)))}asCodeLens(e){if(!e)return;const t={range:this.asRange(e.range)};return e.command&&(t.command=this.asCommand(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}asCodeLensList(e){if(e)return{lenses:e.map((e=>this.asCodeLens(e))),dispose:()=>{}}}asCodeActionList(e){return{actions:e.map((e=>this.asCodeAction(e))),dispose:()=>{}}}asCodeAction(e){return n.CodeAction.is(e)?{title:e.title,command:this.asCommand(e.command),edit:this.asWorkspaceEdit(e.edit),diagnostics:this.asDiagnostics(e.diagnostics),kind:e.kind,disabled:e.disabled?e.disabled.reason:void 0,isPreferred:e.isPreferred,data:e.data}:{command:{id:e.command,title:e.title,arguments:e.arguments},title:e.title}}asCommand(e){if(e)return{id:e.command,title:e.title,arguments:e.arguments}}asDocumentSymbol(e){const t=e.children&&e.children.map((e=>this.asDocumentSymbol(e)));return{name:e.name,detail:e.detail||"",kind:this.asSymbolKind(e.kind),tags:e.tags||[],range:this.asRange(e.range),selectionRange:this.asRange(e.selectionRange),children:t}}asDocumentSymbols(e){return n.DocumentSymbol.is(e[0])?e.map((e=>this.asDocumentSymbol(e))):this.asSymbolInformations(e)}asSymbolInformations(e,t){if(e)return e.map((e=>this.asSymbolInformation(e,t)))}asSymbolInformation(e,t){const i=this.asLocation(t?{...e.location,uri:t.toString()}:e.location);return{name:e.name,detail:"",containerName:e.containerName,kind:this.asSymbolKind(e.kind),tags:e.tags||[],range:i.range,selectionRange:i.range}}asSymbolKind(e){return e<=n.SymbolKind.TypeParameter?e-1:this._monaco.languages.SymbolKind.Property}asDocumentHighlights(e){if(e)return e.map((e=>this.asDocumentHighlight(e)))}asDocumentHighlight(e){return{range:this.asRange(e.range),kind:o(e.kind)?this.asDocumentHighlightKind(e.kind):void 0}}asDocumentHighlightKind(e){switch(e){case n.DocumentHighlightKind.Text:return this._monaco.languages.DocumentHighlightKind.Text;case n.DocumentHighlightKind.Read:return this._monaco.languages.DocumentHighlightKind.Read;case n.DocumentHighlightKind.Write:return this._monaco.languages.DocumentHighlightKind.Write}return this._monaco.languages.DocumentHighlightKind.Text}asReferences(e){if(e)return e.map((e=>this.asLocation(e)))}asDefinitionResult(e){if(e){if(s(e)){if(0==e.length)return;if(n.LocationLink.is(e[0])){return e.map((e=>this.asLocationLink(e)))}return e.map((e=>this.asLocation(e)))}return this.asLocation(e)}}asLocation(e){if(!e)return;return{uri:this._monaco.Uri.parse(e.uri),range:this.asRange(e.range)}}asLocationLink(e){if(!e)return;const t={uri:this._monaco.Uri.parse(e.targetUri),range:this.asRange(e.targetSelectionRange),originSelectionRange:this.asRange(e.originSelectionRange),targetSelectionRange:this.asRange(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}asSignatureHelpResult(e){if(!e)return;const t={};return o(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,o(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures?t.signatures=this.asSignatureInformations(e.signatures):t.signatures=[],{value:t,dispose:()=>{}}}asSignatureInformations(e){return e.map((e=>this.asSignatureInformation(e)))}asSignatureInformation(e){const t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),e.parameters?t.parameters=this.asParameterInformations(e.parameters):t.parameters=[],e.activeParameter&&(t.activeParameter=e.activeParameter),t}asParameterInformations(e){return e.map((e=>this.asParameterInformation(e)))}asParameterInformation(e){const t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),t}asHover(e){if(e)return{contents:this.asHoverContent(e.contents),range:this.asRange(e.range)}}asHoverContent(e){return Array.isArray(e)?e.map((e=>this.asMarkdownString(e))):[this.asMarkdownString(e)]}asDocumentation(e){return r(e)?e:e.kind===n.MarkupKind.PlainText?e.value:this.asMarkdownString(e)}asMarkdownString(e){if(n.MarkupContent.is(e))return{value:e.value};if(r(e))return{value:e};const{language:t,value:i}=e;return{value:"```"+t+"\n"+i+"\n```"}}asSeverity(e){return 1===e?this._monaco.MarkerSeverity.Error:2===e?this._monaco.MarkerSeverity.Warning:3===e?this._monaco.MarkerSeverity.Info:this._monaco.MarkerSeverity.Hint}asDiagnostics(e){if(e)return e.map((e=>this.asDiagnostic(e)))}asDiagnostic(e){return{code:"number"==typeof e.code?e.code.toString():e.code,severity:this.asSeverity(e.severity),message:e.message,source:e.source,startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,relatedInformation:this.asRelatedInformations(e.relatedInformation)}}asRelatedInformations(e){if(e)return e.map((e=>this.asRelatedInformation(e)))}asRelatedInformation(e){return{resource:this._monaco.Uri.parse(e.location.uri),startLineNumber:e.location.range.start.line+1,startColumn:e.location.range.start.character+1,endLineNumber:e.location.range.end.line+1,endColumn:e.location.range.end.character+1,message:e.message}}asCompletionResult(e,t){if(!e)return{incomplete:!1,suggestions:[]};if(Array.isArray(e)){return{incomplete:!1,suggestions:e.map((e=>this.asCompletionItem(e,t)))}}return{incomplete:e.isIncomplete,suggestions:e.items.map((e=>this.asCompletionItem(e,t)))}}asCompletionItem(e,t){const i={label:e.label};e.detail&&(i.detail=e.detail),e.documentation&&(i.documentation=this.asDocumentation(e.documentation),i.documentationFormat=r(e.documentation)?void 0:e.documentation.kind),e.filterText&&(i.filterText=e.filterText);const n=this.asCompletionInsertText(e,t);if(i.insertText=n.insertText,i.range=n.range,i.fromEdit=n.fromEdit,n.isSnippet&&(i.insertTextRules=this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet),o(e.kind)){const[t,n]=this.asCompletionItemKind(e.kind);i.kind=t,n&&(i.originalItemKind=n)}return e.sortText&&(i.sortText=e.sortText),e.additionalTextEdits&&(i.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),a(e.commitCharacters)&&(i.commitCharacters=e.commitCharacters.slice()),e.command&&(i.command=this.asCommand(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(i.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(i.preselect=e.preselect),void 0!==e.data&&(i.data=e.data),!0!==e.deprecated&&!1!==e.deprecated||(i.deprecated=e.deprecated),i.insertTextMode=e.insertTextMode,i}asCompletionItemKind(e){if(n.CompletionItemKind.Text<=e&&e<=n.CompletionItemKind.TypeParameter)switch(e){case n.CompletionItemKind.Text:return[this._monaco.languages.CompletionItemKind.Text,void 0];case n.CompletionItemKind.Method:return[this._monaco.languages.CompletionItemKind.Method,void 0];case n.CompletionItemKind.Function:return[this._monaco.languages.CompletionItemKind.Function,void 0];case n.CompletionItemKind.Constructor:return[this._monaco.languages.CompletionItemKind.Constructor,void 0];case n.CompletionItemKind.Field:return[this._monaco.languages.CompletionItemKind.Field,void 0];case n.CompletionItemKind.Variable:return[this._monaco.languages.CompletionItemKind.Variable,void 0];case n.CompletionItemKind.Class:return[this._monaco.languages.CompletionItemKind.Class,void 0];case n.CompletionItemKind.Interface:return[this._monaco.languages.CompletionItemKind.Interface,void 0];case n.CompletionItemKind.Module:return[this._monaco.languages.CompletionItemKind.Module,void 0];case n.CompletionItemKind.Property:return[this._monaco.languages.CompletionItemKind.Property,void 0];case n.CompletionItemKind.Unit:return[this._monaco.languages.CompletionItemKind.Unit,void 0];case n.CompletionItemKind.Value:return[this._monaco.languages.CompletionItemKind.Value,void 0];case n.CompletionItemKind.Enum:return[this._monaco.languages.CompletionItemKind.Enum,void 0];case n.CompletionItemKind.Keyword:return[this._monaco.languages.CompletionItemKind.Keyword,void 0];case n.CompletionItemKind.Snippet:return[this._monaco.languages.CompletionItemKind.Snippet,void 0];case n.CompletionItemKind.Color:return[this._monaco.languages.CompletionItemKind.Color,void 0];case n.CompletionItemKind.File:return[this._monaco.languages.CompletionItemKind.File,void 0];case n.CompletionItemKind.Reference:return[this._monaco.languages.CompletionItemKind.Reference,void 0];case n.CompletionItemKind.Folder:return[this._monaco.languages.CompletionItemKind.Folder,void 0];case n.CompletionItemKind.EnumMember:return[this._monaco.languages.CompletionItemKind.EnumMember,void 0];case n.CompletionItemKind.Constant:return[this._monaco.languages.CompletionItemKind.Constant,void 0];case n.CompletionItemKind.Struct:return[this._monaco.languages.CompletionItemKind.Struct,void 0];case n.CompletionItemKind.Event:return[this._monaco.languages.CompletionItemKind.Event,void 0];case n.CompletionItemKind.Operator:return[this._monaco.languages.CompletionItemKind.Operator,void 0];case n.CompletionItemKind.TypeParameter:return[this._monaco.languages.CompletionItemKind.TypeParameter,void 0];default:return[e-1,void 0]}return[n.CompletionItemKind.Text,e]}asCompletionInsertText(e,t){const i=e.insertTextFormat===n.InsertTextFormat.Snippet;if(e.textEdit){if(n.TextEdit.is(e.textEdit)){const t=this.asRange(e.textEdit.range);return{isSnippet:i,insertText:e.textEdit.newText,range:t,fromEdit:!0}}{const t={insert:this.asRange(e.textEdit.insert),replace:this.asRange(e.textEdit.replace)};return{isSnippet:i,insertText:e.textEdit.newText,range:t,fromEdit:!0}}}return e.insertText?{isSnippet:i,insertText:e.insertText,fromEdit:!1,range:t}:{insertText:e.label,range:t,fromEdit:!1,isSnippet:!1}}asDocumentLinks(e){return{links:e.map((e=>this.asDocumentLink(e)))}}asDocumentLink(e){return{range:this.asRange(e.range),url:e.target,data:e.data,tooltip:e.tooltip}}asRange(e){if(void 0===e)return;if(null===e)return null;const t=this.asPosition(e.start),i=this.asPosition(e.end);if(t instanceof this._monaco.Position&&i instanceof this._monaco.Position)return new this._monaco.Range(t.lineNumber,t.column,i.lineNumber,i.column);return{startLineNumber:t&&void 0!==t.lineNumber?t.lineNumber:void 0,startColumn:t&&void 0!==t.column?t.column:void 0,endLineNumber:i&&void 0!==i.lineNumber?i.lineNumber:void 0,endColumn:i&&void 0!==i.column?i.column:void 0}}asPosition(e){if(void 0===e)return;if(null===e)return null;const{line:t,character:i}=e,n=void 0===t?void 0:t+1,o=void 0===i?void 0:i+1;return void 0!==n&&void 0!==o?new this._monaco.Position(n,o):{lineNumber:n,column:o}}asColorInformations(e){return e.map((e=>this.asColorInformation(e)))}asColorInformation(e){return{range:this.asRange(e.range),color:e.color}}asColorPresentations(e){return e.map((e=>this.asColorPresentation(e)))}asColorPresentation(e){return{label:e.label,textEdit:this.asTextEdit(e.textEdit),additionalTextEdits:this.asTextEdits(e.additionalTextEdits)}}asFoldingRanges(e){if(e)return e.map((e=>this.asFoldingRange(e)))}asFoldingRange(e){return{start:e.startLine+1,end:e.endLine+1,kind:this.asFoldingRangeKind(e.kind)}}asFoldingRangeKind(e){if(e)switch(e){case n.FoldingRangeKind.Comment:return this._monaco.languages.FoldingRangeKind.Comment;case n.FoldingRangeKind.Imports:return this._monaco.languages.FoldingRangeKind.Imports;case n.FoldingRangeKind.Region:return this._monaco.languages.FoldingRangeKind.Region}}asSemanticTokens(e){return{resultId:e.resultId,data:Uint32Array.from(e.data)}}}!function(e){const t=globalThis,i=Symbol.for("Services");e.get=()=>{const e=t[i];if(!e)throw new Error("Language Client services has not been installed");return e},e.install=function(e){return t[i]&&console.warn("Language Client services have been overridden"),t[i]=e,l.Disposable.create((()=>t[i]=void 0))}}(zK||(zK={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(KK||(KK={})),(jK=UK||(UK={}))[jK.Error=0]="Error",jK[jK.Warning=1]="Warning",jK[jK.Information=2]="Information",jK[jK.Hint=3]="Hint",(qK||(qK={})).is=function(e){return!!e&&"uri"in e&&"languageId"in e},(GK=$K||($K={}))[GK.Global=1]="Global",GK[GK.Workspace=2]="Workspace",GK[GK.WorkspaceFolder=3]="WorkspaceFolder";class QK{constructor(){this.disposables=[]}dispose(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()}push(e){const t=this.disposables;return t.push(e),{dispose(){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}}class eU{constructor(e,t,i){this._monaco=e,this.name=t,this.p2m=i,this.diagnostics=new Map,this.toDispose=new QK}dispose(){this.toDispose.dispose()}get(e){const t=this.diagnostics.get(e);return t?t.diagnostics:[]}set(e,t){const i=this.diagnostics.get(e);if(i)i.diagnostics=t;else{const i=new tU(this._monaco,e,t,this.name,this.p2m);this.diagnostics.set(e,i),this.toDispose.push(l.Disposable.create((()=>{this.diagnostics.delete(e),i.dispose()})))}}}class tU{constructor(e,t,i,n,o){this._monaco=e,this.owner=n,this.p2m=o,this._markers=[],this._diagnostics=[],this.toDispose=new QK,this.uri=this._monaco.Uri.parse(t),this.diagnostics=i,this.toDispose.push(this._monaco.editor.onDidCreateModel((e=>this.doUpdateModelMarkers(e))))}set diagnostics(e){this._diagnostics=e,this._markers=this.p2m.asDiagnostics(e),this.updateModelMarkers()}get diagnostics(){return this._diagnostics}get markers(){return this._markers}dispose(){this._markers=[],this.updateModelMarkers(),this.toDispose.dispose()}updateModelMarkers(){const e=this._monaco.editor.getModel(this.uri);this.doUpdateModelMarkers(e||void 0)}doUpdateModelMarkers(e){e&&this.uri.toString()===e.uri.toString()&&this._monaco.editor.setModelMarkers(e,this.owner,this._markers)}}(YK=ZK||(ZK={})).fromDocument=function(e,t){return{uri:e.Uri.parse(t.uri),languageId:t.languageId}},YK.fromModel=function(e){return{uri:e.uri,languageId:e.getLanguageId()}};class iU{constructor(e,t,i){this._monaco=e,this.p2m=t,this.m2p=i}match(e,t){return this.matchModel(e,ZK.fromDocument(this._monaco,t))}createDiagnosticCollection(e){return new eU(this._monaco,e||"default",this.p2m)}registerCompletionItemProvider(e,t,...i){const n=this.createCompletionProvider(e,t,...i),o=new QK;for(const r of this.matchLanguage(e))o.push(this._monaco.languages.registerCompletionItemProvider(r,n));return o}createCompletionProvider(e,t,...i){return{triggerCharacters:i,provideCompletionItems:async(i,n,o,r)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const s=i.getWordUntilPosition(n),a=new this._monaco.Range(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn),l=this.m2p.asCompletionParams(i,n,o),u=await t.provideCompletionItems(l,r);return u&&console.log(this.p2m.asCompletionResult(u,a)),u&&this.p2m.asCompletionResult(u,a)},resolveCompletionItem:t.resolveCompletionItem?async(e,i)=>{const n=this.m2p.asCompletionItem(e),o=await t.resolveCompletionItem(n,i);if(o){const t=this.p2m.asCompletionItem(o,e.range);Object.assign(e,t)}return e}:void 0}}registerHoverProvider(e,t){const i=this.createHoverProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerHoverProvider(o,i));return n}createHoverProvider(e,t){return{provideHover:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentPositionParams(i,n),s=await t.provideHover(r,o);return s&&this.p2m.asHover(s)}}}registerSignatureHelpProvider(e,t,...i){const n=this.createSignatureHelpProvider(e,t,...i),o=new QK;for(const r of this.matchLanguage(e))o.push(this._monaco.languages.registerSignatureHelpProvider(r,n));return o}createSignatureHelpProvider(e,t,...i){return{signatureHelpTriggerCharacters:[...t.triggerCharacters||i||[]],signatureHelpRetriggerCharacters:t.retriggerCharacters,provideSignatureHelp:async(i,n,o,r)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const s=this.m2p.asTextDocumentPositionParams(i,n),a=await t.provideSignatureHelp(s,o,this.m2p.asSignatureHelpContext(r));return a&&this.p2m.asSignatureHelpResult(a)}}}registerDefinitionProvider(e,t){const i=this.createDefinitionProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerDefinitionProvider(o,i));return n}createDefinitionProvider(e,t){return{provideDefinition:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentPositionParams(i,n),s=await t.provideDefinition(r,o);return s&&this.p2m.asDefinitionResult(s)}}}registerReferenceProvider(e,t){const i=this.createReferenceProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerReferenceProvider(o,i));return n}createReferenceProvider(e,t){return{provideReferences:async(i,n,o,r)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const s=this.m2p.asReferenceParams(i,n,o),a=await t.provideReferences(s,r);return a&&this.p2m.asReferences(a)}}}registerDocumentHighlightProvider(e,t){const i=this.createDocumentHighlightProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerDocumentHighlightProvider(o,i));return n}createDocumentHighlightProvider(e,t){return{provideDocumentHighlights:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentPositionParams(i,n),s=await t.provideDocumentHighlights(r,o);return s&&this.p2m.asDocumentHighlights(s)}}}registerDocumentSymbolProvider(e,t){const i=this.createDocumentSymbolProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerDocumentSymbolProvider(o,i));return n}createDocumentSymbolProvider(e,t){return{provideDocumentSymbols:async(i,n)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const o=this.m2p.asDocumentSymbolParams(i),r=await t.provideDocumentSymbols(o,n);return r&&this.p2m.asDocumentSymbols(r)}}}registerCodeActionsProvider(e,t){const i=this.createCodeActionProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerCodeActionProvider(o,i));return n}createCodeActionProvider(e,t){return{provideCodeActions:async(i,n,o,r)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const s=this.m2p.asCodeActionParams(i,n,o),a=await t.provideCodeActions(s,r);return a&&this.p2m.asCodeActionList(a)||void 0}}}registerCodeLensProvider(e,t){const i=this.createCodeLensProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerCodeLensProvider(o,i));return n}createCodeLensProvider(e,t){return{provideCodeLenses:async(i,n)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const o=this.m2p.asCodeLensParams(i),r=await t.provideCodeLenses(o,n);return r&&this.p2m.asCodeLensList(r)},resolveCodeLens:t.resolveCodeLens?async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return n;const r=this.m2p.asCodeLens(n),s=await t.resolveCodeLens(r,o);if(s){const e=this.p2m.asCodeLens(s);Object.assign(n,e)}return n}:(e,t)=>t}}registerDocumentFormattingEditProvider(e,t){const i=this.createDocumentFormattingEditProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerDocumentFormattingEditProvider(o,i));return n}createDocumentFormattingEditProvider(e,t){return{provideDocumentFormattingEdits:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asDocumentFormattingParams(i,n),s=await t.provideDocumentFormattingEdits(r,o);return s&&this.p2m.asTextEdits(s)}}}registerDocumentRangeFormattingEditProvider(e,t){const i=this.createDocumentRangeFormattingEditProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerDocumentRangeFormattingEditProvider(o,i));return n}createDocumentRangeFormattingEditProvider(e,t){return{provideDocumentRangeFormattingEdits:async(i,n,o,r)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const s=this.m2p.asDocumentRangeFormattingParams(i,n,o),a=await t.provideDocumentRangeFormattingEdits(s,r);return a&&this.p2m.asTextEdits(a)}}}registerOnTypeFormattingEditProvider(e,t,i,...n){const o=this.createOnTypeFormattingEditProvider(e,t,i,...n),r=new QK;for(const s of this.matchLanguage(e))r.push(this._monaco.languages.registerOnTypeFormattingEditProvider(s,o));return r}createOnTypeFormattingEditProvider(e,t,i,...n){return{autoFormatTriggerCharacters:[i].concat(n),provideOnTypeFormattingEdits:async(i,n,o,r,s)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const a=this.m2p.asDocumentOnTypeFormattingParams(i,n,o,r),l=await t.provideOnTypeFormattingEdits(a,s);return l&&this.p2m.asTextEdits(l)}}}registerRenameProvider(e,t){const i=this.createRenameProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerRenameProvider(o,i));return n}createRenameProvider(e,t){return{provideRenameEdits:async(i,n,o,r)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const s=this.m2p.asRenameParams(i,n,o),a=await t.provideRenameEdits(s,r);return a&&this.p2m.asWorkspaceEdit(a)}}}registerDocumentLinkProvider(e,t){const i=this.createDocumentLinkProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerLinkProvider(o,i));return n}createDocumentLinkProvider(e,t){return{provideLinks:async(i,n)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const o=this.m2p.asDocumentLinkParams(i),r=await t.provideDocumentLinks(o,n);return r&&this.p2m.asDocumentLinks(r)},resolveLink:async(e,i)=>{if(t.resolveDocumentLink&&(null===e.url||void 0===e.url)){const n=this.m2p.asDocumentLink(e),o=await t.resolveDocumentLink(n,i);if(o){const t=this.p2m.asDocumentLink(o);Object.assign(e,t)}}return e}}}registerImplementationProvider(e,t){const i=this.createImplementationProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerImplementationProvider(o,i));return n}createImplementationProvider(e,t){return{provideImplementation:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentPositionParams(i,n),s=await t.provideImplementation(r,o);return s&&this.p2m.asDefinitionResult(s)}}}registerTypeDefinitionProvider(e,t){const i=this.createTypeDefinitionProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerTypeDefinitionProvider(o,i));return n}createTypeDefinitionProvider(e,t){return{provideTypeDefinition:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentPositionParams(i,n),s=await t.provideTypeDefinition(r,o);return s&&this.p2m.asDefinitionResult(s)}}}registerColorProvider(e,t){const i=this.createDocumentColorProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerColorProvider(o,i));return n}createDocumentColorProvider(e,t){return{provideDocumentColors:async(i,n)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;console.log(i,n);const o=this.m2p.asTextDocumentIdentifier(i),r=await t.provideDocumentColors({textDocument:o},n);return r&&this.p2m.asColorInformations(r)},provideColorPresentations:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentIdentifier(i),s=this.m2p.asRange(n.range),a=await t.provideColorPresentations({textDocument:r,color:n.color,range:s},o);return a&&this.p2m.asColorPresentations(a)}}}registerFoldingRangeProvider(e,t){const i=this.createFoldingRangeProvider(e,t),n=new QK;for(const o of this.matchLanguage(e))n.push(this._monaco.languages.registerFoldingRangeProvider(o,i));return n}createFoldingRangeProvider(e,t){return{provideFoldingRanges:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentIdentifier(i),s=await t.provideFoldingRanges({textDocument:r},o);return s&&this.p2m.asFoldingRanges(s)}}}registerDocumentSemanticTokensProvider(e,t,i){const n=this.createSemanticTokensProvider(e,t,i),o=new QK;for(const r of this.matchLanguage(e))o.push(this._monaco.languages.registerDocumentSemanticTokensProvider(r,n));return o}createSemanticTokensProvider(e,t,i){return{getLegend:()=>i,provideDocumentSemanticTokens:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentIdentifier(i),s=await t.provideDocumentSemanticTokens({textDocument:r},o);return s&&this.p2m.asSemanticTokens(s)},releaseDocumentSemanticTokens:e=>{}}}registerDocumentRangeSemanticTokensProvider(e,t,i){const n=this.createRangeSemanticTokensProvider(e,t,i),o=new QK;for(const r of this.matchLanguage(e))o.push(this._monaco.languages.registerDocumentRangeSemanticTokensProvider(r,n));return o}createRangeSemanticTokensProvider(e,t,i){return{getLegend:()=>i,provideDocumentRangeSemanticTokens:async(i,n,o)=>{if(!this.matchModel(e,ZK.fromModel(i)))return;const r=this.m2p.asTextDocumentIdentifier(i),s=await t.provideDocumentRangeSemanticTokens({textDocument:r,range:this.m2p.asRange(n)},o);return s&&this.p2m.asSemanticTokens(s)}}}matchModel(e,t){return Array.isArray(e)?e.some((e=>this.matchModel(e,t))):n.DocumentFilter.is(e)?(!e.language||e.language===t.languageId)&&((!e.scheme||e.scheme===t.uri.scheme)&&(!e.pattern||(e.pattern,t.uri.path,!1))):e===t.languageId}matchLanguage(e){const t=new Set;if(Array.isArray(e))for(const i of e)t.add(this.matchLanguageByFilter(i));else t.add(this.matchLanguageByFilter(e));return t}matchLanguageByFilter(e){return n.DocumentFilter.is(e)?e.language?e.language:"*":e}}async function nU(){return await d((()=>import("./monaco.all.343969ca.js")),["assets/monaco.all.343969ca.js","assets/monaco.all.d86f4376.css","assets/parser.d5d33482.js","assets/lsp.289540be.js","assets/vsc.14d9df5d.js"]),d((()=>import("./monaco.export.fef4e1d5.js")),["assets/monaco.export.fef4e1d5.js","assets/parser.d5d33482.js","assets/lsp.289540be.js","assets/vsc.14d9df5d.js"])}function oU(e,t){return e.editor.create(document.querySelector("#editor"),{peekWidgetDefaultFocus:"tree",theme:"OneDark",automaticLayout:!0,model:t,codeActionsOnSaveTimeout:1e3,"semanticHighlighting.enabled":!0,useShadowDOM:!0,glyphMargin:!0,lightbulb:{enabled:!0},suggest:{showWords:!0,showStatusBar:!0,showClasses:!0,showColors:!0,showConstants:!0,shareSuggestSelections:!0,showConstructors:!0,showDeprecated:!0,showEnums:!0,showEnumMembers:!0,showEvents:!0,showFields:!0,showSnippets:!0,preview:!0,localityBonus:!0,previewMode:"prefix"},inlineSuggest:{enabled:!0,mode:"prefix"},wordBasedSuggestions:!1})}!async function(){const e="advscript",t=await nU(),{monaco:i}=t;PK(i,0,(async()=>({}))).then((async t=>{const{startClient:n,startClientService:o}=await d((()=>import("./startClient.563be502.js")),["assets/startClient.563be502.js","assets/parser.d5d33482.js","assets/lsp.289540be.js","assets/vsc.14d9df5d.js"]);await o(i);const r=i.editor.createModel("Title: 小城之春\r\nAuthor: 李天济\r\nCredit:\r\nSource: 内容节选整理自费穆导演1948年作品《小城之春》\r\nCharacters:\r\n - 周玉纹 (独白, 旁白, 旁白继续)\r\n - 老黄\r\n - 戴礼言\r\n---\r\n\r\n.外景 城墙 - 日\r\n\r\n周玉纹一个人挎着菜篮子慢慢地走在颓败的城墙上。\r\n\r\n@周玉纹 (独白)\r\n住在一个小城里边，每天过着没有变化的日子。早晨买完了菜，总喜欢到城墙上走一趟，这在我已经成了习惯。人在城头上走着，就好像离开了这个世界，眼睛里不看见什么，心里也不想着什么。要不是手里拿着菜篮子，跟我先生生病吃的药，也许就整天不回家了。\r\n\r\n.外景 小巷 - 日\r\n\r\n一条江南小巷。有小桥。有春花。\r\n\r\n@周玉纹 (旁白)\r\n家在一个小巷里，经过一条小桥，就是我们家的后门。\r\n\r\n老黄倒药渣，关门返回。\r\n\r\n@周玉纹 (旁白继续)\r\n现在家里只有一个佣人。老黄总把药罐里的药渣倒在后门口，这是老黄的迷信。我们戴家一大半的房子给炮火毁了，正房不能住人。\r\n\r\n> 略 <\r\n\r\n.外景 后花园 - 日\r\n\r\n老黄四处寻找戴礼言，发现戴礼言一人坐在颓倒的矮墙上。\r\n\r\n@老黄\r\n少爷，您又一早到这个园子里来了。\r\n\r\n老黄把围巾递给戴礼言。戴礼言接过围巾，但没有戴。\r\n\r\n@老黄\r\n您忘了戴围巾，不冷吗？\r\n\r\n@戴礼言\r\n(没有看老黄)\r\n春天了。\r\n\r\n@老黄\r\n早晨还是挺冷的。\r\n\r\n@戴礼言\r\n不冷。\r\n\r\n@老黄\r\n春天了，您的身体应该好一点了。\r\n\r\n@戴礼言\r\n我的身体，怕跟这房子一样，坏得不能够收拾了。\r\n\r\n@老黄\r\n您应该多保养，您的心放宽一点，这房子慢慢还不是可以收拾嘛。谁叫打了这八年仗呢。现在不是太平了吗？\r\n\r\n@戴礼言\r\n(不屑的)\r\n太平？哼。\r\n\r\n@老黄\r\n今天的药方还改吗？\r\n\r\n@戴礼言\r\n不改，我想少奶奶会给我带药回来的。\r\n\r\n@老黄\r\n是，她买菜去了。\r\n\r\n@戴礼言\r\n妹妹上学去了么？\r\n\r\n@老黄\r\n嗯？小姐？还没有呢。\r\n\r\n@戴礼言\r\n哦。\r\n\r\n> 略 <\r\n",e,i.Uri.file("./main.avs"));i.editor.colorizeModelLine;const s=oU(i,r);t.injectCSS(s),globalThis.app=s,globalThis.refresh=async()=>{globalThis.app.dispose();const{monaco:e}=await nU();globalThis.app=null,globalThis.app=oU(e,r),t.injectCSS(globalThis.app)}}))}();export{Bi as $,Hn as A,Vn as B,NE as C,QK as D,s_ as E,kE as F,bt as G,yr as H,wf as I,n_ as J,tn as K,fr as L,iU as M,kT as N,Vu as O,XK as P,Ct as Q,Rz as R,zK as S,dE as T,Hz as U,cE as V,hu as W,Ln as X,gi as Y,Ic as Z,d as _,ZK as a,Tc as a$,IT as a0,$g as a1,zg as a2,Ug as a3,XN as a4,cd as a5,yi as a6,di as a7,ui as a8,Pg as a9,li as aA,jr as aB,zl as aC,$B as aD,ET as aE,ym as aF,du as aG,t_ as aH,Vf as aI,Sm as aJ,Qm as aK,ya as aL,ru as aM,ld as aN,pr as aO,nW as aP,Uh as aQ,kl as aR,is as aS,mi as aT,oW as aU,Ck as aV,TS as aW,OW as aX,ca as aY,ra as aZ,qV as a_,r_ as aa,c_ as ab,ky as ac,Nv as ad,Sy as ae,Dy as af,Di as ag,Qr as ah,yT as ai,JT as aj,hi as ak,Rv as al,Fs as am,Fv as an,tS as ao,WS as ap,Rc as aq,VS as ar,Ti as as,R_ as at,vs as au,ps as av,B_ as aw,P_ as ax,cI as ay,hr as az,JK as b,HM as b$,Yu as b0,$s as b1,Us as b2,ii as b3,Jr as b4,wi as b5,QN as b6,md as b7,Ph as b8,JC as b9,ma as bA,e_ as bB,oa as bC,Pv as bD,Qv as bE,QD as bF,Jy as bG,dy as bH,hy as bI,fs as bJ,sT as bK,ds as bL,da as bM,ha as bN,zW as bO,Ul as bP,Sl as bQ,bi as bR,Hl as bS,Ha as bT,ss as bU,Bl as bV,Wl as bW,Ed as bX,iR as bY,CV as bZ,BW as b_,vt as ba,Wv as bb,oN as bc,IN as bd,Au as be,ew as bf,HW as bg,Iu as bh,qN as bi,Js as bj,Ys as bk,Mv as bl,na as bm,Qs as bn,F_ as bo,ea as bp,Pr as bq,nT as br,Jv as bs,oT as bt,va as bu,ft as bv,_t as bw,Mf as bx,Dt as by,Hv as bz,Vz as c,ZD as c$,jl as c0,nM as c1,dV as c2,pM as c3,nw as c4,Id as c5,$h as c6,Ns as c7,QR as c8,Ai as c9,_s as cA,bs as cB,Hi as cC,XW as cD,fV as cE,Gl as cF,mV as cG,wa as cH,RN as cI,zr as cJ,SM as cK,cs as cL,Ml as cM,xu as cN,AA as cO,fu as cP,Cd as cQ,A_ as cR,ed as cS,gV as cT,Xg as cU,Bg as cV,Oa as cW,jB as cX,Ei as cY,$D as cZ,GD as c_,JR as ca,Kl as cb,HB as cc,Af as cd,mB as ce,dB as cf,Ci as cg,l_ as ch,od as ci,rd as cj,sd as ck,ad as cl,Zc as cm,bm as cn,g_ as co,JN as cp,qr as cq,$c as cr,xr as cs,cu as ct,YN as cu,Jx as cv,Ax as cw,br as cx,xS as cy,QC as cz,Wz as d,yD as d$,_m as d0,gy as d1,py as d2,ek as d3,qy as d4,jy as d5,Zy as d6,Gy as d7,Xy as d8,Zx as d9,_i as dA,ip as dB,Hc as dC,wl as dD,Dg as dE,Kg as dF,fM as dG,_M as dH,Ma as dI,iM as dJ,Vg as dK,kd as dL,Ua as dM,Ka as dN,ay as dO,WN as dP,kr as dQ,Os as dR,Ls as dS,Zl as dT,eN as dU,Vc as dV,nS as dW,rS as dX,iS as dY,CD as dZ,wD as d_,La as da,lT as db,Av as dc,qB as dd,Na as de,ug as df,b_ as dg,C_ as dh,ax as di,zc as dj,Xc as dk,zm as dl,za as dm,Cn as dn,bn as dp,_a as dq,Xh as dr,ND as ds,TD as dt,OD as du,FD as dv,Hf as dw,Hg as dx,Li as dy,Jc as dz,Kz as e,Ey as e$,uD as e0,cD as e1,my as e2,zR as e3,Ca as e4,zM as e5,cy as e6,oc as e7,Ql as e8,ns as e9,uC as eA,LE as eB,Pc as eC,oS as eD,fy as eE,Cy as eF,yy as eG,wy as eH,Cs as eI,lV as eJ,yS as eK,wS as eL,SS as eM,kS as eN,DS as eO,IS as eP,ly as eQ,sS as eR,AD as eS,Gr as eT,ia as eU,Rs as eV,Ts as eW,vy as eX,_y as eY,by as eZ,Iy as e_,Tr as ea,Lk as eb,xk as ec,yw as ed,oh as ee,Qa as ef,Ya as eg,Cp as eh,Np as ei,Ep as ej,Yt as ek,yp as el,Aa as em,vu as en,ES as eo,AS as ep,LS as eq,NS as er,wT as es,js as et,wt as eu,MD as ev,PD as ew,Hu as ex,sl as ey,Wg as ez,Cf as f,YM as f$,xy as f0,Ly as f1,Ay as f2,Ny as f3,hs as f4,dT as f5,xs as f6,h_ as f7,a_ as f8,fS as f9,Yr as fA,Ta as fB,Kd as fC,IE as fD,KE as fE,nd as fF,Xr as fG,pd as fH,Vl as fI,ql as fJ,BD as fK,RD as fL,RE as fM,id as fN,xv as fO,Kc as fP,Qc as fQ,su as fR,Fg as fS,yh as fT,kh as fU,Yc as fV,Pa as fW,Ba as fX,fd as fY,u_ as fZ,xm as f_,uy as fa,vd as fb,Gc as fc,iu as fd,eu as fe,Xl as ff,Jl as fg,Mu as fh,gd as fi,Lz as fj,_z as fk,yz as fl,hd as fm,kz as fn,Ez as fo,td as fp,fi as fq,HE as fr,ud as fs,FS as ft,OS as fu,qc as fv,BS as fw,PS as fx,RS as fy,MS as fz,d_ as g,bd as g0,$O as g1,GO as g2,PO as g3,WO as g4,IO as g5,bS as g6,CS as g7,Uc as g8,rN as g9,FF as gA,RF as gB,ZF as gC,MF as gD,kM as gE,Gf as gF,ev as gG,Nz as gH,Tz as gI,Oz as gJ,Fz as gK,Mz as gL,Pz as gM,Bz as gN,zz as gO,Ye as gP,lB as ga,lC as gb,si as gc,OE as gd,OI as ge,FE as gf,T_ as gg,Kf as gh,JW as gi,YT as gj,jf as gk,wd as gl,Sd as gm,Dd as gn,Wc as go,jV as gp,$f as gq,wm as gr,Cm as gs,Nk as gt,qf as gu,yn as gv,Ia as gw,Sa as gx,jc as gy,Yf as gz,zn as h,hV as i,it as j,Ev as k,Uz as l,jz as m,ZE as n,sy as o,CI as p,zv as q,p_ as r,qv as s,CK as t,wk as u,yk as v,Xv as w,Yv as x,Si as y,ts as z};
